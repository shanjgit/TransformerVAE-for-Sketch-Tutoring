/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./demos/predict.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./demos/predict.js":
/*!**************************!*\
  !*** ./demos/predict.js ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _src_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/index */ "./src/index.ts");
/* harmony import */ var _src_index__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_src_index__WEBPACK_IMPORTED_MODULE_0__);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
 /**
 * Author: David Ha <hadavid@google.com>
 *
 * @fileoverview Basic p5.js sketch to show how to use sketch-rnn
 * to finish a fixed incomplete drawings, and loop through multiple
 * endings automatically.
 */



const sketch = function(p) {
  // Available SketchRNN models.
  const BASE_URL = 'https://storage.googleapis.com/quickdraw-models/sketchRNN/models/';
  const availableModels = ['bird','ant','angel','bee','bicycle','flamingo','flower','mosquito','owl','spider','yoga'];
  let model;

  // Model state.
  let modelState; // Store the hidden states of rnn's neurons.
  let temperature = 0.25; // Controls the amount of uncertainty of the model.
  let modelLoaded = false;

  let dx, dy; // Offsets of the pen strokes, in pixels.
  let x, y; // Absolute coordinates on the screen of where the pen is.
  let pen = [0,0,0]; // Current pen state, [pen_down, pen_up, pen_end].
  let previousPen = [1, 0, 0]; // Previous pen state.
  const PEN = {DOWN: 0, UP: 1, END: 2};

  /*
   * Main p5 code
   */
  p.setup = function() {
    const containerSize = document.getElementById('sketch').getBoundingClientRect();
    // Initialize the canvas.
    const screenWidth = Math.floor(containerSize.width);
    const screenHeight = p.windowHeight / 2;
    p.createCanvas(screenWidth, screenHeight);
    p.frameRate(4);

    setupNewDrawing();
    initModel(0);
    initDOMElements();
  };

  p.draw = function() {
    if (!modelLoaded) {
      return;
    }

    // If we finished the previous drawing, start a new one.
    if (previousPen[PEN.END] === 1) {
      restart();
    }

    // New state.
    const pdf = model.getPDF(modelState, temperature);
    [dx, dy, ...pen] = model.sample(pdf);

    // Only draw on the paper if the pen is still touching the paper.
    if (previousPen[PEN.DOWN] == 1) {
      p.line(x, y, x+dx, y+dy); // Draw line connecting prev point to current point.
    }

    // Update the absolute coordinates from the offsets
    x += dx;
    y += dy;

    // Update the previous pen's state to the current one we just sampled.
    previousPen = pen;
    modelState = model.update([dx, dy, ...pen], modelState);
  };
   /*
   * Helpers.
   */
  function restart() {
    // Initial strokes that we will attempt to continue.
    const strokes = [[-4,0,1,0,0],[-15,9,1,0,0],[-10,17,1,0,0],[-1,28,1,0,0],[14,13,1,0,0],[12,4,1,0,0],[22,1,1,0,0],[14,-11,1,0,0],[5,-12,1,0,0],[2,-19,1,0,0],[-12,-23,1,0,0],[-13,-7,1,0,0],[-14,-1,0,1,0]];

    // Draw strokes.
    setupNewDrawing();
    const lastPoint = drawStrokes(strokes, x, y);

    // Encode the strokes in the model.
    let newState = model.zeroState();
    newState = model.update(model.zeroInput(), newState);
    newState = model.updateStrokes(strokes, newState);

    // Reset the actual model we're using to this one that has the encoded strokes.
    modelState = model.copyState(newState);

    // Reset the pen state.
    x = lastPoint[0];
    y = lastPoint[1];
    previousPen = [0, 1, 0];

    // Reset the line colour.
    p.stroke(p.color(p.random(64, 224), p.random(64, 224), p.random(64, 224)));
  };

  function setupNewDrawing() {
    p.background(255, 255, 255, 255);
    p.strokeWeight(3.0);
    x = p.width / 2.0;
    y = p.height / 3.0;
  }

  function initModel(index) {
    modelLoaded = false;
    if (model) {
      model.dispose();
    }
    model = new _src_index__WEBPACK_IMPORTED_MODULE_0__["SketchRNN"](`${BASE_URL}${availableModels[index]}.gen.json`);

    Promise.all([model.initialize()]).then(function() {
      modelLoaded = true;
      console.log('SketchRNN model loaded.');

      // Initialize the scale factor for the model. Bigger -> large outputs
      model.setPixelFactor(5.0);
      restart();
    });
  };

  // This is very similar to the p.draw() loop, but instead of
  // sampling from the model, it uses the given set of strokes.
  function drawStrokes(strokes, startX, startY) {
    p.stroke(p.color(255,0,0));

    let x = startX;
    let y = startY;
    let dx, dy;
    let pen = [0,0,0], previousPen = [0,0,0];
    for( let i = 0; i < strokes.length; i++) {
      [dx, dy, ...pen] = strokes[i];

      if (previousPen[PEN.END] == 1) { // End of drawing.
        break;
      }

      // Only draw on the paper if the pen is still touching the paper.
      if (previousPen[PEN.DOWN] == 1) {
        p.line(x, y, x+dx, y+dy);
      }
      x += dx;
      y += dy;
      previousPen = pen;
    }
    return [x, y]; // Final coordinates.
  };

  function initDOMElements() {
    // Setup the DOM bits.
    selectModels.innerHTML = availableModels.map(m => `<option>${m}</option>`).join('');
    selectModels.addEventListener('change', () => initModel(selectModels.selectedIndex));
    inputTemperature.addEventListener('change', () => {
      temperature = parseFloat(inputTemperature.value);
      textTemperature.textContent = temperature;
    });
    textTemperature.textContent = inputTemperature.value = temperature;
  }
};

new p5(sketch, 'sketch');


/***/ }),

/***/ "./node_modules/@tensorflow/tfjs-converter/dist/tf-converter.esm.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@tensorflow/tfjs-converter/dist/tf-converter.esm.js ***!
  \**************************************************************************/
/*! exports provided: GraphModel, loadGraphModel, deregisterOp, registerOp, version_converter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphModel", function() { return GraphModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadGraphModel", function() { return loadGraphModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deregisterOp", function() { return deregisterOp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "registerOp", function() { return registerOp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "version_converter", function() { return version; });
/* harmony import */ var _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tensorflow/tfjs-core */ "./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js");
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var DataType,SaverDef,__assign=function(){return(__assign=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function __awaiter(e,t,a,r){return new(a||(a=Promise))(function(n,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function p(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(o,p)}u((r=r.apply(e,t||[])).next())})}function __generator(e,t){var a,r,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:p(0),throw:p(1),return:p(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function p(s){return function(p){return function(s){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&s[0]?r.return:s[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,s[1])).done)return n;switch(r=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{a=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,p])}}}!function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF"}(DataType||(DataType={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(SaverDef||(SaverDef={}));var CUSTOM_OPS={};function registerOp(e,t){var a={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};CUSTOM_OPS[e]=a}function getRegisteredOp(e){return CUSTOM_OPS[e]}function deregisterOp(e){delete CUSTOM_OPS[e]}function getParamValue(e,t,a,r){var n=t.inputParams[e];if(n&&void 0!==n.inputIndexStart){var s=n.inputIndexStart,o=0===n.inputIndexEnd?void 0:void 0===n.inputIndexEnd?s+1:n.inputIndexEnd;if("tensor"===n.type)return getTensor(t.inputNames[n.inputIndexStart],a,r);if("tensors"===n.type)return t.inputNames.slice(s,o).map(function(e){return getTensor(e,a,r)});var p=Array.prototype.slice.call(getTensor(t.inputNames.slice(s)[0],a,r).dataSync());return"number"===n.type?p[0]:p}var u=t.attrParams[e];return u&&u.value}function getTensor(e,t,a){var r=parseNodeName(e),n=r[0],s=r[1],o=a.currentContextIds.find(function(e){return!!t[getNodeNameWithContextId(n,e)]});return void 0!==o?t[getNodeNameWithContextId(n,o)][s]:void 0}function getTensorsForCurrentContenxt(e,t,a){return t[getNodeNameWithContextId(e,a.currentContextId)]}function getNodeNameAndIndex(e,t){var a=parseNodeName(e),r=a[0],n=a[1];return[getNodeNameWithContextId(r,t&&t.currentContextId),n]}function getNodeNameWithContextId(e,t){return t?e+"-"+t:e}function parseNodeName(e){var t=e.lastIndexOf(":");return-1===t?[e,0]:[e.substring(0,t),Number(e.substring(t+1))]}function split$1(e,t){for(var a=[],r=0;r<e.length;r+=t)a.push(e.slice(r,r+t));return a}var json=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],arithmetic=Object.freeze({json:json}),json$1=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"clip_value_min",name:"clipValueMin",type:"number"},{tfName:"clip_value_max",name:"clipValueMax",type:"number"}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"clipValueMin",name:"clipValueMin",type:"number",defaultValue:0},{tfName:"clipValueMax",name:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],basicMath=Object.freeze({json:json$1}),json$2=[{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"}]}],control=Object.freeze({json:json$2}),json$3=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]}],convolution=Object.freeze({json:json$3}),json$4=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],creation=Object.freeze({json:json$4}),json$5=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],dynamic=Object.freeze({json:json$5}),json$6=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]}],evaluation=Object.freeze({json:json$6}),json$7=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],graph=Object.freeze({json:json$7}),json$8=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}],image$1=Object.freeze({json:json$8}),json$9=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],logical=Object.freeze({json:json$9}),json$10=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],matrices=Object.freeze({json:json$10}),json$11=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],normalization=Object.freeze({json:json$11}),json$12=[{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]}],reduction=Object.freeze({json:json$12}),json$13=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],sliceJoin=Object.freeze({json:json$13}),json$14=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],spectral=Object.freeze({json:json$14}),json$15=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]}],transformation=Object.freeze({json:json$15}),OperationMapper=function(){function e(){var e=[arithmetic,basicMath,control,convolution,creation,dynamic,evaluation,logical,image$1,graph,matrices,normalization,reduction,sliceJoin,spectral,transformation],t=[].concat.apply([],e.map(function(e){return e.json}));this.opMappers=t.reduce(function(e,t){return e[t.tfOpName]=t,e},{})}return Object.defineProperty(e,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),e.prototype.transformGraph=function(e,t){var a=this;void 0===t&&(t={});var r=[],n=[],s=e.node.reduce(function(e,t){return e[t.name]=a.mapNode(t),t.op.startsWith("Placeholder")&&r.push(e[t.name]),"Const"===t.op&&n.push(e[t.name]),e},{}),o=[],p=[],u={},i={};null!=t&&(u=this.mapSignatureEntries(t.inputs),i=this.mapSignatureEntries(t.outputs));var m=Object.keys(s);return m.forEach(function(e){var t=s[e];t.inputNames.forEach(function(e){var a=getNodeNameAndIndex(e)[0];t.inputs.push(s[a]),s[a].children.push(t)})}),0===Object.keys(i).length?m.forEach(function(e){var t=s[e];0===t.children.length&&p.push(t)}):Object.keys(i).forEach(function(e){var t=getNodeNameAndIndex(e)[0],a=s[t];null!=a&&(a.signatureKey=i[e],p.push(a))}),Object.keys(u).length>0?Object.keys(u).forEach(function(e){var t=getNodeNameAndIndex(e)[0],a=s[t];a&&(a.signatureKey=u[e],o.push(a))}):o=r,{nodes:s,inputs:o,outputs:p,weights:n,placeholders:r,signature:t}},e.prototype.mapSignatureEntries=function(e){return Object.keys(e||{}).reduce(function(t,a){return t[e[a].name]=a,t},{})},e.prototype.mapNode=function(e){var t=getRegisteredOp(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var a={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map(function(e){return e.startsWith("^")?e.substr(1):e}),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr};return null!=t.inputs&&(a.inputParams=t.inputs.reduce(function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e},{})),null!=t.attrs&&(a.attrParams=t.attrs.reduce(function(t,a){var r=a.type,n=void 0;switch(a.type){case"string":void 0===(n=getStringParam(e.attr,a.tfName,a.defaultValue))&&a.tfDeprecatedName&&(n=getStringParam(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"string[]":void 0===(n=getStringArrayParam(e.attr,a.tfName,a.defaultValue))&&a.tfDeprecatedName&&(n=getStringArrayParam(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"number":void 0===(n=getNumberParam(e.attr,a.tfName,a.defaultValue||0))&&a.tfDeprecatedName&&(n=getNumberParam(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"number[]":void 0===(n=getNumericArrayParam(e.attr,a.tfName,a.defaultValue))&&a.tfDeprecatedName&&(n=getNumericArrayParam(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool":void 0===(n=getBoolParam(e.attr,a.tfName,a.defaultValue))&&a.tfDeprecatedName&&(n=getBoolParam(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool[]":void 0===(n=getBoolArrayParam(e.attr,a.tfName,a.defaultValue))&&a.tfDeprecatedName&&(n=getBoolArrayParam(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape":void 0===(n=getTensorShapeParam(e.attr,a.tfName,a.defaultValue))&&a.tfDeprecatedName&&(n=getTensorShapeParam(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape[]":void 0===(n=getTensorShapeArrayParam(e.attr,a.tfName,a.defaultValue))&&a.tfDeprecatedName&&(n=getTensorShapeArrayParam(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype":void 0===(n=getDtypeParam(e.attr,a.tfName,a.defaultValue))&&a.tfDeprecatedName&&(n=getDtypeParam(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype[]":void 0===(n=getDtypeArrayParam(e.attr,a.tfName,a.defaultValue))&&a.tfDeprecatedName&&(n=getDtypeArrayParam(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+a.type+" for op: "+e.op)}return t[a.name]={value:n,type:r},t},{})),a},e}();function decodeBase64(e){var t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["env"])().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function parseStringParam(e,t){var a=Array.isArray(e)?String.fromCharCode.apply(null,e):decodeBase64(e);return t?a:a.toLowerCase()}function getStringParam(e,t,a,r){void 0===r&&(r=!1);var n=e[t];return null!=n?parseStringParam(n.s,r):a}function getBoolParam(e,t,a){var r=e[t];return r?r.b:a}function getNumberParam(e,t,a){var r=e[t]||{},n=null!=r.i?r.i:null!=r.f?r.f:a;return"number"==typeof n?n:parseInt(n,10)}function parseDtypeParam(e){switch("string"==typeof e&&(e=DataType[e]),e){case DataType.DT_FLOAT:return"float32";case DataType.DT_INT32:case DataType.DT_INT64:case DataType.DT_INT8:case DataType.DT_UINT8:return"int32";case DataType.DT_BOOL:return"bool";case DataType.DT_DOUBLE:return"float32";case DataType.DT_STRING:return"string";default:return null}}function getDtypeParam(e,t,a){var r=e[t];return r&&r.type?parseDtypeParam(r.type):a}function getDtypeArrayParam(e,t,a){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map(function(e){return parseDtypeParam(e)}):a}function parseTensorShapeParam(e){if(!e.unknownRank)return null!=e.dim?e.dim.map(function(e){return"number"==typeof e.size?e.size:parseInt(e.size,10)}):[]}function getTensorShapeParam(e,t,a){var r=e[t];return r&&r.shape?parseTensorShapeParam(r.shape):a}function getNumericArrayParam(e,t,a){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(function(e){return"number"==typeof e?e:parseInt(e,10)}):a}function getStringArrayParam(e,t,a,r){void 0===r&&(r=!1);var n=e[t];return n&&n.list&&n.list.s?n.list.s.map(function(e){return parseStringParam(e,r)}):a}function getTensorShapeArrayParam(e,t,a){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map(function(e){return parseTensorShapeParam(e)}):a}function getBoolArrayParam(e,t,a){var r=e[t];return r&&r.list&&r.list.b?r.list.b:a}var NodeValueImpl=function(){function e(e,t,a){var r=this;this.node=e,this.tensorMap=t,this.context=a,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(function(e){return r.getInput(e)}),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(function(e,t){return e[t]=r.getAttr(t),e},{}))}return e.prototype.getInput=function(e){return getTensor(e,this.tensorMap,this.context)},e.prototype.getAttr=function(e,t){var a=this.node.rawAttrs[e];if(null!=a.tensor)return getTensor(e,this.tensorMap,this.context);if(null!=a.i||null!=a.f)return getNumberParam(this.node.rawAttrs,e,t);if(null!=a.s)return getStringParam(this.node.rawAttrs,e,t);if(null!=a.b)return getBoolParam(this.node.rawAttrs,e,t);if(null!=a.shape)return getTensorShapeParam(this.node.rawAttrs,e,t);if(null!=a.type)return getDtypeParam(this.node.rawAttrs,e,t);if(null!=a.list){if(null!=a.list.i||null!=a.list.f)return getNumericArrayParam(this.node.rawAttrs,e,t);if(null!=a.list.s)return getStringArrayParam(this.node.rawAttrs,e,t);if(null!=a.list.shape)return getTensorShapeArrayParam(this.node.rawAttrs,e,t);if(null!=a.list.b)return getBoolArrayParam(this.node.rawAttrs,e,t);if(null!=a.list.type)return getDtypeArrayParam(this.node.rawAttrs,e,t)}return t},e}(),executeOp=function(e,t,a){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"AddN":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["addN"])(getParamValue("tensors",e,t,a))];case"FloorMod":case"Mod":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mod"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"Mul":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"RealDiv":case"Div":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"DivNoNan":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["divNoNan"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"FloorDiv":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["floorDiv"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"Sub":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"Minimum":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["minimum"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"Maximum":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maximum"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"Pow":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["pow"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"SquaredDifference":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["squaredDifference"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$1=function(e,t,a){switch(e.op){case"Abs":case"ComplexAbs":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["abs"])(getParamValue("x",e,t,a))];case"Acos":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["acos"])(getParamValue("x",e,t,a))];case"Acosh":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["acosh"])(getParamValue("x",e,t,a))];case"Asin":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["asin"])(getParamValue("x",e,t,a))];case"Asinh":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["asinh"])(getParamValue("x",e,t,a))];case"Atan":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["atan"])(getParamValue("x",e,t,a))];case"Atan2":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["atan2"])(getParamValue("x",e,t,a),getParamValue("y",e,t,a))];case"Atanh":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["atanh"])(getParamValue("x",e,t,a))];case"Ceil":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["ceil"])(getParamValue("x",e,t,a))];case"Complex":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["complex"])(getParamValue("real",e,t,a),getParamValue("imag",e,t,a))];case"Cos":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["cos"])(getParamValue("x",e,t,a))];case"Cosh":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["cosh"])(getParamValue("x",e,t,a))];case"Elu":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["elu"])(getParamValue("x",e,t,a))];case"Erf":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["erf"])(getParamValue("x",e,t,a))];case"Exp":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["exp"])(getParamValue("x",e,t,a))];case"Expm1":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["expm1"])(getParamValue("x",e,t,a))];case"Floor":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["floor"])(getParamValue("x",e,t,a))];case"Log":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["log"])(getParamValue("x",e,t,a))];case"Log1p":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["log1p"])(getParamValue("x",e,t,a))];case"Imag":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["imag"])(getParamValue("x",e,t,a))];case"Neg":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["neg"])(getParamValue("x",e,t,a))];case"Reciprocal":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reciprocal"])(getParamValue("x",e,t,a))];case"Real":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["real"])(getParamValue("x",e,t,a))];case"Relu":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["relu"])(getParamValue("x",e,t,a))];case"Round":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["round"])(getParamValue("x",e,t,a))];case"Selu":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["selu"])(getParamValue("x",e,t,a))];case"Sigmoid":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sigmoid"])(getParamValue("x",e,t,a))];case"Sin":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sin"])(getParamValue("x",e,t,a))];case"Sign":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sign"])(getParamValue("x",e,t,a))];case"Sinh":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sinh"])(getParamValue("x",e,t,a))];case"Softplus":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["softplus"])(getParamValue("x",e,t,a))];case"Sqrt":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sqrt"])(getParamValue("x",e,t,a))];case"Square":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["square"])(getParamValue("x",e,t,a))];case"Tanh":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tanh"])(getParamValue("x",e,t,a))];case"Tan":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tan"])(getParamValue("x",e,t,a))];case"Relu6":case"ClipByValue":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(getParamValue("x",e,t,a),getParamValue("clipValueMin",e,t,a),getParamValue("clipValueMax",e,t,a))];case"Rsqrt":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["rsqrt"])(getTensor(e.inputNames[0],t,a))];case"Prod":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["prod"])(getParamValue("x",e,t,a),getParamValue("axes",e,t,a))];case"LeakyRelu":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["leakyRelu"])(getParamValue("x",e,t,a),getParamValue("alpha",e,t,a))];case"Prelu":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["prelu"])(getParamValue("x",e,t,a),getParamValue("alpha",e,t,a))];default:throw TypeError("Node type "+e.op+" is not implemented")}},TensorArray=function(){function e(t,a,r,n,s,o,p){this.name=t,this.dtype=a,this.maxSize=r,this.elementShape=n,this.identicalElementShapes=s,this.dynamicSize=o,this.clearAfterRead=p,this.tensors=[],this.closed_=!1,this.id=e.nextId++}return Object.defineProperty(e.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),e.prototype.clearAndClose=function(){this.tensors.forEach(function(e){return e.tensor.dispose()}),this.tensors=[],this.closed_=!0},e.prototype.size=function(){return this.tensors.length},e.prototype.read=function(e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||e>=this.tensors.length)throw new Error("Tried to read from index "+e+", but array size is: "+this.tensors.length);var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+e+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor},e.prototype.readMany=function(e){var t=this;return e.map(function(e){return t.read(e)})},e.prototype.write=function(e,t){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index "+e+", but array is not resizeable and size is: "+this.maxSize);var a=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+",\n          because the value dtype is "+t.dtype+", but TensorArray dtype is "+this.dtype+".");if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),this.assertShapesMatchAllowUndefinedSize(this.elementShape,t.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+e+"."),a&&a.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been read.");if(a&&a.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been written.");a.tensor=t,a.written=!0,this.tensors[e]=a},e.prototype.writeMany=function(e,t){var a=this;if(e.length!==t.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,because the index size: "+e.length+" is not the same as tensors size: "+t.length+".");e.forEach(function(e,r){return a.write(e,t[r])})},e.prototype.gather=function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+t);if(!e){e=[];for(var a=0;a<this.size();a++)e.push(a)}if(0===e.length)return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor"])([],[0].concat(this.elementShape));var r=this.readMany(e);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["stack"])(r,0)},e.prototype.concat=function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+e);if(0===this.size())return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor"])([],[0].concat(this.elementShape));for(var t=[],a=0;a<this.size();a++)t.push(a);var r=this.readMany(t);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+r[0].shape+")"),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat"])(r,0)},e.prototype.scatter=function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+t.shape[0]);var a=Math.max.apply(Math,e);if(!this.dynamicSize&&a>=this.maxSize)throw new Error("Max index must be < array size ("+a+"  vs. "+this.maxSize+")");this.writeMany(e,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["unstack"])(t,0))},e.prototype.split=function(e,t){var a=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);var r=0,n=e.map(function(e){return r+=e});if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+r+", and tensor's shape is: "+t.shape);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+e.length+"), and the TensorArray is not marked as dynamically resizeable");var s=0===r?0:t.size/r,o=[];Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){t=t.reshape([1,r,s]);for(var p=0;p<e.length;++p){var u=[0,0===p?0:n[p-1],0],i=[1,e[p],s];o[p]=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice"])(t,u,i).reshape(a.elementShape)}return o});for(var p=[],u=0;u<e.length;u++)p[u]=u;this.writeMany(p,o)},e.prototype.assertShapesMatchAllowUndefinedSize=function(e,t,a){void 0===a&&(a=""),_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(this.shapesEqualAllowUndefinedSize(e,t),function(){return a+" Shapes "+e+" and "+t+" must match"})},e.prototype.shapesEqualAllowUndefinedSize=function(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(-1!==e[a]&&-1!==t[a]&&e[a]!==t[a])return!1;return!0},e.nextId=0,e}(),_this=void 0,executeOp$2=function(e,t,a){return __awaiter(_this,void 0,void 0,function(){var r,n,s,o,p,u,i,m,l,c,d,y,f,g,h,N,x,V,b,P,T,v,O,S,_,w,A,D,E,I,M,C,k,z,F;return __generator(this,function(j){switch(j.label){case 0:switch(e.op){case"LoopCond":return[3,1];case"Switch":return[3,2];case"Merge":return[3,4];case"Enter":return[3,5];case"Exit":return[3,6];case"NextIteration":return[3,7];case"TensorArrayV3":return[3,8];case"TensorArrayWriteV3":return[3,9];case"TensorArrayReadV3":return[3,10];case"TensorArrayGatherV3":return[3,11];case"TensorArrayScatterV3":return[3,12];case"TensorArrayConcatV3":return[3,13];case"TensorArraySplitV3":return[3,14];case"TensorArraySizeV3":return[3,15];case"TensorArrayCloseV3":return[3,16]}return[3,17];case 1:return[2,[getParamValue("pred",e,t,a).clone()]];case 2:return r=getParamValue("pred",e,t,a),n=getParamValue("data",e,t,a),[4,r.data()];case 3:return[2,j.sent()[0]?[void 0,n.clone()]:[n.clone(),void 0]];case 4:return[2,(s=e.inputNames.find(function(e){return void 0!==getTensor(e,t,a)}))?[getTensor(s,t,a).clone()]:void 0];case 5:return o=getParamValue("frameName",e,t,a),p=getParamValue("tensor",e,t,a),a.enterFrame(o),[2,[p.clone()]];case 6:return u=getParamValue("tensor",e,t,a),a.exitFrame(),[2,[u.clone()]];case 7:return i=getParamValue("tensor",e,t,a),a.nextIteration(),[2,[i.clone()]];case 8:return m=getParamValue("size",e,t,a),l=getParamValue("dtype",e,t,a),c=getParamValue("elementShape",e,t,a),d=getParamValue("dynamicSize",e,t,a),y=getParamValue("clearAfterRead",e,t,a),f=getParamValue("identicalElementShapes",e,t,a),g=getParamValue("name",e,t,a),h=new TensorArray(g,l,m,c,f,d,y),a.addTensorArray(h),[2,[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(h.id),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(1)]];case 9:return N=getParamValue("tensorArrayId",e,t,a),x=getParamValue("index",e,t,a),V=getParamValue("tensor",e,t,a),a.getTensorArray(N).write(x,V),[2,[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(1)]];case 10:return b=getParamValue("tensorArrayId",e,t,a),P=getParamValue("index",e,t,a),[2,[a.getTensorArray(b).read(P)]];case 11:return T=getParamValue("tensorArrayId",e,t,a),v=getParamValue("indices",e,t,a),O=getParamValue("dtype",e,t,a),[2,[a.getTensorArray(T).gather(v,O)]];case 12:return S=getParamValue("tensorArrayId",e,t,a),_=getParamValue("indices",e,t,a),w=getParamValue("tensor",e,t,a),a.getTensorArray(S).scatter(_,w),[2,[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(1)]];case 13:return A=getParamValue("tensorArrayId",e,t,a),D=a.getTensorArray(A),E=getParamValue("dtype",e,t,a),[2,[D.concat(E)]];case 14:return I=getParamValue("tensorArrayId",e,t,a),M=getParamValue("tensor",e,t,a),C=getParamValue("lengths",e,t,a),a.getTensorArray(I).split(C,M),[2,[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(1)]];case 15:return k=getParamValue("tensorArrayId",e,t,a),z=a.getTensorArray(k),[2,[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(z.size(),"int32")]];case 16:return F=getParamValue("tensorArrayId",e,t,a),a.getTensorArray(F).clearAndClose(),[2,[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(0)]];case 17:throw TypeError("Node type "+e.op+" is not implemented")}})})},executeOp$3=function(e,t,a){switch(e.op){case"Conv1D":var r=getParamValue("stride",e,t,a),n=getParamValue("pad",e,t,a),s=getParamValue("dataFormat",e,t,a).toUpperCase(),o=getParamValue("dilation",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv1d"])(getParamValue("x",e,t,a),getParamValue("filter",e,t,a),r,n,s,o)];case"Conv2D":r=getParamValue("strides",e,t,a),n=getParamValue("pad",e,t,a),s=getParamValue("dataFormat",e,t,a).toUpperCase();var p=getParamValue("dilations",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv2d"])(getParamValue("x",e,t,a),getParamValue("filter",e,t,a),[r[1],r[2]],n,s,[p[1],p[2]])];case"_FusedConv2D":case"FusedDepthwiseConv2dNative":var u=getParamValue("fusedOps",e,t,a),i=u[0],m=u[1],l="biasadd"===i,c="prelu"===m,d="fusedbatchnorm"===i,y=getParamValue("numArgs",e,t,a);if(l){if(c&&2!==y)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!c&&1!==y)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(d)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported.");r=getParamValue("strides",e,t,a),n=getParamValue("pad",e,t,a),s=getParamValue("dataFormat",e,t,a).toUpperCase(),p=getParamValue("dilations",e,t,a);var f=getParamValue("args",e,t,a),g=f[0],h=f[1];return[("_FusedConv2D"===e.op?_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fused"].conv2d:_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fused"].depthwiseConv2d)({x:getParamValue("x",e,t,a),filter:getParamValue("filter",e,t,a),strides:[r[1],r[2]],pad:n,dataFormat:s,dilations:[p[1],p[2]],bias:g,activation:m,preluActivationWeights:h})];case"Conv2DBackpropInput":case"Conv2dTranspose":var N=getParamValue("outputShape",e,t,a);r=getParamValue("strides",e,t,a),n=getParamValue("pad",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv2dTranspose"])(getParamValue("x",e,t,a),getParamValue("filter",e,t,a),N,[r[1],r[2]],n)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":r=getParamValue("strides",e,t,a),n=getParamValue("pad",e,t,a),p=getParamValue("dilations",e,t,a),s=getParamValue("dataFormat",e,t,a).toUpperCase();return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["depthwiseConv2d"])(getParamValue("input",e,t,a),getParamValue("filter",e,t,a),[r[1],r[2]],n,s,[p[1],p[2]])];case"Conv3D":r=getParamValue("strides",e,t,a),n=getParamValue("pad",e,t,a),s=getParamValue("dataFormat",e,t,a).toUpperCase(),p=getParamValue("dilations",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv3d"])(getParamValue("x",e,t,a),getParamValue("filter",e,t,a),[r[1],r[2],r[3]],n,s,[p[1],p[2],p[3]])];case"AvgPool":r=getParamValue("strides",e,t,a),n=getParamValue("pad",e,t,a);var x=getParamValue("kernelSize",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["avgPool"])(getParamValue("x",e,t,a),[x[1],x[2]],[r[1],r[2]],n)];case"MaxPool":r=getParamValue("strides",e,t,a),n=getParamValue("pad",e,t,a),x=getParamValue("kernelSize",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maxPool"])(getParamValue("x",e,t,a),[x[1],x[2]],[r[1],r[2]],n)];case"MaxPoolWithArgmax":r=getParamValue("strides",e,t,a),n=getParamValue("pad",e,t,a),x=getParamValue("kernelSize",e,t,a);var V=getParamValue("includeBatchInIndex",e,t,a),b=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maxPoolWithArgmax"])(getParamValue("x",e,t,a),[x[1],x[2]],[r[1],r[2]],n,V);return[b.result,b.indexes];case"AvgPool3D":r=getParamValue("strides",e,t,a),n=getParamValue("pad",e,t,a),x=getParamValue("kernelSize",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["avgPool3d"])(getParamValue("x",e,t,a),[x[1],x[2],x[3]],[r[1],r[2],r[3]],n)];case"MaxPool3D":r=getParamValue("strides",e,t,a),n=getParamValue("pad",e,t,a),x=getParamValue("kernelSize",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maxPool3d"])(getParamValue("x",e,t,a),[x[1],x[2],x[3]],[r[1],r[2],r[3]],n)];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$4=function(e,t,a){switch(e.op){case"Fill":var r=getParamValue("shape",e,t,a),n=getParamValue("dtype",e,t,a),s=getParamValue("value",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fill"])(r,s,n)];case"LinSpace":var o=getParamValue("start",e,t,a),p=getParamValue("stop",e,t,a),u=getParamValue("num",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["linspace"])(o,p,u)];case"Multinomial":var i=getParamValue("logits",e,t,a),m=getParamValue("numSamples",e,t,a),l=getParamValue("seed",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["multinomial"])(i,m,l)];case"OneHot":var c=getParamValue("indices",e,t,a),d=getParamValue("depth",e,t,a),y=getParamValue("onValue",e,t,a),f=getParamValue("offValue",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["oneHot"])(c,d,y,f)];case"Ones":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["ones"])(getParamValue("shape",e,t,a),getParamValue("dtype",e,t,a))];case"OnesLike":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"])(getParamValue("x",e,t,a))];case"RandomUniform":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["randomUniform"])(getParamValue("shape",e,t,a),getParamValue("minval",e,t,a),getParamValue("maxval",e,t,a),getParamValue("dtype",e,t,a))];case"Range":o=getParamValue("start",e,t,a);var g=getParamValue("stop",e,t,a),h=getParamValue("step",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["range"])(o,g,h,getParamValue("dtype",e,t,a))];case"TruncatedNormal":r=getParamValue("shape",e,t,a);var N=getParamValue("mean",e,t,a),x=getParamValue("stdDev",e,t,a);l=getParamValue("seed",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["truncatedNormal"])(r,N,x,getParamValue("dtype",e,t,a),l)];case"Zeros":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zeros"])(getParamValue("shape",e,t,a),getParamValue("dtype",e,t,a))];case"ZerosLike":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zerosLike"])(getParamValue("x",e,t,a))];default:throw TypeError("Node type "+e.op+" is not implemented")}},_this$1=void 0,executeOp$5=function(e,t,a){return __awaiter(_this$1,void 0,void 0,function(){var r,n,s,o,p,u,i,m;return __generator(this,function(l){switch(l.label){case 0:switch(e.op){case"NonMaxSuppressionV5":case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":return[3,1];case"Where":return[3,5];case"ListDiff":return[3,7]}return[3,8];case 1:return r=getParamValue("boxes",e,t,a),n=getParamValue("scores",e,t,a),s=getParamValue("maxOutputSize",e,t,a),o=getParamValue("iouThreshold",e,t,a),p=getParamValue("scoreThreshold",e,t,a),"NonMaxSuppressionV5"!==e.op?[3,3]:(u=getParamValue("softNmsSigma",e,t,a),[4,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["image"].nonMaxSuppressionWithScoreAsync(r,n,s,o,p,u)]);case 2:return[2,[(m=l.sent()).selectedIndices,m.selectedScores]];case 3:return[4,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["image"].nonMaxSuppressionAsync(r,n,s,o,p)];case 4:return[2,[l.sent()]];case 5:return i=getParamValue("condition",e,t,a).asType("bool"),[4,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["whereAsync"])(i)];case 6:return m=[l.sent()],i.dispose(),[2,m];case 7:return[2,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["setdiff1dAsync"])(getParamValue("x",e,t,a),getParamValue("y",e,t,a))];case 8:throw TypeError("Node type "+e.op+" is not implemented")}})})},executeOp$6=function(e,t,a){switch(e.op){case"TopKV2":var r=getParamValue("x",e,t,a),n=getParamValue("k",e,t,a),s=getParamValue("sorted",e,t,a),o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["topk"])(r,n,s);return[o.values,o.indices];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$7=function(e,t,a){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=getParamValue("default",e,t,a);return[getTensor(e.name,t,a)||r];case"Placeholder":return[getTensor(e.name,t,a)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":return[getParamValue("x",e,t,a).clone()];case"IdentityN":return getParamValue("x",e,t,a).map(function(e){return e.clone()});case"Snapshot":return[getParamValue("x",e,t,a).clone()];case"Shape":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor1d"])(getParamValue("x",e,t,a).shape,"int32")];case"ShapeN":return getParamValue("x",e,t,a).map(function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor1d"])(e.shape)});case"Size":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(getParamValue("x",e,t,a).size,"int32")];case"Rank":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(getParamValue("x",e,t,a).rank,"int32")];case"NoOp":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(1)];case"Print":var n=getParamValue("x",e,t,a),s=getParamValue("data",e,t,a),o=getParamValue("message",e,t,a),p=getParamValue("summarize",e,t,a);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(var u=0;u<s.length;u++)console.log(Array.prototype.slice.call(s[u].dataSync()).slice(0,p));return[n];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$8=function(e,t,a){switch(e.op){case"ResizeBilinear":var r=getParamValue("images",e,t,a),n=getParamValue("size",e,t,a),s=getParamValue("alignCorners",e,t,a);return[_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["image"].resizeBilinear(r,[n[0],n[1]],s)];case"ResizeNearestNeighbor":r=getParamValue("images",e,t,a),n=getParamValue("size",e,t,a),s=getParamValue("alignCorners",e,t,a);return[_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["image"].resizeNearestNeighbor(r,[n[0],n[1]],s)];case"CropAndResize":var o=getParamValue("image",e,t,a),p=getParamValue("boxes",e,t,a),u=getParamValue("boxInd",e,t,a),i=getParamValue("cropSize",e,t,a),m=getParamValue("method",e,t,a),l=getParamValue("extrapolationValue",e,t,a);return[_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["image"].cropAndResize(o,p,u,i,m,l)];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$9=function(e,t,a){switch(e.op){case"Equal":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["equal"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"NotEqual":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["notEqual"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"Greater":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["greater"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"GreaterEqual":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["greaterEqual"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"Less":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["less"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"LessEqual":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["lessEqual"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"LogicalAnd":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalAnd"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"LogicalNot":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalNot"])(getParamValue("a",e,t,a))];case"LogicalOr":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalOr"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a))];case"Select":case"SelectV2":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["where"])(getParamValue("condition",e,t,a),getParamValue("a",e,t,a),getParamValue("b",e,t,a))];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$10=function(e,t,a){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["matMul"])(getParamValue("a",e,t,a),getParamValue("b",e,t,a),getParamValue("transposeA",e,t,a),getParamValue("transposeB",e,t,a))];case"Transpose":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(getParamValue("x",e,t,a),getParamValue("perm",e,t,a))];case"_FusedMatMul":var r=getParamValue("fusedOps",e,t,a),n=r[0],s=r[1],o="biasadd"===n,p="prelu"===s,u=getParamValue("numArgs",e,t,a);if(o){if(p&&2!==u)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!p&&1!==u)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var i=getParamValue("args",e,t,a),m=i[0],l=i[1];return[_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fused"].matMul({a:getParamValue("a",e,t,a),b:getParamValue("b",e,t,a),transposeA:getParamValue("transposeA",e,t,a),transposeB:getParamValue("transposeB",e,t,a),bias:m,activation:s,preluActivationWeights:l})];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$11=function(e,t,a){switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNorm"])(getParamValue("x",e,t,a),getParamValue("mean",e,t,a),getParamValue("variance",e,t,a),getParamValue("offset",e,t,a),getParamValue("scale",e,t,a),getParamValue("epsilon",e,t,a))];case"LRN":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["localResponseNormalization"])(getParamValue("x",e,t,a),getParamValue("radius",e,t,a),getParamValue("bias",e,t,a),getParamValue("alpha",e,t,a),getParamValue("beta",e,t,a))];case"Softmax":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["softmax"])(getParamValue("x",e,t,a))];case"LogSoftmax":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logSoftmax"])(getParamValue("x",e,t,a))];case"SparseToDense":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sparseToDense"])(getParamValue("sparseIndices",e,t,a),getParamValue("outputShape",e,t,a),getParamValue("sparseValues",e,t,a),getParamValue("defaultValue",e,t,a))];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$12=function(e,t,a){switch(e.op){case"Max":var r=getParamValue("axis",e,t,a),n=getParamValue("keepDims",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["max"])(getParamValue("x",e,t,a),r,n)];case"Mean":r=getParamValue("axis",e,t,a),n=getParamValue("keepDims",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(getParamValue("x",e,t,a),r,n)];case"Min":r=getParamValue("axis",e,t,a),n=getParamValue("keepDims",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["min"])(getParamValue("x",e,t,a),r,n)];case"Sum":r=getParamValue("axis",e,t,a),n=getParamValue("keepDims",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(getParamValue("x",e,t,a),r,n)];case"All":r=getParamValue("axis",e,t,a),n=getParamValue("keepDims",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["all"])(getParamValue("x",e,t,a),r,n)];case"Any":r=getParamValue("axis",e,t,a),n=getParamValue("keepDims",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["any"])(getParamValue("x",e,t,a),r,n)];case"ArgMax":r=getParamValue("axis",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["argMax"])(getParamValue("x",e,t,a),r)];case"ArgMin":r=getParamValue("axis",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["argMin"])(getParamValue("x",e,t,a),r)];case"Prod":r=getParamValue("axis",e,t,a),n=getParamValue("keepDims",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["prod"])(getParamValue("x",e,t,a),r,n)];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$13=function(e,t,a){switch(e.op){case"ConcatV2":case"Concat":var r=getParamValue("n",e,t,a),n=getParamValue("axis",e,t,a),s=getParamValue("tensors",e,t,a);return s=s.slice(0,r),[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat"])(s,n)];case"GatherV2":case"Gather":n=getParamValue("axis",e,t,a);var o=getParamValue("x",e,t,a),p=getParamValue("indices",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["gather"])(o,p.asType("int32"),n)];case"ReverseV2":case"Reverse":n=getParamValue("axis",e,t,a),o=getParamValue("x",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reverse"])(o,n)];case"Slice":var u=getParamValue("begin",e,t,a),i=getParamValue("size",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice"])(getParamValue("x",e,t,a),u,i)];case"StridedSlice":u=getParamValue("begin",e,t,a);var m=getParamValue("end",e,t,a),l=getParamValue("strides",e,t,a),c=getParamValue("beginMask",e,t,a),d=getParamValue("endMask",e,t,a),y=getParamValue("ellipsisMask",e,t,a),f=getParamValue("newAxisMask",e,t,a),g=getParamValue("shrinkAxisMask",e,t,a),h=getParamValue("x",e,t,a);if(1===u.length&&h.shape.length>1)for(var N=1;N<h.shape.length;N++)u.push(0),m.push(h.shape[N]),l.push(l[0]);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["stridedSlice"])(h,u,m,l,c,d,y,f,g)];case"Pack":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r=getParamValue("axis",e,t,a),n=getParamValue("tensors",e,t,a),s=n[0].shape,o=n[0].squeeze().shape,p=n.map(function(e){var t=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(e.shape,s);if(!t&&!_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(e.squeeze().shape,o))throw new Error("the input tensors shape does not match");return t?e:e.reshape(s)});return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["stack"])(p,r)]});case"Unpack":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r=getParamValue("axis",e,t,a),n=getParamValue("tensor",e,t,a);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["unstack"])(n,r)});case"Tile":var x=getParamValue("reps",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tile"])(getParamValue("x",e,t,a),x)];case"Split":case"SplitV":n=getParamValue("axis",e,t,a);var V=getParamValue("numOrSizeSplits",e,t,a);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["split"])(getParamValue("x",e,t,a),V,n);case"ScatterNd":p=getParamValue("indices",e,t,a);var b=getParamValue("values",e,t,a),P=getParamValue("shape",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scatterND"])(p,b,P)];case"GatherNd":var T=getParamValue("x",e,t,a);p=getParamValue("indices",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["gatherND"])(T,p)];case"SparseToDense":p=getParamValue("sparseIndices",e,t,a),P=getParamValue("outputShape",e,t,a);var v=getParamValue("sparseValues",e,t,a),O=getParamValue("defaultValue",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sparseToDense"])(p,v,P,v.dtype===O.dtype?O:O.asType(v.dtype))];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$14=function(e,t,a){switch(e.op){case"FFT":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fft"])(getParamValue("x",e,t,a))];case"IFFT":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["ifft"])(getParamValue("x",e,t,a))];case"RFFT":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["rfft"])(getParamValue("x",e,t,a))];case"IRFFT":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["irfft"])(getParamValue("x",e,t,a))];default:throw TypeError("Node type "+e.op+" is not implemented")}},executeOp$15=function(e,t,a){switch(e.op){case"Cast":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["cast"])(getParamValue("x",e,t,a),getParamValue("dtype",e,t,a))];case"ExpandDims":var r=getParamValue("axis",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["expandDims"])(getParamValue("x",e,t,a),r)];case"Squeeze":r=getParamValue("axis",e,t,a);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["squeeze"])(getParamValue("x",e,t,a),r)];case"Reshape":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reshape"])(getParamValue("x",e,t,a),getParamValue("shape",e,t,a))];case"PadV2":case"Pad":return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["pad"])(getParamValue("x",e,t,a),split$1(getParamValue("padding",e,t,a),2),getParamValue("constantValue",e,t,a))];case"SpaceToBatchND":var n=getParamValue("blockShape",e,t,a),s=split$1(getParamValue("paddings",e,t,a),2);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["spaceToBatchND"])(getParamValue("x",e,t,a),n,s)];case"BatchToSpaceND":n=getParamValue("blockShape",e,t,a);var o=split$1(getParamValue("crops",e,t,a),2);return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchToSpaceND"])(getParamValue("x",e,t,a),n,o)];case"DepthToSpace":var p=getParamValue("blockSize",e,t,a),u=getParamValue("dataFormat",e,t,a).toUpperCase();return[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["depthToSpace"])(getParamValue("x",e,t,a),p,u)];default:throw TypeError("Node type "+e.op+" is not implemented")}};function executeOp$16(e,t,a){var r=function(e,t,a){switch(e.category){case"arithmetic":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp(e,t,a)});case"basic_math":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$1(e,t,a)});case"control":return executeOp$2(e,t,a);case"convolution":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$3(e,t,a)});case"creation":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$4(e,t,a)});case"dynamic":return executeOp$5(e,t,a);case"evaluation":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$6(e,t,a)});case"image":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$8(e,t,a)});case"graph":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$7(e,t,a)});case"logical":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$9(e,t,a)});case"matrices":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$10(e,t,a)});case"normalization":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$11(e,t,a)});case"reduction":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$12(e,t,a)});case"slice_join":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$13(e,t,a)});case"spectral":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$14(e,t,a)});case"transformation":return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return executeOp$15(e,t,a)});case"custom":var r=getRegisteredOp(e.op);if(r&&r.customExecutor)return r.customExecutor(new NodeValueImpl(e,t,a));throw TypeError("Custom op "+e.op+" is not registered.");default:throw TypeError("Unknown op '"+e.op+"'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,a);return r instanceof Promise?r.then(function(e){return[].concat(e)}):[].concat(r)}var ExecutionContext=function(){function e(e,t){this.weightMap=e,this.tensorArrayMap=t,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return e.prototype.newFrame=function(e,t){return{id:e,frameName:t,iterationId:0}},Object.defineProperty(e.prototype,"currentContext",{get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),e.prototype.generateCurrentContextIds=function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var a=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(a))}e.push(""),this._currentContextIds=e},e.prototype.contextIdforContexts=function(e){return e?e.map(function(e){return 0===e.id&&0===e.iterationId?"":e.frameName+"-"+e.iterationId}).join("/"):""},e.prototype.enterFrame=function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},e.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},e.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},e.prototype.getWeight=function(e){return this.weightMap[e]},e.prototype.addTensorArray=function(e){this.tensorArrayMap[e.id]=e},e.prototype.getTensorArray=function(e){return this.tensorArrayMap[e]},e}();function getExecutionSubgraph(e,t,a){for(var r=new Set,n=[],s=null,o=null,p=new Set,u=Object.keys(e).map(function(e){return parseNodeName(e)[0]}),i=t.slice();i.length>0;){var m=i.pop();(isControlFlow(m)||isDynamicShape(m))&&null==s&&(o=(s=m).children.map(function(e){return e.name}).filter(function(e){return r.has(e)})),r.add(m.name),null==a[m.name]&&(-1===u.indexOf(m.name)&&(0!==m.inputs.length?m.inputs.forEach(function(e){p.has(e.name)||(p.add(e.name),i.push(e))}):n.push(m.name)))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:n,dynamicNode:s,syncInputs:o}}function getNodesInTopologicalOrder(e,t,a){var r=a.usedNodes,n=a.inputs,s=[];Object.keys(n).map(function(e){return parseNodeName(e)[0]}).map(function(t){return e.nodes[t]}).forEach(function(e){r.has(e.name)&&s.push(e)}),e.weights.forEach(function(e){r.has(e.name)&&s.push(e)});for(var o=new Set,p=[];s.length>0;){var u=s.pop();o.add(u.name),t[u.name]||p.push(u),u.children.forEach(function(e){!o.has(e.name)&&r.has(e.name)&&e.inputs.every(function(e){return o.has(e.name)})&&s.push(e)})}return p}var CONTROL_FLOW_OPS=["Switch","Merge","Enter","Exit","NextIteration"],DYNAMIC_SHAPE_OPS=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"];function isControlFlow(e){return CONTROL_FLOW_OPS.indexOf(e.op)>=0}function isDynamicShape(e){return DYNAMIC_SHAPE_OPS.indexOf(e.op)>=0}var GraphExecutor=function(){function e(e){this.graph=e,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._outputs=e.outputs,this._inputs=e.inputs,this._signature=e.signature}return Object.defineProperty(e.prototype,"weightMap",{get:function(){return this._weightMap},set:function(e){var t=Object.keys(e).map(function(t){return e[t].map(function(e){return e.id})});this.weightIds=[].concat.apply([],t),this._weightMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this._inputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this._outputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this._inputs.map(function(e){return e.signatureKey||e.name})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this._outputs.map(function(e){return e.signatureKey||e.name})},enumerable:!0,configurable:!0}),e.prototype.getCompilationKey=function(e,t){var a=e.map(function(e){return e.name}).sort(),r=t.map(function(e){return e.name}).sort();return a.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)},e.prototype.compile=function(e,t){var a=getExecutionSubgraph(e,t,this.weightMap),r=a.missingInputs,n=a.dynamicNode,s=a.syncInputs;if(null!=n)throw new Error("This execution contains the node '"+n.name+"', which has the dynamic op '"+n.op+"'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs ["+s+"]");if(r.length>0){var o=t.map(function(e){return e.name}),p=Object.keys(e);throw new Error("Cannot compute the outputs ["+o+"] from the provided inputs ["+p+"]. Missing the following inputs: ["+r+"]")}return getNodesInTopologicalOrder(this.graph,this.weightMap,a)},e.prototype.execute=function(e,t){var a=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var n=r.map(function(e){return a.graph.nodes[parseNodeName(e)[0]]}),s=t.map(function(e){return a.graph.nodes[parseNodeName(e)[0]]}),o=this.getCompilationKey(n,s),p=this.compiledMap.get(o);null==p&&(p=this.compile(e,s),this.compiledMap.set(o,p));var u={};return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r=new ExecutionContext(a._weightMap,u),n=__assign({},a.weightMap);Object.keys(e).forEach(function(t){var a=parseNodeName(t),r=a[0],s=[];s[a[1]]=e[t],n[r]=s});for(var s=a.getFrozenTensorIds(n),o={},i=0;i<p.length;i++){var m=p[i];if(!n[m.name]){var l=executeOp$16(m,n,r);if(l instanceof Promise)throw new Error("The execution of the op '"+m.op+"' returned a promise. Please use model.executeAsync() instead.");n[m.name]=l,a.checkTensorForDisposal(m.name,m,n,r,s,t,o)}}return t.map(function(e){return getTensor(e,n,r)})})},e.prototype.getFrozenTensorIds=function(e){var t=[].concat.apply([],Object.keys(e).map(function(t){return e[t]}).map(function(e){return e.map(function(e){return e.id})}));return new Set(t)},e.prototype.checkTensorForDisposal=function(e,t,a,r,n,s,o){"control"!==t.category&&-1===s.indexOf(e)&&(a[e].forEach(function(e){null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)}),t.inputs.forEach(function(e){if("control"!==e.category){var t=getTensorsForCurrentContenxt(e.name,a,r);null!=t&&t.forEach(function(e){if(e&&!n.has(e.id)){var t=o[e.id];1===t?(e.dispose(),delete o[e.id]):null!=t&&o[e.id]--}})}}))},e.prototype.executeAsync=function(e,t){return __awaiter(this,void 0,void 0,function(){var a,r,n,s,o,p,u=this;return __generator(this,function(i){switch(i.label){case 0:return e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t),a={},r=new ExecutionContext(this._weightMap,a),[4,this.executeWithControlFlow(e,r,t)];case 1:return n=i.sent(),s=t.map(function(e){return getTensor(e,n,r)}),o=new Set(s.map(function(e){return e.id})),p=new Set(Object.keys(e).map(function(t){return e[t].id})),Object.keys(n).forEach(function(e){n[e].forEach(function(e){!e||e.isDisposed||o.has(e.id)||p.has(e.id)||-1!==u.weightIds.indexOf(e.id)||e.dispose()})}),[2,s]}})})},e.prototype.executeWithControlFlow=function(e,t,a){return __awaiter(this,void 0,void 0,function(){var r,n,s,o,p,u,i,m,l,c,d,y,f,g,h,N,x=this;return __generator(this,function(V){switch(V.label){case 0:r=Object.keys(e),n=r.map(function(e){return x.graph.nodes[parseNodeName(e)[0]]}),s=a.map(function(e){return x.graph.nodes[parseNodeName(e)[0]]}),o=getExecutionSubgraph(e,s,this.weightMap),p=o.usedNodes,u=o.missingInputs,i=o.dynamicNode,m=o.syncInputs,l=n.concat(this.graph.weights).map(function(e){return{node:e,contexts:t.currentContext}}),c=__assign({},this.weightMap),Object.keys(e).forEach(function(t){var a=parseNodeName(t),r=a[0],n=[];n[a[1]]=e[t],c[r]=n}),d={},y=this.getFrozenTensorIds(c),f={},V.label=1;case 1:return l.length>0?(g=this.processStack(n,l,t,c,f,y,a,d,p),[4,Promise.all(g)]):[3,3];case 2:return V.sent(),[3,1];case 3:if(null==i&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),(h=s.filter(function(e){return!isControlFlow(e)&&!getTensor(e.name,c,t)}).map(function(e){return e.name})).length>0)throw N="",null!=i&&(N="Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs ["+m+"]"),new Error("Cannot compute the outputs ["+h+"] from the provided inputs ["+r+"]. Consider providing the following inputs: ["+u+"]. "+N);return[2,c]}})})},e.prototype.processStack=function(e,t,a,r,n,s,o,p,u){for(var i=this,m=[],l=function(){var l=t.pop();a.currentContext=l.contexts;var d="";if("Enter"===l.node.op&&getParamValue("isConstant",l.node,r,a)&&(d=getNodeNameAndIndex(l.node.name,a)[0]),-1===e.indexOf(l.node)){var y=executeOp$16(l.node,r,a);d||(d=getNodeNameAndIndex(l.node.name,a)[0]);var f=a.currentContext;y instanceof Promise?m.push(y.then(function(e){return r[d]=e,a.currentContext=f,i.checkTensorForDisposal(d,l.node,r,a,s,o,p),i.processChildNodes(l.node,t,a,r,n,u),e})):(r[d]=y,c.checkTensorForDisposal(d,l.node,r,a,s,o,p),c.processChildNodes(l.node,t,a,r,n,u))}else c.processChildNodes(l.node,t,a,r,n,u)},c=this;t.length>0;)l();return m},e.prototype.processChildNodes=function(e,t,a,r,n,s){e.children.forEach(function(e){var o=getNodeNameAndIndex(e.name,a)[0];!n[o]&&s.has(e.name)&&("Merge"===e.op?e.inputNames.some(function(e){return!!getTensor(e,r,a)})&&(n[o]=!0,t.push({contexts:a.currentContext,node:e})):e.inputNames.every(function(e){return!!getTensor(e,r,a)})&&(n[o]=!0,t.push({contexts:a.currentContext,node:e})))})},e.prototype.dispose=function(){var e=this;Object.keys(this.weightMap).forEach(function(t){return e.weightMap[t].forEach(function(e){return e.dispose()})})},e.prototype.checkInputShapeAndType=function(e){var t=this;Object.keys(e).forEach(function(a){var r=e[a],n=parseNodeName(a)[0],s=t.graph.nodes[n];if(s.attrParams.shape&&s.attrParams.shape.value){var o=s.attrParams.shape.value,p=o.length===r.shape.length&&r.shape.every(function(e,t){return-1===o[t]||o[t]===e});_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(p,function(){return"The shape of dict['"+s.name+"'] provided in model.execute(dict) must be ["+o+"], but was ["+r.shape+"]"})}s.attrParams.dtype&&s.attrParams.dtype.value&&_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(r.dtype===s.attrParams.dtype.value,function(){return"The dtype of dict['"+s.name+"'] provided in model.execute(dict) must be "+s.attrParams.dtype.value+", but was "+r.dtype})})},e.prototype.mapInputs=function(e){var t={};for(var a in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[a])t[this._signature.inputs[a].name]=e[a];else t[a]=e[a]}return t},e.prototype.checkInputs=function(e){var t=this,a=Object.keys(e).filter(function(e){var a=parseNodeName(e)[0];return null==t.graph.nodes[a]});if(a.length>0)throw new Error("The dict provided in model.execute(dict) has keys: ["+a+"] that are not part of graph")},e.prototype.mapOutputs=function(e){var t=this;return e.map(function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e},{})},e.prototype.checkOutputs=function(e){var t=this;e.forEach(function(e){var a=parseNodeName(e)[0];if(!t.graph.nodes[a])throw new Error("The output '"+e+"' is not found in the graph")})},e}(),TFHUB_SEARCH_PARAM="?tfjs-format=file",DEFAULT_MODEL_NAME="model.json",GraphModel=function(){function e(e,t){void 0===t&&(t={}),this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={})}return Object.defineProperty(e.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),e.prototype.findIOHandler=function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].browserHTTPRequest(e,this.loadOptions);else{var t=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].getLoadHandlers(e,this.loadOptions.onProgress);if(0===t.length)t.push(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one ("+t.length+") load handlers for URL '"+[e]+"'");this.handler=t[0]}},e.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){var e,t,a,r;return __generator(this,function(n){switch(n.label){case 0:if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return e=this,[4,this.handler.load()];case 1:return e.artifacts=n.sent(),t=this.artifacts.modelTopology,a={},null!=this.artifacts.userDefinedMetadata&&(a=this.artifacts.userDefinedMetadata.signature),this.version=t.versions.producer+"."+t.versions.minConsumer,r=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs),this.executor=new GraphExecutor(OperationMapper.Instance.transformGraph(t,a)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),[2,!0]}})})},e.prototype.save=function(e,t){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(a){if("string"==typeof e){if(0===(t=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].getSaveHandlers(e)).length)throw new Error("Cannot find any save handlers for URL '"+e+"'");if(t.length>1)throw new Error("Found more than one ("+t.length+") save handlers for URL '"+e+"'");e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[2,e.save(this.artifacts)]})})},e.prototype.predict=function(e,t){return this.execute(e,this.outputNodes)},e.prototype.normalizeInputs=function(e){if(!(e instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"]||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,the graph model has "+this.inputNodes.length+" placeholders, while there are "+e.length+" input tensors.");return this.inputNodes.reduce(function(t,a,r){return t[a]=e[r],t},{})},e.prototype.normalizeOutputs=function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]},e.prototype.execute=function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var a=this.executor.execute(e,t);return a.length>1?a:a[0]},e.prototype.executeAsync=function(e,t){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(r){switch(r.label){case 0:return e=this.normalizeInputs(e),t=this.normalizeOutputs(t),[4,this.executor.executeAsync(e,t)];case 1:return[2,(a=r.sent()).length>1?a:a[0]]}})})},e.prototype.convertTensorMapToTensorsMap=function(e){return Object.keys(e).reduce(function(t,a){return t[a]=[e[a]],t},{})},e.prototype.dispose=function(){this.executor.dispose()},e}();function loadGraphModel(e,t){return void 0===t&&(t={}),__awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(r){switch(r.label){case 0:if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");return null==t&&(t={}),t.fromTFHub&&null==e.load&&(e.endsWith("/")||(e+="/"),e=""+e+DEFAULT_MODEL_NAME+TFHUB_SEARCH_PARAM),[4,(a=new GraphModel(e,t)).load()];case 1:return r.sent(),[2,a]}})})}var version="1.7.4";
//# sourceMappingURL=tf-converter.esm.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node-libs-browser/node_modules/buffer/index.js */ "./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js ***!
  \****************************************************************/
/*! exports provided: AdadeltaOptimizer, AdagradOptimizer, AdamOptimizer, AdamaxOptimizer, Add, AddN, BroadcastTo, DataStorage, Div, ENV, Environment, FromPixels, FusedBatchNorm, Identity, KernelBackend, MaxPoolWithArgmax, MomentumOptimizer, NonMaxSuppressionV5, OneHot, Optimizer, PadV2, RMSPropOptimizer, Rank, Reduction, SGDOptimizer, Square, SquaredDifference, Tensor, TensorBuffer, Tile, Transpose, Variable, abs, acos, acosh, add, addN, addStrict, all, any, argMax, argMin, asin, asinh, atan, atan2, atanh, avgPool, avgPool3d, backend, backend_util, basicLSTMCell, batchNorm, batchNorm2d, batchNorm3d, batchNorm4d, batchNormalization, batchNormalization2d, batchNormalization3d, batchNormalization4d, batchToSpaceND, booleanMaskAsync, broadcastTo, browser, buffer, cast, ceil, clipByValue, clone, complex, concat, concat1d, concat2d, concat3d, concat4d, conv1d, conv2d, conv2dTranspose, conv3d, conv3dTranspose, cos, cosh, cumsum, customGrad, deprecationWarn, depthToSpace, depthwiseConv2d, diag, disableDeprecationWarnings, dispose, disposeVariables, div, divNoNan, divStrict, dot, dropout, elu, enableDebugMode, enableProdMode, engine, env, equal, equalStrict, erf, exp, expandDims, expm1, eye, fft, fill, findBackend, findBackendFactory, floor, floorDiv, frame, fused, gather, gatherND, gather_util, getBackend, getGradient, getKernel, getKernelsForBackend, grad, grads, greater, greaterEqual, greaterEqualStrict, greaterStrict, hammingWindow, hannWindow, ifft, imag, image, inTopKAsync, io, irfft, isFinite, isInf, isNaN, keep, leakyRelu, less, lessEqual, lessEqualStrict, lessStrict, linalg, linspace, localResponseNormalization, log, log1p, logSigmoid, logSoftmax, logSumExp, logicalAnd, logicalNot, logicalOr, logicalXor, losses, matMul, math, max, maxPool, maxPool3d, maxPoolWithArgmax, maximum, maximumStrict, mean, memory, min, minimum, minimumStrict, mod, modStrict, moments, movingAverage, mul, mulStrict, multiRNNCell, multinomial, neg, nextFrame, norm, notEqual, notEqualStrict, oneHot, ones, onesLike, op, outerProduct, pad, pad1d, pad2d, pad3d, pad4d, pool, pow, powStrict, prelu, print, prod, profile, rand, randomGamma, randomNormal, randomUniform, range, ready, real, reciprocal, registerBackend, registerGradient, registerKernel, relu, relu6, removeBackend, reshape, reverse, reverse1d, reverse2d, reverse3d, reverse4d, rfft, round, rsqrt, scalar, scatterND, scatter_util, selu, separableConv2d, serialization, setBackend, setPlatform, setdiff1dAsync, sigmoid, sign, signal, sin, sinh, slice, slice1d, slice2d, slice3d, slice4d, slice_util, softmax, softplus, spaceToBatchND, sparseToDense, spectral, split, sqrt, square, squaredDifference, squaredDifferenceStrict, squeeze, stack, step, stft, stridedSlice, sub, subStrict, sum, sumOutType, tan, tanh, tensor, tensor1d, tensor2d, tensor3d, tensor4d, tensor5d, tensor6d, tensor_util, test_util, tidy, tile, time, topk, train, transpose, truncatedNormal, unregisterGradient, unregisterKernel, unsortedSegmentSum, unstack, util, valueAndGrad, valueAndGrads, variable, variableGrads, version_core, webgl, where, whereAsync, zeros, zerosLike */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global, process, Buffer, setImmediate) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdadeltaOptimizer", function() { return Yd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdagradOptimizer", function() { return $d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdamOptimizer", function() { return Qd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdamaxOptimizer", function() { return Jd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Add", function() { return xr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddN", function() { return br; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BroadcastTo", function() { return Sr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataStorage", function() { return ca; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Div", function() { return wr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ENV", function() { return s; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Environment", function() { return o; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FromPixels", function() { return Fr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FusedBatchNorm", function() { return Cr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Identity", function() { return Tr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KernelBackend", function() { return la; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaxPoolWithArgmax", function() { return _r; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MomentumOptimizer", function() { return tp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NonMaxSuppressionV5", function() { return kr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OneHot", function() { return Ar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Optimizer", function() { return Xd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PadV2", function() { return Nr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMSPropOptimizer", function() { return ep; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rank", function() { return Ct; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Reduction", function() { return Nh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SGDOptimizer", function() { return Zd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Square", function() { return Rr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SquaredDifference", function() { return Er; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tensor", function() { return wt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TensorBuffer", function() { return mt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tile", function() { return Dr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Transpose", function() { return Ir; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Variable", function() { return St; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "abs", function() { return Lr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "acos", function() { return Wr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "acosh", function() { return Ur; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "add", function() { return Or; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addN", function() { return $u; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addStrict", function() { return xo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "all", function() { return ql; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "any", function() { return Kl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "argMax", function() { return jl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "argMin", function() { return Xl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asin", function() { return Vr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asinh", function() { return zr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "atan", function() { return Gr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "atan2", function() { return bo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "atanh", function() { return Hr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "avgPool", function() { return Ol; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "avgPool3d", function() { return Pl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backend", function() { return hn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backend_util", function() { return Sa; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "basicLSTMCell", function() { return lh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "batchNorm", function() { return nc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "batchNorm2d", function() { return ac; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "batchNorm3d", function() { return uc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "batchNorm4d", function() { return hc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "batchNormalization", function() { return ec; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "batchNormalization2d", function() { return oc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "batchNormalization3d", function() { return sc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "batchNormalization4d", function() { return lc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "batchToSpaceND", function() { return rr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "booleanMaskAsync", function() { return ul; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "broadcastTo", function() { return fc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "browser", function() { return Vd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buffer", function() { return er; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cast", function() { return or; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ceil", function() { return qr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clipByValue", function() { return Kr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clone", function() { return dc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "complex", function() { return Tn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concat", function() { return Yn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concat1d", function() { return $n; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concat2d", function() { return Qn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concat3d", function() { return Jn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "concat4d", function() { return Zn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "conv1d", function() { return fl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "conv2d", function() { return dl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "conv2dTranspose", function() { return wl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "conv3d", function() { return pl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "conv3dTranspose", function() { return Cl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cos", function() { return jr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cosh", function() { return Xr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cumsum", function() { return ar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "customGrad", function() { return oa; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deprecationWarn", function() { return Xe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "depthToSpace", function() { return ir; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "depthwiseConv2d", function() { return ml; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "diag", function() { return Eh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disableDeprecationWarnings", function() { return je; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dispose", function() { return tn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disposeVariables", function() { return Ye; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "div", function() { return Bo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "divNoNan", function() { return bc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "divStrict", function() { return wo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dot", function() { return Rl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dropout", function() { return Rh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "elu", function() { return nh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enableDebugMode", function() { return Ke; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enableProdMode", function() { return qe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "engine", function() { return $e; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "env", function() { return i; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "equal", function() { return Kc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "equalStrict", function() { return jc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "erf", function() { return Yr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exp", function() { return $r; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expandDims", function() { return sr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expm1", function() { return Qr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "eye", function() { return Cc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fft", function() { return gh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fill", function() { return Hn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findBackend", function() { return un; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findBackendFactory", function() { return cn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "floor", function() { return Jr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "floorDiv", function() { return Co; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frame", function() { return Ah; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fused", function() { return hf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gather", function() { return il; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gatherND", function() { return Ch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gather_util", function() { return Lo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBackend", function() { return an; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGradient", function() { return h; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKernel", function() { return l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKernelsForBackend", function() { return f; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "grad", function() { return Zo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "grads", function() { return ta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "greater", function() { return Xc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "greaterEqual", function() { return Yc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "greaterEqualStrict", function() { return $c; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "greaterStrict", function() { return Qc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hammingWindow", function() { return Sh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hannWindow", function() { return kh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ifft", function() { return mh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "imag", function() { return Nn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "image", function() { return nf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inTopKAsync", function() { return Fh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "io", function() { return Bd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "irfft", function() { return xh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFinite", function() { return lo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isInf", function() { return co; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNaN", function() { return uo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "keep", function() { return en; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "leakyRelu", function() { return rh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "less", function() { return Jc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lessEqual", function() { return Zc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lessEqualStrict", function() { return tl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lessStrict", function() { return el; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "linalg", function() { return jh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "linspace", function() { return qn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "localResponseNormalization", function() { return uh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "log", function() { return Zr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "log1p", function() { return to; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logSigmoid", function() { return eo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logSoftmax", function() { return sa; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logSumExp", function() { return Yl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logicalAnd", function() { return pc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logicalNot", function() { return vc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logicalOr", function() { return gc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logicalXor", function() { return mc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "losses", function() { return zh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "matMul", function() { return El; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "math", function() { return Wd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "max", function() { return $l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "maxPool", function() { return _l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "maxPool3d", function() { return Bl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "maxPoolWithArgmax", function() { return Ll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "maximum", function() { return Eo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "maximumStrict", function() { return Ro; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mean", function() { return Ql; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "memory", function() { return Qe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "min", function() { return Jl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "minimum", function() { return Io; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "minimumStrict", function() { return ko; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mod", function() { return So; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modStrict", function() { return Ao; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "moments", function() { return Zl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "movingAverage", function() { return fh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mul", function() { return To; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mulStrict", function() { return Do; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "multiRNNCell", function() { return hh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "multinomial", function() { return Ec; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "neg", function() { return no; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nextFrame", function() { return ap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "norm", function() { return ch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notEqual", function() { return nl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notEqualStrict", function() { return rl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "oneHot", function() { return Rc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ones", function() { return zn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onesLike", function() { return jn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "op", function() { return An; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "outerProduct", function() { return Il; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pad", function() { return Ic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pad1d", function() { return kc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pad2d", function() { return Sc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pad3d", function() { return Ac; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pad4d", function() { return Tc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pool", function() { return Ml; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pow", function() { return No; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "powStrict", function() { return Fo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "prelu", function() { return oh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "print", function() { return nr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "prod", function() { return eh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "profile", function() { return Je; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rand", function() { return Dc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomGamma", function() { return Uc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomNormal", function() { return Vc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomUniform", function() { return zc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "range", function() { return Kn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ready", function() { return on; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "real", function() { return Dn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reciprocal", function() { return ro; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "registerBackend", function() { return ln; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "registerGradient", function() { return p; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "registerKernel", function() { return d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "relu", function() { return ah; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "relu6", function() { return ih; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeBackend", function() { return sn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reshape", function() { return ur; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reverse", function() { return kl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reverse1d", function() { return Sl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reverse2d", function() { return Al; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reverse3d", function() { return Tl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reverse4d", function() { return Dl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rfft", function() { return yh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "round", function() { return oo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rsqrt", function() { return ao; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scalar", function() { return On; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scatterND", function() { return vh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scatter_util", function() { return Ho; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selu", function() { return sh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "separableConv2d", function() { return bl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "serialization", function() { return qd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setBackend", function() { return rn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPlatform", function() { return fn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setdiff1dAsync", function() { return dr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sigmoid", function() { return io; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sign", function() { return so; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "signal", function() { return Dh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sin", function() { return ho; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sinh", function() { return fo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "slice", function() { return Wl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "slice1d", function() { return Ul; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "slice2d", function() { return Vl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "slice3d", function() { return zl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "slice4d", function() { return Gl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "slice_util", function() { return Jo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "softmax", function() { return ia; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "softplus", function() { return po; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "spaceToBatchND", function() { return cr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sparseToDense", function() { return wh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "spectral", function() { return bh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "split", function() { return tr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sqrt", function() { return vo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "square", function() { return Gc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "squaredDifference", function() { return Hc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "squaredDifferenceStrict", function() { return _o; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "squeeze", function() { return lr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stack", function() { return hr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "step", function() { return go; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stft", function() { return Th; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stridedSlice", function() { return dh; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sub", function() { return Oo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subStrict", function() { return Mo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sum", function() { return th; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sumOutType", function() { return Dt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tan", function() { return mo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tanh", function() { return yo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tensor", function() { return Fn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tensor1d", function() { return Mn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tensor2d", function() { return Bn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tensor3d", function() { return Pn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tensor4d", function() { return Ln; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tensor5d", function() { return Wn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tensor6d", function() { return Un; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tensor_util", function() { return Mt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "test_util", function() { return Bc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tidy", function() { return Ze; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tile", function() { return wc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "time", function() { return nn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "topk", function() { return ph; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "train", function() { return rp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transpose", function() { return ua; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "truncatedNormal", function() { return qc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unregisterGradient", function() { return g; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unregisterKernel", function() { return v; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unsortedSegmentSum", function() { return sl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unstack", function() { return fr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "util", function() { return st; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "valueAndGrad", function() { return ea; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "valueAndGrads", function() { return na; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "variable", function() { return Vn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "variableGrads", function() { return ra; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "version_core", function() { return Kd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "webgl", function() { return jd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "where", function() { return yc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "whereAsync", function() { return xc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zeros", function() { return Gn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zerosLike", function() { return Xn; });
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(i,s)}u((r=r.apply(t,e||[])).next())}))}function r(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var o=function(){function t(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return t.prototype.setPlatform=function(t,e){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+e+"."),this.platformName=t,this.platform=e},t.prototype.registerFlag=function(t,e,n){if(this.flagRegistry[t]={evaluationFn:e,setHook:n},null!=this.urlFlags[t]){var r=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+r+"."),this.set(t,r)}},t.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},t.prototype.getNumber=function(t){return this.get(t)},t.prototype.getBool=function(t){return this.get(t)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e){if(null==this.flagRegistry[t])throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)},t.prototype.evaluateFlag=function(t){if(null==this.flagRegistry[t])throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},t.prototype.setFlags=function(t){this.flags=Object.assign({},t)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var t=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var e,n,r=(e=this.global.location.search,n={},e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return a(n,e[0],e[1]),e.join("=")})),n);if("tfjsflags"in r)r.tfjsflags.split(",").forEach((function(e){var n=e.split(":"),r=n[0],o=n[1];t.urlFlags[r]=function(t,e){if("true"===(e=e.toLowerCase())||"false"===e)return"true"===e;if(""+ +e===e)return+e;throw new Error("Could not parse value flag value "+e+" for flag "+t+".")}(r,o)}))}},t}();function a(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function i(){return s}var s=null;var u=new Map,c=new Map;function l(t,e){var n=m(t,e);return u.get(n)}function h(t){return c.get(t)}function f(t){for(var e=u.entries(),n=[];;){var r=e.next(),o=r.done,a=r.value;if(o)break;var i=a[0],s=a[1];i.split("_")[0]===t&&n.push(s)}return n}function d(t){var e=t.kernelName,n=t.backendName,r=m(e,n);if(u.has(r))throw new Error("The kernel '"+e+"' for backend '"+n+"' is already registered");u.set(r,t)}function p(t){var e=t.kernelName;c.has(e)&&console.warn("Overriding the gradient for '"+e+"'"),c.set(e,t)}function v(t,e){var n=m(t,e);if(!u.has(n))throw new Error("The kernel '"+t+"' for backend '"+e+"' is not registered");u.delete(n)}function g(t){if(!c.has(t))throw new Error("The gradient '"+t+"' for backend is not registered");c.delete(t)}function m(t,e){return e+"_"+t}function y(t){for(var e=t.length,n=0,r=0;e>0;)r=Math.random()*e|0,n=t[--e],t[e]=t[r],t[r]=n}function x(t,e,n){return Math.max(t,Math.min(e,n))}function b(t){return t%2==0?t:t+1}function w(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function C(t,e){if(!t)throw new Error("string"==typeof e?e:e())}function E(t,e,n){void 0===n&&(n=""),C(S(t,e),(function(){return n+" Shapes "+t+" and "+e+" must match"}))}function R(t){C(null!=t,(function(){return"The input to the tensor constructor must be a non-null value."}))}function I(t,e,n){if(void 0===e&&(e=[]),void 0===n&&(n=!1),null==e&&(e=[]),Array.isArray(t)||V(t)&&!n)for(var r=0;r<t.length;++r)I(t[r],e,n);else e.push(t);return e}function k(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function S(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function A(t){return t%1==0}function T(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function D(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function N(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function F(t,e,n){return void 0===e&&(e=function(t){return 0}),new Promise((function(r,o){var a=0,i=function(){if(t())r();else{a++;var s=e(a);null!=n&&a>=n?o():setTimeout(i,s)}};i()}))}function _(t,e){for(var n=1,r=-1,o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(-1===t[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(t[o]<0)throw Error("Shapes can not be < 0. Found "+t[o]+" at dim "+o);if(-1===r){if(e>0&&e!==n)throw Error("Size("+e+") must match the product of shape "+t);return t}if(0===n)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+n);var a=t.slice();return a[r]=e/n,a}function O(t,e){var n=e.length;return C((t=null==t?e.map((function(t,e){return e})):[].concat(t)).every((function(t){return t>=-n&&t<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+t})),C(t.every((function(t){return A(t)})),(function(){return"All values in axis param must be integers but got axis "+t})),t.map((function(t){return t<0?n+t:t}))}function M(t,e){for(var n=[],r=[],o=null!=e&&Array.isArray(e)&&0===e.length,a=null==e||o?null:O(e,t).sort(),i=0,s=0;s<t.length;++s){if(null!=a){if(a[i]===s&&1!==t[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+t[s]+"' is not 1");(null==a[i]||a[i]>s)&&1===t[s]&&(n.push(t[s]),r.push(s)),a[i]<=s&&i++}1!==t[s]&&(n.push(t[s]),r.push(s))}return{newShape:n,keptDims:r}}function B(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else{if("bool"!==t)throw new Error("Unknown data type "+t);n=new Uint8Array(e)}return n}function P(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else if("bool"===t)n=new Uint8Array(e);else{if("string"!==t)throw new Error("Unknown data type "+t);n=new Array(e)}return n}function L(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+e+" being uploaded contains "+r+".")}}function W(t){return"bool"===t||"complex64"===t||"float32"===t||"int32"===t||"string"===t}function U(t,e){return"complex64"!==e&&(("float32"!==e||"complex64"===t)&&(("int32"!==e||"float32"===t||"complex64"===t)&&("bool"!==e||"bool"!==t)))}function V(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function z(t){if("float32"===t||"int32"===t)return 4;if("complex64"===t)return 8;if("bool"===t)return 1;throw new Error("Unknown dtype "+t)}function G(t){if(null==t)return 0;var e=0;return t.forEach((function(t){return e+=t.length})),e}function H(t){return"string"==typeof t||t instanceof String}function q(t){return"boolean"==typeof t}function K(t){return"number"==typeof t}function j(t){return Array.isArray(t)?j(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":K(t)?"float32":H(t)?"string":q(t)?"bool":"float32"}function X(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Y(t,e){for(var n=e;n<t;++n)if(t%n==0)return n;return t}function $(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function Q(t,e,n){if("string"===e)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=I(t)),n&&L(t,e),function(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}(t,e))return t;if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e){for(var r=new Uint8Array(t.length),o=0;o<r.length;++o)0!==Math.round(t[o])&&(r[o]=1);return r}throw new Error("Unknown data type "+e)}function J(t,e){if(0===t.length)return e[0];var n=t.reduce((function(t,e){return t*e}));if(0===n)return[];if(n!==e.length)throw new Error("["+t+"] does not match the input size.");return function t(e,n,r){var o=new Array;if(1===n.length)for(var a=n[0],i=0;i<a;i++)o[i]=r[e+i];else{a=n[0];var s=n.slice(1),u=s.reduce((function(t,e){return t*e}));for(i=0;i<a;i++)o[i]=t(e+i*u,s,r)}return o}(0,t,e)}function Z(t,e){for(var n=tt(t,e),r=0;r<n.length;r++)n[r]=1;return n}function tt(t,e){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type "+e)}function et(){return i().platform.now()}function nt(t){t.forEach((function(e){C(Number.isInteger(e)&&e>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+t+"]."}))}))}function rt(t,e){return void 0===e&&(e="utf-8"),e=e||"utf-8",i().platform.encode(t,e)}function ot(t,e){return void 0===e&&(e="utf-8"),e=e||"utf-8",i().platform.decode(t,e)}function at(t,e,n){if(0===e)return 0;if(1===e)return t[0];for(var r=t[t.length-1],o=0;o<t.length-1;++o)r+=n[o]*t[o];return r}function it(t,e,n){if(0===e)return[];if(1===e)return[t];for(var r=new Array(e),o=0;o<r.length-1;++o)r[o]=Math.floor(t/n[o]),t-=r[o]*n[o];return r[r.length-1]=t,r}var st=Object.freeze({shuffle:y,clamp:x,nearestLargerEven:b,sum:w,randUniform:function(t,e){var n=Math.random();return e*n+(1-n)*t},distSquared:function(t,e){for(var n=0,r=0;r<t.length;r++){var o=Number(t[r])-Number(e[r]);n+=o*o}return n},assert:C,assertShapesMatch:E,assertNonNull:R,flatten:I,sizeFromShape:k,isScalarShape:function(t){return 0===t.length},arraysEqual:S,isInt:A,tanh:T,sizeToSquarishShape:D,createShuffledIndices:function(t){for(var e=new Uint32Array(t),n=0;n<t;++n)e[n]=n;return y(e),e},rightPad:N,repeatedTry:F,inferFromImplicitShape:_,parseAxisParam:O,squeezeShape:M,getTypedArrayFromDType:B,getArrayFromDType:P,checkConversionForErrors:L,isValidDtype:W,hasEncodingLoss:U,isTypedArray:V,bytesPerElement:z,bytesFromStringArray:G,isString:H,isBoolean:q,isNumber:K,inferDtype:j,isFunction:X,nearestDivisor:Y,computeStrides:$,toTypedArray:Q,toNestedArray:J,makeOnesTypedArray:Z,makeZerosTypedArray:tt,now:et,assertNonNegativeIntegerDimensions:nt,fetch:function(t,e){return i().platform.fetch(t,e)},encodeString:rt,decodeString:ot,locToIndex:at,indexToLoc:it}),ut=function(){function t(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new ct)}return t.prototype.profileKernel=function(t,e,n){var r,o=this,a=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(t,e,n){if("float32"!==e)return!1;for(var r=0;r<t.length;r++){var o=t[r];if(isNaN(o)||!isFinite(o))return console.warn("Found "+o+" in the result of '"+n+"'"),!0}}(r,n.dtype,t),a.then((function(a){var i="";null!=a.getExtraProfileInfo&&(i=a.getExtraProfileInfo()),o.logger.logKernelProfile(t,n,r,a.kernelMs,e,i)}))}))})),r},t}();var ct=function(){function t(){}return t.prototype.logKernelProfile=function(t,e,n,r,o,a){var i="number"==typeof r?N(r+"ms",9):r.error,s=N(t,25),u=e.rank,c=e.size,l=N(e.shape.toString(),14),h="";for(var f in o){var d=o[f].shape||e.shape,p=d.length;h+=f+": "+p+"D "+(p>0?d:"")+" "}console.log("%c"+s+"\t%c"+i+"\t%c"+u+"D "+l+"\t%c"+c+"\t%c"+h+"\t%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t}();var lt=20,ht=3,ft=7;function dt(t,e,n,r){var o=$(e),a=function(t,e,n,r){var o=k(e),a=r[r.length-1],i=new Array(a).fill(0),s=e.length,u="complex64"===n?gt(t):t;if(s>1)for(var c=0;c<o/a;c++)for(var l=c*a,h=0;h<a;h++)i[h]=Math.max(i[h],pt(u[l+h],0,n).length);return i}(t,e,n,o),i=e.length,s=function t(e,n,r,o,a,i){void 0===i&&(i=!0);var s="complex64"===r?2:1,u=n[0],c=n.length;if(0===c){return"complex64"===r?[pt(gt(e)[0],0,r)]:"bool"===r?[vt(e[0])]:[e[0].toString()]}if(1===c){if(u>lt){var l=ht*s,h=Array.from(e.slice(0,l)),f=Array.from(e.slice((u-ht)*s,u*s));return"complex64"===r&&(h=gt(h),f=gt(f)),["["+h.map((function(t,e){return pt(t,a[e],r)})).join(", ")+", ..., "+f.map((function(t,e){return pt(t,a[u-ht+e],r)})).join(", ")+"]"]}return["["+("complex64"===r?gt(e):Array.from(e)).map((function(t,e){return pt(t,a[e],r)})).join(", ")+"]"]}var d=n.slice(1),p=o.slice(1),v=o[0]*s,g=[];if(u>lt){for(var m=0;m<ht;m++){var y=(x=m*v)+v;g.push.apply(g,t(e.slice(x,y),d,r,p,a,!1))}g.push("...");for(m=u-ht;m<u;m++){y=(x=m*v)+v;g.push.apply(g,t(e.slice(x,y),d,r,p,a,m===u-1))}}else for(m=0;m<u;m++){var x;y=(x=m*v)+v;g.push.apply(g,t(e.slice(x,y),d,r,p,a,m===u-1))}var b=2===c?",":"";g[0]="["+g[0]+b;for(m=1;m<g.length-1;m++)g[m]=" "+g[m]+b;var w=",\n";for(m=2;m<c;m++)w+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(i?"":w),g}(t,e,n,o,a),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+i),u.push("  shape: ["+e+"]"),u.push("  values:")),u.push(s.map((function(t){return"    "+t})).join("\n")),u.join("\n")}function pt(t,e,n){return N(Array.isArray(t)?parseFloat(t[0].toFixed(ft))+" + "+parseFloat(t[1].toFixed(ft))+"j":H(t)?"'"+t+"'":"bool"===n?vt(t):parseFloat(t.toFixed(ft)).toString(),e)}function vt(t){return 0===t?"false":"true"}function gt(t){for(var e=[],n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}var mt=function(){function t(t,e,n){var r=this;if(this.dtype=e,this.shape=t.slice(),this.size=k(t),null!=n){var o=n.length;C(o===this.size,(function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||P(e,this.size),this.strides=$(t)}return t.prototype.set=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),C(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+e.rank+")"}));var o=this.locToIndex(n);this.values[o]=t},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0===t.length&&(t=[0]);for(var n=0,r=0,o=t;r<o.length;r++){var a=o[r];if(a<0||a>=this.shape[n]){var i="Requested out of range element at "+t+".   Buffer shape="+this.shape;throw new Error(i)}n++}for(var s=t[t.length-1],u=0;u<t.length-1;++u)s+=this.strides[u]*t[u];return this.values[s]},t.prototype.locToIndex=function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var e=t[t.length-1],n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e},t.prototype.indexToLoc=function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var e=new Array(this.shape.length),n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return yt().makeTensor(this.values,this.shape,this.dtype)},t}(),yt=null,xt=null,bt=null;var wt=function(){function t(t,e,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=k(t),this.strides=$(t),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),C(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(t,e){return this.throwIfDisposed(),this.reshape([t,e])},t.prototype.as3D=function(t,e,n){return this.throwIfDisposed(),this.reshape([t,e,n])},t.prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),this.reshape([t,e,n,r])},t.prototype.as5D=function(t,e,n,r,o){return this.throwIfDisposed(),this.reshape([t,e,n,r,o])},t.prototype.asType=function(t){return this.throwIfDisposed(),xt.cast(this,t)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return[4,this.data()];case 1:return t=e.sent(),[2,xt.buffer(this.shape,this.dtype,t)]}}))}))},t.prototype.bufferSync=function(){return xt.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return[4,this.data()];case 1:return t=e.sent(),[2,J(this.shape,t)]}}))}))},t.prototype.arraySync=function(){return J(this.shape,this.dataSync())},t.prototype.data=function(){return n(this,void 0,void 0,(function(){var t,e;return r(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),t=yt().read(this.dataId),"string"!==this.dtype?[3,2]:[4,t];case 1:e=n.sent();try{return[2,e.map((function(t){return ot(t)}))]}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,t]}}))}))},t.prototype.dataSync=function(){this.throwIfDisposed();var t=yt().readSync(this.dataId);if("string"===this.dtype)try{return t.map((function(t){return ot(t)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t},t.prototype.bytes=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return this.throwIfDisposed(),[4,yt().read(this.dataId)];case 1:return t=e.sent(),"string"===this.dtype?[2,t]:[2,new Uint8Array(t.buffer)]}}))}))},t.prototype.dispose=function(){this.isDisposed||(yt().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(t){return void 0===t&&(t=!1),xt.print(this,t)},t.prototype.reshape=function(t){return this.throwIfDisposed(),xt.reshape(this,t)},t.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},t.prototype.expandDims=function(t){return void 0===t&&(t=0),xt.expandDims(this,t)},t.prototype.cumsum=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=!1),xt.cumsum(this,t,e,n)},t.prototype.squeeze=function(t){return this.throwIfDisposed(),xt.squeeze(this,t)},t.prototype.clone=function(){return this.throwIfDisposed(),xt.clone(this)},t.prototype.toString=function(t){return void 0===t&&(t=!1),dt(this.dataSync(),this.shape,this.dtype,t)},t.prototype.gather=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),xt.gather(this,t,e)},t.prototype.matMul=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),this.throwIfDisposed(),xt.matMul(this,t,e,n)},t.prototype.dot=function(t){return this.throwIfDisposed(),xt.dot(this,t)},t.prototype.norm=function(t,e,n){return void 0===t&&(t="euclidean"),void 0===e&&(e=null),void 0===n&&(n=!1),this.throwIfDisposed(),xt.norm(this,t,e,n)},t.prototype.slice=function(t,e){return this.throwIfDisposed(),xt.slice(this,t,e)},t.prototype.reverse=function(t){return this.throwIfDisposed(),xt.reverse(this,t)},t.prototype.concat=function(e,n){return void 0===n&&(n=0),this.throwIfDisposed(),e instanceof t&&(e=[e]),xt.concat([this].concat(e),n)},t.prototype.split=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),xt.split(this,t,e)},t.prototype.stack=function(t,e){return void 0===e&&(e=0),xt.stack([this,t],e)},t.prototype.unstack=function(t){return void 0===t&&(t=0),xt.unstack(this,t)},t.prototype.batchNormalization=function(t,e,n,r,o){return void 0===n&&(n=.001),bt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(t,e,o,r,n)},t.prototype.all=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.all(this,t,e)},t.prototype.any=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.any(this,t,e)},t.prototype.logSumExp=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.logSumExp(this,t,e)},t.prototype.sum=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.sum(this,t,e)},t.prototype.prod=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.prod(this,t,e)},t.prototype.mean=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.mean(this,t,e)},t.prototype.min=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.min(this,t,e)},t.prototype.max=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.max(this,t,e)},t.prototype.argMin=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),xt.argMin(this,t)},t.prototype.argMax=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),xt.argMax(this,t)},t.prototype.cast=function(t){return this.throwIfDisposed(),xt.cast(this,t)},t.prototype.addStrict=function(t){return this.throwIfDisposed(),xt.addStrict(this,t)},t.prototype.atan2=function(t){return this.throwIfDisposed(),xt.atan2(this,t)},t.prototype.sub=function(t){return this.throwIfDisposed(),xt.sub(this,t)},t.prototype.subStrict=function(t){return this.throwIfDisposed(),xt.subStrict(this,t)},t.prototype.pow=function(t){return this.throwIfDisposed(),xt.pow(this,t)},t.prototype.powStrict=function(t){return this.throwIfDisposed(),xt.powStrict(this,t)},t.prototype.mul=function(t){return this.throwIfDisposed(),xt.mul(this,t)},t.prototype.mulStrict=function(t){return this.throwIfDisposed(),xt.mulStrict(this,t)},t.prototype.floorDiv=function(t){return this.throwIfDisposed(),xt.floorDiv(this,t)},t.prototype.divStrict=function(t){return this.throwIfDisposed(),xt.divStrict(this,t)},t.prototype.minimum=function(t){return this.throwIfDisposed(),xt.minimum(this,t)},t.prototype.minimumStrict=function(t){return this.throwIfDisposed(),xt.minimumStrict(this,t)},t.prototype.maximum=function(t){return this.throwIfDisposed(),xt.maximum(this,t)},t.prototype.maximumStrict=function(t){return this.throwIfDisposed(),xt.maximumStrict(this,t)},t.prototype.mod=function(t){return this.throwIfDisposed(),xt.mod(this,t)},t.prototype.modStrict=function(t){return this.throwIfDisposed(),xt.modStrict(this,t)},t.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),xt.squaredDifferenceStrict(this,t)},t.prototype.notEqual=function(t){return this.throwIfDisposed(),xt.notEqual(this,t)},t.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),xt.notEqualStrict(this,t)},t.prototype.less=function(t){return this.throwIfDisposed(),xt.less(this,t)},t.prototype.lessStrict=function(t){return this.throwIfDisposed(),xt.lessStrict(this,t)},t.prototype.equal=function(t){return this.throwIfDisposed(),xt.equal(this,t)},t.prototype.equalStrict=function(t){return this.throwIfDisposed(),xt.equalStrict(this,t)},t.prototype.lessEqual=function(t){return this.throwIfDisposed(),xt.lessEqual(this,t)},t.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),xt.lessEqualStrict(this,t)},t.prototype.greater=function(t){return this.throwIfDisposed(),xt.greater(this,t)},t.prototype.greaterStrict=function(t){return this.throwIfDisposed(),xt.greaterStrict(this,t)},t.prototype.greaterEqual=function(t){return this.throwIfDisposed(),xt.greaterEqual(this,t)},t.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),xt.greaterEqualStrict(this,t)},t.prototype.logicalAnd=function(t){return this.throwIfDisposed(),xt.logicalAnd(this,t)},t.prototype.logicalOr=function(t){return this.throwIfDisposed(),xt.logicalOr(this,t)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),xt.logicalNot(this)},t.prototype.logicalXor=function(t){return this.throwIfDisposed(),xt.logicalXor(this,t)},t.prototype.where=function(t,e){return this.throwIfDisposed(),xt.where(t,this,e)},t.prototype.neg=function(){return this.throwIfDisposed(),xt.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),xt.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),xt.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),xt.sign(this)},t.prototype.isNaN=function(){return this.throwIfDisposed(),xt.isNaN(this)},t.prototype.isInf=function(){return this.throwIfDisposed(),xt.isInf(this)},t.prototype.isFinite=function(){return this.throwIfDisposed(),xt.isFinite(this)},t.prototype.exp=function(){return this.throwIfDisposed(),xt.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),xt.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),xt.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),xt.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),xt.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),xt.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),xt.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),xt.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),xt.abs(this)},t.prototype.clipByValue=function(t,e){return this.throwIfDisposed(),xt.clipByValue(this,t,e)},t.prototype.relu=function(){return this.throwIfDisposed(),xt.relu(this)},t.prototype.relu6=function(){return this.throwIfDisposed(),xt.relu6(this)},t.prototype.elu=function(){return this.throwIfDisposed(),xt.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),xt.selu(this)},t.prototype.leakyRelu=function(t){return void 0===t&&(t=.2),this.throwIfDisposed(),xt.leakyRelu(this,t)},t.prototype.prelu=function(t){return this.throwIfDisposed(),xt.prelu(this,t)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),xt.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),xt.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),xt.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),xt.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),xt.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),xt.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),xt.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),xt.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),xt.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),xt.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),xt.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),xt.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),xt.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),xt.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),xt.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),xt.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),xt.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),xt.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),xt.round(this)},t.prototype.step=function(t){return void 0===t&&(t=0),this.throwIfDisposed(),xt.step(this,t)},t.prototype.softmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),xt.softmax(this,t)},t.prototype.logSoftmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),xt.logSoftmax(this,t)},t.prototype.resizeBilinear=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),xt.image.resizeBilinear(this,t,e)},t.prototype.resizeNearestNeighbor=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),xt.image.resizeNearestNeighbor(this,t,e)},t.prototype.conv1d=function(t,e,n,r,o,a){return void 0===r&&(r="NWC"),void 0===o&&(o=1),this.throwIfDisposed(),xt.conv1d(this,t,e,n,r,o,a)},t.prototype.conv2d=function(t,e,n,r,o,a){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),xt.conv2d(this,t,e,n,r,o,a)},t.prototype.conv2dTranspose=function(t,e,n,r,o){return this.throwIfDisposed(),xt.conv2dTranspose(this,t,e,n,r,o)},t.prototype.depthwiseConv2D=function(t,e,n,r,o,a){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),xt.depthwiseConv2d(this,t,e,n,r,o,a)},t.prototype.separableConv2d=function(t,e,n,r,o,a){return void 0===o&&(o=[1,1]),void 0===a&&(a="NHWC"),this.throwIfDisposed(),xt.separableConv2d(this,t,e,n,r,o,a)},t.prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),xt.avgPool(this,t,e,n,r)},t.prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),xt.maxPool(this,t,e,n,r)},t.prototype.localResponseNormalization=function(t,e,n,r){return void 0===t&&(t=5),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=.5),xt.localResponseNormalization(this,t,e,n,r)},t.prototype.pool=function(t,e,n,r,o){return this.throwIfDisposed(),xt.pool(this,t,e,n,r,o)},t.prototype.variable=function(t,e,n){return void 0===t&&(t=!0),this.throwIfDisposed(),yt().makeVariable(this,t,e,n)},t.prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),xt.unsortedSegmentSum(this,t,e)},t.prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),xt.batchToSpaceND(this,t,e)},t.prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),xt.spaceToBatchND(this,t,e)},t.prototype.topk=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=!0),this.throwIfDisposed(),xt.topk(this,t,e)},t.prototype.stridedSlice=function(t,e,n,r,o,a,i,s){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===s&&(s=0),this.throwIfDisposed(),xt.stridedSlice(this,t,e,n,r,o,a,i,s)},t.prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),xt.depthToSpace(this,t,e)},t.prototype.fft=function(){return this.throwIfDisposed(),xt.spectral.fft(this)},t.prototype.ifft=function(){return this.throwIfDisposed(),xt.spectral.ifft(this)},t.prototype.rfft=function(){return this.throwIfDisposed(),xt.spectral.rfft(this)},t.prototype.irfft=function(){return this.throwIfDisposed(),xt.spectral.irfft(this)},t}();Object.defineProperty(wt,Symbol.hasInstance,{value:function(t){return!!t&&null!=t.dataId&&null!=t.shape&&null!=t.dtype}});var Ct,Et,Rt,It,kt,St=function(t){function n(e,n,r,o){var a=t.call(this,e.shape,e.dtype,e.dataId,o)||this;return a.trainable=n,a.name=r,a}return e(n,t),n.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!S(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");yt().disposeTensor(this),this.dataId=t.dataId,yt().incRef(this,null)},n.prototype.dispose=function(){yt().disposeVariable(this),this.isDisposedInternal=!0},n}(wt);Object.defineProperty(St,Symbol.hasInstance,{value:function(t){return t instanceof wt&&null!=t.assign&&t.assign instanceof Function}}),function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(Ct||(Ct={})),function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(Et||(Et={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(Rt||(Rt={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(It||(It={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(kt||(kt={}));var At={float32:It,int32:Et,bool:Rt,complex64:kt};function Tt(t,e){if("string"===t||"string"===e){if("string"===t&&"string"===e)return"string";throw new Error("Can not upcast "+t+" with "+e)}return At[t][e]}function Dt(t){return Tt(t,"int32")}function Nt(t,e){if(t.dtype===e.dtype)return[t,e];var n=Tt(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Ft(t,e){C(t.dtype===e.dtype,(function(){return"The dtypes of the first("+t.dtype+") and second("+e.dtype+") input must match"}))}function _t(t){var e=[];return function t(e,n,r){if(null==e)return;if(e instanceof wt)return void n.push(e);if(o=e,!Array.isArray(o)&&"object"!=typeof o)return;var o;var a=e;for(var i in a){var s=a[i];r.has(s)||(r.add(s),t(s,n,r))}}(t,e,new Set),e}var Ot,Mt=Object.freeze({makeTypesMatch:Nt,assertTypesMatch:Ft,isTensorInList:function(t,e){return e.some((function(e){return e.id===t.id}))},getTensorsInContainer:_t}),Bt=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return t.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},t}(),Pt=function(){function t(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Bt}return t.prototype.ready=function(){return n(this,void 0,void 0,(function(){var t,e,n;return r(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];t=this.getSortedBackends(),e=0,r.label=1;case 1:return e<t.length?(n=t[e],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return e++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(t.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var t=this.initializeBackendsAndReturnBest(),e=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+e+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(t){if(!(t in this.registry)){if(!(t in this.registryFactory))return null;if(this.initializeBackend(t).asyncInit)return null}return this.registry[t]},t.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},t.prototype.registerBackend=function(t,e,n){return void 0===n&&(n=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:e,priority:n},!0)},t.prototype.setBackend=function(t){return n(this,void 0,void 0,(function(){var e,n,o;return r(this,(function(r){switch(r.label){case 0:if(null==this.registryFactory[t])throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,null!=this.registry[t]?[3,4]:(this.backendInstance=null,e=this.initializeBackend(t),n=e.success,e.asyncInit?[4,n]:[3,2]);case 1:return o=r.sent(),[3,3];case 2:o=n,r.label=3;case 3:if(!o)return[2,!1];r.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new ut(this.backendInstance),[2,!0]}}))}))},t.prototype.setupRegisteredKernels=function(){var t=this;f(this.backendName).forEach((function(e){null!=e.setupFunc&&e.setupFunc(t.backendInstance)}))},t.prototype.disposeRegisteredKernels=function(t){var e=this;f(t).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(e.registry[t])}))},t.prototype.initializeBackend=function(t){var e=this,n=this.registryFactory[t];if(null==n)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var o=++this.pendingBackendInitId,a=r.then((function(n){return!(o<e.pendingBackendInitId)&&(e.registry[t]=n,e.pendingBackendInit=null,!0)})).catch((function(n){return!(o<e.pendingBackendInitId)&&(e.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(n.stack||n.message),!1)}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(e){return console.warn("Initialization of backend "+t+" failed"),console.warn(e.stack||e.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var t=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(e,n){return t.registryFactory[n].priority-t.registryFactory[e].priority}))},t.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),e=0;e<t.length;e++){var n=t[e],r=this.initializeBackend(n),o=r.success,a=r.asyncInit;if(a||o)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(t,e){var n=this.state.tensorInfo.get(e),r=n.backend,o=this.readSync(e);r.disposeData(e),n.backend=t,t.move(e,o,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(t,e){var n,r=this,o=null;if(null==e){if("function"!=typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!=typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=t}return this.scopedRun((function(){return r.startScope(o)}),(function(){return r.endScope(n)}),(function(){return(n=e())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},t.prototype.scopedRun=function(t,e,n){t();try{var r=n();return e(),r}catch(t){throw e(),t}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(t){var e=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),n={x:t};return this.addTapeNode(this.state.activeScope.name,n,[e],(function(t){return{x:function(){return t.toFloat()}}}),[],{}),e},t.prototype.runKernel=function(t,e,n,r,o){return this.runKernelFunc(null,e,null,t,n,r,o)},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(t,e,n){var r=this.backend.numDataIds(),o=0;n.forEach((function(t){o+="complex64"===t.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-e-o-a;if(i>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+i+" data ids) after running '"+t+"'")},t.prototype.runKernelFunc=function(t,e,n,r,o,a,i){var s,u=this,c=[],h=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var f,d=this.state.numBytes,p=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var v,g=l(r,this.backendName);if(null!=g)f=function(){var t=u.backend.numDataIds();v=g.kernelFunc({inputs:e,attrs:o,backend:u.backend});var n=Array.isArray(v)?v:[v];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n);var s=n.map((function(t){var e=t.dataId,n=t.shape,r=t.dtype;return u.makeTensorFromDataId(e,n,r)}));if(h){var l=u.getTensorsForGradient(r,e,s);if(null==l){null==i&&(i=[]);var f=s.filter((function(t,e){return i[e]}));l=(a||[]).slice().concat(f)}c=u.saveTensorsForBackwardMode(l)}return s};else{var m=function(t){h&&(c=t.map((function(t){return u.keep(u.clone(t))})))};f=function(){var e=u.backend.numDataIds();v=u.tidy((function(){return t(u.backend,m)}));var n=Array.isArray(v)?v:[v];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n),n}}return this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,e,(function(){return f()})):f()})),h&&this.addTapeNode(r,e,s,n,c,o),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-d,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-p,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(e).map((function(t){return e[t].shape})),outputShapes:s.map((function(t){return t.shape}))}),Array.isArray(v)?s:s[0]},t.prototype.saveTensorsForBackwardMode=function(t){var e=this;return t.map((function(t){return e.keep(e.clone(t))}))},t.prototype.getTensorsForGradient=function(t,e,n){var r=h(t);if(null!=r){var o=r.inputsToSave||[],a=r.outputsToSave||[],i=void 0;r.saveAllInputs?(C(Array.isArray(e),(function(){return"saveAllInputs is true, expected inputs to be an array."})),i=Object.keys(e).map((function(t){return e[t]}))):i=o.map((function(t){return e[t]}));var s=n.filter((function(t,e){return a[e]}));return i.concat(s)}return null},t.prototype.makeTensor=function(t,e,n,r){if(null==t)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var o=t;"string"===n&&H(t[0])&&(o=t.map((function(t){return rt(t)})));var a=r.write(o,e,n),i=new wt(e,n,a,this.nextTensorId());if(this.incRef(i,r),"string"===n){var s=this.state.tensorInfo.get(a),u=G(o);this.state.numBytes+=u-s.bytes,s.bytes=u}return i},t.prototype.makeTensorFromDataId=function(t,e,n,r){var o=new wt(e,n=n||"float32",t,this.nextTensorId());return this.incRef(o,r),o},t.prototype.makeVariable=function(t,e,n,r){void 0===e&&(e=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==t.dtype&&(t=t.asType(r));var o=new St(t,e,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},t.prototype.incRef=function(t,e){var n=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,"string"===t.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==t.dtype&&"string"!==t.dtype&&(r=t.size*z(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:e||this.backend,dtype:t.dtype,shape:t.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof St||this.track(t)},t.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,"string"===t.dtype&&this.state.numStringTensors--;var e=this.state.tensorInfo.get(t.dataId);e.refCount<=1?("complex64"!==t.dtype&&(this.state.numBytes-=e.bytes),this.state.numDataBuffers--,e.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},t.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var e=this.state.registeredVariables[t];this.disposeVariable(e)}},t.prototype.disposeVariable=function(t){this.disposeTensor(t),null!=this.state.registeredVariables[t.name]&&delete this.state.registeredVariables[t.name]},t.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},t.prototype.profile=function(t){return n(this,void 0,void 0,(function(){var e,n;return r(this,(function(r){return this.state.profiling=!0,e=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(t){return t.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-e,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},t.prototype.addTapeNode=function(t,e,n,r,o,a){var i=this,s={id:this.state.nextTapeNodeId++,kernelName:t,inputs:e,outputs:n,saved:o},u=h(t);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(t){return t=t.map((function(t,e){if(null==t){var r=n[e],o=tt(r.size,r.dtype);return i.makeTensor(o,r.shape,r.dtype)}return t})),r(t.length>1?t:t[0],o,a)}),this.state.activeTape.push(s)},t.prototype.keep=function(t){return t.kept=!0,t},t.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(t){var e={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(e.name=t),this.state.scopeStack.push(e),this.state.activeScope=e},t.prototype.endScope=function(t){for(var e=this,n=_t(t),r=new Set(n.map((function(t){return t.id}))),o=0;o<this.state.activeScope.track.length;o++){var a=this.state.activeScope.track[o];a.kept||r.has(a.id)||a.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(t){t.kept||t.scopeId!==i.id||e.track(t)}))},t.prototype.gradients=function(t,e,n,r){var o=this;if(void 0===r&&(r=!1),C(e.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var a=this.scopedRun((function(){return o.startTape()}),(function(){return o.endTape()}),(function(){return o.tidy("forward",t)}));C(a instanceof wt,(function(){return"The result y returned by f() must be a tensor."}));var i=function(t,e,n){for(var r={},o={},a=0;a<e.length;a++)r[e[a].id]=!0;for(a=0;a<t.length;a++){var i=(p=t[a]).inputs;for(var s in i){for(var u=i[s],c=!1,l=0;l<e.length;l++)if(r[u.id]){p.outputs.forEach((function(t){return r[t.id]=!0})),c=!0,o[p.id]=!0;break}if(c)break}}var h={};h[n.id]=!0;var f={};for(a=t.length-1;a>=0;a--)for(i=(p=t[a]).inputs,l=0;l<p.outputs.length;l++)if(h[p.outputs[l].id]){for(var s in i)h[i[s].id]=!0,f[p.id]=!0;break}var d=[];for(a=0;a<t.length;a++){var p;if(o[(p=t[a]).id]&&f[p.id]){var v={};for(var s in p.inputs){var g=p.inputs[s];r[g.id]&&(v[s]=g)}var m=Object.assign({},p);m.inputs=v,m.outputs=p.outputs,d.push(m)}}return d}(this.state.activeTape,e,a);if(!r&&0===i.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var t,r,s={};s[a.id]=null==n?(t=a.shape,r=Z(k(t),"float32"),Lt.makeTensor(r,t,"float32")):n,function(t,e,n){for(var r=function(r){var o=e[r],a=[];if(o.outputs.forEach((function(e){var n=t[e.id];null!=n?a.push(n):a.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+o.kernelName+".");var i=o.gradient(a),s=function(e){if(!(e in i))throw new Error("Cannot backprop through input "+e+". Available gradients found: "+Object.keys(i)+".");var r=n((function(){return i[e]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input "+e+" must have 'float32' dtype, but has '"+r.dtype+"'");var a=o.inputs[e];if(!S(r.shape,a.shape))throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input '"+e+"' has shape '"+r.shape+"', which does not match the shape of the input '"+a.shape+"'");if(null==t[a.id])t[a.id]=r;else{var s=t[a.id];t[a.id]=s.add(r),s.dispose()}};for(var u in o.inputs)s(u)},o=e.length-1;o>=0;o--)r(o)}(s,i,(function(t){return o.tidy(t)}));var u=e.map((function(t){return s[t.id]}));return 0===o.state.gradientDepth&&(o.state.activeTape.forEach((function(t){for(var e=0,n=t.saved;e<n.length;e++){n[e].dispose()}})),o.state.activeTape=null),{value:a,grads:u}}))},t.prototype.customGrad=function(t){var e=this;return C(X(t),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];C(r.every((function(t){return t instanceof wt})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var a={};return r.forEach((function(t,e){a[e]=t})),e.runKernelFunc((function(e,o){return C((n=t.apply(void 0,r.concat([o]))).value instanceof wt,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),C(X(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),a,(function(t,e){var o=n.gradFunc(t,e),a=Array.isArray(o)?o:[o];C(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),C(a.every((function(t){return t instanceof wt})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var i={};return a.forEach((function(t,e){i[e]=function(){return t}})),i}))}},t.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},t.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},t.prototype.time=function(t){return n(this,void 0,void 0,(function(){var e,n;return r(this,(function(r){switch(r.label){case 0:return e=et(),[4,this.backend.time(t)];case 1:return(n=r.sent()).wallMs=et()-e,[2,n]}}))}))},t.prototype.track=function(t){return null!=this.state.activeScope&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Bt,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t.nextTensorId=0,t.nextVariableId=0,t}();var Lt=function(){var t=function(){if(null==Ot){var t=void 0;if("undefined"!=typeof window)t=window;else if("undefined"!=typeof global)t=global;else if("undefined"!=typeof process)t=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");t=self}Ot=t}return Ot}();if(null==t._tfengine){var e=new o(t);t._tfengine=new Pt(e)}return function(t){s=t}(t._tfengine.ENV),yt=function(){return t._tfengine},t._tfengine}();function Wt(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Ut=i();Ut.registerFlag("DEBUG",(function(){return!1}),(function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Ut.registerFlag("IS_BROWSER",(function(){return Wt()})),Ut.registerFlag("IS_NODE",(function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node})),Ut.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Ut.registerFlag("PROD",(function(){return!1})),Ut.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Ut.getBool("DEBUG")})),Ut.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Ut.registerFlag("IS_TEST",(function(){return!1}));var Vt,zt,Gt,Ht={},qt={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Kt(t,e){Ht[t]=e}function jt(t){t in Ht||(Ht[t]=function(t){if(1!==t&&2!==t)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var e=function(t){if("undefined"!=typeof OffscreenCanvas&&2===t)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(t);if(e.addEventListener("webglcontextlost",(function(e){e.preventDefault(),delete Ht[t]}),!1),1===t)return e.getContext("webgl",qt)||e.getContext("experimental-webgl",qt);return e.getContext("webgl2",qt)}(t));var e=Ht[t];return e.isContextLost()?(delete Ht[t],jt(t)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),Ht[t])}function Xt(t,e){return[e,t]}function Yt(t){var e=k(t);return D(Math.ceil(e/4))}function $t(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function Qt(t,e){var n,r,o,a,s,u,c,l,h,f=t;return 2===i().getNumber("WEBGL_VERSION")?(n=f.R32F,r=f.R16F,o=f.RGBA16F,a=f.RGBA32F,s=f.RED,u=4,c=1,l=f.HALF_FLOAT,h=f.FLOAT):(n=t.RGBA,r=t.RGBA,o=t.RGBA,a=f.RGBA,s=t.RGBA,u=4,c=4,l=null!=e?e.HALF_FLOAT_OES:null,h=t.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:a,textureFormatFloat:s,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:l,textureTypeFloat:h}}function Jt(t,e,n){var r=n();return e&&function(t){var e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+ne(t,e))}(t),r}!function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"}(Vt||(Vt={})),function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(zt||(zt={})),function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Gt||(Gt={}));var Zt=5.96e-8,te=65504;function ee(t){return!!(i().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===t||Zt<Math.abs(t)&&Math.abs(t)<te)}function ne(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function re(t,e,n){return ke(t,e,(function(){return t.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function oe(t,e,n){var r=ke(t,e,(function(){return t.createShader(t.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Jt(t,e,(function(){return t.shaderSource(r,n)})),Jt(t,e,(function(){return t.compileShader(r)})),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw console.log(t.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function ae(t,e,n){var r=ke(t,e,(function(){return t.createShader(t.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Jt(t,e,(function(){return t.shaderSource(r,n)})),Jt(t,e,(function(){return t.compileShader(r)})),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw function(t,e){var n=ue.exec(e);if(null==n)return console.log("Couldn't parse line number in error: "+e),void console.log(t);for(var r=+n[1],o=t.split("\n"),a=o.length.toString().length+2,i=o.map((function(t,e){return N((e+1).toString(),a)+t})),s=0,u=0;u<i.length;u++)s=Math.max(i[u].length,s);var c=i.slice(0,r-1),l=i.slice(r-1,r),h=i.slice(r);console.log(c.join("\n")),console.log(e.split("\n")[0]),console.log("%c "+N(l[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(h.join("\n"))}(n,t.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var ie,se,ue=/ERROR: [0-9]+:([0-9]+):/g;function ce(t,e){return ke(t,e,(function(){return t.createProgram()}),"Unable to create WebGLProgram.")}function le(t,e,n){if(Jt(t,e,(function(){return t.linkProgram(n)})),!1===t.getProgramParameter(n,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function he(t,e,n){if(Jt(t,e,(function(){return t.validateProgram(n)})),!1===t.getProgramParameter(n,t.VALIDATE_STATUS))throw console.log(t.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function fe(t,e,n){var r=ke(t,e,(function(){return t.createBuffer()}),"Unable to create WebGLBuffer");return Jt(t,e,(function(){return t.bindBuffer(t.ARRAY_BUFFER,r)})),Jt(t,e,(function(){return t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)})),r}function de(t,e,n){var r=ke(t,e,(function(){return t.createBuffer()}),"Unable to create WebGLBuffer");return Jt(t,e,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)})),Jt(t,e,(function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW)})),r}function pe(t,e){return ke(t,e,(function(){return t.createTexture()}),"Unable to create WebGLTexture.")}function ve(t,e){var n=i().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){var r="["+t+"x"+e+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n){r="["+t+"x"+e+"]";throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+n+"x"+n+"]")+".")}}function ge(t,e){return ke(t,e,(function(){return t.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function me(t,e,n,r,o,a,i,s){var u=t.getAttribLocation(n,r);return-1!==u&&(Jt(t,e,(function(){return t.bindBuffer(t.ARRAY_BUFFER,o)})),Jt(t,e,(function(){return t.vertexAttribPointer(u,a,t.FLOAT,!1,i,s)})),Jt(t,e,(function(){return t.enableVertexAttribArray(u)})),!0)}function ye(t,e,n,r){Se(t,r),Jt(t,e,(function(){return t.activeTexture(t.TEXTURE0+r)})),Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,n)}))}function xe(t,e,n,r){return ke(t,e,(function(){return t.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function be(t,e,n){return t.getUniformLocation(e,n)}function we(t,e,n,r,o,a){Jt(t,e,(function(){return ye(t,e,r,a)})),Jt(t,e,(function(){return t.uniform1i(o,a)}))}function Ce(t,e,n,r){Jt(t,e,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)})),Jt(t,e,(function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)}))}function Ee(t,e,n){Jt(t,e,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)})),Jt(t,e,(function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)}))}function Re(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Ie(t,e))}function Ie(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function ke(t,e,n,r){var o=Jt(t,e,(function(){return n()}));if(null==o)throw new Error(r);return o}function Se(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+n+"]")+".")}function Ae(t,e){return void 0===e&&(e=2),k(t.slice(0,t.length-e))}function Te(t){if(0===t.length)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function De(t){var e=[1,1,1];return 0===t.length||1===t.length&&1===t[0]||(e=[Ae(t)].concat(Te(t))),e}function Ne(t,e){var n;void 0===e&&(e=!1);var r=i().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e&&(r*=2,1===(t=t.map((function(e,n){return n>=t.length-2?b(t[n]):t[n]}))).length&&(t=[2,t[0]])),2!==t.length){var o=M(t);t=o.newShape}var a=k(t);if(t.length<=1&&a<=r)return[1,a];if(2===t.length&&t[0]<=r&&t[1]<=r)return t;if(3===t.length&&t[0]*t[1]<=r&&t[2]<=r)return[t[0]*t[1],t[2]];if(3===t.length&&t[0]<=r&&t[1]*t[2]<=r)return[t[0],t[1]*t[2]];if(4===t.length&&t[0]*t[1]*t[2]<=r&&t[3]<=r)return[t[0]*t[1]*t[2],t[3]];if(4===t.length&&t[0]<=r&&t[1]*t[2]*t[3]<=r)return[t[0],t[1]*t[2]*t[3]];if(e){var s=Ae(t),u=2,c=2;return t.length&&(u=(n=Te(t))[0],c=n[1]),D(a=s*(u/2)*(c/2)).map((function(t){return 2*t}))}return D(a)}function Fe(t){return t%2==0}function _e(t,e){if(S(t=t.slice(-2),e=e.slice(-2)))return!0;if(!t.length||!e.length)return!0;if(0===t[0]||0===t[1]||0===e[0]||0===e[1])return!0;if(t.length!==e.length){var n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r)return!0;if(Fe(n)&&Fe(r)&&(1===t[0]||1===e[0]))return!0}return t[1]===e[1]&&Fe(t[0])&&Fe(e[0])}function Oe(t){if(null==ie){var e=jt(t);ie=e.getParameter(e.MAX_TEXTURE_SIZE)}return ie}function Me(t){if(null==se){var e=jt(t);se=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,se)}function Be(t){if(0===t)return 0;var e=jt(t);return Pe(e,"EXT_disjoint_timer_query_webgl2")&&2===t?2:Pe(e,"EXT_disjoint_timer_query")?1:0}function Pe(t,e){return null!=t.getExtension(e)}function Le(t){try{if(null!=jt(t))return!0}catch(t){return!1}return!1}function We(t){if(0===t)return!1;var e=jt(t);if(1===t){if(!Pe(e,"OES_texture_float"))return!1}else if(!Pe(e,"EXT_color_buffer_float"))return!1;return Ve(e)}function Ue(t){if(0===t)return!1;var e=jt(t);if(1!==t){if(Pe(e,"EXT_color_buffer_float"))return Ve(e);if(Pe(e,"EXT_color_buffer_half_float")){var n=e.getExtension("EXT_color_buffer_half_float");return function(t,e){var n=Qt(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);var a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(o),a}(e,n)}return!1}return!!Pe(e,"OES_texture_float")&&(!!Pe(e,"WEBGL_color_buffer_float")&&Ve(e))}function Ve(t){var e=Qt(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),o}function ze(t){return 2===t&&null!=jt(t).fenceSync}var Ge=Object.freeze({callAndCheck:Jt,canBeRepresented:ee,getWebGLErrorMessage:ne,getExtensionOrThrow:re,createVertexShader:oe,createFragmentShader:ae,createProgram:ce,linkProgram:le,validateProgram:he,createStaticVertexBuffer:fe,createStaticIndexBuffer:de,getNumChannels:function(){return 2===i().getNumber("WEBGL_VERSION")?1:4},createTexture:pe,validateTextureSize:ve,createFramebuffer:ge,bindVertexBufferToProgramAttribute:me,bindTextureUnit:ye,unbindTextureUnit:function(t,e,n){Se(t,n),Jt(t,e,(function(){return t.activeTexture(t.TEXTURE0+n)})),Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:xe,getProgramUniformLocation:be,bindTextureToProgramUniformSampler:we,bindCanvasToFramebuffer:function(t,e){Jt(t,e,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),Jt(t,e,(function(){return t.viewport(0,0,t.canvas.width,t.canvas.height)})),Jt(t,e,(function(){return t.scissor(0,0,t.canvas.width,t.canvas.height)}))},bindColorTextureToFramebuffer:Ce,unbindColorTextureFromFramebuffer:Ee,validateFramebuffer:Re,getFramebufferErrorMessage:Ie,getBatchDim:Ae,getRowsCols:Te,getShapeAs3D:De,getTextureShapeFromLogicalShape:Ne,isReshapeFree:_e,getWebGLMaxTextureSize:Oe,resetMaxTextureSize:function(){ie=null},resetMaxTexturesInShader:function(){se=null},getMaxTexturesInShader:Me,getWebGLDisjointQueryTimerVersion:Be,hasExtension:Pe,isWebGLVersionEnabled:Le,isCapableOfRenderingToFloatTexture:We,isDownloadFloatTextureEnabled:Ue,isWebGLFenceEnabled:ze}),He=i();function qe(){i().set("PROD",!0)}function Ke(){i().set("DEBUG",!0)}function je(){i().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Xe(t){i().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Ye(){Lt.disposeVariables()}function $e(){return Lt}function Qe(){return Lt.memory()}function Je(t){return Lt.profile(t)}function Ze(t,e){return Lt.tidy(t,e)}function tn(t){_t(t).forEach((function(t){return t.dispose()}))}function en(t){return Lt.keep(t)}function nn(t){return Lt.time(t)}function rn(t){return Lt.setBackend(t)}function on(){return Lt.ready()}function an(){return Lt.backendName}function sn(t){Lt.removeBackend(t)}function un(t){return Lt.findBackend(t)}function cn(t){return Lt.findBackendFactory(t)}function ln(t,e,n){return void 0===n&&(n=1),Lt.registerBackend(t,e,n)}function hn(){return Lt.backend}function fn(t,e){i().setPlatform(t,e)}function dn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i().getBool("IS_TEST")||console.warn.apply(console,t)}function pn(t,e){var n=t;if(V(t))return"string"===e?[]:[t.length];if(!Array.isArray(t))return[];for(var r=[];Array.isArray(n)||V(n)&&"string"!==e;)r.push(n.length),n=n[0];return Array.isArray(t)&&i().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function t(e,n,r){if(r=r||[],!Array.isArray(e)&&!V(e))return void C(0===n.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"}));C(n.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+e.length+" elements"})),C(e.length===n[0],(function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+e.length+" elements"}));for(var o=n.slice(1),a=0;a<e.length;++a)t(e[a],o,r.concat(a))}(t,r,[]),r}function vn(t,e,n,r){if(null!=t&&("numeric"!==t&&t!==e||"numeric"===t&&"string"===e))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+t+" tensor, but got "+e+" tensor")}function gn(t,e,n,r){if(void 0===r&&(r="numeric"),t instanceof wt)return vn(r,t.dtype,e,n),t;var o=j(t);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),vn(r,o,e,n),null==t||!V(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t){var a=null==t?"null":t.constructor.name;throw new Error("Argument '"+e+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+a+"'")}var s=pn(t,o);V(t)||Array.isArray(t)||(t=[t]);var u="string"!==o?Q(t,o,i().getBool("DEBUG")):I(t,[],!0);return Lt.makeTensor(u,s,o)}function mn(t,e,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(t))throw new Error("Argument "+e+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return t.map((function(t,r){return gn(t,e+"["+r+"]",n)}),r)}function yn(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function xn(t,e,n){for(var r=t.length+e.length,o=[],a=0,i=0,s=0;s<r;s++)-1===n.indexOf(s)?o.push(t[a++]):o.push(e[i++]);return o}function bn(t,e){for(var n=[],r=t.length,o=0;o<r;o++)-1===e.indexOf(o)&&n.push(t[o]);return[n,e.map((function(e){return t[e]}))]}function wn(t,e){return xn(t,e.map((function(t){return 1})),e)}function Cn(t,e,n){C(yn(e,n),(function(){return t+" supports only inner-most axes for now. Got axes "+e+" and rank-"+n+" input."}))}function En(t,e){if(yn(t,e))return null;for(var n=[],r=0;r<e;++r)-1===t.indexOf(r)&&n.push(r);return t.forEach((function(t){return n.push(t)})),n}function Rn(t){return t.map((function(t,e){return[e,t]})).sort((function(t,e){return t[1]-e[1]})).map((function(t){return t[0]}))}function In(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}function kn(t,e){var n=t[0].length;t.forEach((function(t,e){C(t.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+e+"] must be the same as the rank of the rest ("+n+")"}))})),C(e>=0&&e<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=t[0];t.forEach((function(t,o){for(var a=0;a<n;a++)C(a===e||t[a]===r[a],(function(){return"Error in concat"+n+"D: Shape of tensors["+o+"] ("+t+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."}))}))}function Sn(t,e){for(var n=t[0].slice(),r=1;r<t.length;r++)n[e]+=t[r][e];return n}function An(t){var e=Object.keys(t);if(1!==e.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var n=e[0],r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Lt.startScope(n);try{var o=r.apply(void 0,t);return o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Lt.endScope(o),o}catch(t){throw Lt.endScope(null),t}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}He.registerFlag("HAS_WEBGL",(function(){return He.getNumber("WEBGL_VERSION")>0})),He.registerFlag("WEBGL_VERSION",(function(){return Le(2)?2:Le(1)?1:0})),He.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===He.get("WEBGL_VERSION")})),He.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),He.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),He.registerFlag("WEBGL_PACK",(function(){return He.getBool("HAS_WEBGL")})),He.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return He.getBool("WEBGL_PACK")})),He.registerFlag("WEBGL_PACK_CLIP",(function(){return He.getBool("WEBGL_PACK")})),He.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),He.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return He.getBool("WEBGL_PACK")})),He.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return He.getBool("WEBGL_PACK")})),He.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return He.getBool("WEBGL_PACK")})),He.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return He.getBool("WEBGL_PACK")})),He.registerFlag("WEBGL_PACK_REDUCE",(function(){return He.getBool("WEBGL_PACK")})),He.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return He.getBool("WEBGL_PACK")})),He.registerFlag("WEBGL_CONV_IM2COL",(function(){return He.getBool("WEBGL_PACK")})),He.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return Oe(He.getNumber("WEBGL_VERSION"))})),He.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return Me(He.getNumber("WEBGL_VERSION"))})),He.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var t=He.getNumber("WEBGL_VERSION");return 0===t?0:Be(t)})),He.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return He.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(t=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))));var t})),He.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return We(He.getNumber("WEBGL_VERSION"))})),He.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!He.getBool("WEBGL_FORCE_F16_TEXTURES")&&He.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),He.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return Ue(He.getNumber("WEBGL_VERSION"))})),He.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return ze(He.getNumber("WEBGL_VERSION"))})),He.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return He.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),bt=Xe;var Tn=An({complex_:function(t,e){var n=gn(t,"real","complex"),r=gn(e,"imag","complex");return E(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Lt.runKernelFunc((function(t){return t.complex(n,r)}),{$real:n,$imag:r})}}),Dn=An({real_:function(t){var e=gn(t,"input","real");return Lt.runKernelFunc((function(t){return t.real(e)}),{$input:e})}}),Nn=An({imag_:function(t){var e=gn(t,"input","imag");return Lt.runKernelFunc((function(t){return t.imag(e)}),{$input:e})}});function Fn(t,e,n){return _n(t,e,pn(t,n),n)}function _n(t,e,n,r){if(null==r&&(r=j(t)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!V(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=e){nt(e);var o=k(e),a=k(n);C(o===a,(function(){return"Based on the provided shape, ["+e+"], the tensor should have "+o+" values but has "+a}));for(var s=0;s<n.length;++s){var u=n[s],c=s!==n.length-1||u!==k(e.slice(s));C(n[s]===e[s]||!c,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+e+"). "}))}}return V(t)||Array.isArray(t)||(t=[t]),e=e||n,t="string"!==r?Q(t,r,i().getBool("DEBUG")):I(t,[],!0),Lt.makeTensor(t,e,r)}function On(t,e){if((V(t)&&"string"!==e||Array.isArray(t))&&"complex64"!==e)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===e&&V(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return _n(t,[],[],e)}function Mn(t,e){R(t);var n=pn(t,e);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return _n(t,null,n,e)}function Bn(t,e,n){if(R(t),null!=e&&2!==e.length)throw new Error("tensor2d() requires shape to have two numbers");var r=pn(t,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return _n(t,e,r,n)}function Pn(t,e,n){if(R(t),null!=e&&3!==e.length)throw new Error("tensor3d() requires shape to have three numbers");var r=pn(t,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return _n(t,e,r,n)}function Ln(t,e,n){if(R(t),null!=e&&4!==e.length)throw new Error("tensor4d() requires shape to have four numbers");var r=pn(t,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return _n(t,e,r,n)}function Wn(t,e,n){if(R(t),null!=e&&5!==e.length)throw new Error("tensor5d() requires shape to have five numbers");var r=pn(t,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return _n(t,e,r,n)}function Un(t,e,n){if(R(t),null!=e&&6!==e.length)throw new Error("tensor6d() requires shape to have six numbers");var r=pn(t,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return _n(t,e=e||r,r,n)}function Vn(t,e,n,r){return void 0===e&&(e=!0),Lt.makeVariable(t,e,n,r)}function zn(t,e){if(void 0===e&&(e="float32"),"complex64"===e){var n=zn(t,"float32"),r=Gn(t,"float32");return Tn(n,r)}var o=Z(k(t),e);return Lt.makeTensor(o,t,e)}function Gn(t,e){if(void 0===e&&(e="float32"),"complex64"===e){var n=Gn(t,"float32"),r=Gn(t,"float32");return Tn(n,r)}var o=tt(k(t),e);return Lt.makeTensor(o,t,e)}function Hn(t,e,n){return Lt.runKernelFunc((function(r){return r.fill(t,e,n)}),{})}function qn(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");return Lt.runKernelFunc((function(r){return r.linspace(t,e,n)}),{})}function Kn(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(t===e||t<e&&n<0||e<t&&n>1)return Gn([0],r);var o=tt(Math.abs(Math.ceil((e-t)/n)),r);e<t&&1===n&&(n=-1),o[0]=t;for(var a=1;a<o.length;a++)o[a]=o[a-1]+n;return Mn(o,r)}var jn=An({onesLike_:function(t){var e=gn(t,"x","onesLike");if("complex64"===e.dtype){var n=jn(Dn(e)),r=Xn(Nn(e));return Tn(n,r)}return Lt.runKernelFunc((function(t){return t.onesLike(e)}),{x:e},(function(t,e){return{x:function(){return Xn(t)}}}),"OnesLike")}}),Xn=An({zerosLike_:function(t){var e=gn(t,"x","zerosLike");return Lt.runKernelFunc((function(t){return t.zerosLike(e)}),{x:e},(function(t,e){return{x:function(){return Xn(t)}}}),"ZerosLike")}});var Yn=An({concat_:function(t,e){void 0===e&&(e=0),C(t.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=mn(t,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(t){if("complex64"!==t.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+t.dtype+". ")})),e=O(e,n[0].shape)[0];var r=Sn(n.map((function(t){return t.shape})),e);if(0===k(r))return Fn([],r);if(1===(n=n.filter((function(t){return t.size>0}))).length)return n[0];var o=n.map((function(t){return t.shape}));kn(o,e);var a=n,i={axis:e};return Lt.runKernelFunc((function(t){return t.concat(n,e)}),a,(function(t){var n=o.map((function(t){return t[e]}));return tr(t,n,e).map((function(t){return function(){return t}}))}),"Concat",i)}}),$n=An({concat1d_:function(t){return Yn(t,0)}}),Qn=An({concat2d_:function(t,e){return Yn(t,e)}}),Jn=An({concat3d_:function(t,e){return Yn(t,e)}}),Zn=An({concat4d_:function(t,e){return Yn(t,e)}}),tr=An({split_:function(t,e,n){void 0===n&&(n=0);var r,o=gn(t,"x","split");return n=O(n,o.shape)[0],"number"==typeof e?(C(o.shape[n]%e==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(e).fill(o.shape[n]/e)):(C(o.shape[n]===e.reduce((function(t,e){return t+e})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=e),Lt.runKernelFunc((function(t){return t.split(o,r,n)}),{$x:o},(function(t){return{$x:function(){return Yn(t,n)}}}))}});function er(t,e,n){return void 0===e&&(e="float32"),e=e||"float32",nt(t),new mt(t,e,n)}function nr(t,e){void 0===e&&(e=!1),console.log(t.toString(e))}var rr=An({batchToSpaceND_:function(t,e,n){var r=gn(t,"x","batchToSpaceND"),o=e.reduce((function(t,e){return t*e}));return C(r.rank>=1+e.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+e.length})),C(n.length===e.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+e.length})),C(r.shape[0]%o==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+o})),Lt.runKernelFunc((function(t){return t.batchToSpaceND(r,e,n)}),{$x:r},(function(t){return{$x:function(){return t.spaceToBatchND(e,n)}}}))}}),or=An({cast_:function(t,e){var n=gn(t,"x","cast");if(!W(e))throw new Error("Failed to cast to unknown dtype "+e);if("string"===e&&"string"!==n.dtype||"string"!==e&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:e};return Lt.runKernelFunc((function(t){return t.cast(n,e)}),{x:n},(function(t){return{x:function(){return t.clone()}}}),"Cast",r)}}),ar=An({cumsum_:function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var o=gn(t,"x","cumsum"),a=En([e|=0],o.rank),i=o;null!=a&&(i=o.transpose(a));var s=In(1,o.rank)[0],u=Lt.runKernelFunc((function(t){return t.cumsum(i,s,n,r)}),{permutedX:i},(function(t){return{permutedX:function(){return t.cumsum(e,n,!r)}}}));return null!=a&&(u=u.transpose(a)),u}}),ir=An({depthToSpace_:function(t,e,n){void 0===n&&(n="NHWC");var r=gn(t,"x","depthToSpace"),o="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];return C(o*e>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+e+"  for depthToSpace with input shape\n      "+r.shape})),C(a*e>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+e+" for depthToSpace with input shape\n          "+r.shape})),C(i%(e*e)==0,(function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+i+" for depthToSpace with input shape "+r.shape})),Lt.runKernelFunc((function(t){return t.depthToSpace(r,e,n)}),{$x:r})}}),sr=An({expandDims_:function(t,e){void 0===e&&(e=0);var n=gn(t,"x","expandDims",null);C(e<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return e<0&&(C(-(n.rank+1)<=e,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),e=n.rank+e+1),r.splice(e,0,1),ur(n,r)}}),ur=An({reshape_:function(t,e){var n=gn(t,"x","reshape",null);e=_(e,n.size),C(n.size===k(e),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:e};return Lt.runKernelFunc((function(t){return t.reshape(n,e)}),{x:n},(function(t){return{x:function(){return t.reshape(n.shape)}}}),"Reshape",r)}}),cr=An({spaceToBatchND_:function(t,e,n){var r=gn(t,"x","spaceToBatchND");return C(r.rank>=1+e.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+e.length})),C(n.length===e.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+e.length})),C(r.shape.reduce((function(t,r,o){return o>0&&o<=e.length?t&&(r+n[o-1][0]+n[o-1][1])%e[o-1]==0:t}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+e.toString()})),Lt.runKernelFunc((function(t){return t.spaceToBatchND(r,e,n)}),{$x:r},(function(t){return{$x:function(){return t.batchToSpaceND(e,n)}}}))}}),lr=An({squeeze_:function(t,e){var n=gn(t,"x","squeeze");return ur(n,M(n.shape,e).newShape)}}),hr=An({stack_:function(t,e){void 0===e&&(e=0);var n=mn(t,"tensors","stack");if(C(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(e);var r=n[0].rank,o=n[0].shape,a=n[0].dtype;C(e<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(t){E(o,t.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(t){C(a===t.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=n.map((function(t){return t.expandDims(e)}));return Yn(i,e)}}),fr=An({unstack_:function(t,e){void 0===e&&(e=0),e=e||0;var n=gn(t,"x","unstack");C(e>=-n.shape.length&&e<n.shape.length,(function(){return"Axis = "+e+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),e<0&&(e+=n.shape.length);var r={axis:e};return Lt.runKernelFunc((function(t){return t.unstack(n,e)}),{x:n},(function(t){return{x:function(){return hr(t,e)}}}),"Unpack",r)}}),dr=function(t,e){return n(this,void 0,void 0,(function(){var n,o,a,i,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:return n=gn(t,"x","setdiff1d"),o=gn(e,"y","setdiff1d"),C(n.dtype===o.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+o.dtype+")."})),C(1===n.rank,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),C(1===o.rank,(function(){return"y should be 1D tensor, but got y ("+o.shape+")."})),[4,n.data()];case 1:return a=r.sent(),[4,o.data()];case 2:for(i=r.sent(),s=new Set(i),u=0,h=0;h<a.length;h++)s.has(a[h])||u++;for(c=new mt([u],n.dtype),l=new mt([u],"int32"),h=0,f=0;h<a.length;h++)s.has(a[h])||(c.values[f]=a[h],l.values[f]=h,f++);return[2,[c.toTensor(),l.toTensor()]]}}))}))};function pr(t,e,n,r){void 0===r&&(r=!0);var o=[];if(r)(o=o.concat(e.slice(0))).push(t[0]/n),o=o.concat(t.slice(1));else{o=o.concat(t[0]);for(var a=e.length,i=0;i<a;++i)o=o.concat([t[i+1]/e[i],e[i]]);o=o.concat(t.slice(a+1))}return o}function vr(t,e,n){void 0===n&&(n=!0);var r=[];if(n){r.push(e);for(var o=e+1;o<t;++o)o<=2*e?(r.push(o),r.push(o-(e+1))):r.push(o)}else{var a=[],i=[];for(o=1;o<t;++o)o>=2*e+1||o%2==1?i.push(o):a.push(o);r.push.apply(r,a),r.push(0),r.push.apply(r,i)}return r}function gr(t,e,n,r){void 0===r&&(r=!0);var o=[];r?o.push(t[0]/n):o.push(t[0]*n);for(var a=1;a<t.length;++a)a<=e.length?r?o.push(e[a-1]*t[a]):o.push(t[a]/e[a-1]):o.push(t[a]);return o}function mr(t,e){for(var n=[0],r=0;r<e;++r)n.push(t[r][0]);return n}function yr(t,e,n){for(var r=t.slice(0,1),o=0;o<n;++o)r.push(t[o+1]-e[o][0]-e[o][1]);return r}var xr="Add",br="AddN",wr="Div",Cr="FusedBatchNorm",Er="SquaredDifference",Rr="Square",Ir="Transpose",kr="NonMaxSuppressionV5",Sr="BroadcastTo",Ar="OneHot",Tr="Identity",Dr="Tile",Nr="PadV2",Fr="FromPixels",_r="MaxPoolWithArgmax";var Or=An({add_:function(t,e){var n,r=gn(t,"a","add"),o=gn(e,"b","add");n=Nt(r,o),r=n[0],o=n[1];var a={a:r,b:o};return Lt.runKernelFunc((function(t,e){var n=t.add(r,o);return e([r,o]),n}),a,null,xr)}});function Mr(t,e){for(var n=t.length,r=[],o=0;o<n;o++){var a=n-1-o,i=t[a]||1;(e[e.length-1-o]||1)>1&&1===i&&r.unshift(a)}return r}function Br(t,e){for(var n=[],r=0;r<e.length;r++){var o=t[t.length-r-1],a=e.length-r-1,i=e[a];(null==o||1===o&&i>1)&&n.unshift(a)}return n}function Pr(t,e){for(var n=[],r=Math.max(t.length,e.length),o=0;o<r;o++){var a=t[t.length-o-1];null==a&&(a=1);var i=e[e.length-o-1];if(null==i&&(i=1),1===a)n.unshift(i);else if(1===i)n.unshift(a);else{if(a!==i)throw Error("Operands could not be broadcast together with shapes "+t+" and "+e+".");n.unshift(a)}}return n}var Lr=An({abs_:function(t){var e=gn(t,"x","abs");return"complex64"===e.dtype?Lt.runKernelFunc((function(t){return t.complexAbs(e)}),{$x:e}):Lt.runKernelFunc((function(t,n){var r=t.abs(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return t.mul(n.toFloat().step(-1))}}}),"Abs")}}),Wr=An({acos_:function(t){var e=gn(t,"x","acos");return Lt.runKernelFunc((function(t,n){var r=t.acos(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.divStrict(On(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),Ur=An({acosh_:function(t){var e=gn(t,"x","acosh");return Lt.runKernelFunc((function(t,n){var r=t.acosh(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),Vr=An({asin_:function(t){var e=gn(t,"x","asin");return Lt.runKernelFunc((function(t,n){var r=t.asin(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.divStrict(On(1).sub(n.toFloat().square()).sqrt())}}}))}}),zr=An({asinh_:function(t){var e=gn(t,"x","asinh");return Lt.runKernelFunc((function(t,n){var r=t.asinh(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.divStrict(On(1).add(n.toFloat().square()).sqrt())}}}))}}),Gr=An({atan_:function(t){var e=gn(t,"x","atan");return Lt.runKernelFunc((function(t,n){var r=t.atan(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(n.toFloat().square().add(1))}}}))}}),Hr=An({atanh_:function(t){var e=gn(t,"x","atanh");return Lt.runKernelFunc((function(t,n){var r=t.atanh(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(On(1).sub(n.toFloat().square()))}}}))}}),qr=An({ceil_:function(t){var e=gn(t,"x","ceil");return Lt.runKernelFunc((function(t){return t.ceil(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),Kr=An({clipByValue_:function(t,e,n){var r=gn(t,"x","clipByValue");C(e<=n,(function(){return"Error in clip: min ("+e+") must be less than or equal to max ("+n+")."}));var o=[r],a={min:e,max:n};return Lt.runKernelFunc((function(t,o){var a=t.clip(r,e,n);return o([r]),a}),{x:r},(function(t,r){var o=r[0];return{x:function(){return t.where(o.greaterEqual(e).logicalAnd(o.lessEqual(n)),Xn(t))}}}),"ClipByValue",a,o)}}),jr=An({cos_:function(t){var e=gn(t,"x","cos"),n=[e];return Lt.runKernelFunc((function(t,n){var r=t.cos(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return n.toFloat().sin().neg().mul(t)}}}),"Cos",{},n)}}),Xr=An({cosh_:function(t){var e=gn(t,"x","cosh");return Lt.runKernelFunc((function(t,n){var r=t.cosh(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return n.toFloat().sinh().mulStrict(t)}}}))}}),Yr=An({erf_:function(t){var e=gn(t,"x","erf");return C("int32"===e.dtype||"float32"===e.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===e.dtype&&(e=e.toFloat()),Lt.runKernelFunc((function(t,n){var r=t.erf(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),$r=An({exp_:function(t){var e=gn(t,"x","exp");return Lt.runKernelFunc((function(t,n){var r=t.exp(e);return n([r]),r}),{x:e},(function(t,e){return{x:function(){return t.mulStrict(e[0])}}}),"Exp",{},[],[!0])}}),Qr=An({expm1_:function(t){var e=gn(t,"x","expm1");return Lt.runKernelFunc((function(t,n){var r=t.expm1(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.mul(n.exp())}}}))}}),Jr=An({floor_:function(t){var e=gn(t,"x","floor");return Lt.runKernelFunc((function(t){return t.floor(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),Zr=An({log_:function(t){var e=gn(t,"x","log"),n=[e];return Lt.runKernelFunc((function(t,n){var r=t.log(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return t.div(n.toFloat())}}}),"Log",{},n)}}),to=An({log1p_:function(t){var e=gn(t,"x","log1p");return Lt.runKernelFunc((function(t,n){var r=t.log1p(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(n.add(1))}}}))}}),eo=An({logSigmoid_:function(t){var e=gn(t,"x","logSigmoid");return Lt.runKernelFunc((function(t,n){var r=t.softplus(e.neg()).neg();return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.mul(n.neg().sigmoid())}}}))}}),no=An({neg_:function(t){var e=gn(t,"x","neg"),n=[e];return Lt.runKernelFunc((function(t){return t.neg(e)}),{x:e},(function(t){return{x:function(){return t.neg()}}}),"Neg",{},n)}}),ro=An({reciprocal_:function(t){var e=gn(t,"x","reciprocal");return Lt.runKernelFunc((function(t,n){var r=t.reciprocal(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(n.square().neg())}}}))}}),oo=An({round_:function(t){var e=gn(t,"x","round");return Lt.runKernelFunc((function(t){return t.round(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),ao=An({rsqrt_:function(t){var e=gn(t,"x","rsqrt"),n=[e];return Lt.runKernelFunc((function(t,n){var r=t.rsqrt(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return t.div(n.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),io=An({sigmoid_:function(t){var e=gn(t,"x","sigmoid");return Lt.runKernelFunc((function(t,n){var r=t.sigmoid(e);return n([r]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return t.mul(n.mul(On(1).sub(n)))}}}),"Sigmoid")}}),so=An({sign_:function(t){var e=gn(t,"x","sign");return Lt.runKernelFunc((function(t){return t.sign(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),uo=An({isNaN_:function(t){var e=gn(t,"x","isNaN");return Lt.runKernelFunc((function(t){return t.isNaN(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),co=An({isInf_:function(t){var e=gn(t,"x","isInf");return Lt.runKernelFunc((function(t){return t.isInf(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),lo=An({isFinite_:function(t){var e=gn(t,"x","isFinite");return Lt.runKernelFunc((function(t){return t.isFinite(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),ho=An({sin_:function(t){var e=gn(t,"x","sin"),n=[e];return Lt.runKernelFunc((function(t,n){var r=t.sin(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return n.toFloat().cos().mul(t)}}}),"Sin",{},n)}}),fo=An({sinh_:function(t){var e=gn(t,"x","sinh");return Lt.runKernelFunc((function(t,n){var r=t.sinh(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return n.toFloat().cosh().mulStrict(t)}}}))}}),po=An({softplus_:function(t){var e=gn(t,"x","softplus");return Lt.runKernelFunc((function(t,n){var r=t.softplus(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.mul(n.sigmoid())}}}))}}),vo=An({sqrt_:function(t){var e=gn(t,"x","sqrt");return Lt.runKernelFunc((function(t,n){var r=t.sqrt(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(n.toFloat().sqrt().mul(2))}}}))}}),go=An({step_:function(t,e){void 0===e&&(e=0);var n=gn(t,"x","step");return Lt.runKernelFunc((function(t){return t.step(n,e)}),{$x:n},(function(t){return{$x:function(){return Xn(t)}}}))}}),mo=An({tan_:function(t){var e=gn(t,"x","tan");return Lt.runKernelFunc((function(t,n){var r=t.tan(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(n.cos().square())}}}))}}),yo=An({tanh_:function(t){var e=gn(t,"x","tanh");return Lt.runKernelFunc((function(t,n){var r=t.tanh(e);return n([r]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return On(1).sub(n.square()).mulStrict(t)}}}),"Tanh",{},null,[!0])}});var xo=An({addStrict_:function(t,e){var n=gn(t,"a","addStrict"),r=gn(e,"b","addStrict");return E(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),bo=An({atan2_:function(t,e){var n,r=gn(t,"a","atan2"),o=gn(e,"b","atan2");n=Nt(r,o),r=n[0],o=n[1];var a=Pr(r.shape,o.shape);return Lt.runKernelFunc((function(t,e){var n=t.atan2(r,o);return e([r,o]),n}),{$a:r,$b:o},(function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=Or(n.square(),r.square()),o=t.mul(r.div(e)),i=Br(n.shape,a);return i.length>0&&(o=o.sum(i)),o.reshape(n.shape)},$b:function(){var e=Or(n.square(),r.square()),o=no(t.mul(n.div(e))),i=Br(r.shape,a);return i.length>0&&(o=o.sum(i)),o.reshape(r.shape)}}}))}}),wo=An({divStrict_:function(t,e){var n=gn(t,"a","div"),r=gn(e,"b","div");return E(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),Co=An({floorDiv_:function(t,e){var n,r=gn(t,"a","floorDiv"),o=gn(e,"b","floorDiv");n=Nt(r,o),r=n[0],o=n[1];var a=Pr(r.shape,o.shape);return Lt.runKernelFunc((function(t,e){var n=t.floorDiv(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){var e=t.div(r.toFloat()),o=Br(n.shape,a);return o.length>0?e.sum(o).reshape(n.shape):e},b:function(){var e=t.mul(n.toFloat()),o=Br(r.shape,a);o.length>0&&(e=e.sum(o).reshape(r.shape));var i=r.square();return e.div(i.toFloat()).neg()}}}),"FloorDiv")}}),Eo=An({maximum_:function(t,e){var n,r=gn(t,"a","maximum"),o=gn(e,"b","maximum");return n=Nt(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),Pr(r.shape,o.shape),Lt.runKernelFunc((function(t,e){var n=t.maximum(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){return t.mul(n.greaterEqual(r).toFloat())},b:function(){return t.mul(n.less(r).toFloat())}}}),"Maximum")}}),Ro=An({maximumStrict_:function(t,e){var n=gn(t,"a","maximumStrict"),r=gn(e,"b","maximumStrict");return E(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),Io=An({minimum_:function(t,e){var n,r=gn(t,"a","minimum"),o=gn(e,"b","minimum");return n=Nt(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),Pr(r.shape,o.shape),Lt.runKernelFunc((function(t,e){var n=t.minimum(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){return t.mul(n.lessEqual(r).toFloat())},b:function(){return t.mul(n.greater(r).toFloat())}}}),"Minimum")}}),ko=An({minimumStrict_:function(t,e){var n=gn(t,"a","minimumStrict"),r=gn(e,"b","minimumStrict");return E(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),So=An({mod_:function(t,e){var n,r=gn(t,"a","mod"),o=gn(e,"b","mod");n=Nt(r,o),r=n[0],o=n[1];var a=Pr(r.shape,o.shape);return Lt.runKernelFunc((function(t,e){var n=t.mod(r,o);return e([r,o]),n}),{$a:r,$b:o},(function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=Br(n.shape,a);return e.length>0?t.sum(e).reshape(n.shape):t},$b:function(){var e=t.mul(n.div(r).floor().neg()),o=Br(r.shape,a);return o.length>0?e.sum(o).reshape(r.shape):e}}}))}}),Ao=An({modStrict_:function(t,e){var n=gn(t,"a","modStrict"),r=gn(e,"b","modStrict");return E(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),To=An({mul_:function(t,e){var n,r=gn(t,"a","mul"),o=gn(e,"b","mul");n=Nt(r,o),r=n[0],o=n[1];var a=Pr(r.shape,o.shape);return Lt.runKernelFunc((function(t,e){var n=t.multiply(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){var e=t.mul(r.toFloat()),o=Br(n.shape,a);return o.length>0?e.sum(o).reshape(n.shape):e},b:function(){var e=t.mul(n.toFloat()),o=Br(r.shape,a);return o.length>0?e.sum(o).reshape(r.shape):e}}}),"Mul")}}),Do=An({mulStrict_:function(t,e){var n=gn(t,"a","mul"),r=gn(e,"b","mul");return E(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),No=An({pow_:function(t,e){var n,r=gn(t,"base","pow"),o=gn(e,"exp","pow");n=Nt(r,o),r=n[0],o=n[1];var a=Pr(r.shape,o.shape),i=[r,o];return Lt.runKernelFunc((function(t,e){var n=t.pow(r,o);return e([r,o,n]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1],o=e[2];return{a:function(){var e=r.toFloat(),o=t.mul(e.mul(n.pow(e.sub(On(1))))),i=Br(n.shape,a);return i.length>0&&(o=o.sum(i)),o.reshape(n.shape)},b:function(){var e=n.greater(0),i=n.log().where(e,Xn(n)),s=t.mul(o.mul(i)),u=Br(r.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}}),"Pow",{},i,[!0])}}),Fo=An({powStrict_:function(t,e){return E(t.shape,e.shape,"Error in powStrict: "),t.pow(e)}}),_o=An({squaredDifferenceStrict_:function(t,e){var n=gn(t,"a","squaredDifferenceStrict"),r=gn(e,"b","squaredDifferenceStrict");return E(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Oo=An({sub_:function(t,e){var n,r=gn(t,"a","sub"),o=gn(e,"b","sub");n=Nt(r,o),r=n[0],o=n[1];var a=Pr(r.shape,o.shape);return Lt.runKernelFunc((function(t){return t.subtract(r,o)}),{a:r,b:o},(function(t){return{a:function(){var e=t,n=Br(r.shape,a);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},b:function(){var e=t,n=Br(o.shape,a);return n.length>0&&(e=e.sum(n)),e.neg().reshape(o.shape)}}}),"Sub")}}),Mo=An({subStrict_:function(t,e){var n=gn(t,"a","subStrict"),r=gn(e,"b","subStrict");return E(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}});var Bo=An({div_:function(t,e){var n,r=gn(t,"a","div"),o=gn(e,"b","div");if(n=Nt(r,o),r=n[0],o=n[1],"int32"===r.dtype&&"int32"===o.dtype)return Co(r,o);var a={a:r,b:o};return Lt.runKernelFunc((function(t,e){var n=t.realDivide(r,o);return e([r,o]),n}),a,null,wr,{})}});function Po(t,e){if(t.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==e.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>t.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+t.rank);if(0===t.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+t.shape+".");for(var n=e.shape,r=n[n.length-1],o=1,a=0;a<n.length-1;++a)o*=n[a];var i=t.shape,s=n.slice();s.pop();var u=1;for(a=r;a<t.rank;++a)u*=i[a],s.push(i[a]);var c=$(t.shape).map((function(t){return t/u})).concat([1]).slice(0,r);return[s,o,u,c]}var Lo=Object.freeze({prepareAndValidate:Po}),Wo=30;function Uo(t){return t<=Wo?t:Y(t,Math.floor(Math.sqrt(t)))}function Vo(t,e,n){var r=e.rank>1?e.shape[e.rank-1]:1,o=e.rank>1?e.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+e.shape+", shape: "+t+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(a+" update.rank < "+o+". ");if(t.length<r+(n.rank-o))throw new Error(a+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+t.length-r)throw new Error(a+" update.rank != "+(o+t.length-r));for(var i=0;i<o;++i)if(n.shape[i]!==e.shape[i])throw new Error(a+" updates.shape["+i+"] ("+n.shape[i]+") != indices.shape["+i+"] ("+e.shape[i]+").");for(i=0;i<n.rank-o;++i)if(n.shape[i+o]!==t[i+r])throw new Error(a+" updates.shape["+(i+o)+"] ("+n.shape[i+o]+") != shape["+(i+o)+"] ("+t[i+o]+")")}function zo(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==e.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===e.size)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(0===t.size)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}Vo(n,e,t)}function Go(t,e,n){for(var r=e.shape.length,o=r>1?e.shape[r-1]:1,a=n.length,i=1,s=o;s<a;++s)i*=n[s];var u=o<1?1:o;return{sliceRank:o,numUpdates:k(e.shape)/u,sliceSize:i,strides:$(n.slice(0,o)).concat([1]),outputSize:k(n)}}var Ho=Object.freeze({validateUpdateShape:Vo,validateInput:zo,calculateShapes:Go});function qo(t,e,n){C(t.rank===e.length,(function(){return"Error in slice"+t.rank+"D: Length of begin "+e+" must match the rank of the array ("+t.rank+")."})),C(t.rank===n.length,(function(){return"Error in slice"+t.rank+"D: Length of size "+n+" must match the rank of the array ("+t.rank+")."}));for(var r=function(r){C(e[r]+n[r]<=t.shape[r],(function(){return"Error in slice"+t.rank+"D: begin["+r+"] + size["+r+"] ("+(e[r]+n[r])+") would overflow input.shape["+r+"] ("+t.shape[r]+")"}))},o=0;o<t.rank;++o)r(o)}function Ko(t){for(var e=[],n=0;t>0;)1&t&&e.push(n),t/=2,n++;return e}function jo(t,e,n){for(var r=[],o=0;o<t.length;o++)r[o]=Math.ceil((e[o]-t[o])/n[o]);return r}function Xo(t,e,n,r,o){var a=e[o],i=n[o]||1;(t&1<<o||null==a)&&(a=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return a<0&&(a+=s),a=x(0,a,s-1)}function Yo(t,e,n,r,o){var a=e[o],i=n[o]||1;(t&1<<o||null==a)&&(a=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return a<0&&(a+=s),a=i>0?x(0,a,s):x(-1,a,s-1)}function $o(t,e,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(e[o]>0||n[o]!==t[o])return!1;return!0}function Qo(t,e){for(var n=t.length>0?t[t.length-1]:1,r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}var Jo=Object.freeze({assertParamsValid:qo,maskToAxes:Ko,computeOutShape:jo,startForAxis:Xo,stopForAxis:Yo,isSliceContinous:$o,computeFlatOffset:Qo});function Zo(t){return C(X(t),(function(){return"The f passed in grad(f) must be a function"})),function(e,n){var r=gn(e,"x","tf.grad",null),o=null!=n?gn(n,"dy","tf.grad"):null;return Lt.tidy((function(){var e=Lt.gradients((function(){return t(r)}),[r],o),n=e.value,a=e.grads;return null!=o&&E(n.shape,o.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),aa(a),a[0]}))}}function ta(t){return C(X(t),(function(){return"The f passed in grads(f) must be a function"})),function(e,n){C(Array.isArray(e),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var r=mn(e,"args","tf.grads",null),o=null!=n?gn(n,"dy","tf.grads"):null;return Lt.tidy((function(){var e=Lt.gradients((function(){return t.apply(void 0,r)}),r,o),n=e.value,a=e.grads;return null!=o&&E(n.shape,o.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),aa(a),a}))}}function ea(t){return C(X(t),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(e,n){C(e instanceof wt,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),C(null==n||n instanceof wt,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=Lt.gradients((function(){return t(e)}),[e],n),o=r.grads,a=r.value;return aa(o),{grad:o[0],value:a}}}function na(t){return C(X(t),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(e,n){C(Array.isArray(e)&&e.every((function(t){return t instanceof wt})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),C(null==n||n instanceof wt,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var r=Lt.gradients((function(){return t.apply(void 0,e)}),e,n);return null!=n&&E(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),aa(r.grads),r}}function ra(t,e){C(X(t),(function(){return"The f passed in variableGrads(f) must be a function"})),C(null==e||Array.isArray(e)&&e.every((function(t){return t instanceof St})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=e;if(!n)for(var r in e=[],Lt.registeredVariables)e.push(Lt.registeredVariables[r]);var o=n?e.filter((function(t){return!t.trainable})):null,a=e.length;C((e=e.filter((function(t){return t.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."}));var i=Lt.gradients(t,e,null,!0),s=i.value,u=i.grads;C(u.some((function(t){return null!=t})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),C(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var c={};return e.forEach((function(t,e){null!=u[e]&&(c[t.name]=u[e])})),null!=o&&o.forEach((function(t){return c[t.name]=null})),{value:s,grads:c}}function oa(t){return Lt.customGrad(t)}function aa(t){if(t.filter((function(t){return null==t})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}var ia=An({softmax_:function(t,e){void 0===e&&(e=-1);var n=gn(t,"logits","softmax","float32");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+e);return Lt.runKernelFunc((function(t,r){var o=t.softmax(n,e);return r([o]),o}),{logits:n},(function(t,n){var r=n[0],o=t.mul(r);return{logits:function(){return o.sub(o.sum([e],!0).mul(r))}}}),"Softmax",{dim:e},[],[!0])}}),sa=An({logSoftmax_:function(t,e){void 0===e&&(e=-1);var n=gn(t,"logits","logSoftmax");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+e);return oa((function(t,n){var r=t.max(e,!0),o=t.sub(r),a=o.toFloat().sub(o.exp().sum(e,!0).log());n([a]);return{value:a,gradFunc:function(t,n){var r=n[0].exp();return t.sub(t.sum(e,!0).mul(r))}}}))(n)}});var ua=An({transpose_:function(t,e){var n=gn(t,"x","transpose");if(null==e&&(e=n.shape.map((function(t,e){return e})).reverse()),C(n.rank===e.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+e+"."})),e.forEach((function(t){C(t>=0&&t<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+e}))})),n.rank<=1)return n.clone();var r={perm:e};return Lt.runKernelFunc((function(t){return t.transpose(n,e)}),{x:n},null,"Transpose",r)}}),ca=function(){function t(t,e){this.backend=t,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}return t.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},t.prototype.set=function(t,e){this.dataIdsCount++,this.data.set(t,e)},t.prototype.has=function(t){return this.data.has(t)},t.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},t.prototype.numDataIds=function(){return this.dataIdsCount},t}(),la=function(){function t(){}return t.prototype.time=function(t){return ha("time")},t.prototype.read=function(t){return ha("read")},t.prototype.readSync=function(t){return ha("readSync")},t.prototype.numDataIds=function(){return ha("numDataIds")},t.prototype.disposeData=function(t){return ha("disposeData")},t.prototype.write=function(t,e,n){return ha("write")},t.prototype.move=function(t,e,n,r){return ha("move")},t.prototype.memory=function(){return ha("memory")},t.prototype.floatPrecision=function(){return ha("floatPrecision")},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.batchMatMul=function(t,e,n,r){return ha("batchMatMul")},t.prototype.fusedBatchMatMul=function(t){t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights;return ha("fusedBatchMatMul")},t.prototype.slice=function(t,e,n){return ha("slice")},t.prototype.stridedSlice=function(t,e,n,r){return ha("stridedSlice")},t.prototype.unstack=function(t,e){return ha("unstack")},t.prototype.reverse=function(t,e){return ha("reverse")},t.prototype.concat=function(t,e){return ha("concat")},t.prototype.neg=function(t){return ha("neg")},t.prototype.add=function(t,e){return ha("add")},t.prototype.addN=function(t){return ha("addN")},t.prototype.subtract=function(t,e){return ha("subtract")},t.prototype.multiply=function(t,e){return ha("multiply")},t.prototype.realDivide=function(t,e){return ha("realDivide")},t.prototype.floorDiv=function(t,e){return ha("floorDiv")},t.prototype.sum=function(t,e){return ha("sum")},t.prototype.prod=function(t,e){return ha("prod")},t.prototype.unsortedSegmentSum=function(t,e,n){return ha("unsortedSegmentSum")},t.prototype.argMin=function(t,e){return ha("argMin")},t.prototype.argMax=function(t,e){return ha("argMax")},t.prototype.equal=function(t,e){return ha("equal")},t.prototype.notEqual=function(t,e){return ha("notEqual")},t.prototype.less=function(t,e){return ha("less")},t.prototype.lessEqual=function(t,e){return ha("lessEqual")},t.prototype.greater=function(t,e){return ha("greater")},t.prototype.greaterEqual=function(t,e){return ha("greaterEqual")},t.prototype.logicalNot=function(t){return ha("logicalNot")},t.prototype.logicalAnd=function(t,e){return ha("logicalAnd")},t.prototype.logicalOr=function(t,e){return ha("logicalOr")},t.prototype.where=function(t){return ha("where")},t.prototype.select=function(t,e,n){return ha("select")},t.prototype.topk=function(t,e,n){return ha("topk")},t.prototype.min=function(t,e){return ha("min")},t.prototype.minimum=function(t,e){return ha("minimum")},t.prototype.mod=function(t,e){return ha("mod")},t.prototype.max=function(t,e){return ha("max")},t.prototype.maximum=function(t,e){return ha("maximum")},t.prototype.all=function(t,e){return ha("all")},t.prototype.any=function(t,e){return ha("any")},t.prototype.squaredDifference=function(t,e){return ha("squaredDifference")},t.prototype.ceil=function(t){return ha("ceil")},t.prototype.floor=function(t){return ha("floor")},t.prototype.round=function(t){return ha("round")},t.prototype.sign=function(t){return ha("sign")},t.prototype.isNaN=function(t){return ha("isNaN")},t.prototype.isInf=function(t){return ha("isInf")},t.prototype.isFinite=function(t){return ha("isFinite")},t.prototype.pow=function(t,e){return ha("pow")},t.prototype.exp=function(t){return ha("exp")},t.prototype.expm1=function(t){return ha("expm1")},t.prototype.softmax=function(t,e){return ha("softmax")},t.prototype.log=function(t){return ha("log")},t.prototype.log1p=function(t){return ha("log1p")},t.prototype.sqrt=function(t){return ha("sqrt")},t.prototype.rsqrt=function(t){return ha("rsqrt")},t.prototype.square=function(t){return ha("square")},t.prototype.reciprocal=function(t){return ha("reciprocal")},t.prototype.relu=function(t){return ha("relu")},t.prototype.relu6=function(t){return ha("relu6")},t.prototype.prelu=function(t,e){return ha("prelu")},t.prototype.elu=function(t){return ha("elu")},t.prototype.eluDer=function(t,e){return ha("eluDer")},t.prototype.selu=function(t){return ha("selu")},t.prototype.int=function(t){return ha("int")},t.prototype.clip=function(t,e,n){return ha("clip")},t.prototype.abs=function(t){return ha("abs")},t.prototype.complexAbs=function(t){return ha("complexAbs")},t.prototype.sigmoid=function(t){return ha("sigmoid")},t.prototype.softplus=function(t){return ha("softplus")},t.prototype.sin=function(t){return ha("sin")},t.prototype.cos=function(t){return ha("cos")},t.prototype.tan=function(t){return ha("tan")},t.prototype.asin=function(t){return ha("asin")},t.prototype.acos=function(t){return ha("acos")},t.prototype.atan=function(t){return ha("atan")},t.prototype.atan2=function(t,e){return ha("atan2")},t.prototype.sinh=function(t){return ha("sinh")},t.prototype.cosh=function(t){return ha("cosh")},t.prototype.tanh=function(t){return ha("tanh")},t.prototype.asinh=function(t){return ha("asinh")},t.prototype.acosh=function(t){return ha("acosh")},t.prototype.atanh=function(t){return ha("atanh")},t.prototype.erf=function(t){return ha("erf")},t.prototype.step=function(t,e){return ha("step")},t.prototype.fusedConv2d=function(t){t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights;return ha("fusedConv2d")},t.prototype.conv2d=function(t,e,n){return ha("conv2d")},t.prototype.conv2dDerInput=function(t,e,n){return ha("conv2dDerInput")},t.prototype.conv2dDerFilter=function(t,e,n){return ha("conv2dDerFilter")},t.prototype.fusedDepthwiseConv2D=function(t){t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights;return ha("fusedDepthwiseConv2D")},t.prototype.depthwiseConv2D=function(t,e,n){return ha("depthwiseConv2D")},t.prototype.depthwiseConv2DDerInput=function(t,e,n){return ha("depthwiseConv2DDerInput")},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){return ha("depthwiseConv2DDerFilter")},t.prototype.conv3d=function(t,e,n){return ha("conv3d")},t.prototype.conv3dDerInput=function(t,e,n){return ha("conv3dDerInput")},t.prototype.conv3dDerFilter=function(t,e,n){return ha("conv3dDerFilter")},t.prototype.maxPool=function(t,e){return ha("maxPool")},t.prototype.maxPoolBackprop=function(t,e,n,r){return ha("maxPoolBackprop")},t.prototype.avgPool=function(t,e){return ha("avgPool")},t.prototype.avgPoolBackprop=function(t,e,n){return ha("avgPoolBackprop")},t.prototype.avgPool3d=function(t,e){return ha("avgPool3d")},t.prototype.avgPool3dBackprop=function(t,e,n){return ha("avgPool3dBackprop")},t.prototype.maxPool3d=function(t,e){return ha("maxPool3d")},t.prototype.maxPool3dBackprop=function(t,e,n,r){return ha("maxPool3dBackprop")},t.prototype.reshape=function(t,e){return ha("reshape")},t.prototype.cast=function(t,e){return ha("cast")},t.prototype.tile=function(t,e){return ha("tile")},t.prototype.pad=function(t,e,n){return ha("pad")},t.prototype.transpose=function(t,e){return ha("transpose")},t.prototype.gather=function(t,e,n){return ha("gather")},t.prototype.gatherND=function(t,e){return ha("gatherND")},t.prototype.scatterND=function(t,e,n){return ha("scatterND")},t.prototype.batchToSpaceND=function(t,e,n){return ha("batchToSpaceND")},t.prototype.spaceToBatchND=function(t,e,n){return ha("spaceToBatchND")},t.prototype.resizeBilinear=function(t,e,n,r){return ha("resizeBilinear")},t.prototype.resizeBilinearBackprop=function(t,e,n){return ha("resizeBilinearBackprop")},t.prototype.resizeNearestNeighbor=function(t,e,n,r){return ha("resizeNearestNeighbor")},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){return ha("resizeNearestNeighborBackprop")},t.prototype.batchNormalization=function(t,e,n,r,o,a){return ha("batchNormalization")},t.prototype.localResponseNormalization4D=function(t,e,n,r,o){return ha("localResponseNormalization4D")},t.prototype.LRNGrad=function(t,e,n,r,o,a,i){return ha("LRNGrad")},t.prototype.multinomial=function(t,e,n,r){return ha("multinomial")},t.prototype.oneHot=function(t,e,n,r){return ha("oneHot")},t.prototype.cumsum=function(t,e,n,r){return ha("cumsum")},t.prototype.nonMaxSuppression=function(t,e,n,r,o){return ha("nonMaxSuppression")},t.prototype.fft=function(t){return ha("fft")},t.prototype.ifft=function(t){return ha("ifft")},t.prototype.complex=function(t,e){return ha("complex")},t.prototype.real=function(t){return ha("real")},t.prototype.imag=function(t){return ha("imag")},t.prototype.cropAndResize=function(t,e,n,r,o,a){return ha("cropAndResize")},t.prototype.depthToSpace=function(t,e,n){return ha("depthToSpace")},t.prototype.split=function(t,e,n){return ha("split")},t.prototype.sparseToDense=function(t,e,n,r){return ha("sparseToDense")},t.prototype.diag=function(t){return ha("diag")},t.prototype.fill=function(t,e,n){return ha("fill")},t.prototype.onesLike=function(t){return ha("onesLike")},t.prototype.zerosLike=function(t){return ha("zerosLike")},t.prototype.linspace=function(t,e,n){return ha("linspace")},t.prototype.dispose=function(){return ha("dispose")},t}();function ha(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function fa(t,e,n,r,o,a,i){void 0===i&&(i="channelsLast");var s,u=ma(e),c=u[0],l=u[1];if("channelsLast"===i)s=[c,l,t[3],t[3]];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);s=[c,l,t[1],t[1]]}return pa(t,s,n,r,o,a,!1,i)}function da(t,e,n,r,o,a,i){void 0===i&&(i="NDHWC");var s,u,c=ya(e),l=c[0],h=c[1],f=c[2];if("NDHWC"===i)u="channelsLast",s=[l,h,f,t[4],t[4]];else{if("NCDHW"!==i)throw new Error("Unknown dataFormat "+i);u="channelsFirst",s=[l,h,f,t[1],t[1]]}return va(t,s,n,r,o,!1,u,a)}function pa(t,e,n,r,o,a,i,s){void 0===i&&(i=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],c=u[0],l=u[1],h=u[2],f=u[3];if("channelsLast"===s)c=t[0],l=t[1],h=t[2],f=t[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);c=t[0],f=t[1],l=t[2],h=t[3]}var d,p=e[0],v=e[1],g=e[3],m=ma(n),y=m[0],x=m[1],b=ma(r),w=b[0],E=b[1],R=xa(p,w),I=xa(v,E),k=function(t,e,n,r,o,a,i,s){var u,c,l;if("number"==typeof t){u={top:t,bottom:t,left:t,right:t,type:0===t?"VALID":"NUMBER"};var h=function(t,e,n,r,o){null==r&&(r=ga(t,e,n));var a=t[0],i=t[1],s=ba((a-e+2*r)/n+1,o);C(A(s),(function(){return"The output # of rows ("+s+") must be an integer. Change the stride and/or zero pad parameters"}));var u=ba((i-e+2*r)/n+1,o);return C(A(u),(function(){return"The output # of columns ("+u+") must be an integer. Change the stride and/or zero pad parameters"})),[s,u]}([e,n],a,r,t,s);c=h[0],l=h[1]}else if("same"===t){c=Math.ceil(e/r),l=Math.ceil(n/o);var f=Math.max(0,(c-1)*r+a-e),d=Math.max(0,(l-1)*o+i-n),p=Math.floor(f/2),v=f-p,g=Math.floor(d/2);u={top:p,bottom:v,left:g,right:d-g,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-a+1)/r),l=Math.ceil((n-i+1)/o)}return{padInfo:u,outHeight:c,outWidth:l}}(o,l,h,y,x,R,I,a),S=k.padInfo,T=k.outHeight,D=k.outWidth,N=i?g*f:g;return"channelsFirst"===s?d=[c,N,T,D]:"channelsLast"===s&&(d=[c,T,D,N]),{batchSize:c,dataFormat:s,inHeight:l,inWidth:h,inChannels:f,outHeight:T,outWidth:D,outChannels:N,padInfo:S,strideHeight:y,strideWidth:x,filterHeight:p,filterWidth:v,effectiveFilterHeight:R,effectiveFilterWidth:I,dilationHeight:w,dilationWidth:E,inShape:t,outShape:d,filterShape:e}}function va(t,e,n,r,o,a,i,s){void 0===a&&(a=!1),void 0===i&&(i="channelsLast");var u=[-1,-1,-1,-1,-1],c=u[0],l=u[1],h=u[2],f=u[3],d=u[4];if("channelsLast"===i)c=t[0],l=t[1],h=t[2],f=t[3],d=t[4];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);c=t[0],d=t[1],l=t[2],h=t[3],f=t[4]}var p,v=e[0],g=e[1],m=e[2],y=e[4],x=ya(n),b=x[0],w=x[1],E=x[2],R=ya(r),I=R[0],k=R[1],S=R[2],T=xa(v,I),D=xa(g,k),N=xa(m,S),F=function(t,e,n,r,o,a,i,s,u,c,l){var h,f,d,p;if("number"==typeof t){h={top:t,bottom:t,left:t,right:t,front:t,back:t,type:0===t?"VALID":"NUMBER"};var v=function(t,e,n,r,o,a){null==o&&(o=ga(t,e,r));var i=t[0],s=t[1],u=t[2],c=ba((i-e+2*o)/r+1,a);C(A(c),(function(){return"The output # of depths ("+c+") must be an integer. Change the stride and/or zero pad parameters"}));var l=ba((s-e+2*o)/r+1,a);C(A(l),(function(){return"The output # of rows ("+l+") must be an integer. Change the stride and/or zero pad parameters"}));var h=ba((u-e+2*o)/r+1,a);return C(A(h),(function(){return"The output # of columns ("+h+") must be an integer. Change the stride and/or zero pad parameters"})),[c,l,h,n]}([e,n,r,1],s,1,o,t,l);f=v[0],d=v[1],p=v[2]}else if("same"===t){f=Math.ceil(e/o),d=Math.ceil(n/a),p=Math.ceil(r/i);var g=(f-1)*o+s-e,m=(d-1)*a+u-n,y=(p-1)*i+c-r,x=Math.floor(g/2),b=g-x,w=Math.floor(m/2),E=m-w,R=Math.floor(y/2);h={top:w,bottom:E,left:R,right:y-R,front:x,back:b,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);h={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((e-s+1)/o),d=Math.ceil((n-u+1)/a),p=Math.ceil((r-c+1)/i)}return{padInfo:h,outDepth:f,outHeight:d,outWidth:p}}(o,l,h,f,b,w,E,T,D,N,s),_=F.padInfo,O=F.outDepth,M=F.outHeight,B=F.outWidth,P=a?y*d:y;return"channelsFirst"===i?p=[c,P,O,M,B]:"channelsLast"===i&&(p=[c,O,M,B,P]),{batchSize:c,dataFormat:i,inDepth:l,inHeight:h,inWidth:f,inChannels:d,outDepth:O,outHeight:M,outWidth:B,outChannels:P,padInfo:_,strideDepth:b,strideHeight:w,strideWidth:E,filterDepth:v,filterHeight:g,filterWidth:m,effectiveFilterDepth:T,effectiveFilterHeight:D,effectiveFilterWidth:N,dilationDepth:I,dilationHeight:k,dilationWidth:S,inShape:t,outShape:p,filterShape:e}}function ga(t,e,n,r){void 0===r&&(r=1);var o=xa(e,r);return Math.floor((t[0]*(n-1)-n+o)/2)}function ma(t){return"number"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}function ya(t){return"number"==typeof t?[t,t,t]:t}function xa(t,e){return e<=1?t:t+(t-1)*(e-1)}function ba(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function wa(t){var e=ma(t),n=e[0],r=e[1],o=e[2];return 1===n&&1===r&&1===o}function Ca(t,e){return wa(t)||wa(e)}function Ea(t){if("NHWC"===t)return"channelsLast";if("NCHW"===t)return"channelsFirst";throw new Error("Unknown dataFormat "+t)}function Ra(t,e,n){if("complex64"===e){if("complex64"===t.dtype)return t.clone();var r=Gn(t.shape),o=t.toFloat(),a=n.complex(o,r);return r.dispose(),o.dispose(),a}if(!U(t.dtype,e))return Lt.makeTensorFromDataId(t.dataId,t.shape,e);if("complex64"===t.dtype){var i=n.real(t);a=i.cast(e);return i.dispose(),a}if("int32"===e)return n.int(t);if("bool"===e){var s=On(0,t.dtype);a=n.notEqual(t,s);return s.dispose(),a}throw new Error("Error in Cast: failed to cast "+t.dtype+" to "+e)}function Ia(t,e){return Lt.makeTensorFromDataId(t.dataId,e,t.dtype)}function ka(t,e,n){var r=(e-t)/(n-1),o=tt(n,"float32");o[0]=t;for(var a=1;a<o.length;a++)o[a]=o[a-1]+r;return Mn(o,"float32")}var Sa=Object.freeze({castTensor:Ra,reshapeTensor:Ia,linspaceImpl:ka,upcastType:Tt,axesAreInnerMostDims:yn,combineLocations:xn,computeOutAndReduceShapes:bn,expandShapeToKeepDim:wn,assertAxesAreInnerMostDims:Cn,getAxesPermutation:En,getUndoAxesPermutation:Rn,getInnerMostAxes:In,getBroadcastDims:Mr,getReductionAxes:Br,assertAndGetBroadcastShape:Pr,assertParamsConsistent:kn,computeOutShape:Sn,computePool2DInfo:fa,computePool3DInfo:da,computeConv2DInfo:pa,computeConv3DInfo:va,computeDefaultPad:ga,tupleValuesAreOne:wa,eitherStridesOrDilationsAreOne:Ca,convertConv2DDataFormat:Ea,PARALLELIZE_THRESHOLD:Wo,computeOptimalWindowSize:Uo});function Aa(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+t.length+", imag: "+e.length+".");for(var n=new Float32Array(2*t.length),r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function Ta(t,e){return{real:t[2*e],imag:t[2*e+1]}}function Da(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function Na(t,e,n){var r=(n?2:-2)*Math.PI*(t/e);return{real:Math.cos(r),imag:Math.sin(r)}}function Fa(t,e,n){var r=function(t,e,n){return function(t,e,n){var r=0,o=t.length,a=0,i=!1;for(;r<o;){var s=n(e,t[a=r+(o-r>>>1)]);s>0?r=a+1:(o=a,i=!s)}return i?r:-r-1}(t,e,n||_a)}(t,e,n),o=r<0?-(r+1):r;t.splice(o,0,e)}function _a(t,e){return t>e?1:t<e?-1:0}function Oa(t,e,n,r,o){return Ba(t,e,n,r,o,0).selectedIndices}function Ma(t,e,n,r,o,a){var i=Ba(t,e,n,r,o,a,!0);return i.numValidOutputs.dispose(),{selectedIndices:i.selectedIndices,selectedScores:i.selectedScores}}function Ba(t,e,n,r,o,a,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);for(var u=Array.from(e).map((function(t,e){return{score:t,boxIndex:e,suppressBeginIndex:0}})).filter((function(t){return t.score>o})).sort(Wa),c=a>0?-.5/a:0,l=[],h=[];l.length<n&&u.length>0;){var f=u.pop(),d=f.score,p=f.boxIndex,v=f.suppressBeginIndex;if(d<o)break;for(var g=!1,m=l.length-1;m>=v;--m){var y=Pa(t,p,l[m]);if(y>=r){g=!0;break}if(f.score=f.score*La(r,c,y),f.score<=o)break}f.suppressBeginIndex=l.length,g||(f.score===d?(l.push(p),h.push(f.score)):f.score>o&&Fa(u,f,Wa))}var x=l.length;return s&&(l.fill(0,x),h.fill(0,x)),{selectedIndices:Mn(l,"int32"),selectedScores:Mn(h,"float32"),numValidOutputs:On(x,"int32")}}function Pa(t,e,n){var r=t.subarray(4*e,4*e+4),o=t.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(o[0],o[2]),l=Math.min(o[1],o[3]),h=Math.max(o[0],o[2]),f=Math.max(o[1],o[3]),d=(s-a)*(u-i),p=(h-c)*(f-l);if(d<=0||p<=0)return 0;var v=Math.max(a,c),g=Math.max(i,l),m=Math.min(s,h),y=Math.min(u,f),x=Math.max(m-v,0)*Math.max(y-g,0);return x/(d+p-x)}function La(t,e,n){var r=Math.exp(e*n*n);return n<=t?r:0}function Wa(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function Ua(t,e,n){var r=new Array(t.rank).fill(0),o=t.shape.slice();return e.map((function(e){o[n]=e;var a=t.slice(r,o);return r[n]+=e,a}))}function Va(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];var o=er(n,t.dtype);for(r=0;r<o.values.length;++r){for(var a=o.indexToLoc(r),i=new Array(t.rank),s=0;s<i.length;s++)i[s]=a[s]%t.shape[s];var u=t.locToIndex(i);o.values[r]=t.values[u]}return o.toTensor()}function za(t,e,n,r,o){for(var a=e[e.length-1],i=[t.length/a,a],s=i[0],u=i[1],c=B(n,s*r),l=B("int32",s*r),h=0;h<s;h++){for(var f=h*u,d=t.subarray(f,f+u),p=[],v=0;v<d.length;v++)p.push({value:d[v],index:v});p.sort((function(t,e){return e.value-t.value}));var g=h*r,m=c.subarray(g,g+r),y=l.subarray(g,g+r);for(v=0;v<r;v++)m[v]=p[v].value,y[v]=p[v].index}var x=e.slice();return x[x.length-1]=r,[Fn(c,x,n),Fn(l,x,"int32")]}function Ga(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(r);var o=er(t,"int32"),a=er([n.length,t.length],"int32");for(r=0;r<n.length;r++){var i=o.indexToLoc(n[r]),s=r*t.length;a.values.set(i,s)}return a.toTensor()}var Ha=function(t,e){this.outputShape=[],this.outputShape=t,this.variableNames=e.map((function(t,e){return"T"+e}));var n=[];this.variableNames.forEach((function(t){n.push("float v"+t+" = get"+t+"AtOutCoords();")}));var r=this.variableNames.map((function(t){return"v"+t})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},qa=function(t,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=e.map((function(t,e){return"T"+e}));var n=[];this.variableNames.forEach((function(t){n.push("vec4 v"+t+" = get"+t+"AtOutCoords();")}));var r=this.variableNames.map((function(t){return"v"+t})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},Ka=function(t,e,n){this.variableNames=["A"];var r=t.windowSize,o=t.batchSize,a=t.inSize,i=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];var s="max"===e?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function ja(t,e){return["x","y","z","w","u","v"].slice(0,e).map((function(e){return t+"."+e}))}function Xa(t,e){return 1===e?[t]:ja(t,e)}function Ya(){var t,e,n,r,o,a,s,u,c,l;return 2===i().getNumber("WEBGL_VERSION")?(t="#version 300 es",e="in",n="out",r="in",o="texture",a="outputColor",s="out vec4 outputColor;",u="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(t="",e="attribute",n="varying",r="varying",o="texture2D",a="gl_FragColor",s="",u="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:o,output:a,defineOutput:s,defineSpecialNaN:u,defineSpecialInf:c,defineRound:l}}function $a(t,e,n){void 0===n&&(n="index");var r=$(e);return r.map((function(e,o){return"int "+t[o]+" = "+n+" / "+e+"; "+(o===r.length-1?"int "+t[o+1]+" = "+n+" - "+t[o]+" * "+e:"index -= "+t[o]+" * "+e)+";"})).join("")}function Qa(t){var e=$(t).map((function(t){return t.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+e[0]+" + coords.y * "+e[1]+" + coords.z;\n  }\n"}var Ja="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function Za(t,e,n,r){var o=[];t.forEach((function(t){var e=k(t.shapeInfo.logicalShape);t.shapeInfo.isUniform?o.push("uniform float "+t.name+(e>1?"["+e+"]":"")+";"):(o.push("uniform sampler2D "+t.name+";"),o.push("uniform int offset"+t.name+";"))}));var a,i,s=o.join("\n"),u=t.map((function(t){return function(t,e,n){void 0===n&&(n=!1);var r="";r+=n?ei(t):ti(t);var o=t.shapeInfo.logicalShape,a=e.logicalShape;o.length<=a.length&&(r+=n?function(t,e){var n,r=t.name,o=r.charAt(0).toUpperCase()+r.slice(1),a="get"+o+"AtOutCoords",i=t.shapeInfo.logicalShape.length,s=e.logicalShape.length,u=Mr(t.shapeInfo.logicalShape,e.logicalShape),c=ui(s),l=s-i,h=["x","y","z","w","u","v"];n=0===i?"":s<2&&u.length>=1?"coords = 0;":u.map((function(t){return"coords."+h[t+l]+" = 0;"})).join("\n");var f="";f=s<2&&i>0?"coords":t.shapeInfo.logicalShape.map((function(t,e){return"coords."+h[e+l]})).join(", ");var d="return outputValue;",p=1===k(t.shapeInfo.logicalShape),v=1===k(e.logicalShape);if(1!==i||p||v){if(p&&!v)d=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var g=i-2,m=i-1;u.indexOf(g)>-1&&u.indexOf(m)>-1?d="return vec4(outputValue.x);":u.indexOf(g)>-1?d="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(m)>-1&&(d="return vec4(outputValue.xx, outputValue.zz);")}}else d="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+a+"() {\n      "+c+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+o+"("+f+");\n      "+d+"\n    }\n  "}(t,e):function(t,e){var n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",a=e.texShape,i=t.shapeInfo.texShape,s=t.shapeInfo.logicalShape.length,u=e.logicalShape.length;if(!t.shapeInfo.isUniform&&s===u&&null==t.shapeInfo.flatOffset&&S(i,a))return"\n      float "+o+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var c,l=ui(u),h=Mr(t.shapeInfo.logicalShape,e.logicalShape),f=u-s,d=["x","y","z","w","u","v"];c=0===s?"":u<2&&h.length>=1?"coords = 0;":h.map((function(t){return"coords."+d[t+f]+" = 0;"})).join("\n");var p="";p=u<2&&s>0?"coords":t.shapeInfo.logicalShape.map((function(t,e){return"coords."+d[e+f]})).join(", ");return"\n    float "+o+"() {\n      "+l+" coords = getOutputCoords();\n      "+c+"\n      return get"+r+"("+p+");\n    }\n  "}(t,e));return r}(t,e,r)})).join("\n"),c=e.texShape,l=Ya(),h=function(t){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+t.texture2D+"(textureSampler, uv).r;\n    }\n  "}(l),f=function(t){return t.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+t.varyingFs+" vec2 resultUV;\n    "+t.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+t.defineSpecialNaN+"\n    "+t.defineSpecialInf+"\n    "+t.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+ni+"\n    "+ri+"\n    "+oi+"\n  "}(l);return e.isPacked?(a=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(1===n[0])return"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ";if(1===n[1])return"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,e);case 2:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(S(t,e))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(t[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(t,e);case 3:return n=t,r=e,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=Math.ceil(n[2]/2),i=a*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+o[0]+", "+o[1]+"));\n      int index = resTexRC.x * "+o[1]+" + resTexRC.y;\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+a+");\n      int c = imod(index, "+a+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(t,e){for(var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[t.length-1]/2),o=r*Math.ceil(t[t.length-2]/2),a=o,i="",s="b, r, c",u=2;u<t.length-1;u++)a*=t[t.length-u-1],i="\n      int b"+u+" = index / "+a+";\n      index -= b"+u+" * "+a+";\n    "+i,s="b"+u+", "+s;return"\n    ivec"+t.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+i+"\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+t.length+"("+s+");\n    }\n  "}(t,e)}var n,r,o,a,i}(e.logicalShape,c),i=function(t){return"\n    void setOutput(vec4 val) {\n      "+t.output+" = val;\n    }\n  "}(l)):(a=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){if(1===e[0])return"\n      int getOutputCoords() {\n        return int(resultUV.x * "+e[1]+".0);\n      }\n    ";if(1===e[1])return"\n      int getOutputCoords() {\n        return int(resultUV.y * "+e[0]+".0);\n      }\n    ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      return resTexRC.x * "+e[1]+" + resTexRC.y;\n    }\n  "}(0,e);case 2:return function(t,e){if(S(t,e))return"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+e[0]+", "+e[1]+"));\n      }\n    ";if(1===t[1])return"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ";if(1===t[0])return"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+t[1]+";\n      int c = index - r * "+t[1]+";\n      return ivec2(r, c);\n    }\n  "}(t,e);case 3:return n=e,r=$a(["r","c","d"],t),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(t,e){var n=$a(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(t,e);case 5:return function(t,e){var n=$a(["r","c","d","d2","d3"],t);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+e[0]+",\n                             "+e[1]+"));\n\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(t,e);case 6:return function(t,e){var n=$a(["r","c","d","d2","d3","d4"],t);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(t,e);default:throw new Error(t.length+"-D output sampling is not yet supported")}var n,r}(e.logicalShape,c),i=function(t){return"\n    void setOutput(float val) {\n      "+t.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(l)),r&&(f+=ai),[f,h,i,s,a,u,n].join("\n")}function ti(t){var e=t.shapeInfo.logicalShape;switch(e.length){case 0:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);if(t.shapeInfo.isUniform)return"float "+n+"() {return "+e+";}";var r=t.shapeInfo.texShape,o=r[0],a=r[1];if(1===o&&1===a)return"\n      float "+n+"() {\n        return sampleTexture("+e+", halfCR);\n      }\n    ";var i=t.shapeInfo.texShape,s=i[0],u=i[1],c=ii(e);return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+s+", "+u+", "+c+");\n      return sampleTexture("+e+", uv);\n    }\n  "}(t);case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);if(t.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+si(t)+"\n      }\n    ";var r=t.shapeInfo.texShape,o=r[0],a=r[1];if(1===a&&1===o)return"\n      float "+n+"(int index) {\n        return sampleTexture("+e+", halfCR);\n      }\n    ";var i=ii(e);if(1===a)return"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+i+") + 0.5) / "+o+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ";if(1===o)return"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+i+") + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+e+", uv);\n      }\n    ";return"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+o+", "+a+", index + "+i+");\n      return sampleTexture("+e+", uv);\n    }\n  "}(t);case 2:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t.shapeInfo.texShape;if(null!=o&&S(e,o)){var a=o[0],i=o[1];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+i+".0, "+a+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var s=M(e),u=s.newShape,c=s.keptDims,l=u;if(l.length<e.length){var h=ci(t,l);return"\n      "+ti(h)+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+li(["row","col"],c)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+e[1]+", 1)));\n        "+si(t)+"\n      }\n    ";var f=o[0],d=o[1],p=ii(n);if(1===d)return"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+p+"), vec3("+e[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+f+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ";if(1===f)return"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+p+"), vec3("+e[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+d+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ";return"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+e[1]+" + col + "+p+";\n    vec2 uv = uvFromFlat("+f+", "+d+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(t);case 3:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e[1]*e[2],a=e[2],i=M(e),s=i.newShape,u=i.keptDims,c=s;if(c.length<e.length){var l=ci(t,c);return"\n        "+ti(l)+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+li(["row","col","depth"],u)+");\n        }\n      "}if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+o+", "+a+", 1)));\n        "+si(t)+"\n      }\n    ";var h=t.shapeInfo.texShape,f=h[0],d=h[1],p=t.shapeInfo.flatOffset;if(d===o&&null==p)return"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+a+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+d+".0, "+f+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ";if(d===a&&null==p)return"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+e[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+d+".0, "+f+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ";var v=ii(n);return"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+o+" + col * "+a+" + depth + "+v+";\n        vec2 uv = uvFromFlat("+f+", "+d+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(t);case 4:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e[3],a=e[2]*o,i=e[1]*a,s=M(e),u=s.newShape,c=s.keptDims;if(u.length<e.length){var l=ci(t,u);return"\n      "+ti(l)+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+li(["row","col","depth","depth2"],c)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+i+", "+a+", "+o+", 1)));\n        "+si(t)+"\n      }\n    ";var h=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,d=f[0],p=f[1];if(p===i&&null==h)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+a+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ";if(p===o&&null==h)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+e[1]*e[2]+", "+e[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ";var v=ii(n);return"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+i+" + col * "+a+" +\n          depth * "+o+" + depth2;\n      vec2 uv = uvFromFlat("+d+", "+p+", index + "+v+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(t);case 5:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e[4],a=e[3]*o,i=e[2]*a,s=e[1]*i,u=M(e),c=u.newShape,l=u.keptDims;if(c.length<e.length){var h=ci(t,c);return"\n      "+ti(h)+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+li(["row","col","depth","depth2","depth3"],l)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+i+", "+a+", "+o+")) +\n          depth3;\n        "+si(t)+"\n      }\n    ";var f=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,p=d[0],v=d[1];if(v===s&&null==f)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+i+", "+a+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ";if(v===o&&null==f)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+e[1]*e[2]*e[3]+",\n               "+e[2]*e[3]+", "+e[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ";var g=ii(n);return"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+i+" + depth * "+a+" +\n          depth2 * "+o+" + depth3 + "+g+";\n      vec2 uv = uvFromFlat("+p+", "+v+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(t);case 6:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=M(e),a=o.newShape,i=o.keptDims;if(a.length<e.length){var s=ci(t,a);return"\n      "+ti(s)+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+li(["row","col","depth","depth2","depth3","depth4"],i)+");\n      }\n    "}var u=e[5],c=e[4]*u,l=e[3]*c,h=e[2]*l,f=e[1]*h;if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+f+", "+h+", "+l+", "+c+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+u+", 1)));\n        "+si(t)+"\n      }\n    ";var d=t.shapeInfo.flatOffset,p=t.shapeInfo.texShape,v=p[0],g=p[1];if(g===f&&null==d)return"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+h+", "+l+", "+c+", "+u+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+v+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ";if(g===u&&null==d)return"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+e[1]*e[2]*e[3]*e[4]+",\n               "+e[2]*e[3]*e[4]+",\n               "+e[3]*e[4]+",\n               "+e[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+v+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ";var m=ii(n);return"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+f+" + col * "+h+" + depth * "+l+" +\n          depth2 * "+c+" + depth3 * "+u+" + depth4 + "+m+";\n      vec2 uv = uvFromFlat("+v+", "+g+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(t);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function ei(t){var e,n,r;switch(t.shapeInfo.logicalShape.length){case 0:return e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Ya(),"\n    vec4 "+n+"() {\n      return "+r.texture2D+"("+e+", halfCR);\n    }\n  ";case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=t.shapeInfo.texShape,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=Ya();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+o[0]+", "+o[1]+", index);\n      return "+a.texture2D+"("+e+", uv);\n    }\n  "}(t);case 2:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t.shapeInfo.texShape,a=o[0],i=o[1],s=Ya();if(null!=o&&S(e,o))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+i+".0, "+a+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=Math.ceil(e[1]/2);return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+c+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(t);case 3:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t.shapeInfo.texShape,a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===e[0]){var i=e.slice(1),s=ci(t,i);return"\n        "+ei(s)+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+li(["b","row","col"],[1,2])+");\n        }\n      "}var u=a[0],c=a[1],l=Math.ceil(e[2]/2),h=l*Math.ceil(e[1]/2),f=Ya();return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+u+", "+c+", "+h+", "+l+", b, row, col);\n      return "+f.texture2D+"("+n+", uv);\n    }\n  "}(t);default:return function(t){for(var e=t.shapeInfo.logicalShape,n=e.length,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=t.shapeInfo.texShape,i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],s=i[0],u=i[1],c=Math.ceil(e[n-1]/2),l=c*Math.ceil(e[n-2]/2),h="int b, int row, int col",f="b * "+l+" + (row / 2) * "+c+" + (col / 2)",d=2;d<n-1;d++)h="int b"+d+", "+h,l*=e[n-d-1],f="b"+d+" * "+l+" + "+f;var p=Ya();return"\n    vec4 "+o+"("+h+") {\n      int index = "+f+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+p.texture2D+"("+r+", uv);\n    }\n  "}(t)}}var ni="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ri="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",oi="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ai="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function ii(t){return"offset"+t}function si(t){var e=t.name,n=k(t.shapeInfo.logicalShape);return n<2?"return "+e+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+e+"[i];\n      }\n    }\n  "}function ui(t){if(t<=1)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";if(5===t)return"ivec5";if(6===t)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function ci(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function li(t,e){return e.map((function(e){return t[e]})).join(", ")}var hi=function(t,e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,C(t.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var o=t[t.length-1],a=Math.ceil(o/e);this.outputShape=t.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");var i,s,u=this.outputShape,c=u.length,l=ui(c),h=Xa("coords",c);if(1===a){var f=ui(s=c+1);i="\n        "+f+" sourceLocR = "+f+"("+h.join()+", 0);\n        ++"+h[c-1]+";\n        "+f+" sourceLocG = "+f+"("+h.join()+", 0);\n        ++"+h[c-2]+";\n        "+f+" sourceLocA = "+f+"("+h.join()+", 0);\n        --"+h[c-1]+";\n        "+f+" sourceLocB = "+f+"("+h.join()+", 0);\n        --"+h[c-2]+";"}else s=c,i="\n        "+l+" sourceLocR = coords;\n        ++"+h[c-1]+";\n        "+l+" sourceLocG = coords;\n        ++"+h[c-2]+";\n        "+l+" sourceLocA = coords;\n        --"+h[c-1]+";\n        "+l+" sourceLocB = coords;\n        --"+h[c-2]+";";var d=["x","y","z","w","u","v"].slice(0,s),p="."+d[s-1],v=d.map((function(t){return"int "+t})),g=Xa("sourceLocR",s-1).concat("inIdx.r"),m=Xa("sourceLocG",s-1).concat("inIdx.g"),y=Xa("sourceLocB",s-1).concat("inIdx.b"),x=Xa("sourceLocA",s-1).concat("inIdx.a"),b="max"===n?"greaterThan":"lessThan",w=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+m.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+x.join()+")));",E="vec4(\n            getAChannel("+g.join()+"),\n            hasNextCol ? getAChannel("+m.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+x.join()+") : 0.)",R=r?"":"\n      float getBestIndicesAChannel("+v.join()+") {\n        return getChannel(getBestIndicesA("+d.join()+"),\n                                          vec2("+d.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+v.join()+") {\n        return getChannel(getA("+d.join()+"),\n                               vec2("+d.slice(-2).join()+"));\n      }\n      "+R+"\n      void main() {\n        "+l+" coords = getOutputCoords();\n        bool hasNextCol = "+h[c-1]+" < "+(u[c-1]-1)+";\n        bool hasNextRow = "+h[c-2]+" < "+(u[c-2]-1)+";\n        "+i+"\n        ivec4 srcIdx = ivec4(sourceLocR"+p+", sourceLocG"+p+",\n          sourceLocB"+p+", sourceLocA"+p+") * "+e+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+E+";\n\n        for (int i = 0; i < "+e+"; i++) {\n          inIdx = srcIdx;\n          "+w+"\n          vec4 candidate = "+E+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+b+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},fi=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,o=t.strideWidth,a=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=s-1-t.padInfo.top,l=u-1-t.padInfo.left,h=1/(e*n);this.userCode="\n      const ivec2 pads = ivec2("+c+", "+l+");\n      const float avgMultiplier = float("+h+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+a+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+i+") {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},di=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,o=t.strideDepth,a=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,h=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=l-1-t.padInfo.front,p=h-1-t.padInfo.top,v=f-1-t.padInfo.left,g=1/(e*n*r);this.userCode="\n      const ivec3 pads = ivec3("+d+", "+p+", "+v+");\n      const float avgMultiplier = float("+g+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+o+".0;\n\n          if (dyD < 0.0 || dyD >= "+t.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+h+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+t.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+f+";\n                wC += "+c+") {\n              float dyC = float(dyCCorner + wC) / "+i+".0;\n\n              if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},pi=function(t,e,n,r,o,a){this.outputShape=[],this.variableNames=["x","mean","variance"],Pr(t,e),Pr(t,n);var i="0.0";null!=r&&(Pr(t,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="1.0";null!=o&&(Pr(t,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+i+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+a+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},vi=function(t,e,n,r,o,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Pr(t,e),Pr(t,n);var i="vec4(0.0)";null!=r&&(Pr(t,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=o&&(Pr(t,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = "+i+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+a+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},gi="return areal * breal - aimag * bimag;",mi="return areal * bimag + aimag * breal;",yi=function(t,e,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Pr(e,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+t+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},xi="return a + b;",bi="return a - b;",wi="return a * b;",Ci="\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",Ei="return (a < 0.) ? b * a : a;",Ri=function(t,e,n){this.variableNames=["A","B"],this.outputShape=Pr(e,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+t+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Ii="\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",ki="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",Si=function(t,e,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Pr(e,n);var o=this.outputShape.length,a="";if(r)if(0===o||1===k(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(a="\n          "+ui(o)+" coords = getOutputCoords();\n        ",1===o)a+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var i=Xa("coords",o);a+="\n            bool nextRowOutOfBounds =\n              ("+i[o-2]+" + 1) >= "+this.outputShape[o-2]+";\n            bool nextColOutOfBounds =\n              ("+i[o-1]+" + 1) >= "+this.outputShape[o-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+a+"\n\n        setOutput(result);\n      }\n    "},Ai=function(){function t(t){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t,e){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,t),r.gl.uniform1f(n.maxLoc,e)}},t}(),Ti=function(){function t(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t,e){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,t),r.gl.uniform1f(n.maxLoc,e)}},t}(),Di=function(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},Ni=function(t){this.outputShape=[],this.outputShape=Sn(t,1),this.variableNames=t.map((function(t,e){return"T"+e}));var e=new Array(t.length-1);e[0]=t[0][1];for(var n=1;n<e.length;n++)e[n]=e[n-1]+t[n][1];var r=["if (yC < "+e[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<e.length;n++){var o=e[n-1];r.push("else if (yC < "+e[n]+") setOutput(getT"+n+"(yR, yC-"+o+"));")}var a=e.length,i=e[e.length-1];r.push("else setOutput(getT"+a+"(yR, yC-"+i+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},Fi=function(t,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Sn(t,e);var n=this.outputShape,r=n.length,o=ui(r),a=Xa("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=t.map((function(t,e){return"T"+e}));var s=new Array(t.length-1);s[0]=t[0][e];for(var u=1;u<s.length;u++)s[u]=s[u-1]+t[u][e];var c=i[e],l=i.slice(-2),h=i.join(),f="if ("+c+" < "+s[0]+") {\n        return getChannel(\n            getT0("+h+"), vec2("+l.join()+"));\n        }";for(u=1;u<s.length;u++){var d=s[u-1];f+="\n        if ("+c+" < "+s[u]+"  && "+c+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+_i(i,c,d)+"),\n            vec2("+_i(l,c,d)+"));\n        }"}var p=s.length,v=s[s.length-1];f+="\n        return getChannel(\n          getT"+p+"("+_i(i,c,v)+"),\n          vec2("+_i(l,c,v)+"));",this.userCode="\n      float getValue("+i.map((function(t){return"int "+t}))+") {\n        "+f+"\n      }\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+a+"), 0., 0., 0.);\n\n        "+a[r-1]+" = "+a[r-1]+" + 1;\n        if ("+a[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+a+");\n        }\n\n        "+a[r-2]+" = "+a[r-2]+" + 1;\n        if ("+a[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+a+");\n        }\n\n        "+a[r-1]+" = "+a[r-1]+" - 1;\n        if ("+a[r-2]+" < "+n[r-2]+" &&\n            "+a[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+a+");\n        }\n        setOutput(result);\n      }\n    "};function _i(t,e,n){var r=t.indexOf(e);return t.map((function(t,e){return e===r?t+" - "+n:t})).join()}var Oi=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,o=t.padInfo.left,a="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+r+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              if ("+a+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Mi=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,o=t.strideWidth,a="channelsLast"===t.dataFormat,i=e-1-t.padInfo.top,s=n-1-t.padInfo.left,u=a?1:2,c=a?2:3,l=a?3:1;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+l+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+c+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n\n              if ("+a+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Bi=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,o=t.padInfo.front,a=t.padInfo.top,i=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yF = 0; yF < "+t.outDepth+"; yF++) {\n            int xF = wF + yF * "+e+" - "+o+";\n\n            if (xF < 0 || xF >= "+t.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+a+";\n\n              if (xR < 0 || xR >= "+t.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+i+";\n\n                if (xC < 0 || xC >= "+t.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Pi=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,o=t.strideDepth,a=t.strideHeight,i=t.strideWidth,s=e-1-t.padInfo.front,u=n-1-t.padInfo.top,c=r-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+c+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+e+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+o+".0;\n\n          if (dyF < 0.0 || dyF >= "+t.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+e+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+t.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+i+".0;\n\n              if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Li=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,o=t.padInfo.left,a=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+r+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Wi=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,o=t.strideWidth,a=e-1-t.padInfo.top,i=n-1-t.padInfo.left,s=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ui=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,a=t.padInfo.left,i=t.strideHeight,s=t.strideWidth,u=t.dilationHeight,c=t.dilationWidth,l=t.filterHeight,h=t.filterWidth,f=4*Math.floor(t.inChannels/4),d=t.inChannels%4,p="channelsLast"===t.dataFormat,v=p?1:2,g=p?2:3,m=p?3:1,y="",x="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",x="result = activation(result);");var b=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+i+", "+s+");\n      const ivec2 pads = ivec2("+o+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+m+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+v+"], coords["+g+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+l+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+h+"; wC++) {\n            int xC = xCCorner + wC * "+c+";\n\n            if (xC < 0 || xC >= "+t.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+f+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+p+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===d)+") {\n\n              if ("+p+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+f+") *\n                    getW(wR, wC, "+f+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+f+", xR, xC) *\n                    getW(wR, wC, "+f+", d2);\n              }\n\n            } else if ("+(2===d)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+f+", d2),\n                getW(wR, wC, "+f+" + 1, d2)\n              );\n\n              if ("+p+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+f+"),\n                  getX(batch, xR, xC, "+f+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+f+", xR, xC),\n                  getX(batch, "+f+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===d)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+f+", d2),\n                getW(wR, wC, "+f+" + 1, d2),\n                getW(wR, wC, "+f+" + 2, d2)\n              );\n\n              if ("+p+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+f+"),\n                  getX(batch, xR, xC, "+f+" + 1),\n                  getX(batch, xR, xC, "+f+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+f+", xR, xC),\n                  getX(batch, "+f+" + 1, xR, xC),\n                  getX(batch, "+f+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+b+"\n        "+x+"\n        setOutput(result);\n      }\n    "},Vi=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.front,n=t.padInfo.top,r=t.padInfo.left,o=t.strideDepth,a=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.filterDepth,h=t.filterHeight,f=t.filterWidth,d=4*Math.floor(t.inChannels/4),p=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+o+", "+a+", "+i+");\n      const ivec3 pads = ivec3("+e+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+l+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+t.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+h+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+f+"; wC++) {\n              int xC = xCCorner + wC * "+c+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===p)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+d+") *\n                  getW(wF, wR, wC, "+d+", d2);\n              } else if ("+(2===p)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+d+"),\n                  getX(batch, xF, xR, xC, "+d+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+d+", d2),\n                  getW(wF, wR, wC, "+d+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===p)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+d+"),\n                  getX(batch, xF, xR, xC, "+d+" + 1),\n                  getX(batch, xF, xR, xC, "+d+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+d+", d2),\n                  getW(wF, wR, wC, "+d+" + 1, d2),\n                  getW(wF, wR, wC, "+d+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},zi=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.inHeight,a=t.inWidth,i=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,h=t.dilationWidth,f=t.filterHeight,d=t.filterWidth,p=t.outChannels/t.inChannels,v="",g="";n&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",g="result = activation(result);");var m=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+v+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+p+";\n        int q = d2 - d1 * "+p+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+f+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+o+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC++) {\n            int xC = xCCorner + wC * "+h+";\n\n            if (xC < 0 || xC >= "+a+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+m+"\n        "+g+"\n        setOutput(result);\n      }\n    "},Gi=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.outShape;for(var o=t.inHeight,a=t.inWidth,i=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,h=t.dilationWidth,f=t.filterHeight,d=t.filterWidth,p=d,v="int xR; int xC; int xCOffset;",g=0;g<f;g++)for(var m=0;m<d;m++)v+="\n          vec4 xTexelR"+g+"C"+2*m+" = vec4(0.);\n          vec4 wR"+g+"C"+m+" = vec4(0.);\n          vec4 xR"+g+"C"+m+" = vec4(0.);";for(g=0;g<f;g++)for(var y=0;y<p;y++){if(v+="\n          xR = xRCorner + "+g*l+";\n          xC = xCCorner + "+(m=2*y)*h+";\n        ",1===c){if(m<d&&(v+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    xTexelR"+g+"C"+m+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+g+"C"+m+" = vec4(previous.zw, xTexelR"+g+"C"+m+".xy);\n                } else {\n                  xR"+g+"C"+m+" = vec4(0, 0, xTexelR"+g+"C"+m+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+o+" && xC >= 0 && xC < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = xTexelR"+g+"C"+m+";\n              ",m+1<d)){var x=s%2==0?b(h):h;h%2==0&&s%2==1||h%2!=0&&s%2!=1?(v+="\n                  xCOffset = xC + "+s%2+" + "+x+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",h>1&&(v+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+o+" &&\n                      xCOffset >= 0 && xCOffset < "+a+") {\n                      xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+g+"C"+m+" = vec4(0.);\n                    }\n                  "),v+="\n                  xR"+g+"C"+(m+1)+" = vec4(\n                    xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".xy);\n                "):v+="\n                  xCOffset = xC + "+x+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+g+"C"+(m+1)+" = xTexelR"+g+"C"+(m+2)+";\n                "}}else m<d&&(v+="\n              if(xR >= 0 && xR < "+o+") {\n            ",s%2==1?(v+="\n                xCOffset = xC + 1 - "+c+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+a+") {\n                  xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+g+"C"+(m+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = vec4(\n                  xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".zw);\n              ",m+1<d&&(v+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+c+";\n                  if(xCOffset >= 0 && xCOffset < "+a+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+g+"C"+(m+1)+" = vec4(xTexelR"+g+"C"+(m+2)+".xy, final.xy);\n                ")):(v+="\n                if(xC >= 0 && xC < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+c+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+(m+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = vec4(\n                  xTexelR"+g+"C"+m+".xy, xTexelR"+g+"C"+(m+2)+".xy);\n              ",m+1<d&&(v+="\n                  xR"+g+"C"+(m+1)+" = vec4(\n                    xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".zw);\n                ")),v+="}");m<d&&(v+="\n            vec4 wTexelR"+g+"C"+m+" = getW("+g+", "+m+", d1, q);\n            wR"+g+"C"+m+" = vec4(wTexelR"+g+"C"+m+".xz, wTexelR"+g+"C"+m+".xz);\n          ",m+1<d&&(v+="\n              vec4 wTexelR"+g+"C"+(m+1)+" = getW("+g+", "+(m+1)+", d1, q);\n              wR"+g+"C"+(m+1)+" =\n                vec4(wTexelR"+g+"C"+(m+1)+".xz, wTexelR"+g+"C"+(m+1)+".xz);"))}for(g=0;g<f;g++)for(m=0;m<d;m++)v+="dotProd += xR"+g+"C"+m+" * wR"+g+"C"+m+";";var w="",C="";n&&(w=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",C="result = activation(result);");var E=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+w+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+v+"\n\n        vec4 result = dotProd;\n        "+E+"\n        "+C+"\n        setOutput(result);\n      }\n    "},Hi=function(t,e,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=t[0],i=t[1],s=t[2],u=t[3],c=e[0],l=n[0],h=n[1];this.outputShape=[c,l,h,u];var f="bilinear"===r?1:0,d=[i-1+".0",s-1+".0"],p=d[0],v=d[1],g=l>1?[""+(i-1)/(l-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],m=g[0],y=g[1],x=g[2],b=h>1?[""+(s-1)/(h-1),"(x2-x1) * width_ratio","x1*"+v+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+v],w=b[0],C=b[1],E=b[2];this.userCode="\n      const float height_ratio = float("+m+");\n      const float width_ratio = float("+w+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+a+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+C+";\n\n        float in_y = "+x+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n        float in_x = "+E+";\n        if( in_x < 0.0 || in_x > "+v+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+f+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},qi=function(t,e,n){this.variableNames=["x"],this.outputShape=t;var r=t.length,o=t[t.length-1],a=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+o+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+ui(r)+" coords = getOutputCoords();\n        int end = "+Ki(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+o+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+a+" end) {\n            continue;\n          }\n          if (idx == end && "+e+") {\n            continue;\n          }\n          "+Ki(r,"coords")+" = idx;\n          val += getX("+function(t,e){if(1===t)return""+e;if(2===t)return e+".x, "+e+".y";if(3===t)return e+".x, "+e+".y, "+e+".z";if(4===t)return e+".x, "+e+".y, "+e+".z, "+e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function Ki(t,e){if(1===t)return""+e;if(2===t)return e+".y";if(3===t)return e+".z";if(4===t)return e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}var ji=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Vt.DENSE;var e=Yt(t),n=Ya();this.outputShape=t,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+$a(["r","c","d"],t)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+e[0]+", "+e[1]+"));\n        int index = 4 * (resTexRC.x * "+e[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},Xi=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Vt.DENSE;var e=Yt(t),n=Ya();this.outputShape=t,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+$a(["r","c","d"],t)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+e[0]+", "+e[1]+"));\n        int index = 4 * (resTexRC.x * "+e[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},Yi=function(){function t(t,e,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=e,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+e+";\n      int offset_h = imod(h, "+e+");\n      int in_w = w / "+e+";\n      int offset_w = imod(w, "+e+");\n      int offset_d = (offset_h * "+e+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return t.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},t.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},t.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},t.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},t.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},t}(),$i=function(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},Qi=function(t){this.variableNames=["A"],this.outTexUsage=zt.DOWNLOAD;var e=Ya();this.outputShape=t,this.userCode="\n      "+Ja+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+e.output+" = encode_float(x);\n      }\n    "},Ji=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=zt.DOWNLOAD;var e=Ya();this.outputShape=t,this.userCode="\n      "+Ja+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+e.output+" = encode_float(x);\n      }\n    "},Zi=function(t,e,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=Ya(),o=e[0],a=e[1];this.outputShape=t;var i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode="\n      "+Qa(t)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+a+";\n        int c = imod(flatIndex, "+a+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+o+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+i+", 0., 0., 0.);\n      }\n    "},ts=function(t,e,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Ya(),o=e[0],a=e[1];this.outputShape=t;var i="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){var l=2*u+c;i+="\n          localCoords = coords;\n          if(localCoords[2] + "+c+" < "+t[2]+") {\n            localCoords[2] += "+c+";\n            if(localCoords[1] + "+u+" < "+t[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+a+";\n              c = imod(flatIndex, "+a+");\n              uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+o+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+l+"] = values[0];\n              } else if(offset == 1) {\n                result["+l+"] = values[1];\n              } else if(offset == 2) {\n                result["+l+"] = values[2];\n              } else {\n                result["+l+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+Qa(t)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+i+"\n\n        "+r.output+" = "+s+";\n      }\n    "},es="return real * expR - imag * expI;",ns="return real * expI + imag * expR;",rs=function(t,e,n){this.variableNames=["real","imag"];var r=e[1];this.outputShape=e;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+o+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+t+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+a+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},os=function(){function t(t,e){this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.valueLoc&&(e.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(e.valueLoc,t)}},t}(),as=function(t,e,n){this.variableNames=["A","indices"];var r=t.slice();r[n]=e,this.outputShape=r,this.rank=r.length;var o=ui(this.rank),a=function(t,e){var n=t.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],a=0;a<t.length;a++)a===e?o.push("int(getIndices("+r[a]+"))"):o.push(""+r[a]);return o.join()}(t,n);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "};var is=function(t,e,n){this.sliceDim=t,this.strides=e,this.variableNames=["x","indices"],this.outputShape=n;var r=ui(e.length),o=ui(n.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+o+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+a+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function ss(t,e){var n=Ya();return oe(t,e,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function us(t,e){return fe(t,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function cs(t,e){return de(t,e,new Uint16Array([0,1,2,2,1,3]))}function ls(t,e,n,r,o,a,i){ve(n,r);var s=pe(t,e),u=t.TEXTURE_2D;return Jt(t,e,(function(){return t.bindTexture(u,s)})),Jt(t,e,(function(){return t.texParameteri(u,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)})),Jt(t,e,(function(){return t.texParameteri(u,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)})),Jt(t,e,(function(){return t.texParameteri(u,t.TEXTURE_MIN_FILTER,t.NEAREST)})),Jt(t,e,(function(){return t.texParameteri(u,t.TEXTURE_MAG_FILTER,t.NEAREST)})),Jt(t,e,(function(){return t.texImage2D(u,0,o,n,r,0,a,i,null)})),Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)})),s}function hs(t,e,n,r,o){var a=Xt(n,r);return ls(t,e,a[0],a[1],o.internalFormatFloat,o.textureFormatFloat,t.FLOAT)}function fs(t,e,n,r,o){var a=Xt(n,r);return ls(t,e,a[0],a[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function ds(t,e,n,r,o){var a=Xt(n,r);return ls(t,e,a[0],a[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function ps(t,e,n,r,o){var a=$t(n,r);return ls(t,e,a[0],a[1],o.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function vs(t,e,n,r,o){var a=$t(n,r);return ls(t,e,a[0],a[1],o.internalFormatPackedHalfFloat,t.RGBA,o.textureTypeHalfFloat)}function gs(t,e,n,r){return Jt(t,e,(function(){return t.bindBuffer(t.ARRAY_BUFFER,r)})),me(t,e,n,"clipSpacePos",r,3,20,0)&&me(t,e,n,"uv",r,2,20,12)}function ms(t,e,n,r,o,a,i){var s,u,c;Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,n)})),a instanceof Uint8Array?(s=new Uint8Array(r*o*4),u=t.UNSIGNED_BYTE,c=t.RGBA):(s=new Float32Array(r*o*4),u=t.FLOAT,c=i.internalFormatPackedFloat),s.set(a),Jt(t,e,(function(){return t.texImage2D(t.TEXTURE_2D,0,c,r,o,0,t.RGBA,u,s)})),Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))}function ys(t,e,n,r){Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,n)})),r.data instanceof Uint8Array?Jt(t,e,(function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r.width,r.height,0,t.RGBA,t.UNSIGNED_BYTE,r.data)})):Jt(t,e,(function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)})),Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))}function xs(t,e,n,r,o){var a=t.createBuffer();Jt(t,e,(function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,a)}));var i=16*n*r;return Jt(t,e,(function(){return t.bufferData(t.PIXEL_PACK_BUFFER,i,t.STREAM_READ)})),Jt(t,e,(function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)})),Jt(t,e,(function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,null)})),a}function bs(t,e,n){var r=t,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function ws(t,e,n,r,o){var a=Xt(n,r),i=a[0],s=a[1],u=new Uint8Array(n*r*4);return Jt(t,e,(function(){return t.readPixels(0,0,i,s,o.downloadTextureFormat,t.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function Cs(t,e,n,r,o,a,i,s){var u=t,c=new Float32Array(function(t,e){var n=$t(t,e);return n[0]*n[1]*4}(a,i));return u.bindBuffer(u.PIXEL_PACK_BUFFER,e),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function Es(t,e,n,r){var o=new Float32Array(n*r*4);return Jt(t,e,(function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,o)})),o}var Rs=Object.freeze({createVertexShader:ss,createVertexBuffer:us,createIndexBuffer:cs,createFloat32MatrixTexture:hs,createFloat16MatrixTexture:fs,createUnsignedBytesMatrixTexture:ds,createPackedMatrixTexture:ps,createFloat16PackedMatrixTexture:vs,bindVertexProgramAttributeStreams:gs,uploadDenseMatrixToTexture:ms,uploadPixelDataToTexture:ys,createBufferFromOutputTexture:xs,downloadFloat32MatrixFromBuffer:bs,downloadByteEncodedFloatMatrixFromOutputTexture:ws,downloadPackedMatrixFromBuffer:Cs,downloadMatrixFromPackedOutputTexture:Es}),Is=function(){function t(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var e=i().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,Kt(e,t)):this.gl=jt(e);var n="WEBGL_color_buffer_float";if(1===i().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=re(this.gl,this.debug,"OES_texture_float"),Pe(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=re(this.gl,this.debug,"OES_texture_half_float");else if(i().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Pe(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=re(this.gl,this.debug,"EXT_color_buffer_half_float");else if(i().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Pe(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Pe(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=us(this.gl,this.debug),this.indexBuffer=cs(this.gl,this.debug),this.framebuffer=ge(this.gl,this.debug),this.textureConfig=Qt(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(t.prototype,"debug",{get:function(){return i().getBool("DEBUG")},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;Jt(e,this.debug,(function(){return e.finish()})),Jt(e,this.debug,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),Jt(e,this.debug,(function(){return e.deleteFramebuffer(t.framebuffer)})),Jt(e,this.debug,(function(){return e.bindBuffer(e.ARRAY_BUFFER,null)})),Jt(e,this.debug,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)})),Jt(e,this.debug,(function(){return e.deleteBuffer(t.indexBuffer)})),this.disposed=!0}},t.prototype.createFloat32MatrixTexture=function(t,e){return this.throwIfDisposed(),hs(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(t,e){return this.throwIfDisposed(),fs(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(t,e){return this.throwIfDisposed(),ds(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.uploadPixelDataToTexture=function(t,e){this.throwIfDisposed(),ys(this.gl,this.debug,t,e)},t.prototype.uploadDenseMatrixToTexture=function(t,e,n,r){this.throwIfDisposed(),ms(this.gl,this.debug,t,e,n,r,this.textureConfig)},t.prototype.createFloat16PackedMatrixTexture=function(t,e){return this.throwIfDisposed(),vs(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createPackedMatrixTexture=function(t,e){return this.throwIfDisposed(),ps(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.deleteMatrixTexture=function(t){var e=this;this.throwIfDisposed(),this.outputTexture===t&&(Ee(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Jt(this.gl,this.debug,(function(){return e.gl.deleteTexture(t)}))},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,(function(){return ws(r.gl,r.debug,e,n,r.textureConfig)}))},t.prototype.downloadPackedMatrixFromBuffer=function(t,e,n,r,o,a){return Cs(this.gl,t,0,0,0,o,a,this.textureConfig)},t.prototype.downloadFloat32MatrixFromBuffer=function(t,e){return bs(this.gl,t,e)},t.prototype.createBufferFromTexture=function(t,e,n){this.bindTextureToFrameBuffer(t);var r=xs(this.gl,this.debug,e,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},t.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},t.prototype.createFence=function(t){var e,n,r=this;if(i().getBool("WEBGL_FENCE_API_ENABLED")){var o=t,a=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),n=function(){var t=o.clientWaitSync(a,0,0);return t===o.ALREADY_SIGNALED||t===o.CONDITION_SATISFIED},e=a}else i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(e,i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:e,isFencePassed:n}},t.prototype.downloadMatrixFromPackedTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,(function(){return Es(r.gl,r.debug,e,n)}))},t.prototype.createProgram=function(t){this.throwIfDisposed();var e=this.gl,n=ae(e,this.debug,t),r=ss(e,this.debug),o=ce(e,this.debug);return Jt(e,this.debug,(function(){return e.attachShader(o,r)})),Jt(e,this.debug,(function(){return e.attachShader(o,n)})),le(e,this.debug,o),this.debug&&he(e,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=gs(e,this.debug,this.program,this.vertexBuffer)),o},t.prototype.deleteProgram=function(t){var e=this;this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&Jt(this.gl,this.debug,(function(){return e.gl.deleteProgram(t)}))},t.prototype.setProgram=function(t){var e=this;this.throwIfDisposed(),this.program=t,null!=this.program&&this.debug&&he(this.gl,this.debug,this.program),Jt(this.gl,this.debug,(function(){return e.gl.useProgram(t)}))},t.prototype.getUniformLocation=function(t,e,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?xe(this.gl,this.debug,t,e):be(this.gl,t,e)},t.prototype.getAttributeLocation=function(t,e){var n=this;return this.throwIfDisposed(),Jt(this.gl,this.debug,(function(){return n.gl.getAttribLocation(t,e)}))},t.prototype.getUniformLocationNoThrow=function(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)},t.prototype.setInputMatrixTexture=function(t,e,n){this.throwIfDisposed(),this.throwIfNoProgram(),we(this.gl,this.debug,this.program,t,e,n)},t.prototype.setOutputMatrixTexture=function(t,e,n){this.setOutputMatrixTextureDriver(t,n,e)},t.prototype.setOutputPackedMatrixTexture=function(t,e,n){this.throwIfDisposed();var r=$t(e,n),o=r[0],a=r[1];this.setOutputMatrixTextureDriver(t,o,a)},t.prototype.setOutputMatrixWriteRegion=function(t,e,n,r){this.setOutputMatrixWriteRegionDriver(n,t,r,e)},t.prototype.setOutputPackedMatrixWriteRegion=function(t,e,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){null!=this.program&&he(this.gl,this.debug,this.program),Re(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),Jt(t,this.debug,(function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)}))},t.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),Jt(this.gl,this.debug,(function(){return t.gl.finish()}))},t.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=re(this.gl,this.debug,2===i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.beginQuery=function(){if(2===i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2(),n=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),o=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,o),o},t.prototype.endQuery=function(){if(2!==i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var e=this.gl,n=this.getQueryTimerExtensionWebGL2();e.endQuery(n.TIME_ELAPSED_EXT)}},t.prototype.waitForQueryAndGetTime=function(t){return n(this,void 0,void 0,(function(){var e=this;return r(this,(function(n){switch(n.label){case 0:return[4,F((function(){return e.disposed||e.isQueryAvailable(t,i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(t,i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},t.prototype.getQueryTime=function(t,e){if(0===e)return null;if(2===e){var n=this.gl;return n.getQueryParameter(t,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6},t.prototype.isQueryAvailable=function(t,e){if(0===e)return!0;if(2===e){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(t,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}o=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint},t.prototype.pollFence=function(t){var e=this;return new Promise((function(n){e.addItemToPoll((function(){return t.isFencePassed()}),(function(){return n()}))}))},t.prototype.pollItems=function(){for(var t=function(t){for(var e=0;e<t.length;++e){if(!t[e]())break}return e-1}(this.itemsToPoll.map((function(t){return t.isDoneFn}))),e=0;e<=t;++e){(0,this.itemsToPoll[e].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(t+1)},t.prototype.addItemToPoll=function(t,e){var n=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1||F((function(){return n.pollItems(),0===n.itemsToPoll.length}))},t.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),Ce(this.gl,this.debug,t,this.framebuffer),this.debug&&Re(this.gl)},t.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(Ce(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Re(this.gl)):Ee(this.gl,this.debug,this.framebuffer)},t.prototype.downloadMatrixDriver=function(t,e){this.bindTextureToFrameBuffer(t);var n=e();return this.unbindTextureToFrameBuffer(),n},t.prototype.setOutputMatrixTextureDriver=function(t,e,n){this.throwIfDisposed();var r=this.gl;Ce(r,this.debug,t,this.framebuffer),this.debug&&Re(r),this.outputTexture=t,Jt(r,this.debug,(function(){return r.viewport(0,0,e,n)})),Jt(r,this.debug,(function(){return r.scissor(0,0,e,n)}))},t.prototype.setOutputMatrixWriteRegionDriver=function(t,e,n,r){var o=this;this.throwIfDisposed(),Jt(this.gl,this.debug,(function(){return o.gl.scissor(t,e,n,r)}))},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},t}();function ks(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but was executed with "+e.length+" inputs");t.forEach((function(t,n){var r=t.logicalShape,o=e[n],a=o.shape;if(!S(r,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+a+" must match");if(!t.isUniform||!o.isUniform){var i=t.texShape,s=o.isUniform?null:o.texData.texShape;if(!S(i,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+i+" and "+s+" must match")}}))}var Ss=function(t,e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var r=n.filterWidth,o=n.inChannels,a=n.strideWidth,i=n.strideHeight,s=n.padInfo,u=n.outWidth,c=n.dilationWidth,l=n.dilationHeight,h=n.dataFormat,f=s.left,d=s.top,p=o*r,v=Ya(),g="channelsLast"===h,m=g?0:1,y=g?1:2,x="",b=0;b<=1;b++)for(var w=0;w<=1;w++)x+="\n          blockIndex = rc.y + "+w+";\n          pos = rc.x + "+b+";\n\n          if(blockIndex < "+t[1]+" && pos < "+t[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+i+" - "+d+";\n            d0 = offsetY + "+l+" * (pos / "+p+");\n\n            if(d0 < "+e[m]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+a+". - "+f+".);\n              d1 = offsetX + "+c+" * (int(mod(float(pos), "+p+".) / "+o+".));\n\n              if(d1 < "+e[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+o+".));\n\n                if ("+g+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*b+w)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*b+w)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+x+"\n\n        "+v.output+" = result;\n      }\n    "},As=function(t,e,n,r,o){this.variableNames=["x"],this.outputShape=[];var a,i=e,s=t[3]-1;this.outputShape=t;var u="float("+n+") + float("+r+") * sum";a=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+i+"; j <= "+i+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+a+";\n        setOutput(val);\n      }\n    "},Ts=function(t,e,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=n,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+e+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+e+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+o+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+o+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},Ds=function(t,e,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,i=e,s=t[3]-1;this.outputShape=t;var u="float("+n+") + float("+r+") * sum";a=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+i+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+i+"; j <= "+i+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+a+";\n        setOutput(result);\n      }\n    "},Ns=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.strideHeight,n=t.strideWidth,r=t.dilationHeight,o=t.effectiveFilterHeight,a=t.effectiveFilterWidth,i=o-1-t.padInfo.top,s=a-1-t.padInfo.left,u=o*a-1;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+o+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+e+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+a+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+a+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Fs=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,o=t.dilationDepth,a=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterDepth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=s-1-t.padInfo.front,h=u-1-t.padInfo.top,f=c-1-t.padInfo.left,d=s*u*c-1;this.userCode="\n      const ivec3 pads = ivec3("+l+", "+h+", "+f+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+o+") {\n          float dyD = float(dyDCorner + wD) / "+e+".0;\n\n          if (dyD < 0.0 || dyD >= "+t.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+t.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+i+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+d+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+c+" +\n                  wR * "+c+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},_s=function(t,e,n,r,o,a,i){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===i&&(i=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;var s=n?t[1]:t[2],u=Math.ceil(s/2),c=n?"i * 2, rc.y":"rc.y, i * 2",l=r?"rc.z, i * 2":"i * 2, rc.z",h=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],d="",p="";a&&(d=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+a+"\n        }":"vec4 activation(vec4 x) {\n          "+a+"\n        }",p="result = activation(result);");var v=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+d+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+c+");\n          vec4 b = getMatrixB(rc.x, "+l+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+h[0]+" * "+f[0]+");\n          result += ("+h[1]+" * "+f[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+v+"\n\n        "+p+"\n\n        setOutput(result);\n      }\n    "},Os=function(){function t(t,e,n){this.variableNames=["probs"],this.outputShape=[t,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(e-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(e-1)+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.seedLoc&&(e.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(e.seedLoc,t)}},t}(),Ms=function(t,e,n,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},Bs=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t;var e=t.length;if(0===e)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Xa("rc",e),r=ui(e),o=function(t,e,n){if(1===t)return"rc > "+e[0];for(var r="",o=t-2;o<t;o++)r+=n[o]+" >= "+e[o],o<t-1&&(r+="||");return r}(e,t,n),a=function(t,e,n,r){if(1===t)return"";var o=r.slice(-2);return"\n    int r = "+o[0]+";\n    int c = "+o[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+e+";\n    bool rEdge = rp1 >= "+n+";\n  "}(e,t[t.length-1],t[t.length-2],n),i=function(t,e){var n=t.length,r=function(t,e){for(var n=[],r=0;r<=1;r++)for(var o=0;o<=1;o++){for(var a=(0===r?"r":"rp1")+", "+(0===o?"c":"cp1"),i=2;i<t;i++)a=e[e.length-1-i]+","+a;n.push(a)}return n}(n,e);return 1===n?"getA(rc),\n            rc + 1 >= "+t[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(t,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+o+") {\n            setOutput(vec4(0));\n          } else {\n            "+a+"\n\n            setOutput(vec4("+i+"));\n          }\n        }\n      "}};var Ps=function(t,e,n){this.variableNames=["x"],this.outputShape=e.map((function(e,n){return e[0]+t[n]+e[1]}));var r=t.length,o=ui(r),a=e.map((function(t){return t[0]})).join(","),i=e.map((function(e,n){return e[0]+t[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+o+" start = "+o+"("+a+");\n      "+o+" end = "+o+"("+i+");\n\n      void main() {\n        "+o+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+o+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+a+";\n        int end = "+i+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},Ls=function(t,e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map((function(e,n){return e[0]+t[n]+e[1]}));for(var r=t.length,o=ui(r),a=e.map((function(t){return t[0]})).join(","),i=e.map((function(e,n){return e[0]+t[n]})).join(","),s=Xa("rc",r),u=Xa("source",r),c=s[r-1]+" < "+this.outputShape[r-1],l=1===r?"source":"vec2("+u.slice(-2).join()+")",h=[o+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+c+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+c+") {"],f=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",d="",p=0,v=1===r?2:4;p<v;p++)d+="\n        "+h[p]+"\n        if ("+f+") {\n          result["+p+"] = float("+n+");\n        } else {\n          "+o+" source = rc - start;\n          result["+p+"] = getChannel(getX("+u.join()+"), "+l+");\n        }\n      ";d+=1===r?"} ":"}}",this.userCode="\n      const "+o+" start = "+o+"("+a+");\n      const "+o+" end = "+o+"("+i+");\n\n      void main() {\n        "+o+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+d+"\n        setOutput(result);\n      }\n    "},Ws=function(t,e,n,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!1),this.variableNames=["x"],"avg"===e&&n)throw new Error("Cannot compute positions for average pool.");var a=t.filterWidth,i=t.strideHeight,s=t.strideWidth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterHeight,h=t.effectiveFilterWidth,f=t.padInfo.top,d=t.padInfo.left;this.outputShape=t.outShape;var p="avg"===e,v="((batch  * "+t.inHeight+" + xR) * "+t.inWidth+" + xC) * "+t.inChannels+" + d",g="(xR * "+t.inWidth+" + xC) * "+t.inChannels+" + d",m="0.0";if(p||(m="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+s+");\n        const ivec2 pads = ivec2("+f+", "+d+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+h+";\n                wC += "+c+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = "+(r?o?v:g:"wR * "+h+" + wC")+";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(y="avgValue / count");var x=4*Math.floor(a/4),b=a%4,w="\n      if ("+p+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+s+");\n      const ivec2 pads = ivec2("+f+", "+d+");\n      const float initializationValue = "+m+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+t.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+m+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+l+";\n            wR += "+u+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+x+"; wC += 4) {\n            int xC = xCCorner + wC * "+c+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+c+", d),\n              getValue(batch, xR, xC + 2 * "+c+", d),\n              getValue(batch, xR, xC + 3 * "+c+", d)\n            );\n\n            "+w+"\n          }\n\n          int xC = xCCorner + "+x+";\n          if ("+(1===b)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+w+"\n          } else if ("+(2===b)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+c+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+w+"\n          } else if ("+(3===b)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+c+", d),\n              getValue(batch, xR, xC + 2 * "+c+", d),\n              initializationValue\n            );\n\n            "+w+"\n          }\n        }\n        setOutput("+y+");\n      }\n    "}},Us=function(t,e,n,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!1),this.variableNames=["x"],"avg"===e&&n)throw new Error("Cannot compute positions for average pool.");var a=t.filterWidth,i=t.strideDepth,s=t.strideHeight,u=t.strideWidth,c=t.dilationDepth,l=t.dilationHeight,h=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,p=t.effectiveFilterWidth,v=t.padInfo.front,g=t.padInfo.top,m=t.padInfo.left;this.outputShape=t.outShape;var y="avg"===e,x="0.0";if(y||(x="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+i+", "+s+", "+u+");\n        const ivec3 pads = ivec3("+v+", "+g+", "+m+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+f+";\n              wD += "+c+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+t.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+d+";\n                wR += "+l+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+t.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+p+";\n                  wC += "+h+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+t.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = "+(r?o?"(((batch * "+t.inDepth+" + xD) * "+t.inHeight+" + xR) * "+t.inWidth+" + xC) * "+t.inChannels+" + ch":"((xD * "+t.inHeight+" + xR) * "+t.inWidth+" + xC) * "+t.inChannels+" + ch":"wD * "+d+" * "+p+" +\n                      wR * "+p+" + wC")+";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var b=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(b="avgValue / count");var w=4*Math.floor(a/4),C=a%4,E="\n      if ("+y+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+i+", "+s+", "+u+");\n      const ivec3 pads = ivec3("+v+", "+g+", "+m+");\n      const float initializationValue = "+x+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+t.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+x+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+f+";\n            wD += "+c+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+t.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+";\n            wR += "+l+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+w+"; wC += 4) {\n              int xC = xCCorner + wC * "+h+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+h+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+h+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+h+", ch)\n              );\n\n              "+E+"\n            }\n\n            int xC = xCCorner + "+w+";\n            if ("+(1===C)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+E+"\n            } else if ("+(2===C)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+h+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+E+"\n            } else if ("+(3===C)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+h+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+h+", ch),\n                initializationValue\n              );\n\n              "+E+"\n            }\n          }\n          setOutput("+b+");\n        }\n      }\n    "}},Vs=function(t,e){this.variableNames=["x"];var n=t.windowSize,r=t.batchSize,o=t.inSize,a=Math.ceil(o/n);this.outputShape=[r,a];var i="0.0",s="";"prod"===e?i="1.0":"min"===e?(i="1.0 / 1e-20",s="min"):"max"===e&&(i="-1.0 / 1e-20",s="max");var u=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===e?u="sumValue":"prod"===e?u="prodValue":"all"===e?u="allValue":"any"===e&&(u="anyValue");var c=4*Math.floor(n/4),l=n%4,h="\n      if ("+("sum"===e)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===e)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",f="vec4";"all"===e?(i="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",f="bvec4"):"any"===e&&(i="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",f="bvec4");var d="";o%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+i+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+d+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+i+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+c+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+h+"\n        }\n\n        int inIdx = inOffset + "+c+";\n        if ("+(1===l)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+h+"\n        } else if ("+(2===l)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+h+"\n        } else if ("+(3===l)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+h+"\n        }\n        setOutput("+u+");\n      }\n    "},zs=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+="\n        "+o+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+$a(["r","c","d"],e)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+Qa(t)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+t[1]+";\n        int cols = "+t[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "};var Gs=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,o=r[1],a=r[2],i=t.shape,s=i[1],u=i[2],c=[n&&s>1?o-1:o,n&&u>1?a-1:a],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],h=c[0]/l[0],f=c[1]/l[1],d=1/h,p=1/f,v=2*Math.ceil(d)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+h+");\n        const float widthScale = float("+f+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(o-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Hs=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var o=t[0],a=t[1],i=t[2],s=t[3];this.outputShape=[o,e,n,s];var u=[r&&e>1?a-1:a,r&&n>1?i-1:i],c=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},qs=function(t,e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=t[0],a=t[1],i=t[2],s=t[3];this.outputShape=[o,e,n,s];var u=[r&&e>1?a-1:a,r&&n>1?i-1:i],c=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+",\n          "+u[1]/c[1]+");\n      const vec3 inputShapeRC = vec3("+a+".0, "+i+".0,\n                                     "+i+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},Ks=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,o=r[1],a=r[2],i=t.shape,s=i[1],u=i[2],c=[n&&s>1?o-1:o,n&&u>1?a-1:a],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],h=c[0]/l[0],f=c[1]/l[1],d=1/h,p=1/f,v=2*Math.ceil(d)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+h+");\n        const float widthScale = float("+f+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+c[0]+") *\n                (float(dyR) / float("+l[0]+"));\n\n            float sourceFracCol =\n                float("+c[1]+") *\n                  (float(dyC) / float("+l[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},js=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var o=t[0],a=t[1],i=t[2],s=t[3];this.outputShape=[o,e,n,s];var u=[r&&e>1?a-1:a,r&&n>1?i-1:i],c=[r&&e>1?e-1:e,r&&n>1?n-1:n],l=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+l+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},Xs=function(t,e){this.variableNames=["x"];var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=t,1!==n){var r=t.map((function(n,r){return function(n){return-1!==e.indexOf(n)&&1!==t[n]?t[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)})).join(","),o=ui(n);this.userCode="\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+t[0]+" - coord - 1));\n        }\n      "},Ys=function(t,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=t;var r=Xa("rc",n),o=r[n-1]+" + 1 < "+this.outputShape[n-1],a=r[n-2]+" + 1 < "+this.outputShape[n-2],i=ui(n);function s(n){var r=t.map((function(r,o){return function(n,r){return-1!==e.indexOf(n)&&1!==t[n]?t[n]+" - "+r[n]+" - 1":""+r[n]}(o,n)}));return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+t[0]+" - rc - 1),\n            "+t[0]+" - rc - 1);\n          if("+o+"){\n              result.g = getChannel(getX("+t[0]+" - (rc  + 1) - 1),\n                "+t[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+i+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(t){return s(t)}(r.slice())+";\n          if("+o+"){\n            result.g = "+function(t){return t[n-1]="("+t[n-1]+" + 1)",s(t)}(r.slice())+";\n          }\n          if("+a+") {\n            result.b = "+function(t){return t[n-2]="("+t[n-2]+" + 1)",s(t)}(r.slice())+";\n            if("+o+") {\n              result.a = "+function(t){return t[n-1]="("+t[n-1]+" + 1)",t[n-2]="("+t[n-2]+" + 1)",s(t)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},$s=function(t,e,n,r,o,a,i){void 0===i&&(i=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var s=ui(o.length),u=ui(a.length),c="";1===n?c="i":2===n&&(c="i, j");var l="getIndices("+c+")",h="";1===r?h="i":2===r&&(h="i, coords[1]");var f="getUpdates("+h+")",d=e>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+o+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+t+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+e+"; j++) {\n              int index = round("+l+");\n              flattenedIndex += index * "+d+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+f+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},Qs=function(t,e){this.variableNames=["x","segmentIds"];var n=t.windowSize,r=t.batchSize,o=t.inSize,a=t.numSegments,i=a*Math.ceil(o/n);this.outputShape=[r,i];var s=4*Math.floor(n/4),u=n%4,c="\n        sumValue += dot(values, segFilter);\n    ",l="";o%n>0&&(l="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      ");var h="";o%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+l+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+h+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+c+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+c+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+c+"\n        }\n        setOutput(sumValue);\n      }\n    "},Js=function(t,e,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=e,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)o="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[],u=0;u<e.length;u++)s.push(""+a[u]),u<t&&i.push(""+a[u]);r=i.join(),o=s.join()}var c=ui(n);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+o+"));\n        } else {\n          setOutput(getB("+o+"));\n        }\n      }\n    "},Zs=function(){function t(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var e,n=ui(this.rank),r="uniform int start["+this.rank+"];",o=function(t){if(1===t)return"sourceLoc";if(t<=6)return tu.slice(0,t).map((function(t){return"sourceLoc."+t})).join(",");throw Error("Slicing for rank "+t+" is not yet supported")}(this.rank);e="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+t.map((function(t,e){return"sourceLoc."+tu[e]+" = start["+e+"] + coords."+tu[e]+";"})).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+e+"\n        setOutput(getSource("+o+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,r){null==e.startLoc&&(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null==e.startLoc)||n.gl.uniform1iv(e.startLoc,t)}},t}(),tu=["x","y","z","w","u","v"];var eu=function(){function t(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var e=ui(this.rank),n=Xa("coords",this.rank),r=Xa("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",a="getChannel(getSource("+r.join()+"), "+o+")",i="\n      result.x = "+a+";\n      if (++"+n[this.rank-1]+" < "+t[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+a+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+t[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+a+";\n        if (++"+n[this.rank-1]+" < "+t[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+a+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+e+"("+t.map((function(t,e){return"start["+e+"]"})).join()+");":t.map((function(t,e){return r[e]+" = "+n[e]+" + start["+e+"];"})).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+e+" coords = getOutputCoords();\n        "+e+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+i+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,r){null==e.startLoc&&(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null==e.startLoc)||n.gl.uniform1iv(e.startLoc,t)}},t}(),nu=function(t,e,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,o=ui(n.length),a=ui(n.length),i="";if(1===r)i="coords * strides + begin";else{var s=0;i=n.map((function(t,e){return s++,1===n.length?"coords * strides["+e+"] + begin["+e+"]":"coords["+(s-1)+"] * strides["+e+"] + begin["+e+"]"})).join(",")}this.userCode="\n      "+o+" begin = "+o+"("+t+");\n      "+o+" strides = "+o+"("+e+");\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+i+"));\n      }\n    "},ru=function(){function t(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(t,e,n){var r,o=ou(e,n),a=au(t,o,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var i=this.freeTextures[a].shift();return this.usedTextures[a].push(i),i}return this.numUsedTextures++,this.log(),o===Gt.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):o===Gt.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):o===Gt.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):o===Gt.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):o===Gt.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[a].push(r),r},t.prototype.releaseTexture=function(t,e,n,r){if(null!=this.freeTextures){var o=au(e,ou(n,r),r);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(t),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[o],i=a.indexOf(t);if(i<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(i,1),this.log()}},t.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var t=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach((function(e){t.gpgpu.deleteMatrixTexture(e)}));for(var e in this.usedTextures)this.usedTextures[e].forEach((function(e){t.gpgpu.deleteMatrixTexture(e)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}();function ou(t,e){if(t===zt.UPLOAD)return Gt.PACKED_2X2_FLOAT32;if(t===zt.RENDER||null==t)return function(t){return i().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Gt.PACKED_2X2_FLOAT32:Gt.UNPACKED_FLOAT32:t?Gt.PACKED_2X2_FLOAT16:Gt.UNPACKED_FLOAT16}(e);if(t===zt.DOWNLOAD||t===zt.PIXELS)return Gt.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+t)}function au(t,e,n){return t[0]+"_"+t[1]+"_"+e+"_"+n}var iu=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[r]*e[r];this.outputShape=n,this.rank=n.length;var o=ui(this.rank),a=function(t){var e=t.length;if(e>5)throw Error("Tile for rank "+e+" is not yet supported");if(1===e)return"imod(resRC, "+t[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],o=0;o<t.length;o++)r.push("imod("+n[o]+", "+t[o]+")");return r.join()}(t);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "};var su=1.7580993408473768,uu=1.0507009873554805,cu=function(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      float unaryOperation(float x) {\n        "+e+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},lu="if (isnan(x)) return x;",hu="return x;",fu="return abs(x);",du=lu+"\n  return (x < 0.0) ? 0.0 : x;\n",pu=lu+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",vu="return (x >= 0.0) ? x : (exp(x) - 1.0);",gu="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+su+";\n  float scale = "+uu+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n";var mu="return -x;",yu="return ceil(x);",xu="return floor(x);",bu="return exp(x);",wu="return exp(x) - 1.0;",Cu=lu+"\n  return sin(x);\n",Eu=lu+"\n  return cos(x);\n",Ru=lu+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",Iu=lu+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",ku=lu+"\n  return atan(x);\n",Su=lu+"return log(x + sqrt(x * x + 1.0));",Au=lu+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",Tu=lu+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",Du="return x;",Nu="return x;",Fu="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",_u="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Ou="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Mu=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Bu=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t;var e=t.length,n=Xa("rc",e),r=ui(e),o=function(t,e){if(1===t)return"rc";for(var n="",r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}(e,n),a=n.slice(-2),i=e<=1?"rc":"vec2("+a.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+o+");\n\n        setOutput(getChannel(packedInput, "+i+"));\n      }\n    "},Pu={};function Lu(t,e){if(void 0===e&&(e=!1),"linear"===t)return e?Nu:hu;if("relu"===t)return e?Fu:du;if("elu"===t)return e?Ou:vu;if("relu6"===t)return e?_u:pu;if("prelu"===t)return e?ki:Ei;throw new Error("Activation "+t+" has not been implemented for the WebGL backend.")}var Wu=600;var Uu=function(t){function o(e){var n,r=t.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!i().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==e){var o=jt(i().getNumber("WEBGL_VERSION"));r.binaryCache=(n=i().getNumber("WEBGL_VERSION"))in Pu?Pu[n]:(Pu[n]={},Pu[n]),r.gpgpu=new Is(o),r.canvas=o.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=e,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=e.gl.canvas;return r.textureManager=new ru(r.gpgpu),r.numMBBeforeWarning=null==i().global.screen?1024:i().global.screen.height*i().global.screen.width*window.devicePixelRatio*Wu/1024/1024,r.texData=new ca(r,Lt),r}return e(o,t),o.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},o.prototype.write=function(t,e,n){if(i().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===n&&null!=t)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:e,dtype:n,values:t,usage:zt.UPLOAD}),r},o.prototype.move=function(t,e,n,r){if(i().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:n,dtype:r,values:e,usage:zt.UPLOAD})},o.prototype.readSync=function(t){var e=this.texData.get(t),n=e.values,r=e.dtype,o=e.complexTensors,a=e.slice,i=e.shape,s=e.isPacked;if(null!=a){var u=void 0;u=s?new Mu(i,Du):new cu(i,Du);var c=this.runWebGLProgram(u,[{dataId:t,shape:i,dtype:r}],r),l=this.readSync(c.dataId);return this.disposeData(c.dataId),l}if(null!=n)return this.convertAndCacheOnCPU(t);if("string"===r)return n;var h,f,d=null!=this.activeTimers;(d&&(h=et()),"complex64"===r)?f=Aa(o.real.dataSync(),o.imag.dataSync()):f=this.getValuesFromTexture(t);return d&&(this.downloadWaitMs+=et()-h),this.convertAndCacheOnCPU(t,f)},o.prototype.read=function(t){return n(this,void 0,void 0,(function(){var e,n,o,a,s,u,c,l,h,f,d,p,v,g,m,y,x,b,w,C,E,R;return r(this,(function(r){switch(r.label){case 0:if(this.pendingRead.has(t))return e=this.pendingRead.get(t),[2,new Promise((function(t){return e.push(t)}))];if(n=this.texData.get(t),o=n.values,a=n.shape,s=n.slice,u=n.dtype,c=n.complexTensors,l=n.isPacked,null!=s)return h=void 0,h=l?new Mu(a,Du):new cu(a,Du),f=this.runWebGLProgram(h,[{dataId:t,shape:a,dtype:u}],u),d=this.read(f.dataId),this.disposeData(f.dataId),[2,d];if(null!=o)return[2,this.convertAndCacheOnCPU(t)];if(!i().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===i().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=null,"complex64"!==u&&i().get("WEBGL_BUFFER_SUPPORTED")&&(v=this.decode(t),g=this.texData.get(v.dataId),p=(R=this.gpgpu).createBufferFromTexture.apply(R,[g.texture].concat(Yt(a)))),this.pendingRead.set(t,[]),"complex64"===u?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:r.sent(),r.label=2;case 2:return"complex64"!==u?[3,4]:[4,Promise.all([c.real.data(),c.imag.data()])];case 3:return y=r.sent(),x=y[0],b=y[1],m=Aa(x,b),[3,5];case 4:null==p?m=this.getValuesFromTexture(t):(w=k(a),m=this.gpgpu.downloadFloat32MatrixFromBuffer(p,w)),r.label=5;case 5:return null!=v&&this.disposeData(v.dataId),C=this.convertAndCacheOnCPU(t,m),E=this.pendingRead.get(t),this.pendingRead.delete(t),E.forEach((function(t){return t(C)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t),this.pendingDeletes--),[2,C]}}))}))},o.prototype.checkNumericalProblems=function(t){if(null!=t)for(var e=0;e<t.length;e++){var n=t[e];if(!ee(n)){if(i().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},o.prototype.getValuesFromTexture=function(t){var e,n=this.texData.get(t),r=n.shape,o=n.dtype,a=n.isPacked,s=k(r);if(i().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var u=this.decode(t),c=this.texData.get(u.dataId),l=(e=this.gpgpu).downloadMatrixFromPackedTexture.apply(e,[c.texture].concat(Yt(r))).subarray(0,s);return this.disposeData(u.dataId),l}var h=i().getBool("WEBGL_PACK")&&!0===a,f=h?De(r):r,d=h?new Ji(f):new Qi(f),p=this.runWebGLProgram(d,[{shape:f,dtype:o,dataId:t}],"float32"),v=this.texData.get(p.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,s);return this.disposeData(p.dataId),g},o.prototype.time=function(t){return n(this,void 0,void 0,(function(){var e,n,o,a,s,u,c;return r(this,(function(r){switch(r.label){case 0:return e=this.activeTimers,n=[],o=!1,null==this.programTimersStack?(this.programTimersStack=n,o=!0):this.activeTimers.push(n),this.activeTimers=n,t(),a=I(this.activeTimers.map((function(t){return t.query}))).filter((function(t){return null!=t})),s=I(this.activeTimers.map((function(t){return t.name}))).filter((function(t){return null!=t})),this.activeTimers=e,o&&(this.programTimersStack=null),u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(a)]:[3,2];case 1:return c=r.sent(),u.kernelMs=w(c),u.getExtraProfileInfo=function(){return c.map((function(t,e){return{name:s[e],ms:t}})).map((function(t){return t.name+": "+t.ms})).join(", ")},[3,3];case 2:u.kernelMs={error:"WebGL query timers are not supported in this environment."},r.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,u]}}))}))},o.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},o.prototype.startTimer=function(){return i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:et(),endMs:null}},o.prototype.endTimer=function(t){return i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=et(),t)},o.prototype.getQueryTime=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){return i().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:[2,(e=t).endMs-e.startMs]}))}))},o.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return this.pendingDisposal.add(t),void this.pendingDeletes++;if(this.texData.has(t)){this.releaseGPUData(t);var e=this.texData.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.texData.delete(t)}}},o.prototype.releaseGPUData=function(t){var e=this.texData.get(t),n=e.texture,r=e.dtype,o=e.texShape,a=e.usage,i=e.isPacked,s=e.slice,u=s&&s.origDataId||t,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(o,r),this.textureManager.releaseTexture(n,o,a,i)));var l=this.texData.get(t);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null},o.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},o.prototype.getDataInfo=function(t){return this.texData.get(t)},o.prototype.getCPUBackend=function(){return i().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Lt.findBackend("cpu")),this.cpuBackend):null},o.prototype.shouldExecuteOnCPU=function(t,e){var n=this;return void 0===e&&(e=128),null!=this.getCPUBackend()&&t.every((function(t){return null==n.texData.get(t.dataId).texture&&k(t.shape)<e}))},o.prototype.getGPGPUContext=function(){return this.gpgpu},o.prototype.complex=function(t,e){var n=this.makeOutput(t.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Lt.keep(t.clone()),imag:Lt.keep(e.clone())},n},o.prototype.real=function(t){return this.texData.get(t.dataId).complexTensors.real.clone()},o.prototype.imag=function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()},o.prototype.slice=function(t,e,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,e,n);if(0===k(n))return Fn([],n,t.dtype);var r=this.texData.get(t.dataId).isPacked,o=$o(t.shape,e,n);if(r||!o){var a=i().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new eu(n):new Zs(n),s=a.getCustomSetupFunc(e);return this.compileAndRun(a,[t],null,s)}return this.uploadToGPU(t.dataId),this.shallowSlice(t,e,n)},o.prototype.shallowSlice=function(t,e,n){var r=this.texData.get(t.dataId),o=this.makeOutput(n,t.dtype),a=this.texData.get(o.dataId);Object.assign(a,r),a.shape=n,a.dtype=t.dtype;var i=Qo(e,t.strides);r.slice&&(i+=r.slice.flatOffset),a.slice={flatOffset:i,origDataId:r.slice&&r.slice.origDataId||t.dataId};var s=this.dataRefCount.get(a.slice.origDataId)||1;return this.dataRefCount.set(a.slice.origDataId,s+1),o},o.prototype.stridedSlice=function(t,e,n,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,e,n,r);var o=jo(e,n,r);if(o.some((function(t){return 0===t})))return Fn([],o);var a=new nu(e,r,o);return this.compileAndRun(a,[t])},o.prototype.reverse=function(t,e){var n=i().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ys(t.shape,e):new Xs(t.shape,e);return this.compileAndRun(n,[t])},o.prototype.concat=function(t,e){if("complex64"===t[0].dtype){var n=t.map((function(t){return Dn(t)})),r=t.map((function(t){return Nn(t)}));return Tn(this.concat(n,e),this.concat(r,e))}if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,e);if(1===t.length)return t[0];if(t.length>i().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(t.length/2),a=this.concat(t.slice(0,o),e),s=this.concat(t.slice(o),e);return this.concat([a,s],e)}if(i().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].rank>1){var u=new Fi(t.map((function(t){return t.shape})),e);return this.compileAndRun(u,t)}var c=Sn(t.map((function(t){return t.shape})),e),l=t.map((function(t){return t.as2D(-1,k(t.shape.slice(e)))})),h=new Ni(l.map((function(t){return t.shape})));return this.compileAndRun(h,l).reshape(c)},o.prototype.neg=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.neg(t);if(i().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,mu,t.dtype);var e=new cu(t.shape,mu);return this.compileAndRun(e,[t])},o.prototype.batchMatMul=function(t,e,n,r){var o=n?t.shape[2]:t.shape[1],a=r?e.shape[1]:e.shape[2],i=n?t.shape[1]:t.shape[2],s=t.shape[0];if((1===o||1===a)&&i>1e3){n&&(t=ua(t,[0,2,1])),r&&(e=ua(e,[0,2,1]));var u=1===a?t:t.as3D(s,i,1),c=1===a?2:1,l=1===a?e.as3D(s,1,i):e;return this.multiply(u,l).sum(c,!0)}var h=Tt(t.dtype,e.dtype),f=new _s(t.shape,[s,o,a],n,r);return this.compileAndRun(f,[t,e],h)},o.prototype.fusedBatchMatMul=function(t){var e=t.a,n=t.b,r=t.transposeA,o=t.transposeB,a=t.bias,i=t.activation,s=t.preluActivationWeights,u=r?e.shape[2]:e.shape[1],c=o?n.shape[1]:n.shape[2],l=e.shape[0],h=Tt(e.dtype,n.dtype),f=null!=a,d=null!=s,p=i?Lu(i,!0):null,v=new _s(e.shape,[l,u,c],r,o,f,p,d),g=[e,n];return a&&g.push(a),s&&g.push(s),this.compileAndRun(v,g,h)},o.prototype.multiply=function(t,e){if("complex64"===t.dtype){var n=this.texData.get(t.dataId),r=this.texData.get(e.dataId),o=new yi(gi,t.shape,e.shape),a=new yi(mi,t.shape,e.shape),s=[this.makeComplexComponentTensorInfo(t,n.complexTensors.real),this.makeComplexComponentTensorInfo(t,n.complexTensors.imag),this.makeComplexComponentTensorInfo(e,r.complexTensors.real),this.makeComplexComponentTensorInfo(e,r.complexTensors.imag)],u=this.compileAndRun(o,s),c=this.compileAndRun(a,s),l=this.complex(u,c);return u.dispose(),c.dispose(),l}if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.multiply(t,e);if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,wi,t.dtype);var h=new Ri(wi,t.shape,e.shape);return this.compileAndRun(h,[t,e],t.dtype)},o.prototype.batchNormalization=function(t,e,n,r,o,a){var s=[t,e,n],u=null;null!=a&&(u=a.shape,s.push(a));var c=null;if(null!=o&&(c=o.shape,s.push(o)),i().getBool("WEBGL_PACK_NORMALIZATION")){var l=new vi(t.shape,e.shape,n.shape,u,c,r);return this.compileAndRun(l,s)}var h=new pi(t.shape,e.shape,n.shape,u,c,r);return this.compileAndRun(h,s)},o.prototype.localResponseNormalization4D=function(t,e,n,r,o){var a=i().getBool("WEBGL_PACK_NORMALIZATION")?new Ds(t.shape,e,n,r,o):new As(t.shape,e,n,r,o);return this.compileAndRun(a,[t])},o.prototype.LRNGrad=function(t,e,n,r,o,a,i){var s=new Ts(e.shape,r,o,a,i);return this.compileAndRun(s,[e,n,t])},o.prototype.tile=function(t,e){if("string"===t.dtype){var n=this.readSync(t.dataId).map((function(t){return ot(t)}));return Va(er(t.shape,t.dtype,n),e)}var r=new iu(t.shape,e);return this.compileAndRun(r,[t])},o.prototype.pad=function(t,e,n){var r=i().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ls(t.shape,e,n):new Ps(t.shape,e,n);return this.compileAndRun(r,[t])},o.prototype.gather=function(t,e,n){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.gather(t,e,n);var r=new as(t.shape,e.size,n);return this.compileAndRun(r,[t,e])},o.prototype.batchToSpaceND=function(t,e,n){C(t.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=e.reduce((function(t,e){return t*e})),o=pr(t.shape,e,r),a=vr(o.length,e.length),i=gr(t.shape,e,r),s=mr(n,e.length),u=yr(i,n,e.length);return ua(t.reshape(o),a).reshape(i).slice(s,u)},o.prototype.spaceToBatchND=function(t,e,n){C(t.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=e.reduce((function(t,e){return t*e})),o=[[0,0]];o.push.apply(o,n);for(var a=1+e.length;a<t.shape.length;++a)o.push([0,0]);var i=t.pad(o),s=pr(i.shape,e,r,!1),u=vr(s.length,e.length,!1),c=gr(i.shape,e,r,!1);return ua(i.reshape(s),u).reshape(c)},o.prototype.reduce=function(t,e,n){var r=t.shape[0],o=t.shape[1],a=Uo(o),i=new Vs({windowSize:a,inSize:o,batchSize:r},e),s=this.compileAndRun(i,[t],n);return 1===s.shape[1]?s:this.reduce(s,e,n)},o.prototype.argReduce=function(t,e,n){void 0===n&&(n=null);var r=t.shape[0],o=t.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);var a=Uo(o),i=new Ka({windowSize:a,inSize:o,batchSize:r},e,null==n),s=[t];null!=n&&s.push(n);var u=this.compileAndRun(i,s,"int32");return 1===u.shape[1]?u:this.argReduce(t,e,u)},o.prototype.argReducePacked=function(t,e,n){void 0===n&&(n=null);var r=null!=n?n.shape:t.shape,o=Uo(r[r.length-1]),a=new hi(r,o,e,null==n),i=null==n?[t]:[t,n],s=this.compileAndRun(a,i,"int32");return s.rank===t.rank?this.argReducePacked(t,e,s):s},o.prototype.sum=function(t,e){Cn("sum",e,t.rank);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o),i=Dt(t.dtype);return this.reduce(a,"sum",i).reshape(r)},o.prototype.prod=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.prod(t,e);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o),i=Dt(t.dtype);return this.reduce(a,"prod",i).reshape(r)},o.prototype.unsortedSegmentSum=function(t,e,n){var r=0,o=En([r],t.rank),a=t;null!=o&&(a=ua(t,o),r=In(1,t.rank)[0]);var i=function(t,e,n){for(var r=[],o=t.length,a=0;a<o;a++)a!==e?r.push(t[a]):r.push(n);return r}(a.shape,r,n),s=k([a.shape[r]]),u=a.as2D(-1,s),c=Dt(t.dtype),l=this.segOpCompute(u,"unsortedSegmentSum",e,c,n).reshape(i);return null!=o&&(l=ua(l,Rn(o))),l},o.prototype.segOpCompute=function(t,e,n,r,o){var a=t.shape[0],i=t.shape[1],s=function(t,e){var n,r=!1;for(t<=Wo?(n=t,r=!0):n=Y(t,Math.floor(Math.sqrt(t)));!r;)n>e||n===t?r=!0:n=Y(t,n+1);return n}(i,o),u=new Qs({windowSize:s,inSize:i,batchSize:a,numSegments:o},e),c=this.compileAndRun(u,[t,n],r);return c.shape[1]===o?c:(n=Kn(0,o).tile([i/s]),this.segOpCompute(c,e,n,r,o))},o.prototype.argMinMaxReduce=function(t,e,n){var r=[e];if(Cn("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,t.rank),!i().getBool("WEBGL_PACK_REDUCE")||t.rank<=2){var o=bn(t.shape,r),a=o[0],s=k(o[1]),u=t.as2D(-1,s);return this.argReduce(u,n).reshape(a)}return this.argReducePacked(t,n)},o.prototype.argMin=function(t,e){return this.argMinMaxReduce(t,e,"min")},o.prototype.argMax=function(t,e){return this.argMinMaxReduce(t,e,"max")},o.prototype.cumsum=function(t,e,n,r){if(e!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+e);var o=new qi(t.shape,n,r);return this.compileAndRun(o,[t])},o.prototype.equal=function(t,e){if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(equal(a, b));\n","bool");var n=new Ri("return float(a == b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},o.prototype.notEqual=function(t,e){if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(notEqual(a, b));\n","bool");var n=new Ri("return float(a != b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},o.prototype.less=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.less(t,e);if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(lessThan(a, b));\n","bool");var n=new Ri("return float(a < b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},o.prototype.lessEqual=function(t,e){if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new Ri("return float(a <= b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},o.prototype.greater=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.greater(t,e);if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new Ri("return float(a > b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},o.prototype.greaterEqual=function(t,e){if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new Ri("return float(a >= b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},o.prototype.logicalNot=function(t){var e=new cu(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(e,[t])},o.prototype.logicalAnd=function(t,e){if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new Ri("return float(a >= 1.0 && b >= 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},o.prototype.logicalOr=function(t,e){if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new Ri("return float(a >= 1.0 || b >= 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")},o.prototype.select=function(t,e,n){var r=new Js(t.rank,e.shape,e.rank);return this.compileAndRun(r,[t,e,n],Tt(e.dtype,n.dtype))},o.prototype.where=function(t){dn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var e=t.dataSync();return Ga(t.shape,e)},o.prototype.topk=function(t,e,n){return za(t.dataSync(),t.shape,t.dtype,e)},o.prototype.min=function(t,e){Cn("min",e,t.rank);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o);return this.reduce(a,"min",a.dtype).reshape(r)},o.prototype.minimum=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.minimum(t,e);var n=i().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Si("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Ri("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.mod=function(t,e){var n=i().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Si("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Ri("if (b == 0.0) return NAN;\n  return mod(a, b);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.max=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.max(t,e);Cn("max",e,t.rank);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o);return this.reduce(a,"max",a.dtype).reshape(r)},o.prototype.maximum=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.maximum(t,e);var n=i().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Si("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Ri("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.all=function(t,e){Cn("all",e,t.rank);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o);return this.reduce(a,"all",a.dtype).reshape(r)},o.prototype.any=function(t,e){Cn("any",e,t.rank);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o);return this.reduce(a,"any",a.dtype).reshape(r)},o.prototype.floorDiv=function(t,e){if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new Ri("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",t.shape,e.shape);return this.compileAndRun(n,[t,e],"int32")},o.prototype.add=function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,xi);if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.add(t,e);var n=Tt(t.dtype,e.dtype);if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,xi,n);var r=new Ri(xi,t.shape,e.shape);return this.compileAndRun(r,[t,e],n)},o.prototype.packedUnaryOp=function(t,e,n){var r=new Mu(t.shape,e);return this.compileAndRun(r,[t],n)},o.prototype.packedBinaryOp=function(t,e,n,r,o){void 0===o&&(o=!1);var a=new Si(n,t.shape,e.shape,o);return this.compileAndRun(a,[t,e],r)},o.prototype.complexSeparableBinaryOp=function(t,e,n){var r=this,o=this.texData.get(t.dataId),a=this.texData.get(e.dataId),i=[[o.complexTensors.real,a.complexTensors.real],[o.complexTensors.imag,a.complexTensors.imag]].map((function(o){var a=o[0],i=o[1],s=r.makeComplexComponentTensorInfo(t,a),u=r.makeComplexComponentTensorInfo(e,i),c=new Ri(n,t.shape,e.shape);return r.compileAndRun(c,[s,u],Tt(a.dtype,i.dtype))})),s=i[0],u=i[1],c=this.complex(s,u);return s.dispose(),u.dispose(),c},o.prototype.makeComplexComponentTensorInfo=function(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}},o.prototype.addN=function(t){if(1===t.length)return t[0];if(t.length>i().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var e=Math.floor(t.length/2),n=this.addN(t.slice(0,e)),r=this.addN(t.slice(e));return this.addN([n,r])}var o=t.map((function(t){return t.dtype})).reduce((function(t,e){return Tt(t,e)})),a=t.map((function(t){return t.shape})),s=i().getBool("WEBGL_PACK")?new qa(t[0].shape,a):new Ha(t[0].shape,a);return this.compileAndRun(s,t,o)},o.prototype.subtract=function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,bi);if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.subtract(t,e);var n=Tt(t.dtype,e.dtype);if(i().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,bi,t.dtype);var r=new Ri(bi,t.shape,e.shape);return this.compileAndRun(r,[t,e],n)},o.prototype.pow=function(t,e){var n=i().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Si("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Ri("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",t.shape,e.shape),r=Tt(t.dtype,e.dtype);return this.compileAndRun(n,[t,e],r)},o.prototype.ceil=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.ceil(t);if(i().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,yu,t.dtype);var e=new cu(t.shape,yu);return this.compileAndRun(e,[t])},o.prototype.floor=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.floor(t);if(i().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,xu,t.dtype);var e=new cu(t.shape,xu);return this.compileAndRun(e,[t])},o.prototype.sign=function(t){var e=new cu(t.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(e,[t])},o.prototype.isNaN=function(t){var e=new cu(t.shape,"return float(isnan(x));");return this.compileAndRun(e,[t],"bool")},o.prototype.isInf=function(t){var e=new cu(t.shape,"return float(isinf(x));");return this.compileAndRun(e,[t],"bool")},o.prototype.isFinite=function(t){var e=new cu(t.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(e,[t],"bool")},o.prototype.round=function(t){var e=new cu(t.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(e,[t])},o.prototype.exp=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.exp(t);if(i().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,bu,t.dtype);var e=new cu(t.shape,bu);return this.compileAndRun(e,[t])},o.prototype.expm1=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.expm1(t);if(i().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,wu,t.dtype);var e=new cu(t.shape,wu);return this.compileAndRun(e,[t])},o.prototype.softmax=function(t,e){var n=O([e],t.shape),r=this.max(t,n),o=wn(r.shape,n),a=this.subtract(t,r.reshape(o)),i=this.exp(a),s=this.sum(i,n).reshape(o);return Bo(i,s)},o.prototype.log=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.log(t);if(i().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",t.dtype);var e=new cu(t.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(e,[t])},o.prototype.log1p=function(t){var e=new cu(t.shape,"return log(1.0 + x);");return this.compileAndRun(e,[t])},o.prototype.sqrt=function(t){var e=new cu(t.shape,"return sqrt(x);");return this.compileAndRun(e,[t])},o.prototype.rsqrt=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.rsqrt(t);var e=new cu(t.shape,"return inversesqrt(x);");return this.compileAndRun(e,[t])},o.prototype.reciprocal=function(t){var e=new cu(t.shape,"return 1.0 / x;");return this.compileAndRun(e,[t])},o.prototype.relu=function(t){var e;return e=i().getBool("WEBGL_PACK")?new Mu(t.shape,Fu):new cu(t.shape,du),this.compileAndRun(e,[t])},o.prototype.relu6=function(t){var e;return e=i().getBool("WEBGL_PACK")?new Mu(t.shape,_u):new cu(t.shape,pu),this.compileAndRun(e,[t])},o.prototype.prelu=function(t,e){var n=i().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Si(ki,t.shape,e.shape):new Ri(Ei,t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.elu=function(t){if(i().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Ou,t.dtype);var e=new cu(t.shape,vu);return this.compileAndRun(e,[t])},o.prototype.eluDer=function(t,e){var n=i().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Si("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",t.shape,e.shape):new Ri("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.selu=function(t){var e=new cu(t.shape,gu);return this.compileAndRun(e,[t])},o.prototype.int=function(t){var e=new cu(t.shape,"return float(int(x));");return this.compileAndRun(e,[t],"int32")},o.prototype.clip=function(t,e,n){var r,o=(r=i().getBool("WEBGL_PACK_CLIP")?new Ti(t.shape):new Ai(t.shape)).getCustomSetupFunc(e,n);return this.compileAndRun(r,[t],null,o)},o.prototype.abs=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.abs(t);if(i().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,fu,t.dtype);var e=new cu(t.shape,fu);return this.compileAndRun(e,[t])},o.prototype.complexAbs=function(t){var e=this.texData.get(t.dataId),n=new Di(t.shape),r=[this.makeComplexComponentTensorInfo(t,e.complexTensors.real),this.makeComplexComponentTensorInfo(t,e.complexTensors.imag)];return this.compileAndRun(n,r)},o.prototype.sigmoid=function(t){var e=new cu(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(e,[t])},o.prototype.softplus=function(t){var e=new cu(t.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(e,[t])},o.prototype.sin=function(t){var e=new cu(t.shape,Cu);return this.compileAndRun(e,[t])},o.prototype.cos=function(t){var e=new cu(t.shape,Eu);return this.compileAndRun(e,[t])},o.prototype.tan=function(t){var e=new cu(t.shape,"return tan(x);");return this.compileAndRun(e,[t])},o.prototype.asin=function(t){var e=new cu(t.shape,Ru);return this.compileAndRun(e,[t])},o.prototype.acos=function(t){var e=new cu(t.shape,Iu);return this.compileAndRun(e,[t])},o.prototype.atan=function(t){var e=new cu(t.shape,ku);return this.compileAndRun(e,[t])},o.prototype.atan2=function(t,e){var n=i().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Si("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Ri("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.sinh=function(t){var e=new cu(t.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])},o.prototype.cosh=function(t){var e=new cu(t.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])},o.prototype.tanh=function(t){var e=new cu(t.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(e,[t])},o.prototype.asinh=function(t){var e=new cu(t.shape,Su);return this.compileAndRun(e,[t])},o.prototype.acosh=function(t){var e=new cu(t.shape,Au);return this.compileAndRun(e,[t])},o.prototype.atanh=function(t){var e=new cu(t.shape,Tu);return this.compileAndRun(e,[t])},o.prototype.erf=function(t){var e=new cu(t.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(e,[t])},o.prototype.step=function(t,e){var n=new cu(t.shape,function(t){return void 0===t&&(t=0),lu+"\n    return x > 0.0 ? 1.0 : float("+t+");\n  "}(e));return this.compileAndRun(n,[t])},o.prototype.conv2dByMatMul=function(t,e,n,r,o,a){var s=t.shape,u=this.texData.get(t.dataId),c=n.inChannels,l=s[0]*s[1]*s[2],h=n.outChannels,f="channelsLast"===n.dataFormat,d=(1===l||1===h)&&c>1e3,p=s[2]%2!=0&&!!u.isPacked;if(d||!i().getBool("WEBGL_LAZILY_UNPACK")||!i().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!p){var v=f?s[0]*s[1]*s[2]:s[0]*s[2]*s[3],g=this.reshape(t,[1,v,n.inChannels]),m=this.reshape(e,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:g,b:m,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:a}),n.outShape)}var y=f?s[0]*s[1]*(s[2]+1):s[0]*s[2]*(s[3]+1),x={dataId:t.dataId,shape:[1,y,n.inChannels],dtype:t.dtype},b=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,C(_e(u.shape,x.shape),(function(){return"packed reshape "+u.shape+" to "+x.shape+" isn't free"}));var w=this.reshape(e,[1,n.inChannels,n.outChannels]),E=this.fusedBatchMatMul({a:x,b:w,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:a}),R=this.texData.get(E.dataId);return C(R.isPacked,(function(){return"batchMatMul result is expected to be packed"})),u.shape=b,R.shape=n.outShape,Lt.makeTensorFromDataId(E.dataId,n.outShape,E.dtype)},o.prototype.conv2dWithIm2Row=function(t,e,n,r,o,a){var i=n.filterWidth,s=n.filterHeight,u=n.inChannels,c=n.outWidth,l=n.outHeight,h="channelsLast"===n.dataFormat,f=i*s*u,d=l*c,p=[f,d],v=t.squeeze([0]),g=e.reshape([1,f,-1]),m=new Ss(p,v.shape,n),y=this.compileAndRun(m,[v]).reshape([1,p[0],p[1]]),x=null!=r,b=null!=a,w=o?Lu(o,!0):null,C=new _s(y.shape,[1,d,n.outChannels],!0,!1,x,w,b),E=[y,g];r&&E.push(r),b&&E.push(a);var R=this.compileAndRun(C,E);return h?R.reshape([1,l,c,n.outChannels]):R.reshape([1,n.outChannels,l,c])},o.prototype.fusedConv2d=function(t){var e=t.input,n=t.filter,r=t.convInfo,o=t.bias,a=t.activation,s=t.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(e,n,r,o,a,s);if(i().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,n,r,o,a,s);var u=null!=o,c=null!=s,l=a?Lu(a,!1):null,h=new Ui(r,u,l,c),f=[e,n];return o&&f.push(o),s&&f.push(s),this.compileAndRun(h,f)},o.prototype.conv2d=function(t,e,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(t,e,n);if(i().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,e,n);var r=new Ui(n);return this.compileAndRun(r,[t,e])},o.prototype.conv2dDerInput=function(t,e,n){var r=new Mi(n);return this.compileAndRun(r,[t,e])},o.prototype.conv2dDerFilter=function(t,e,n){var r=new Oi(n);return this.compileAndRun(r,[t,e])},o.prototype.fusedDepthwiseConv2D=function(t){var e,n=t.input,r=t.filter,o=t.convInfo,a=t.bias,s=t.activation,u=t.preluActivationWeights,c=i().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,l=s?Lu(s,c):null,h=[n,r],f=null!=a,d=null!=u;return f&&h.push(a),d&&h.push(u),c?(e=new Gi(o,f,l,d),this.compileAndRun(e,h)):(e=new zi(o,f,l,d),this.compileAndRun(e,h))},o.prototype.depthwiseConv2D=function(t,e,n){var r;return i().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new Gi(n),this.compileAndRun(r,[t,e])):(r=new zi(n),this.compileAndRun(r,[t,e]))},o.prototype.depthwiseConv2DDerInput=function(t,e,n){var r=new Wi(n);return this.compileAndRun(r,[t,e])},o.prototype.depthwiseConv2DDerFilter=function(t,e,n){var r=new Li(n);return this.compileAndRun(r,[t,e])},o.prototype.conv3d=function(t,e,n){var r=new Vi(n);return this.compileAndRun(r,[t,e])},o.prototype.conv3dDerInput=function(t,e,n){var r=new Pi(n);return this.compileAndRun(r,[t,e])},o.prototype.conv3dDerFilter=function(t,e,n){var r=new Bi(n);return this.compileAndRun(r,[t,e])},o.prototype.maxPool=function(t,e){var n=new Ws(e,"max",!1);return this.compileAndRun(n,[t])},o.prototype.avgPool=function(t,e){var n=new Ws(e,"avg",!1);return this.compileAndRun(n,[t],"float32")},o.prototype.maxPoolBackprop=function(t,e,n,r){var o=new Ws(r,"max",!0),a=this.compileAndRun(o,[e]),i=new Ns(r),s=this.compileAndRun(i,[t,a],e.dtype);return a.dispose(),s},o.prototype.avgPoolBackprop=function(t,e,n){var r=new fi(n);return this.compileAndRun(r,[t],e.dtype)},o.prototype.cast=function(t,e){return Ra(t,e,this)},o.prototype.unstack=function(t,e){for(var n=t.shape[e],r=new Array(t.rank-1),o=0,a=0;a<t.rank;a++)a!==e&&(r[o++]=t.shape[a]);var i=new Array(t.rank).fill(0),s=t.shape.slice();s[e]=1;var u=new Array(n);for(a=0;a<u.length;a++)i[e]=a,u[a]=this.slice(t,i,s).reshape(r);return u},o.prototype.avgPool3d=function(t,e){var n=new Us(e,"avg",!1);return this.compileAndRun(n,[t],"float32")},o.prototype.avgPool3dBackprop=function(t,e,n){var r=new di(n);return this.compileAndRun(r,[t],e.dtype)},o.prototype.maxPool3d=function(t,e){var n=new Us(e,"max",!1);return this.compileAndRun(n,[t],"float32")},o.prototype.maxPool3dBackprop=function(t,e,n,r){var o=new Us(r,"max",!0),a=this.compileAndRun(o,[e]),i=new Fs(r),s=this.compileAndRun(i,[t,a],e.dtype);return a.dispose(),s},o.prototype.reshape=function(t,e){var n=this.texData.get(t.dataId);if(n.isPacked&&!_e(t.shape,e)&&(null===n.texture||!_e(n.shape,e))){var r=this.packedReshape(t,e);return Lt.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return Ia(t,e)},o.prototype.resizeBilinear=function(t,e,n,r){var o=i().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new qs(t.shape,e,n,r):new Hs(t.shape,e,n,r);return this.compileAndRun(o,[t],"float32")},o.prototype.resizeBilinearBackprop=function(t,e,n){var r=new Gs(t,e,n);return this.compileAndRun(r,[t])},o.prototype.resizeNearestNeighbor=function(t,e,n,r){var o=new js(t.shape,e,n,r);return this.compileAndRun(o,[t])},o.prototype.resizeNearestNeighborBackprop=function(t,e,n){var r=new Ks(t,e,n);return this.compileAndRun(r,[t])},o.prototype.multinomial=function(t,e,n,r){var o=e?t:ia(t),a=o.shape[0],i=o.shape[1],s=new Os(a,i,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[o],"int32",u)},o.prototype.oneHot=function(t,e,n,r){var o=new Ms(t.size,e,n,r);return this.compileAndRun(o,[t])},o.prototype.diag=function(t){var e=new $i(t.size);return this.compileAndRun(e,[t])},o.prototype.nonMaxSuppression=function(t,e,n,r,o){return dn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Oa(t.dataSync(),e.dataSync(),n,r,o)},o.prototype.cropAndResize=function(t,e,n,r,o,a){var i=new Hi(t.shape,e.shape,r,o,a);return this.compileAndRun(i,[t,e,n],"float32")},o.prototype.depthToSpace=function(t,e,n){C(e>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+e}));var r=t.shape[0],o="NHWC"===n?t.shape[1]:t.shape[2],a="NHWC"===n?t.shape[2]:t.shape[3],i="NHWC"===n?t.shape[3]:t.shape[1],s=o*e,u=a*e,c=i/(e*e),l=new Yi("NHWC"===n?[r,s,u,c]:[r,c,s,u],e,n);return this.compileAndRun(l,[t])},o.prototype.split=function(t,e,n){return Ua(t,e,n)},o.prototype.scatterND=function(t,e,n){var r=Go(0,t,n),o=r.sliceRank,a=r.numUpdates,i=r.sliceSize,s=r.strides,u=r.outputSize,c=[u/i,i],l=t.reshape([a,o]),h=e.reshape([a,i]);if(0===u)return Ia(Fn([]),n);var f=On(0),d=new $s(a,o,l.rank,h.rank,s,c);return this.compileAndRun(d,[h,l,f]).reshape(n)},o.prototype.sparseToDense=function(t,e,n,r){var o=Go(0,t,n),a=o.sliceRank,i=o.numUpdates,s=o.strides,u=o.outputSize,c=new $s(i,a,t.rank,e.rank,s,[u,1],!1);return this.compileAndRun(c,[e,t,r]).reshape(n)},o.prototype.fft=function(t){return this.fftImpl(t,!1)},o.prototype.ifft=function(t){return this.fftImpl(t,!0)},o.prototype.fftImpl=function(t,e){var n=this.texData.get(t.dataId),r=new rs(es,t.shape,e),o=new rs(ns,t.shape,e),a=[this.makeComplexComponentTensorInfo(t,n.complexTensors.real),this.makeComplexComponentTensorInfo(t,n.complexTensors.imag)],i=this.compileAndRun(r,a),s=this.compileAndRun(o,a),u=this.complex(i,s).as2D(t.shape[0],t.shape[1]);return i.dispose(),s.dispose(),u},o.prototype.gatherND=function(t,e){var n=e.shape,r=n[n.length-1],o=Po(t,e),a=o[0],i=o[1],s=o[2],u=o[3],c=e.reshape([i,r]),l=t.reshape([t.size/s,s]),h=new is(r,u,[i,s]);return this.compileAndRun(h,[l,c]).reshape(a)},o.prototype.fill=function(t,e,n){if("string"===(n=n||j(e))){var r=P(n,k(t));return r.fill(e),Lt.makeTensor(r,t,n,this)}var o=new os(t,e),a=o.getCustomSetupFunc(e);return this.compileAndRun(o,[],n,a)},o.prototype.onesLike=function(t){if("string"===t.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(t.shape,1,t.dtype)},o.prototype.zerosLike=function(t){return this.fill(t.shape,"string"===t.dtype?"":0,t.dtype)},o.prototype.linspace=function(t,e,n){return ka(t,e,n)},o.prototype.makeTensorInfo=function(t,e){var n=this.write(null,t,e);return this.texData.get(n).usage=null,{dataId:n,shape:t,dtype:e}},o.prototype.makeOutput=function(t,e){var n=this.makeTensorInfo(t,e).dataId;return Lt.makeTensorFromDataId(n,t,e,this)},o.prototype.unpackTensor=function(t){var e=new Bu(t.shape);return this.runWebGLProgram(e,[t],t.dtype)},o.prototype.packTensor=function(t){var e=new Bs(t.shape);return this.runWebGLProgram(e,[t],t.dtype,null,!0)},o.prototype.packedReshape=function(t,e){var n=[Ae(t.shape)].concat(Te(t.shape)),r={dtype:t.dtype,shape:n,dataId:t.dataId},o=[Ae(e)].concat(Te(e)),a=new zs(o,n),i=this.runWebGLProgram(a,[r],t.dtype,null,!0);return{dataId:i.dataId,shape:e,dtype:i.dtype}},o.prototype.decode=function(t){var e,n=this.texData.get(t),r=n.isPacked,o=n.shape,a=n.dtype,i=De(o);e=r?new Xi(i):new ji(i);return{dtype:a,shape:o,dataId:this.runWebGLProgram(e,[{shape:i,dtype:a,dataId:t}],a,null,!0).dataId}},o.prototype.runWebGLProgram=function(t,e,n,r,o){var a=this;void 0===o&&(o=!1);var s=this.makeTensorInfo(t.outputShape,n),u=this.texData.get(s.dataId);if(t.packedOutput&&(u.isPacked=!0),t.outPackingScheme===Vt.DENSE){var c=Yt(t.outputShape);u.texShape=c.map((function(t){return 2*t}))}if(null!=t.outTexUsage&&(u.usage=t.outTexUsage),0===k(s.shape))return u.values=B(s.dtype,0),s;var l=[],h=e.map((function(e){if("complex64"===e.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(e.dataId);if(null==n.texture){if(!t.packedInputs&&k(e.shape)<=i().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:e.shape,texData:null,isUniform:!0,uniformValues:n.values};t.packedInputs&&(n.isPacked=!0,n.shape=e.shape)}else if(!!n.isPacked!=!!t.packedInputs)e=n.isPacked?a.unpackTensor(e):a.packTensor(e),l.push(e),n=a.texData.get(e.dataId);else if(n.isPacked&&!_e(n.shape,e.shape)){var r=e,o=e.shape;e.shape=n.shape,e=a.packedReshape(e,o),l.push(e),n=a.texData.get(e.dataId),r.shape=o}return a.uploadToGPU(e.dataId),{shape:e.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);var f,d={shape:s.shape,texData:u,isUniform:!1},p=function(t,e,n){var r="";e.concat(n).forEach((function(t){var e=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0,n=t.isUniform?"uniform":t.texData.texShape;r+=t.shape+"_"+n+"_"+e}));var o=t.userCode,a=t.constructor.name;return a+="_"+r+"_"+o}(t,h,d),v=this.getAndSaveBinary(p,(function(){return function(t,e,n,r){var o=e.userCode,a=n.map((function(t,n){var r={logicalShape:t.shape,texShape:t.isUniform?null:t.texData.texShape,isUniform:t.isUniform,isPacked:!t.isUniform&&t.texData.isPacked,flatOffset:null};return null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0&&(r.flatOffset=t.texData.slice.flatOffset),{name:e.variableNames[n],shapeInfo:r}})),s=a.map((function(t){return t.shapeInfo})),u={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},c=Za(a,u,o,e.packedInputs),l=t.createProgram(c),h=null,f=t.getUniformLocation(l,"NAN",!1);1===i().getNumber("WEBGL_VERSION")&&(h=t.getUniformLocation(l,"INFINITY",!1));for(var d={},p=0;p<e.variableNames.length;p++){var v=e.variableNames[p];d[v]=t.getUniformLocation(l,v,!1),d["offset"+v]=t.getUniformLocation(l,"offset"+v,!1)}return{program:e,source:c,webGLProgram:l,uniformLocations:d,inShapeInfos:s,outShapeInfo:u,infLoc:h,nanLoc:f}}(a.gpgpu,t,h,d)})),g=null!=this.activeTimers;if(g&&(f=this.startTimer()),function(t,e,n,r,o){ks(e.inShapeInfos,n),ks([e.outShapeInfo],[r]);var a=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(a,s[0],s[1]):t.setOutputMatrixTexture(a,s[0],s[1]),t.setProgram(e.webGLProgram),1===i().getNumber("WEBGL_VERSION")&&null!==e.infLoc&&t.gl.uniform1f(e.infLoc,1/0),null!==e.nanLoc&&t.gl.uniform1f(e.nanLoc,NaN),n.forEach((function(n,r){var o=e.program.variableNames[r],a=e.uniformLocations[o],i=e.uniformLocations["offset"+o];if(null!=a)if(n.isUniform)if(k(n.shape)<2)t.gl.uniform1f(a,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),t.gl.uniform1fv(a,s)}else null!=n.texData.slice&&null!=i&&t.gl.uniform1i(i,n.texData.slice.flatOffset),t.setInputMatrixTexture(n.texData.texture,a,r)})),null!=o&&o(t,e.webGLProgram),t.executeProgram()}(this.gpgpu,v,h,d,r),l.forEach((function(t){return a.disposeData(t.dataId)})),g&&(f=this.endTimer(f),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(f)})),!i().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&!1===o){var m=this.unpackTensor(s);return this.disposeData(s.dataId),m}return s},o.prototype.compileAndRun=function(t,e,n,r,o){void 0===o&&(o=!1),n=n||e[0].dtype;var a=this.runWebGLProgram(t,e,n,r,o);return Lt.makeTensorFromDataId(a.dataId,a.shape,a.dtype)},o.prototype.getAndSaveBinary=function(t,e){return t in this.binaryCache||(this.binaryCache[t]=e()),this.binaryCache[t]},o.prototype.getTextureManager=function(){return this.textureManager},o.prototype.dispose=function(){var t=this;if(!this.disposed){if(!i().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(e){t.gpgpu.deleteProgram(t.binaryCache[e].webGLProgram),delete t.binaryCache[e]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}},o.prototype.floatPrecision=function(){var t=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Ze((function(){if(!i().get("WEBGL_RENDER_FLOAT32_ENABLED")){var e=i().getBool("DEBUG");i().set("DEBUG",!1);var n=t.abs(On(1e-8)).dataSync()[0];if(i().set("DEBUG",e),n>0)return 32}return 16}))),this.floatPrecisionValue},o.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},o.prototype.uploadToGPU=function(t){var e,n=this.texData.get(t),r=n.shape,o=n.dtype,a=n.values,i=n.texture,s=n.usage,u=n.isPacked;if(null==i){var c,l=null!=this.activeTimers;l&&(c=et());var h=n.texShape;if(null==h&&(h=Ne(r,u),n.texShape=h),null!=a){var f=De(r),d=void 0,p=h[1],v=h[0],g=a instanceof Uint8Array;u?(p=(e=$t(h[0],h[1]))[0],v=e[1],d=new ts(f,[v,p],g)):d=new Zi(f,[v,p],g);var m=this.makeTensorInfo([v,p],o);this.texData.get(m.dataId).usage=g?zt.PIXELS:zt.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(m.dataId),p,v,a);var y=this.runWebGLProgram(d,[m],o,null,!0),x=this.texData.get(y.dataId);n.texture=x.texture,n.texShape=x.texShape,n.isPacked=x.isPacked,n.usage=x.usage,this.disposeData(m.dataId),this.texData.delete(y.dataId),n.values=null,l&&(this.uploadWaitMs+=et()-c)}else{var b=this.acquireTexture(h,s,o,u);n.texture=b}}},o.prototype.convertAndCacheOnCPU=function(t,e){var n=this.texData.get(t),r=n.dtype;return this.releaseGPUData(t),null!=e&&(n.values=function(t,e){if("float32"===e||"complex64"===e)return t;if("int32"===e||"bool"===e){for(var n="int32"===e?new Int32Array(t.length):new Uint8Array(t.length),r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}throw new Error("Unknown dtype "+e)}(e,r)),n.values},o.prototype.acquireTexture=function(t,e,n,r){if(this.numBytesInGPU+=this.computeBytes(t,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(t,e,r)},o.prototype.computeBytes=function(t,e){return t[0]*t[1]*z(e)},o}(la);Wt()&&Lt.registerBackend("webgl",(function(){return new Uu}),2);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Vu(t,e){return t(e={exports:{}},e.exports),e.exports}var zu=Vu((function(t){!function(t,e,n){function r(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function o(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function a(t,e){var n=new r(t),a=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.alea=a}(0,t,!1)})),Gu=Vu((function(t){!function(t,e,n){function r(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function a(t,e){var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.xor128=a}(0,t,!1)})),Hu=Vu((function(t){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function a(t,e){var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.xorwow=a}(0,t,!1)})),qu=Vu((function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.x,o=e.i;return t=r[o],n=(t^=t>>>7)^t<<24,n^=(t=r[o+1&7])^t>>>10,n^=(t=r[o+3&7])^t>>>3,n^=(t=r[o+4&7])^t<<7,t=r[o+7&7],n^=(t^=t<<13)^t<<9,r[o]=n,e.i=o+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function o(t,e){return e.x=t.x.slice(),e.i=t.i,e}function a(t,e){null==t&&(t=+new Date);var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,a&&(a.x&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.xorshift7=a}(0,t,!1)})),Ku=Vu((function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.w,o=e.X,a=e.i;return e.w=r=r+1640531527|0,n=o[a+34&127],t=o[a=a+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=o[a]=n^t,e.i=a,n+(r^r>>>16)|0},function(t,e){var n,r,o,a,i,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),o=0,a=-32;a<u;++a)e&&(r^=e.charCodeAt((a+32)%e.length)),0===a&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=i+1640531527|0,o=0==(n=s[127&a]^=r+i)?o+1:0);for(o>=128&&(s[127&(e&&e.length||0)]=-1),o=127,a=512;a>0;--a)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;t.w=i,t.X=s,t.i=o}(e,t)}function o(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function a(t,e){null==t&&(t=+new Date);var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,a&&(a.X&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.xor4096=a}(0,t,!1)})),ju=Vu((function(t){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,o=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function o(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function a(t,e){var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.tychei=a}(0,t,!1)})),Xu=Vu((function(t){!function(e,n){var r,o=this,a=256,i=6,s="random",u=n.pow(a,i),c=n.pow(2,52),l=2*c,h=a-1;function f(t,h,f){var m=[],y=v(function t(e,n){var r,o=[],a=typeof e;if(n&&"object"==a)for(r in e)try{o.push(t(e[r],n-1))}catch(t){}return o.length?o:"string"==a?e:e+"\0"}((h=1==h?{entropy:!0}:h||{}).entropy?[t,g(e)]:null==t?function(){try{var t;return r&&(t=r.randomBytes)?t=t(a):(t=new Uint8Array(a),(o.crypto||o.msCrypto).getRandomValues(t)),g(t)}catch(t){var n=o.navigator,i=n&&n.plugins;return[+new Date,o,i,o.screen,g(e)]}}():t,3),m),x=new d(m),b=function(){for(var t=x.g(i),e=u,n=0;t<c;)t=(t+n)*a,e*=a,n=x.g(1);for(;t>=l;)t/=2,e/=2,n>>>=1;return(t+n)/e};return b.int32=function(){return 0|x.g(4)},b.quick=function(){return x.g(4)/4294967296},b.double=b,v(g(x.S),e),(h.pass||f||function(t,e,r,o){return o&&(o.S&&p(o,x),t.state=function(){return p(x,{})}),r?(n[s]=t,e):t})(b,y,"global"in h?h.global:this==n,h.state)}function d(t){var e,n=t.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(t=[n++]);o<a;)s[o]=o++;for(o=0;o<a;o++)s[o]=s[i=h&i+t[o%n]+(e=s[o])],s[i]=e;(r.g=function(t){for(var e,n=0,o=r.i,i=r.j,s=r.S;t--;)e=s[o=h&o+1],n=n*a+s[h&(s[o]=s[i=h&i+e])+(s[i]=e)];return r.i=o,r.j=i,n})(a)}function p(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function v(t,e){for(var n,r=t+"",o=0;o<r.length;)e[h&o]=h&(n^=19*e[h&o])+r.charCodeAt(o++);return g(e)}function g(t){return String.fromCharCode.apply(0,t)}if(n["seed"+s]=f,v(n.random(),e),t.exports){t.exports=f;try{r=__webpack_require__(/*! crypto */ 0)}catch(t){}}}([],Math)}));Xu.alea=zu,Xu.xor128=Gu,Xu.xorwow=Hu,Xu.xorshift7=qu,Xu.xor4096=Ku,Xu.tychei=ju;var Yu=Xu.alea;var $u=An({addN_:function(t){C(Array.isArray(t),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),C(t.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+t.length}));var e=t.map((function(t,e){return gn(t,"tensors"+e,"addN")})),n=e[0];e.forEach((function(t){if(t.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),e.forEach((function(t){if(!S(t.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=e;return Lt.runKernelFunc((function(t,n){return t.addN(e)}),r,null,"AddN")}});function Qu(){Xe("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}function Ju(t){return 0===t.rank||1===t.rank?t.as4D(1,1,1,t.size):2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}function Zu(t,e,n,r,o,a){null==a&&(a=.001);var i,s,u=gn(t,"x","batchNorm"),c=gn(e,"mean","batchNorm"),l=gn(n,"variance","batchNorm");null!=o&&(i=gn(o,"scale","batchNorm")),null!=r&&(s=gn(r,"offset","batchNorm")),C(c.rank===l.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),C(null==s||c.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),C(null==i||c.rank===i.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var h={x:u,scale:i,offset:s,mean:c,variance:l},f={varianceEpsilon:a};return Lt.runKernelFunc((function(t,e){var n=Ju(u),r=t.batchNormalization(n,tc(c),tc(l),a,tc(i),tc(s));return e([u,c,l,i]),r}),h,null,"FusedBatchNorm",f).reshape(u.shape)}function tc(t){return null==t?null:0===t.rank?t.as1D():1===t.rank?t:2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}var ec=An({batchNormalization_:function(t,e,n,r,o,a){return void 0===r&&(r=.001),Qu(),Zu(t,e,n,a,o,r)}}),nc=An({batchNorm_:Zu});function rc(t,e,n,r,o,a){var i,s,u=gn(t,"x","batchNorm"),c=gn(e,"mean","batchNorm"),l=gn(n,"variance","batchNorm");return null!=o&&(i=gn(o,"scale","batchNorm")),null!=r&&(s=gn(r,"offset","batchNorm")),C(2===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),C(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."})),C(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+l.rank+"."})),null!=i&&C(2===i.rank||1===i.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+i.rank+"."})),null!=s&&C(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),nc(u,c,l,s,i,a)}var oc=An({batchNormalization2d_:function(t,e,n,r,o,a){return void 0===r&&(r=.001),Qu(),rc(t,e,n,a,o,r)}}),ac=An({batchNorm2d_:rc});function ic(t,e,n,r,o,a){var i,s,u=gn(t,"x","batchNorm"),c=gn(e,"mean","batchNorm"),l=gn(n,"variance","batchNorm");return null!=o&&(i=gn(o,"scale","batchNorm")),null!=r&&(s=gn(r,"offset","batchNorm")),C(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),C(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."})),C(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+l.rank+"."})),null!=i&&C(3===i.rank||1===i.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+i.rank+"."})),null!=s&&C(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),nc(u,c,l,s,i,a)}var sc=An({batchNormalization3d_:function(t,e,n,r,o,a){return void 0===r&&(r=.001),Qu(),ic(t,e,n,a,o,r)}}),uc=An({batchNorm3d_:ic});function cc(t,e,n,r,o,a){var i,s,u=gn(t,"x","batchNorm"),c=gn(e,"mean","batchNorm"),l=gn(n,"variance","batchNorm");return null!=o&&(i=gn(o,"scale","batchNorm")),null!=r&&(s=gn(r,"offset","batchNorm")),C(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),C(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."})),C(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+l.rank+"."})),null!=i&&C(4===i.rank||1===i.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+i.rank+"."})),null!=s&&C(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),nc(u,c,l,s,i,a)}var lc=An({batchNormalization4d_:function(t,e,n,r,o,a){return void 0===r&&(r=.001),Qu(),cc(t,e,n,a,o,r)}}),hc=An({batchNorm4d_:cc});var fc=An({broadcastTo_:function(t,e){var n=gn(t,"broadcastTo","x"),r=n.shape;if(e.some((function(t){return!(t>0)||t%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<n.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+n.rank+".");if(e.length>n.rank){for(var o=n.shape.slice();o.length<e.length;)o.unshift(1);n=n.reshape(o)}for(var a=n.shape,i=Array.from(e),s=e.length-1;s>=0;s--)if(a[s]===e[s])i[s]=1;else if(1!==n.shape[s])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+e+"].");var u=i.map((function(t,e){return t>1?e:-1})).filter((function(t){return t>=0}));if(0===u.length)return n.clone();var c={x:n},l={shape:e,inputShape:a};return Lt.runKernelFunc((function(t){return t.tile(n,i)}),c,(function(t){return{x:function(){return t.sum(u,!0)}}}),Sr,l)}});var dc=An({clone_:function(t){var e=gn(t,"x","clone",null);return Lt.runKernelFunc((function(){return Lt.makeTensorFromDataId(e.dataId,e.shape,e.dtype)}),{x:e},null,Tr)}});var pc=An({logicalAnd_:function(t,e){var n=gn(t,"a","logicalAnd","bool"),r=gn(e,"b","logicalAnd","bool");return Pr(n.shape,r.shape),Lt.runKernelFunc((function(t){return t.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),vc=An({logicalNot_:function(t){var e=gn(t,"x","logicalNot","bool");return Lt.runKernelFunc((function(t){return t.logicalNot(e)}),{$x:e})}}),gc=An({logicalOr_:function(t,e){var n=gn(t,"a","logicalOr","bool"),r=gn(e,"b","logicalOr","bool");return Pr(n.shape,r.shape),Lt.runKernelFunc((function(t){return t.logicalOr(n,r)}),{$a:n,$b:r})}}),mc=An({logicalXor_:function(t,e){var n=gn(t,"a","logicalXor","bool"),r=gn(e,"b","logicalXor","bool");return Pr(n.shape,r.shape),gc(t,e).logicalAnd(pc(t,e).logicalNot())}}),yc=An({where_:function(t,e,n){var r=gn(e,"a","where"),o=gn(n,"b","where"),a=gn(t,"condition","where","bool");return E(r.shape,o.shape,"Error in where: "),1===a.rank?C(a.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):E(a.shape,o.shape,"Error in where: "),Lt.runKernelFunc((function(t,e){var n=t.select(a,r,o);return e([a]),n}),{$condition:a,$a:r,$b:o},(function(t,e){var n=e[0];return{$condition:function(){return Xn(n).toFloat()},$a:function(){return t.mul(n.cast(t.dtype))},$b:function(){return t.mul(n.logicalNot().cast(t.dtype))}}}))}}),xc=function(t){return n(this,void 0,void 0,(function(){var e,n,o;return r(this,(function(r){switch(r.label){case 0:return[4,(e=gn(t,"condition","whereAsync","bool")).data()];case 1:return n=r.sent(),o=Ga(e.shape,n),t!==e&&e.dispose(),[2,o]}}))}))};var bc=An({divNoNan_:function(t,e){var n,r=gn(t,"a","div"),o=gn(e,"b","div");r=(n=Nt(r,o))[0],o=n[1];var a=Bo(r,o),i=Xn(a),s=o.equal(i);return yc(s,i,a)}});var wc=An({tile_:function(t,e){var n=gn(t,"x","tile",null);C(n.rank===e.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+e+"."}));var r=[n],o={x:n},a={reps:e};return Lt.runKernelFunc((function(t,r){var o=t.tile(n,e);return r([n]),o}),o,null,Dr,a,r)}});var Cc=An({eye_:function(t,e,n,r){void 0===r&&(r="float32"),null==e&&(e=t);for(var o=er([t,e],r),a=t<=e?t:e,i=0;i<a;++i)o.set(1,i,i);var s=o.toTensor().as2D(t,e);if(null==n)return s;if(1===n.length)return wc(sr(s,0),[n[0],1,1]);if(2===n.length)return wc(sr(sr(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return wc(sr(sr(sr(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}});var Ec=An({multinomial_:function(t,e,n,r){void 0===r&&(r=!1);var o=gn(t,"logits","multinomial"),a=o.size,i=o.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);n=n||Math.random();var s=1===i?o.as2D(1,-1):o,u=Lt.runKernelFunc((function(t){return t.multinomial(s,r,e,n)}),{logits2D:s});return 1===i?u.as1D():u}});var Rc=An({oneHot_:function(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var o=gn(t,"indices","oneHot","int32"),a=o.shape.concat([e]),i={indices:o=o.flatten()},s={depth:e,onValue:n,offValue:r};return Lt.runKernelFunc((function(t,a){return a([o]),t.oneHot(o,e,n,r)}),i,null,Ar,s).reshape(a)}});var Ic=An({pad_:function(t,e,n){void 0===n&&(n=0);var r=gn(t,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:e,constantValue:n},a={x:r};return Lt.runKernelFunc((function(t,o){return o([r]),t.pad(r,e,n)}),a,null,Nr,o)}});var kc=An({pad1d_:function(t,e,n){return void 0===n&&(n=0),C(2===e.length,(function(){return"Invalid number of paddings. Must be length of 2."})),Ic(t,[e],n)}});var Sc=An({pad2d_:function(t,e,n){return void 0===n&&(n=0),C(2===e.length&&2===e[0].length&&2===e[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Ic(t,e,n)}});var Ac=An({pad3d_:function(t,e,n){return void 0===n&&(n=0),C(3===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Ic(t,e,n)}});var Tc=An({pad4d_:function(t,e,n){return void 0===n&&(n=0),C(4===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length&&2===e[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Ic(t,e,n)}});var Dc=An({rand_:function(t,e,n){var r=k(t),o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var a=0;a<r;a++)o[a]=e();return Lt.makeTensor(o,t,n)}}),Nc=.001,Fc=.1;function _c(){return 32===Lt.backend.floatPrecision()?Nc:Fc}function Oc(t,e,n){var r=!0;if((V(t)||V(e))&&(r=!1),V(t)&&V(e)&&(r=!0),r){var o=t.constructor.name,a=e.constructor.name;if(o!==a)throw new Error("Arrays are of different type. Actual: "+o+". Expected: "+a)}if(Array.isArray(t)&&Array.isArray(e)){var i=pn(t),s=pn(e);if(!S(i,s))throw new Error("Arrays have different shapes. Actual: ["+i+"]. Expected: ["+s+"]")}var u=V(t)?t:I(t),c=V(e)?e:I(e);if(u.length!==c.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+c.length+".\nActual:   "+u+".\nExpected: "+c+".");for(var l=0;l<c.length;++l){var h=u[l],f=c[l];if(!n(h,f))throw new Error("Arrays differ: actual["+l+"] = "+h+", expected["+l+"] = "+f+".\nActual:   "+u+".\nExpected: "+c+".")}}function Mc(t,e,n){return!isFinite(t)&&!isFinite(e)||!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}var Bc=Object.freeze({TEST_EPSILON_FLOAT16:Fc,expectArraysClose:function(t,e,n){return null==n&&(n=_c()),Oc(t,e,(function(t,e){return Mc(t,e,n)}))},testEpsilon:_c,expectPromiseToFail:function(t,e){t().then((function(){return e.fail()}),(function(){return e()}))},expectArraysEqual:function(t,e){var n="string"==typeof e||"number"==typeof e||"boolean"==typeof e?[e]:e;return H(t)||H(t[0])||H(e)||H(e[0])?Oc(t,n,(function(t,e){return t==e})):Oc(t,e,(function(t,e){return Mc(t,e,0)}))},expectNumbersClose:function(t,e,n){if(null==n&&(n=_c()),!Mc(t,e,n))throw new Error("Numbers differ: actual === "+t+", expected === "+e)},expectValuesInRange:function(t,e,n){for(var r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error("Value out of range:"+t[r]+" low: "+e+", high: "+n)},expectArrayBuffersEqual:function(t,e){expect(new Float32Array(t)).toEqual(new Float32Array(e))}}),Pc=function(){function t(t,e,n,r,o){this.mean=t,this.stdDev=e,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=o||Math.random();this.random=Yu(a.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var e,n,r=!1;!r;){var o=void 0,a=void 0,i=void 0;do{i=(o=2*this.random()-1)*o+(a=2*this.random()-1)*a}while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*o*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(e)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(e)},t.prototype.convertValue=function(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)},t.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},t}(),Lc=function(){function t(t,e,n,r){this.alpha=t,this.beta=1/e,this.dtype=n;var o=r||Math.random();this.randu=Yu(o.toString()),this.randn=new Pc(0,1,n,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var t,e,n,r,o,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,e=1-.331*(t=r*r)*t,n=.5*t+this.d*(1-a+Math.log(a)),(o=this.randu())<e||Math.log(o)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},t.prototype.convertValue=function(t){return"float32"===this.dtype?t:Math.round(t)},t}(),Wc=function(){function t(t,e,n,r){var o=this;if(void 0===t&&(t=0),void 0===e&&(e=1),this.canReturnFloat=function(){return null==o.dtype||"float32"===o.dtype},this.min=t,this.range=e-t,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+e+" <= 1 and dtype is not float");this.random=Yu(r)}return t.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();var Uc=An({randomGamma_:function(t,e,n,r,o){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var a=new Lc(e,n,r,o),i=er(t,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});var Vc=An({randomNormal_:function(t,e,n,r,o){if(void 0===e&&(e=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new Pc(e,n,r,!1,o),i=er(t,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});var zc=An({randomUniform_:function(t,e,n,r,o){void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var a=er(t,r),i=new Wc(e,n,null,o),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}});var Gc=An({square_:function(t){var e=gn(t,"x","square"),n=[e];return Lt.runKernelFunc((function(t,n){return n([e]),t.square(e)}),{x:e},null,"Square",{},n,[])}});var Hc=An({squaredDifference_:function(t,e){var n,r=gn(t,"a","squaredDifference"),o=gn(e,"b","squaredDifference");n=Nt(r,o),r=n[0],o=n[1],Pr(r.shape,o.shape);var a={a:r,b:o},i=[r,o];return Lt.runKernelFunc((function(t,e){var n=t.squaredDifference(r,o);return e([r,o]),n}),a,(function(t,e){var n=e[0],r=e[1],o=On(2);return{a:function(){return t.mul(n.sub(r).mul(o))},b:function(){return t.mul(r.sub(n).mul(o))}}}),Er,{},i,[])}});var qc=An({truncatedNormal_:function(t,e,n,r,o){if(void 0===e&&(e=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var a=new Pc(e,n,r,!0,o),i=er(t,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});var Kc=An({equal_:function(t,e){var n,r=gn(t,"a","equal"),o=gn(e,"b","equal");return n=Nt(r,o),r=n[0],o=n[1],Pr(r.shape,o.shape),Lt.runKernelFunc((function(t){return t.equal(r,o)}),{$a:r,$b:o})}}),jc=An({equalStrict_:function(t,e){var n=gn(t,"a","equalStrict"),r=gn(e,"b","equalStrict");return E(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Xc=An({greater_:function(t,e){var n,r=gn(t,"a","greater"),o=gn(e,"b","greater");return n=Nt(r,o),r=n[0],o=n[1],Pr(r.shape,o.shape),Lt.runKernelFunc((function(t){return t.greater(r,o)}),{a:r,b:o},null,"Greater")}}),Yc=An({greaterEqual_:function(t,e){var n,r=gn(t,"a","greaterEqual"),o=gn(e,"b","greaterEqual");return n=Nt(r,o),r=n[0],o=n[1],Pr(r.shape,o.shape),Lt.runKernelFunc((function(t,e){var n=t.greaterEqual(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){return Xn(n)},b:function(){return Xn(r)}}}),"GreaterEqual")}}),$c=An({greaterEqualStrict_:function(t,e){var n=gn(t,"a","greaterEqualStrict"),r=gn(e,"b","greaterEqualStrict");return E(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Qc=An({greaterStrict_:function(t,e){var n=gn(t,"a","greaterStrict"),r=gn(e,"b","greaterStrict");return E(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Jc=An({less_:function(t,e){var n,r=gn(t,"a","less"),o=gn(e,"b","less");return n=Nt(r,o),r=n[0],o=n[1],Pr(r.shape,o.shape),Lt.runKernelFunc((function(t){return t.less(r,o)}),{a:r,b:o},null,"Less")}}),Zc=An({lessEqual_:function(t,e){var n,r=gn(t,"a","lessEqual"),o=gn(e,"b","lessEqual");return n=Nt(r,o),r=n[0],o=n[1],Pr(r.shape,o.shape),Lt.runKernelFunc((function(t,e){var n=t.lessEqual(r,o);return e([r,o]),n}),{a:r,b:o},null,"LessEqual")}}),tl=An({lessEqualStrict_:function(t,e){var n=gn(t,"a","lessEqualStrict"),r=gn(e,"b","lessEqualStrict");return E(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),el=An({lessStrict_:function(t,e){var n=gn(t,"a","lessStrict"),r=gn(e,"b","lessStrict");return E(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),nl=An({notEqual_:function(t,e){var n,r=gn(t,"a","notEqual"),o=gn(e,"b","notEqual");return n=Nt(r,o),r=n[0],o=n[1],Pr(r.shape,o.shape),Lt.runKernelFunc((function(t){return t.notEqual(r,o)}),{a:r,b:o},null,"NotEqual")}}),rl=An({notEqualStrict_:function(t,e){var n=gn(t,"a","notEqualStrict"),r=gn(e,"b","notEqualStrict");return E(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function ol(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function al(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}var il=An({gather_:function(t,e,n){void 0===n&&(n=0);var r=gn(t,"x","gather"),o=gn(e,"indices","gather","int32");n=O(n,r.shape)[0];var a=function(t,e,n){for(var r=t.shape[n],o=[],a=1,i=1,s=0;s<n;s++)o.push(t.shape[s]),a*=t.shape[s];for(s=0;s<e.rank;s++)o.push(e.shape[s]);for(s=n+1;s<t.rank;s++)o.push(t.shape[s]),i*=t.shape[s];return{batchSize:a,sliceSize:i,dimSize:r,outputShape:o}}(r,o,n);return Lt.runKernelFunc((function(t,e){var a=t.gather(r,o.flatten(),n);return e([o]),a}),{x:r,indices:o},(function(t,e){var o=e[0];return{x:function(){var e=r.shape,a=o.size,i=e.slice(0,n),s=i.length,u=e.slice(n,e.length).slice(1),c=u.length,l=ol(0,s),h=ol(s+1,s+1+c),f=al([i,[a],u]),d=t.reshape(f),p=o.reshape([a]),v=al([[s],l,h]),g=d.transpose(v),m=sl(g,p,r.shape[n]),y=Rn(v);return m=m.transpose(y)},indices:function(){return o}}}),"Gather",{axis:n}).reshape(a.outputShape)}}),sl=An({unsortedSegmentSum_:function(t,e,n){var r=gn(t,"x","unsortedSegmentSum"),o=gn(e,"segmentIds","unsortedSegmentSum","int32");return C(A(n),(function(){return"numSegments must be of dtype int"})),Lt.runKernelFunc((function(t,e){var a=t.unsortedSegmentSum(r,o,n);return e([o]),a}),{$x:r},(function(t,e){var n=e[0];return{$x:function(){return function(t,e){for(var n=Eo(e,Xn(e)),r=il(t,n),o=Yc(e,On(0,"int32")),a=r.rank-o.rank,i=0;i<a;++i)o=sr(o,i+1);o=pc(o,zn(r.shape,"bool"));var s=Xn(r);return yc(o,r,s)}(t,n)}}}))}});var ul=function(t,e,o){return n(this,void 0,void 0,(function(){var n,a,i,s,u,c,l,h,f,d,p,v,g;return r(this,(function(r){switch(r.label){case 0:for(n=gn(t,"tensor","boolMask"),a=gn(e,"mask","boolMask","bool"),i=null==o?0:o,s=a.rank,u=n.shape,C(s>0,(function(){return"mask cannot be scalar"})),E(u.slice(i,i+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,l=i;l<i+s;l++)c*=u[l];return h=u.slice(0,i).concat([c],u.slice(i+s)),f=n.reshape(h),d=a.reshape([-1]),[4,xc(d)];case 1:return p=r.sent(),v=p.squeeze([1]),g=il(f,v,i),t!==n&&n.dispose(),e!==a&&a.dispose(),v.dispose(),f.dispose(),d.dispose(),p.dispose(),[2,g]}}))}))};function cl(t,e,n,r,o,a,i){void 0===a&&(a="NHWC"),C(t.length===e.rank,(function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"}));var s=t,u=e,c=!1;3===e.rank&&(c=!0,u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),s=[1,t[0],t[1],t[2]]),C(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),C(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),C(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var l="NHWC"===a?s[3]:s[1],h="NHWC"===a?u.shape[3]:u.shape[1];C(l===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[2]+"."})),C(h===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+h+") must match output depth for filter "+n.shape[3]+"."})),null!=i&&C(A(o),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var f=Ea(a),d=pa(s,n.shape,r,1,o,i,!1,f),p=Lt.runKernelFunc((function(t,e){var r=t.conv2dDerInput(u,n,d);return e([n,u]),r}),{dy4D:u,filter:n},(function(t,e){var n=e[0],s=e[1];return{dy4D:function(){return dl(t,n,r,o,a,1,i)},filter:function(){return vl(t,s,n.shape,r,o,a,i)}}}));return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function ll(t){var e=function(t){return"number"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}(t),n=e[0],r=e[1],o=e[2];return 1===n&&1===r&&1===o}function hl(t,e,n,r,o){C(t.length===e.rank,(function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"}));var a=t,i=e,s=!1;4===e.rank&&(s=!0,i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),a=[1,t[0],t[1],t[2],t[3]]);var u=a[4],c=i.shape[4];C(5===a.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."})),C(5===i.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+i.rank})),C(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),C(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."})),C(c===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[4]+"."}));var l=va(a,n.shape,r,1,o),h=Lt.runKernelFunc((function(t){return t.conv3dDerInput(i,n,l)}),{dy5D:i});return s?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}var fl=An({conv1d_:function(t,e,n,r,o,a,i){void 0===o&&(o="NWC"),void 0===a&&(a=1);var s=gn(t,"x","conv1d"),u=gn(e,"filter","conv1d"),c=s,l=!1;2===s.rank&&(l=!0,c=s.as3D(1,s.shape[0],s.shape[1])),C(3===c.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."})),C(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),null!=i&&C(A(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."})),C(c.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),C(Ca(n,a),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+a+"'"})),C("NWC"===o,(function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."}));var h=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),f=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),d=dl(f,h,[1,n],r,"NHWC",[1,a],i);return l?d.as2D(d.shape[2],d.shape[3]):d.as3D(d.shape[0],d.shape[2],d.shape[3])}}),dl=An({conv2d_:function(t,e,n,r,o,a,i){void 0===o&&(o="NHWC"),void 0===a&&(a=[1,1]);var s=gn(t,"x","conv2d"),u=gn(e,"filter","conv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),C(4===c.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."})),C(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),null!=i&&C(A(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var h="NHWC"===o?c.shape[3]:c.shape[1];C(h===u.shape[2],(function(){return"Error in conv2d: depth of input ("+h+") must match input depth for filter "+u.shape[2]+"."})),C(Ca(n,a),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}));var f=Ea(o),d=pa(c.shape,u.shape,n,a,r,i,!1,f),p=[u,c],v=Lt.runKernelFunc((function(t,e){var n=t.conv2d(c,u,d);return e([u,c]),n}),{x:c,filter:u},(function(t,e){var i=e,s=i[0],u=i[1];return C(wa(a),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"})),{x:function(){return gl(u.shape,t,s,n,r,o)},filter:function(){return vl(u,t,s.shape,n,r,o)}}}),"Conv2D",d,p);return l?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),pl=An({conv3d_:function(t,e,n,r,o,a){void 0===o&&(o="NDHWC"),void 0===a&&(a=[1,1,1]);var i=gn(t,"x","conv3d"),s=gn(e,"filter","conv3d"),u=i,c=!1;4===i.rank&&(c=!0,u=i.as5D(1,i.shape[0],i.shape[1],i.shape[2],i.shape[3])),C(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),C(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),C(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),C(function(t,e){return ll(t)||ll(e)}(n,a),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),C("NDHWC"===o,(function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."}));var l=va(u.shape,s.shape,n,a,r),h=Lt.runKernelFunc((function(t,e){var n=t.conv3d(u,s,l);return e([u,s]),n}),{x:u,$filter:s},(function(t,e){C(ll(a),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}));var o=e[0],i=e[1];return{x:function(){return hl(o.shape,t,i,n,r)},$filter:function(){return function(t,e,n,r,o){var a=t;4===t.rank&&(a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]));var i=e;4===i.rank&&(i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));C(5===a.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+a.shape+"."})),C(5===i.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+i.shape+"."})),C(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."})),C(a.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input "+a.shape[4]+") must match input depth in filter ("+n[3]+"."})),C(i.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+i.shape[4]+") must match output depth for filter ("+n[4]+")."}));var s=va(a.shape,n,r,1,o);return Lt.runKernelFunc((function(t){return t.conv3dDerFilter(a,i,s)}),{x5D:a,dy5D:i})}(o,t,i.shape,n,r)}}}));return c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),vl=An({conv2dDerFilter_:function(t,e,n,r,o,a,i){void 0===a&&(a="NHWC");var s=t;3===t.rank&&(s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var u=e;3===u.rank&&(u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),C(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),C(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),C(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var c="NHWC"===a?s.shape[3]:s.shape[1],l="NHWC"===a?u.shape[3]:u.shape[1];C(c===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+n[2]+"."})),C(l===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+l+") must match output depth for filter ("+n[3]+")."})),null!=i&&C(A(o),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var h=Ea(a),f=pa(s.shape,n,r,1,o,i,!1,h);return Lt.runKernelFunc((function(t){return t.conv2dDerFilter(s,u,f)}),{x4D:s,dy4D:u})}}),gl=An({conv2dDerInput_:cl}),ml=An({depthwiseConv2d_:function(t,e,n,r,o,a,i){void 0===o&&(o="NHWC"),void 0===a&&(a=[1,1]);var s=gn(t,"x","depthwiseConv2d"),u=gn(e,"filter","depthwiseConv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),C(4===c.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."})),C(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),C(c.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),null==a&&(a=[1,1]),C(Ca(n,a),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=i&&C(A(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var h=pa(c.shape,u.shape,n,a,r,i,!0),f=[c,u],d=Lt.runKernelFunc((function(t,e){var n=t.depthwiseConv2D(c,u,h);return e([c,u]),n}),{x:c,filter:u},(function(t,e){C(wa(a),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"}));var n=e[0],r=e[1];return{x:function(){return yl(n.shape,t,r,h)},filter:function(){return xl(n,t,r.shape,h)}}}),"DepthwiseConv2dNative",h,f);return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}}),yl=An({depthwiseConv2dDerInput_:function(t,e,n,r){var o=e,a=!1;3===e.rank&&(a=!0,o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=Lt.runKernelFunc((function(t){return t.depthwiseConv2DDerInput(o,n,r)}),{dy4D:o});return a?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}}),xl=An({depthwiseConv2dDerFilter_:function(t,e,n,r){var o=t;3===t.rank&&(o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=e;return 3===a.rank&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),Lt.runKernelFunc((function(t){return t.depthwiseConv2DDerFilter(o,a,r)}),{x4D:o,dy4D:a})}}),bl=An({separableConv2d_:function(t,e,n,r,o,a,i){void 0===a&&(a=[1,1]),void 0===i&&(i="NHWC");var s=gn(t,"x","separableConv2d"),u=gn(e,"depthwiseFilter","separableConv2d"),c=gn(n,"pointwiseFilter","separableConv2d"),l=s,h=!1;if(3===s.rank&&(h=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");C(4===l.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+l.rank+"."})),C(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),C(4===c.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),C(1===c.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."})),C(1===c.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."}));var f=u.shape[2],d=u.shape[3];C(c.shape[2]===f*d,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+f*d+", but got "+c.shape[2]+"."}));var p=ml(l,u,r,o,i,a),v=dl(p,c,1,"valid",i);return h?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),wl=An({conv2dTranspose_:function(t,e,n,r,o,a){return cl(n,gn(t,"x","conv2dTranspose"),gn(e,"filter","conv2dTranspose"),r,o,"NHWC",a)}}),Cl=An({conv3dTranspose_:function(t,e,n,r,o){return hl(n,gn(t,"x","conv3dTranspose"),gn(e,"filter","conv3dTranspose"),r,o)}});var El=An({matMul_:function(t,e,n,r){var o;void 0===n&&(n=!1),void 0===r&&(r=!1);var a=gn(t,"a","matMul"),i=gn(e,"b","matMul");o=Nt(a,i),a=o[0],i=o[1];var s=n?a.shape[a.rank-2]:a.shape[a.rank-1],u=r?i.shape[i.rank-1]:i.shape[i.rank-2],c=n?a.shape[a.rank-1]:a.shape[a.rank-2],l=r?i.shape[i.rank-2]:i.shape[i.rank-1],h=a.shape.slice(0,-2),f=i.shape.slice(0,-2),d=k(h),p=k(f);C(a.rank>=2&&i.rank>=2&&a.rank===i.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+i.rank+"."})),C(S(h,f),(function(){return"Error in matMul: outer dimensions ("+h+") and ("+f+") of Tensors with shapes "+a.shape+" and "+i.shape+" must match."})),C(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+a.shape+" and "+i.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var v=a.shape.slice(0,-2).concat([c,l]),g=n?a.as3D(d,s,c):a.as3D(d,c,s),m=r?i.as3D(p,l,u):i.as3D(p,u,l),y={transposeA:n,transposeB:r};return Lt.runKernelFunc((function(t,e){var o=t.batchMatMul(g,m,n,r);return e([g,m]),o}),{a:g,b:m},(function(t,e){var o=e,a=o[0],i=o[1];return n||r?!n&&r?{a:function(){return t.matMul(i,!1,!1)},b:function(){return t.matMul(a,!0,!1)}}:n&&!r?{a:function(){return i.matMul(t,!1,!0)},b:function(){return a.matMul(t,!1,!1)}}:{a:function(){return i.matMul(t,!0,!0)},b:function(){return t.matMul(a,!0,!0)}}:{a:function(){return t.matMul(i,!1,!0)},b:function(){return a.matMul(t,!0,!1)}}}),"BatchMatMul",y).reshape(v)}}),Rl=An({dot_:function(t,e){var n=gn(t,"t1","dot"),r=gn(e,"t2","dot");C(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var o=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return C(o===a,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+a+"."})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),Il=An({outerProduct_:function(t,e){var n=gn(t,"v1","outerProduct"),r=gn(e,"v2","outerProduct");return C(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}});var kl=An({reverse_:function(t,e){var n=gn(t,"x","reverse");if(0===n.rank)return n.clone();var r=O(e,n.shape);return Lt.runKernelFunc((function(t){return t.reverse(n,r)}),{$x:n},(function(t){return{$x:function(){return t.reverse(r)}}})).reshapeAs(n)}}),Sl=An({reverse1d_:function(t){var e=gn(t,"x","reverse");return C(1===e.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."})),kl(e,0)}}),Al=An({reverse2d_:function(t,e){var n=gn(t,"x","reverse");return C(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),kl(n,e)}}),Tl=An({reverse3d_:function(t,e){var n=gn(t,"x","reverse");return C(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),kl(n,e)}}),Dl=An({reverse4d_:function(t,e){var n=gn(t,"x","reverse");return C(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),kl(n,e)}});function Nl(t,e,n,r,o,a){var i=gn(t,"x","maxPool"),s=i,u=!1;3===i.rank&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),null==r&&(r=[1,1]),C(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),C(Ca(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),null!=a&&C(A(o),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var c=fa(s.shape,e,n,r,o,a);if(1===c.filterWidth&&1===c.filterHeight&&S(c.inShape,c.outShape))return i.clone();var l=[s],h=Lt.runKernelFunc((function(t,e){var n=t.maxPool(s,c);return e([s,n]),n}),{x:s},(function(t,a){var i=a[0],s=a[1];return{x:function(){return function(t,e,n,r,o,a,i,s){var u=gn(t,"dy","maxPoolBackprop"),c=gn(e,"input","maxPoolBackprop"),l=gn(n,"output","maxPoolBackprop");C(c.rank===u.rank,(function(){return"Rank of input ("+c.rank+") does not match rank of dy ("+u.rank+")"})),null==a&&(a=[1,1]);C(Ca(o,a),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+a+"'"})),C(4===u.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),C(4===c.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+c.rank+"."})),null!=s&&C(A(i),(function(){return"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+i+"."}));var h=fa(c.shape,r,o,a,i,s);return Lt.runKernelFunc((function(t){return t.maxPoolBackprop(u,c,l,h)}),{$dy:u,$input:c})}(t,i,s,e,n,r,o)}}}),"MaxPool",c,l);return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function Fl(t,e,n,r,o,a){var i=gn(t,"x","avgPool","float32");null==r&&(r=[1,1]),C(Ca(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=i,u=!1;3===i.rank&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),C(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),null!=a&&C(A(o),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var c=fa(s.shape,e,n,r,o,a);if(1===c.filterWidth&&1===c.filterHeight&&S(c.inShape,c.outShape))return i.clone();var l=Lt.runKernelFunc((function(t){return t.avgPool(s,c)}),{x:s},(function(t){return{x:function(){return function(t,e,n,r,o,a){var i=gn(t,"dy","avgPoolBackprop"),s=gn(e,"input","avgPoolBackprop");C(s.rank===i.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+i.rank+")"})),null==o&&(o=[1,1]);C(Ca(r,o),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"}));var u=s,c=i,l=!1;3===s.rank&&(l=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),c=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));C(4===c.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+c.rank+"."})),C(4===u.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var h=fa(u.shape,n,r,o,a),f=Lt.runKernelFunc((function(t){return t.avgPoolBackprop(c,u,h)}),{dy4D:c,input4D:u});if(l)return f.as3D(f.shape[1],f.shape[2],f.shape[3]);return f}(t,s,e,n,r,o)}}}),"AvgPool",c);return l=l.cast(i.dtype),u?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}var _l=An({maxPool_:function(t,e,n,r,o){return Nl(t,e,n,1,r,o)}}),Ol=An({avgPool_:function(t,e,n,r,o){return Fl(t,e,n,1,r,o)}}),Ml=An({pool_:function(t,e,n,r,o,a){null==o&&(o=[1,1]),null==a&&(a=1),0===r&&(r="valid");var i=gn(t,"x","maxPool"),s=i,u=!1;3===i.rank&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),C(Ca(a,o),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+o+"'"}));var c,l=fa(s.shape,e,a,o,r),h=[l.dilationHeight,l.dilationWidth];c="same"===r?function(t,e){var n=t.map((function(t,n){return t+(t-1)*(e[n]-1)})).map((function(t){return t-1})),r=n.map((function(t){return Math.floor(t/2)})),o=n.map((function(t,e){return t-r[e]}));return n.map((function(t,e){return[r[e],o[e]]}))}([l.filterHeight,l.filterWidth],h):[[0,0],[0,0]];var f=1===h[0]&&1===h[1],d=function(t,e,n){var r=n.map((function(t){return t[0]})),o=n.map((function(t){return t[1]})),a=t.concat(r,o),i=e.map((function(t,e){return(t-a[e]%t)%t})),s=o.map((function(t,e){return t+i[e]})),u=e.map((function(t,e){return[r[e],s[e]]})),c=e.map((function(t,e){return[0,i[e]]}));return[u,c]}([l.inHeight,l.inWidth],h,c),p=d[0],v=d[1],g=f?r:"valid",m=f?s:cr(s,h,p),y=("avg"===n?function(){return Fl(m,e,a,1,g)}:function(){return Nl(m,e,a,1,g)})(),x=f?y:rr(y,h,v);return u?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),Bl=An({maxPool3d_:function(t,e,n,r,o,a,i){void 0===a&&(a="NDHWC");var s=gn(t,"x","maxPool3d"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==i&&(i=[1,1,1]),C(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),C("NDHWC"===a,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),C(Ca(n,i),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),null!=o&&C(A(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var l=da(u.shape,e,n,i,r,o,a),h=Lt.runKernelFunc((function(t,e){var n=t.maxPool3d(u,l);return e([u,n]),n}),{x:u},(function(t,a){var s=a[0],u=a[1];return{x:function(){return function(t,e,n,r,o,a,i,s){var u=gn(t,"dy","maxPool3dBackprop"),c=gn(e,"input","maxPool3dBackprop"),l=gn(n,"output","maxPool3dBackprop"),h=u,f=c,d=l,p=!1;4===c.rank&&(p=!0,h=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),f=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]),d=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]));C(5===h.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+h.rank+"."})),C(5===f.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+f.rank+"."})),C(5===d.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+d.rank+"."})),null==a&&(a=[1,1,1]);C(Ca(o,a),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+a+"'"})),null!=s&&C(A(i),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+i+"."}));var v=da(f.shape,r,o,a,i,s),g=Lt.runKernelFunc((function(t){return t.maxPool3dBackprop(h,f,d,v)}),{dy5D:h,input5D:f});if(p)return g.as4D(g.shape[1],g.shape[2],g.shape[3],g.shape[4]);return g}(t,s,u,e,n,i,r,o)}}}));return c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),Pl=An({avgPool3d_:function(t,e,n,r,o,a,i){void 0===a&&(a="NDHWC");var s=gn(t,"x","avgPool3d","float32"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==i&&(i=[1,1,1]),C(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),C("NDHWC"===a,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),C(Ca(n,i),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),null!=o&&C(A(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var l=da(u.shape,e,n,i,r,o,a),h=Lt.runKernelFunc((function(t){return t.avgPool3d(u,l)}),{x:u},(function(t){return{x:function(){return function(t,e,n,r,o,a,i){var s=gn(t,"dy","avgPool3dBackprop"),u=gn(e,"input","avgPool3dBackprop"),c=s,l=u,h=!1;4===u.rank&&(h=!0,c=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),l=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]));C(5===c.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+c.rank+"."})),C(5===l.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+l.rank+"."})),null==o&&(o=[1,1,1]);C(Ca(r,o),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"})),null!=i&&C(A(a),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var f=da(l.shape,n,r,o,a,i),d=Lt.runKernelFunc((function(t){return t.avgPool3dBackprop(c,l,f)}),{dy5D:c,input5D:l});if(h)return d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]);return d}(t,u,e,n,i,r,o)}}}));return h=h.cast(u.dtype),c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),Ll=An({maxPoolWithArgmax_:function(t,e,n,r,o){void 0===o&&(o=!1);var a=gn(t,"x","maxPoolWithArgmax"),i={filterSize:e,strides:n,pad:r,includeBatchInIndex:o},s=Lt.runKernel("MaxPoolWithArgmax",{x:a},i);return{result:s[0],indexes:s[1]}}});var Wl=An({slice_:function(t,e,n){var r,o,a=gn(t,"x","slice");if(0===a.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof e?[e].concat(new Array(a.rank-1).fill(0)):e.length<a.rank?e.concat(new Array(a.rank-e.length).fill(0)):e.slice()).forEach((function(t){C(-1!==t,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==n?new Array(a.rank).fill(-1):"number"==typeof n?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map((function(t,e){return t>=0?t:(C(-1===t,(function(){return"Negative size values should be exactly -1 but got "+t+" for the slice() size at index "+e+"."})),a.shape[e]-r[e])})),qo(a,r,o);var i=a.shape,s={begin:r,size:o};return Lt.runKernelFunc((function(t){return t.slice(a,r,o)}),{x:a},(function(t){for(var e=[],n=0;n<t.rank;n++)e.push([r[n],i[n]-r[n]-o[n]]);return{x:function(){return Ic(t,e)}}}),"Slice",s)}}),Ul=An({slice1d_:function(t,e,n){var r=gn(t,"x","slice1d");return C(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),Wl(r,[e],[n])}}),Vl=An({slice2d_:function(t,e,n){var r=gn(t,"x","slice2d");return C(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),Wl(r,e,n)}}),zl=An({slice3d_:function(t,e,n){var r=gn(t,"x","slice3d");return C(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),Wl(r,e,n)}}),Gl=An({slice4d_:function(t,e,n){var r=gn(t,"x","slice4d");return C(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),Wl(r,e,n)}});function Hl(t,e,n,r,o){return e.rank<n.rank&&(e=e.reshape(wn(e.shape,r))),t.rank<n.rank&&(t=t.reshape(wn(t.shape,r))),{x:function(){var r=t.mul(n.equal(e).cast(t.dtype));return null==o?r:r.transpose(o)}}}var ql=An({all_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=gn(t,"x","all","bool"),o=O(e,r.shape),a=o,i=En(a,r.rank);null!=i&&(r=r.transpose(i),a=In(a.length,r.rank));var s=Lt.runKernelFunc((function(t){return t.all(r,a)}),{$x:r});if(n){var u=wn(s.shape,o);return s.reshape(u)}return s}}),Kl=An({any_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=gn(t,"x","any","bool"),o=O(e,r.shape),a=o,i=En(a,r.rank);null!=i&&(r=r.transpose(i),a=In(a.length,r.rank));var s=Lt.runKernelFunc((function(t){return t.any(r,a)}),{$x:r});if(n){var u=wn(s.shape,o);return s.reshape(u)}return s}}),jl=An({argMax_:function(t,e){void 0===e&&(e=0);var n=gn(t,"x","argMax");null==e&&(e=0);var r=O(e,n.shape),o=En(r,n.rank);null!=o&&(n=n.transpose(o),r=In(r.length,n.rank));var a={axis:r[0]},i=[n];return Lt.runKernelFunc((function(t,e){var o=t.argMax(n,r[0]);return e([n]),o}),{x:n},(function(t,e){var n=e[0];return{x:function(){return Xn(n)}}}),"ArgMax",a,i)}}),Xl=An({argMin_:function(t,e){void 0===e&&(e=0);var n=gn(t,"x","argMin");null==e&&(e=0);var r=O(e,n.shape),o=En(r,n.rank);return null!=o&&(n=n.transpose(o),r=In(r.length,n.rank)),Lt.runKernelFunc((function(t,e){var o=t.argMin(n,r[0]);return e([n]),o}),{$x:n},(function(t,e){var n=e[0];return{$x:function(){return Xn(n)}}}))}}),Yl=An({logSumExp_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=gn(t,"x","logSumExp"),o=O(e,r.shape),a=r.max(o,!0),i=r.sub(a).exp().sum(o).log(),s=a.reshape(i.shape).add(i);if(n){var u=wn(s.shape,o);return s.reshape(u)}return s}}),$l=An({max_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=gn(t,"x","max"),o=r,a=O(e,r.shape),i=a,s=En(i,r.rank);null!=s&&(r=r.transpose(s),i=In(i.length,r.rank));var u=[r],c=Lt.runKernelFunc((function(t,e){var n=t.max(r,i);return e([o,n]),n}),{x:r},(function(t,e){return Hl(t,e[1],e[0],a,s)}),"Max",{axes:i},u,[!0]);if(n){var l=wn(c.shape,a);c=c.reshape(l)}return c}}),Ql=An({mean_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=gn(t,"x","mean"),o=O(e,r.shape),a=k(bn(r.shape,o)[1]);return oa((function(t){var r=On(a);return{value:(r.dtype===t.dtype?t:t.cast(r.dtype)).div(r).sum(e,n),gradFunc:function(e){var n=t.shape.slice();return o.forEach((function(t){n[t]=1})),e.reshape(n).mul(zn(t.shape,"float32")).div(a)}}}))(r)}}),Jl=An({min_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=gn(t,"x","min"),o=r,a=O(e,r.shape),i=a,s=En(i,r.rank);null!=s&&(r=r.transpose(s),i=In(i.length,r.rank));var u=[r],c=Lt.runKernelFunc((function(t,e){var n=t.min(r,i);return e([o,n]),n}),{x:r},(function(t,e){return Hl(t,e[1],e[0],a,s)}),"Min",{axes:i},u,[!0]);if(n){var l=wn(c.shape,a);c=c.reshape(l)}return c}}),Zl=An({moments_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=O(e,(t=gn(t,"x","moments")).shape),o=t.mean(r,n),a=o.shape;n||(a=wn(o.shape,r));var i=t.toFloat().sub(o.reshape(a)).square();return{mean:o,variance:i.mean(r,n)}}}),th=An({sum_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=gn(t,"x","sum");"bool"===r.dtype&&(r=r.toInt());var o=O(e,r.shape);return oa((function(t){var e=En(o,t.rank),r=o,a=t;null!=e&&(a=t.transpose(e),r=In(r.length,t.rank));var i=function(e){var n=t.shape.slice();return o.forEach((function(t){n[t]=1})),e.reshape(n).mul(zn(t.shape,"float32"))},s={axes:r},u=Lt.runKernelFunc((function(t){return t.sum(a,r)}),{x:a},(function(t){return{x:function(){return i(t)}}}),"Sum",s);if(n){var c=wn(u.shape,o);u=u.reshape(c)}return{value:u,gradFunc:i}}))(r)}}),eh=An({prod_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=gn(t,"x","prod");"bool"===r.dtype&&(r=r.toInt());var o=O(e,r.shape),a=En(o,r.rank),i=o,s=r;null!=a&&(s=r.transpose(a),i=In(i.length,r.rank));var u=Lt.runKernelFunc((function(t){return t.prod(s,i)}),{permutedX:s});if(n){var c=wn(u.shape,o);u=u.reshape(c)}return u}});var nh=An({elu_:function(t){var e=gn(t,"x","elu");return Lt.runKernelFunc((function(t,n){var r=t.elu(e);return n([r]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return Lt.runKernelFunc((function(e){return e.eluDer(t,n)}),{dy:t,y:n})}}}))}}),rh=An({leakyRelu_:function(t,e){void 0===e&&(e=.2);var n=gn(t,"x","leakyRelu");return Eo(On(e).mul(n),n)}}),oh=An({prelu_:function(t,e){var n=gn(t,"x","prelu"),r=gn(e,"alpha","prelu");return Lt.runKernelFunc((function(t,e){var o=t.prelu(n,r);return e([n,r]),o}),{x:n,alpha:r},(function(t,e){var n=e[0],r=e[1],o=n.greater(0);return{x:function(){return yc(o,t,t.mul(r))},alpha:function(){var e=yc(o,Xn(t),t.mul(n)),a=Br(r.shape,t.shape);return a.length>0&&(e=e.sum(a)),e.reshape(r.shape)}}}),"Prelu")}}),ah=An({relu_:function(t){var e=gn(t,"x","relu");return"bool"===e.dtype?e.toInt():Lt.runKernelFunc((function(t,n){var r=t.relu(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return t.mulStrict(n.step().toFloat())}}}),"Relu")}}),ih=An({relu6_:function(t){var e=gn(t,"x","relu6");return"bool"===e.dtype?e.toInt():Lt.runKernelFunc((function(t,n){var r=t.relu6(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return t.mulStrict(r.toFloat())}}}),"Relu6")}}),sh=An({selu_:function(t){var e=gn(t,"x","selu");return Lt.runKernelFunc((function(t,n){var r=t.selu(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){var e=n.greater(On(0)),r=On(su),o=On(uu),a=t.mul(o),i=t.mul(r).mul(n.toFloat().exp());return yc(e,a,i)}}}))}});var uh=An({localResponseNormalization_:function(t,e,n,r,o){void 0===e&&(e=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=.5);var a=gn(t,"x","localResponseNormalization");C(4===a.rank||3===a.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+a.rank+"."})),C(A(e),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+e+"."}));var i=a,s=!1;3===a.rank&&(s=!0,i=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var u=Lt.runKernelFunc((function(t,a){var s=t.localResponseNormalization4D(i,e,n,r,o);return a([i,s]),s}),{x4D:i},(function(t,a){var i=a[0],s=a[1];return{x4D:function(){return Lt.runKernelFunc((function(a){return a.LRNGrad(t,i,s,e,n,r,o)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}});var ch=An({norm_:function(t,e,n,r){void 0===e&&(e="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var o=function t(e,n,r){void 0===r&&(r=null);if(0===e.rank)return e.abs();if(1!==e.rank&&null===r)return t(e.reshape([-1]),n,r);if(1===e.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return e.abs().sum(r);if(n===1/0)return e.abs().max(r);if(n===-1/0)return e.abs().min(r);if("euclidean"===n||2===n)return e.abs().pow(On(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return e.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return e.abs().sum(r[1]).max(r[0]);if(n===-1/0)return e.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return e.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(t=gn(t,"x","norm"),e,n),a=o.shape;if(r){var i=O(n,t.shape);a=wn(o.shape,i)}return o.reshape(a)}});var lh=An({basicLSTMCell_:function(t,e,n,r,o,a){var i=gn(t,"forgetBias","basicLSTMCell"),s=gn(e,"lstmKernel","basicLSTMCell"),u=gn(n,"lstmBias","basicLSTMCell"),c=gn(r,"data","basicLSTMCell"),l=gn(o,"c","basicLSTMCell"),h=gn(a,"h","basicLSTMCell"),f=c.concat(h,1).matMul(s).add(u),d=f.shape[0],p=f.shape[1]/4,v=[d,p],g=f.slice([0,0],v),m=f.slice([0,p],v),y=f.slice([0,2*p],v),x=f.slice([0,3*p],v),b=g.sigmoid().mulStrict(m.tanh()).addStrict(l.mulStrict(i.add(y).sigmoid())),w=b.tanh().mulStrict(x.sigmoid());return[b,w]}}),hh=An({multiRNNCell_:function(t,e,n,r){for(var o=gn(e,"data","multiRNNCell"),a=mn(n,"c","multiRNNCell"),i=mn(r,"h","multiRNNCell"),s=o,u=[],c=0;c<t.length;c++){var l=t[c](s,a[c],i[c]);u.push(l[0]),u.push(l[1]),s=l[1]}var h=[],f=[];for(c=0;c<u.length;c+=2)h.push(u[c]),f.push(u[c+1]);return[h,f]}});var fh=An({movingAverage_:function(t,e,n,r,o){void 0===o&&(o=!0);var a=gn(t,"v","movingAverage"),i=gn(e,"x","movingAverage"),s=gn(n,"decay","movingAverage");Ft(a,i),C(S(a.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var u=On(1),c=u.sub(s),l=i.sub(a).mul(c);if(o){C(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var h=gn(r,"step","movingAverage");l=l.div(u.sub(No(s,h)))}return a.add(l)}});var dh=An({stridedSlice_:function(t,e,n,r,o,a,i,s,u){if(void 0===o&&(o=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(e.length)),0!==i)throw new Error("ellipsis mask is not yet supported");var c=gn(t,"x","stridedSlice"),l=Ko(s),h=c.shape.slice();l.forEach((function(t){e[t]=0,n[t]=1,h.splice(t,0,1)})),c=c.reshape(h);for(var f=0;f<c.rank;f++)e[f]=Xo(o,e,r,c.shape,f),n[f]=Yo(a,n,r,c.shape,f),r[f]=r[f]||1;var d=Ko(u);d.forEach((function(t){n[t]=e[t]+1,r[t]=1}));var p=jo(e,n,r),v=p.filter((function(t,e){return-1===d.indexOf(e)}));return r.every((function(t){return 1===t}))?Wl(c,e,p).reshape(v):Lt.runKernelFunc((function(t){return t.stridedSlice(c,e,n,r)}),{$x:c}).reshape(v)}});var ph=An({topk_:function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!0);var r=gn(t,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(e>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+e);var a=Lt.runKernelFunc((function(t){return t.topk(r,e,n)}),{$x:r});return{values:a[0],indices:a[1]}}});var vh=An({scatterND_:function(t,e,n){var r=gn(t,"indices","scatterND","int32"),o=gn(e,"updates","scatterND");return zo(o,r,n),Lt.runKernelFunc((function(t){return t.scatterND(r,o,n)}),{indices:r,updates:o},null,"ScatterNd",{shape:n})}});var gh=An({fft_:function(t){C("complex64"===t.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+t.dtype+"."}));var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return Lt.runKernelFunc((function(t){return t.fft(r)}),{input:t}).reshape(t.shape)}}),mh=An({ifft_:function(t){C("complex64"===t.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+t.dtype+"."}));var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return Lt.runKernelFunc((function(t){return t.ifft(r)}),{input:t}).reshape(t.shape)}}),yh=An({rfft_:function(t,e){C("float32"===t.dtype,(function(){return"The dtype for rfft() must be real value but got "+t.dtype}));var n,r=t.shape[t.shape.length-1],o=t.size/r;if(null!=e&&e<r){var a=t.shape.map((function(t){return 0})),i=t.shape.map((function(t){return t}));i[t.shape.length-1]=e,n=t.slice(a,i),r=e}else if(null!=e&&e>r){var s=t.shape.map((function(t){return t}));s[t.shape.length-1]=e-r,n=t.concat(Gn(s),t.shape.length-1),r=e}else n=t;var u=n.zerosLike(),c=Tn(n,u).as2D(o,r),l=gh(c),h=Math.floor(r/2)+1,f=Dn(l),d=Nn(l),p=f.split([h,r-h],f.shape.length-1),v=d.split([h,r-h],d.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=h,Tn(p[0],v[0]).reshape(g)}}),xh=An({irfft_:function(t){var e=t.shape[t.shape.length-1],n=t.size/e;if(e<=2){var r=t.as2D(n,e),o=mh(r);return Dn(o)}var a=[n,2*(e-1)],i=Dn(t).as2D(n,e),s=Nn(t).as2D(n,e),u=i.slice([0,1],[n,e-2]).reverse(1),c=s.slice([0,1],[n,e-2]).reverse(1).mul(On(-1)),l=i.concat(u,1),h=s.concat(c,1);return r=Tn(l,h).as2D(a[0],a[1]),o=mh(r),Dn(o)}}),bh=Object.freeze({fft:gh,ifft:mh,rfft:yh,irfft:xh});var wh=An({sparseToDense_:function(t,e,n,r){void 0===r&&(r=0);var o=gn(t,"sparseIndices","sparseToDense","int32"),a=gn(e,"sparseValues","sparseToDense"),i=gn(r,"defaultValue","sparseToDense",a.dtype);return function(t,e,n,r){if("int32"!==t.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+t.shape+".");var o=t.rank>0?t.shape[0]:1,a=t.rank>1?t.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+a+".");var i=e.size;if(0!==e.rank&&(1!==e.rank||i!==o))throw new Error("sparseValues has incorrect shape "+e.shape+", should be [] or ["+o+"]");if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,a,n,i),Lt.runKernelFunc((function(t){return t.sparseToDense(o,a,n,i)}),{$sparseIndices:o,$sparseValues:a,$defaultValue:i})}});var Ch=An({gatherND_:function(t,e){var n=gn(e,"indices","gatherND","int32"),r=gn(t,"x","gatherND");return Lt.runKernelFunc((function(t){return t.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}});var Eh=An({diag_:function(t){var e=gn(t,"x","diag").flatten(),n=t.shape.concat(t.shape);return Lt.runKernelFunc((function(t){return t.diag(e)}),{$x:e}).reshape(n)}});var Rh=An({dropout_:function(t,e,n,r){var o=gn(t,"x","dropout");if(C("float32"===o.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."})),C(e>=0&&e<1,(function(){return"rate must be a float in the range [0, 1), but got "+e+"."})),0===e)return t instanceof wt?o.clone():o;var a=function(t,e){if(null==e)return t.shape.slice();if(S(t.shape,e))return e;if(t.shape.length===e.length){for(var n=[],r=0;r<t.shape.length;r++)null==e[r]&&null!=t.shape[r]?n.push(t.shape[r]):n.push(e[r]);return n}return e}(o,n),i=1-e,s=zc(a,0,1,"float32",r).add(i).floor().div(i);return o.mul(s)}});function Ih(t,e,n){for(var r=1-t%2,o=new Float32Array(t),a=0;a<t;++a){var i=2*Math.PI*a/(t+r-1);o[a]=e-n*Math.cos(i)}return Mn(o,"float32")}var kh=An({hannWindow_:function(t){return Ih(t,.5,.5)}}),Sh=An({hammingWindow_:function(t){return Ih(t,.54,.46)}}),Ah=An({frame_:function(t,e,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=0);for(var a=0,i=[];a+e<=t.size;)i.push(Wl(t,a,e)),a+=n;if(r)for(;a<t.size;){var s=a+e-t.size,u=Yn([Wl(t,a,e-s),Hn([s],o)]);i.push(u),a+=n}return 0===i.length?Bn([],[0,e]):Yn(i).as2D(i.length,e)}}),Th=An({stft_:function(t,e,n,r,o){var a;void 0===o&&(o=kh),null==r&&(a=e,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var i=Ah(t,e,n),s=To(i,o(e)),u=[],c=0;c<i.shape[0];c++)u.push(yh(s.slice([c,0],[1,e]),r));return Yn(u)}}),Dh=Object.freeze({hannWindow:kh,hammingWindow:Sh,frame:Ah,stft:Th});var Nh,Fh=function(t,e,o){return void 0===o&&(o=1),n(this,void 0,void 0,(function(){var n,a,i,s,u,c,l,h,f,d,p,v,g,m;return r(this,(function(r){switch(r.label){case 0:return n=gn(t,"predictions","inTopK"),a=gn(e,"targets","inTopK"),C(n.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+n.rank})),C(n.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+n.rank+" and targets rank "+a.rank})),E(n.shape.slice(0,n.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=n.shape[n.shape.length-1],C(o>0&&o<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+o})),[4,n.data()];case 1:return s=r.sent(),[4,a.data()];case 2:for(u=r.sent(),c=[s.length/i,i],h=c[1],f=B("bool",l=c[0]),d=0;d<l;d++){for(p=d*h,v=s.subarray(p,p+h),g=[],m=0;m<v.length;m++)g.push({value:v[m],index:m});for(g.sort((function(t,e){return e.value-t.value})),f[d]=0,m=0;m<o;m++)if(g[m].index===u[d]){f[d]=1;break}}return t!==n&&n.dispose(),e!==a&&a.dispose(),[2,Fn(f,a.shape,"bool")]}}))}))};!function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Nh||(Nh={}));var _h=An({absoluteDifference_:function(t,e,n,r){void 0===r&&(r=Nh.SUM_BY_NONZERO_WEIGHTS);var o=gn(t,"labels","absoluteDifference"),a=gn(e,"predictions","absoluteDifference"),i=null;null!=n&&(i=gn(n,"weights","absoluteDifference")),E(o.shape,a.shape,"Error in absoluteDifference: ");var s=o.sub(a).abs();return Oh(s,i,r)}}),Oh=An({computeWeightedLoss_:function(t,e,n){void 0===n&&(n=Nh.SUM_BY_NONZERO_WEIGHTS);var r=gn(t,"losses","computeWeightedLoss"),o=null;null!=e&&(o=gn(e,"weights","computeWeightedLoss"));var a=null==o?r:r.mul(o);if(n===Nh.NONE)return a;if(n===Nh.SUM)return a.sum();if(n===Nh.MEAN){if(null==o)return a.mean();var i=r.size/o.size,s=a.sum().div(o.sum());return i>1?s.div(On(i)):s}if(n===Nh.SUM_BY_NONZERO_WEIGHTS){if(null==o)return a.sum().div(On(r.size));var u=o.mul(zn(r.shape)).notEqual(On(0)).sum().toFloat();return a.sum().div(u)}throw Error("Unknown reduction: "+n)}}),Mh=An({cosineDistance_:function(t,e,n,r,o){void 0===o&&(o=Nh.SUM_BY_NONZERO_WEIGHTS);var a=gn(t,"labels","cosineDistance"),i=gn(e,"predictions","cosineDistance"),s=null;null!=r&&(s=gn(r,"weights","cosineDistance")),E(a.shape,i.shape,"Error in cosineDistance: ");var u=On(1).sub(a.mul(i).sum(n,!0));return Oh(u,s,o)}}),Bh=An({hingeLoss_:function(t,e,n,r){void 0===r&&(r=Nh.SUM_BY_NONZERO_WEIGHTS);var o=gn(t,"labels","hingeLoss"),a=gn(e,"predictions","hingeLoss"),i=null;null!=n&&(i=gn(n,"weights","hingeLoss")),E(o.shape,a.shape,"Error in hingeLoss: ");var s=On(1);o=On(2).mul(o).sub(s);var u=s.sub(o.mul(a)).relu();return Oh(u,i,r)}}),Ph=An({huberLoss_:function(t,e,n,r,o){void 0===r&&(r=1),void 0===o&&(o=Nh.SUM_BY_NONZERO_WEIGHTS);var a=gn(t,"labels","huberLoss"),i=gn(e,"predictions","huberLoss"),s=null;null!=n&&(s=gn(n,"weights","huberLoss")),E(a.shape,i.shape,"Error in huberLoss: ");var u=On(r),c=i.sub(a).abs(),l=Io(c,u),h=c.sub(l),f=On(.5).mul(l.square()).add(u.mul(h));return Oh(f,s,o)}}),Lh=An({logLoss_:function(t,e,n,r,o){void 0===r&&(r=1e-7),void 0===o&&(o=Nh.SUM_BY_NONZERO_WEIGHTS);var a=gn(t,"labels","logLoss"),i=gn(e,"predictions","logLoss"),s=null;null!=n&&(s=gn(n,"weights","logLoss")),E(a.shape,i.shape,"Error in logLoss: ");var u=On(1),c=On(r),l=a.mul(i.add(c).log()).neg().sub(u.sub(a).mul(u.sub(i).add(c).log()));return Oh(l,s,o)}}),Wh=An({meanSquaredError_:function(t,e,n,r){void 0===r&&(r=Nh.SUM_BY_NONZERO_WEIGHTS);var o=gn(t,"labels","meanSquaredError"),a=gn(e,"predictions","meanSquaredError"),i=null;null!=n&&(i=gn(n,"weights","meanSquaredError")),E(o.shape,a.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(a);return Oh(s,i,r)}}),Uh=An({sigmoidCrossEntropy_:function(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=Nh.SUM_BY_NONZERO_WEIGHTS);var a=gn(t,"multiClassLabels","sigmoidCrossEntropy"),i=gn(e,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=gn(n,"weights","sigmoidCrossEntropy")),E(a.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=On(r),c=On(1),l=On(.5);a=a.mul(c.sub(u)).add(l.mul(u))}var h=function(t,e){var n=gn(t,"labels","sigmoidCrossEntropyWithLogits"),r=gn(e,"logits","sigmoidCrossEntropyWithLogits");E(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=r.relu(),a=r.mul(n),i=r.abs().neg().exp().log1p();return o.sub(a).add(i)}(a,i);return Oh(h,s,o)}}),Vh=An({softmaxCrossEntropy_:function(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=Nh.SUM_BY_NONZERO_WEIGHTS);var a=gn(t,"onehotLabels","softmaxCrossEntropy"),i=gn(e,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=gn(n,"weights","softmaxCrossEntropy")),E(a.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){var u=On(r),c=On(1),l=On(a.shape[1]);a=a.mul(c.sub(u)).add(u.div(l))}var h=function(t,e,n){if(void 0===n&&(n=-1),-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+e.rank+" and dim was "+n);return oa((function(t,e,r){var o=e.logSumExp([n],!0),a=e.toFloat().sub(o);r([t,a]);return{value:a.mul(t).neg().sum([n]),gradFunc:function(t,e){var r=e[0],o=e[1],a=wn(t.shape,[n]);return[t.reshape(a).mul(r.toFloat().sub(o.exp())),t.reshape(a).mul(o.exp().sub(r.toFloat()))]}}}))(t,e)}(a,i);return Oh(h,s,o)}}),zh=Object.freeze({get Reduction(){return Nh},absoluteDifference:_h,computeWeightedLoss:Oh,cosineDistance:Mh,hingeLoss:Bh,huberLoss:Ph,logLoss:Lh,meanSquaredError:Wh,sigmoidCrossEntropy:Uh,softmaxCrossEntropy:Vh});function Gh(t,e){return void 0===e&&(e=!1),Lt.tidy((function(){if(2!==t.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor.");for(var n=t.shape[0],r=t.shape[1],o=Cc(n),a=t.clone(),i=Bn([[1]],[1,1]),s=i.clone(),u=n>=r?r:n,c=function(t){var e,u=a,c=s,l=o;e=Lt.tidy((function(){var e=a.slice([t,t],[n-t,1]),u=e.norm(),c=a.slice([t,t],[1,1]),l=Bn([[-1]]).where(c.greater(0),Bn([[1]])),h=c.sub(l.mul(u)),f=e.div(h);s=1===f.shape[0]?i.clone():i.concat(f.slice([1,0],[f.shape[0]-1,f.shape[1]]),0);var d=l.matMul(h).div(u).neg(),p=a.slice([t,0],[n-t,r]),v=d.mul(s),g=s.transpose();if(0===t)a=p.sub(v.matMul(g.matMul(p)));else{var m=p.sub(v.matMul(g.matMul(p)));a=a.slice([0,0],[t,r]).concat(m,0)}var y=v.transpose(),x=o.slice([0,t],[n,o.shape[1]-t]);if(0===t)o=x.sub(x.matMul(s).matMul(y));else{var b=x.sub(x.matMul(s).matMul(y));o=o.slice([0,0],[n,t]).concat(b,1)}return[s,a,o]})),s=e[0],a=e[1],o=e[2],tn([u,c,l])},l=0;l<u;++l)c(l);return!e&&n>r&&(o=o.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[o,a]}))}var Hh=An({bandPart_:function(t,e,n){if(e%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+e+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=gn(t,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,a=r.shape.slice(-2),i=a[0],s=a[1];if(!(e<=i))throw new Error("bandPart(): numLower ("+e+") must not be greater than the number of rows ("+i+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");e<0&&(e=i),n<0&&(n=s);var u=Kn(0,i,1,"int32").reshape([-1,1]),c=Kn(0,s,1,"int32"),l=Oo(u,c),h=pc(l.lessEqual(On(+e,"int32")),l.greaterEqual(On(-n,"int32"))),f=Gn([i,s],r.dtype);return hr(fr(r.reshape([-1,i,s])).map((function(t){return yc(h,t,f)}))).reshape(o)}}),qh=An({gramSchmidt_:function(t){var e;if(Array.isArray(t)){e=!1,C(null!=t&&t.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=t[0].shape[0],r=function(e){C(t[e].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+t[e].shape[0]+" vs. "+n+")"}))},o=1;o<t.length;++o)r(o)}else e=!0,t=tr(t,t.shape[0],0).map((function(t){return lr(t,[0])}));C(t.length<=t[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds number of dimensions ("+t[0].shape[0]+")."}));var a=[],i=t,s=function(t){a.push(Lt.tidy((function(){var e=i[t];if(t>0)for(var n=0;n<t;++n){var r=th(a[n].mulStrict(e)).mul(a[n]);e=e.sub(r)}return e.div(ch(e,"euclidean"))})))};for(o=0;o<t.length;++o)s(o);return e?hr(a,0):a}}),Kh=An({qr_:function(t,e){if(void 0===e&&(e=!1),t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+t.rank);if(2===t.rank)return Gh(t,e);var n=t.shape.slice(0,t.shape.length-2).reduce((function(t,e){return t*e})),r=fr(t.reshape([n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),o=[],a=[];return r.forEach((function(t){var n=Gh(t,e),r=n[0],i=n[1];o.push(r),a.push(i)})),[hr(o,0).reshape(t.shape),hr(a,0).reshape(t.shape)]}}),jh=Object.freeze({bandPart:Hh,gramSchmidt:qh,qr:Kh});function Xh(t,e,n,r,o,a){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==a&&(a=0);var i=t.shape[0];return n=Math.min(n,i),C(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),C(2===t.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"})),C(4===t.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]})),C(1===e.rank,(function(){return"scores must be a 1D tensor"})),C(e.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected "+i+", but was "+e.shape[0]})),C(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:a}}var Yh=An({resizeBilinear_:function(t,e,n){void 0===n&&(n=!1);var r=gn(t,"images","resizeBilinear");C(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),C(2===e.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+e+"."}));var o=r,a=!1;3===r.rank&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=e[0],s=e[1],u=Lt.runKernelFunc((function(t,e){return e([o]),t.resizeBilinear(o,i,s,n)}),{x:o},(function(t,e){return{x:function(){return Lt.runKernelFunc((function(r){return r.resizeBilinearBackprop(t,e[0],n)}),{})}}}),"ResizeBilinear",{alignCorners:n,newHeight:i,newWidth:s});return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),$h=An({resizeNearestNeighbor_:function(t,e,n){void 0===n&&(n=!1);var r=gn(t,"images","resizeNearestNeighbor");C(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),C(2===e.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."})),C("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var o=r,a=!1;3===r.rank&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=e[0],s=e[1],u=Lt.runKernelFunc((function(t,e){return e([o]),t.resizeNearestNeighbor(o,i,s,n)}),{batchImages:o},(function(t,e){return{batchImages:function(){return Lt.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(t,e[0],n)}),{})}}}));return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Qh=An({nonMaxSuppression_:function(t,e,n,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var a=gn(t,"boxes","nonMaxSuppression"),i=gn(e,"scores","nonMaxSuppression"),s=Xh(a,i,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return Lt.runKernelFunc((function(t){return t.nonMaxSuppression(a,i,n,r,o)}),{boxes:a,scores:i},null,"NonMaxSuppressionV3",u)}}),Jh=function(t,e,o,a,i){return void 0===a&&(a=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),n(this,void 0,void 0,(function(){var n,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:return n=gn(t,"boxes","nonMaxSuppressionAsync"),s=gn(e,"scores","nonMaxSuppressionAsync"),u=Xh(n,s,o,a,i),o=u.maxOutputSize,a=u.iouThreshold,i=u.scoreThreshold,[4,Promise.all([n.data(),s.data()])];case 1:return c=r.sent(),l=c[0],h=c[1],f=Oa(l,h,o,a,i),n!==t&&n.dispose(),s!==e&&s.dispose(),[2,f]}}))}))},Zh=An({nonMaxSuppressionWithScore_:function(t,e,n,r,o,a){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===a&&(a=0);var i=gn(t,"boxes","nonMaxSuppression"),s=gn(e,"scores","nonMaxSuppression"),u=Xh(i,s,n,r,o,a),c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:o=u.scoreThreshold,softNmsSigma:a=u.softNmsSigma},l=Lt.runKernel("NonMaxSuppressionV5",{boxes:i,scores:s},c);return{selectedIndices:l[0],selectedScores:l[1]}}}),tf=function(t,e,o,a,i,s){return void 0===a&&(a=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===s&&(s=0),n(this,void 0,void 0,(function(){var n,u,c,l,h,f,d;return r(this,(function(r){switch(r.label){case 0:return n=gn(t,"boxes","nonMaxSuppressionAsync"),u=gn(e,"scores","nonMaxSuppressionAsync"),c=Xh(n,u,o,a,i,s),o=c.maxOutputSize,a=c.iouThreshold,i=c.scoreThreshold,s=c.softNmsSigma,[4,Promise.all([n.data(),u.data()])];case 1:return l=r.sent(),h=l[0],f=l[1],d=Ma(h,f,o,a,i,s),n!==t&&n.dispose(),u!==e&&u.dispose(),[2,d]}}))}))},ef=An({cropAndResize_:function(t,e,n,r,o,a){var i=gn(t,"image","cropAndResize"),s=gn(e,"boxes","cropAndResize","float32"),u=gn(n,"boxInd","cropAndResize","int32");o=o||"bilinear",a=a||0;var c=s.shape[0];return C(4===i.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+i.rank+"."})),C(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."})),C(1===u.rank&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."})),C(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),C(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),C("bilinear"===o||"nearest"===o,(function(){return"method must be bilinear or nearest, but was "+o})),Lt.runKernelFunc((function(t,e){return t.cropAndResize(i,s,u,r,o,a)}),{images:i,boxes:s,boxInd:u},null,"CropAndResize",{method:o,extrapolationValue:a,cropSize:r})}}),nf=Object.freeze({resizeBilinear:Yh,resizeNearestNeighbor:$h,nonMaxSuppression:Qh,nonMaxSuppressionAsync:Jh,nonMaxSuppressionWithScore:Zh,nonMaxSuppressionWithScoreAsync:tf,cropAndResize:ef}),rf=function(t,e){return!(t>0)||"linear"===e},of=function(t,e,n){if(null==n||"linear"===n)return t;if("relu"===n)return t.mul(e.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},af=function(t,e){var n=e,r=Br(t.shape,e.shape);return r.length>0&&(n=n.sum(r)),n.reshape(t.shape)},sf=function(t,e,n){if("linear"===e)return t;if("relu"===e)return ah(t);if("elu"===e)return nh(t);if("relu6"===e)return ih(t);if("prelu"===e)return oh(t,n);throw new Error("Unknown fused activation "+e+".")};var uf=An({fusedMatMul_:function(t){var e,n=t.a,r=t.b,o=t.transposeA,a=void 0!==o&&o,i=t.transposeB,s=void 0!==i&&i,u=t.bias,c=t.activation,l=void 0===c?"linear":c,h=t.preluActivationWeights;if(!1===rf(Lt.state.gradientDepth,l)){var f=El(n,r,a,s);return null!=u&&(f=Or(f,u)),sf(f,l,h)}var d=gn(n,"a","fused matMul"),p=gn(r,"b","fused matMul");e=Nt(d,p),d=e[0],p=e[1];var v=a?d.shape[d.rank-2]:d.shape[d.rank-1],g=s?p.shape[p.rank-1]:p.shape[p.rank-2],m=a?d.shape[d.rank-1]:d.shape[d.rank-2],y=s?p.shape[p.rank-2]:p.shape[p.rank-1],x=d.shape.slice(0,-2),b=p.shape.slice(0,-2),w=k(x),E=k(b);C(d.rank>=2&&p.rank>=2&&d.rank===p.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+d.rank+" and "+p.rank+"."})),C(S(x,b),(function(){return"Error in fused matMul: outer dimensions ("+x+") and ("+b+") of Tensors with shapes "+d.shape+" and "+p.shape+" must match."})),C(v===g,(function(){return"Error in fused matMul: inner shapes ("+v+") and ("+g+") of Tensors with shapes "+d.shape+" and "+p.shape+" and transposeA="+a+" and transposeB="+s+" must match."}));var R,I,A=d.shape.slice(0,-2).concat([m,y]),T=a?d.as3D(w,v,m):d.as3D(w,m,v),D=s?p.as3D(E,y,g):p.as3D(E,g,y);null!=u&&Pr(A,(R=Nt(R=gn(u,"bias","fused matMul"),d)[0]).shape),null!=h&&(I=gn(h,"prelu weights","fused matMul"));var N={a:T,b:D};null!=u&&(N.bias=R),null!=h&&(N.preluActivationWeights=I);var F=[T,D];return Lt.runKernelFunc((function(t,e){var n=t.fusedBatchMatMul({a:T,b:D,transposeA:a,transposeB:s,bias:R,activation:l,preluActivationWeights:I});return e([T,D,n]),n}),N,(function(t,e){var n=e[0],r=e[1],o=e[2],i=of(t,o,l),c={};return null!=u&&(c={bias:function(){return af(R,i)}}),a||s?!a&&s?Object.assign({a:function(){return i.matMul(r,!1,!1)},b:function(){return i.matMul(n,!0,!1)}},c):a&&!s?Object.assign({a:function(){return r.matMul(i,!1,!0)},b:function(){return n.matMul(i,!1,!1)}},c):Object.assign({a:function(){return r.matMul(i,!0,!0)},b:function(){return i.matMul(n,!0,!0)}},c):Object.assign({a:function(){return i.matMul(r,!1,!0)},b:function(){return n.matMul(i,!0,!1)}},c)}),"_FusedMatMul",{transposeA:a,transposeB:s,activation:l},F,[!0]).reshape(A)}}),cf=An({fusedConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,o=t.pad,a=t.dataFormat,i=void 0===a?"NHWC":a,s=t.dilations,u=void 0===s?[1,1]:s,c=t.dimRoundingMode,l=t.bias,h=t.activation,f=void 0===h?"linear":h,d=t.preluActivationWeights;if(f=f||"linear",!1===rf(Lt.state.gradientDepth,f)){var p=dl(e,n,r,o,i,u,c);return null!=l&&(p=Or(p,l)),sf(p,f,d)}var v=gn(e,"x","conv2d"),g=gn(n,"filter","conv2d"),m=v,y=!1;3===v.rank&&(y=!0,m=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),C(4===m.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+m.rank+"."})),C(4===g.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+g.rank+"."})),null!=c&&C(A(o),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+o+"."})),C(m.shape[3]===g.shape[2],(function(){return"Error in conv2d: depth of input ("+m.shape[3]+") must match input depth for filter "+g.shape[2]+"."})),C(Ca(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),C("NHWC"===i,(function(){return"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported."}));var x,b,w=pa(m.shape,g.shape,r,u,o,c);null!=l&&(x=Nt(x=gn(l,"bias","fused conv2d"),v)[0],Pr(w.outShape,x.shape)),null!=d&&(b=gn(d,"prelu weights","fused conv2d"));var E={x:m,filter:g};null!=l&&(E.bias=x),null!=d&&(E.preluActivationWeights=b);var R=[g,m],I=Lt.runKernelFunc((function(t,e){var n=t.fusedConv2d({input:m,filter:g,convInfo:w,bias:x,activation:f,preluActivationWeights:b});return e([g,m,n]),n}),E,(function(t,e){var n=e,a=n[0],i=n[1],s=n[2],c=of(t,s,f);C(wa(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var h={};return null!=l&&(h={bias:function(){return af(x,c)}}),Object.assign({x:function(){return gl(i.shape,c,a,r,o)},filter:function(){return vl(i,c,a.shape,r,o)}},h)}),"FusedConv2D",{convInfo:w,activation:f},R,[!0]);return y?I.as3D(I.shape[1],I.shape[2],I.shape[3]):I}}),lf=An({fusedDepthwiseConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,o=t.pad,a=t.dataFormat,i=void 0===a?"NHWC":a,s=t.dilations,u=void 0===s?[1,1]:s,c=t.dimRoundingMode,l=t.bias,h=t.activation,f=void 0===h?"linear":h,d=t.preluActivationWeights;if(!1===rf(Lt.state.gradientDepth,f)){var p=ml(e,n,r,o,i,u,c);return null!=l&&(p=Or(p,l)),sf(p,f,d)}var v=gn(e,"x","depthwiseConv2d"),g=gn(n,"filter","depthwiseConv2d"),m=v,y=!1;3===v.rank&&(y=!0,m=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),C(4===m.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+m.rank+"."})),C(4===g.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+g.rank+"."})),C(m.shape[3]===g.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+m.shape[3]+") must match the inChannels dimension in filter "+g.shape[2]+"."})),null==u&&(u=[1,1]),C(Ca(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),null!=c&&C(A(o),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+o+"."}));var x,b,w=pa(m.shape,g.shape,r,u,o,c,!0);null!=l&&(x=Nt(x=gn(l,"bias","fused conv2d"),v)[0],Pr(w.outShape,x.shape)),null!=d&&(b=gn(d,"prelu weights","fused depthwiseConv2d"));var E={x:m,filter:g};null!=l&&(E.bias=x),null!=d&&(E.preluActivationWeights=b);var R=[g,m],I=Lt.runKernelFunc((function(t,e){var n=t.fusedDepthwiseConv2D({input:m,filter:g,convInfo:w,bias:x,activation:f,preluActivationWeights:b});return e([g,m,n]),n}),E,(function(t,e){C(wa(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var n=e[0],r=e[1],o=e[2],a=of(t,o,f),i={};return null!=l&&(i={bias:function(){return af(x,a)}}),Object.assign({x:function(){return yl(r.shape,a,n,w)},filter:function(){return xl(r,a,n.shape,w)}},i)}),"FusedDepthwiseConv2D",{convInfo:w,activation:f},R,[!0]);return y?I.as3D(I.shape[1],I.shape[2],I.shape[3]):I}}),hf=Object.freeze({matMul:uf,conv2d:cf,depthwiseConv2d:lf}),ff=Object.freeze({image:nf,linalg:jh,losses:zh,spectral:bh,fused:hf,signal:Dh,add:Or,addN:$u,batchNorm:nc,batchNormalization:ec,batchNorm2d:ac,batchNormalization2d:oc,batchNorm3d:uc,batchNormalization3d:sc,batchNorm4d:hc,batchNormalization4d:lc,broadcastTo:fc,clone:dc,div:Bo,divNoNan:bc,eye:Cc,multinomial:Ec,oneHot:Rc,pad:Ic,pad1d:kc,pad2d:Sc,pad3d:Ac,pad4d:Tc,rand:Dc,randomGamma:Uc,randomNormal:Vc,randomUniform:zc,square:Gc,squaredDifference:Hc,tile:wc,truncatedNormal:qc,conv1d:fl,conv2d:dl,conv3d:pl,depthwiseConv2d:ml,separableConv2d:bl,conv2dTranspose:wl,conv3dTranspose:Cl,op:An,booleanMaskAsync:ul,complex:Tn,real:Dn,imag:Nn,concat:Yn,concat1d:$n,concat2d:Qn,concat3d:Jn,concat4d:Zn,split:tr,matMul:El,dot:Rl,outerProduct:Il,reverse:kl,reverse1d:Sl,reverse2d:Al,reverse3d:Tl,reverse4d:Dl,maxPool:_l,avgPool:Ol,pool:Ml,maxPool3d:Bl,avgPool3d:Pl,maxPoolWithArgmax:Ll,slice:Wl,slice1d:Ul,slice2d:Vl,slice3d:zl,slice4d:Gl,abs:Lr,acos:Wr,acosh:Ur,asin:Vr,asinh:zr,atan:Gr,atanh:Hr,ceil:qr,clipByValue:Kr,cos:jr,cosh:Xr,erf:Yr,exp:$r,expm1:Qr,floor:Jr,log:Zr,log1p:to,logSigmoid:eo,neg:no,reciprocal:ro,round:oo,rsqrt:ao,sigmoid:io,sign:so,isNaN:uo,isInf:co,isFinite:lo,sin:ho,sinh:fo,softplus:po,sqrt:vo,step:go,tan:mo,tanh:yo,all:ql,any:Kl,argMax:jl,argMin:Xl,logSumExp:Yl,max:$l,mean:Ql,min:Jl,moments:Zl,sum:th,prod:eh,equal:Kc,equalStrict:jc,greater:Xc,greaterEqual:Yc,greaterEqualStrict:$c,greaterStrict:Qc,less:Jc,lessEqual:Zc,lessEqualStrict:tl,lessStrict:el,notEqual:nl,notEqualStrict:rl,addStrict:xo,atan2:bo,divStrict:wo,floorDiv:Co,maximum:Eo,maximumStrict:Ro,minimum:Io,minimumStrict:ko,mod:So,modStrict:Ao,mul:To,mulStrict:Do,pow:No,powStrict:Fo,squaredDifferenceStrict:_o,sub:Oo,subStrict:Mo,elu:nh,leakyRelu:rh,prelu:oh,relu:ah,relu6:ih,selu:sh,logicalAnd:pc,logicalNot:vc,logicalOr:gc,logicalXor:mc,where:yc,whereAsync:xc,buffer:er,print:nr,batchToSpaceND:rr,cast:or,cumsum:ar,depthToSpace:ir,expandDims:sr,reshape:ur,spaceToBatchND:cr,squeeze:lr,stack:hr,unstack:fr,setdiff1dAsync:dr,fill:Hn,linspace:qn,ones:zn,range:Kn,scalar:On,tensor:Fn,tensor1d:Mn,tensor2d:Bn,tensor3d:Pn,tensor4d:Ln,tensor5d:Wn,tensor6d:Un,variable:Vn,zeros:Gn,onesLike:jn,zerosLike:Xn,transpose:ua,softmax:ia,logSoftmax:sa,localResponseNormalization:uh,norm:ch,gather:il,unsortedSegmentSum:sl,basicLSTMCell:lh,multiRNNCell:hh,movingAverage:fh,stridedSlice:dh,topk:ph,scatterND:vh,fft:gh,ifft:mh,rfft:yh,irfft:xh,sparseToDense:wh,gatherND:Ch,diag:Eh,dropout:Rh,hannWindow:kh,hammingWindow:Sh,frame:Ah,stft:Th,inTopKAsync:Fh});function df(t,e){Array.isArray(t)||(t=[t]),t.forEach((function(t){null!=t&&C("complex64"!==t.dtype,(function(){return e+" does not support complex64 tensors."}))}))}function pf(t,e,n,r,o,a){for(var i=o.strideHeight,s=o.strideWidth,u=o.dilationHeight,c=o.dilationWidth,l=o.effectiveFilterHeight,h=o.effectiveFilterWidth,f=o.padInfo.top,d=o.padInfo.left,p="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=er(o.outShape,n),g=v.values,m=o.outShape[1]*o.outShape[2]*o.outShape[3],y=o.outShape[2]*o.outShape[3],x=o.outShape[3],b=0;b<o.batchSize;++b)for(var w=b*m,C=b*r[0],E=0;E<o.inChannels;++E)for(var R=0;R<o.outHeight;++R)for(var I=R*i-f,k=Math.max(0,I),S=Math.min(o.inHeight,l+I),A=w+R*y,T=0;T<o.outWidth;++T){for(var D=T*s-d,N=Math.max(0,D),F=Math.min(o.inWidth,h+D),_=p,O=0,M=0,B=k;B<S;B+=u){for(var P=C+B*r[1],L=N;L<F;L+=c){var W=t[P+L*r[2]+E];"max"===a&&W>_?_=W:"avg"===a&&(O+=W,M++)}if(isNaN(_))break}g[A+T*x+E]="avg"===a?O/M:_}return v}function vf(t,e,n,r,o,a){void 0===o&&(o=!1),void 0===a&&(a=!1);for(var i=er(r.outShape,"int32"),s=r.strideHeight,u=r.strideWidth,c=r.dilationHeight,l=r.dilationWidth,h=r.effectiveFilterHeight,f=r.effectiveFilterWidth,d=r.padInfo.top,p=r.padInfo.left,v=er(e,n,t),g=0;g<r.batchSize;++g)for(var m=0;m<r.inChannels;++m)for(var y=0;y<r.outHeight;++y){for(var x=y*s-d,b=x;b<0;)b+=c;for(var w=Math.min(r.inHeight,h+x),C=0;C<r.outWidth;++C){for(var E=C*u-p,R=E;R<0;)R+=l;for(var I=Math.min(r.inWidth,f+E),k=Number.NEGATIVE_INFINITY,S=-1,A=b;A<w;A+=c)for(var T=A-x,D=R;D<I;D+=l){var N=D-E,F=v.get(g,A,D,m);F>k&&(k=F,S=o?a?((g*r.inHeight+A)*r.inWidth+D)*r.inChannels+m:(A*r.inWidth+D)*r.inChannels+m:T*f+N)}i.set(S,g,y,C,m)}}return i}function gf(t,e,n,r){if("linear"===n)return t.linear(e);if("relu"===n)return t.relu(e);if("elu"===n)return t.elu(e);if("relu6"===n)return t.relu6(e);if("prelu"===n)return t.prelu(e,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var mf=function(t){function o(){var e=t.call(this)||this;return e.blockSize=48,e.firstUse=!0,e.data=new ca(e,Lt),e}return e(o,t),o.prototype.write=function(t,e,n){this.firstUse&&(this.firstUse=!1,i().get("IS_NODE")&&dn("\n============================\nHi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:t,dtype:n}),r},o.prototype.move=function(t,e,n,r){this.data.set(t,{values:e,dtype:r})},o.prototype.numDataIds=function(){return this.data.numDataIds()},o.prototype.read=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.readSync(t)]}))}))},o.prototype.readSync=function(t){var e=this.data.get(t),n=e.dtype,r=e.complexTensors;return"complex64"===n?Aa(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(t).values},o.prototype.bufferSync=function(t){var e=this.readSync(t.dataId),n=e;if("string"===t.dtype)try{n=e.map((function(t){return ot(t)}))}catch(t){throw new Error("Failed to decode encoded string bytes into utf-8")}return er(t.shape,t.dtype,n)},o.prototype.makeOutput=function(t,e,n){var r=this.write(t,e,n);return Lt.makeTensorFromDataId(r,e,n,this)},o.prototype.disposeData=function(t){if(this.data.has(t)){var e=this.data.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.data.delete(t)}},o.prototype.time=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){return e=et(),t(),[2,{kernelMs:et()-e}]}))}))},o.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},o.prototype.complex=function(t,e){var n=this.makeOutput(null,t.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Lt.keep(t.clone()),imag:Lt.keep(e.clone())},n},o.prototype.real=function(t){return this.data.get(t.dataId).complexTensors.real.clone()},o.prototype.imag=function(t){return this.data.get(t.dataId).complexTensors.imag.clone()},o.prototype.slice=function(t,e,n){if(df(t,"slice"),$o(t.shape,e,n)){var r=Qo(e,t.strides),o=k(n);return Fn(this.readSync(t.dataId).subarray(r,r+o),n,t.dtype)}for(var a=er(n,t.dtype),i=this.bufferSync(t),s=0;s<a.size;++s){var u=a.indexToLoc(s).map((function(t,n){return t+e[n]}));a.values[s]=i.get.apply(i,u)}return a.toTensor()},o.prototype.stridedSlice=function(t,e,n,r){df(t,"stridedSlice");var o=jo(e,n,r);if(o.some((function(t){return 0===t})))return Fn([],o);for(var a=er(o,t.dtype),i=this.bufferSync(t),s=0;s<a.size;s++){for(var u=a.indexToLoc(s),c=new Array(u.length),l=0;l<c.length;l++)c[l]=u[l]*r[l]+e[l];a.set.apply(a,[i.get.apply(i,c)].concat(u))}return a.toTensor()},o.prototype.diag=function(t){for(var e=this.readSync(t.dataId),n=er([t.size,t.size],t.dtype),r=n.values,o=0;o<e.length;o++)r[o*t.size+o]=e[o];return n.toTensor()},o.prototype.unstack=function(t,e){for(var n=t.shape[e],r=new Array(t.rank-1),o=0,a=0;a<t.rank;a++)a!==e&&(r[o++]=t.shape[a]);var i=new Array(t.rank).fill(0),s=t.shape.slice();s[e]=1;var u=new Array(n);for(a=0;a<u.length;a++)i[e]=a,u[a]=this.slice(t,i,s).reshape(r);return u},o.prototype.reverse=function(t,e){df(t,"reverse");for(var n=er(t.shape,t.dtype),r=this.bufferSync(t),o=function(o){var a=n.indexToLoc(o),i=a.slice();e.forEach((function(e){return i[e]=t.shape[e]-1-i[e]})),n.set.apply(n,[r.get.apply(r,i)].concat(a))},a=0;a<n.size;a++)o(a);return n.toTensor()},o.prototype.concat=function(t,e){var n=this;if("complex64"===t[0].dtype){var r=t.map((function(t){return Dn(t)})),o=t.map((function(t){return Nn(t)}));return Tn(this.concat(r,e),this.concat(o,e))}var a=t.map((function(t){var n=k(t.shape.slice(e));return t.as2D(-1,n)})),i=Sn(a.map((function(t){return t.shape})),1),s=er(i,t[0].dtype).values;if(1===a[0].shape[0]){var u=0;a.forEach((function(t){s.set(n.readSync(t.dataId),u),u+=t.size}))}else{var c=0;a.forEach((function(t){for(var e=n.readSync(t.dataId),r=0,o=0;o<t.shape[0];++o)for(var a=o*i[1]+c,u=0;u<t.shape[1];++u)s[a+u]=e[r++];c+=t.shape[1]}))}var l=Sn(t.map((function(t){return t.shape})),e);return Fn(s,l,t[0].dtype)},o.prototype.neg=function(t){return df(t,"neg"),this.multiply(On(-1),t)},o.prototype.add=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),(function(t,e,n,r){return{real:t+n,imag:e+r}})):this.broadcastedBinaryOp(t,e,Tt(t.dtype,e.dtype),(function(t,e){return t+e}))},o.prototype.addN=function(t){var e=this;df(t,"addN");for(var n=t.map((function(t){return e.readSync(t.dataId)})),r=er(t[0].shape,t[0].dtype),o=r.values,a=0;a<t.length;a++)for(var i=n[a],s=0;s<o.length;s++)o[s]+=i[s];return r.toTensor()},o.prototype.softmax=function(t,e){var n=O([e],t.shape),r=this.max(t,n),o=wn(r.shape,n),a=this.subtract(t,r.reshape(o)),i=this.exp(a),s=this.sum(i,n).reshape(o);return Bo(i,s)},o.prototype.subtract=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),(function(t,e,n,r){return{real:t-n,imag:e-r}})):this.broadcastedBinaryOp(t,e,Tt(t.dtype,e.dtype),(function(t,e){return t-e}))},o.prototype.pow=function(t,e){return df([t,e],"pow"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.pow(t,e)}))},o.prototype.batchMatMul=function(t,e,n,r){df([t,e],"matMul");for(var o=n?t.shape[1]:t.shape[2],a=n?t.shape[2]:t.shape[1],i=r?e.shape[1]:e.shape[2],s=t.shape[0],u=this.readSync(t.dataId),c=this.readSync(e.dataId),l=n?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],h=l[0],f=l[1],d=l[2],p=r?[1,e.strides[1],e.strides[0]]:[e.strides[1],1,e.strides[0]],v=p[0],g=p[1],m=p[2],y=a*i,x=er([s,a,i],t.dtype),b=x.values,w=this.blockSize,C=0;C<s;C++)for(var E=0;E<a;E+=w)for(var R=0;R<i;R+=w)for(var I=0;I<o;I+=w)for(var k=Math.min(E+w,a),S=Math.min(R+w,i),A=Math.min(I+w,o),T=E;T<k;T++)for(var D=R;D<S;D++){for(var N=0,F=I;F<A;F++)N+=u[C*h+T*f+F*d]*c[F*v+D*g+C*m];b[C*y+(T*i+D)]+=N}return x.toTensor()},o.prototype.fusedBatchMatMul=function(t){var e=t.a,n=t.b,r=t.transposeA,o=t.transposeB,a=t.bias,i=t.activation,s=t.preluActivationWeights,u=this.batchMatMul(e,n,r,o);return a&&(u=this.add(u,a)),i&&(u=gf(this,u,i,s)),u},o.prototype.multiply=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),(function(t,e,n,r){return{real:t*n-e*r,imag:t*r+e*n}})):this.broadcastedBinaryOp(t,e,Tt(t.dtype,e.dtype),(function(t,e){return t*e}))},o.prototype.floorDiv=function(t,e){df([t,e],"floorDiv");return this.broadcastedBinaryOp(t,e,"int32",(function(t,e){return Math.floor(t/e)}))},o.prototype.sum=function(t,e){df(t,"sum"),Cn("sum",e,t.rank);for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,Tt(t.dtype,"int32")),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=0,f=0;f<i;++f)h+=u[l+f];s[c]=h}return a},o.prototype.prod=function(t,e){df(t,"sum");for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,Tt(t.dtype,"int32")),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=1,f=0;f<i;++f)h*=u[l+f];s[c]=h}return a},o.prototype.unsortedSegmentSum=function(t,e,n){df(t,"unsortedSegmentSum");for(var r=[],o=t.rank-e.rank,a=0;a<o;++a)e=e.expandDims(a+1);for(a=0;a<n;++a){var i=On(a,"int32"),s=Kc(i,e).asType("float32").mul(t).sum(0);r.push(s)}return hr(r)},o.prototype.argMin=function(t,e){df(t,"argMin");var n=[e];Cn("argMin",n,t.rank);for(var r=bn(t.shape,n),o=r[0],a=r[1],i=Gn(o,"int32"),s=k(a),u=this.readSync(i.dataId),c=this.readSync(t.dataId),l=0;l<u.length;++l){for(var h=l*s,f=c[h],d=0,p=0;p<s;++p){var v=c[h+p];v<f&&(f=v,d=p)}u[l]=d}return i},o.prototype.argMax=function(t,e){df(t,"argMax");var n=[e];Cn("argMax",n,t.rank);for(var r=bn(t.shape,n),o=r[0],a=r[1],i=Gn(o,"int32"),s=k(a),u=this.readSync(i.dataId),c=this.readSync(t.dataId),l=0;l<u.length;++l){for(var h=l*s,f=c[h],d=0,p=0;p<s;++p){var v=c[h+p];v>f&&(f=v,d=p)}u[l]=d}return i},o.prototype.cumsum=function(t,e,n,r){if(df(t,"cumsum"),e!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+e);for(var o=Tt(t.dtype,"int32"),a=Gn(t.shape,o),i=this.readSync(a.dataId),s=this.readSync(t.dataId),u=t.shape[t.rank-1],c=r?function(t,e){return t+u-e-1}:function(t,e){return t+e},l=0;l<s.length;l+=u)for(var h=0;h<u;h++){var f=c(l,h);if(0===h)i[f]=n?0:s[f];else{var d=c(l,h-1);i[f]=n?s[d]+i[d]:s[f]+i[d]}}return a},o.prototype.equal=function(t,e){return df([t,e],"equal"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t===e?1:0}))},o.prototype.notEqual=function(t,e){return df([t,e],"notEqual"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t!==e?1:0}))},o.prototype.less=function(t,e){return df([t,e],"less"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t<e?1:0}))},o.prototype.lessEqual=function(t,e){return df([t,e],"lessEqual"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t<=e?1:0}))},o.prototype.greater=function(t,e){return df([t,e],"greater"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t>e?1:0}))},o.prototype.greaterEqual=function(t,e){return df([t,e],"greaterEqual"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t>=e?1:0}))},o.prototype.logicalNot=function(t){df(t,"logicalNot");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e[r]?0:1;return this.makeOutput(n,t.shape,"bool")},o.prototype.logicalAnd=function(t,e){return df([t,e],"logicalAnd"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t&&e}))},o.prototype.logicalOr=function(t,e){return df([t,e],"logicalOr"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t||e}))},o.prototype.select=function(t,e,n){df([t,e,n],"select");for(var r=this.readSync(t.dataId),o=this.readSync(e.dataId),a=this.readSync(n.dataId),i=Gn(e.shape,Tt(e.dtype,n.dtype)),s=this.readSync(i.dataId),u=0,c=0===t.rank||t.rank>1||1===e.rank?1:k(e.shape.slice(1)),l=0;l<r.length;l++)for(var h=0;h<c;h++)1===r[l]?s[u++]=o[l]:s[u++]=a[l];return i},o.prototype.where=function(t){df([t],"where");var e=this.readSync(t.dataId);return Ga(t.shape,e)},o.prototype.topk=function(t,e,n){return df(t,"topk"),za(this.readSync(t.dataId),t.shape,t.dtype,e)},o.prototype.min=function(t,e){df(t,"min"),Cn("min",e,t.rank);for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,t.dtype),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=u[l],f=0;f<i;++f){var d=u[l+f];d<h&&(h=d)}s[c]=h}return a},o.prototype.minimum=function(t,e){return df([t,e],"minimum"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.min(t,e)}))},o.prototype.mod=function(t,e){return df([t,e],"mod"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){var n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}))},o.prototype.max=function(t,e){df(t,"max"),Cn("max",e,t.rank);for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,t.dtype),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=u[l],f=0;f<i;++f){var d=u[l+f];d>h&&(h=d)}s[c]=h}return a},o.prototype.maximum=function(t,e){return df([t,e],"maximum"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.max(t,e)}))},o.prototype.all=function(t,e){df(t,"all"),Cn("all",e,t.rank);for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,t.dtype),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=u[l],f=0;f<i;++f){var d=u[l+f];h=h&&d}s[c]=h}return a},o.prototype.any=function(t,e){df(t,"any"),Cn("any",e,t.rank);for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,t.dtype),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=u[l],f=0;f<i;++f){var d=u[l+f];h=h||d}s[c]=h}return a},o.prototype.squaredDifference=function(t,e){return df([t,e],"squaredDifference"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){var n=t-e;return n*n}))},o.prototype.ceil=function(t){df(t,"ceil");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.ceil(e[r]);return this.makeOutput(n,t.shape,"float32")},o.prototype.floor=function(t){df(t,"floor");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.floor(e[r]);return this.makeOutput(n,t.shape,"float32")},o.prototype.sign=function(t){df(t,"x");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)e[r]<0?n[r]=-1:e[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,t.shape,"float32")},o.prototype.isNaN=function(t){df(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Number.isNaN(e[r])&&(n[r]=1);return this.makeOutput(n,t.shape,"bool")},o.prototype.isInf=function(t){df(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Math.abs(e[r])===1/0&&(n[r]=1);return this.makeOutput(n,t.shape,"bool")},o.prototype.isFinite=function(t){df(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Number.isFinite(e[r])&&(n[r]=1);return this.makeOutput(n,t.shape,"bool")},o.prototype.round=function(t){df(t,"round");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var o=Math.floor(e[r]);e[r]-o<.5?n[r]=Math.floor(e[r]):e[r]-o>.5?n[r]=Math.ceil(e[r]):n[r]=o%2==0?o:o+1}return this.makeOutput(n,t.shape,"float32")},o.prototype.exp=function(t){df(t,"exp");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.exp(e[r]);return this.makeOutput(n,t.shape,"float32")},o.prototype.expm1=function(t){df(t,"expm1");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.expm1(e[r]);return this.makeOutput(n,t.shape,"float32")},o.prototype.log=function(t){df(t,"log");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var o=e[r];n[r]=Math.log(o)}return this.makeOutput(n,t.shape,"float32")},o.prototype.log1p=function(t){df(t,"log1p");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var o=e[r];n[r]=Math.log1p(o)}return this.makeOutput(n,t.shape,"float32")},o.prototype.sqrt=function(t){df(t,"sqrt");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var o=e[r];n[r]=Math.sqrt(o)}return this.makeOutput(n,t.shape,"float32")},o.prototype.rsqrt=function(t){df(t,"rsqrt");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var o=e[r];n[r]=1/Math.sqrt(o)}return this.makeOutput(n,t.shape,"float32")},o.prototype.reciprocal=function(t){df(t,"reciprocal");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=1/e[r];return this.makeOutput(n,t.shape,"float32")},o.prototype.linear=function(t){return t},o.prototype.relu=function(t){df(t,"relu");for(var e=Gn(t.shape,t.dtype),n=this.readSync(e.dataId),r=this.readSync(t.dataId),o=0;o<r.length;++o)n[o]=Math.max(0,r[o]);return e},o.prototype.relu6=function(t){df(t,"relu");for(var e=Gn(t.shape,t.dtype),n=this.readSync(e.dataId),r=this.readSync(t.dataId),o=0;o<r.length;++o)n[o]=Math.min(Math.max(0,r[o]),6);return e},o.prototype.prelu=function(t,e){return df([t,e],"prelu"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return t<0?e*t:t}))},o.prototype.elu=function(t){df(t,"elu");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var o=n[r];e[r]=o>=0?o:Math.exp(o)-1}return this.makeOutput(e,t.shape,"float32")},o.prototype.eluDer=function(t,e){df([t,e],"eluDer");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),o=this.readSync(t.dataId),a=0;a<r.length;++a){var i=r[a];n[a]=i>=1?o[a]:o[a]*(i+1)}return this.makeOutput(n,e.shape,"float32")},o.prototype.selu=function(t){df(t,"selu");for(var e=su,n=uu,r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a){var i=o[a];r[a]=i>=0?n*i:e*(Math.exp(i)-1)}return this.makeOutput(r,t.shape,"float32")},o.prototype.clip=function(t,e,n){df(t,"clip");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a){var i=o[a];r[a]=i>n?n:i<e?e:i}return this.makeOutput(r,t.shape,"float32")},o.prototype.abs=function(t){for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.abs(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.complexAbs=function(t){for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<t.size;++r){var o=n[2*r],a=n[2*r+1];e[r]=Math.hypot(o,a)}return this.makeOutput(e,t.shape,"float32")},o.prototype.int=function(t){df(t,"int");for(var e=new Int32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=n[r];return this.makeOutput(e,t.shape,"int32")},o.prototype.sigmoid=function(t){df(t,"sigmoid");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(e,t.shape,"float32")},o.prototype.softplus=function(t){df(t,"softplus");for(var e=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(t.size),r=this.readSync(t.dataId),o=0;o<r.length;++o){var a=r[o]>-e,i=r[o]<e,s=Math.exp(r[o]),u=void 0;u=i?s:a?r[o]:Math.log(1+s),n[o]=u}return this.makeOutput(n,t.shape,"float32")},o.prototype.sin=function(t){df(t,"sin");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.sin(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.cos=function(t){df(t,"cos");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.cos(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.tan=function(t){df(t,"tan");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.tan(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.asin=function(t){df(t,"asin");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.asin(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.acos=function(t){df(t,"acos");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.acos(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.atan=function(t){df(t,"atan");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.atan(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.atan2=function(t,e){return df([t,e],"atan2"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.atan2(t,e)}))},o.prototype.sinh=function(t){df(t,"sinh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.sinh(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.cosh=function(t){df(t,"cosh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.cosh(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.tanh=function(t){df(t,"tanh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=T(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.asinh=function(t){df(t,"asinh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.asinh(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.acosh=function(t){df(t,"acosh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.acosh(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.atanh=function(t){df(t,"atanh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.atanh(n[r]);return this.makeOutput(e,t.shape,"float32")},o.prototype.erf=function(t){df(t,"erf");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var o=Math.sign(n[r]),a=Math.abs(n[r]),i=1/(1+.3275911*a);e[r]=o*(1-((((1.061405429*i-1.453152027)*i+1.421413741)*i-.284496736)*i+.254829592)*i*Math.exp(-a*a))}return this.makeOutput(e,t.shape,"float32")},o.prototype.step=function(t,e){void 0===e&&(e=0),df(t,"step");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),o=0;o<r.length;++o){var a=r[o];isNaN(a)?n[o]=NaN:n[o]=a>0?1:e}return this.makeOutput(n,t.shape,"float32")},o.prototype.fusedConv2d=function(t){var e=t.input,n=t.filter,r=t.convInfo,o=t.bias,a=t.activation,i=t.preluActivationWeights,s=this.conv2d(e,n,r);return o&&(s=this.add(s,o)),a&&(s=gf(this,s,a,i)),s},o.prototype.conv2d=function(t,e,n){df([t,e],"conv2d");for(var r=n.filterHeight,o=n.filterWidth,a=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c="channelsLast"===n.dataFormat,l=er(n.outShape,t.dtype),h=t.strides[0],f=c?t.strides[1]:t.strides[2],d=c?t.strides[2]:1,p=c?1:t.strides[1],v=l.strides[0],g=c?l.strides[1]:l.strides[2],m=c?l.strides[2]:1,y=c?1:l.strides[1],x=this.readSync(t.dataId),b=this.readSync(e.dataId),w=l.values,C=0;C<n.batchSize;++C)for(var E=C*h,R=C*v,I=0;I<n.outHeight;++I)for(var k=R+I*g,S=I*n.strideHeight-u,A=0;A<r;A++){var T=S+A*a;if(!(T<0||T>=n.inHeight))for(var D=A*e.strides[0],N=E+T*f,F=0;F<n.outWidth;++F)for(var _=k+F*m,O=F*n.strideWidth-s,M=0;M<o;M++){var B=O+M*i;if(!(B<0||B>=n.inWidth))for(var P=N+B*d,L=D+M*e.strides[1],W=0;W<n.inChannels;++W){for(var U=x[P+W*p],V=0;V<n.outChannels;++V)w[_+V*y]+=U*b[L+V];L+=n.outChannels}}}return l.toTensor()},o.prototype.conv3d=function(t,e,n){for(var r=n.filterDepth,o=n.filterHeight,a=n.filterWidth,i=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,c=n.padInfo.front,l=n.padInfo.left,h=n.padInfo.top,f=er(n.outShape,t.dtype),d=this.readSync(t.dataId),p=this.readSync(e.dataId),v=f.values,g=0;g<n.batchSize;++g)for(var m=g*t.strides[0],y=g*f.strides[0],x=0;x<n.outDepth;++x)for(var b=y+x*f.strides[1],w=x*n.strideDepth-c,C=0;C<r;C++){var E=w+C*i;if(!(E<0||E>=n.inDepth))for(var R=C*e.strides[0],I=m+E*t.strides[1],k=0;k<n.outHeight;++k)for(var S=b+k*f.strides[2],A=k*n.strideHeight-h,T=0;T<o;T++){var D=A+T*s;if(!(D<0||D>=n.inHeight))for(var N=R+T*e.strides[1],F=I+D*t.strides[2],_=0;_<n.outWidth;++_)for(var O=S+_*n.outChannels,M=_*n.strideWidth-l,B=0;B<a;B++){var P=M+B*u;if(!(P<0||P>=n.inWidth))for(var L=N+B*e.strides[2],W=F+P*n.inChannels,U=L,V=0;V<n.inChannels;++V){for(var z=d[W+V],G=0;G<n.outChannels;++G)v[O+G]+=z*p[U+G];U+=n.outChannels}}}}return f.toTensor()},o.prototype.conv2dDerInput=function(t,e,n){df([t,e],"conv2dDerInput");for(var r=er(n.inShape,"float32"),o=r.values,a=this.readSync(t.dataId),i=this.readSync(e.dataId),s=e.strides,u=s[0],c=s[1],l=s[2],h=n.batchSize,f=n.filterHeight,d=n.filterWidth,p=n.inChannels,v=n.inHeight,g=n.inWidth,m=n.outChannels,y=n.outHeight,x=n.outWidth,b=n.strideHeight,w=n.strideWidth,C=n.dataFormat,E=f-1-n.padInfo.top,R=d-1-n.padInfo.left,I="channelsLast"===C,k=r.strides[0],S=I?r.strides[1]:r.strides[2],A=I?r.strides[2]:1,T=I?1:r.strides[1],D=t.strides[0],N=I?t.strides[1]:t.strides[2],F=I?t.strides[2]:1,_=I?1:t.strides[1],O=0;O<h;++O)for(var M=0;M<p;++M)for(var B=0;B<v;++B)for(var P=B-E,L=Math.max(0,Math.ceil(P/b)),W=Math.min(y,(f+P)/b),U=0;U<g;++U){for(var V=U-R,z=Math.max(0,Math.ceil(V/w)),G=Math.min(x,(d+V)/w),H=0,q=L;q<W;++q)for(var K=q*b-P,j=z;j<G;++j)for(var X=D*O+N*q+F*j,Y=u*(f-1-K)+c*(d-1-(j*w-V))+l*M,$=0;$<m;++$){H+=a[X+_*$]*i[Y+$]}o[k*O+S*B+A*U+T*M]=H}return r.toTensor()},o.prototype.conv3dDerInput=function(t,e,n){for(var r=er(n.inShape,"float32"),o=r.values,a=r.strides,i=a[0],s=a[1],u=a[2],c=a[3],l=this.readSync(t.dataId),h=t.strides,f=h[0],d=h[1],p=h[2],v=h[3],g=this.readSync(e.dataId),m=e.strides,y=m[0],x=m[1],b=m[2],w=m[3],C=n.batchSize,E=n.filterDepth,R=n.filterHeight,I=n.filterWidth,k=n.inChannels,S=n.inDepth,A=n.inHeight,T=n.inWidth,D=n.outChannels,N=n.outDepth,F=n.outHeight,_=n.outWidth,O=n.strideDepth,M=n.strideHeight,B=n.strideWidth,P=E-1-n.padInfo.front,L=R-1-n.padInfo.top,W=I-1-n.padInfo.left,U=0;U<C;++U)for(var V=0;V<k;++V)for(var z=0;z<S;++z)for(var G=z-P,H=Math.max(0,Math.ceil(G/O)),q=Math.min(N,(E+G)/O),K=0;K<A;++K)for(var j=K-L,X=Math.max(0,Math.ceil(j/M)),Y=Math.min(F,(R+j)/M),$=0;$<T;++$){for(var Q=$-W,J=Math.max(0,Math.ceil(Q/B)),Z=Math.min(_,(I+Q)/B),tt=0,et=H;et<q;++et)for(var nt=et*O-G,rt=X;rt<Y;++rt)for(var ot=rt*M-j,at=J;at<Z;++at)for(var it=f*U+d*et+p*rt+v*at,st=y*(E-1-nt)+x*(R-1-ot)+b*(I-1-(at*B-Q))+w*V,ut=0;ut<D;++ut){tt+=l[it+ut]*g[st+ut]}o[i*U+s*z+u*K+c*$+V]=tt}return r.toTensor()},o.prototype.conv2dDerFilter=function(t,e,n){df([t,e],"conv2dDerFilter");for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s="channelsLast"===n.dataFormat,u=er(n.filterShape,"float32"),c=n.padInfo.left,l=n.padInfo.top,h=this.bufferSync(t),f=this.bufferSync(e),d=0;d<a;++d)for(var p=Math.max(0,Math.ceil((l-d)/r)),v=Math.min(n.outHeight,(n.inHeight+l-d)/r),g=0;g<i;++g)for(var m=Math.max(0,Math.ceil((c-g)/o)),y=Math.min(n.outWidth,(n.inWidth+c-g)/o),x=0;x<n.inChannels;++x)for(var b=0;b<n.outChannels;++b){for(var w=0,C=0;C<n.batchSize;++C)for(var E=p;E<v;++E)for(var R=d+E*r-l,I=m;I<y;++I){var k=g+I*o-c;w+=s?h.get(C,R,k,x)*f.get(C,E,I,b):h.get(C,x,R,k)*f.get(C,b,E,I)}u.set(w,d,g,x,b)}return u.toTensor()},o.prototype.conv3dDerFilter=function(t,e,n){for(var r=n.strideDepth,o=n.strideHeight,a=n.strideWidth,i=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=er(n.filterShape,"float32"),l=c.values,h=c.strides,f=h[0],d=h[1],p=h[2],v=h[3],g=this.readSync(e.dataId),m=e.strides,y=m[0],x=m[1],b=m[2],w=m[3],C=this.readSync(t.dataId),E=t.strides,R=E[0],I=E[1],k=E[2],S=E[3],A=n.padInfo.front,T=n.padInfo.left,D=n.padInfo.top,N=0;N<i;++N)for(var F=Math.max(0,Math.ceil((A-N)/r)),_=Math.min(n.outDepth,(n.inDepth+A-N)/r),O=N*f,M=0;M<s;++M)for(var B=Math.max(0,Math.ceil((D-M)/o)),P=Math.min(n.outHeight,(n.inHeight+D-M)/o),L=M*d+O,W=0;W<u;++W)for(var U=Math.max(0,Math.ceil((T-W)/a)),V=Math.min(n.outWidth,(n.inWidth+T-W)/a),z=W*p+L,G=0;G<n.inChannels;++G)for(var H=G*v+z,q=0;q<n.outChannels;++q){for(var K=0,j=0;j<n.batchSize;++j)for(var X=j*R,Y=j*y,$=F;$<_;++$)for(var Q=(N+$*r-A)*I+X,J=$*x+Y,Z=B;Z<P;++Z)for(var tt=(M+Z*o-D)*k+Q,et=Z*b+J,nt=U;nt<V;++nt){var rt=nt*w+et;K+=C[(W+nt*a-T)*S+tt+G]*g[rt+q]}l[H+q]=K}return c.toTensor()},o.prototype.fusedDepthwiseConv2D=function(t){var e=t.input,n=t.filter,r=t.convInfo,o=t.bias,a=t.activation,i=t.preluActivationWeights,s=this.depthwiseConv2D(e,n,r);return o&&(s=this.add(s,o)),a&&(s=gf(this,s,a,i)),s},o.prototype.depthwiseConv2D=function(t,e,n){df([t,e],"depthwiseConv2D");for(var r=n.filterHeight,o=n.filterWidth,a=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,l=er(n.outShape,t.dtype),h=this.readSync(t.dataId),f=this.readSync(e.dataId),d=l.values,p=0;p<n.batchSize;++p)for(var v=p*t.strides[0],g=p*l.strides[0],m=0;m<n.outHeight;++m)for(var y=g+m*l.strides[1],x=m*n.strideHeight-s,b=0;b<r;++b){var w=x+b*a;if(!(w<0||w>=n.inHeight))for(var C=b*e.strides[0],E=v+w*t.strides[1],R=0;R<n.outWidth;++R)for(var I=y+R*l.strides[2],k=R*n.strideWidth-u,S=0;S<o;++S){var A=k+S*i;if(!(A<0||A>=n.inWidth))for(var T=C+S*e.strides[1],D=E+A*n.inChannels,N=I,F=T,_=0;_<n.inChannels;++_){for(var O=h[D+_],M=0;M<c;++M)d[N+M]+=O*f[F+M];N+=c,F+=c}}}return l.toTensor()},o.prototype.depthwiseConv2DDerInput=function(t,e,n){df([t,e],"depthwiseConv2DDerInput");for(var r=er(n.inShape,"float32"),o=r.values,a=r.strides,i=a[0],s=a[1],u=a[2],c=this.readSync(t.dataId),l=t.strides,h=l[0],f=l[1],d=l[2],p=this.readSync(e.dataId),v=e.strides,g=v[0],m=v[1],y=v[2],x=n.batchSize,b=n.filterHeight,w=n.filterWidth,C=n.inChannels,E=n.inHeight,R=n.inWidth,I=n.outChannels,k=n.outHeight,S=n.outWidth,A=n.strideHeight,T=n.strideWidth,D=b-1-n.padInfo.top,N=w-1-n.padInfo.left,F=I/C,_=0;_<x;++_)for(var O=0;O<C;++O)for(var M=0;M<E;++M)for(var B=M-D,P=Math.max(0,Math.ceil(B/A)),L=Math.min(k,(b+B)/A),W=0;W<R;++W){for(var U=W-N,V=Math.max(0,Math.ceil(U/T)),z=Math.min(S,(w+U)/T),G=0,H=P;H<L;++H)for(var q=H*A-B,K=V;K<z;++K)for(var j=h*_+f*H+d*K,X=g*(b-1-q)+m*(w-1-(K*T-U))+y*O,Y=0;Y<F;++Y){G+=c[j+(O*F+Y)]*p[X+Y]}o[i*_+s*M+u*W+O]=G}return r.toTensor()},o.prototype.depthwiseConv2DDerFilter=function(t,e,n){df([t,e],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s=er(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,l=n.outChannels/n.inChannels,h=this.bufferSync(t),f=this.bufferSync(e),d=0;d<a;++d)for(var p=Math.max(0,Math.ceil((c-d)/r)),v=Math.min(n.outHeight,(n.inHeight+c-d)/r),g=0;g<i;++g)for(var m=Math.max(0,Math.ceil((u-g)/o)),y=Math.min(n.outWidth,(n.inWidth+u-g)/o),x=0;x<n.outChannels;++x){for(var b=Math.trunc(x/l),w=x%l,C=0,E=0;E<n.batchSize;++E)for(var R=p;R<v;++R)for(var I=d+R*r-c,k=m;k<y;++k){var S=g+k*o-u;C+=h.get(E,I,S,b)*f.get(E,R,k,x)}s.set(C,d,g,b,w)}return s.toTensor()},o.prototype.tile=function(t,e){return df(t,"tile"),Va(this.bufferSync(t),e)},o.prototype.pad=function(t,e,n){df(t,"pad");var r=e.map((function(e,n){return e[0]+t.shape[n]+e[1]})),o=e.map((function(t){return t[0]})),a=this.bufferSync(t),i=er(r,t.dtype);0!==n&&i.values.fill(n);for(var s=0;s<t.size;s++){var u=a.indexToLoc(s),c=u.map((function(t,e){return t+o[e]}));i.set.apply(i,[a.get.apply(a,u)].concat(c))}return i.toTensor()},o.prototype.gather=function(t,e,n){df([t,e],"gather");var r=t.shape.slice(),o=this.readSync(e.dataId);r[n]=o.length;for(var a=er(r,t.dtype),i=this.bufferSync(t),s=0;s<a.size;++s){var u=a.indexToLoc(s),c=u.slice();c[n]=o[u[n]];var l=i.locToIndex(c);a.values[s]=i.values[l]}return a.toTensor()},o.prototype.batchToSpaceND=function(t,e,n){df([t],"batchToSpaceND");var r=e.reduce((function(t,e){return t*e})),o=pr(t.shape,e,r),a=vr(o.length,e.length),i=gr(t.shape,e,r),s=mr(n,e.length),u=yr(i,n,e.length);return ua(t.reshape(o),a).reshape(i).slice(s,u)},o.prototype.spaceToBatchND=function(t,e,n){df([t],"spaceToBatchND");var r=e.reduce((function(t,e){return t*e})),o=[[0,0]];o.push.apply(o,n);for(var a=1+e.length;a<t.shape.length;++a)o.push([0,0]);var i=t.pad(o),s=pr(i.shape,e,r,!1),u=vr(s.length,e.length,!1),c=gr(i.shape,e,r,!1);return ua(i.reshape(s),u).reshape(c)},o.prototype.maxPool=function(t,e){return df(t,"maxPool"),pf(this.readSync(t.dataId),t.shape,t.dtype,t.strides,e,"max").toTensor()},o.prototype.maxPoolBackprop=function(t,e,n,r){df([e,n],"maxPoolBackprop");for(var o=this.readSync(e.dataId),a=er(r.outShape,e.dtype,vf(o,e.shape,e.dtype,r).values),i=r.strideHeight,s=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,l=r.effectiveFilterHeight,h=r.effectiveFilterWidth,f=h-1-r.padInfo.left,d=l-1-r.padInfo.top,p=er(e.shape,"float32"),v=this.bufferSync(t),g=0;g<r.batchSize;++g)for(var m=0;m<r.inChannels;++m)for(var y=0;y<r.inHeight;++y)for(var x=0;x<r.inWidth;++x){for(var b=y-d,w=x-f,C=0,E=0;E<l;E+=u){var R=(b+E)/i;if(!(R<0||R>=r.outHeight||Math.floor(R)!==R))for(var I=0;I<h;I+=c){var k=(w+I)/s;if(!(k<0||k>=r.outWidth||Math.floor(k)!==k)){var S=l*h-1-a.get(g,R,k,m)===E*h+I?1:0;if(0!==S)C+=v.get(g,R,k,m)*S}}}p.set(C,g,y,x,m)}return p.toTensor()},o.prototype.avgPoolBackprop=function(t,e,n){df([t,e],"avgPoolBackprop");for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,c=n.effectiveFilterHeight,l=n.effectiveFilterWidth,h=l-1-n.padInfo.left,f=c-1-n.padInfo.top,d=er(e.shape,"float32"),p=1/(a*i),v=this.bufferSync(t),g=0;g<n.batchSize;++g)for(var m=0;m<n.inChannels;++m)for(var y=0;y<n.inHeight;++y)for(var x=0;x<n.inWidth;++x){for(var b=y-f,w=x-h,C=0,E=0;E<c;E+=s){var R=(b+E)/r;if(!(R<0||R>=n.outHeight||Math.floor(R)!==R))for(var I=0;I<l;I+=u){var k=(w+I)/o;if(!(k<0||k>=n.outWidth||Math.floor(k)!==k))C+=v.get(g,R,k,m)}}d.set(C*p,g,y,x,m)}return d.toTensor()},o.prototype.pool3d=function(t,e,n){df(t,"pool3d");for(var r=e.strideDepth,o=e.strideHeight,a=e.strideWidth,i=e.dilationDepth,s=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,l=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=e.padInfo.front,d=e.padInfo.top,p=e.padInfo.left,v="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(t.dataId),m=er(e.outShape,t.dtype),y=m.values,x=e.outShape[1]*e.outShape[2]*e.outShape[3]*e.outShape[4],b=e.outShape[2]*e.outShape[3]*e.outShape[4],w=e.outShape[3]*e.outShape[4],C=e.outShape[4],E=0;E<e.batchSize;++E)for(var R=E*x,I=E*t.strides[0],k=0;k<e.inChannels;++k)for(var S=0;S<e.outDepth;++S){for(var A=S*r-f,T=A;T<0;)T+=i;for(var D=Math.min(e.inDepth,c+A),N=R+S*b,F=0;F<e.outHeight;++F){for(var _=F*o-d,O=_;O<0;)O+=s;for(var M=Math.min(e.inHeight,l+_),B=N+F*w,P=0;P<e.outWidth;++P){for(var L=P*a-p,W=L;W<0;)W+=u;for(var U=Math.min(e.inWidth,h+L),V=B+P*C,z=v,G=0,H=0,q=T;q<D;q+=i){for(var K=I+q*t.strides[1],j=O;j<M;j+=s){for(var X=K+j*t.strides[2],Y=W;Y<U;Y+=u){var $=g[X+Y*t.strides[3]+k];if("max"===n&&$>z?z=$:"avg"===n&&(G+=$,H++),isNaN(z))break}if(isNaN(z))break}if(isNaN(z))break}y[V+k]="avg"===n?G/H:z}}}return m.toTensor()},o.prototype.avgPool3d=function(t,e){return df(t,"avgPool3d"),this.pool3d(t,e,"avg").toFloat()},o.prototype.avgPool3dBackprop=function(t,e,n){df([t,e],"avgPool3dBackprop");for(var r=n.strideDepth,o=n.strideHeight,a=n.strideWidth,i=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=n.dilationDepth,l=n.dilationHeight,h=n.dilationWidth,f=n.effectiveFilterDepth,d=n.effectiveFilterHeight,p=n.effectiveFilterWidth,v=f-1-n.padInfo.front,g=p-1-n.padInfo.left,m=d-1-n.padInfo.top,y=er(e.shape,"float32"),x=1/(i*s*u),b=this.bufferSync(t),w=0;w<n.batchSize;++w)for(var C=0;C<n.inChannels;++C)for(var E=0;E<n.inDepth;++E)for(var R=0;R<n.inHeight;++R)for(var I=0;I<n.inWidth;++I){for(var k=E-v,S=R-m,A=I-g,T=0,D=0;D<f;D+=c){var N=(k+D)/r;if(!(N<0||N>=n.outDepth||Math.floor(N)!==N))for(var F=0;F<d;F+=l){var _=(S+F)/o;if(!(_<0||_>=n.outHeight||Math.floor(_)!==_))for(var O=0;O<p;O+=h){var M=(A+O)/a;if(!(M<0||M>=n.outWidth||Math.floor(M)!==M))T+=b.get(w,N,_,M,C)}}}y.set(T*x,w,E,R,I,C)}return y.toTensor()},o.prototype.maxPool3d=function(t,e){return df(t,"maxPool3d"),this.pool3d(t,e,"max").toFloat()},o.prototype.maxPool3dPositions=function(t,e){for(var n=er(e.outShape,"int32"),r=e.strideDepth,o=e.strideHeight,a=e.strideWidth,i=e.dilationDepth,s=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,l=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=e.padInfo.front,d=e.padInfo.top,p=e.padInfo.left,v=this.bufferSync(t),g=0;g<e.batchSize;++g)for(var m=0;m<e.inChannels;++m)for(var y=0;y<e.outDepth;++y){for(var x=y*r-f,b=x;b<0;)b+=i;for(var w=Math.min(e.inDepth,c+x),C=0;C<e.outHeight;++C){for(var E=C*o-d,R=E;R<0;)R+=s;for(var I=Math.min(e.inHeight,l+E),k=0;k<e.outWidth;++k){for(var S=k*a-p,A=S;A<0;)A+=u;for(var T=Math.min(e.inWidth,h+S),D=Number.NEGATIVE_INFINITY,N=-1,F=b;F<w;F+=i)for(var _=F-x,O=R;O<I;O+=s)for(var M=O-E,B=A;B<T;B+=u){var P=B-S,L=v.get(g,F,O,B,m);L>=D&&(D=L,N=_*l*h+M*l+P)}n.set(N,g,y,C,k,m)}}}return n.toTensor()},o.prototype.maxPool3dBackprop=function(t,e,n,r){df([e,n],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(e,r),a=r.strideDepth,i=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,l=r.dilationWidth,h=r.effectiveFilterDepth,f=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=h-1-r.padInfo.front,v=d-1-r.padInfo.left,g=f-1-r.padInfo.top,m=er(e.shape,"float32"),y=this.bufferSync(o),x=this.bufferSync(t),b=0;b<r.batchSize;++b)for(var w=0;w<r.inChannels;++w)for(var C=0;C<r.inDepth;++C)for(var E=0;E<r.inHeight;++E)for(var R=0;R<r.inWidth;++R){for(var I=C-p,k=E-g,S=R-v,A=0,T=0;T<h;T+=u){var D=(I+T)/a;if(!(D<0||D>=r.outDepth||Math.floor(D)!==D))for(var N=0;N<f;N+=c){var F=(k+N)/i;if(!(F<0||F>=r.outHeight||Math.floor(F)!==F))for(var _=0;_<d;_+=l){var O=(S+_)/s;if(!(O<0||O>=r.outWidth||Math.floor(O)!==O)){var M=h*f*d-1-y.get(b,D,F,O,w)===T*f*d+N*d+_?1:0;if(0!==M)A+=x.get(b,D,F,O,w)*M}}}}m.set(A,b,C,E,R,w)}return m.toTensor()},o.prototype.cast=function(t,e){return Ra(t,e,this)},o.prototype.reshape=function(t,e){return Ia(t,e)},o.prototype.avgPool=function(t,e){return df(t,"avgPool"),df(t,"maxPool"),pf(this.readSync(t.dataId),t.shape,t.dtype,t.strides,e,"avg").toTensor().toFloat()},o.prototype.resizeBilinear=function(t,e,n,r){df(t,"resizeBilinear");for(var o=t.shape,a=o[0],i=o[1],s=o[2],u=o[3],c=this.readSync(t.dataId),l=new Float32Array(k([a,e,n,u])),h=[r&&e>1?i-1:i,r&&n>1?s-1:s],f=[r&&e>1?e-1:e,r&&n>1?n-1:n],d=0,p=h[0]/f[0],v=h[1]/f[1],g=0;g<a;g++)for(var m=0;m<e;m++)for(var y=p*m,x=Math.floor(y),b=y-x,w=Math.min(i-1,Math.ceil(y)),C=g*t.strides[0]+x*t.strides[1],E=g*t.strides[0]+w*t.strides[1],R=0;R<n;R++)for(var I=v*R,S=Math.floor(I),A=I-S,T=Math.min(s-1,Math.ceil(I)),D=C+S*t.strides[2],N=E+S*t.strides[2],F=C+T*t.strides[2],_=E+T*t.strides[2],O=0;O<u;O++){var M=c[D+O],B=c[N+O],P=M+(c[F+O]-M)*A,L=P+(B+(c[_+O]-B)*A-P)*b;l[d++]=L}return Fn(l,[a,e,n,u])},o.prototype.resizeBilinearBackprop=function(t,e,n){df([t,e],"resizeBilinearBackprop");for(var r=e.shape,o=r[0],a=r[1],i=r[2],s=r[3],u=t.shape,c=u[1],l=u[2],h=new Float32Array(o*a*i*s),f=[n&&c>1?a-1:a,n&&l>1?i-1:i],d=[n&&c>1?c-1:c,n&&l>1?l-1:l],p=f[0]/d[0],v=f[1]/d[1],g=this.readSync(t.dataId),m=0,y=0;y<o;y++)for(var x=y*e.strides[0],b=0;b<c;b++)for(var w=b*p,C=Math.floor(w),E=Math.min(Math.ceil(w),a-1),R=x+C*e.strides[1],I=x+E*e.strides[1],k=w-C,S=1-k,A=0;A<l;A++)for(var T=A*v,D=Math.floor(T),N=Math.min(Math.ceil(T),i-1),F=T-D,_=1-F,O=R+D*e.strides[2],M=R+N*e.strides[2],B=I+D*e.strides[2],P=I+N*e.strides[2],L=S*_,W=S*F,U=k*_,V=k*F,z=0;z<s;z++){var G=g[m++];h[O+z]+=G*L,h[M+z]+=G*W,h[B+z]+=G*U,h[P+z]+=G*V}return Ln(h,[o,i,a,s],e.dtype)},o.prototype.resizeNearestNeighbor=function(t,e,n,r){df(t,"resizeNearestNeighbor");for(var o=t.shape,a=o[0],i=o[1],s=o[2],u=o[3],c=this.readSync(t.dataId),l=new Float32Array(a*e*n*u),h=[r&&e>1?i-1:i,r&&n>1?s-1:s],f=[r&&e>1?e-1:e,r&&n>1?n-1:n],d=h[0]/f[0],p=h[1]/f[1],v=0,g=0;g<a;g++)for(var m=g*t.strides[0],y=0;y<e;y++)for(var x=d*y,b=m+Math.min(i-1,r?Math.round(x):Math.floor(x))*t.strides[1],w=0;w<n;w++)for(var C=p*w,E=b+Math.min(s-1,r?Math.round(C):Math.floor(C))*t.strides[2],R=0;R<u;R++){var I=c[E+R];l[v++]=I}return Fn(l,[a,e,n,u],t.dtype)},o.prototype.resizeNearestNeighborBackprop=function(t,e,n){df([t,e],"resizeNearestNeighborBackprop");for(var r=e.shape,o=r[0],a=r[1],i=r[2],s=r[3],u=t.shape,c=u[1],l=u[2],h=new Float32Array(o*a*i*s),f=this.readSync(t.dataId),d=[n&&c>1?a-1:a,n&&l>1?i-1:i],p=[n&&c>1?c-1:c,n&&l>1?l-1:l],v=d[0]/p[0],g=d[1]/p[1],m=1/v,y=1/g,x=2*Math.ceil(m)+2,b=2*Math.ceil(y)+2,w=0;w<o;w++)for(var C=w*e.strides[0],E=0;E<a;E++)for(var R=C+E*e.strides[1],I=Math.floor(E*m),k=Math.floor(I-x/2),S=0;S<i;S++)for(var A=R+S*e.strides[2],T=Math.floor(S*y),D=Math.floor(T-b/2),N=0;N<s;N++){for(var F=0,_=0;_<x;_++){var O=_+k;if(!(O<0||O>=c)){var M=C+O*t.strides[1],B=O*v;if(E===Math.min(a-1,n?Math.round(B):Math.floor(B)))for(var P=0;P<b;P++){var L=P+D;if(!(L<0||L>=l)){var W=M+L*t.strides[2],U=L*g;S===Math.min(i-1,n?Math.round(U):Math.floor(U))&&(F+=f[W+N])}}}}h[A+N]=F}return Ln(h,e.shape,e.dtype)},o.prototype.batchNormalization=function(t,e,n,r,o,a){df([t,e,n,o,a],"batchNorm");for(var i=this.readSync(t.dataId),s=this.readSync(e.dataId),u=this.readSync(n.dataId),c=o?this.readSync(o.dataId):new Float32Array([1]),l=a?this.readSync(a.dataId):new Float32Array([0]),h=new Float32Array(i.length),f=l.length,d=c.length,p=u.length,v=s.length,g=0,m=0,y=0,x=0,b=0;b<i.length;++b)h[b]=l[g++]+(i[b]-s[m++])*c[y++]/Math.sqrt(u[x++]+r),g>=f&&(g=0),m>=v&&(m=0),y>=d&&(y=0),x>=p&&(x=0);return Ln(h,t.shape)},o.prototype.localResponseNormalization4D=function(t,e,n,r,o){df(t,"localResponseNormalization4D");var a=t.shape[3],i=a-1,s=this.readSync(t.dataId),u=t.size,c=new Float32Array(u);function l(t){for(var n=t%a,r=t-n+Math.max(0,n-e),o=t-n+Math.min(n+e,i),u=0;r<=o;r++){var c=s[r];u+=c*c}return u}for(var h=0;h<u;h++){var f=l(h),d=s[h]*Math.pow(n+r*f,-o);c[h]=d}return Ln(c,t.shape)},o.prototype.LRNGrad=function(t,e,n,r,o,a,i){df(t,"LRNGrad");for(var s=t.shape[3],u=this.readSync(t.dataId),c=this.readSync(e.dataId),l=this.readSync(n.dataId),h=new Float32Array(t.size),f=t.size,d=0;d<f;d++){for(var p=d%s,v=d-p+Math.max(0,p-r),g=d-p+Math.min(s,p+r+1),m=0,y=v;y<g;y++)m+=Math.pow(c[y],2);m=a*m+o;for(y=v;y<g;y++){var x=-2*a*i*c[y]*l[d]/m;d===y&&(x+=Math.pow(m,-i)),x*=u[d],h[y]+=x}}return Ln(h,t.shape)},o.prototype.multinomial=function(t,e,n,r){df(t,"multinomial");for(var o=e?t:ia(t),a=o.shape[0],i=o.shape[1],s=Gn([a,n],"int32"),u=this.readSync(s.dataId),c=this.readSync(o.dataId),l=0;l<a;++l){var h=l*i,f=new Float32Array(i-1);f[0]=c[h];for(var d=1;d<f.length;++d)f[d]=f[d-1]+c[h+d];for(var p=Yu(r.toString()),v=l*n,g=0;g<n;++g){var m=p();u[v+g]=f.length;for(var y=0;y<f.length;y++)if(m<f[y]){u[v+g]=y;break}}}return s},o.prototype.oneHot=function(t,e,n,r){df(t,"oneHot");var o=new Float32Array(t.size*e);o.fill(r);for(var a=this.readSync(t.dataId),i=0;i<t.size;++i)a[i]>=0&&a[i]<e&&(o[i*e+a[i]]=n);return Bn(o,[t.size,e],"int32")},o.prototype.nonMaxSuppression=function(t,e,n,r,o){return df(t,"nonMaxSuppression"),Oa(this.readSync(t.dataId),this.readSync(e.dataId),n,r,o)},o.prototype.fft=function(t){return this.fftBatch(t,!1)},o.prototype.ifft=function(t){return this.fftBatch(t,!0)},o.prototype.fftBatch=function(t,e){for(var n=t.shape[0],r=t.shape[1],o=er(t.shape,"float32"),a=er(t.shape,"float32"),i=Dn(t).as2D(n,r),s=Nn(t).as2D(n,r),u=0;u<n;u++)for(var c=i.slice([u,0],[1,r]),l=s.slice([u,0],[1,r]),h=Tn(c,l),f=this.readSync(this.fftImpl(h,e).dataId),d=0;d<r;d++){var p=Ta(f,d);o.values[u*r+d]=p.real,a.values[u*r+d]=p.imag}return Tn(o.toTensor(),a.toTensor()).as2D(n,r)},o.prototype.fftImpl=function(t,e){var n=t.as1D(),r=n.size;if(this.isExponentOf2(r)){var o=this.fftRadix2(n,r,e).as2D(t.shape[0],t.shape[1]);return e&&(o=Tn(Dn(o).div(On(r)),Nn(o).div(On(r)))),o}var a=this.readSync(t.dataId),i=function(t){for(var e=new Float32Array(t.length/2),n=new Float32Array(t.length/2),r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}(this.fourierTransformByMatmul(a,r,e));return Tn(i.real,i.imag).as2D(t.shape[0],t.shape[1])},o.prototype.isExponentOf2=function(t){return 0==(t&t-1)},o.prototype.fftRadix2=function(t,e,n){if(1===e)return t;var r=this.readSync(t.dataId),o=e/2,a=function(t){for(var e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e),o=0;o<t.length;o+=4)n[Math.floor(o/4)]=t[o],r[Math.floor(o/4)]=t[o+1];return{real:n,imag:r}}(r),i=Tn(a.real,a.imag).as1D(),s=function(t){for(var e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e),o=2;o<t.length;o+=4)n[Math.floor(o/4)]=t[o],r[Math.floor(o/4)]=t[o+1];return{real:n,imag:r}}(r),u=Tn(s.real,s.imag).as1D();i=this.fftRadix2(i,o,n),u=this.fftRadix2(u,o,n);var c=function(t,e){for(var n=new Float32Array(t/2),r=new Float32Array(t/2),o=0;o<Math.ceil(t/2);o++){var a=(e?2:-2)*Math.PI*(o/t);n[o]=Math.cos(a),r[o]=Math.sin(a)}return{real:n,imag:r}}(e,n),l=Tn(c.real,c.imag).mul(u),h=i.add(l),f=i.sub(l),d=Dn(h).concat(Dn(f)),p=Nn(h).concat(Nn(f));return Tn(d,p).as1D()},o.prototype.fourierTransformByMatmul=function(t,e,n){for(var r=new Float32Array(2*e),o=0;o<e;o++){for(var a=0,i=0,s=0;s<e;s++){var u=Na(o*s,e,n),c=Ta(t,s);a+=c.real*u.real-c.imag*u.imag,i+=c.real*u.imag+c.imag*u.real}n&&(a/=e,i/=e),Da(r,a,i,o)}return r},o.prototype.depthToSpace=function(t,e,n){C("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n})),C(e>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+e}));for(var r=t.shape[0],o=t.shape[1],a=t.shape[2],i=t.shape[3],s=o*e,u=a*e,c=i/(e*e),l=this.readSync(t.dataId),h=new Float32Array(r*s*u*c),f=0,d=0;d<r;++d)for(var p=0;p<s;++p)for(var v=Math.floor(p/e),g=p%e,m=0;m<u;++m)for(var y=Math.floor(m/e),x=(g*e+m%e)*c,b=0;b<c;++b){var w=b+x+i*(y+a*(v+o*d));h[f++]=l[w]}return Ln(h,[r,s,u,c])},o.prototype.broadcastedBinaryOp=function(t,e,n,r){var o=Pr(t.shape,e.shape),a=er(o,n),i=this.readSync(t.dataId),s=this.readSync(e.dataId),u=Mr(t.shape,o),c=Mr(e.shape,o),l=a.values;if(u.length+c.length===0)for(var h=0;h<l.length;++h)l[h]=r(i[h%i.length],s[h%s.length]);else{var f=this.bufferSync(t),d=this.bufferSync(e),p=function(n){var o=a.indexToLoc(n),h=o.slice(-t.rank);u.forEach((function(t){return h[t]=0}));var p=f.locToIndex(h),v=o.slice(-e.rank);c.forEach((function(t){return v[t]=0}));var g=d.locToIndex(v);l[n]=r(i[p],s[g])};for(h=0;h<l.length;++h)p(h)}return a.toTensor()},o.prototype.broadcastedBinaryComplexOp=function(t,e,n){var r=Pr(t.shape,e.shape),o=er(r,"float32"),a=er(r,"float32"),i=this.readSync(t.dataId),s=this.readSync(e.dataId),u=Mr(t.shape,r),c=Mr(e.shape,r),l=o.values,h=a.values;if(u.length+c.length===0)for(var f=0;f<l.length;f++){var d=f%i.length,p=f%s.length,v=n(i[2*d],i[2*d+1],s[2*p],s[2*p+1]);l[f]=v.real,h[f]=v.imag}else{var g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),m=this.bufferSync(this.data.get(e.dataId).complexTensors.real),y=function(r){var a=o.indexToLoc(r),f=a.slice(-t.rank);u.forEach((function(t){return f[t]=0}));var d=g.locToIndex(f),p=a.slice(-e.rank);c.forEach((function(t){return p[t]=0}));var v=m.locToIndex(p),y=n(i[2*d],i[2*d+1],s[2*v],s[2*v+1]);l[r]=y.real,h[r]=y.imag};for(f=0;f<l.length;f++)y(f)}return this.complex(o.toTensor(),a.toTensor())},o.prototype.split=function(t,e,n){return Ua(t,e,n)},o.prototype.dispose=function(){},o.prototype.floatPrecision=function(){return 32},o.prototype.epsilon=function(){return 1e-7},o.prototype.cropAndResize=function(t,e,n,r,o,a){for(var i=t.shape,s=i[0],u=i[1],c=i[2],l=i[3],h=e.shape[0],f=r[0],d=r[1],p=er([h,f,d,l],"float32"),v=this.readSync(e.dataId),g=this.readSync(n.dataId),m=this.readSync(t.dataId),y=t.strides,x=p.strides,b=0;b<h;b++){var w=4*b,C=v[w],E=v[w+1],R=v[w+2],I=v[w+3],k=g[b];if(!(k>=s))for(var S=f>1?(R-C)*(u-1)/(f-1):0,A=d>1?(I-E)*(c-1)/(d-1):0,T=0;T<f;T++){var D=f>1?C*(u-1)+T*S:.5*(C+R)*(u-1);if(D<0||D>u-1)for(var N=0;N<d;N++)for(var F=0;F<l;F++){var _=F+N*x[2]+T*x[1]+b*x[0];p.values[_]=a}else if("bilinear"===o){var O=Math.floor(D),M=Math.ceil(D),B=D-O;for(N=0;N<d;N++){if((q=d>1?E*(c-1)+N*A:.5*(E+I)*(c-1))<0||q>c-1)for(F=0;F<l;F++){_=F+N*x[2]+T*x[1]+b*x[0];p.values[_]=a}else{var P=Math.floor(q),L=Math.ceil(q),W=q-P;for(F=0;F<l;F++){var U=m[_=F+P*y[2]+O*y[1]+k*y[0]],V=m[_=F+L*y[2]+O*y[1]+k*y[0]],z=m[_=F+P*y[2]+M*y[1]+k*y[0]],G=U+(V-U)*W,H=z+(m[_=F+L*y[2]+M*y[1]+k*y[0]]-z)*W;_=F+N*x[2]+T*x[1]+b*x[0],p.values[_]=G+(H-G)*B}}}}else for(N=0;N<d;++N){var q;if((q=d>1?E*(c-1)+N*A:.5*(E+I)*(c-1))<0||q>c-1)for(F=0;F<l;F++){_=F+N*x[2]+T*x[1]+b*x[0];p.values[_]=a}else{var K=Math.round(q),j=Math.round(D);for(F=0;F<l;F++){var X=F+K*y[2]+j*y[1]+k*y[0],Y=F+N*x[2]+T*x[1]+b*x[0];p.values[Y]=m[X]}}}}}return p.toTensor()},o.prototype.sparseToDense=function(t,e,n,r){var o=Go(0,t,n),a=o.sliceRank,i=o.numUpdates,s=o.sliceSize,u=o.strides,c=o.outputSize;return this.scatter(t,e,n,c,s,i,a,u,r,!1)},o.prototype.gatherND=function(t,e){var n=e.shape,r=n[n.length-1],o=Po(t,e),a=o[0],i=o[1],s=o[2],u=o[3];if(0===i)return Fn([],a,t.dtype);for(var c=new mt([i,s],t.dtype),l=this.readSync(e.dataId),h=this.readSync(t.dataId),f=0;f<i;f++){for(var d=[],p=0,v=0;v<r;v++){var g=l[f*r+v];p+=g*u[v],d.push(g)}if(p<0||p>=t.size/s)throw new Error("Invalid indices: "+d+" does not index into "+t.shape);for(var m=0;m<s;m++)c.values[f*s+m]=h[p*s+m]}return c.toTensor().reshape(a)},o.prototype.scatterND=function(t,e,n){var r=Go(0,t,n),o=r.sliceRank,a=r.numUpdates,i=r.sliceSize,s=r.strides,u=r.outputSize,c=On(0);return this.scatter(t,e,n,u,i,a,o,s,c,!0)},o.prototype.fill=function(t,e,n){var r=P(n=n||j(e),k(t));return r.fill(e),Lt.makeTensor(r,t,n,this)},o.prototype.onesLike=function(t){if("string"===t.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(t.shape,1,t.dtype)},o.prototype.zerosLike=function(t){var e=P(t.dtype,k(t.shape));return this.makeOutput(e,t.shape,t.dtype)},o.prototype.linspace=function(t,e,n){return ka(t,e,n)},o.prototype.scatter=function(t,e,n,r,o,a,i,s,u,c){var l=[r/o,o],h=this.readSync(t.dataId),f=this.readSync(e.dataId);if(0===r)return Fn([],n,e.dtype);var d=new mt(l,e.dtype);d.values.fill(this.readSync(u.dataId)[0]);for(var p=0;p<a;p++){for(var v=[],g=0,m=0;m<i;m++){var y=h[p*i+m];v.push(y),g+=y*s[m]}if(g<0||g>=r/o)throw new Error("Invalid indices: "+v+" does not index into "+n);for(var x=0;x<o;x++)c?d.values[g*o+x]+=f[p*o+x]:d.values[g*o+x]=0===e.rank?f[0]:f[p*o+x]}return d.toTensor().reshape(n)},o}(la);function yf(t,e){return{kernelName:t,backendName:"cpu",kernelFunc:function(n){var r=n.inputs,o=n.backend,a=r,i=a.a,s=a.b,u=o;df([i,s],t);var c=u.data.get(i.dataId).values,l=u.data.get(s.dataId).values,h=e(i.shape,s.shape,c,l,i.dtype),f=h[0],d=h[1];return{dataId:u.write(f,d,i.dtype),shape:d,dtype:i.dtype}}}}function xf(t){return function(e,n,r,o,a){var i=Pr(e,n),s=i.length,u=$(i),c=B(a,k(i)),l=e.length,h=n.length,f=$(e),d=$(n),p=Mr(e,i),v=Mr(n,i);if(p.length+v.length===0)for(var g=0;g<c.length;++g)c[g]=t(r[g%r.length],o[g%o.length]);else{var m=function(e){var n=it(e,s,u),a=n.slice(-l);p.forEach((function(t){return a[t]=0}));var i=at(a,l,f),g=n.slice(-h);v.forEach((function(t){return g[t]=0}));var m=at(g,h,d);c[e]=t(r[i],o[m])};for(g=0;g<c.length;++g)m(g)}return[c,i]}}Lt.registerBackend("cpu",(function(){return new mf}),1);var bf=xf((function(t,e){return t/e})),wf=yf(wr,bf);var Cf={kernelName:"MaxPoolWithArgmax",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.attrs,r=t.backend,o=e.x,a=n,i=a.filterSize,s=a.strides,u=a.pad,c=a.includeBatchInIndex,l=r;df(o,"MaxPoolWithArgmax");var h=l.data.get(o.dataId).values,f=fa(o.shape,i,s,[1,1],u),d=function(t,e,n,r,o){var a=pf(t,0,n,$(e),o,"max"),i=vf(t,e,n,o,!0,r);return[a.values,i.values]}(h,o.shape,o.dtype,c,f),p=d[0],v=d[1],g=l.write(p,f.outShape,o.dtype),m=l.write(v,f.outShape,o.dtype);return[{dataId:g,shape:f.outShape,dtype:o.dtype},{dataId:m,shape:f.outShape,dtype:"int32"}]}},Ef={kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,o=e,a=o.boxes,i=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,h=s.softNmsSigma,f=n;df(a,"NonMaxSuppressionWithScore");var d=Ma(f.data.get(a.dataId).values,f.data.get(i.dataId).values,u,c,l,h);return[d.selectedIndices,d.selectedScores]}},Rf={kernelName:"Square",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,o=n;df(r,"square");for(var a=o.data.get(r.dataId).values,i=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];i[s]=u*u}return{dataId:o.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},If=xf((function(t,e){var n=t-e;return n*n}));function kf(t,e,n,r,o){for(var a=k(e),i=e.length,s=$(e),u=$(o),c=B(n,k(o)),l=0;l<a;++l){for(var h=it(l,i,s),f=new Array(h.length),d=0;d<f.length;d++)f[d]=h[r[d]];c[at(f,i,u)]=t[l]}return c}for(var Sf=0,Af=[Ef,Rf,yf(Er,If),wf,{kernelName:"Transpose",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.attrs,r=t.backend,o=e.x,a=n.perm,i=r;df(o,"transpose");for(var s=o.shape.length,u=new Array(s),c=0;c<u.length;c++)u[c]=o.shape[a[c]];var l=kf(i.data.get(o.dataId).values,o.shape,o.dtype,a,u);return{dataId:i.write(l,u,o.dtype),shape:u,dtype:o.dtype}}},Cf];Sf<Af.length;Sf++){d(Af[Sf])}var Tf,Df=function(t){this.variableNames=["A"];var e=Ya(),n=t[0],r=t[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+e.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Nf=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var e=Ya(),n=t[0],r=t[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+e.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+e.output+" = result;\n      }\n    "};var Ff=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];this.outputShape=n,this.rank=n.length;var o=ui(this.rank),a=function(t){var e=t.length;if(e>6)throw Error("Transpose for rank "+e+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e),o=0;o<t.length;o++)r[t[o]]=n[o];return r.join()}(e);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+a+"));\n    }\n    "};var _f=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=ui(this.rank),a=ja("rc",this.rank),i=new Array(this.rank);for(r=0;r<e.length;r++)i[e[r]]=a[r];var s="vec2("+i.slice(-2).join()+")",u="++"+a[this.rank-1]+" < "+n[this.rank-1],c="getChannel(getA("+i.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+o+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+c+";\n      if("+u+") {\n        result[1] = "+c+";\n      }\n      --"+a[this.rank-1]+";\n      if(++"+a[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+c+";\n        if("+u+") {\n          result[3] = "+c+";\n        }\n      }\n      setOutput(result);\n    }\n    "};for(var Of=0,Mf=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,o=e.pixels,a=r.numChannels,s="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,u="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,c=s?[o.videoWidth,o.videoHeight]:[o.width,o.height],l=c[0],h=c[1],f=[h,l],d=[h,l,a];(u||s)&&(null==Tf&&(Tf=document.createElement("canvas").getContext("2d")),Tf.canvas.width=l,Tf.canvas.height=h,Tf.drawImage(o,0,0,l,h),o=Tf.canvas);var p=n.makeTensorInfo(f,"int32");n.texData.get(p.dataId).usage=zt.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),o);var v=i().getBool("WEBGL_PACK")?new Nf(d):new Df(d),g=n.runWebGLProgram(v,[p],"int32");return n.disposeData(p.dataId),g}},{kernelName:wr,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e;return function(t,e,n){var r=new Ri(Ci,t.shape,e.shape);return i().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&(r=new Si(Ii,t.shape,e.shape,!0)),n.runWebGLProgram(r,[t,e],"float32")}(r.a,r.b,n)}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs;dn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=e,a=o.boxes,i=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,h=s.softNmsSigma,f=n,d=Ma(f.readSync(a.dataId),f.readSync(i.dataId),u,c,l,h);return[d.selectedIndices,d.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,o=n,a=new cu(r.shape,"return x * x;");return o.runWebGLProgram(a,[r],r.dtype)}},{kernelName:Er,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,o=r.a,a=r.b,s=n,u=i().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Si("return (a - b) * (a - b);",o.shape,a.shape):new Ri("return (a - b) * (a - b);",o.shape,a.shape);return s.compileAndRun(u,[o,a])}},{kernelName:"Transpose",backendName:"webgl",kernelFunc:function(t){for(var e,n=t.inputs,r=t.attrs,o=t.backend,a=n.x,s=r.perm,u=o,c=a.shape.length,l=new Array(c),h=0;h<l.length;h++)l[h]=a.shape[s[h]];if(u.shouldExecuteOnCPU([a])){var f=kf(u.texData.get(a.dataId).values,a.shape,a.dtype,s,l);e=u.makeTensorInfo(l,a.dtype),u.texData.get(e.dataId).values=f}else e=function(t,e,n){var r=i().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _f(t.shape,e):new Ff(t.shape,e);return n.runWebGLProgram(r,[t],t.dtype)}(a,s,u);return e}},{kernelName:"MaxPoolWithArgmax",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.attrs,r=t.backend,o=e.x,a=n,i=a.filterSize,s=a.strides,u=a.pad,c=a.includeBatchInIndex,l=r;C(4===o.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank "+o.shape.length+"."}));var h=[1,1];C(Ca(s,h),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+s+" and dilations '"+h+"'"}));var f=fa(o.shape,i,s,h,u),d=function(t,e,n,r){var o=new Ws(n,"max",!1),a=r.runWebGLProgram(o,[t],"float32");return o=new Ws(n,"max",!0,!0,e),[a,r.runWebGLProgram(o,[t],"float32")]}(o,c,f,l);return[d[0],d[1]]}}];Of<Mf.length;Of++){d(Mf[Of])}for(var Bf=0,Pf=[{kernelName:xr,inputsToSave:["a","b"],gradFunc:function(t,e){var n=e[0],r=e[1],o=Pr(n.shape,r.shape);return{a:function(){var e=t,r=Br(n.shape,o);return r.length>0&&(e=e.sum(r)),e.reshape(n.shape)},b:function(){var e=t,n=Br(r.shape,o);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)}}}},{kernelName:"AddN",saveAllInputs:!0,gradFunc:function(t,e){var n={};return e.forEach((function(e,r){n[r]=function(){return t.clone()}})),n}},{kernelName:Sr,gradFunc:function(t,e,n){for(var r=n,o=r.inputShape,a=r.shape,i=Array.from(a),s=o.length-1;s>=0;s--)if(o[s]===a[s])i[s]=1;else if(1!==o[s])throw new Error("broadcastTo(): ["+o+"] cannot be broadcast to ["+a+"].");var u=[];for(s=0;s<i.length;s++)i[s]>1&&u.push(s);return{x:function(){return t.sum(u,!0)}}}},{kernelName:wr,inputsToSave:["a","b"],gradFunc:function(t,e){var n=e[0],r=e[1],o=Pr(n.shape,r.shape);return{a:function(){var e=Bo(t,r.toFloat()),a=Br(n.shape,o);return a.length>0?th(e,a).reshape(n.shape):e},b:function(){var e=t.mul(n.toFloat()),a=Br(r.shape,o);a.length>0&&(e=th(e,a).reshape(r.shape));var i=Gc(r);return no(Bo(e,i.toFloat()))}}}},{kernelName:"FusedBatchNorm",inputsToSave:["x","mean","variance","scale"],gradFunc:function(t,e,n){var r=n.varianceEpsilon,o=e[0],a=e[1],i=e[2],s=e[3],u=Ju(o),c=null==s?On(1):s,l=Br(a.shape,u.shape),h=[];if(1===a.rank){for(var f=0;f<u.shape.length-1;++f)h.push(u.shape[f]);h.push(1)}var d=Oo(o,a),p=To(t,c),v=ao(Or(i,On(r))),g=To(To(To(v,v),v),On(-.5));return{x:function(){return 1===a.rank?ur(To(To(t,wc(v.as4D(1,1,1,a.shape[0]),h)),c),o.shape):ur(To(To(t,v),c),o.shape)},mean:function(){var t=To(To(v,On(-1)),p);return 1===a.rank&&(t=th(t,l)),ur(t,a.shape)},variance:function(){var t=To(To(g,d),p);return 1===a.rank&&(t=th(t,l)),ur(t,a.shape)},scale:function(){var e=To(d,v),n=To(t,e);return 1===a.rank&&(n=th(n,l)),ur(n,a.shape)},offset:function(){var e=t;return 1===a.rank&&(e=th(e,l)),ur(e,a.shape)}}}},{kernelName:Tr,gradFunc:function(t){return{x:function(){return t.toFloat()}}}},{kernelName:Ar,inputsToSave:["indices"],gradFunc:function(t,e){var n=e[0];return{indices:function(){return Gn(n.shape,"float32")}}}},{kernelName:Nr,inputsToSave:["x"],gradFunc:function(t,e,n){var r=e[0],o=n.paddings.map((function(t){return t[0]}));return{x:function(){return t.slice(o,r.shape)}}}},{kernelName:"Square",inputsToSave:["x"],gradFunc:function(t,e){var n=e[0];return{x:function(){return t.mul(n.toFloat().mul(2))}}}},{kernelName:Er,inputsToSave:["a","b"],gradFunc:function(t,e){var n=e[0],r=e[1],o=On(2);return{a:function(){return To(t,To(o,Oo(n,r)))},b:function(){return To(t,To(o,Oo(r,n)))}}}},{kernelName:Dr,inputsToSave:["x"],gradFunc:function(t,e,n){var r=e[0],o=n.reps;return{x:function(){var e=Xn(r);if(1===r.rank)for(var n=0;n<o[0];++n)e=e.add(t.slice([n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(n=0;n<o[0];++n)for(var a=0;a<o[1];++a)e=e.add(t.slice([n*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(n=0;n<o[0];++n)for(a=0;a<o[1];++a)for(var i=0;i<o[2];++i)e=e.add(t.slice([n*r.shape[0],a*r.shape[1],i*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(n=0;n<o[0];++n)for(a=0;a<o[1];++a)for(i=0;i<o[2];++i)for(var s=0;s<o[3];++s)e=e.add(t.slice([n*r.shape[0],a*r.shape[1],i*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return e}}}},{kernelName:"Transpose",gradFunc:function(t,e,n){var r=Rn(n.perm);return{x:function(){return ua(t,r)}}}}];Bf<Pf.length;Bf++){p(Pf[Bf])}var Lf=function(){function t(){}return t.prototype.fetch=function(t,e){return fetch(t,e)},t.prototype.now=function(){return performance.now()},t.prototype.encode=function(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Browser's encoder only supports utf-8, but got "+e);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},t.prototype.decode=function(t,e){return new TextDecoder(e).decode(t)},t}();i().get("IS_BROWSER")&&i().setPlatform("browser",new Lf);var Wf,Uf=function(){return __webpack_require__(/*! node-fetch */ 1)},Vf=function(){function t(){this.util=__webpack_require__(/*! util */ 2),this.textEncoder=new this.util.TextEncoder}return t.prototype.fetch=function(t,e){return null!=i().global.fetch?i().global.fetch(t,e):(null==Wf&&(Wf=Uf()),Wf(t,e))},t.prototype.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},t.prototype.encode=function(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Node built-in encoder only supports utf-8, but got "+e);return this.textEncoder.encode(t)},t.prototype.decode=function(t,e){return 0===t.length?"":new this.util.TextDecoder(e).decode(t)},t}();i().get("IS_NODE")&&i().setPlatform("node",new Vf);var zf={float32:4,int32:4,uint16:2,uint8:1,bool:1},Gf=4;function Hf(t,e){for(var n={},r=0,o=function(e){var o=e.name,a=e.dtype,i=e.shape,s=k(i),u=void 0;if("quantization"in e){var c=e.quantization;if("uint8"!==c.dtype&&"uint16"!==c.dtype)throw new Error("Weight "+e.name+" has unknown quantization dtype "+c.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var l=zf[c.dtype],h=t.slice(r,r+s*l),f="uint8"===c.dtype?new Uint8Array(h):new Uint16Array(h);if("float32"===a)u=Float32Array.from(f,(function(t){return t*c.scale+c.min}));else{if("int32"!==a)throw new Error("Unsupported dtype in weight '"+o+"': "+a);u=Int32Array.from(f,(function(t){return Math.round(t*c.scale+c.min)}))}r+=s*l}else if("string"===a){var d=k(e.shape);u=[];for(var p=0;p<d;p++){var v=new Uint32Array(t.slice(r,r+Gf))[0];r+=Gf;var g=new Uint8Array(t.slice(r,r+v));u.push(g),r+=v}}else{var m=zf[a];h=t.slice(r,r+s*m);if("float32"===a)u=new Float32Array(h);else if("int32"===a)u=new Int32Array(h);else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+o+"': "+a);u=new Uint8Array(h)}r+=s*m}n[o]=Fn(u,i,a)},a=0,i=e;a<i.length;a++){o(i[a])}return n}function qf(t){if(null===t)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0,n=[];t.forEach((function(t){if(e+=t.byteLength,n.push(t.byteLength===t.buffer.byteLength?t:new t.constructor(t)),!(t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+t.constructor.name)}));var r=new Uint8Array(e),o=0;return n.forEach((function(t){r.set(new Uint8Array(t.buffer),o),o+=t.byteLength})),r.buffer}var Kf="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function jf(t){return Kf?Buffer.byteLength(t):new Blob([t]).size}function Xf(t){var e=0;t.forEach((function(t){e+=t.byteLength}));var n=new Uint8Array(e),r=0;return t.forEach((function(t){n.set(new Uint8Array(t),r),r+=t.byteLength})),n.buffer}function Yf(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var e=t.split("/");return e[e.length-1]}function $f(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:jf(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:jf(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}var Qf=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e,n){return t.getHandlers(e,"load",n)},t.getHandlers=function(e,n,r){var o=[];return("load"===n?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach((function(t){var n=t(e,r);null!==n&&o.push(n)})),o},t}(),Jf="://",Zf=function(){function t(){this.managers={}}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerManager=function(e,n){C(null!=e,(function(){return"scheme must not be undefined or null."})),e.endsWith(Jf)&&(e=e.slice(0,e.indexOf(Jf))),C(e.length>0,(function(){return"scheme must not be an empty string."}));var r=t.getInstance();C(null==r.managers[e],(function(){return"A model store manager is already registered for scheme '"+e+"'."})),r.managers[e]=n},t.getManager=function(t){var e=this.getInstance().managers[t];if(null==e)throw new Error("Cannot find model manager for scheme '"+t+"'");return e},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();function td(t){if(-1===t.indexOf(Jf))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Zf.getSchemes().join(","));return{scheme:t.split(Jf)[0],path:t.split(Jf)[1]}}function ed(t,e,o){return void 0===o&&(o=!1),n(this,void 0,void 0,(function(){var n,a,i,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:return C(t!==e,(function(){return"Old path and new path are the same: '"+t+"'"})),C((n=Qf.getLoadHandlers(t)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+t+"."})),C(n.length<2,(function(){return"Copying failed because more than one ("+n.length+") load handlers for source URL "+t+"."})),a=n[0],C((i=Qf.getSaveHandlers(e)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+e+"."})),C(i.length<2,(function(){return"Copying failed because more than one ("+n.length+") save handlers for destination URL "+e+"."})),s=i[0],u=td(t).scheme,c=td(t).path,l=u===td(t).scheme,[4,a.load()];case 1:return h=r.sent(),o&&l?[4,Zf.getManager(u).removeModel(c)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[4,s.save(h)];case 4:return f=r.sent(),!o||l?[3,6]:[4,Zf.getManager(u).removeModel(c)];case 5:r.sent(),r.label=6;case 6:return[2,f.modelArtifactsInfo]}}))}))}var nd="models_store",rd="model_info_store";function od(){if(!i().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window||self,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function ad(t){var e=t.result;e.createObjectStore(nd,{keyPath:"modelPath"}),e.createObjectStore(rd,{keyPath:"modelPath"})}var id=function(){function t(t){if(this.indexedDB=od(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return t.prototype.save=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]}))}))},t.prototype.load=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.databaseAction(this.modelPath)]}))}))},t.prototype.databaseAction=function(t,e){var n=this;return new Promise((function(t,r){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return ad(o)},o.onsuccess=function(){var a=o.result;if(null==e){var i=a.transaction(nd,"readonly"),s=i.objectStore(nd).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));t(s.result.modelArtifacts)},s.onerror=function(t){return a.close(),r(s.error)},i.oncomplete=function(){return a.close()}}else{var u,c=$f(e),l=a.transaction(rd,"readwrite"),h=l.objectStore(rd),f=h.put({modelPath:n.modelPath,modelArtifactsInfo:c});f.onsuccess=function(){var o=(u=a.transaction(nd,"readwrite")).objectStore(nd).put({modelPath:n.modelPath,modelArtifacts:e,modelArtifactsInfo:c});o.onsuccess=function(){return t({modelArtifactsInfo:c})},o.onerror=function(t){var e=(h=l.objectStore(rd)).delete(n.modelPath);e.onsuccess=function(){return a.close(),r(o.error)},e.onerror=function(t){return a.close(),r(o.error)}}},f.onerror=function(t){return a.close(),r(f.error)},l.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},o.onerror=function(t){return r(o.error)}}))},t.URL_SCHEME="indexeddb://",t}(),sd=function(t){return i().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(id.URL_SCHEME)?(e=t.slice(id.URL_SCHEME.length),new id(e)):null;var e};Qf.registerSaveRouter(sd),Qf.registerLoadRouter(sd);var ud=function(){function t(){this.indexedDB=od()}return t.prototype.listModels=function(){return n(this,void 0,void 0,(function(){var t=this;return r(this,(function(e){return[2,new Promise((function(e,n){var r=t.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return ad(r)},r.onsuccess=function(){var t=r.result,o=t.transaction(rd,"readonly"),a=o.objectStore(rd).getAll();a.onsuccess=function(){for(var t={},n=0,r=a.result;n<r.length;n++){var o=r[n];t[o.modelPath]=o.modelArtifactsInfo}e(t)},a.onerror=function(e){return t.close(),n(a.error)},o.oncomplete=function(){return t.close()}},r.onerror=function(t){return n(r.error)}}))]}))}))},t.prototype.removeModel=function(t){return n(this,void 0,void 0,(function(){var e=this;return r(this,(function(n){var r;return t=(r=t).startsWith(id.URL_SCHEME)?r.slice(id.URL_SCHEME.length):r,[2,new Promise((function(n,r){var o=e.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return ad(o)},o.onsuccess=function(){var e,a=o.result,i=a.transaction(rd,"readwrite"),s=i.objectStore(rd),u=s.get(t);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var o=s.delete(t),i=function(){var o=(e=a.transaction(nd,"readwrite")).objectStore(nd).delete(t);o.onsuccess=function(){return n(u.result.modelArtifactsInfo)},o.onerror=function(t){return r(u.error)}};o.onsuccess=i,o.onerror=function(t){return i(),a.close(),r(u.error)}},u.onerror=function(t){return a.close(),r(u.error)},i.oncomplete=function(){null==e?a.close():e.oncomplete=function(){return a.close()}}},o.onerror=function(t){return r(o.error)}}))]}))}))},t}();if(i().getBool("IS_BROWSER"))try{Zf.registerManager(id.URL_SCHEME,new ud)}catch(t){}var cd="/",ld="tensorflowjs_models",hd="info",fd="model_topology",dd="weight_specs",pd="weight_data",vd="model_metadata";function gd(t){return{info:[ld,t,hd].join(cd),topology:[ld,t,fd].join(cd),weightSpecs:[ld,t,dd].join(cd),weightData:[ld,t,pd].join(cd),modelMetadata:[ld,t,vd].join(cd)}}function md(t){var e=t.split(cd);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(cd)}var yd=function(){function t(t){if(!i().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=gd(this.modelPath)}return t.prototype.save=function(t){return n(this,void 0,void 0,(function(){var e,n,o;return r(this,(function(r){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");e=JSON.stringify(t.modelTopology),n=JSON.stringify(t.weightSpecs),o=$f(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(t){if(Kf)return Buffer.from(t).toString("base64");for(var e=new Uint8Array(t),n="",r=0,o=e.length;r<o;r++)n+=String.fromCharCode(e[r]);return btoa(n)}(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:o}]}catch(t){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+o.modelTopologyBytes+", weightSpecsBytes="+o.weightSpecsBytes+", weightDataBytes="+o.weightDataBytes+".")}return[2]}))}))},t.prototype.load=function(){return n(this,void 0,void 0,(function(){var t,e,n,o,a,i,s;return r(this,(function(r){if(null==(t=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==t.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(e={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(e.modelTopology=n,null==(o=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(e.weightSpecs=o,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(i=JSON.parse(a),e.format=i.format,e.generatedBy=i.generatedBy,e.convertedBy=i.convertedBy,e.userDefinedMetadata=i.userDefinedMetadata),null==(s=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return e.weightData=function(t){if(Kf){var e=Buffer.from(t,"base64");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}for(var n=atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r.set([n.charCodeAt(o)],o);return r.buffer}(s),[2,e]}))}))},t.URL_SCHEME="localstorage://",t}(),xd=function(t){return i().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(yd.URL_SCHEME)?(e=t.slice(yd.URL_SCHEME.length),new yd(e)):null;var e};Qf.registerSaveRouter(xd),Qf.registerLoadRouter(xd);var bd=function(){function t(){C(i().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),C("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return t.prototype.listModels=function(){return n(this,void 0,void 0,(function(){var t,e,n,o,a,i;return r(this,(function(r){for(t={},e=ld+cd,n=cd+hd,o=0;o<this.LS.length;++o)(a=this.LS.key(o)).startsWith(e)&&a.endsWith(n)&&(i=md(a),t[i]=JSON.parse(this.LS.getItem(a)));return[2,t]}))}))},t.prototype.removeModel=function(t){return n(this,void 0,void 0,(function(){var e,n;return r(this,(function(r){var o;if(t=(o=t).startsWith(yd.URL_SCHEME)?o.slice(yd.URL_SCHEME.length):o,e=gd(t),null==this.LS.getItem(e.info))throw new Error("Cannot find model at path '"+t+"'");return n=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,n]}))}))},t}();if(i().getBool("IS_BROWSER"))try{Zf.registerManager(yd.URL_SCHEME,new bd)}catch(t){}var wd="model",Cd=".json",Ed=".weights.bin";function Rd(t){return new Promise((function(t){return setTimeout(t)})).then(t)}var Id=function(){function t(e){if(!i().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),null!=e&&0!==e.length||(e=wd),this.modelTopologyFileName=e+Cd,this.weightDataFileName=e+Ed}return t.prototype.save=function(t){return n(this,void 0,void 0,(function(){var e,n,o,a,i,s;return r(this,(function(r){switch(r.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(e=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],o={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:n},a=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),(i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=a,[4,Rd((function(){return i.dispatchEvent(new MouseEvent("click"))}))];case 2:return r.sent(),null==t.weightData?[3,4]:((s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=e,[4,Rd((function(){return s.dispatchEvent(new MouseEvent("click"))}))]);case 3:r.sent(),r.label=4;case 4:return[2,{modelArtifactsInfo:$f(t)}]}}))}))},t.URL_SCHEME="downloads://",t}(),kd=function(){function t(t){if(null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return t.prototype.load=function(){return n(this,void 0,void 0,(function(){var t,e,n=this;return r(this,(function(r){return t=this.files[0],e=this.files.slice(1),[2,new Promise((function(r,o){var a=new FileReader;a.onload=function(a){var i=JSON.parse(a.target.result),s=i.modelTopology;if(null!=s){0===e.length&&r({modelTopology:s});var u=i.weightsManifest;if(null!=u){var c;try{c=n.checkManifestAndWeightFiles(u,e)}catch(t){return void o(t)}var l=[],h=[],f=[];u.forEach((function(t){t.paths.forEach((function(t){h.push(t),f.push(null)})),l.push.apply(l,t.weights)})),u.forEach((function(t){t.paths.forEach((function(t){var e=new FileReader;e.onload=function(e){var n=e.target.result,o=h.indexOf(t);f[o]=n,-1===f.indexOf(null)&&r({modelTopology:s,weightSpecs:l,weightData:Xf(f),format:i.format,generatedBy:i.generatedBy,convertedBy:i.convertedBy,userDefinedMetadata:i.userDefinedMetadata})},e.onerror=function(e){return o("Failed to weights data from file of path '"+t+"'.")},e.readAsArrayBuffer(c[t])}))}))}else o(new Error("weightManifest field is missing from file "+t.name))}else o(new Error("modelTopology field is missing from file "+t.name))},a.onerror=function(e){return o("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},a.readAsText(t)}))]}))}))},t.prototype.checkManifestAndWeightFiles=function(t,e){for(var n=[],r=e.map((function(t){return Yf(t.name)})),o={},a=0,i=t;a<i.length;a++){i[a].paths.forEach((function(t){var a=Yf(t);if(-1!==n.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: '"+a+"'");if(n.push(a),-1===r.indexOf(a))throw new Error("Weight file with basename '"+a+"' is not provided.");o[t]=e[r.indexOf(a)]}))}if(n.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+e.length+").");return o},t}();function Sd(t,e,n,r){!function(t){C(null!=t&&Array.isArray(t)&&t.length>0,(function(){return"promises must be a none empty array"}))}(t),function(t,e){C(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+t})),C(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+e})),C(e>=t,(function(){return"startFraction must be no more than endFraction, but got startFraction "+t+" and endFraction "+e}))}(n=null==n?0:n,r=null==r?1:r);var o=0;return Promise.all(t.map((function(a){return a.then((function(a){var i=n+ ++o/t.length*(r-n);return e(i),a})),a})))}function Ad(t,e){return n(this,void 0,void 0,(function(){var n,o,a,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:return null==e&&(e={}),n=null==e.fetchFunc?i().platform.fetch:e.fetchFunc,o=t.map((function(t){return n(t,e.requestInit,{isBinary:!0})})),a=0,s=.5,null!=e.onProgress?[3,2]:[4,Promise.all(o)];case 1:return u=r.sent(),[3,4];case 2:return[4,Sd(o,e.onProgress,a,s)];case 3:u=r.sent(),r.label=4;case 4:return c=u.map((function(t){return t.arrayBuffer()})),l=.5,h=1,null!=e.onProgress?[3,6]:[4,Promise.all(c)];case 5:return f=r.sent(),[3,8];case 6:return[4,Sd(c,e.onProgress,l,h)];case 7:f=r.sent(),r.label=8;case 8:return[2,f]}}))}))}function Td(t){var e=this;return function(o,a,i){return void 0===a&&(a=""),n(e,void 0,void 0,(function(){var e,n,s,u,c,l,h,f,d,p;return r(this,(function(r){switch(r.label){case 0:if(e=o.map((function(){return!1})),n={},s=null!=i?i.map((function(){return!1})):[],u=[],o.forEach((function(t,r){var o=0;t.weights.forEach((function(t){var a="quantization"in t?t.quantization.dtype:t.dtype,c=zf[a]*k(t.shape),l=function(){e[r]=!0,null==n[r]&&(n[r]=[]),n[r].push({manifestEntry:t,groupOffset:o,sizeBytes:c})};null!=i?i.forEach((function(e,n){e===t.name&&(l(),s[n]=!0)})):l(),u.push(t.name),o+=c}))})),!s.every((function(t){return t})))throw c=i.filter((function(t,e){return!s[e]})),new Error("Could not find weights in manifest with names: "+c.join(", ")+". \nManifest JSON has weights with names: "+u.join(", ")+".");return l=e.reduce((function(t,e,n){return e&&t.push(n),t}),[]),h=[],l.forEach((function(t){o[t].paths.forEach((function(t){var e=a+(a.endsWith("/")?"":"/")+t;h.push(e)}))})),[4,t(h)];case 1:return f=r.sent(),d={},p=0,l.forEach((function(t){for(var e=o[t].paths.length,r=0,a=0;a<e;a++)r+=f[p+a].byteLength;for(var i=new ArrayBuffer(r),s=new Uint8Array(i),u=0,c=0;c<e;c++){var l=new Uint8Array(f[p+c]);s.set(l,u),u+=l.byteLength}n[t].forEach((function(t){var e=Hf(i.slice(t.groupOffset,t.groupOffset+t.sizeBytes),[t.manifestEntry]);for(var n in e)d[n]=e[n]})),p+=e})),[2,d]}}))}))}}Qf.registerSaveRouter((function(t){return i().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Id.URL_SCHEME)?function(t){void 0===t&&(t="model");return new Id(t)}(t.slice(Id.URL_SCHEME.length)):null}));var Dd=function(){function t(t,e){if(this.DEFAULT_METHOD="POST",null==e&&(e={}),this.weightPathPrefix=e.weightPathPrefix,this.onProgress=e.onProgress,null!=e.fetchFunc?(C("function"==typeof e.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=e.fetchFunc):this.fetch=i().platform.fetch,C(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&C(2===t.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."})),this.path=t,null!=e.requestInit&&null!=e.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e.requestInit||{}}return t.prototype.save=function(t){return n(this,void 0,void 0,(function(){var e,n,o,a;return r(this,(function(r){switch(r.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],o={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:n},e.body.append("model.json",new Blob([JSON.stringify(o)],{type:"application/json"}),"model.json"),null!=t.weightData&&e.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,e)];case 1:if((a=r.sent()).ok)return[2,{modelArtifactsInfo:$f(t),responses:[a]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+a.status+".")}}))}))},t.prototype.load=function(){return n(this,void 0,void 0,(function(){var t,e,n,o,a,i,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=r.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t.json()];case 3:return e=r.sent(),[3,5];case 4:throw r.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(o=e.modelTopology,a=e.weightsManifest,i=e.generatedBy,s=e.convertedBy,u=e.format,c=e.userDefinedMetadata,null==o&&null==a)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==a?[3,7]:[4,this.loadWeights(a)];case 6:f=r.sent(),l=f[0],h=f[1],r.label=7;case 7:return[2,{modelTopology:o,weightSpecs:l,weightData:h,userDefinedMetadata:c,generatedBy:i,convertedBy:s,format:u}]}}))}))},t.prototype.loadWeights=function(t){return n(this,void 0,void 0,(function(){var e,n,o,a,i,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:for(e=Array.isArray(this.path)?this.path[1]:this.path,n=function(t){var e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),o=n>e?t.substring(n):"";return[r+"/",o]}(e),o=n[0],a=n[1],i=this.weightPathPrefix||o,s=[],u=0,c=t;u<c.length;u++)l=c[u],s.push.apply(s,l.weights);return h=[],t.forEach((function(t){t.paths.forEach((function(t){h.push(i+t+a)}))})),[4,Ad(h,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return f=r.sent(),[2,[s,Xf(f)]]}}))}))},t.URL_SCHEME_REGEX=/^https?:\/\//,t}();function Nd(t){return null!=t.match(Dd.URL_SCHEME_REGEX)}var Fd=function(t,e){if("undefined"==typeof fetch)return null;return(Array.isArray(t)?t.every((function(t){return Nd(t)})):Nd(t))?_d(t,{onProgress:e}):null};function _d(t,e){return new Dd(t,e)}Qf.registerSaveRouter(Fd),Qf.registerLoadRouter(Fd);var Od=function(){function t(t){this.modelArtifacts=t}return t.prototype.load=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.modelArtifacts]}))}))},t}(),Md=function(){function t(t){this.saveHandler=t}return t.prototype.save=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.saveHandler(t)]}))}))},t}();var Bd=Object.freeze({browserFiles:function(t){return new kd(t)},browserHTTPRequest:function(t,e){return _d(t,e)},concatenateArrayBuffers:Xf,decodeWeights:Hf,encodeWeights:function(t,e){return n(this,void 0,void 0,(function(){var o,a,i,s,u,c=this;return r(this,(function(l){switch(l.label){case 0:for(o=[],a=[],i=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t),s=function(s){var u=i[s],l=Array.isArray(t)?t[s].tensor:t[u];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype)throw new Error("Unsupported dtype in weight '"+u+"': "+l.dtype);var h={name:u,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){var f=new Promise((function(t){return n(c,void 0,void 0,(function(){var e,n,o,a,i,s,u;return r(this,(function(r){switch(r.label){case 0:return[4,l.bytes()];case 1:for(e=r.sent(),n=e.reduce((function(t,e){return t+e.length}),0)+Gf*e.length,o=new Uint8Array(n),a=0,i=0;i<e.length;i++)s=e[i],u=new Uint8Array(new Uint32Array([s.length]).buffer),o.set(u,a),a+=Gf,o.set(s,a),a+=s.length;return t(o),[2]}}))}))}));a.push(f)}else a.push(l.data());null!=e&&(h.group=e),o.push(h)},u=0;u<i.length;++u)s(u);return[4,Promise.all(a)];case 1:return[2,{data:qf(l.sent()),specs:o}]}}))}))},fromMemory:function(t,e,n,r){return 1===arguments.length?null!=t.modelTopology||null!=t.weightSpecs?new Od(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Od({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Od({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))},getLoadHandlers:function(t,e){return Qf.getLoadHandlers(t,e)},getModelArtifactsInfoForJSON:$f,getSaveHandlers:function(t){return Qf.getSaveHandlers(t)},http:_d,isHTTPScheme:Nd,loadWeights:function(t,e,o,a){return void 0===e&&(e=""),n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,Td((function(t){return Ad(t,{requestInit:a})}))(t,e,o)]}))}))},registerLoadRouter:function(t){return Qf.registerLoadRouter(t)},registerSaveRouter:function(t){return Qf.registerSaveRouter(t)},weightsLoaderFactory:Td,withSaveHandler:function(t){return new Md(t)},copyModel:function(t,e){return n(this,void 0,void 0,(function(){return r(this,(function(n){return!1,[2,ed(t,e,!1)]}))}))},listModels:function(){return n(this,void 0,void 0,(function(){var t,e,n,o,a,i,s;return r(this,(function(r){switch(r.label){case 0:t=Zf.getSchemes(),e={},n=0,o=t,r.label=1;case 1:return n<o.length?(a=o[n],[4,Zf.getManager(a).listModels()]):[3,4];case 2:for(s in i=r.sent())e[a+Jf+s]=i[s];r.label=3;case 3:return n++,[3,1];case 4:return[2,e]}}))}))},moveModel:function(t,e){return n(this,void 0,void 0,(function(){return r(this,(function(n){return!0,[2,ed(t,e,!0)]}))}))},removeModel:function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){return e=td(t),[2,Zf.getManager(e.scheme).removeModel(e.path)]}))}))}});var Pd,Ld=An({confusionMatrix_:function(t,e,n){var r=gn(t,"labels","confusionMatrix"),o=gn(e,"predictions","confusionMatrix");C(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),C(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),C(1===o.rank,(function(){return"Expected the rank of predictions to be 1, but got "+o.rank})),C(r.shape[0]===o.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."})),C(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var a=Rc(r.asType("int32"),n),i=Rc(o.asType("int32"),n);return a.transpose().matMul(i).asType("int32")}}),Wd=Object.freeze({confusionMatrix:Ld});var Ud=An({fromPixels_:function(t,e){if(void 0===e&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==t)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,o=!1,a=!1,i=!1;if(t.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&t instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement)o=!0;else if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement)a=!0;else{if(null==t.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+t.constructor.name);i=!0}if(o){if(o&&t.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=l("FromPixels",Lt.backendName))return Lt.runKernel("FromPixels",{pixels:t},{numChannels:e});var s,u,c=o?[t.videoWidth,t.videoHeight]:[t.width,t.height],h=c[0],f=c[1];if(i?s=t.getContext("2d").getImageData(0,0,h,f).data:r||n?s=t.data:(a||o)&&(null==Pd&&(Pd=document.createElement("canvas").getContext("2d")),Pd.canvas.width=h,Pd.canvas.height=f,Pd.drawImage(t,0,0,h,f),s=Pd.getImageData(0,0,h,f).data),4===e)u=new Int32Array(s);else{var d=h*f;u=new Int32Array(d*e);for(var p=0;p<d;p++)for(var v=0;v<e;++v)u[p*e+v]=s[4*p+v]}return Pn(u,[f,h,e],"int32")}}),Vd=Object.freeze({toPixels:function(t,e){return n(this,void 0,void 0,(function(){var n,o,a,i,s,u,c,l,h,f,d,p,v,g,m,y,x,b,w,C,E,R,I;return r(this,(function(r){switch(r.label){case 0:if(n=gn(t,"img","toPixels"),t instanceof wt||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(o=n.shape.slice(0,2),a=o[0],i=o[1],(s=2===n.rank?1:n.shape[2])>4||2===s)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+s);return[4,n.data()];case 1:return u=r.sent(),c=n.min(),l=n.max(),[4,Promise.all([c.data(),l.data()])];case 2:if(h=r.sent(),f=h[0],d=h[1],p=f[0],v=d[0],c.dispose(),l.dispose(),"float32"===n.dtype){if(p<0||v>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+p+" - "+v+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(p<0||v>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+p+" - "+v+"].")}for(g="float32"===n.dtype?255:1,m=new Uint8ClampedArray(i*a*4),y=0;y<a*i;++y)x=void 0,b=void 0,w=void 0,C=void 0,1===s?(x=u[y]*g,b=u[y]*g,w=u[y]*g,C=255):3===s?(x=u[3*y]*g,b=u[3*y+1]*g,w=u[3*y+2]*g,C=255):4===s&&(x=u[4*y]*g,b=u[4*y+1]*g,w=u[4*y+2]*g,C=u[4*y+3]*g),m[(E=4*y)+0]=Math.round(x),m[E+1]=Math.round(b),m[E+2]=Math.round(w),m[E+3]=Math.round(C);return null!=e&&(e.width=i,e.height=a,R=e.getContext("2d"),I=new ImageData(m,i,a),R.putImageData(I,0,0)),n!==t&&n.dispose(),[2,m]}}))}))},fromPixels:Ud}),zd=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(t,e){return new t(e)},t}(),Gd=function(){function t(){this.classNameMap={}}return t.getMap=function(){return null==t.instance&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();function Hd(t){C(null!=t.className,(function(){return"Class being registered does not have the static className property defined."})),C("string"==typeof t.className,(function(){return"className is required to be a string, but got type "+typeof t.className})),C(t.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Gd.register(t)}var qd=Object.freeze({Serializable:zd,SerializationMap:Gd,registerClass:Hd}),Kd="1.7.4";var jd=Object.freeze({gpgpu_util:Rs,webgl_util:Ge,forceHalfFloat:function(){i().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:Uu,setWebGLContext:Kt,GPGPUContext:Is}),Xd=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return e(o,t),o.prototype.minimize=function(t,e,n){void 0===e&&(e=!1);var r=this.computeGradients(t,n),o=r.value,a=r.grads;if(null!=n){var i=n.map((function(t){return{name:t.name,tensor:a[t.name]}}));this.applyGradients(i)}else this.applyGradients(a);return tn(a),e?o:(o.dispose(),null)},Object.defineProperty(o.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),o.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},o.prototype.computeGradients=function(t,e){return ra(t,e)},o.prototype.dispose=function(){null!=this.iterations_&&tn(this.iterations_)},o.prototype.saveIterations=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:On(this.iterations_,"int32")}]}))}))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(t){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},o.prototype.extractIterations=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return e=this,[4,t[0].tensor.data()];case 1:return e.iterations_=n.sent()[0],[2,t.slice(1)]}}))}))},o}(zd);Object.defineProperty(Xd,Symbol.hasInstance,{value:function(t){return null!=t.minimize&&null!=t.computeGradients&&null!=t.applyGradients}});var Yd=function(t){function o(e,n,r){void 0===r&&(r=null);var o=t.call(this)||this;return o.learningRate=e,o.rho=n,o.epsilon=r,o.accumulatedGrads=[],o.accumulatedUpdates=[],null==r&&(o.epsilon=Lt.backend.epsilon()),o}return e(o,t),o.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var o=Lt.registeredVariables[n];null==e.accumulatedGrads[r]&&(e.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:Ze((function(){return Xn(o).variable(!1)}))}),null==e.accumulatedUpdates[r]&&(e.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:Ze((function(){return Xn(o).variable(!1)}))});var a=Array.isArray(t)?t[r].tensor:t[n];if(null!=a){var i=e.accumulatedGrads[r].variable,s=e.accumulatedUpdates[r].variable;Ze((function(){var t=i.mul(e.rho).add(a.square().mul(1-e.rho)),n=s.add(e.epsilon).sqrt().div(i.add(e.epsilon).sqrt()).mul(a),r=s.mul(e.rho).add(n.square().mul(1-e.rho));i.assign(t),s.assign(r);var u=n.mul(-e.learningRate).add(o);o.assign(u)}))}})),this.incrementIterations()},o.prototype.dispose=function(){null!=this.accumulatedUpdates&&(tn(this.accumulatedGrads.map((function(t){return t.variable}))),tn(this.accumulatedUpdates.map((function(t){return t.variable}))))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return t=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),e=t.length/2,!1,this.accumulatedGrads=t.slice(0,e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedUpdates=t.slice(e,2*e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},o.fromConfig=function(t,e){return new t(e.learningRate,e.rho,e.epsilon)},o.className="Adadelta",o}(Xd);Hd(Yd);var $d=function(t){function o(e,n){void 0===n&&(n=.1);var r=t.call(this)||this;return r.learningRate=e,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return e(o,t),o.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var o=Lt.registeredVariables[n];if(null==e.accumulatedGrads[r]){e.accumulatedGrads[r]={originalName:n+"/accumulator",variable:Ze((function(){return Hn(o.shape,e.initialAccumulatorValue).variable(!1)}))}}var a=Array.isArray(t)?t[r].tensor:t[n];if(null!=a){var i=e.accumulatedGrads[r].variable;Ze((function(){var t=i.add(a.square());i.assign(t);var n=a.div(t.add(Lt.backend.epsilon()).sqrt()).mul(-e.learningRate).add(o);o.assign(n)}))}})),this.incrementIterations()},o.prototype.dispose=function(){null!=this.accumulatedGrads&&tn(this.accumulatedGrads.map((function(t){return t.variable})))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulatedGrads.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:return t=e.sent(),!1,this.accumulatedGrads=t.map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},o.fromConfig=function(t,e){return new t(e.learningRate,e.initialAccumulatorValue)},o.className="Adagrad",o}(Xd);Hd($d);var Qd=function(t){function o(e,n,r,o){void 0===o&&(o=null);var a=t.call(this)||this;return a.learningRate=e,a.beta1=n,a.beta2=r,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],Ze((function(){a.accBeta1=On(n).variable(),a.accBeta2=On(r).variable()})),null==o&&(a.epsilon=Lt.backend.epsilon()),a}return e(o,t),o.prototype.applyGradients=function(t){var e=this,n=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t);Ze((function(){var r=Oo(1,e.accBeta1),o=Oo(1,e.accBeta2);n.forEach((function(n,a){var i=Lt.registeredVariables[n];null==e.accumulatedFirstMoment[a]&&(e.accumulatedFirstMoment[a]={originalName:n+"/m",variable:Ze((function(){return Xn(i).variable(!1)}))}),null==e.accumulatedSecondMoment[a]&&(e.accumulatedSecondMoment[a]={originalName:n+"/v",variable:Ze((function(){return Xn(i).variable(!1)}))});var s=Array.isArray(t)?t[a].tensor:t[n];if(null!=s){var u=e.accumulatedFirstMoment[a].variable,c=e.accumulatedSecondMoment[a].variable,l=u.mul(e.beta1).add(s.mul(1-e.beta1)),h=c.mul(e.beta2).add(s.square().mul(1-e.beta2)),f=l.div(r),d=h.div(o);u.assign(l),c.assign(h);var p=f.div(d.sqrt().add(e.epsilon)).mul(-e.learningRate).add(i);i.assign(p)}})),e.accBeta1.assign(e.accBeta1.mul(e.beta1)),e.accBeta2.assign(e.accBeta2.mul(e.beta2))})),this.incrementIterations()},o.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&tn(this.accumulatedFirstMoment.map((function(t){return t.variable}))),null!=this.accumulatedSecondMoment&&tn(this.accumulatedSecondMoment.map((function(t){return t.variable})))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return t=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){var e,n=this;return r(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),Ze((function(){n.accBeta1.assign(No(n.beta1,n.iterations_+1)),n.accBeta2.assign(No(n.beta2,n.iterations_+1))})),e=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedSecondMoment=t.slice(e,2*e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},o.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)},o.className="Adam",o}(Xd);Hd(Qd);var Jd=function(t){function o(e,n,r,o,a){void 0===o&&(o=null),void 0===a&&(a=0);var i=t.call(this)||this;return i.learningRate=e,i.beta1=n,i.beta2=r,i.epsilon=o,i.decay=a,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],Ze((function(){i.iteration=On(0).variable(),i.accBeta1=On(n).variable()})),null==o&&(i.epsilon=Lt.backend.epsilon()),i}return e(o,t),o.prototype.applyGradients=function(t){var e=this,n=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t);Ze((function(){var r=Oo(1,e.accBeta1),o=Bo(-e.learningRate,e.iteration.mul(e.decay).add(1));n.forEach((function(n,a){var i=Lt.registeredVariables[n];null==e.accumulatedFirstMoment[a]&&(e.accumulatedFirstMoment[a]={originalName:n+"/m",variable:Xn(i).variable(!1)}),null==e.accumulatedWeightedInfNorm[a]&&(e.accumulatedWeightedInfNorm[a]={originalName:n+"/v",variable:Xn(i).variable(!1)});var s=Array.isArray(t)?t[a].tensor:t[n];if(null!=s){var u=e.accumulatedFirstMoment[a].variable,c=e.accumulatedWeightedInfNorm[a].variable,l=u.mul(e.beta1).add(s.mul(1-e.beta1)),h=c.mul(e.beta2),f=s.abs(),d=h.maximum(f);u.assign(l),c.assign(d);var p=o.div(r).mul(l.div(d.add(e.epsilon))).add(i);i.assign(p)}})),e.iteration.assign(e.iteration.add(1)),e.accBeta1.assign(e.accBeta1.mul(e.beta1))})),this.incrementIterations()},o.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&tn(this.accumulatedFirstMoment.map((function(t){return t.variable}))),null!=this.accumulatedWeightedInfNorm&&tn(this.accumulatedWeightedInfNorm.map((function(t){return t.variable})))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(t){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},o.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)},o.className="Adamax",o}(Xd);Hd(Jd);var Zd=function(t){function o(e){var n=t.call(this)||this;return n.learningRate=e,n.setLearningRate(e),n}return e(o,t),o.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var o=Array.isArray(t)?t[r].tensor:t[n];if(null!=o){var a=Lt.registeredVariables[n];Ze((function(){var t=e.c.mul(o).add(a);a.assign(t)}))}})),this.incrementIterations()},o.prototype.setLearningRate=function(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=en(On(-t))},o.prototype.dispose=function(){this.c.dispose()},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()]]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:if(0!==(t=e.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate}},o.fromConfig=function(t,e){return new t(e.learningRate)},o.className="SGD",o}(Xd);Hd(Zd);var tp=function(t){function o(e,n,r){void 0===r&&(r=!1);var o=t.call(this,e)||this;return o.learningRate=e,o.momentum=n,o.useNesterov=r,o.accumulations=[],o.m=On(o.momentum),o}return e(o,t),o.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var o=Lt.registeredVariables[n];if(null==e.accumulations[r]){e.accumulations[r]={originalName:n+"/momentum",variable:Ze((function(){return Xn(o).variable(!1)}))}}var a=e.accumulations[r].variable,i=Array.isArray(t)?t[r].tensor:t[n];null!=i&&Ze((function(){var t,n=e.m.mul(a).add(i);t=e.useNesterov?e.c.mul(i.add(n.mul(e.m))).add(o):e.c.mul(n).add(o),a.assign(n),o.assign(t)}))})),this.incrementIterations()},o.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&tn(this.accumulations.map((function(t){return t.variable})))},o.prototype.setMomentum=function(t){this.momentum=t},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulations.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:return t=e.sent(),!1,this.accumulations=t.map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},o.fromConfig=function(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)},o.className="Momentum",o}(Zd);Hd(tp);var ep=function(t){function o(e,n,r,o,a){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===a&&(a=!1);var i=t.call(this)||this;if(i.learningRate=e,i.decay=n,i.momentum=r,i.epsilon=o,i.accumulatedMeanSquares=[],i.accumulatedMoments=[],i.accumulatedMeanGrads=[],i.centered=a,null==o&&(i.epsilon=Lt.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return i}return e(o,t),o.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var o=Lt.registeredVariables[n];null==e.accumulatedMeanSquares[r]&&(e.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:Ze((function(){return Xn(o).variable(!1)}))}),null==e.accumulatedMoments[r]&&(e.accumulatedMoments[r]={originalName:n+"/momentum",variable:Ze((function(){return Xn(o).variable(!1)}))}),null==e.accumulatedMeanGrads[r]&&e.centered&&(e.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:Ze((function(){return Xn(o).variable(!1)}))});var a=Array.isArray(t)?t[r].tensor:t[n];if(null!=a){var i=e.accumulatedMeanSquares[r].variable,s=e.accumulatedMoments[r].variable;Ze((function(){var t=i.mul(e.decay).add(a.square().mul(1-e.decay));if(e.centered){var n=e.accumulatedMeanGrads[r].variable,u=n.mul(e.decay).add(a.mul(1-e.decay)),c=s.mul(e.momentum).add(a.mul(e.learningRate).div(t.sub(u.square().add(e.epsilon)).sqrt()));i.assign(t),n.assign(u),s.assign(c);var l=o.sub(c);o.assign(l)}else{var h=i.mul(e.decay).add(a.square().mul(1-e.decay));c=s.mul(e.momentum).add(a.mul(e.learningRate).div(h.add(e.epsilon).sqrt()));i.assign(h),s.assign(c);l=o.sub(c);o.assign(l)}}))}})),this.incrementIterations()},o.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&tn(this.accumulatedMeanSquares.map((function(t){return t.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&tn(this.accumulatedMeanGrads.map((function(t){return t.variable}))),null!=this.accumulatedMoments&&tn(this.accumulatedMoments.map((function(t){return t.variable})))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return t=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&t.push.apply(t,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),e=this.centered?t.length/3:t.length/2,!1,this.accumulatedMeanSquares=t.slice(0,e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedMoments=t.slice(e,2*e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*e,3*e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}))),[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},o.fromConfig=function(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)},o.className="RMSProp",o}(Xd);Hd(ep);var np=function(){function t(){}return t.sgd=function(t){return new Zd(t)},t.momentum=function(t,e,n){return void 0===n&&(n=!1),new tp(t,e,n)},t.rmsprop=function(t,e,n,r,o){return void 0===e&&(e=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=!1),new ep(t,e,n,r,o)},t.adam=function(t,e,n,r){return void 0===t&&(t=.001),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new Qd(t,e,n,r)},t.adadelta=function(t,e,n){return void 0===t&&(t=.001),void 0===e&&(e=.95),void 0===n&&(n=null),new Yd(t,e,n)},t.adamax=function(t,e,n,r,o){return void 0===t&&(t=.002),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===o&&(o=0),new Jd(t,e,n,r,o)},t.adagrad=function(t,e){return void 0===e&&(e=.1),new $d(t,e)},t}(),rp={sgd:np.sgd,momentum:np.momentum,adadelta:np.adadelta,adagrad:np.adagrad,rmsprop:np.rmsprop,adamax:np.adamax,adam:np.adam},op="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:function(t){return t()};function ap(){return new Promise((function(t){return op((function(){return t()}))}))}wt.prototype.add=function(t){return Or(this,t)},wt.prototype.broadcastTo=function(t){return fc(this,t)},wt.prototype.div=function(t){return Bo(this,t)},wt.prototype.divNoNan=function(t){return bc(this,t)},wt.prototype.squaredDifference=function(t){return Hc(this,t)},wt.prototype.tile=function(t){return wc(this,t)},wt.prototype.oneHot=function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=0),Rc(this,t,e,n)},wt.prototype.transpose=function(t){return ua(this,t)},wt.prototype.pad=function(t,e){return Ic(this,t,e)},wt.prototype.batchNorm=function(t,e,n,r,o){return nc(this,t,e,n,r,o)},xt=ff;
//# sourceMappingURL=tf-core.esm.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../../../process/browser.js */ "./node_modules/process/browser.js"), __webpack_require__(/*! ./../../../node-libs-browser/node_modules/buffer/index.js */ "./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer, __webpack_require__(/*! ./../../../node-libs-browser/node_modules/timers-browserify/main.js */ "./node_modules/node-libs-browser/node_modules/timers-browserify/main.js").setImmediate))

/***/ }),

/***/ "./node_modules/@tensorflow/tfjs-data/dist/tf-data.esm.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tensorflow/tfjs-data/dist/tf-data.esm.js ***!
  \****************************************************************/
/*! exports provided: array, Dataset, zip, CSVDataset, TextLineDataset, csv, func, generator, microphone, webcam, FileDataSource, URLDataSource, version_data */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global, Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "array", function() { return array; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Dataset", function() { return Dataset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zip", function() { return zip; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CSVDataset", function() { return CSVDataset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextLineDataset", function() { return TextLineDataset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "csv", function() { return csv; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "func", function() { return func; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generator", function() { return generator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "microphone", function() { return microphone; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "webcam", function() { return webcam; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileDataSource", function() { return FileDataSource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "URLDataSource", function() { return URLDataSource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "version_data", function() { return version; });
/* harmony import */ var _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tensorflow/tfjs-core */ "./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js");
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function __extends(t,e){function r(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function __awaiter(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}u((n=n.apply(t,e||[])).next())})}function __generator(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var alea=createCommonjsModule(function(t){!function(t,e,r){function n(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function i(t,e){var r=new function(t){var e,r=this,n=(e=4022871197,function(t){t=t.toString();for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)});r.next=function(){var t=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=t-(r.c=0|t)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(t),r.s0<0&&(r.s0+=1),r.s1-=n(t),r.s1<0&&(r.s1+=1),r.s2-=n(t),r.s2<0&&(r.s2+=1),n=null}(t),i=e&&e.state,o=r.next;return o.int32=function(){return 4294967296*r.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,i&&("object"==typeof i&&n(i,r),o.state=function(){return n(r,{})}),o}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.alea=i}(0,t,!1)}),xor128=createCommonjsModule(function(t){!function(t,e,r){function n(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function i(t,e){var r=new function(t){var e=this,r="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),e.next()}(t),i=e&&e.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=r.next,o.quick=o,i&&("object"==typeof i&&n(i,r),o.state=function(){return n(r,{})}),o}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xor128=i}(0,t,!1)}),xorwow=createCommonjsModule(function(t){!function(t,e,r){function n(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function i(t,e){var r=new function(t){var e=this,r="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),n==r.length&&(e.d=e.x<<10^e.x>>>4),e.next()}(t),i=e&&e.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=r.next,o.quick=o,i&&("object"==typeof i&&n(i,r),o.state=function(){return n(r,{})}),o}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xorwow=i}(0,t,!1)}),xorshift7=createCommonjsModule(function(t){!function(t,e,r){function n(t,e){return e.x=t.x.slice(),e.i=t.i,e}function i(t,e){null==t&&(t=+new Date);var r=new function(t){var e=this;e.next=function(){var t,r,n=e.x,i=e.i;return t=n[i],r=(t^=t>>>7)^t<<24,r^=(t=n[i+1&7])^t>>>10,r^=(t=n[i+3&7])^t>>>3,r^=(t=n[i+4&7])^t<<7,t=n[i+7&7],r^=(t^=t<<13)^t<<9,n[i]=r,e.i=i+1&7,r},function(t,e){var r,n=[];if(e===(0|e))n[0]=e;else for(e=""+e,r=0;r<e.length;++r)n[7&r]=n[7&r]<<15^e.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],t.x=n,t.i=0,r=256;r>0;--r)t.next()}(e,t)}(t),i=e&&e.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=r.next,o.quick=o,i&&(i.x&&n(i,r),o.state=function(){return n(r,{})}),o}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xorshift7=i}(0,t,!1)}),xor4096=createCommonjsModule(function(t){!function(t,e,r){function n(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function i(t,e){null==t&&(t=+new Date);var r=new function(t){var e=this;e.next=function(){var t,r,n=e.w,i=e.X,o=e.i;return e.w=n=n+1640531527|0,r=i[o+34&127],t=i[o=o+1&127],r^=r<<13,t^=t<<17,r^=r>>>15,t^=t>>>12,r=i[o]=r^t,e.i=o,r+(n^n>>>16)|0},function(t,e){var r,n,i,o,a,s=[],u=128;for(e===(0|e)?(n=e,e=null):(e+="\0",n=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(n^=e.charCodeAt((o+32)%e.length)),0===o&&(a=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(a=a+1640531527|0,i=0==(r=s[127&o]^=n+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)n=s[i+34&127],r=s[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,s[i]=n^r;t.w=a,t.X=s,t.i=i}(e,t)}(t),i=e&&e.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=r.next,o.quick=o,i&&(i.X&&n(i,r),o.state=function(){return n(r,{})}),o}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xor4096=i}(0,t,!1)}),tychei=createCommonjsModule(function(t){!function(t,e,r){function n(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function i(t,e){var r=new function(t){var e=this,r="";e.next=function(){var t=e.b,r=e.c,n=e.d,i=e.a;return t=t<<25^t>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^r,e.c=r=r-n|0,e.d=n<<16^r>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):r+=t;for(var n=0;n<r.length+20;n++)e.b^=0|r.charCodeAt(n),e.next()}(t),i=e&&e.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=r.next,o.quick=o,i&&("object"==typeof i&&n(i,r),o.state=function(){return n(r,{})}),o}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.tychei=i}(0,t,!1)}),seedrandom=createCommonjsModule(function(t){!function(e,r){var n,i=this,o=256,a=6,s="random",u=r.pow(o,a),c=r.pow(2,52),l=2*c,h=o-1;function f(t,f,v){var _=[],w=p(function t(e,r){var n,i=[],o=typeof e;if(r&&"object"==o)for(n in e)try{i.push(t(e[n],r-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((f=1==f?{entropy:!0}:f||{}).entropy?[t,m(e)]:null==t?function(){try{var t;return n&&(t=n.randomBytes)?t=t(o):(t=new Uint8Array(o),(i.crypto||i.msCrypto).getRandomValues(t)),m(t)}catch(t){var r=i.navigator,a=r&&r.plugins;return[+new Date,i,a,i.screen,m(e)]}}():t,3),_),y=new function(t){var e,r=t.length,n=this,i=0,a=n.i=n.j=0,s=n.S=[];r||(t=[r++]);for(;i<o;)s[i]=i++;for(i=0;i<o;i++)s[i]=s[a=h&a+t[i%r]+(e=s[i])],s[a]=e;(n.g=function(t){for(var e,r=0,i=n.i,a=n.j,s=n.S;t--;)e=s[i=h&i+1],r=r*o+s[h&(s[i]=s[a=h&a+e])+(s[a]=e)];return n.i=i,n.j=a,r})(o)}(_),g=function(){for(var t=y.g(a),e=u,r=0;t<c;)t=(t+r)*o,e*=o,r=y.g(1);for(;t>=l;)t/=2,e/=2,r>>>=1;return(t+r)/e};return g.int32=function(){return 0|y.g(4)},g.quick=function(){return y.g(4)/4294967296},g.double=g,p(m(y.S),e),(f.pass||v||function(t,e,n,i){return i&&(i.S&&d(i,y),t.state=function(){return d(y,{})}),n?(r[s]=t,e):t})(g,w,"global"in f?f.global:this==r,f.state)}function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function p(t,e){for(var r,n=t+"",i=0;i<n.length;)e[h&i]=h&(r^=19*e[h&i])+n.charCodeAt(i++);return m(e)}function m(t){return String.fromCharCode.apply(0,t)}if(r["seed"+s]=f,p(r.random(),e),t.exports){t.exports=f;try{n=__webpack_require__(/*! crypto */ 3)}catch(t){}}else 0}([],Math)});seedrandom.alea=alea,seedrandom.xor128=xor128,seedrandom.xorwow=xorwow,seedrandom.xorshift7=xorshift7,seedrandom.xor4096=xor4096,seedrandom.tychei=tychei;var seedrandom$1=seedrandom,seedrandom_1=seedrandom$1.alea;function deepMap(t,e){return deepMapInternal(t,e)}function deepMapInternal(t,e,r,n){if(void 0===r&&(r=new Map),void 0===n&&(n=new Set),null==t)return null;if(n.has(t))throw new Error("Circular references are not supported.");if(r.has(t))return r.get(t);var i=e(t);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if(isIterable(t)){var o=Array.isArray(t)?[]:{};for(var a in n.add(t),t){var s=deepMapInternal(t[a],e,r,n);o[a]=s}return n.delete(t),o}throw new Error("Can't recurse into non-iterable type: "+t)}return r.set(t,i.value),i.value}function deepZip(t,e){return void 0===e&&(e=zipToList),deepZipInternal(t,e)}function deepZipInternal(t,e,r){void 0===r&&(r=new Set);var n=t[0];if(r.has(n))throw new Error("Circular references are not supported.");var i=e(t);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if(isIterable(n)){var o=Array.isArray(n)?[]:{};r.add(n);var a=function(n){var i=deepZipInternal(t.map(function(t){return t[n]}),e,r);o[n]=i};for(var s in n)a(s);return r.delete(n),o}throw new Error("Can't recurse into non-iterable type: "+n)}return i.value}function zipToList(t){return null===t?null:isIterable(t[0])?{value:null,recurse:!0}:{value:t,recurse:!1}}function deepMapAndAwaitAll(t,e){return __awaiter(this,void 0,void 0,function(){var r,n,i,o,a,s;return __generator(this,function(u){switch(u.label){case 0:r=new Map,deepMapInternal(t,e,r),n=0,i=Array.from(r.keys()),u.label=1;case 1:return n<i.length?(o=i[n],(a=r.get(o))instanceof Promise?[4,a]:[3,3]):[3,4];case 2:s=u.sent(),r.set(o,s),u.label=3;case 3:return n++,[3,1];case 4:return[2,deepMapInternal(t,e,r)]}})})}function isIterable(t){return null!=t&&!ArrayBuffer.isView(t)&&(Array.isArray(t)||"object"==typeof t&&!(t instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"]))}function canTensorify(t){return null==t||isPrimitive(t)||Array.isArray(t)||"object"==typeof t&&t instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"]||_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].isTypedArray(t)}function isPrimitive(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function deepClone(t){return deepMap(t,cloneIfTensor)}function cloneIfTensor(t){return t instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"]?{value:t.clone(),recurse:!1}:isIterable(t)?{value:null,recurse:!0}:{value:t,recurse:!1}}var RingBuffer=function(){function t(t){if(this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return t.prototype.wrap=function(t){for(;t<0;)t+=this.doubledCapacity;return t%this.doubledCapacity},t.prototype.get=function(t){if(t<0)throw new RangeError("Can't get item at a negative index.");return this.data[t%this.capacity]},t.prototype.set=function(t,e){if(t<0)throw new RangeError("Can't set item at a negative index.");this.data[t%this.capacity]=e},t.prototype.length=function(){var t=this.end-this.begin;return t<0&&(t=this.doubledCapacity+t),t},t.prototype.isFull=function(){return this.length()===this.capacity},t.prototype.isEmpty=function(){return 0===this.length()},t.prototype.push=function(t){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,t),this.end=this.wrap(this.end+1)},t.prototype.pushAll=function(t){for(var e=0,r=t;e<r.length;e++){var n=r[e];this.push(n)}},t.prototype.pop=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var t=this.get(this.end);return this.set(this.end,void 0),t},t.prototype.unshift=function(t){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,t)},t.prototype.shift=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),t},t.prototype.shuffleExcise=function(t){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.wrap(this.begin+t),r=this.get(e);return this.set(e,this.pop()),r},t}(),GrowingRingBuffer=function(t){function e(){return t.call(this,e.INITIAL_CAPACITY)||this}return __extends(e,t),e.prototype.isFull=function(){return!1},e.prototype.push=function(e){t.prototype.isFull.call(this)&&this.expand(),t.prototype.push.call(this,e)},e.prototype.unshift=function(e){t.prototype.isFull.call(this)&&this.expand(),t.prototype.unshift.call(this,e)},e.prototype.expand=function(){for(var t=2*this.capacity,e=new Array(t),r=this.length(),n=0;n<r;n++)e[n]=this.get(this.wrap(this.begin+n));this.data=e,this.capacity=t,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=r},e.INITIAL_CAPACITY=32,e}(RingBuffer);function iteratorFromItems(t){return new ArrayIterator(t)}function iteratorFromFunction(t){return new FunctionCallIterator(t)}function iteratorFromConcatenated(t,e){return new ChainedIterator(t,e)}function iteratorFromZipped(t,e){return void 0===e&&(e=ZipMismatchMode.FAIL),new ZipIterator(t,e)}var ZipMismatchMode,LazyIterator=function(){function t(){}return t.prototype.toArray=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(r){switch(r.label){case 0:return t=[],[4,this.next()];case 1:e=r.sent(),r.label=2;case 2:return e.done?[3,4]:(t.push(e.value),[4,this.next()]);case 3:return e=r.sent(),[3,2];case 4:return[2,t]}})})},t.prototype.toArrayForTest=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r;return __generator(this,function(n){switch(n.label){case 0:return t=this.prefetch(100),e=[],[4,t.next()];case 1:r=n.sent(),n.label=2;case 2:return r.done?[3,4]:(e.push(r.value),[4,t.next()]);case 3:return r=n.sent(),[3,2];case 4:return[2,e]}})})},t.prototype.resolveFully=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.next()];case 1:t=e.sent(),e.label=2;case 2:return t.done?[3,4]:[4,this.next()];case 3:return t=e.sent(),[3,2];case 4:return[2]}})})},t.prototype.resolveWhile=function(t){return __awaiter(this,void 0,void 0,function(){var e,r;return __generator(this,function(n){switch(n.label){case 0:return[4,this.next()];case 1:e=n.sent(),r=t(e.value),n.label=2;case 2:return e.done||!r?[3,4]:[4,this.next()];case 3:return e=n.sent(),r=t(e.value),[3,2];case 4:return[2]}})})},t.prototype.handleErrors=function(t){return new ErrorHandlingLazyIterator(this,t)},t.prototype.filter=function(t){return new FilterIterator(this,t)},t.prototype.map=function(t){return new MapIterator(this,t)},t.prototype.mapAsync=function(t){return new AsyncMapIterator(this,t)},t.prototype.serialMapAsync=function(t){return new AsyncMapIterator(this,t).serial()},t.prototype.flatmap=function(t){return new FlatmapIterator(this,t)},t.prototype.forEachAsync=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,this.map(t).resolveFully()]})})},t.prototype.serialForEach=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,this.serialMapAsync(t).resolveWhile(function(t){return!0===t})]})})},t.prototype.rowMajorBatch=function(t,e){return void 0===e&&(e=!0),new RowMajorBatchIterator(this,t,e)},t.prototype.columnMajorBatch=function(t,e,r){return void 0===e&&(e=!0),void 0===r&&(r=zipToList),this.rowMajorBatch(t,e).map(function(t){return deepZip(t,r)})},t.prototype.concatenate=function(t,e){return new ChainedIterator(iteratorFromItems([this,t]),e)},t.prototype.take=function(t){return t<0||null==t?this:new TakeIterator(this,t)},t.prototype.skip=function(t){return t<0||null==t?this:new SkipIterator(this,t)},t.prototype.prefetch=function(t){return new PrefetchIterator(this,t)},t.prototype.shuffle=function(t,e){return new ShuffleIterator(this,t,e)},t.prototype.serial=function(){return new SerialIterator(this)},t}(),ArrayIterator=function(t){function e(e){var r=t.call(this)||this;return r.items=e,r.trav=0,r}return __extends(e,t),e.prototype.summary=function(){return"Array of "+this.items.length+" items"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return this.trav>=this.items.length?[2,{value:null,done:!0}]:(t=this.items[this.trav],this.trav++,[2,{value:deepClone(t),done:!1}])})})},e}(LazyIterator),FunctionCallIterator=function(t){function e(e){var r=t.call(this)||this;return r.nextFn=e,r}return __extends(e,t),e.prototype.summary=function(){return"Function call"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){try{return[2,this.nextFn()]}catch(t){throw t.message="Error thrown while iterating through a dataset: "+t.message,t}return[2]})})},e}(LazyIterator),SerialIterator=function(t){function e(e){var r=t.call(this)||this;return r.upstream=e,r.lastRead=Promise.resolve({value:null,done:!1}),r}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Serial"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,this.upstream.next()]})})},e}(LazyIterator),SkipIterator=function(t){function e(e,r){var n=t.call(this)||this;return n.upstream=e,n.maxCount=r,n.count=0,n.lastRead=Promise.resolve({value:null,done:!1}),n}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Skip"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this.count++<this.maxCount?[4,this.upstream.next()]:[3,2];case 1:return(t=e.sent()).done?[2,t]:(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(t.value),[3,0]);case 2:return[2,this.upstream.next()]}})})},e}(LazyIterator),TakeIterator=function(t){function e(e,r){var n=t.call(this)||this;return n.upstream=e,n.maxCount=r,n.count=0,n}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Take"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.count++>=this.maxCount?[2,{value:null,done:!0}]:[2,this.upstream.next()]})})},e}(LazyIterator),RowMajorBatchIterator=function(t){function e(e,r,n){void 0===n&&(n=!0);var i=t.call(this)||this;return i.upstream=e,i.batchSize=r,i.enableSmallLastBatch=n,i.lastRead=Promise.resolve({value:null,done:!1}),i}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> RowMajorBatch"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(r){switch(r.label){case 0:t=[],r.label=1;case 1:return t.length<this.batchSize?[4,this.upstream.next()]:[3,3];case 2:return(e=r.sent()).done?this.enableSmallLastBatch&&t.length>0?[2,{value:t,done:!1}]:[2,{value:null,done:!0}]:(t.push(e.value),[3,1]);case 3:return[2,{value:t,done:!1}]}})})},e}(LazyIterator),FilterIterator=function(t){function e(e,r){var n=t.call(this)||this;return n.upstream=e,n.predicate=r,n.lastRead=Promise.resolve({value:null,done:!1}),n}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Filter"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.upstream.next()];case 1:return(t=e.sent()).done||this.predicate(t.value)?[2,t]:(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(t.value),[3,0]);case 2:return[2]}})})},e}(LazyIterator),MapIterator=function(t){function e(e,r){var n=t.call(this)||this;return n.upstream=e,n.transform=r,n}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Map"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r,n,i,o,a;return __generator(this,function(s){switch(s.label){case 0:return[4,this.upstream.next()];case 1:if((t=s.sent()).done)return[2,{value:null,done:!0}];for(e=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor_util"].getTensorsInContainer(t.value),r=this.transform(t.value),n=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor_util"].getTensorsInContainer(r),i=0,o=e;i<o.length;i++)a=o[i],_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor_util"].isTensorInList(a,n)||a.dispose();return[2,{value:r,done:!1}]}})})},e}(LazyIterator),ErrorHandlingLazyIterator=function(t){function e(e,r){var n=t.call(this)||this;return n.upstream=e,n.handler=r,n.count=0,n.lastRead=Promise.resolve({value:null,done:!1}),n}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> handleErrors"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.upstream.next()];case 2:return[2,e.sent()];case 3:return t=e.sent(),this.handler(t)?[3,4]:[2,{value:null,done:!0}];case 4:return[3,0];case 5:return[2]}})})},e}(LazyIterator),AsyncMapIterator=function(t){function e(e,r){var n=t.call(this)||this;return n.upstream=e,n.transform=r,n}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> AsyncMap"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r,n,i,o,a;return __generator(this,function(s){switch(s.label){case 0:return[4,this.upstream.next()];case 1:return(t=s.sent()).done?[2,{value:null,done:!0}]:(e=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor_util"].getTensorsInContainer(t.value),[4,this.transform(t.value)]);case 2:for(r=s.sent(),n=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor_util"].getTensorsInContainer(r),i=0,o=e;i<o.length;i++)a=o[i],_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor_util"].isTensorInList(a,n)||a.dispose();return[2,{value:r,done:!1}]}})})},e}(LazyIterator),OneToManyIterator=function(t){function e(){var e=t.call(this)||this;return e.outputQueue=new GrowingRingBuffer,e.lastRead=Promise.resolve({value:null,done:!1}),e}return __extends(e,t),e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return 0!==this.outputQueue.length()?[3,2]:[4,this.pump()];case 1:return t.sent()?[3,0]:[2,{value:null,done:!0}];case 2:return[2,{value:this.outputQueue.shift(),done:!1}]}})})},e}(LazyIterator),FlatmapIterator=function(t){function e(e,r){var n=t.call(this)||this;return n.upstream=e,n.transform=r,n}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Flatmap"},e.prototype.pump=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r,n,i,o,a;return __generator(this,function(s){switch(s.label){case 0:return[4,this.upstream.next()];case 1:if((t=s.sent()).done)return[2,!1];for(e=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor_util"].getTensorsInContainer(t.value),r=this.transform(t.value),n=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor_util"].getTensorsInContainer(r),this.outputQueue.pushAll(r),i=0,o=e;i<o.length;i++)a=o[i],_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor_util"].isTensorInList(a,n)||a.dispose();return[2,!0]}})})},e}(OneToManyIterator),ChainedIterator=function(t){function e(e,r){var n=t.call(this)||this;return n.baseErrorHandler=r,n.lastRead=null,n.iterator=null,n.moreIterators=e,n}return __extends(e,t),e.prototype.summary=function(){return"TODO: fill in upstream of chained summaries -> Chained"},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.lastRead=this.readFromChain(this.lastRead),[2,this.lastRead]})})},e.prototype.readFromChain=function(t){return __awaiter(this,void 0,void 0,function(){var e,r;return __generator(this,function(n){switch(n.label){case 0:return[4,t];case 1:return n.sent(),null!=this.iterator?[3,3]:[4,this.moreIterators.next()];case 2:if((e=n.sent()).done)return[2,{value:null,done:!0}];this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler)),n.label=3;case 3:return[4,this.iterator.next()];case 4:return(r=n.sent()).done?(this.iterator=null,[2,this.readFromChain(t)]):[2,r]}})})},e}(LazyIterator);!function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"}(ZipMismatchMode||(ZipMismatchMode={}));var ZipIterator=function(t){function e(e,r){void 0===r&&(r=ZipMismatchMode.FAIL);var n=t.call(this)||this;return n.iterators=e,n.mismatchMode=r,n.count=0,n.currentPromise=null,n}return __extends(e,t),e.prototype.summary=function(){return"{TODO: fill in upstream of zip summaries} -> Zip"},e.prototype.nextState=function(t){return __awaiter(this,void 0,void 0,function(){function e(t){return t instanceof LazyIterator?{value:t.next().then(function(t){return r++,t.done&&n++,t.value}),recurse:!1}:{value:null,recurse:!0}}var r,n,i;return __generator(this,function(o){switch(o.label){case 0:return[4,t];case 1:return o.sent(),r=0,n=0,[4,deepMapAndAwaitAll(this.iterators,e)];case 2:if(i=o.sent(),r===n)return[2,{value:null,done:!0}];if(n>0)switch(this.mismatchMode){case ZipMismatchMode.FAIL:throw new Error("Zipped streams should have the same length. Mismatched at element "+this.count+".");case ZipMismatchMode.SHORTEST:return[2,{value:null,done:!0}];case ZipMismatchMode.LONGEST:}return this.count++,[2,{value:i,done:!1}]}})})},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.currentPromise=this.nextState(this.currentPromise),[2,this.currentPromise]})})},e}(LazyIterator),PrefetchIterator=function(t){function e(e,r){var n=t.call(this)||this;return n.upstream=e,n.bufferSize=r,n.buffer=new RingBuffer(r),n}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Prefetch"},e.prototype.refill=function(){for(;!this.buffer.isFull();){var t=this.upstream.next();this.buffer.push(t)}},e.prototype.next=function(){return this.refill(),this.buffer.shift()},e}(LazyIterator),ShuffleIterator=function(t){function e(e,r,n){var i=t.call(this,e,r)||this;return i.upstream=e,i.windowSize=r,i.upstreamExhausted=!1,i.random=seedrandom_1(n||_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].now().toString()),i.lastRead=Promise.resolve({value:null,done:!1}),i}return __extends(e,t),e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.randomInt=function(t){return Math.floor(this.random()*t)},e.prototype.chooseIndex=function(){return this.randomInt(this.buffer.length())},e.prototype.serialNext=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(r){switch(r.label){case 0:this.upstreamExhausted||this.refill(),r.label=1;case 1:return this.buffer.isEmpty()?[3,3]:(t=this.chooseIndex(),[4,this.buffer.shuffleExcise(t)]);case 2:return(e=r.sent()).done?(this.upstreamExhausted=!0,[3,1]):(this.refill(),[2,e]);case 3:return[2,{value:null,done:!0}]}})})},e}(PrefetchIterator),Dataset=function(){function t(){this.size=null}return t.prototype.batch=function(t,e){var r=this;void 0===e&&(e=!0);var n=this;return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(t>0,function(){return"batchSize needs to be positive, but it is\n      "+t}),datasetFromIteratorFn(function(){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,n.iterator()];case 1:return[2,r.sent().columnMajorBatch(t,e,deepBatchConcat)]}})})},this.size===1/0||null==this.size?this.size:e?Math.ceil(this.size/t):Math.floor(this.size/t))},t.prototype.concatenate=function(t){var e=this,r=this;return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){var e,n;return __generator(this,function(i){switch(i.label){case 0:return[4,r.iterator()];case 1:return n=(e=i.sent()).concatenate,[4,t.iterator()];case 2:return[2,n.apply(e,[i.sent()])]}})})},this.size===1/0||t.size===1/0?1/0:null!=this.size&&null!=t.size?this.size+t.size:null)},t.prototype.filter=function(t){var e=this,r=this;return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,r.iterator()];case 1:return[2,e.sent().filter(function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return t(e)})})]}})})},this.size===1/0?1/0:null)},t.prototype.forEachAsync=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.iterator()];case 1:return[2,e.sent().forEachAsync(t)]}})})},t.prototype.forEach=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["deprecationWarn"])("dataset.forEach() is deprecated and will be removed. Please use dataset.forEachAsync() instead"),[2,this.forEachAsync(t)]})})},t.prototype.map=function(t){var e=this,r=this;return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,r.iterator()];case 1:return[2,e.sent().map(function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return t(e)})})]}})})},this.size)},t.prototype.mapAsync=function(t){var e=this,r=this;return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,r.iterator()];case 1:return[2,e.sent().mapAsync(t)]}})})},this.size)},t.prototype.prefetch=function(t){var e=this;if(null==t)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var r=this;return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,r.iterator()];case 1:return[2,e.sent().prefetch(t)]}})})},this.size)},t.prototype.repeat=function(t){var e=this,r=this;return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){var e=this;return __generator(this,function(n){return[2,iteratorFromConcatenated(iteratorFromFunction(function(){return __awaiter(e,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t={},[4,r.iterator()];case 1:return[2,(t.value=e.sent(),t.done=!1,t)]}})})}).take(t))]})})},null!=this.size&&t>0?this.size*t:0===t?0:null!=this.size&&(void 0===t||t<0)?1/0:null)},t.prototype.skip=function(t){var e=this,r=this;return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,r.iterator()];case 1:return[2,e.sent().skip(t)]}})})},null!=this.size&&t>=0&&this.size>=t?this.size-t:null!=this.size&&(this.size<t||void 0===t||t<0)?0:null)},t.prototype.shuffle=function(t,e,r){var n=this;if(void 0===r&&(r=!0),null==t||t<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting bufferSize to the dataset size ("+this.size+" elements)");var i=this,o=seedrandom_1(e||_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].now().toString());return datasetFromIteratorFn(function(){return __awaiter(n,void 0,void 0,function(){var e;return __generator(this,function(n){switch(n.label){case 0:return e=o.int32(),r&&(e+=o.int32()),[4,i.iterator()];case 1:return[2,n.sent().shuffle(t,e.toString())]}})})},this.size)},t.prototype.take=function(t){var e=this,r=this;return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,r.iterator()];case 1:return[2,e.sent().take(t)]}})})},null!=this.size&&this.size>t?t:null!=this.size&&this.size<=t?this.size:null)},t.prototype.toArray=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,t.sent().toArray()]}})})},t.prototype.toArrayForTest=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,t.sent().toArrayForTest()]}})})},t.MAX_BUFFER_SIZE=1e4,t}();function datasetFromIteratorFn(t,e){return void 0===e&&(e=null),new(function(r){function n(){var t=null!==r&&r.apply(this,arguments)||this;return t.size=e,t}return __extends(n,r),n.prototype.iterator=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,t()]})})},n}(Dataset))}function array(t){var e=this;return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){return[2,iteratorFromItems(t)]})})},t.length)}function zip(t){var e,r=this;if(!isIterable(t))throw new Error("The argument to zip() must be an object or array.");if(Array.isArray(t))for(var n=0;n<t.length;n++)e=null==e?t[n].size:Math.min(e,t[n].size);else if(t instanceof Object)for(var i in t)e=null==e?t[i].size:Math.min(e,t[i].size);return datasetFromIteratorFn(function(){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,deepMapAndAwaitAll(t,function(t){if(t instanceof Dataset)return{value:t.iterator(),recurse:!1};if(isIterable(t))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")})];case 1:return[2,iteratorFromZipped(e.sent(),ZipMismatchMode.SHORTEST)]}})})},e)}function deepBatchConcat(t){return null===t?null:canTensorify(t[0])?{value:batchConcat(t),recurse:!1}:{value:null,recurse:!0}}function batchConcat(t){if(0===t.length)throw new Error("Can't make a batch of zero elements.");return t[0]instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"]?Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["stack"])(t):Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor"])(t)}var TextLineDataset=function(t){function e(e){var r=t.call(this)||this;return r.input=e,r}return __extends(e,t),e.prototype.iterator=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(r){switch(r.label){case 0:return[4,this.input.iterator()];case 1:return t=r.sent(),e=t.decodeUTF8(),[2,e.split("\n").map(function(t){return t.endsWith("\r")&&(t=t.slice(0,-1)),t})]}})})},e}(Dataset),CODE_QUOTE='"',STATE_OUT=Symbol("out"),STATE_FIELD=Symbol("field"),STATE_QUOTE=Symbol("quote"),STATE_QUOTE_AFTER_QUOTE=Symbol("quoteafterquote"),STATE_WITHIN_QUOTE_IN_QUOTE=Symbol("quoteinquote"),CSVDataset=function(t){function e(e,r){var n=t.call(this)||this;return n.input=e,n.hasHeader=!0,n.fullColumnNames=null,n.columnNamesValidated=!1,n.columnConfigs=null,n.configuredColumnsOnly=!1,n.delimiter=",",n.delimWhitespace=!1,n.base=new TextLineDataset(e),r||(r={}),n.hasHeader=!1!==r.hasHeader,n.fullColumnNames=r.columnNames,n.columnConfigs=r.columnConfigs,n.configuredColumnsOnly=r.configuredColumnsOnly,r.delimWhitespace?(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(null==r.delimiter,function(){return"Delimiter should not be provided when delimWhitespace is true."}),n.delimWhitespace=!0,n.delimiter=" "):n.delimiter=r.delimiter?r.delimiter:",",n}return __extends(e,t),e.prototype.columnNames=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:t.sent(),t.label=2;case 2:return[2,this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames]}})})},e.prototype.setColumnNames=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r,n,i,o,a=this;return __generator(this,function(s){switch(s.label){case 0:return[4,this.maybeReadHeaderLine()];case 1:if(t=s.sent(),!this.fullColumnNames&&!t)throw new Error("Column names must be provided if there is no header line.");if(this.fullColumnNames&&t&&_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(t.length===this.fullColumnNames.length,function(){return"The length of provided columnNames ("+a.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+t.length.toString()+")."}),this.fullColumnNames||(this.fullColumnNames=t),e=this.fullColumnNames.reduce(function(t,e){return t[e]=t[e]+1||1,t},{}),r=Object.keys(e).filter(function(t){return e[t]>1}),_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(0===r.length,function(){return"Duplicate column names found: "+r.toString()}),this.columnConfigs)for(n=0,i=Object.keys(this.columnConfigs);n<i.length;n++)if(o=i[n],-1===this.fullColumnNames.indexOf(o))throw new Error('The key "'+o+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");return this.columnNamesValidated=!0,[2]}})})},e.prototype.maybeReadHeaderLine=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(r){switch(r.label){case 0:return this.hasHeader?[4,this.base.iterator()]:[3,3];case 1:return[4,r.sent().next()];case 2:if((t=r.sent()).done)throw new Error("No data was found for CSV parsing.");return e=t.value,[2,this.parseRow(e,!1)];case 3:return[2,null]}})})},e.prototype.iterator=function(){return __awaiter(this,void 0,void 0,function(){var t,e=this;return __generator(this,function(r){switch(r.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:r.sent(),r.label=2;case 2:return[4,this.base.iterator()];case 3:return t=r.sent(),this.hasHeader&&(t=t.skip(1)),[2,t.map(function(t){return e.makeDataElement(t)})]}})})},e.prototype.makeDataElement=function(t){for(var e=this.parseRow(t),r={},n={},i=0;i<this.fullColumnNames.length;i++){var o=this.fullColumnNames[i],a=this.columnConfigs?this.columnConfigs[o]:null;if(!this.configuredColumnsOnly||a){var s=e[i],u=null;if(""===s)if(a&&void 0!==a.default)u=a.default;else{if(a&&(a.required||a.isLabel))throw new Error("Required column "+o+" is empty in this line: "+t);u=void 0}else{var c=Number(s);if(isNaN(c))u=a&&"bool"===a.dtype?this.getBoolean(s):s;else if(a&&a.dtype)switch(a.dtype){case"float32":u=c;break;case"int32":u=Math.floor(c);break;case"bool":u=this.getBoolean(s);break;default:u=c}else u=c}a&&a.isLabel?n[o]=u:r[o]=u}}return 0===Object.keys(n).length?r:{xs:r,ys:n}},e.prototype.getBoolean=function(t){return"1"===t||"true"===t.toLowerCase()?1:0},e.prototype.parseRow=function(t,e){void 0===e&&(e=!0);for(var r=[],n=0,i=t.length,o=STATE_OUT,a=0;a<i;a++)switch(o){case STATE_OUT:switch(t.charAt(a)){case CODE_QUOTE:n=a+1,o=STATE_QUOTE;break;case this.delimiter:if(n=a+1," "===this.delimiter&&this.delimWhitespace)break;r.push(""),o=STATE_OUT;break;default:o=STATE_FIELD,n=a}break;case STATE_FIELD:switch(t.charAt(a)){case this.delimiter:r.push(t.substring(n,a)),o=STATE_OUT,n=a+1}break;case STATE_QUOTE:switch(t.charAt(a)){case CODE_QUOTE:o=STATE_QUOTE_AFTER_QUOTE}break;case STATE_QUOTE_AFTER_QUOTE:switch(t.charAt(a)){case this.delimiter:r.push(t.substring(n,a-1)),o=STATE_OUT,n=a+1;break;case CODE_QUOTE:o=STATE_QUOTE;break;default:o=STATE_WITHIN_QUOTE_IN_QUOTE}break;case STATE_WITHIN_QUOTE_IN_QUOTE:switch(t.charAt(a)){case CODE_QUOTE:o=STATE_QUOTE}}if(o===STATE_QUOTE_AFTER_QUOTE?r.push(t.substring(n,i-1)):r.push(t.substring(n)),e&&r.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have "+this.fullColumnNames.length+" elements in a row, but got "+r);return r},e}(Dataset),MicrophoneIterator=function(t){function e(e){var r=t.call(this)||this;r.microphoneConfig=e,r.isClosed=!1,r.fftSize=e.fftSize||1024;var n=Math.log2(r.fftSize);if(r.fftSize<0||n<4||n>14||!Number.isInteger(n))throw new Error("Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got "+r.fftSize);if(r.numFrames=e.numFramesPerSpectrogram||43,r.sampleRateHz=e.sampleRateHz,r.columnTruncateLength=e.columnTruncateLength||r.fftSize,r.audioTrackConstraints=e.audioTrackConstraints,r.smoothingTimeConstant=e.smoothingTimeConstant||0,r.includeSpectrogram=!1!==e.includeSpectrogram,r.includeWaveform=!0===e.includeWaveform,!r.includeSpectrogram&&!r.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return r}return __extends(e,t),e.prototype.summary=function(){return"microphone"},e.create=function(t){return void 0===t&&(t={}),__awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(n){switch(n.label){case 0:if(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["env"])().get("IS_NODE"))throw new Error("microphone API is only supported in browser environment.");return[4,(r=new e(t)).start()];case 1:return n.sent(),[2,r]}})})},e.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r,n;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=this,[4,navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1})];case 1:return t.stream=i.sent(),[3,3];case 2:throw e=i.sent(),new Error("Error thrown while initializing video stream: "+e.message);case 3:if(!this.stream)throw new Error("Could not obtain audio from microphone.");if(r=window.AudioContext||window.webkitAudioContext,this.audioContext=new r,this.sampleRateHz){if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error("Mismatch in sampling rate: Expected: "+this.sampleRateHz+"; Actual: "+this.audioContext.sampleRate)}else this.sampleRateHz=this.audioContext.sampleRate;return n=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,n.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize),[2]}})})},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r,n,i;return __generator(this,function(o){switch(o.label){case 0:return this.isClosed?[2,{value:null,done:!0}]:[4,this.getAudioData()];case 1:return r=o.sent(),this.includeSpectrogram&&(n=this.flattenQueue(r.freqDataQueue),t=this.getTensorFromAudioDataArray(n,[this.numFrames,this.columnTruncateLength,1])),this.includeWaveform&&(i=this.flattenQueue(r.timeDataQueue),e=this.getTensorFromAudioDataArray(i,[this.numFrames*this.fftSize,1])),[2,{value:{spectrogram:t,waveform:e},done:!1}]}})})},e.prototype.capture=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.next()];case 1:return[2,t.sent().value]}})})},e.prototype.getAudioData=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r,n=this;return __generator(this,function(i){return t=[],e=[],r=0,[2,new Promise(function(i){var o=setInterval(function(){n.includeSpectrogram&&(n.analyser.getFloatFrequencyData(n.freqData),n.freqData[0]===-1/0&&i({freqDataQueue:t,timeDataQueue:e}),t.push(n.freqData.slice(0,n.columnTruncateLength))),n.includeWaveform&&(n.analyser.getFloatTimeDomainData(n.timeData),e.push(n.timeData.slice())),++r===n.numFrames&&(clearInterval(o),i({freqDataQueue:t,timeDataQueue:e}))},n.fftSize/n.sampleRateHz*1e3)})]})})},e.prototype.stop=function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())},e.prototype.toArray=function(){throw new Error("Can not convert infinite audio stream to array.")},e.prototype.getSampleRate=function(){return this.sampleRateHz},e.prototype.flattenQueue=function(t){var e=t[0].length,r=new Float32Array(t.length*e);return t.forEach(function(t,n){return r.set(t,n*e)}),r},e.prototype.getTensorFromAudioDataArray=function(t,e){var r=new Float32Array(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].sizeFromShape(e));return r.set(t,r.length-t.length),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor"])(r,e)},e}(LazyIterator),WebcamIterator=function(t){function e(e,r){var n=t.call(this)||this;if(n.webcamVideoElement=e,n.webcamConfig=r,n.isClosed=!0,n.resize=!1,n.needToResize())if(n.resize=!0,n.cropSize=[n.webcamConfig.resizeHeight,n.webcamConfig.resizeWidth],n.cropBoxInd=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor1d"])([0],"int32"),n.webcamConfig.centerCrop){var i=1*n.webcamConfig.resizeWidth/n.webcamVideoElement.width,o=1*n.webcamConfig.resizeHeight/n.webcamVideoElement.height,a=(1-i)/2,s=(1-o)/2,u=a+i,c=o+s;n.cropBox=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor2d"])([s,a,c,u],[1,4])}else n.cropBox=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor2d"])([0,0,1,1],[1,4]);return n}return __extends(e,t),e.prototype.summary=function(){return"webcam"},e.create=function(t,r){return void 0===r&&(r={}),__awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:if(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["env"])().get("IS_NODE"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!t){if(t=document.createElement("video"),!r.resizeWidth||!r.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");t.width=r.resizeWidth,t.height=r.resizeHeight}return[4,(n=new e(t,r)).start()];case 1:return i.sent(),[2,n]}})})},e.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r=this;return __generator(this,function(n){switch(n.label){case 0:this.webcamConfig.facingMode&&_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,function(){return"Invalid webcam facing mode: "+r.webcamConfig.facingMode+". Please provide 'user' or 'environment'"}),n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})];case 2:return t.stream=n.sent(),[3,4];case 3:throw(e=n.sent()).message="Error thrown while initializing video stream: "+e.message,e;case 4:if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(t){console.log(t),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,[2,new Promise(function(t){r.webcamVideoElement.onloadedmetadata=function(){t()}})]}})})},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){if(this.isClosed)return[2,{value:null,done:!0}];try{t=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["browser"].fromPixels(this.webcamVideoElement)}catch(t){throw new Error("Error thrown converting video to pixels: "+JSON.stringify(t))}if(!this.resize)return[2,{value:t,done:!1}];try{return[2,{value:this.cropAndResizeFrame(t),done:!1}]}catch(t){throw new Error("Error thrown cropping the video: "+t.message)}finally{t.dispose()}return[2]})})},e.prototype.needToResize=function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)},e.prototype.cropAndResizeFrame=function(t){var e=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r,n=t.toFloat().expandDims(0),i=(r=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["image"].cropAndResize(n,e.cropBox,e.cropBoxInd,e.cropSize,"bilinear")).shape;return r.reshape(i.slice(1))})},e.prototype.capture=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.next()];case 1:return[2,t.sent().value]}})})},e.prototype.stop=function(){this.stream.getTracks().forEach(function(t){return t.stop()});try{this.webcamVideoElement.srcObject=null}catch(t){console.log(t),this.webcamVideoElement.src=null}this.isClosed=!0},e.prototype.toArray=function(){throw new Error("Can not convert infinite video stream to array.")},e}(LazyIterator),DataSource=function(){return function(){}}(),StringIterator=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.split=function(t){return new SplitIterator(this,t)},e}(LazyIterator),SplitIterator=function(t){function e(e,r){var n=t.call(this)||this;return n.upstream=e,n.impl=new SplitIteratorImpl(e,r),n}return __extends(e,t),e.prototype.summary=function(){return this.impl.summary()},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,this.impl.next()]})})},e}(StringIterator),SplitIteratorImpl=function(t){function e(e,r){var n=t.call(this)||this;return n.upstream=e,n.separator=r,n.carryover="",n}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Split('"+this.separator+"')"},e.prototype.pump=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r,n,i;return __generator(this,function(o){switch(o.label){case 0:return[4,this.upstream.next()];case 1:if((t=o.sent()).done)return""===this.carryover?[2,!1]:(this.outputQueue.push(this.carryover),this.carryover="",[2,!0]);for((e=t.value.split(this.separator))[0]=this.carryover+e[0],r=0,n=e.slice(0,-1);r<n.length;r++)i=n[r],this.outputQueue.push(i);return this.carryover=e[e.length-1],[2,!0]}})})},e}(OneToManyIterator),ByteChunkIterator=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.decodeUTF8=function(){return new Utf8Iterator(this)},e}(LazyIterator),Utf8Iterator=function(t){function e(e){var r=t.call(this)||this;return r.upstream=e,r.impl=new Utf8IteratorImpl(e),r}return __extends(e,t),e.prototype.summary=function(){return this.impl.summary()},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,this.impl.next()]})})},e}(StringIterator),Utf8IteratorImpl=function(t){function e(e){var r=t.call(this)||this;if(r.upstream=e,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["env"])().get("IS_BROWSER"))r.decoder=new TextDecoder("utf-8");else{var n=__webpack_require__(/*! string_decoder */ 4).StringDecoder;r.decoder=new n("utf8")}return r}return __extends(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Utf8"},e.prototype.pump=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r;return __generator(this,function(n){switch(n.label){case 0:return[4,this.upstream.next()];case 1:return(t=n.sent()).done?[2,!1]:(e=t.value,r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["env"])().get("IS_BROWSER")?this.decoder.decode(e,{stream:!0}):this.decoder.write(Buffer.from(e.buffer)),this.outputQueue.push(r),[2,!0])}})})},e}(OneToManyIterator),FileChunkIterator=function(t){function e(e,r){void 0===r&&(r={});var n=t.call(this)||this;return n.file=e,n.options=r,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(e instanceof Uint8Array||!!Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["env"])().get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."}),n.offset=r.offset||0,n.chunkSize=r.chunkSize||1048576,n}return __extends(e,t),e.prototype.summary=function(){return"FileChunks "+this.file},e.prototype.next=function(){return __awaiter(this,void 0,void 0,function(){var t,e,r=this;return __generator(this,function(n){switch(n.label){case 0:return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?[2,{value:null,done:!0}]:(t=new Promise(function(t,e){var n=r.offset+r.chunkSize;if(r.file instanceof Uint8Array)t(new Uint8Array(r.file.slice(r.offset,n)));else{var i=new FileReader;i.onload=function(r){var n=i.result;if(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),!(n instanceof Uint8Array))return e(new TypeError("FileReader returned unknown type."));t(n)},i.onabort=function(t){return e(new Error("Aborted"))},i.onerror=function(t){return e(new Error(t.type))};var o=r.file.slice(r.offset,n);i.readAsArrayBuffer(o)}r.offset=n}),e={},[4,t]);case 1:return[2,(e.value=n.sent(),e.done=!1,e)]}})})},e}(ByteChunkIterator);function urlChunkIterator(t,e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,function(){var r,n,i,o,a;return __generator(this,function(s){switch(s.label){case 0:return"string"==typeof t?r=t:(r=t.url,n=getRequestInitFromRequest(t)),[4,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].fetch(r,n)];case 1:return(i=s.sent()).ok?(a=Uint8Array.bind,[4,i.arrayBuffer()]):[3,3];case 2:return o=new(a.apply(Uint8Array,[void 0,s.sent()])),[2,new FileChunkIterator(o,e)];case 3:throw new Error(i.statusText)}})})}var getRequestInitFromRequest=function(t){return{method:t.method,headers:t.headers,body:t.body,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity}};function isLocalPath(t){return"string"==typeof t&&"file://"===t.substr(0,7)}var FileDataSource=function(t){function e(e,r){void 0===r&&(r={});var n=t.call(this)||this;return n.input=e,n.options=r,n}return __extends(e,t),e.prototype.iterator=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return isLocalPath(this.input)&&Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["env"])().get("IS_NODE")&&(t=__webpack_require__(/*! fs */ 5),this.input=t.readFileSync(this.input.substr(7))),[2,new FileChunkIterator(this.input,this.options)]})})},e}(DataSource),URLDataSource=function(t){function e(e,r){void 0===r&&(r={});var n=t.call(this)||this;return n.url=e,n.fileOptions=r,n}return __extends(e,t),e.prototype.iterator=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return isLocalPath(this.url)?[2,new FileDataSource(this.url,this.fileOptions).iterator()]:[2,urlChunkIterator(this.url,this.fileOptions)]})})},e}(DataSource);function csv(t,e){return void 0===e&&(e={}),new CSVDataset(new URLDataSource(t),e)}function func(t){var e=this,r=iteratorFromFunction(t);return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(t){return[2,r]})})})}function generator(t){var e=this;return datasetFromIteratorFn(function(){return __awaiter(e,void 0,void 0,function(){var e;return __generator(this,function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,iteratorFromFunction(function(){return e.next()})]}})})})}function webcam(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){return[2,WebcamIterator.create(t,e)]})})}function microphone(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,MicrophoneIterator.create(t)]})})}var version="1.7.4";
//# sourceMappingURL=tf-data.esm.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../../../node-libs-browser/node_modules/buffer/index.js */ "./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/@tensorflow/tfjs-layers/dist/tf-layers.esm.js":
/*!********************************************************************!*\
  !*** ./node_modules/@tensorflow/tfjs-layers/dist/tf-layers.esm.js ***!
  \********************************************************************/
/*! exports provided: constraints, initializers, layers, metrics, models, regularizers, CallbackList, CustomCallback, History, Callback, callbacks, EarlyStopping, InputSpec, SymbolicTensor, LayersModel, input, loadLayersModel, model, registerCallbackConstructor, sequential, RNN, Sequential, LayerVariable, version_layers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "constraints", function() { return exports_constraints; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initializers", function() { return exports_initializers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "layers", function() { return exports_layers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "metrics", function() { return exports_metrics; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "models", function() { return exports_models; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "regularizers", function() { return exports_regularizers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CallbackList", function() { return CallbackList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CustomCallback", function() { return CustomCallback; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "History", function() { return History; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Callback", function() { return Callback; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "callbacks", function() { return callbacks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EarlyStopping", function() { return EarlyStopping; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InputSpec", function() { return InputSpec; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SymbolicTensor", function() { return SymbolicTensor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayersModel", function() { return LayersModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "input", function() { return input; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadLayersModel", function() { return loadLayersModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "model", function() { return model; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "registerCallbackConstructor", function() { return registerCallbackConstructor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sequential", function() { return sequential; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RNN", function() { return RNN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sequential", function() { return Sequential; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayerVariable", function() { return LayerVariable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "version_layers", function() { return version; });
/* harmony import */ var _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tensorflow/tfjs-core */ "./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js");
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var _epsilon,__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __awaiter(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})}function __generator(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function epsilon(){return null==_epsilon&&(_epsilon=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["backend"])().epsilon()),_epsilon}function imageDataFormat(){return"channelsLast"}var AttributeError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),RuntimeError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),ValueError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),NotImplementedError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),AssertionError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),IndexError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error);function pyListRepeat(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}return(n=new Array(t)).fill(e),n}function assert(e,t){if(!e)throw new AssertionError(t)}function count(e,t){for(var n=0,r=0,i=e;r<i.length;r++){i[r]===t&&n++}return n}function singletonOrArray(e){return 1===e.length?e[0]:e}function toList(e){return Array.isArray(e)?e:[e]}function toSnakeCase(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function toCamelCase(e){return e.length<=1?e:-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,function(e,t){return t.toUpperCase()})}var _GLOBAL_CUSTOM_OBJECTS={};function serializeKerasObject(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function convertNDArrayScalarsInConfig(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach(function(e){return convertNDArrayScalarsInConfig(e)});else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],i=e[r];null!=i&&"object"==typeof i&&(Array.isArray(i)||"ndarray"!==i.type||"number"!=typeof i.value?convertNDArrayScalarsInConfig(i):e[r]=i.value)}}function deserializeKerasObject(e,t,n,r,i){var a,o,s;if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r="object"),void 0===i&&(i=!1),"string"==typeof e){var l=e,u=void 0;if(l in n)u=n[l];else if(l in _GLOBAL_CUSTOM_OBJECTS)u=_GLOBAL_CUSTOM_OBJECTS[l];else if(null==(u=t[l]))throw new ValueError("Unknown "+r+": "+e+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");return u}var c=e;if(null==c.className||null==c.config)throw new ValueError(r+": Improper config format: "+JSON.stringify(c)+".\n'className' and 'config' must set.");var p=c.className,h=void 0,d=void 0;if(p in n?(h=(a=n[p])[0],d=a[1]):p in _GLOBAL_CUSTOM_OBJECTS?(h=(o=_GLOBAL_CUSTOM_OBJECTS.className)[0],d=o[1]):p in t&&(h=(s=t[p])[0],d=s[1]),null==h)throw new ValueError("Unknown "+r+": "+p+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");if(null!=d){for(var f={},g=0,m=Object.keys(_GLOBAL_CUSTOM_OBJECTS);g<m.length;g++){f[S=m[g]]=_GLOBAL_CUSTOM_OBJECTS[S]}for(var y=0,v=Object.keys(n);y<v.length;y++){f[S=v[y]]=n[S]}c.config.customObjects=f;for(var b=__assign({},_GLOBAL_CUSTOM_OBJECTS),w=0,z=Object.keys(n);w<z.length;w++){var S=z[w];_GLOBAL_CUSTOM_OBJECTS[S]=n[S]}convertNDArrayScalarsInConfig(c.config);var A=d(h,c.config,n,i);return _GLOBAL_CUSTOM_OBJECTS=__assign({},b),A}b=__assign({},_GLOBAL_CUSTOM_OBJECTS);for(var _=0,I=Object.keys(n);_<I.length;_++){S=I[_];_GLOBAL_CUSTOM_OBJECTS[S]=n[S]}A=new h(c.config);return _GLOBAL_CUSTOM_OBJECTS=__assign({},b),A}function numberCompare(e,t){return e<t?-1:e>t?1:0}function reverseNumberCompare(e,t){return-1*numberCompare(e,t)}function unique(e){if(null==e)return e;for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];-1===t.indexOf(i)&&t.push(i)}return t}function isObjectEmpty(e){if(null==e)throw new ValueError("Invalid value in obj: "+JSON.stringify(e));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function checkStringTypeUnionValue(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new ValueError(n+" is not a valid "+t+".  Valid values are "+e+" or null/undefined.")}function checkArrayTypeAndLength(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1/0),assert(n>=0),assert(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(function(e){return typeof e===t})}function assertPositiveInteger(e,t){Array.isArray(e)?(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(e.length>0,function(){return t+" is unexpectedly an empty array."}),e.forEach(function(e,n){return assertPositiveInteger(e,"element "+(n+1)+" of "+t)})):_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(Number.isInteger(e)&&e>0,function(){return"Expected "+t+" to be a positive integer, but got "+formatAsFriendlyString(e)+"."})}function formatAsFriendlyString(e){return null===e?"null":Array.isArray(e)?"["+e.map(function(e){return formatAsFriendlyString(e)}).join(",")+"]":"string"==typeof e?'"'+e+'"':""+e}function debounce(e,t){var n,r=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].now();return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].now();return o-r<t?n:(r=o,n=e.apply(void 0,i))}}function mapActivationToFusedKernel(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function calcL2Norms(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sqrt"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mulStrict"])(e,e),t,!0))})}var Constraint=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getConfig=function(){return{}},t}(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].Serializable),MaxNorm=function(e){function t(t){var n=e.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=calcL2Norms(e,t.axis),r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(n,0,t.maxValue);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(r,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(epsilon(),n)))})},t.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},t.className="MaxNorm",t}(Constraint);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(MaxNorm);var UnitNorm=function(e){function t(t){var n=e.call(this)||this;return n.defaultAxis=0,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(e,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(epsilon(),calcL2Norms(e,t.axis)))})},t.prototype.getConfig=function(){return{axis:this.axis}},t.className="UnitNorm",t}(Constraint);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(UnitNorm);var NonNeg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["relu"])(e)},t.className="NonNeg",t}(Constraint);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(NonNeg);var MinMaxNorm=function(e){function t(t){var n=e.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=t.minValue?t.minValue:n.defaultMinValue,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.rate=null!=t.rate?t.rate:n.defaultRate,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=calcL2Norms(e,t.axis),r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(t.rate,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(n,t.minValue,t.maxValue)),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(1-t.rate,n));return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(r,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(epsilon(),n)))})},t.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},t.className="MinMaxNorm",t}(Constraint);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(MinMaxNorm);var CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function serializeConstraint(e){return serializeKerasObject(e)}function deserializeConstraint(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].SerializationMap.getMap().classNameMap,t,"constraint")}function getConstraint(e){return null==e?null:"string"==typeof e?deserializeConstraint({className:e in CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP?CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP[e]:e,config:{}}):e instanceof Constraint?e:deserializeConstraint(e)}function maxNorm(e){return new MaxNorm(e)}function unitNorm(e){return new UnitNorm(e)}function nonNeg(){return new NonNeg}function minMaxNorm(e){return new MinMaxNorm(e)}var exports_constraints=Object.freeze({maxNorm:maxNorm,unitNorm:unitNorm,nonNeg:nonNeg,minMaxNorm:minMaxNorm}),VALID_DATA_FORMAT_VALUES=["channelsFirst","channelsLast"],VALID_PADDING_MODE_VALUES=["valid","same","causal"],VALID_POOL_MODE_VALUES=["max","avg"],VALID_BIDIRECTIONAL_MERGE_MODES=["sum","mul","concat","ave"],nameMap=new Map;function checkDataFormat(e){checkStringTypeUnionValue(VALID_DATA_FORMAT_VALUES,"DataFormat",e)}function checkPaddingMode(e){checkStringTypeUnionValue(VALID_PADDING_MODE_VALUES,"PaddingMode",e)}function checkPoolMode(e){checkStringTypeUnionValue(VALID_POOL_MODE_VALUES,"PoolMode",e)}var _nameScopeStack=[],_nameScopeDivider="/";function nameScope(e,t){_nameScopeStack.push(e);try{var n=t();return _nameScopeStack.pop(),n}catch(e){throw _nameScopeStack.pop(),e}}function currentNameScopePrefix(){return 0===_nameScopeStack.length?"":_nameScopeStack.join(_nameScopeDivider)+_nameScopeDivider}function getScopedTensorName(e){if(!isValidTensorName(e))throw new Error("Not a valid tensor name: '"+e+"'");return currentNameScopePrefix()+e}function getUniqueTensorName(e){if(!isValidTensorName(e))throw new Error("Not a valid tensor name: '"+e+"'");nameMap.has(e)||nameMap.set(e,0);var t=nameMap.get(e);if(nameMap.set(e,nameMap.get(e)+1),t>0){var n=e+"_"+t;return nameMap.set(n,1),n}return e}var tensorNameRegex=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function isValidTensorName(e){return!!e.match(tensorNameRegex)}function isInteger(e){return e===parseInt(e.toString(),10)}function arrayProd(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,i=t;i<n;++i)r*=e[i];return r}function toArray1D(e){return e=Array.isArray(e)?new Float32Array(e):e,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor1d"])(e)}function min$1(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["min"])(toArray1D(e)).dataSync()[0]}function max$1(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["max"])(toArray1D(e)).dataSync()[0]}function range(e,t){if(t<e)throw new ValueError("end ("+t+") < begin ("+e+") is forbidden.");for(var n=[],r=e;r<t;++r)n.push(r);return n}function cast$1(e,t){return e.asType(t)}function expandDims$1(e,t){void 0===t&&(t=-1);var n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),e.reshape(n)}function repeat(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(2!==e.shape.length)throw new ValueError("repeat() expects a rank-2 tensor, but received a rank-"+e.shape.length+" tensor.");return tile$1(expandDims$1(e,1),[1,t,1])})}function flatten(e){var t=[arrayProd(e.shape)];return e.reshape(t)}function batchFlatten(e){if(e.rank<=1)throw new ValueError("batchFlatten requires a minimum rank of 2. Got rank: "+e.rank+".");var t=[e.shape[0],arrayProd(e.shape,1)];return e.reshape(t)}function sliceAlongFirstAxis(e,t,n){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){switch(e.rank){case 1:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice1d"])(e,t,n);case 2:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice2d"])(e,[t,0],[n,e.shape[1]]);case 3:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice3d"])(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice4d"])(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice"])(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice"])(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new ValueError("sliceAlongFirstAxis() received an unsupported tensor rank: "+e.rank)}})}function sliceAlongLastAxis(e,t,n){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){switch(e.rank){case 1:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice1d"])(e,t,n);case 2:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice2d"])(e,[0,t],[e.shape[0],n]);case 3:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice3d"])(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice4d"])(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new ValueError("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank)}})}function sliceAlongAxis(e,t,n,r){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){switch(e.rank){case 1:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice1d"])(e,t,n);case 2:switch(r){case 1:return sliceAlongFirstAxis(e,t,n);case 2:return sliceAlongLastAxis(e,t,n);default:throw new ValueError("The axis is not within the rank of the tensor "+r)}case 3:switch(r){case 1:return sliceAlongFirstAxis(e,t,n);case 2:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice3d"])(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return sliceAlongLastAxis(e,t,n);default:throw new ValueError("The axis is not within the rank of the tensor "+r)}case 4:switch(r){case 1:return sliceAlongFirstAxis(e,t,n);case 2:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice4d"])(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice4d"])(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return sliceAlongLastAxis(e,t,n);default:throw new ValueError("The axis is not within the rank of the tensor "+r)}default:throw new ValueError("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank)}})}function concatenate(e,t){var n;return void 0===t&&(t=-1),t<0&&(t=0!==(n=e[0].rank)?n:0),t===e[0].rank&&(t=-1),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat"])(e,t)}function concatAlongFirstAxis(e,t){switch(e.rank){case 1:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat1d"])([e,t]);case 2:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat2d"])([e,t],0);case 3:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat3d"])([e,t],0);case 4:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat4d"])([e,t],0);default:throw new ValueError("concatAlongFirstAxis() received an unsupported tensor rank: "+e.rank)}}function tile$1(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new ValueError("The length of input n ("+t.length+") does not match the number of dimensions in input x ("+e.rank+")");return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tile"])(e,t)}function randomNormal$1(e,t,n,r,i){return void 0===t&&(t=0),void 0===n&&(n=1),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["randomNormal"])(e,t,n,r,i)}function dot(e,t,n,r){if(e.rank<2||t.rank<2)throw new NotImplementedError("dot requires both inputs to be rank >= 2 but got x shape = "+e.shape+" and y shape = "+t.shape);if(t.rank>=3&&e.shape.slice(-1)[0]!==(c=t.shape.slice(-2)[0]))throw new NotImplementedError("If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = "+e.shape+" and  y shape = "+t.shape);if(2===e.rank&&2===t.rank){var i=!1,a=!1;return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fused"].matMul({a:e,b:t,transposeA:i,transposeB:a,bias:r?reshapeBias(e.rank,r,imageDataFormat()):null,activation:n})}var o=e.shape.slice(),s=o.pop();e=e.reshape([-1,s]);var l=t.shape.slice(),u=l.pop(),c=l.pop(),p=l.concat([u]),h=Array.from({length:t.rank},function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n});t=t.transpose(h).reshape([c,-1]);var d=o.concat(p);i=!1,a=!1;return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fused"].matMul({a:e,b:t,transposeA:i,transposeB:a,bias:r?reshapeBias(e.rank,r,imageDataFormat()):null,activation:n}).reshape(d)}function gather$1(e,t,n){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return t=Array.isArray(t)?Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor1d"])(t,"int32"):t.toInt(),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["gather"])(e,t,n)})}function square(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mulStrict"])(e,e)}function reshapeBias(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new ValueError("Unexpected bias dimensions: "+t.rank+"; expected it to be 1 or "+e);if(5===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1,1]):t.reshape([1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,1,r[0]]):t.reshape([1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1]):t.reshape([1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,r[0]]):t.reshape([1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1]):t.reshape([1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,r[0]]):t.reshape([1].concat(r))}else if(e<3)return t;throw new ValueError("Unsupported input rank by biasAdd: "+t.rank)}function biasAdd(e,t,n){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return null==n&&(n=imageDataFormat()),checkDataFormat(n),e.add(reshapeBias(e.rank,t,n))})}function elu$1(e,t){if(void 0===t&&(t=1),1!==t)throw new NotImplementedError("Support for alpha values other than 1 ("+t+") is not implemented yet.");return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["elu"])(e)}function softsign(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(e,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["abs"])(e).add(1))})}function dropout$1(e,t,n,r){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dropout"])(e,t,n,r)})}function hardSigmoid(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(.5,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(.2,e));return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(t,0,1)})}function inTrainPhase(e,t,n){return void 0===n&&(n=!1),n?e():t()}var VALID_FAN_MODE_VALUES=["fanIn","fanOut","fanAvg"],VALID_DISTRIBUTION_VALUES=["normal","uniform","truncatedNormal"];function checkFanMode(e){checkStringTypeUnionValue(VALID_FAN_MODE_VALUES,"FanMode",e)}function checkDistribution(e){checkStringTypeUnionValue(VALID_DISTRIBUTION_VALUES,"Distribution",e)}var Initializer=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromConfigUsesCustomObjects=function(){return!1},t.prototype.getConfig=function(){return{}},t}(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].Serializable),Zeros=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zeros"])(e,t)},t.className="Zeros",t}(Initializer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Zeros);var Ones=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["ones"])(e,t)},t.className="Ones",t}(Initializer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Ones);var Constant=function(e){function t(t){var n=e.call(this)||this;if("object"!=typeof t)throw new ValueError("Expected argument of type ConstantConfig but got "+t);if(void 0===t.value)throw new ValueError("config must have value set but got "+t);return n.value=t.value,n}return __extends(t,e),t.prototype.apply=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(n.value),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["ones"])(e,t))})},t.prototype.getConfig=function(){return{value:this.value}},t.className="Constant",t}(Initializer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Constant);var RandomUniform=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=t.minval||n.DEFAULT_MINVAL,n.maxval=t.maxval||n.DEFAULT_MAXVAL,n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["randomUniform"])(e,this.minval,this.maxval,t)},t.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},t.className="RandomUniform",t}(Initializer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(RandomUniform);var RandomNormal=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new NotImplementedError("randomNormal does not support dType "+t+".");return randomNormal$1(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className="RandomNormal",t}(Initializer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(RandomNormal);var TruncatedNormal=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new NotImplementedError("truncatedNormal does not support dType "+t+".");return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["truncatedNormal"])(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className="TruncatedNormal",t}(Initializer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(TruncatedNormal);var Identity=function(e){function t(t){var n=e.call(this)||this;return n.gain=null!=t.gain?t.gain:1,n}return __extends(t,e),t.prototype.apply=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(2!==e.length||e[0]!==e[1])throw new ValueError("Identity matrix initializer can only be used for 2D square matrices.");return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(n.gain,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["eye"])(e[0]))})},t.prototype.getConfig=function(){return{gain:this.gain}},t.className="Identity",t}(Initializer);function computeFans(e,t){var n,r;if(void 0===t&&(t="channelsLast"),checkDataFormat(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===t){var i=arrayProd(e,2);n=e[1]*i,r=e[0]*i}else if("channelsLast"===t){i=arrayProd(e,0,e.length-2);n=e[e.length-2]*i,r=e[e.length-1]*i}}else{var a=arrayProd(e);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Identity);var VarianceScaling=function(e){function t(t){var n=e.call(this)||this;if(t.scale<0)throw new ValueError("scale must be a positive float. Got: "+t.scale);return n.scale=null==t.scale?1:t.scale,n.mode=null==t.mode?"fanIn":t.mode,checkFanMode(n.mode),n.distribution=null==t.distribution?"normal":t.distribution,checkDistribution(n.distribution),n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){var n=computeFans(e),r=n[0],i=n[1],a=this.scale;if("fanIn"===this.mode?a/=Math.max(1,r):"fanOut"===this.mode?a/=Math.max(1,i):a/=Math.max(1,(r+i)/2),"normal"===this.distribution){var o=Math.sqrt(a);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new NotImplementedError(this.getClassName()+" does not support dType "+t+".");return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["truncatedNormal"])(e,0,o,t,this.seed)}var s=Math.sqrt(3*a);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["randomUniform"])(e,-s,s,t)},t.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},t.className="VarianceScaling",t}(Initializer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(VarianceScaling);var GlorotUniform=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className="GlorotUniform",t}(VarianceScaling);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(GlorotUniform);var GlorotNormal=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className="GlorotNormal",t}(VarianceScaling);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(GlorotNormal);var HeNormal=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className="HeNormal",t}(VarianceScaling);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(HeNormal);var HeUniform=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className="HeUniform",t}(VarianceScaling);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(HeUniform);var LeCunNormal=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className="LeCunNormal",t}(VarianceScaling);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(LeCunNormal);var LeCunUniform=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className="LeCunNormal",t}(VarianceScaling);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(LeCunUniform);var Orthogonal=function(e){function t(t){var n=e.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==t.gain?n.DEFAULT_GAIN:t.gain,n.seed=t.seed,null!=n.seed)throw new NotImplementedError("Random seed is not implemented for Orthogonal Initializer yet.");return n}return __extends(t,e),t.prototype.apply=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(2!==e.length)throw new NotImplementedError("The Orthogonal Initializer does not support non-2D shapes yet.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more than 2000 ("+e[0]*e[1]+") elements: Slowness may result.");var t=randomNormal$1(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["linalg"].gramSchmidt(t);return e[0]>e[1]&&(r=r.transpose()),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(n.gain,r)})},t.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},t.className="Orthogonal",t}(Initializer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Orthogonal);var INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function deserializeInitializer(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].SerializationMap.getMap().classNameMap,t,"initializer")}function serializeInitializer(e){return serializeKerasObject(e)}function getInitializer(e){if("string"==typeof e){var t=e in INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP?INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[e]:e;if("GlorotNormal"===t)return new GlorotNormal;if("GlorotUniform"===t)return new GlorotUniform;if("HeNormal"===t)return new HeNormal;if("HeUniform"===t)return new HeUniform;if("LeCunNormal"===t)return new LeCunNormal;if("LeCunUniform"===t)return new LeCunUniform;var n={};return n.className=t,n.config={},deserializeInitializer(n)}return e instanceof Initializer?e:deserializeInitializer(e)}function zeros$1(){return new Zeros}function ones$1(){return new Ones}function constant(e){return new Constant(e)}function randomUniform$1(e){return new RandomUniform(e)}function randomNormal$2(e){return new RandomNormal(e)}function truncatedNormal$1(e){return new TruncatedNormal(e)}function identity(e){return new Identity(e)}function varianceScaling(e){return new VarianceScaling(e)}function glorotUniform(e){return new GlorotUniform(e)}function glorotNormal(e){return new GlorotNormal(e)}function heNormal(e){return new HeNormal(e)}function heUniform(e){return new HeUniform(e)}function leCunNormal(e){return new LeCunNormal(e)}function leCunUniform(e){return new LeCunUniform(e)}function orthogonal(e){return new Orthogonal(e)}var exports_initializers=Object.freeze({zeros:zeros$1,ones:ones$1,constant:constant,randomUniform:randomUniform$1,randomNormal:randomNormal$2,truncatedNormal:truncatedNormal$1,identity:identity,varianceScaling:varianceScaling,glorotUniform:glorotUniform,glorotNormal:glorotNormal,heNormal:heNormal,heUniform:heUniform,leCunNormal:leCunNormal,leCunUniform:leCunUniform,orthogonal:orthogonal}),_nextUniqueTensorId=0;function getNextUniqueTensorId(){return _nextUniqueTensorId++}var _uidPrefixes={};function getUid(e){return void 0===e&&(e=""),e in _uidPrefixes||(_uidPrefixes[e]=0),_uidPrefixes[e]+=1,e+_uidPrefixes[e].toString()}function isArrayOfShapes(e){return Array.isArray(e)&&Array.isArray(e[0])}function normalizeShapeList(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function getExactlyOneTensor(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new ValueError("Expected Tensor length to be 1; got "+e.length);t=e[0]}else t=e;return t}function getExactlyOneShape(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new ValueError("Expected exactly 1 Shape; got "+e.length)}return e}function countParamsInWeights(e){for(var t=0,n=0,r=e;n<r.length;n++){var i=r[n];0===i.shape.length?t+=1:t+=i.shape.reduce(function(e,t){return e*t})}return t}var DEFAULT_VARIABLE_NAME_PREFIX="Variable",LayerVariable=function(){function e(e,t,n,r,i){void 0===t&&(t="float32"),void 0===n&&(n=DEFAULT_VARIABLE_NAME_PREFIX),void 0===r&&(r=!0),void 0===i&&(i=null),this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=getNextUniqueTensorId(),n=null==n?DEFAULT_VARIABLE_NAME_PREFIX:n,this.originalName=getScopedTensorName(n),this.name=getUniqueTensorName(this.originalName),this.trainable_=r,this.constraint=i,this.val=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["variable"])(e,this.trainable_,this.name,this.dtype)}return e.prototype.read=function(){return this.assertNotDisposed(),this.val},e.prototype.write=function(e){return this.assertNotDisposed(),checkShapesMatch(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},e.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},e.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error("LayersVariable "+this.name+" is already disposed.")},Object.defineProperty(e.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e},enumerable:!0,configurable:!0}),e}();function checkShapesMatch(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}function batchGetValue(e){return e.map(function(e){return e.read()})}function batchSetValue(e){e.forEach(function(e){e[0].write(e[1])})}var InputSpec=function(){return function(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}(),SymbolicTensor=function(){return function(e,t,n,r,i,a,o){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=o,this.id=getNextUniqueTensorId(),null!=a&&(this.originalName=getScopedTensorName(a),this.name=getUniqueTensorName(this.originalName)),this.rank=t.length}}(),_nextNodeID=0,Node=function(){function e(e,t){this.callArgs=t,this.id=_nextNodeID++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(var n=0,r=e.inboundLayers;n<r.length;n++){var i=r[n];null!=i&&i.outboundNodes.push(this)}e.outboundLayer.inboundNodes.push(this)}return e.prototype.getConfig=function(){for(var e=[],t=0,n=this.inboundLayers;t<n.length;t++){var r=n[t];null!=r?e.push(r.name):e.push(null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},e}(),_nextLayerID=0,Layer=function(e){function t(t){var n=e.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=_nextLayerID++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=t.name;if(!r){var i=n.getClassName();r=toSnakeCase(i)+"_"+getUid(i)}if(n.name=r,n.trainable_=null==t.trainable||t.trainable,null!=t.inputShape||null!=t.batchInputShape){var a=void 0;if(null!=t.batchInputShape)a=t.batchInputShape;else if(null!=t.inputShape){var o=null;null!=t.batchSize&&(o=t.batchSize),a=[o].concat(t.inputShape)}n.batchInputShape=a;var s=t.dtype;null==s&&(s=t.inputDType),null==s&&(s="float32"),n.dtype=s}return null!=t.weights?n.initialWeights=t.weights:n.initialWeights=null,n._refCount=null,n.fastWeightInitDuringBuild=!1,n}return __extends(t,e),t.nodeKey=function(e,t){return e.name+"_ib-"+t.toString()},t.prototype.getNodeAtIndex=function(e,t){if(0===this.inboundNodes.length)throw new RuntimeError("The layer has never been called and thus has no defined "+t+".");if(this.inboundNodes.length<=e)throw new ValueError("Asked to get "+t+" at node "+e+", but the layer has only "+this.inboundNodes.length+" inbound nodes.");return this.inboundNodes[e]},t.prototype.getInputAt=function(e){return singletonOrArray(this.getNodeAtIndex(e,"input").inputTensors)},t.prototype.getOutputAt=function(e){return singletonOrArray(this.getNodeAtIndex(e,"output").outputTensors)},Object.defineProperty(t.prototype,"input",{get:function(){if(this.inboundNodes.length>1)throw new AttributeError("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new AttributeError("Layer "+this.name+" is not connected, no input to return.");return singletonOrArray(this.getNodeAtIndex(0,"input").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){if(0===this.inboundNodes.length)throw new AttributeError("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new AttributeError("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return singletonOrArray(this.getNodeAtIndex(0,"output").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function(){return this._losses},enumerable:!0,configurable:!0}),t.prototype.calculateLosses=function(){return this.losses.map(function(e){return e()})},Object.defineProperty(t.prototype,"updates",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"built",{get:function(){return this._built},set:function(e){this._built=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach(function(t){return t.trainable=e}),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.trainable_?this._trainableWeights.filter(function(e){return e.trainable}):[]},set:function(e){this._trainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this._trainableWeights.filter(function(e){return!e.trainable}).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateful",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")},t.prototype.assertInputCompatibility=function(e){if(e=toList(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=toList(this.inputSpec);if(e.length!==t.length)throw new ValueError("Layer "+this.name+" expects "+t.length+" inputs, but it received "+e.length+" input tensors. Input received: "+e);for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(null!=i){var a=r.rank;if(null!=i.ndim&&a!==i.ndim)throw new ValueError("Input "+n+" is incompatible with layer "+this.name+": expected ndim="+i.ndim+", found ndim="+a);if(null!=i.maxNDim&&a>i.maxNDim)throw new ValueError("Input "+n+" is incompatible with layer "+this.name+": expected max_ndim="+i.maxNDim+", found ndim="+a);if(null!=i.minNDim&&a<i.minNDim)throw new ValueError("Input "+n+" is incompatible with layer "+this.name+": expected min_ndim="+i.minNDim+", found ndim="+a+".");if(null!=i.dtype&&r.dtype!==i.dtype)throw new ValueError("Input "+n+" is incompatible with layer "+this.name+" : expected dtype="+i.dtype+", found dtype="+r.dtype+".");if(i.axes){var o=r.shape;for(var s in i.axes){var l=Number(s),u=i.axes[s],c=l>=0?o[l]:o[o.length+l];if(null!=u&&-1===[u,null].indexOf(c))throw new ValueError("Input "+n+" is incompatible with layer "+this.name+": expected axis "+l+" of input shape to have value "+u+" but got shape "+o+".")}}if(null!=i.shape)for(var p=0;p<i.shape.length;++p){var h=i.shape[p],d=r.shape[p];if(null!=h&&null!=d&&h!==d)throw new ValueError("Input "+n+" is incompatible with layer "+this.name+": expected shape="+i.shape+", found shape="+r.shape+".")}}}}},t.prototype.call=function(e,t){return e},t.prototype.invokeCallHook=function(e,t){null!=this._callHook&&this._callHook(e,t)},t.prototype.setCallHook=function(e){this._callHook=e},t.prototype.clearCallHook=function(){this._callHook=null},t.prototype.apply=function(e,t){var n=this;t=t||{},this.assertNotDisposed();for(var r=toList(e),i=!0,a=0,o=r;a<o.length;a++){if(!(o[a]instanceof SymbolicTensor)){i=!1;break}}for(var s=!0,l=0,u=r;l<u.length;l++){if(u[l]instanceof SymbolicTensor){s=!1;break}}if(i===s)throw new ValueError("Arguments to apply() must be all SymbolicTensors or all Tensors");return nameScope(this.name,function(){if(!n.built){n.assertInputCompatibility(e);for(var i=[],a=0,o=toList(e);a<o.length;a++){var l=o[a];i.push(l.shape)}n.build(singletonOrArray(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(e),s){for(var u=[],c=0,p=toList(g=n.call(e,t));c<p.length;c++){var h=p[c];-1!==r.indexOf(h)&&(h=h.clone()),u.push(h)}if(g=singletonOrArray(u),null!=n.activityRegularizer)throw new NotImplementedError("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return g}var d=collectInputShape(e),f=n.computeOutputShape(d),g=void 0,m=guessOutputDType(e);if(n.warnOnIncompatibleInputShape(Array.isArray(e)?d[0]:d),g=null!=f&&f.length>0&&Array.isArray(f[0])?f.map(function(r,i){return new SymbolicTensor(m,r,n,toList(e),t,n.name,i)}):new SymbolicTensor(m,f,n,toList(e),t,n.name),n.addInboundNode(e,g,null,null,d,f,t),n._refCount++,null!=n.activityRegularizer)throw new NotImplementedError("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return g})},t.prototype.warnOnIncompatibleInputShape=function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+JSON.stringify(e)+") does not match that of the batchInputShape ("+JSON.stringify(this.batchInputShape)+") of the layer "+this.name);else{var t=!1;this.batchInputShape.forEach(function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)}),t&&console.warn("The shape of the input tensor ("+JSON.stringify(e)+") does not match the expectation of layer "+this.name+": "+JSON.stringify(this.batchInputShape))}},Object.defineProperty(t.prototype,"outputShape",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new AttributeError("The layer "+this.name+" has never been called and thus has no defined output shape.");for(var e=[],t=0,n=this.inboundNodes;t<n.length;t++){var r=n[t],i=JSON.stringify(r.outputShapes);-1===e.indexOf(i)&&e.push(i)}if(1===e.length){var a=this.inboundNodes[0].outputShapes;return Array.isArray(a)&&Array.isArray(a[0])&&1===a.length?a[0]:a}throw new AttributeError("The layer "+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),t.prototype.countParams=function(){if(!this.built)throw new RuntimeError("You tried to call countParams() on "+this.name+", but the layer is not built yet. Build it first by calling build(batchInputShape).");return countParamsInWeights(this.weights)},t.prototype.build=function(e){this.built=!0},t.prototype.getWeights=function(e){return void 0===e&&(e=!1),batchGetValue(e?this.trainableWeights:this.weights)},t.prototype.setWeights=function(e){var t=this;Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=t.weights;if(n.length!==e.length)throw new ValueError('You called setWeights(weights) on layer "'+t.name+'" with a weight list of length '+e.length+", but the layer was expecting "+n.length+" weights. Provided weights: "+e+"...");if(0!==n.length){for(var r=[],i=batchGetValue(n),a=0;a<i.length;++a){var o=i[a],s=n[a],l=e[a];if(!_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(o.shape,l.shape))throw new ValueError("Layer weight shape "+o.shape+" not compatible with provided weight shape "+l.shape);r.push([s,l])}batchSetValue(r)}})},t.prototype.addWeight=function(e,t,n,r,i,a,o){if(-1!==this._addedWeightNames.indexOf(e))throw new ValueError("Duplicate weight name "+e+" for layer "+this.name);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=getInitializer("zeros"));var s=r.apply(t,n),l=new LayerVariable(s,n,e,a,o);return s.dispose(),null!=i&&this.addLoss(function(){return i.apply(l.read())}),null==a&&(a=!0),a?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l},t.prototype.setFastWeightInitDuringBuild=function(e){this.fastWeightInitDuringBuild=e},t.prototype.addLoss=function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=toList(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,e))},t.prototype.computeOutputShape=function(e){return e},t.prototype.computeMask=function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer "+this.name+" does not support masking, but was passed an inputMask.");t.forEach(function(e){if(null!=e)throw new TypeError("Layer "+n.name+" does not support masking, but was passed an inputMask.")})}return null}return t},t.prototype.addInboundNode=function(e,t,n,r,i,a,o){void 0===o&&(o=null);var s=toList(e);t=toList(t),n=toList(n),r=toList(r),i=normalizeShapeList(i),a=normalizeShapeList(a);for(var l=[],u=[],c=[],p=0,h=s;p<h.length;p++){var d=h[p];l.push(d.sourceLayer),u.push(d.nodeIndex),c.push(d.tensorIndex)}new Node({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:a},o);for(var f=0;f<t.length;f++)t[f].sourceLayer=this,t[f].nodeIndex=this.inboundNodes.length-1,t[f].tensorIndex=f},t.prototype.getConfig=function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e},t.prototype.disposeWeights=function(){return this.weights.forEach(function(e){return e.dispose()}),this.weights.length},t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Layer '"+this.name+"' is already disposed.")},t.prototype.dispose=function(){if(!this.built)throw new Error("Cannot dispose Layer "+this.name+" because it has not been built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer "+this.name+" because it has not been used yet.");this.assertNotDisposed();var e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}},t}(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].Serializable);function collectInputShape(e){for(var t=[],n=0,r=e=toList(e);n<r.length;n++){var i=r[n];t.push(i.shape)}return singletonOrArray(t)}function guessOutputDType(e){return"float32"}function getSourceInputs(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var i=[],a=0;a<r.inboundLayers.length;a++)for(var o=0,s=getSourceInputs(r.inputTensors[a],r.inboundLayers[a],r.nodeIndices[a]);o<s.length;o++){var l=s[o];-1===i.indexOf(l)&&i.push(l)}return i}var ModelLoggingVerbosity,InputLayer=function(e){function t(t){var n=e.call(this,{dtype:t.dtype,name:null!=t.name?t.name:getUid("input").toString()})||this;if(null==t.batchSize&&(t.batchSize=null),null==t.sparse&&(t.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=t.sparse,null!=t.inputShape&&null!=t.batchInputShape)throw new ValueError("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=t.batchInputShape;if(null==r){if(null==t.inputShape)throw new ValueError("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[t.batchSize].concat(t.inputShape)}else if(null!=t.batchSize)throw new ValueError("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=t.dtype||"float32";n.batchInputShape=r,n.dtype=i,n.inputSpec=[{shape:r}];var a=new SymbolicTensor(n.dtype,n.batchInputShape,n,[],{},n.name);return a.nodeIndex=0,a.tensorIndex=0,new Node({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return __extends(t,e),t.prototype.apply=function(e,t){throw new ValueError("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name)},t.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},t.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},t.className="InputLayer",t}(Layer);function Input(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new ValueError("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new InputLayer({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}function resolveScalarsInLogs(e){return __awaiter(this,void 0,void 0,function(){var t,n,r,i,a,o,s,l;return __generator(this,function(u){switch(u.label){case 0:if(null==e)return[2];for(i in t=[],n=[],r=[],e)"number"!=typeof(a=e[i])&&(o=a,t.push(o.data()),n.push(i),r.push(o));return t.length>0?[4,Promise.all(t)]:[3,2];case 1:for(s=u.sent(),l=0;l<s.length;++l)e[n[l]]=s[l][0];Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(r),u.label=2;case 2:return[2]}})})}function disposeTensorsInLogs(e){if(null!=e)for(var t in e){var n=e[t];"number"!=typeof n&&n.dispose()}}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(InputLayer),function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(ModelLoggingVerbosity||(ModelLoggingVerbosity={}));var DEFAULT_YIELD_EVERY_MS=125,BaseCallback=function(){function e(){this.validationData=null}return e.prototype.setParams=function(e){this.params=e},e.prototype.onEpochBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onBatchBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.setModel=function(e){},e}(),CallbackList=function(){function e(e,t){void 0===t&&(t=10),null==e&&(e=[]),this.callbacks=e,this.queueLength=t}return e.prototype.append=function(e){this.callbacks.push(e)},e.prototype.setParams=function(e){for(var t=0,n=this.callbacks;t<n.length;t++){n[t].setParams(e)}},e.prototype.setModel=function(e){for(var t=0,n=this.callbacks;t<n.length;t++){n[t].setModel(e)}},e.prototype.onEpochBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onBatchBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainBegin(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainEnd(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e}(),BaseLogger=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.onEpochBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.seen=0,this.totals={},[2]})})},t.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var e,n,r,i,a=this;return __generator(this,function(o){for(i in null==t&&(t={}),e=null==t.size?0:t.size,this.seen+=e,n=function(n){var i=t[n];if("number"==typeof i)r.totals.hasOwnProperty(n)||(r.totals[n]=0),r.totals[n]=r.totals[n]+i*e;else{var o=void 0;n in r.totals?o=r.totals[n]:r.totals[n]=0;var s=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(a.totals[n],Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(i,e))});r.totals[n]=s,null!=o&&o.dispose()}},r=this,t)n(i);return[2]})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var e,n,r,i,a,o=this;return __generator(this,function(s){if(null!=t)for(e=function(e){if(null==n.totals[e])return"continue";"number"==typeof n.totals[e]?t[e]=n.totals[e]/n.seen:Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(1,o.seen),o.totals[e]);t[e]=n,o.totals[e].dispose(),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["keep"])(t[e])})},n=this,r=0,i=this.params.metrics;r<i.length;r++)a=i[r],e(a);return[2]})})},t}(BaseCallback),History=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.epoch=[],this.history={},[2]})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){for(n in null==t&&(t={}),this.epoch.push(e),t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n]);return[2]})})},t.prototype.syncData=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,r,i,a,o,s,l;return __generator(this,function(u){switch(u.label){case 0:for(r in e=[],t=[],n=[],this.history)for(i=this.history[r],a=0;a<i.length;++a)"number"!=typeof i[a]&&(o=i[a],e.push(o.data()),t.push(r),n.push(a));return[4,Promise.all(e)];case 1:for(s=u.sent(),l=0;l<s.length;++l)this.history[t[l]][n[l]].dispose(),this.history[t[l]][n[l]]=s[l][0];return[2]}})})},t}(BaseCallback),CustomCallback=function(e){function t(t,n){var r=e.call(this)||this;if(r.currentEpoch=0,r.yieldEvery=n||"auto","auto"===r.yieldEvery&&(r.yieldEvery=DEFAULT_YIELD_EVERY_MS),"never"===r.yieldEvery&&null!=t.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].isNumber(r.yieldEvery)&&(r.maybeWait=debounce(r.maybeWait.bind(r),r.yieldEvery)),r.trainBegin=t.onTrainBegin,r.trainEnd=t.onTrainEnd,r.epochBegin=t.onEpochBegin,r.epochEnd=t.onEpochEnd,r.batchBegin=t.onBatchBegin,r.batchEnd=t.onBatchEnd,r.yield=t.onYield,r}return __extends(t,e),t.prototype.maybeWait=function(e,t,n){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(i){switch(i.label){case 0:return r=[],null==this.yield?[3,2]:[4,resolveScalarsInLogs(n)];case 1:i.sent(),r.push(this.yield(e,t,n)),i.label=2;case 2:return r.push(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["nextFrame"])()),[4,Promise.all(r)];case 3:return i.sent(),[2]}})})},t.prototype.onEpochBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return this.currentEpoch=e,null==this.epochBegin?[3,3]:[4,resolveScalarsInLogs(t)];case 1:return n.sent(),[4,this.epochBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){switch(r.label){case 0:return n=[],null==this.epochEnd?[3,2]:[4,resolveScalarsInLogs(t)];case 1:r.sent(),n.push(this.epochEnd(e,t)),r.label=2;case 2:return"epoch"===this.yieldEvery&&n.push(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["nextFrame"])()),[4,Promise.all(n)];case 3:return r.sent(),[2]}})})},t.prototype.onBatchBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,resolveScalarsInLogs(t)];case 1:return n.sent(),[4,this.batchBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){switch(r.label){case 0:return n=[],null==this.batchEnd?[3,2]:[4,resolveScalarsInLogs(t)];case 1:r.sent(),n.push(this.batchEnd(e,t)),r.label=2;case 2:return"batch"===this.yieldEvery?n.push(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["nextFrame"])()):_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),[4,Promise.all(n)];case 3:return r.sent(),[2]}})})},t.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return null==this.trainBegin?[3,3]:[4,resolveScalarsInLogs(e)];case 1:return t.sent(),[4,this.trainBegin(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return null==this.trainEnd?[3,3]:[4,resolveScalarsInLogs(e)];case 1:return t.sent(),[4,this.trainEnd(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t}(BaseCallback);function standardizeCallbacks(e,t){return null==e&&(e={}),e instanceof BaseCallback?[e]:Array.isArray(e)&&e[0]instanceof BaseCallback?e:toList(e).map(function(e){return new CustomCallback(e,t)})}var CallbackConstructorRegistry=function(){function e(){}return e.registerCallbackConstructor=function(t,n){_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(t>=0&&Number.isInteger(t),function(){return"Verbosity level is expected to be an integer >= 0, but got "+t}),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)},e.checkForDuplicate=function(t){for(var n in e.constructors){e.constructors[+n].forEach(function(e){if(e===t)throw new ValueError("Duplicate callback constructor.")})}},e.clear=function(){e.constructors={}},e.createCallbacks=function(t){var n=[];for(var r in e.constructors){var i=+r;t>=i&&n.push.apply(n,e.constructors[i])}return n.map(function(e){return new e})},e.constructors={},e}();function configureCallbacks(e,t,n,r,i,a,o,s,l){var u=new History,c=[new BaseLogger].concat(CallbackConstructorRegistry.createCallbacks(t));null!=e&&c.push.apply(c,e),c.push(u);var p=new CallbackList(c);return p.setParams({epochs:n,initialEpoch:r,samples:i,steps:a,batchSize:o,verbose:t,doValidation:s,metrics:l}),{callbackList:p,history:u}}function deserialize(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=!1),deserializeKerasObject(e,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].SerializationMap.getMap().classNameMap,t,"layer",n)}function l2Normalize(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){"float32"!==e.dtype&&(e=e.asType("float32"));var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(square(e),t,!0),r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fill"])(n.shape,epsilon()),i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sqrt"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maximum"])(n,r));return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(e,i)})}function meanSquaredError(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(square(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(t,e)),-1)})}function meanAbsoluteError(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["abs"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(t,e)),-1)})}function meanAbsolutePercentageError(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(e,t),r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["abs"])(e),epsilon(),Number.MAX_VALUE),i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["abs"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(n,r));return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(100,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(i,-1))})}function meanSquaredLogarithmicError(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(t,epsilon(),Number.MAX_VALUE),r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["log"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(1,n)),i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(e,epsilon(),Number.MAX_VALUE),a=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["log"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(1,i));return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(square(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(r,a)),-1)})}function squaredHinge(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maximum"])(0,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(1,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,t)));return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(square(n),-1)})}function hinge(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maximum"])(0,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(1,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,t)));return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(n,-1)})}function categoricalHinge(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,t),-1),r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["max"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(1,e),t),-1);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maximum"])(0,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(1,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(r,n)))})}function logcosh(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Math.log(2),r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(t,e),i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(r,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["softplus"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(-2,r))),n);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(i,-1)})}function categoricalCrossentropy(e,t,n){return void 0===n&&(n=!1),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(n)t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["softmax"])(t);else{var r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(t,t.shape.length-1,!0);t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(t,r)}return t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(t,epsilon(),1-epsilon()),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["neg"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e.toFloat(),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["log"])(t)),t.shape.length-1))})}function sparseCategoricalCrossentropy(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["floor"])(flatten(e)).toInt(),r=(t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(t,epsilon(),1-epsilon())).shape;return categoricalCrossentropy(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["oneHot"])(n,r[r.length-1]).reshape(r),t,!1)})}function sigmoidCrossEntropyWithLogits(e,t){if(!_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(e.shape,t.shape))throw new ValueError("logits and labels must have the same shape, but got shapes "+JSON.stringify(e.shape)+" and "+JSON.stringify(t.shape));return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=t.relu(),r=t.abs().neg();return n.sub(t.mul(e)).add(r.exp().log1p())})}function binaryCrossentropy(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n;return n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(t,epsilon(),1-epsilon()),n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["log"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(n,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(1,n))),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(sigmoidCrossEntropyWithLogits(e,n),-1)})}function kullbackLeiblerDivergence(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(e,epsilon(),1),r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(t,epsilon(),1);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["log"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(n,r))),-1)})}function poisson(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["log"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(epsilon(),t));return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"])(t,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,n)),-1)})}function cosineProximity(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=l2Normalize(e,-1),r=l2Normalize(t,-1),i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(n,r);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["neg"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(i,-1))})}var lossesMap={meanSquaredError:meanSquaredError,meanAbsoluteError:meanAbsoluteError,meanAbsolutePercentageError:meanAbsolutePercentageError,meanSquaredLogarithmicError:meanSquaredLogarithmicError,squaredHinge:squaredHinge,hinge:hinge,categoricalHinge:categoricalHinge,logcosh:logcosh,categoricalCrossentropy:categoricalCrossentropy,sparseCategoricalCrossentropy:sparseCategoricalCrossentropy,binaryCrossentropy:binaryCrossentropy,kullbackLeiblerDivergence:kullbackLeiblerDivergence,poisson:poisson,cosineProximity:cosineProximity};function get(e){if("string"==typeof e){if(e in lossesMap)return lossesMap[e];var t="Unknown loss "+e;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss "+e+'. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new ValueError(t)}return e}function binaryAccuracy(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(.5,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"])(t)),r=cast$1(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["greater"])(t,n),e.dtype);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["equal"])(e,r),-1)})}function categoricalAccuracy(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return cast$1(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["equal"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["argMax"])(e,-1),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["argMax"])(t,-1)),"float32")})}function truePositives(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalAnd"])(e.equal(1),t.equal(1)).sum().cast("float32")})}function falseNegatives(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalAnd"])(e.equal(1),t.equal(0)).sum().cast("float32")})}function falsePositives(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalAnd"])(e.equal(0),t.equal(1)).sum().cast("float32")})}function precision(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=truePositives(e,t),r=falsePositives(e,t),i=n.add(r);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["where"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["greater"])(i,0),n.div(i),0).cast("float32")})}function recall(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=truePositives(e,t),r=falseNegatives(e,t),i=n.add(r);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["where"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["greater"])(i,0),n.div(i),0).cast("float32")})}function binaryCrossentropy$1(e,t){return binaryCrossentropy(e,t)}function sparseCategoricalAccuracy(e,t){return e.rank===t.rank&&(e=e.squeeze([e.rank-1])),(t=t.argMax(-1)).dtype!==e.dtype&&(t=t.asType(e.dtype)),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["equal"])(e,t).asType("float32")}var mse$1=meanSquaredError,MSE$1=meanSquaredError,mae$1=meanAbsoluteError,MAE$1=meanAbsoluteError,mape$1=meanAbsolutePercentageError,MAPE$1=meanAbsolutePercentageError,categoricalCrossentropy$1=categoricalCrossentropy,cosine$1=cosineProximity,sparseCategoricalCrossentropy$1=sparseCategoricalCrossentropy,metricsMap={binaryAccuracy:binaryAccuracy,categoricalAccuracy:categoricalAccuracy,precision:precision,categoricalCrossentropy:categoricalCrossentropy$1,sparseCategoricalCrossentropy:sparseCategoricalCrossentropy$1,mse:mse$1,MSE:MSE$1,mae:mae$1,MAE:MAE$1,mape:mape$1,MAPE:MAPE$1,cosine:cosine$1};function get$1(e){if("string"==typeof e&&e in metricsMap)return metricsMap[e];if("string"!=typeof e&&null!=e)return e;throw new ValueError("Unknown metric "+e)}function getLossOrMetricName(e){if(assert(null!==e,"Unknown LossOrMetricFn "+e),"string"==typeof e)return e;for(var t=void 0,n=0,r=Object.keys(lossesMap);n<r.length;n++){var i=r[n];if(lossesMap[i]===e){t=i;break}}if(void 0!==t)return t;for(var a=0,o=Object.keys(metricsMap);a<o.length;a++){i=o[a];if(metricsMap[i]===e){t=i;break}}return void 0!==t?t:e.name}function getOptimizer(e){var t={Adagrad:function(){return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["train"].adagrad(.01)},Adadelta:function(){return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["train"].adadelta(1,.95,epsilon())},Adam:function(){return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["train"].adam(.001,.9,.999,epsilon())},Adamax:function(){return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["train"].adamax(.002,.9,.999,epsilon(),0)},RMSProp:function(){return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["train"].rmsprop(.001,.9,0,epsilon())},SGD:function(){return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["train"].sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new ValueError("Unknown Optimizer "+e)}var MAX_USER_DEFINED_METADATA_SERIALIZED_LENGTH=1048576;function checkUserDefinedMetadata(e,t,n){if(void 0===n&&(n=!1),null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!plainObjectCheck(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>MAX_USER_DEFINED_METADATA_SERIALIZED_LENGTH&&console.warn('User-defined metadata of model "'+t+'" is too large in size (length='+r.length+" when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+MAX_USER_DEFINED_METADATA_SERIALIZED_LENGTH+".")}}function plainObjectCheck(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!=typeof r)return!1;if(!plainObjectCheck(e[r]))return!1}return!0}if(Array.isArray(e)){for(var i=0,a=e;i<a.length;i++){if(!plainObjectCheck(a[i]))return!1}return!0}return!1}var o=typeof e;return"string"===o||"number"===o||"boolean"===o}function printSummary(e,t,n,r){void 0===r&&(r=console.log);var i,a=isModelSequentialLike(e),o=["Layer (type)","Output shape","Param #"];if(a?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map(function(e){return Math.floor(t*e)})),!a)for(var s in o.push("Receives inputs"),i=[],e.nodesByDepth)i.push.apply(i,e.nodesByDepth[s]);r("_".repeat(t)),printRow(o,n,r),r("=".repeat(t));for(var l=e.layers,u=0;u<l.length;++u)a?printLayerSummary(l[u],n,r):printLayerSummaryWithConnections(l[u],n,i,r),r((u===l.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var c=countTrainableParams(e),p=countParamsInWeights(e.nonTrainableWeights);r("Total params: "+(c+p)),r("Trainable params: "+c),r("Non-trainable params: "+p),r("_".repeat(t))}function countTrainableParams(e){return null!=e.collectedTrainableWeights?countParamsInWeights(e.collectedTrainableWeights):countParamsInWeights(e.trainableWeights)}function isModelSequentialLike(e){var t=!0,n=[],r=[];for(var i in e.nodesByDepth)n.push(e.nodesByDepth[i]);for(var a=0,o=n;a<o.length;a++){var s=o[a];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,s)}if(t)for(var l=0,u=e.layers;l<u.length;l++){for(var c=!1,p=0,h=u[l].inboundNodes;p<h.length;p++){var d=h[p];if(-1!==r.indexOf(d)){if(c){t=!1;break}c=!0}}if(!t)break}return t}function printRow(e,t,n){void 0===n&&(n=console.log);for(var r="",i=0;i<e.length;++i)i>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[i]).slice(0,t[i]),r+=" ".repeat(t[i]-r.length);n(r)}function printLayerSummary(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(e){r="multiple"}printRow([e.name+" ("+e.getClassName()+")",r,e.countParams().toString()],t,n)}function printLayerSummaryWithConnections(e,t,n,r){var i;try{i=JSON.stringify(e.outputShape)}catch(e){i="multiple"}for(var a=[],o=0,s=e.inboundNodes;o<s.length;o++){var l=s[o];if(!(null!=n&&n.length>0&&-1===n.indexOf(l)))for(var u=0;u<l.inboundLayers.length;++u){var c=l.inboundLayers[u].name,p=l.nodeIndices[u],h=l.tensorIndices[u];a.push(c+"["+p+"]["+h+"]")}}var d=e.name,f=e.getClassName(),g=0===a.length?"":a[0];printRow([d+" ("+f+")",i,e.countParams().toString(),g],t,r);for(u=1;u<a.length;++u)printRow(["","","",a[u]],t,r)}function isArrayItemInputOrOutputName(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function convertPythonicToTs(e,t){if(null===e)return null;if("string"==typeof e)return toCamelCase(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];isArrayItemInputOrOutputName(t,i,a)?n.push(a):n.push(convertPythonicToTs(a,t))}return n}for(var o={},s=0,l=Object.keys(e);s<l.length;s++){var u=l[s],c=e[u];if("name"===u&&"string"==typeof c)o[u]=c;else{var p=toCamelCase(u);o[p]=convertPythonicToTs(c,p)}}return o}function convertTsToPythonic(e,t){if(null===e||void 0===e)return null;if("string"==typeof e)return toSnakeCase(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];isArrayItemInputOrOutputName(t,i,a)?n.push(a):n.push(convertTsToPythonic(a,t))}return n}for(var o={},s=0,l=Object.keys(e);s<l.length;s++){var u=l[s],c=e[u],p=toSnakeCase(u);o[p]="name"!==u&&"className"!==u||"string"!=typeof c?convertTsToPythonic(c,u):c}return o}var version="1.7.4";function assertFeedCompatibility(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["cast"])(t,e.dtype)}catch(n){throw new ValueError("The dtype of the feed ("+t.dtype+") can not be cast to the dtype of the key '"+e.name+"' ("+e.dtype+").")}}var FeedDict=function(){function e(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;for(var r=0,i=t;r<i.length;r++){var a=i[r];this.add(a.key,a.value)}}}return e.prototype.add=function(e,t,n){if(null!=this.id2Value[e.id])throw new ValueError("Duplicate key: name="+e.name+", id="+e.id);return this.id2Value[e.id]=assertFeedCompatibility(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this},e.prototype.addFeed=function(e){this.add(e.key,e.value)},e.prototype.hasKey=function(e){return null!=this.id2Value[e.id]},e.prototype.names=function(){return Object.keys(this.name2Id)},e.prototype.getValue=function(e){if(e instanceof SymbolicTensor){if(null==this.id2Value[e.id])throw new ValueError("Nonexistent key: "+e.name);return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new ValueError("Feed dict has no SymbolicTensor name: "+e);return this.id2Value[t]},e.prototype.getMask=function(e){if(e instanceof SymbolicTensor){if(null==this.id2Value[e.id])throw new ValueError("Nonexistent key: "+e.name);return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new ValueError("Feed dict has no SymbolicTensor name: "+e);return this.id2Mask[t]},e.prototype.disposeMasks=function(){null!=this.id2Mask&&Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(this.id2Mask)},e}(),cachedSorted={},cachedRecipientCounts={};function execute(e,t,n,r){for(var i=null!=n&&n.training,a=Array.isArray(e),o=a?e:[e],s=o.map(function(e){return e.name}),l=[],u=t.names(),c=0,p=s;c<p.length;c++){var h=p[c];-1!==u.indexOf(h)?l.push(t.getValue(h)):l.push(null)}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var d,f,g=s.join(",")+"|"+t.names().join(",");if(null==cachedSorted[g]){var m=getTopologicalSortAndRecipientCounts(o,t);d=m.sorted,f=m.recipientCounts,cachedSorted[g]=d,cachedRecipientCounts[g]=f}d=cachedSorted[g],f={},i||Object.assign(f,cachedRecipientCounts[g]);for(var y=new FeedDict(t),v=0;v<d.length;++v){if(null!=r){var b=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["memory"])().numTensors;b>r.maxNumTensors&&(r.maxNumTensors=b),b<r.minNumTensors&&(r.minNumTensors=b)}var w=d[v],z=w.sourceLayer;if(!(z instanceof InputLayer)){for(var S=[],A=[],_=[],I=!1,C=0,E=w.inputs;C<E.length;C++){var N=E[C],k=y.getValue(N),x=y.getMask(N);S.push(k),A.push(x),null!=x&&(I=!0),i||(f[N.name]--,0!==f[N.name]||t.hasKey(N)||-1!==s.indexOf(N.name)||k.isDisposed||!0===N.sourceLayer.stateful||_.push(k))}I&&((n=n||{}).mask=A[0]);var L=toList(z.apply(S,n)),T=null;z.supportsMasking&&(T=z.computeMask(S,A));for(var D=getNodeOutputs(w),O=Array.isArray(D)?D:[D],R=0;R<O.length;++R){y.hasKey(O[R])||y.add(O[R],L[R],Array.isArray(T)?T[0]:T);var M=s.indexOf(O[R].name);-1!==M&&(l[M]=L[R])}i||Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(_)}}return y.disposeMasks(),a?l:l[0]}function getTopologicalSortAndRecipientCounts(e,t){_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(null!=e&&e.length>0,function(){return"Expected at least one fetch, got none"});var n=[],r={};if(1===e.length){var i=getTopologicalSortAndRecipientCountsForOneFetch(e[0],t);n=i.sorted,r=i.recipientMap}else for(var a=new Set,o=0,s=e;o<s.length;o++){for(var l=getTopologicalSortAndRecipientCountsForOneFetch(s[o],t),u=l.sorted,c=l.recipientMap,p=0,h=u;p<h.length;p++){var d=h[p];a.has(d.name)||(n.push(d),a.add(d.name))}var f=function(e){null==r[e]&&(r[e]=new Set),c[e].forEach(function(t){return r[e].add(t)})};for(var g in c)f(g)}return{sorted:n,recipientCounts:recipientMap2Counts(r)}}function recipientMap2Counts(e){var t={};for(var n in e)t[n]=e[n].size;return t}function getTopologicalSortAndRecipientCountsForOneFetch(e,t){for(var n=new Set,r=[],i={},a=0,o=t.names();a<o.length;a++){var s=o[a];n.add(s)}var l=[],u=[];for(l.push(e);l.length>0;){var c=l[l.length-1];if(n.has(c.name))l.pop();else{var p=u[u.length-1]===l.length-1;if(0===c.inputs.length||p)l.pop(),r.push(c),n.add(c.name),p&&u.pop();else{u.push(l.length-1);for(var h=0,d=c.inputs;h<d.length;h++){var f=d[h];null==i[f.name]&&(i[f.name]=new Set),i[f.name].add(c.name),n.has(f.name)||l.push(f)}}}}return{sorted:r,recipientMap:i}}function getNodeOutputs(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r)for(var i=0,a=e.sourceLayer.inboundNodes[r].outputTensors;i<a.length;i++){if(a[i].id===e.id){n=r;break}}t=e.sourceLayer.getOutputAt(n)}return t}var Container=function(e){function t(n){var r=e.call(this,{})||this;if(r.containerNodes=new Set,r.name=n.name,null==r.name){var i=r.getClassName().toLowerCase();r.name=getUid(i)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(n.inputs)?r.inputs=n.inputs.slice():r.inputs=[n.inputs],Array.isArray(n.outputs)?r.outputs=n.outputs.slice():r.outputs=[n.outputs],unique(r.inputs).length!==r.inputs.length)throw new ValueError("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+r.inputs.map(function(e){return e.name}));unique(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+r.outputs.map(function(e){return e.name})),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];for(var a=0,o=r.outputs;a<o.length;a++){var s=(C=o[a]).sourceLayer,l=C.nodeIndex,u=C.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(l),r.outputLayersTensorIndices.push(u)}for(var c=0,p=r.inputs;c<p.length;c++){s=(C=p[c]).sourceLayer,l=C.nodeIndex,u=C.tensorIndex;assert(0===l,"input layer has >1 nodes"),assert(0===u,"input layer has >1 tensors"),r.inputLayers.push(s),r.inputLayersNodeIndices.push(l),r.inputLayersTensorIndices.push(u)}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var h=0;h<r.inputLayers.length;h++){if(!((s=r.inputLayers[h])instanceof InputLayer))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. Received inputs: "+n.inputs+". Input "+h+" (0-based) originates from layer type "+s.getClassName()+".");r.inputNames.push(s.name),r.feedInputShapes.push(s.batchInputShape),r.feedInputNames.push(s.name)}for(var d=0,f=r.outputLayers;d<f.length;d++){s=f[d];r.outputNames.push(s.name)}r.internalInputShapes=r.inputs.map(function(e){return e.shape}),r.internalOutputShapes=r.outputs.map(function(e){return e.shape});for(var g={},m={},y={},v={},b={},w=[],z=function(e,n,i,a,o,s){null!=a&&null!=o&&null!=s||(a=e.sourceLayer,o=e.nodeIndex,s=e.tensorIndex);var l=a.inboundNodes[o];if(-1!==i.indexOf(l))throw new RuntimeError("The tensor "+e.name+' at layer "'+a.name+'" is part of a cycle.');if(-1===n.indexOf(l)){r.containerNodes.add(t.nodeKey(a,o)),a.id in b||(b[a.id]=Object.keys(b).length),-1===i.indexOf(l)&&i.push(l);for(var u=l.inboundLayers.length,c=0;c<u;c++){var p=l.inputTensors[c],h=l.inboundLayers[c],d=l.nodeIndices[c],f=l.tensorIndices[c];z(p,n,i,h,d,f)}for(n.push(l);i.indexOf(l)>=0;)i.splice(i.indexOf(l),1);w.push(l)}},S=[],A=[],_=0,I=r.outputs;_<I.length;_++){var C=I[_];z(C,S,A)}for(var E=0,N=w.slice().reverse();E<N.length;E++){m[(K=N[E]).id]=K,K.id in g||(g[K.id]=0);var k=g[K.id],x=null==y[K.outboundLayer.id]?0:y[K.outboundLayer.id];k=Math.max(k,x),y[K.outboundLayer.id]=k,v[K.outboundLayer.id]=K.outboundLayer,g[K.id]=k;for(h=0;h<K.inboundLayers.length;h++){var L=K.inboundLayers[h],T=(l=K.nodeIndices[h],L.inboundNodes[l]),D=null==g[T.id]?0:g[T.id];g[T.id]=Math.max(k+1,D),m[T.id]=T}}var O={};for(var R in g){(k=g[R])in O||(O[k]=[]),O[k].push(m[R])}var M={};for(var P in y){(k=y[P])in M||(M[k]=[]),M[k].push(v[P])}var F=Object.keys(M).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);r.layers=[];for(var V=0,B=F;V<B.length;V++){var U=M[k=B[V]];U.sort(function(e,t){var n=b[e.id],r=b[t.id];return n<r?-1:n>r?1:0});for(var j=0,W=U;j<W.length;j++){(s=W[j])instanceof t&&r.internalContainerRefs.push(s),r.layers.push(s)}}r.layersByDepth=M,F=Object.keys(O).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);for(var $=r.inputs.slice(),q=[],G=0,H=F;G<H.length;G++)for(var J=0,Z=O[k=H[G]];J<Z.length;J++){var K;if(null!=(s=(K=Z[J]).outboundLayer)){for(var Y=0,X=K.inputTensors;Y<X.length;Y++){C=X[Y];if(-1===$.indexOf(C))throw new RuntimeError("Graph disconnected: cannot obtain value for tensor "+C+' at layer "'+s.name+'". The following previous layers were accessed without issue: '+q)}for(var Q=0,ee=K.outputTensors;Q<ee.length;Q++){C=ee[Q];$.push(C)}q.push(s.name)}}r.nodesByDepth=O;for(var te=r.layers.map(function(e){return e.name}),ne=function(e){var t=te.filter(function(t){return t===e}).length;if(1!==t)throw new RuntimeError('The name "'+e+'" is used '+t+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify(te))},re=0,ie=te;re<ie.length;re++){ne(ie[re])}return r.outboundNodes=[],r.inboundNodes=[],new Node({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map(function(e){return null}),outputMasks:r.outputs.map(function(e){return null}),inputShapes:r.inputs.map(function(e){return e.shape}),outputShapes:r.outputs.map(function(e){return e.shape})}),r.built=!0,r._refCount=1,r}return __extends(t,e),t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Container '"+this.name+"' is already disposed.")},t.prototype.dispose=function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(var t=0,n=this.layers;t<n.length;t++){var r=n[t];e.numDisposedVariables+=r.dispose().numDisposedVariables}for(var i=0,a=this.internalContainerRefs;i<a.length;i++){var o=a[i];e.numDisposedVariables+=o.dispose().numDisposedVariables}}return e.refCountAfterDispose=this._refCount,e},Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this.layers.forEach(function(t){t._trainableWeights.forEach(function(t){return t.trainable=e})}),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){if(this._trainableWeights.length>0)throw new ValueError("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e=e.concat(r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.layers;a<o.length;a++){r=o[a];i.push.apply(i,r.trainableWeights)}return i.concat(e)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.loadWeights=function(e,t){void 0===t&&(t=!0);for(var n={},r=0,i=0,a=this.layers;i<a.length;i++)for(var o=0,s=a[i].weights;o<s.length;o++){var l=s[o];if(null!=n[l.originalName])throw new ValueError("Duplicate weight name: "+l.originalName);n[l.originalName]=l,r++}var u=[];for(var c in e){if(null!=n[c])u.push([n[c],e[c]]);else if(t)throw new ValueError("Provided weight data has no target variable: "+c);delete n[c]}if(t){var p=[];for(var h in n)p.push(h);if(p.length>0)throw new ValueError(p.length+" of "+r+" weights are not set: "+p)}batchSetValue(u)},t.prototype.updatedConfig=function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers "+version,t.backend="TensorFlow.js",t},t.prototype.toJSON=function(e,t){void 0===t&&(t=!0);var n=convertTsToPythonic(this.updatedConfig());return t?JSON.stringify(n):n},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){e=toList(e);for(var r=new FeedDict,i=0;i<n.inputs.length;++i)r.add(n.inputs[i],e[i]);return execute(n.outputs,r,t)})},t.prototype.computeMask=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r;return e=toList(e),r=null==t?pyListRepeat(null,e.length):toList(t),n.runInternalGraph(e,r)[1]})},t.prototype.computeOutputShape=function(e){var t=normalizeShapeList(e);if(t.length!==this.inputLayers.length)throw new ValueError("Invalid inputShape argument "+e+": model has "+this.inputLayers.length+" tensor inputs.");for(var n={},r=0;r<t.length;r++){var i=this.inputLayers[r],a=t[r];n[A=i.name+"_0_0"]=a}var o=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);if(o.length>1)for(var s=0,l=o;s<l.length;s++)for(var u=l[s],c=0,p=this.nodesByDepth[u];c<p.length;c++){var h=p[c];i=h.outboundLayer;if(-1===this.inputLayers.map(function(e){return e.id}).indexOf(i.id)){for(var d=[],f=0;f<h.inboundLayers.length;f++){var g=h.inboundLayers[f],m=h.nodeIndices[f],y=h.tensorIndices[f],v=n[A=g.name+"_"+m+"_"+y];d.push(v)}var b=normalizeShapeList(i.computeOutputShape(singletonOrArray(d))),w=i.inboundNodes.indexOf(h);for(f=0;f<b.length;f++){n[A=i.name+"_"+w+"_"+f]=b[f]}}}var z=[],S=[];for(r=0;r<this.outputLayers.length;r++){i=this.outputLayers[r],w=this.outputLayersNodeIndices[r],y=this.outputLayersTensorIndices[r];var A=i.name+"_"+w+"_"+y;S.push(A)}for(r=0;r<S.length;r++){var _=S[r];assert(_ in n),z.push(n[_])}return singletonOrArray(z)},t.prototype.runInternalGraph=function(e,t){null==t&&(t=pyListRepeat(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],a=e[r],o=t[r];n[i.id]=[a,o]}for(var s=0,l=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);s<l.length;s++)for(var u=l[s],c=0,p=this.nodesByDepth[u];c<p.length;c++){for(var h=p[c],d=h.outboundLayer,f=h.inputTensors,g=h.outputTensors,m=new Array,y=0,v=f;y<v.length;y++){(i=v[y]).id in n&&m.push(n[i.id])}if(m.length===f.length){var b={},w=void 0,z=void 0,S=void 0,A=void 0;if(null!=h.callArgs&&(b=h.callArgs),1===m.length){var _=m[0],I=_[0],C=_[1];null==b.mask&&(b.mask=C),S=toList(d.call(I,b)),A=toList(d.computeMask(I,C)),w=[I],z=[C]}else w=m.map(function(e){return e[0]}),z=m.map(function(e){return e[1]}),null==b.mask&&(b.mask=z),S=toList(d.call(w,b)),A=toList(d.computeMask(w,z));if(d.activityRegularizer)throw new NotImplementedError("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(r=0;r<g.length;++r){i=g[r],a=S[r],o=A[r];n[i.id]=[a,o]}}}for(var E=[],N=[],k=[],x=0,L=this.outputs;x<L.length;x++){assert((i=L[x]).id in n,"Could not compute output "+i.name+" : "+i.id);var T=n[i.id],D=T[0];o=T[1];k.push(D.shape),E.push(D),N.push(o)}return[E,N,k]},t.prototype.buildNodeConversionMap=function(e){for(var n,r={},i=0,a=this.layers;i<a.length;i++){var o=a[i];n=o instanceof t?1:0;for(var s=0;s<o.inboundNodes.length;s++){var l=t.nodeKey(o,s);this.containerNodes.has(l)&&(r[l]=n,n+=1)}}return r},t.prototype.getLayer=function(e,t){if(null!=t){if(this.layers.length<=t)throw new ValueError("Was asked to retrieve layer at index "+t+", but model only has "+this.layers.length+" layer(s).");return this.layers[t]}if(null==e)throw new ValueError("Provide either a layer name or layer index");for(var n=0,r=this.layers;n<r.length;n++){var i=r[n];if(i.name===e)return i}throw new ValueError("No such layer: "+e)},t.prototype.calculateLosses=function(){var e=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){for(var n=[],r=0,i=e.layers;r<i.length;r++)for(var a=i[r],o=0;o<a.inboundNodes.length;++o){var s=t.nodeKey(a,o);e.containerNodes.has(s)&&n.push.apply(n,a.calculateLosses())}return n})},t.prototype.getConfig=function(){for(var e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],i=0,a=this.layers;i<a.length;i++){for(var o=(w=a[i]).getClassName(),s=w.getConfig(),l=[],u=0;u<w.inboundNodes.length;u++){var c=w.inboundNodes[u],p=t.nodeKey(w,u),h={};if(this.containerNodes.has(p)){if(c.callArgs)try{JSON.stringify(c.callArgs),h=c.callArgs}catch(e){console.warn("Layer "+w.name+" was passed non-serializable keyword arguments: "+c.callArgs+". They will not be included in the serialized model (and thus will be missing at deserialization time)."),h={}}if(c.inboundLayers.length>0){for(var d=[],f=0;f<c.inboundLayers.length;f++){var g=c.inboundLayers[f],m=c.nodeIndices[f],y=c.tensorIndices[f];null==(S=n[t.nodeKey(g,m)])&&(S=0),d.push([g.name,S,y,h])}l.push(d)}}}var v={};v.name=w.name,v.className=o,v.config=s,v.inboundNodes=l,r.push(v)}e.layers=r;var b=[];for(f=0;f<this.inputLayers.length;f++){var w=this.inputLayers[f];m=this.inputLayersNodeIndices[f],p=t.nodeKey(w,m);if(this.containerNodes.has(p)){null!==(S=n[p])&&void 0!==S||(S=0);y=this.inputLayersTensorIndices[f];b.push([w.name,S,y])}}e.inputLayers=b;var z=[];for(f=0;f<this.outputLayers.length;f++){w=this.outputLayers[f],m=this.outputLayersNodeIndices[f],p=t.nodeKey(w,m);if(this.containerNodes.has(p)){var S;null!==(S=n[p])&&void 0!==S||(S=0);y=this.outputLayersTensorIndices[f];z.push([w.name,S,y])}}return e.outputLayers=z,e},t.fromConfig=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var i={},a={};function o(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function s(e,t){for(var n,r=[],a=0,s=t;a<s.length;a++){var l=s[a],u=l[0],c=l[1],p=l[2];if(n=null==l[3]?{}:l[3],!(u in i))return void o(e,t);var h=i[u];if(h.inboundNodes.length<=c)return void o(e,t);var d=h.inboundNodes[c];r.push(d.outputTensors[p])}r.length>0&&e.apply(singletonOrArray(r),n)}function l(e){var n=e.name,a=deserialize(e,null!=t.customObjects?t.customObjects:{});a.setFastWeightInitDuringBuild(r),i[n]=a,e.inboundNodes.forEach(function(e){if(!(e instanceof Array))throw new ValueError("Corrupted configuration, expected array for nodeData: "+e);o(a,e)})}for(var u=t.name,c=t.layers,p=0,h=c;p<h.length;p++){l(g=h[p])}for(;!isObjectEmpty(a);)for(var d=0,f=c;d<f.length;d++){var g=f[d];if((k=i[g.name]).name in a){var m=a[k.name];delete a[k.name];for(var y=0,v=m;y<v.length;y++){s(k,v[y])}}}for(var b=[],w=[],z=0,S=t.inputLayers;z<S.length;z++){var A=(g=S[z])[0],_=g[1],I=g[2];assert(A in i);var C=(k=i[A]).inboundNodes[_].outputTensors;b.push(C[I])}for(var E=0,N=t.outputLayers;E<N.length;E++){A=(g=N[E])[0],_=g[1],I=g[2];assert(A in i);var k;C=(k=i[A]).inboundNodes[_].outputTensors;w.push(C[I])}return new e({inputs:b,outputs:w,name:u})},Object.defineProperty(t.prototype,"stateful",{get:function(){if(this._stateful)throw new ValueError("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var e=0,t=this.layers;e<t.length;e++){if(t[e].stateful)return!0}return!1},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){var e=this;Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){e.layers.forEach(function(e){e.stateful&&e.resetStates()})})},t}(Layer);function standardizeSampleOrClassWeights(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map(function(e){return null});if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided "+n+" is an array of "+e.length+" element(s), but the model has "+r+" outputs. Make sure a set of weights is provided for each model output.");return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){var i=[];return t.forEach(function(t){t in e?i.push(e[t]):i.push(null)}),i}throw new Error("The model has multiple ("+r+") outputs, so "+n+" must be either an array with "+r+" elements or an object with "+t+" keys. Provided "+n+" not understood: "+JSON.stringify(e))}function standardizeClassWeights(e,t){return standardizeSampleOrClassWeights(e,t,"classWeight")}function standardizeWeights(e,t,n,r){return __awaiter(this,void 0,void 0,function(){var i,a,o,s,l;return __generator(this,function(u){switch(u.label){case 0:if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");return null==n?[3,2]:(i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(1===e.shape.length)return e.clone();if(2===e.shape.length){if(e.shape[1]>1){return e.argMax(1)}if(1===e.shape[1])return e.reshape([e.shape[0]]);throw new Error("Encountered unexpected last-dimension size ("+e.shape[1]+") during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor ("+e.rank+") during handling of class weights. The rank is expected to be 1 or 2.")}),s=(o=Array).from,[4,i.data()]);case 1:return a=s.apply(o,[u.sent()]),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(i),l=[],a.forEach(function(e){if(null==n[e])throw new Error("classWeight must contain all classes in the training data. The class "+e+" exists in the data but not in classWeight");l.push(n[e])}),[2,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor1d"])(l,"float32")];case 2:return[2,null]}})})}function computeWeightedLoss(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,t)}var DEFAULT_VALIDATION_BATCH_SIZE=32;function standardizeDataIteratorOutput(e,t){var n,r,i=t;n=i.xs,r=i.ys,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(null!=n&&null!=r,function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+t});var a=flattenTensorOrArrayOrMap("input",e.inputNames,n),o=flattenTensorOrArrayOrMap("output",e.outputNames,r),s=a[0].shape[0];_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(a.length===e.inputs.length,function(){return"LayersModel has "+e.inputs.length+" inputs, but the dataset provides "+a.length+" inputs.  (Expected input keys: "+JSON.stringify(e.inputNames)+")"}),_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(o.length===e.outputs.length,function(){return"LayersModel has "+e.outputs.length+" outputs, but the dataset provides "+o.length+" outputs.  (Expected output keys: "+JSON.stringify(e.outputNames)+")"});for(var l=function(t){_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(a[t].shape[0]===s,function(){return"Batch size mismatch: input "+e.inputNames[t]+" has "+a[t].shape[0]+"; expected  "+s+" based on input "+e.inputNames[0]+"."})},u=0;u<a.length;u++)l(u);for(var c=function(t){_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(o[t].shape[0]===s,function(){return"Batch size mismatch: output "+e.outputNames[t]+" has "+o[t].shape[0]+"; expected  "+s+" based on input "+e.inputNames[0]+"."})},p=0;p<o.length;p++)c(p);return{xs:a,ys:o}}function flattenTensorOrArrayOrMap(e,t,n){if(n instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"])return[n];if(Array.isArray(n))return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(n.length===t.length,function(){return"Received an array of "+n.length+" Tensors, but expected "+t.length+" to match the "+e+" keys "+t+"."}),n;for(var r=[],i=0,a=t;i<a.length;i++){var o=a[i];if(null==n[o])throw new ValueError("The feature data generated by the dataset lacks the required "+e+" key '"+o+"'.");r.push(n[o])}return r}function standardizeTensorValidationData(e){if(3===e.length)throw new NotImplementedError("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function fitDataset(e,t,n){return __awaiter(this,void 0,void 0,function(){var r,i,a,o,s,l,u,c,p,h,d,f,g,m,y,v,b,w,z,S,A,_,I,C,E,N,k,x,L,T,D,O,R,M;return __generator(this,function(P){switch(P.label){case 0:if(r=null!=n.batchesPerEpoch,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(null!=e.optimizer,function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."}),_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(null!=n,function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."}),_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),function(){return"For fitDataset(), config.epochs is expected to be a positive integer, but got "+n.epochs}),_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got "+n.batchesPerEpoch}),_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(null==n.validationSplit,function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."}),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0,P.label=1;case 1:return P.trys.push([1,,26,27]),i=null!=n.validationData,a=void 0,o=void 0,i&&(isDatasetObject(n.validationData)?_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got "+n.validationBatches}):(s=standardizeTensorValidationData(n.validationData),a=s.xs,o=s.ys)),l=e.makeTrainFunction(),u=e.getDedupedMetricsNames(),c=void 0,c=i?u.slice().concat(u.map(function(e){return"val_"+e})):u.slice(),p=standardizeCallbacks(n.callbacks,n.yieldEvery),h=null==n.verbose?1:n.verbose,d=configureCallbacks(p,h,n.epochs,null,null,getStepsPerEpoch(t,n),null,i,c),f=d.callbackList,g=d.history,f.setModel(e),e.history=g,[4,f.onTrainBegin()];case 2:return P.sent(),e.stopTraining_=!1,m=null==n.initialEpoch?0:n.initialEpoch,[4,t.iterator()];case 3:y=P.sent(),P.label=4;case 4:return m<n.epochs?(v={},[4,f.onEpochBegin(m)]):[3,23];case 5:return P.sent(),b=0,w=0,r?[3,7]:[4,t.iterator()];case 6:y=P.sent(),P.label=7;case 7:return!r||b<n.batchesPerEpoch?[4,y.next()]:[3,21];case 8:return z=P.sent(),r&&z.done?(console.warn("You provided `batchesPerEpoch` as "+n.batchesPerEpoch+", but your dataset iterator ran out of data after "+b+" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset."),[3,21]):null==z.value?[3,15]:(S=standardizeDataIteratorOutput(e,z.value),A=S.xs,_=S.ys,(I={}).batch=w,I.size=A[0].shape[0],[4,f.onBatchBegin(w,I)]);case 9:if(P.sent(),C=[],null==n.classWeight)return[3,13];E=standardizeClassWeights(n.classWeight,e.outputNames),M=0,P.label=10;case 10:return M<E.length?(k=(N=C).push,[4,standardizeWeights(_[M],null,E[M])]):[3,13];case 11:k.apply(N,[P.sent()]),P.label=12;case 12:return++M,[3,10];case 13:for(x=A.concat(_).concat(C),L=l(x),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(x),M=0;M<u.length;++M)T=u[M],D=L[M],I[T]=D,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["keep"])(D);return[4,f.onBatchEnd(w,I)];case 14:P.sent(),disposeTensorsInLogs(I),w++,b++,P.label=15;case 15:return(r?b>=n.batchesPerEpoch:z.done)?i?(O=void 0,isDatasetObject(n.validationData)?(R=toList,[4,e.evaluateDataset(n.validationData,{batches:n.validationBatches})]):[3,17]):[3,19]:[3,20];case 16:return O=R.apply(void 0,[P.sent()]),[3,18];case 17:O=toList(e.evaluate(a,o,{batchSize:null==n.validationBatchSize?DEFAULT_VALIDATION_BATCH_SIZE:n.validationBatchSize,verbose:0})),P.label=18;case 18:for(M=0;M<e.metricsNames.length;++M)v["val_"+e.metricsNames[M]]=O[M];P.label=19;case 19:return[3,21];case 20:return e.stopTraining_?[3,21]:[3,7];case 21:return[4,f.onEpochEnd(m,v)];case 22:return P.sent(),m++,e.stopTraining_?[3,23]:[3,4];case 23:return[4,f.onTrainEnd()];case 24:return P.sent(),[4,e.history.syncData()];case 25:return P.sent(),[2,e.history];case 26:return e.isTraining=!1,[7];case 27:return[2]}})})}function getStepsPerEpoch(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function isDatasetObject(e){return"function"==typeof e.iterator}function isLazyIteratorObject(e){return"function"==typeof e.next}function evaluateDataset(e,t,n){return __awaiter(this,void 0,void 0,function(){var r,i,a,o,s,l,u,c,p,h;return __generator(this,function(d){switch(d.label){case 0:if(r=null!=(n=n||{}).batches,i=e.testFunction,a=[],n.verbose>0)throw new NotImplementedError("Verbose mode is not implemented yet.");return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(!r||n.batches>0&&Number.isInteger(n.batches),function(){return"Test loop expects `batches` to be a positive integer, but received "+JSON.stringify(n.batches)}),isLazyIteratorObject(t)?(s=t,[3,3]):[3,1];case 1:return[4,t.iterator()];case 2:s=d.sent(),d.label=3;case 3:o=s,l=0,u=0,c=function(){var t;return __generator(this,function(s){switch(s.label){case 0:return[4,o.next()];case 1:return t=s.sent(),a=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(t.value){var n=standardizeDataIteratorOutput(e,t.value),r=n.xs,o=n.ys,s=r.concat(o),c=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return i(s)});if(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(s),0===u)for(var p=0;p<c.length;++p)a.push(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(0));var h=s[0].shape[0],d=function(e){var t=c[e],n=a[e];a[e]=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(a[e],Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(h,t))}),u>0&&Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(n)};for(p=0;p<c.length;++p)d(p);Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(c),l+=h,++u}return a}),t.done?(r&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, "+n.batches+" batches). You may need to use the repeat() function when building your dataset."),[2,"break"]):[2]}})},d.label=4;case 4:return!r||u<n.batches?[5,c()]:[3,6];case 5:return"break"===d.sent()?[3,6]:[3,4];case 6:for(p=0;p<a.length;++p)h=a[p],a[p]=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(a[p],l),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(h);return[2,singletonOrArray(a)]}})})}function checkBatchSize(e){_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(e>0&&Number.isInteger(e),function(){return"batchSize is required to be a positive integer, but got "+e})}function sliceArrays(e,t,n){return null==e?[null]:Array.isArray(e)?e.map(function(e){return sliceAlongFirstAxis(e,t,n-t)}):sliceAlongFirstAxis(e,t,n-t)}function sliceArraysByIndices(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return null==e?null:Array.isArray(e)?e.map(function(e){return sliceArraysByIndices(e,t)}):gather$1(e,"int32"===t.dtype?t:t.toInt())})}function makeBatches(e,t){for(var n=[],r=0,i=null;r<e;)(i=r+t)>=e&&(i=e),n.push([r,i]),r=i;return n}function fitLoop(e,t,n,r,i,a,o,s,l,u,c,p,h,d,f){return __awaiter(this,void 0,void 0,function(){var g,m,y,v,b,w,z,S;return __generator(this,function(A){switch(A.label){case 0:if(null==i&&(i=32),null==a&&(a=1),null==c&&(c=!0),null==h&&(h=0),g=!1,null!=l&&null!=u&&(g=!0),null!=f&&(g=!0,null==d))throw new ValueError("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");return null!=(m=e.checkNumSamples(n,i,d,"steps_per_epoch"))&&(y=range(0,m)),null==o&&(o=1),v=configureCallbacks(s,o,a,h,m,d,i,g,p),b=v.callbackList,w=v.history,b.setModel(e),e.history=w,[4,b.onTrainBegin()];case 1:A.sent(),e.stopTraining_=!1,z=function(a){var o,s,p,h,f;return __generator(this,function(v){switch(v.label){case 0:return[4,b.onEpochBegin(a)];case 1:if(v.sent(),o={},null==d)return[3,2];throw new NotImplementedError("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===c)throw new NotImplementedError("batch shuffling is not implemneted yet");c&&_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].shuffle(y),s=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor1d"])(y),p=makeBatches(m,i),h=function(a){var c;return __generator(this,function(h){switch(h.label){case 0:return c={},[4,b.onBatchBegin(a,c)];case 1:return h.sent(),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var h=p[a][0],d=p[a][1],f=sliceAlongFirstAxis(s,h,d-h);c.batch=a,c.size=d-h;for(var m=sliceArraysByIndices(n,f),y=t(m),v=0;v<r.length;++v){var b=r[v],w=y[v];c[b]=w,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["keep"])(w)}if(a===p.length-1&&g){var z=e.testLoop(l,u,i);for(v=0;v<r.length;++v){b=r[v],w=z[v];Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["keep"])(w),o["val_"+b]=w}}}),[4,b.onBatchEnd(a,c)];case 2:return h.sent(),disposeTensorsInLogs(c),e.stopTraining_?[2,"break"]:[2]}})},f=0,v.label=3;case 3:return f<p.length?[5,h(f)]:[3,6];case 4:if("break"===v.sent())return[3,6];v.label=5;case 5:return++f,[3,3];case 6:s.dispose(),v.label=7;case 7:return[4,b.onEpochEnd(a,o)];case 8:return v.sent(),e.stopTraining_?[2,"break"]:[2]}})},S=h,A.label=2;case 2:return S<a?[5,z(S)]:[3,5];case 3:if("break"===A.sent())return[3,5];A.label=4;case 4:return++S,[3,2];case 5:return[4,b.onTrainEnd()];case 6:return A.sent(),[4,e.history.syncData()];case 7:return A.sent(),[2,e.history]}})})}function fitTensors(e,t,n,r){return void 0===r&&(r={}),__awaiter(this,void 0,void 0,function(){var i,a,o,s,l,u,c,p,h,d,f,g,m,y,v,b,w,z,S,A,_,I;return __generator(this,function(C){switch(C.label){case 0:if(e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0,C.label=1;case 1:return C.trys.push([1,,7,8]),checkBatchSize(p=null==r.batchSize?32:r.batchSize),h=!1,[4,e.standardizeUserData(t,n,r.sampleWeight,r.classWeight,h,p)];case 2:if(d=C.sent(),i=d[0],a=d[1],c=d[2],f=!1,g=void 0,!(null!=r.validationData&&r.validationData.length>0))return[3,4];if(f=!0,2!==r.validationData.length)throw 3===r.validationData.length?new NotImplementedError("validationData including sample weights is not supported yet."):new ValueError("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+r.validationData+" is invalid.");return o=r.validationData[0],s=r.validationData[1],m=!0,[4,e.standardizeUserData(o,s,null,null,m,p)];case 3:return y=C.sent(),l=y[0],u=y[1],g=l.concat(u),[3,5];case 4:null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1?(f=!0,v=Math.floor(i[0].shape[0]*(1-r.validationSplit)),b=i[0].shape[0],l=sliceArrays(i,v,b),i=sliceArrays(i,0,v),u=sliceArrays(a,v,b),a=sliceArrays(a,0,v),g=l.concat(u)):null!=r.validationSteps&&(f=!0),C.label=5;case 5:return w=i.concat(a).concat(c),e.checkTrainableWeightsConsistency(),z=e.makeTrainFunction(),S=e.getDedupedMetricsNames(),A=void 0,_=void 0,f?(e.makeTestFunction(),A=e.testFunction,_=S.slice().concat(S.map(function(e){return"val_"+e}))):(A=null,g=[],_=S.slice()),I=standardizeCallbacks(r.callbacks,r.yieldEvery),[4,fitLoop(e,z,w,S,p,r.epochs,r.verbose,I,A,g,r.shuffle,_,r.initialEpoch,null,null)];case 6:return[2,C.sent()];case 7:return e.isTraining=!1,disposeNewTensors(i,t),disposeNewTensors(a,n),disposeNewTensors(l,o),disposeNewTensors(u,s),null!=c&&Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(c),[7];case 8:return[2]}})})}function ensureTensorsRank2OrHigher(e){var t=[];e instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"]&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(expandDims$1(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function disposeNewTensors(e,t){if(null!=e){var n=[];if(t instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"])n.push(t.id);else if(Array.isArray(t))t.forEach(function(e){return n.push(e.id)});else if(null!=t)for(var r in t){var i=t[r];n.push(i.id)}var a=[];if(e instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"])-1===n.indexOf(e.id)&&a.push(e);else if(Array.isArray(e))e.forEach(function(e){-1===n.indexOf(e.id)&&a.push(e)});else if(null!=e)for(var o in e){var s=e[o];-1===n.indexOf(s.id)&&a.push(s)}a.forEach(function(e){e.isDisposed||e.dispose()})}}function isDataTensor(e){return e instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"]}function isDataArray(e){return Array.isArray(e)}function isDataDict(e){return!isDataTensor(e)&&!isDataArray(e)}function standardizeInputData(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=""),null==t||0===t.length){if(null!=e){var a=!1;if(isDataArray(e)&&e.length>0)a=!0;else if(isDataDict(e)){for(var o in e)if(e.hasOwnProperty(o)){a=!0;break}}else a=!0;if(a)throw new ValueError("Error when checking model "+i+" expected no data, but got "+e)}return[]}if(null==e)return t.map(function(e){return null});var s;if(isDataDict(e)){e=e,s=[];for(var l=0,u=t;l<u.length;l++){var c=u[l];if(null==e[c])throw new ValueError('No data provided for "'+c+'". Need data for each key in: '+t);s.push(e[c])}}else if(isDataArray(e)){if((e=e).length!==t.length)throw new ValueError("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see "+t.length+" Tensor(s), but instead got the following list of Tensor(s): "+e);s=e}else{if(e=e,t.length>1)throw new ValueError("The model "+i+" expects "+t.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+e.shape);s=[e]}if(s=ensureTensorsRank2OrHigher(s),null!=n)for(var p=0;p<t.length;++p)if(null!=n[p]){var h=s[p];if(h.shape.length!==n[p].length)throw new ValueError("Error when checking "+i+": expected "+t[p]+" to have "+n[p].length+" dimension(s). but got array with shape "+h.shape);for(var d=0;d<n[p].length;++d)if(0!==d||r){var f=h.shape[d],g=n[p][d];if(null!=g&&g>=0&&f!==g)throw new ValueError("Error when checking "+i+": expected "+t[p]+" to have shape ["+n[p]+"], but got array with shape ["+h.shape+"].")}}return s}function checkArrayLengths(e,t,n){var r=unique(e.map(function(e){return e.shape[0]}));r.sort();var i=unique(t.map(function(e){return e.shape[0]}));if(i.sort(),r.length>1)throw new ValueError("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(e.map(function(e){return e.shape})));if(i.length>1)throw new ValueError("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(t.map(function(e){return e.shape})));if(r.length>0&&i.length>0&&!_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(r,i))throw new ValueError("Input Tensors should have the same number of samples as target Tensors. Found "+r[0]+" input sample(s) and "+i[0]+" target sample(s).")}function checkLossAndTargetCompatibility(e,t,n){for(var r=[meanSquaredError,binaryCrossentropy,categoricalCrossentropy],i=0;i<e.length;++i){var a=e[i],o=t[i],s=n[i];if(null!=o){if(o===categoricalCrossentropy&&1===a.shape[a.shape.length-1])throw new ValueError("You are passing a target array of shape "+a.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var l=a.shape.slice(1),u=s.slice(1),c=0;c<l.length;++c){var p=l[c],h=u[c];if(null!=h&&p!==h)throw new ValueError("A target Tensor with shape "+a.shape+" was passed for an output of shape "+s+", while using a loss function that expects targets to have the same shape as the output.")}}}}function checkInputData(e,t,n,r,i){var a;if(void 0===r&&(r=!0),void 0===i&&(i=""),Array.isArray(e)){if(e.length!==t.length)throw new ValueError("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see "+t.length+" Tensor(s), but instead got "+e.length+" Tensors(s).");a=e}else{if(t.length>1)throw new ValueError("The model expects "+t.length+" "+i+" Tensors, but only received one Tensor. Found: array with shape "+JSON.stringify(e.shape)+".");a=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=a[o];if(s.shape.length!==n[o].length)throw new ValueError("Error when checking "+i+": expected "+t[o]+" to have "+n[o].length+" dimension(s), but got array with shape "+JSON.stringify(s.shape));for(var l=0;l<n[o].length;++l)if(0!==l||r){var u=s.shape[l],c=n[o][l];if(null!=c&&c!==u)throw new ValueError("Error when checking "+i+": expected "+t[o]+" to have shape "+JSON.stringify(n[o])+" but got array with shape "+JSON.stringify(s.shape)+".")}}}function collectMetrics(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map(function(e){return[]});var n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,function, Array, or Object, found: "+e);n=e}if(Array.isArray(n))return t.map(function(e){return n});for(var r=[],i=0,a=t;i<a.length;i++){var o=a[i],s=n.hasOwnProperty(o)?n[o]:[];Array.isArray(s)||(s=[s]),r.push(s)}return r}var LAYERS_MODEL_FORMAT_NAME="layers-model",LayersModel=function(e){function t(t){var n=e.call(this,t)||this;return n.isTraining=!1,n}return __extends(t,e),t.prototype.summary=function(e,t,n){if(void 0===n&&(n=console.log),!this.built)throw new ValueError("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");printSummary(this,e,t,n)},t.prototype.compile=function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=getOptimizer(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Optimizer"]))throw new ValueError("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ValueError("When passing an Array as loss, it should have one entry per model output. The model has "+this.outputs.length+" output(s), but you passed loss="+e.loss+".");var r=e.loss;n=r.map(function(e){return get(e)})}else{var i=get(e.loss);this.outputs.forEach(function(e){n.push(i)})}else{for(var a in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(a))throw new ValueError('Unknown entry in loss dictionary: "'+a+'". Only expected the following keys: '+this.outputNames);for(var o=0,s=this.outputNames;o<s.length;o++){var l=s[o];null==e.loss[l]&&console.warn('Output "'+l+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+l+" during training"),n.push(get(e.loss[l]))}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var u=0;u<this.outputs.length;++u){var c=this.internalOutputShapes[u],p=this.outputNames[u];this.feedOutputNames.push(p),this.feedOutputShapes.push(c),this.feedLossFns.push(this.lossFunctions[u])}var h=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],nameScope("loss",function(){for(var e=0;e<t.outputs.length;++e)if(-1===h.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}});var d=collectMetrics(e.metrics,this.outputNames);nameScope("metric",function(){for(var e=function(e){if(-1!==h.indexOf(e))return"continue";!function(n){for(var r,i,a,o=function(n){if("string"==typeof n&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(n)){var o=t.internalOutputShapes[e];1===o[o.length-1]||t.lossFunctions[e]===binaryCrossentropy?-1!==["accuracy","acc"].indexOf(n)?i=binaryAccuracy:-1!==["crossentropy","ce"].indexOf(n)&&(i=binaryCrossentropy$1):t.lossFunctions[e]===sparseCategoricalCrossentropy?-1!==["accuracy","acc"].indexOf(n)?i=sparseCategoricalAccuracy:-1!==["crossentropy","ce"].indexOf(n)&&(i=sparseCategoricalCrossentropy$1):-1!==["accuracy","acc"].indexOf(n)?i=categoricalAccuracy:-1!==["crossentropy","ce"].indexOf(n)&&(i=categoricalCrossentropy$1);var s=void 0;-1!==["accuracy","acc"].indexOf(n)?s="acc":-1!==["crossentropy","ce"].indexOf(n)&&(s="ce"),a=i,r=""+s}else{var l=get$1(n);a=l,r=""+getLossOrMetricName(n)}var u;nameScope(r,function(){u=a}),function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])}(e,r,u)},s=0,l=n;s<l.length;s++)o(l[s])}(d[e])},n=0;n<t.outputs.length;++n)e(n)}),this.collectedTrainableWeights=this.trainableWeights},t.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")},t.prototype.evaluate=function(e,t,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize;checkBatchSize(r);var i=this.standardizeUserDataXY(e,t,!0,r);try{var a=i[0].concat(i[1]);this.makeTestFunction();var o=this.testFunction;return singletonOrArray(this.testLoop(o,a,r,n.verbose,n.steps))}finally{disposeNewTensors(i[0],e),disposeNewTensors(i[1],t)}},t.prototype.evaluateDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return this.makeTestFunction(),[2,evaluateDataset(this,e,t)]})})},t.prototype.checkNumSamples=function(e,t,n,r){var i;if(void 0===r&&(r="steps"),null!=n){if(i=null,null!=t)throw new ValueError("If "+r+" is set, batchSize must be null or undefined.Got batchSize = "+t)}else{if(null==e)throw new ValueError("Either the input data should have a defined shape, or "+r+" shoud be specified.");i=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return i},t.prototype.execute=function(e,t){if(Array.isArray(t)&&0===t.length)throw new ValueError("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],i=this.retrieveSymbolicTensors(r),a=new FeedDict;if(e instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"]&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ValueError("The number of inputs provided ("+e.length+") does not match the number of inputs of this model ("+this.inputs.length+").");for(var o=0;o<this.inputs.length;++o)a.add(this.inputs[o],e[o])}else for(var s=0,l=this.inputs;s<l.length;s++){var u=l[s],c=e[u.name];if(null==c)throw new ValueError("No value is provided for the model's input "+u.name);a.add(u,c)}var p=execute(i,a);return n?p:p[0]},t.prototype.retrieveSymbolicTensors=function(e){for(var t=pyListRepeat(null,e.length),n=e.length,r=0,i=this.layers;r<i.length;r++){for(var a=i[r],o=Array.isArray(a.output)?a.output:[a.output],s=o.map(function(e){return e.name}),l=0;l<e.length;++l){var u=s.indexOf(e[l]);if(-1!==u&&(t[l]=o[u],n--),0===n)break}if(0===n)break}if(n>0){var c=[];throw t.forEach(function(t,n){null==t&&c.push(e[n])}),new ValueError("Cannot find SymbolicTensors for output name(s): "+JSON.stringify(c))}return t},t.prototype.predictLoop=function(e,t,n){var r=this;return void 0===t&&(t=32),void 0===n&&(n=!1),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var i=r.checkNumSamples(e);if(n)throw new NotImplementedError("Verbose predictLoop() is not implemented yet.");for(var a=makeBatches(i,t),o=r.outputs.map(function(e){return[]}),s=function(t){Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=a[t][0],i=a[t][1],o=sliceArrays(e,n,i),s=[];if(Array.isArray(o))for(var l=0;l<o.length;++l)s.push({key:r.inputs[l],value:o[l]});else s.push({key:r.inputs[0],value:o});var u=new FeedDict(s);return execute(r.outputs,u)}).forEach(function(e,t){return o[t].push(e)})},l=0;l<a.length;++l)s(l);return singletonOrArray(o.map(function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat"])(e,0)}))})},t.prototype.predict=function(e,t){void 0===t&&(t={});var n=ensureTensorsRank2OrHigher(e);checkInputData(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return checkBatchSize(r),this.predictLoop(n,r)}finally{disposeNewTensors(n,e)}},t.prototype.predictOnBatch=function(e){checkInputData(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)},t.prototype.standardizeUserDataXY=function(e,t,n,r){if(void 0===n&&(n=!0),null==this.optimizer_)throw new RuntimeError("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var i=[],a=0;a<this.feedOutputShapes.length;++a){var o=this.feedOutputShapes[a];this.feedLossFns[a]===sparseCategoricalCrossentropy?i.push(o.slice(0,o.length-1).concat([1])):i.push(o)}if(checkArrayLengths(e=standardizeInputData(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=standardizeInputData(t,this.feedOutputNames,i,!1,"target"),null),checkLossAndTargetCompatibility(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!=0)throw new ValueError("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+r+". Found: "+e[0].shape[0]+" sample(s).");return[e,t]},t.prototype.standardizeUserData=function(e,t,n,r,i,a){return void 0===i&&(i=!0),__awaiter(this,void 0,void 0,function(){var o,s,l,u,c,p,h,d;return __generator(this,function(f){switch(f.label){case 0:if(o=this.standardizeUserDataXY(e,t,i,a),s=o[0],l=o[1],null!=n)throw new Error("sample weight is not supported yet.");if(u=null,null==r)return[3,4];c=standardizeClassWeights(r,this.outputNames),u=[],p=0,f.label=1;case 1:return p<c.length?(d=(h=u).push,[4,standardizeWeights(l[p],null,c[p])]):[3,4];case 2:d.apply(h,[f.sent()]),f.label=3;case 3:return++p,[3,1];case 4:return[2,[s,l,u]]}})})},t.prototype.testLoop=function(e,t,n,r,i){var a=this;return void 0===r&&(r=0),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var o=a.checkNumSamples(t,n,i,"steps"),s=[];if(r>0)throw new NotImplementedError("Verbose mode is not implemented yet.");if(null!=i)throw new NotImplementedError("steps mode in testLoop() is not implemented yet");for(var l=makeBatches(o,n),u=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor1d"])(range(0,o)),c=0;c<l.length;++c){var p=l[c][0],h=l[c][1],d=sliceAlongFirstAxis(u,p,h-p),f=sliceArraysByIndices(t,d),g=e(f);if(0===c)for(var m=0;m<g.length;++m)s.push(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"])(0));for(m=0;m<g.length;++m){var y=g[m];s[m]=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(s[m],Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(h-p,y))}}for(m=0;m<s.length;++m)s[m]=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"])(s[m],o);return s})},t.prototype.getDedupedMetricsNames=function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],i=r;if(count(e,r)>1)i+="_"+count(e.slice(0,n),r);t.push(i)}return t},t.prototype.makeTrainFunction=function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),a=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),o=[],s=e.collectedTrainableWeights.map(function(e){return e.read()});return[e.optimizer_.minimize(function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});var l,u=new FeedDict(t),c=execute(e.outputs,u,{training:!0});for(s=0;s<e.lossFunctions.length;++s){var p=(0,e.lossFunctions[s])(i[s],c[s]);null!=a[s]&&(p=computeWeightedLoss(p,a[s]));var h=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(p);n.push(h),l=0===s?p:Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(l,p)}for(s=0;s<e.metricsTensors.length;++s){var d=void 0;if(e.outputs.length>1&&s<e.outputs.length)d=n[s];else{var f=e.metricsTensors[s][0],g=e.metricsTensors[s][1];d=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(f(i[g],c[g]))}Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["keep"])(d),o.push(d)}return l=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(l),e.calculateLosses().forEach(function(e){l=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(l,e)}),l},!0,s)].concat(o)}},t.prototype.makeTestFunction=function(){var e=this;this.testFunction=function(t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){for(var n,r=[],i=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=[],s=0;s<e.inputs.length;++s)o.push({key:e.inputs[s],value:i[s]});var l=new FeedDict(o),u=execute(e.outputs,l);for(s=0;s<e.lossFunctions.length;++s){var c=e.lossFunctions[s],p=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(c(a[s],u[s]));n=0===s?p:Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(n,p),r.push(n)}for(s=0;s<e.metricsTensors.length;++s){var h=e.metricsTensors[s][0],d=e.metricsTensors[s][1],f=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(h(a[d],u[d]));r.push(f)}return r})}},t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(r){return[2,fitTensors(this,e,t,n)]})})},t.prototype.fitDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return[2,fitDataset(this,e,t)]})})},t.prototype.trainOnBatch=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r,i,a,o,s,l,u,c;return __generator(this,function(p){switch(p.label){case 0:return[4,this.standardizeUserData(e,t)];case 1:n=p.sent(),r=n[0],i=n[1],a=this.makeTrainFunction(),o=a(r.concat(i)),s=[],l=0,u=o,p.label=2;case 2:return l<u.length?[4,u[l].data()]:[3,5];case 3:c=p.sent(),s.push(c[0]),p.label=4;case 4:return l++,[3,2];case 5:return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(o),[2,singletonOrArray(s)]}})})},t.prototype.getNamedWeights=function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n),a=0;a<r.length;++a)n&&!r[a].trainable||t.push({name:r[a].originalName,tensor:i[a]});return t},Object.defineProperty(t.prototype,"stopTraining",{get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"optimizer",{get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=e.prototype.dispose.call(this);if(0===t.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["memory"])().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=n-Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["memory"])().numTensors}return t},t.prototype.getLossIdentifiers=function(){var e;if("string"==typeof this.loss)e=toSnakeCase(this.loss);else if(Array.isArray(this.loss)){for(var t=0,n=this.loss;t<n.length;t++){if("string"!=typeof n[t])throw new Error("Serialization of non-string loss is not supported.")}e=this.loss.map(function(e){return toSnakeCase(e)})}else{var r=Object.keys(this.loss);e={};for(var i=this.loss,a=0,o=r;a<o.length;a++){var s=o[a];if("string"!=typeof i[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=toSnakeCase(i[s])}}return e},t.prototype.getMetricIdentifiers=function(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[toSnakeCase(getLossOrMetricName(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(function(e){return toSnakeCase(getLossOrMetricName(e))});var e={};for(var t in this.metrics)e[t]=toSnakeCase(getLossOrMetricName(this.metrics[t]));return e},t.prototype.getTrainingConfig=function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}},t.prototype.loadTrainingConfig=function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=deserialize(convertPythonicToTs(e.optimizer_config));if("string"==typeof e.loss)t=toCamelCase(e.loss);else if(Array.isArray(e.loss))t=e.loss.map(function(e){return toCamelCase(e)});else if(null!=e.loss)for(var i in t={},e.loss)t[i]=toCamelCase(e.loss[i]);if(Array.isArray(e.metrics))n=e.metrics.map(function(e){return toCamelCase(e)});else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=toCamelCase(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})},t.prototype.save=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r,i,a,o,s,l,u,c,p,h,d,f,g;return __generator(this,function(m){switch(m.label){case 0:if("string"==typeof e){if(0===(n=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].getSaveHandlers(e)).length)throw new ValueError("Cannot find any save handlers for URL '"+e+"'");if(n.length>1)throw new ValueError("Found more than one ("+n.length+") save handlers for URL '"+e+"'");e=n[0]}if(null==e.save)throw new ValueError("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].encodeWeights(this.getNamedWeights(t))];case 1:return r=m.sent(),i=!1,a=null,o=this.toJSON(a,i),s={modelTopology:o,format:LAYERS_MODEL_FORMAT_NAME,generatedBy:"TensorFlow.js tfjs-layers v"+version,convertedBy:null},null!=t&&t.includeOptimizer&&null!=this.optimizer?(s.trainingConfig=this.getTrainingConfig(),l="optimizer",d=(h=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"]).encodeWeights,[4,this.optimizer.getWeights()]):[3,4];case 2:return[4,d.apply(h,[m.sent(),l])];case 3:u=m.sent(),c=u.data,p=u.specs,(g=r.specs).push.apply(g,p),r.data=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].concatenateArrayBuffers([r.data,c]),m.label=4;case 4:return null!=this.userDefinedMetadata&&(f=!0,checkUserDefinedMetadata(this.userDefinedMetadata,this.name,f),s.userDefinedMetadata=this.userDefinedMetadata),s.weightData=r.data,s.weightSpecs=r.specs,[2,e.save(s)]}})})},t.prototype.setUserDefinedMetadata=function(e){checkUserDefinedMetadata(e,this.name),this.userDefinedMetadata=e},t.prototype.getUserDefinedMetadata=function(){return this.userDefinedMetadata},t.className="Model",t}(Container);function modelFromJSON(e,t){return __awaiter(this,void 0,void 0,function(){var n,r,i,a,o,s,l,u;return __generator(this,function(c){switch(c.label){case 0:return"modelTopology"in e||(e={modelTopology:e}),null!=(n=(e=e).modelTopology).model_config&&(n=n.model_config),r=convertPythonicToTs(n),i=deserialize(r,t),null==e.weightsManifest?[3,2]:[4,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].loadWeights(e.weightsManifest,e.pathPrefix,i.weights.map(function(e){return e.originalName}))];case 1:for(a=c.sent(),o={},s=0,l=i.weights;s<l.length;s++)u=l[s],o[u.originalName]=a[u.originalName];i.loadWeights(o),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(a),c.label=2;case 2:return[2,i]}})})}function loadLayersModelInternal(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){if(null==t&&(t={}),"string"==typeof e){if(0===(n=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].getLoadHandlers(e,t.onProgress)).length)n.push(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].browserHTTPRequest(e,t));else if(n.length>1)throw new ValueError("Found more than one ("+n.length+") load handlers for URL '"+e+"'");e=n[0]}return[2,loadLayersModelFromIOHandler(e,void 0,t)]})})}function loadLayersModelFromIOHandler(e,t,n){return __awaiter(this,void 0,void 0,function(){var r,i,a,o,s,l,u,c,p;return __generator(this,function(h){switch(h.label){case 0:if(null==n&&(n={}),null==e.load)throw new ValueError("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,e.load()];case 1:if(r=h.sent(),null!=(i=r.modelTopology).model_config&&(i=i.model_config),a=null==n.strict||n.strict,o=null!=r.weightData&&null!=r.weightSpecs&&a,s=deserialize(convertPythonicToTs(i),t,o),null!=(l=r.trainingConfig)&&s.loadTrainingConfig(l),null!=r.userDefinedMetadata&&s.setUserDefinedMetadata(r.userDefinedMetadata),null==r.weightData)return[3,4];if(null==r.weightSpecs)throw new ValueError("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");return u=decodeModelAndOptimizerWeights(r.weightData,r.weightSpecs),c=u.modelWeights,p=u.optimizerWeights,s.loadWeights(c,a),null!=s.optimizer&&p.length>0?[4,s.optimizer.setWeights(p)]:[3,3];case 2:h.sent(),h.label=3;case 3:Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(c),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(p.map(function(e){return e.tensor})),h.label=4;case 4:return[2,s]}})})}function decodeModelAndOptimizerWeights(e,t){var n=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"].decodeWeights(e,t),r={},i=[];return t.forEach(function(e){"optimizer"===e.group?i.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]}),{modelWeights:r,optimizerWeights:i}}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(LayersModel);var Sequential=function(e){function t(t){var n=e.call(this,{inputs:[],outputs:[]})||this;if(t=t||{},n.trainable=!0,n.built=!1,n.name=null!=t.name?t.name:getUid("sequential_"),null!=t.layers)for(var r=0,i=t.layers;r<i.length;r++){var a=i[r];n.add(a)}return n}return __extends(t,e),t.prototype.checkShape=function(e){if(e.inboundNodes[0].outputTensors[0].shape.some(function(e){return e<0}))throw new ValueError("Negative dimension size caused by adding layer "+e.name+" with input shape ["+e.inboundNodes[0].inputTensors[0].shape+"]")},t.prototype.add=function(e){var n,r=e instanceof t||e instanceof LayersModel;if(r){if(1!==(n=e).outputs.length)throw new ValueError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new ValueError("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new ValueError("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var i=Input({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(i)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new ValueError("A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer "+e.name+" which has "+e.inboundNodes.length+" pre-existing inbound connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new ValueError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=getSourceInputs(this.outputs[0])}this.inboundNodes=[],new Node({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:pyListRepeat(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(e){return e.shape}),outputShapes:this.outputs[0].shape})}else{var a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1},t.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},t.prototype.call=function(e,t){return null==this.model&&this.build(),this.model.call(e,t)},t.prototype.build=function(e){if(getExactlyOneShape(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new LayersModel({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},t.prototype.countParams=function(){return this.built||this.build(),e.prototype.countParams.call(this)},t.prototype.summary=function(t,n,r){void 0===r&&(r=console.log),this.built||this.build(),e.prototype.summary.call(this,t,n,r)},t.prototype.setWeights=function(e){null==this.model&&this.build(),this.model.setWeights(e)},t.prototype.evaluate=function(e,t,n){if(void 0===n&&(n={}),!this.built)throw new RuntimeError("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)},t.prototype.evaluateDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){if(!this.built)throw new RuntimeError("The model needs to be compiled before being used.");return[2,this.model.evaluateDataset(e,t)]})})},t.prototype.predict=function(e,t){return void 0===t&&(t={}),null==this.model&&this.build(),this.model.predict(e,t)},t.prototype.predictOnBatch=function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)},t.prototype.compile=function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},Object.defineProperty(t.prototype,"optimizer",{get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e},enumerable:!0,configurable:!0}),t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(r){if(!this.built)throw new RuntimeError("The model needs to be compiled before being used.");return[2,this.model.fit(e,t,n)]})})},t.prototype.fitDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){if(!this.built)throw new RuntimeError("The model needs to be compiled before being used.");return[2,this.model.fitDataset(e,t)]})})},t.prototype.trainOnBatch=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return[2,this.model.trainOnBatch(e,t)]})})},t.fromConfig=function(e,n,r,i){var a;void 0===r&&(r={}),void 0===i&&(i=!1);var o={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new ValueError("Legacy serialization format not supported yet.");a=n}else _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(null!=n.layers,function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."}),a=n.layers,delete n.layers,o=n;var s=new e(o);if(!(s instanceof t))throw new NotImplementedError("Sequential.fromConfig called on non-Sequential input: "+s);for(var l=0,u=a;l<u.length;l++){var c=deserialize(u[l],void 0,i);i&&c.setFastWeightInitDuringBuild(!0),s.add(c)}return s},Object.defineProperty(t.prototype,"stopTraining",{get:function(){if(null==this.model)throw new ValueError("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new ValueError("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t],i={};i.className=r.getClassName(),i.config=r.getConfig(),e.push(i)}return{name:this.name,layers:e}},t.className="Sequential",t}(LayersModel);function model(e){return new LayersModel(e)}function sequential(e){return new Sequential(e)}function loadLayersModel(e,t){return null==t&&(t={}),loadLayersModelInternal(e,t)}function input(e){return Input(e)}function registerCallbackConstructor(e,t){CallbackConstructorRegistry.registerCallbackConstructor(e,t)}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Sequential);var Activation=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getConfig=function(){return{}},t}(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].Serializable),Elu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=1),elu$1(e,t)},t.className="elu",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Elu);var Selu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["selu"])(e)},t.className="selu",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Selu);var Relu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["relu"])(e)},t.className="relu",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Relu);var Relu6=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["minimum"])(6,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["relu"])(e))})},t.className="relu6",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Relu6);var Linear=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return e},t.className="linear",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Linear);var Sigmoid=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sigmoid"])(e)},t.className="sigmoid",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Sigmoid);var HardSigmoid=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return hardSigmoid(e)},t.className="hardSigmoid",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(HardSigmoid);var Softplus=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["softplus"])(e)},t.className="softplus",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Softplus);var Softsign=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return softsign(e)},t.className="softsign",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Softsign);var Tanh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tanh"])(e)},t.className="tanh",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Tanh);var Softmax=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["softmax"])(e,t)},t.className="softmax",t}(Activation);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Softmax);var LogSoftmax=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logSoftmax"])(e,t)},t.className="logSoftmax",t}(Activation);function serializeActivation(e){return e.getClassName()}function deserializeActivation(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].SerializationMap.getMap().classNameMap,t,"activation")}function getActivation(e){var t;return null==e?deserializeActivation(t={className:"linear",config:{}}):"string"==typeof e?((t={}).className=e,t.config={},deserializeActivation(t)):e instanceof Activation?e:deserializeActivation(e)}function assertObjectArgs(e){if(null!=e&&"object"!=typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an object, but received: "+e)}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(LogSoftmax);var Regularizer=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].Serializable),L1L2=function(e){function t(t){var n=e.call(this)||this;return assertObjectArgs(t),n.l1=null==t||null==t.l1?.01:t.l1,n.l2=null==t||null==t.l2?.01:t.l2,n.hasL1=0!==n.l1,n.hasL2=0!==n.l2,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zeros"])([1]);return t.hasL1&&(n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(n,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(t.l1,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["abs"])(e))))),t.hasL2&&(n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(n,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(t.l2,square(e))))),n.asScalar()})},t.prototype.getConfig=function(){return{l1:this.l1,l2:this.l2}},t.fromConfig=function(e,t){return new e({l1:t.l1,l2:t.l2})},t.className="L1L2",t}(Regularizer);function l1(e){return assertObjectArgs(e),new L1L2({l1:null!=e?e.l1:null,l2:0})}function l2(e){return assertObjectArgs(e),new L1L2({l2:null!=e?e.l2:null,l1:0})}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(L1L2);var REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP={l1l2:"L1L2"};function serializeRegularizer(e){return serializeKerasObject(e)}function deserializeRegularizer(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].SerializationMap.getMap().classNameMap,t,"regularizer")}function getRegularizer(e){return null==e?null:"string"==typeof e?deserializeRegularizer({className:e in REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP?REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[e]:e,config:{}}):e instanceof Regularizer?e:deserializeRegularizer(e)}var ReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,null!=t&&(n.maxValue=t.maxValue),n}return __extends(t,e),t.prototype.call=function(e,t){e=getExactlyOneTensor(e);var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["relu"])(e);return null!=this.maxValue&&(n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"])(n,0,this.maxValue)),n},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={maxValue:this.maxValue},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ReLU",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(ReLU);var LeakyReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_ALPHA=.3,null==t&&(t={}),n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["leakyRelu"])(n,this.alpha)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LeakyReLU",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(LeakyReLU);var PReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA_INITIALIZER="zeros",null==t&&(t={}),n.supportsMasking=!0,n.alphaInitializer=getInitializer(t.alphaInitializer||n.DEFAULT_ALPHA_INITIALIZER),n.alphaRegularizer=getRegularizer(t.alphaRegularizer),n.alphaConstraint=getConstraint(t.alphaConstraint),null==t.sharedAxes)n.sharedAxes=null;else if(Array.isArray(t.sharedAxes))n.sharedAxes=t.sharedAxes;else{if("number"!=typeof t.sharedAxes)throw new ValueError("Expected sharedAxes to be a number or an array of numbers, but got "+t.sharedAxes);n.sharedAxes=[t.sharedAxes]}return n}return __extends(t,e),t.prototype.build=function(e){var t=(e=getExactlyOneShape(e)).slice(1);if(null!=this.sharedAxes)for(var n=0,r=this.sharedAxes;n<r.length;n++){t[(a=r[n])-1]=1}this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var i={};if(null!=this.sharedAxes)for(var a=1;a<e.length;++a)i[a]=e[a];this.inputSpec=[new InputSpec({ndim:e.length,axes:i})],this.built=!0},t.prototype.call=function(e,t){return e=getExactlyOneTensor(e),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["prelu"])(e,this.alpha.read())},t.prototype.getConfig=function(){var t={alphaInitializer:serializeInitializer(this.alphaInitializer),alphaRegularizer:serializeRegularizer(this.alphaRegularizer),alphaConstraint:serializeConstraint(this.alphaConstraint),sharedAxes:this.sharedAxes},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="PReLU",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(PReLU);var ELU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA=1,null==t&&(t={}),null!=t.alpha&&t.alpha!==n.DEFAULT_ALPHA)throw new NotImplementedError("Non-default alpha value ("+t.alpha+") is not supported by the ELU layer yet.");return n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["elu"])(n)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ELU",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(ELU);var ThresholdedReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_THETA=1,null==t&&(t={}),n.theta=null==t.theta?n.DEFAULT_THETA:t.theta,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return n.mul(cast$1(n.greater(this.theta),"float32"))},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={theta:this.theta},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ThresholdedReLU",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(ThresholdedReLU);var Softmax$1=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_AXIS=1,null==t&&(t={}),n.softmax=(new Softmax).apply,n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return this.softmax(n,this.axis)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Softmax",t}(Layer);function normalizeArray(e,t,n){if("number"==typeof e)return pyListRepeat(e,t);if(e.length!==t)throw new ValueError("The "+n+" argument must be an integer or tuple of "+t+" integers. Received: "+e.length+" elements.");for(var r=0;r<t;++r){var i=e[r];if(!isInteger(i))throw new ValueError("The "+n+" argument must be an integer or tuple of "+t+" integers. Received: "+JSON.stringify(e)+" including a non-integer number "+i)}return e}function convOutputLength(e,t,n,r,i){return void 0===i&&(i=1),null==e?e:(a="same"===n?e:e-(t+(t-1)*(i-1))+1,Math.floor((a+r-1)/r));var a}function deconvLength(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+max$1([n-t,0]);else{if("same"!==r)throw new ValueError("Unsupport padding mode: "+r+".");e*=t}return e}function preprocessConv2DInput(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return checkDataFormat(t),"channelsFirst"===t?Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(e,[0,2,3,1]):e})}function preprocessConv3DInput(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return checkDataFormat(t),"channelsFirst"===t?Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(e,[0,2,3,4,1]):e})}function conv1dWithBias(e,t,n,r,i,a,o){return void 0===r&&(r=1),void 0===i&&(i="valid"),void 0===o&&(o=1),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(null==a&&(a=imageDataFormat()),checkDataFormat(a),3!==e.shape.length)throw new ValueError("The input of a conv1dWithBias operation should be 3, but is "+e.shape.length+" instead.");if(3!==t.shape.length)throw new ValueError("The kernel for a conv1dWithBias operation should be 3, but is "+t.shape.length+" instead");if(null!=n&&1!==n.shape.length)throw new ValueError("The bias for a conv1dWithBias operation should be 1, but is "+t.shape.length+" instead");if("channelsFirst"===a&&(e=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(e,[0,2,1])),"causal"===i)throw new NotImplementedError("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv1d"])(e,t,r,"same"===i?"same":"valid","NWC",o);return null!=n&&(s=biasAdd(s,n)),s})}function conv2dWithBiasActivation(e,t,n,r,i,a,o,s){return void 0===r&&(r=[1,1]),void 0===i&&(i="valid"),void 0===s&&(s=null),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(null==a&&(a=imageDataFormat()),checkDataFormat(a),3!==e.rank&&4!==e.rank)throw new ValueError("conv2dWithBiasActivation expects input to be of rank 3 or 4, but received "+e.rank+".");if(3!==t.rank&&4!==t.rank)throw new ValueError("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received "+e.rank+".");var l=preprocessConv2DInput(e,a);if("causal"===i)throw new NotImplementedError("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fused"].conv2d({x:l,filter:t,strides:r,pad:"same"===i?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===a&&(l=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(l,[0,3,1,2])),l})}function conv3dWithBias(e,t,n,r,i,a,o){return void 0===r&&(r=[1,1,1]),void 0===i&&(i="valid"),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(null==a&&(a=imageDataFormat()),checkDataFormat(a),4!==e.rank&&5!==e.rank)throw new ValueError("conv3dWithBias expects input to be of rank 4 or 5, but received "+e.rank+".");if(4!==t.rank&&5!==t.rank)throw new ValueError("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+e.rank+".");var s=preprocessConv3DInput(e,a);if("causal"===i)throw new NotImplementedError("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv3d"])(s,t,r,"same"===i?"same":"valid","NDHWC",o),null!=n&&(s=biasAdd(s,n)),"channelsFirst"===a&&(s=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(s,[0,4,1,2,3])),s})}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Softmax$1);var BaseConv=function(e){function t(n,r){var i=e.call(this,r)||this;if(i.bias=null,i.DEFAULT_KERNEL_INITIALIZER="glorotNormal",i.DEFAULT_BIAS_INITIALIZER="zeros",t.verifyArgs(r),i.rank=n,assertPositiveInteger(i.rank,"rank"),1!==i.rank&&2!==i.rank&&3!==i.rank)throw new NotImplementedError("Convolution layer for rank other than 1, 2, or 3 ("+i.rank+") is not implemented yet.");if(i.kernelSize=normalizeArray(r.kernelSize,n,"kernelSize"),i.strides=normalizeArray(null==r.strides?1:r.strides,n,"strides"),i.padding=null==r.padding?"valid":r.padding,checkPaddingMode(i.padding),i.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,checkDataFormat(i.dataFormat),i.activation=getActivation(r.activation),i.useBias=null==r.useBias||r.useBias,i.biasInitializer=getInitializer(r.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=getConstraint(r.biasConstraint),i.biasRegularizer=getRegularizer(r.biasRegularizer),i.activityRegularizer=getRegularizer(r.activityRegularizer),i.dilationRate=normalizeArray(null==r.dilationRate?1:r.dilationRate,n,"dilationRate"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new ValueError("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(i.dilationRate));if(2===i.rank){if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new ValueError("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(i.dilationRate))}else if(3===i.rank)if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate,i.dilationRate];else if(3!==i.dilationRate.length)throw new ValueError("dilationRate must be a number or array of three numbers for 3D convolution, but received "+JSON.stringify(i.dilationRate));return i}return __extends(t,e),t.verifyArgs=function(e){if(assert("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,"number",1,3))throw new ValueError("BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received "+JSON.stringify(e.kernelSize)+".")},t.prototype.getConfig=function(){var t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:serializeActivation(this.activation),useBias:this.useBias,biasInitializer:serializeInitializer(this.biasInitializer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),biasConstraint:serializeConstraint(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),Conv=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.kernel=null,t.verifyArgs(r),i.filters=r.filters,assertPositiveInteger(i.filters,"filters"),i.kernelInitializer=getInitializer(r.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=getConstraint(r.kernelConstraint),i.kernelRegularizer=getRegularizer(r.kernelRegularizer),i}return __extends(t,e),t.prototype.build=function(e){var t;e=getExactlyOneShape(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ValueError("The channel dimension of the input should be defined. Found "+e[n]);var r=e[n],i=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(t={},t[n]=r,t)}],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var t;e=getExactlyOneTensor(e);var r=null==n.bias?null:n.bias.read(),i=mapActivationToFusedKernel(n.activation.getClassName());if(null!=i&&2===n.rank)t=conv2dWithBiasActivation(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,i);else{if(1===n.rank)t=conv1dWithBias(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=conv2dWithBiasActivation(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new NotImplementedError("convolutions greater than 3D are not implemented yet.");t=conv3dWithBias(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t})},t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var i=convOutputLength(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(i)}var a=[e[0]];return"channelsLast"===this.dataFormat?(a=a.concat(t)).push(this.filters):(a.push(this.filters),a=a.concat(t)),a},t.prototype.getConfig=function(){var t={filters:this.filters,kernelInitializer:serializeInitializer(this.kernelInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.verifyArgs=function(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new ValueError("Convolution layer expected config.filters to be a 'number' > 0 but got "+JSON.stringify(e.filters))},t}(BaseConv),Conv2D=function(e){function t(n){var r=e.call(this,2,n)||this;return t.verifyArgs(n),r}return __extends(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,"number",1,2))throw new ValueError("Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv2D",t}(Conv);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Conv2D);var Conv3D=function(e){function t(n){var r=e.call(this,3,n)||this;return t.verifyArgs(n),r}return __extends(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new ValueError("Conv3D expects config.kernelSize to be number or [number, number, number], but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv3D",t}(Conv);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Conv3D);var Conv2DTranspose=function(e){function t(t){var n=e.call(this,t)||this;if(n.inputSpec=[new InputSpec({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new ValueError("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+n.padding);return n}return __extends(t,e),t.prototype.build=function(e){var t;if(4!==(e=getExactlyOneShape(e)).length)throw new ValueError("Input should have rank 4; Received input shape: "+JSON.stringify(e));var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ValueError("The channel dimension of the inputs should be defined. Found `None`.");var r=e[n],i=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",i,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new InputSpec({ndim:4,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var t=getExactlyOneTensor(e);if(4!==t.shape.length)throw new ValueError("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+t.shape.length);var r,i,a=t.shape,o=a[0];"channelsFirst"===n.dataFormat?(r=2,i=3):(r=1,i=2);var s=a[r],l=a[i],u=n.kernelSize[0],c=n.kernelSize[1],p=n.strides[0],h=n.strides[1],d=[o,deconvLength(s,p,u,n.padding),deconvLength(l,h,c,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(t,[0,2,3,1]));var f=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv2dTranspose"])(t,n.kernel.read(),d,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(f=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(f,[0,3,1,2])),null!=n.bias&&(f=biasAdd(f,n.bias.read(),n.dataFormat)),null!=n.activation&&(f=n.activation.apply(f)),f})},t.prototype.computeOutputShape=function(e){var t,n,r,i=(e=getExactlyOneShape(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var a=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return i[t]=this.filters,i[n]=deconvLength(i[n],s,a,this.padding),i[r]=deconvLength(i[r],l,o,this.padding),i},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.dilationRate,t},t.className="Conv2DTranspose",t}(Conv2D);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Conv2DTranspose);var SeparableConv=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new ValueError("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new ValueError("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new ValueError("SeparableConv"+r.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=getInitializer(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=getRegularizer(n.depthwiseRegularizer),r.depthwiseConstraint=getConstraint(n.depthwiseConstraint),r.pointwiseInitializer=getInitializer(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=getRegularizer(n.pointwiseRegularizer),r.pointwiseConstraint=getConstraint(n.pointwiseConstraint),r}return __extends(t,e),t.prototype.build=function(e){var t;if((e=getExactlyOneShape(e)).length<this.rank+2)throw new ValueError("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2)+", but received input shape: "+JSON.stringify(e));var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n]||e[n]<0)throw new ValueError("The channel dimension of the inputs should be defined, but found "+JSON.stringify(e[n]));for(var r=e[n],i=this.kernelSize.concat([r,this.depthMultiplier]),a=[],o=0;o<this.rank;++o)a.push(1);a.push(r*this.depthMultiplier,this.filters);this.depthwiseKernel=this.addWeight("depthwise_kernel",i,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new InputSpec({ndim:this.rank+2,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var t;if(e=getExactlyOneTensor(e),1===n.rank)throw new NotImplementedError("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(e,[0,2,3,1])),t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["separableConv2d"])(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=biasAdd(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(t,[0,3,1,2])),t})},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=serializeInitializer(this.depthwiseInitializer),t.pointwiseInitializer=serializeInitializer(this.pointwiseInitializer),t.depthwiseRegularizer=serializeRegularizer(this.depthwiseRegularizer),t.pointwiseRegularizer=serializeRegularizer(this.pointwiseRegularizer),t.depthwiseConstraint=serializeConstraint(this.depthwiseConstraint),t.pointwiseConstraint=serializeConstraint(this.pointwiseConstraint),t},t.className="SeparableConv",t}(Conv),SeparableConv2D=function(e){function t(t){return e.call(this,2,t)||this}return __extends(t,e),t.className="SeparableConv2D",t}(SeparableConv);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(SeparableConv2D);var Conv1D=function(e){function t(n){var r=e.call(this,1,n)||this;return t.verifyArgs(n),r.inputSpec=[{ndim:3}],r}return __extends(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.dataFormat,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,"number",1,1))throw new ValueError("Conv1D expects config.kernelSize to be number or number[] with length 1, but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv1D",t}(Conv);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Conv1D);var Cropping2D=function(e){function t(t){var n=e.call(this,t)||this;return"number"==typeof t.cropping?n.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:"number"==typeof t.cropping[0]?n.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:n.cropping=t.cropping,n.dataFormat=void 0===t.dataFormat?"channelsLast":t.dataFormat,n.inputSpec=[{ndim:4}],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return e=getExactlyOneTensor(e),"channelsLast"===n.dataFormat?sliceAlongAxis(sliceAlongAxis(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2),n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3):sliceAlongAxis(sliceAlongAxis(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3),n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)})},t.prototype.getConfig=function(){var t={cropping:this.cropping,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Cropping2D",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Cropping2D);var UpSampling2D=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==t.size?n.DEFAULT_SIZE:t.size,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,n}return __extends(t,e),t.prototype.computeOutputShape=function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var t=getExactlyOneTensor(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(t,[0,2,3,1]);var i=n.size[0]*r[2],a=n.size[1]*r[3],o=t.resizeNearestNeighbor([i,a]);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(o,[0,3,1,2])}i=n.size[0]*r[1],a=n.size[1]*r[2];return t.resizeNearestNeighbor([i,a])})},t.prototype.getConfig=function(){var t={size:this.size,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="UpSampling2D",t}(Layer);function depthwiseConv2d$1(e,t,n,r,i,a){return void 0===n&&(n=[1,1]),void 0===r&&(r="valid"),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){null==i&&(i=imageDataFormat()),checkDataFormat(i);var o=preprocessConv2DInput(e,i);if(4!==e.rank)throw new ValueError("Input for depthwiseConv2d is required to be 4-D, but is instead "+e.rank+"-D");if(4!==t.rank)throw new ValueError("depthwiseKernel is required to be 4-D, but is instead "+t.rank+"-D");return o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["depthwiseConv2d"])(o,t,n,"same"===r?"same":"valid","NHWC",a),"channelsFirst"===i&&(o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(o,[0,3,1,2])),o})}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(UpSampling2D);var DepthwiseConv2D=function(e){function t(t){var n=e.call(this,2,t)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,n.depthwiseInitializer=getInitializer(t.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=getConstraint(t.depthwiseConstraint),n.depthwiseRegularizer=getRegularizer(t.depthwiseRegularizer),n}return __extends(t,e),t.prototype.build=function(e){if((e=getExactlyOneShape(e)).length<4)throw new ValueError("Inputs to DepthwiseConv2D should have rank 4. Received input shape: "+JSON.stringify(e)+".");var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new ValueError("The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not ("+e[t]+").");var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var t=depthwiseConv2d$1(e=getExactlyOneTensor(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=biasAdd(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t})},t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=convOutputLength(t,this.kernelSize[0],this.padding,this.strides[0]),a=convOutputLength(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,i,a]:[e[0],i,a,r]},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=serializeInitializer(this.depthwiseInitializer),t.depthwiseRegularizer=serializeRegularizer(this.depthwiseRegularizer),t.depthwiseConstraint=serializeConstraint(this.depthwiseRegularizer),t},t.className="DepthwiseConv2D",t}(BaseConv);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(DepthwiseConv2D);var Dropout=function(e){function t(t){var n=e.call(this,t)||this;return n.rate=Math.max(Math.min(t.rate,1),0),n.noiseShape=t.noiseShape,n.seed=t.seed,n.supportsMasking=!0,n}return __extends(t,e),t.prototype.getNoiseShape=function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);if(0<n.rate&&n.rate<1){var i=null!=t.training&&t.training,a=n.getNoiseShape(r);return inTrainPhase(function(){return dropout$1(r,n.rate,a,n.seed)},function(){return r},i)}return e})},t.prototype.getConfig=function(){var t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.dispose=function(){return e.prototype.dispose.call(this)},t.className="Dropout",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Dropout);var SpatialDropout1D=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[{ndim:3}],n}return __extends(t,e),t.prototype.getNoiseShape=function(e){var t=e.shape;return[t[0],1,t[2]]},t.className="SpatialDropout1D",t}(Dropout);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(SpatialDropout1D);var Dense=function(e){function t(t){var n=e.call(this,t)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==t.batchInputShape&&null==t.inputShape&&null!=t.inputDim){var r=null;null!=t.batchSize&&(r=t.batchSize),n.batchInputShape=[r,t.inputDim]}return n.units=t.units,assertPositiveInteger(n.units,"units"),n.activation=getActivation(t.activation),null!=t.useBias&&(n.useBias=t.useBias),n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=getConstraint(t.kernelConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.activityRegularizer=getRegularizer(t.activityRegularizer),n.supportsMasking=!0,n.inputSpec=[{minNDim:2}],n}return __extends(t,e),t.prototype.build=function(e){var t,n=(e=getExactlyOneShape(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(t={},t[-1]=n,t)}],this.built=!0},t.prototype.computeOutputShape=function(e){var t=(e=getExactlyOneShape(e)).slice();return t[t.length-1]=this.units,t},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){n.invokeCallHook(e,t);var r,i=getExactlyOneTensor(e),a=mapActivationToFusedKernel(n.activation.getClassName());return null!=a?r=dot(i,n.kernel.read(),a,n.bias?n.bias.read():null):(r=dot(i,n.kernel.read()),null!=n.bias&&(r=biasAdd(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),biasConstraint:serializeConstraint(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Dense",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Dense);var Flatten=function(e){function t(t){var n=this;return t=t||{},(n=e.call(this,t)||this).inputSpec=[{minNDim:3}],n.dataFormat=t.dataFormat,n}return __extends(t,e),t.prototype.computeOutputShape=function(e){for(var t=0,n=(e=getExactlyOneShape(e)).slice(1);t<n.length;t++){if(null==n[t])throw new ValueError('The shape of the input to "Flatten" is not fully defined (got '+e.slice(1)+'). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.')}return[e[0],arrayProd(e,1)]},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var i=[0],a=2;a<r.rank;++a)i.push(a);i.push(1),r=r.transpose(i)}return batchFlatten(r)})},t.prototype.getConfig=function(){var t={};null!=this.dataFormat&&(t.dataFormat=this.dataFormat);var n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Flatten",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Flatten);var Activation$1=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.activation=getActivation(t.activation),n}return __extends(t,e),t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);return n.activation.apply(r)})},t.prototype.getConfig=function(){var t={activation:serializeActivation(this.activation)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Activation",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Activation$1);var RepeatVector=function(e){function t(t){var n=e.call(this,t)||this;return n.n=t.n,n.inputSpec=[{ndim:2}],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return[e[0],this.n,e[1]]},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return repeat(e=getExactlyOneTensor(e),n.n)})},t.prototype.getConfig=function(){var t={n:this.n},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="RepeatVector",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(RepeatVector);var Reshape=function(e){function t(t){var n=e.call(this,t)||this;n.targetShape=t.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return __extends(t,e),t.prototype.isUnknown=function(e){return e<0||null==e},t.prototype.fixUnknownDimension=function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),i=1,a=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==a)throw new ValueError("Can only specifiy one unknown dimension.");a=o}else i*=s}var l=arrayProd(e);if(null!==a){if(0===i||l%i!=0)throw new ValueError(n);r[a]=l/i}else if(l!==i)throw new ValueError(n);return r},t.prototype.computeOutputShape=function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e),i=r.shape,a=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return r.reshape(a)})},t.prototype.getConfig=function(){var t={targetShape:this.targetShape},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Reshape",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Reshape);var Permute=function(e){function t(t){var n=e.call(this,t)||this;if(null==t.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+t.dims+" instead.");var r=range(1,t.dims.length+1);if(!_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(t.dims.slice().sort(),r))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");return n.dims=t.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new InputSpec({ndim:n.dims.length+1})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){var t=(e=getExactlyOneShape(e)).slice();return this.dims.forEach(function(n,r){t[r+1]=e[n]}),t},t.prototype.call=function(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(getExactlyOneTensor(e),this.dimsIncludingBatch)},t.prototype.getConfig=function(){var t={dims:this.dims},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Permute",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Permute);var Masking=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,n.maskValue=null!=t?null==t.maskValue?0:t.maskValue:0,n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={maskValue:this.maskValue};return Object.assign(n,t),n},t.prototype.computeMask=function(e,t){var n=getExactlyOneTensor(e);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["any"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["notEqual"])(n,this.maskValue),-1)},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e),i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["any"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["notEqual"])(r,n.maskValue),-1,!0);return r.mul(i.asType(r.dtype))})},t.className="Masking",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Masking);var Embedding=function(e){function t(t){var n=e.call(this,t)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==t.batchInputShape&&null==t.inputShape){var r=null;null!=t.batchSize&&(r=t.batchSize),null==t.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(toList(t.inputLength))}return n.inputDim=t.inputDim,assertPositiveInteger(n.inputDim,"inputDim"),n.outputDim=t.outputDim,assertPositiveInteger(n.outputDim,"outputDim"),n.embeddingsInitializer=getInitializer(t.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=getRegularizer(t.embeddingsRegularizer),n.activityRegularizer=getRegularizer(t.activityRegularizer),n.embeddingsConstraint=getConstraint(t.embeddingsConstraint),n.maskZero=t.maskZero,n.supportsMasking=t.maskZero,n.inputLength=t.inputLength,n}return __extends(t,e),t.prototype.build=function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},t.prototype.warnOnIncompatibleInputShape=function(e){},t.prototype.computeMask=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return n.maskZero?(e=getExactlyOneTensor(e),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["notEqual"])(e,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zerosLike"])(e))):null})},t.prototype.computeOutputShape=function(e){if(e=getExactlyOneShape(e),null==this.inputLength)return e.concat([this.outputDim]);var t=toList(this.inputLength);if(t.length!==e.length-1)throw new ValueError('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);for(var n=0,r=0;r<t.length;++r){var i=t[r],a=e[r+1];if(null!=i&&null!=a&&i!==a)throw new ValueError('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);null==i&&(t[n]=a),n++}return[e[0]].concat(t,[this.outputDim])},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);return"int32"!==r.dtype&&(r=cast$1(r,"int32")),gather$1(n.embeddings.read(),r.as1D()).reshape(getExactlyOneShape(n.computeOutputShape(r.shape)))})},t.prototype.getConfig=function(){var t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:serializeInitializer(this.embeddingsInitializer),embeddingsRegularizer:serializeRegularizer(this.embeddingsRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),embeddingsConstraint:serializeConstraint(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Embedding",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Embedding);var Merge=function(e){function t(t){var n=e.call(this,t||{})||this;return n.supportsMasking=!0,n}return __extends(t,e),t.prototype.mergeFunction=function(e){throw new NotImplementedError},t.prototype.computeElementwiseOpOutputShape=function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var i=e[e.length-t.length+r],a=t[r];if(null==i||null==a||i<0||a<0)n.push(null);else if(1===i)n.push(a);else if(1===a)n.push(i);else{if(i!==a)throw new ValueError("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(i)}}return n},t.prototype.build=function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[getExactlyOneShape(e)]),(e=e).length<2)throw new ValueError("A merge layer should be called on an Array of at least 2 inputs. Got "+e.length+" input(s).");for(var t=[],n=0,r=e;n<r.length;n++){null!=(o=r[n])&&null!==o[0]&&t.push(o[0])}if((t=unique(t)).length>1)throw new ValueError("Can not merge tensors with different batch sizes. Got tensors with shapes: "+JSON.stringify(e)+".");for(var i=null==e[0]?null:e[0].slice(1),a=1;a<e.length;++a){var o=null==e[a]?null:e[a].slice(1);i=this.computeElementwiseOpOutputShape(i,o)}var s=e.map(function(e){return e.length});-1===e.indexOf(null)&&1===unique(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(e=e,n.reshapeRequired){var t=[],r=e.map(function(e){return e.rank});if(-1===r.indexOf(null)){for(var i=max$1(r),a=0,o=e;a<o.length;a++){for(var s=(h=o[a]).rank,l=0;l<i-s;++l)h=expandDims$1(h,1);t.push(h)}return n.mergeFunction(t)}for(var u=!1,c=0,p=e;c<p.length;c++){var h;if(null==(s=(h=p[c]).rank)){var d=h.shape,f=d[0],g=d.slice(1).concat([f]),m=h.reshape([f].concat(arrayProd(d.slice(1))));m=(m=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(m,[1,0])).reshape(g),t.push(m),u=!0}else if(s>1){var y=range(1,s).concat([0]);t.push(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(h,y)),u=!0}else t.push(h)}var v=n.mergeFunction(t),b=v.rank;if(u)if(null==b){var w=v.shape;g=[f=w[w.length-1]].concat(w.slice(0,w.length-1));v=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(v.reshape([-1,f]),[1,0]).reshape(g)}else if(b>1){y=[b-1].concat(range(0,b-1));v=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(v,y)}return v}return n.mergeFunction(e)})},t.prototype.computeOutputShape=function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}for(var i=[],a=0,o=e;a<o.length;a++){null!=(r=o[a])&&null!==r[0]&&i.push(r[0])}return t=1===(i=unique(i)).length?i.concat(t):[null].concat(t)},t.prototype.computeMask=function(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(null==t)return null;if(!Array.isArray(t))throw new ValueError("`mask` should be an Array");if(!Array.isArray(e))throw new ValueError("`inputs` should be an Array");if(t.length!==e.length)throw new ValueError("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths ("+e.length+" vs "+t.length+")");if(t.every(function(e){return null==e}))return null;for(var n=(t=t.map(function(e){return null==e?e:Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["expandDims"])(e,0)}))[0],r=1;r<t.length-1;++r)n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalAnd"])(n,t[r]);return n})},t}(Layer),Add=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(t,e[n]);return t})},t.className="Add",t}(Merge);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Add);var Multiply=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(t,e[n]);return t})},t.className="Multiply",t}(Merge);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Multiply);var Average=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(t,e[n]);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(1/e.length,t)})},t.className="Average",t}(Merge);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Average);var Maximum=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){for(var t=e[0],n=1;n<e.length;++n)t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maximum"])(t,e[n]);return t})},t.className="Maximum",t}(Merge);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Maximum);var Minimum=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){for(var t=e[0],n=1;n<e.length;++n)t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["minimum"])(t,e[n]);return t})},t.className="Minimum",t}(Merge);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Minimum);var Concatenate=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_AXIS=-1,null==t&&(t={}),n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return __extends(t,e),t.prototype.build=function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new ValueError("A `Concatenate` layer should be called on a list of at least 2 inputs");for(var t=!0,n=0,r=e=e;n<r.length;n++){if(null!=(c=r[n])){t=!1;break}}if(!t){for(var i=[],a=0;a<e.length;++a){var o=e[a].slice();o.splice(this.axis,1);for(var s=!1,l=0,u=i;l<u.length;l++){var c=u[l];if(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(c,o)){s=!0;break}}s||i.push(o)}if(i.length>1)throw new ValueError("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}},t.prototype.mergeFunction=function(e){var t=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return concatenate(e,t.axis)})},t.prototype.computeOutputShape=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new ValueError("A `Concatenate` layer should be called on a list of inputs.");for(var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,i=0,a=t.slice(1);i<a.length;i++){var o=a[i];if(null==n[r]||null==o[r]){n[r]=null;break}n[r]+=o[r]}return n},t.prototype.computeMask=function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new ValueError("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new ValueError("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new ValueError("Mismatch in the length of mask ("+t.length+") and the legnth of inputs ("+e.length+")");return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r=!0;if(t.forEach(function(e){null==e||(r=!1)}),r)return null;for(var i=[],a=0;a<e.length;++a)null==t[a]?i.push(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"])(e[a]).asType("bool")):t[a].rank<e[a].rank?i.push(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["expandDims"])(t[a],-1)):i.push(t[a]);var o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat"])(i,n.axis);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["all"])(o,-1,!1)})},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Concatenate",t}(Merge);function interpretAxis(e,t){for(;e<0;)e+=t;return e}function batchDot(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new NotImplementedError("batchDot is not implemented for tensors of 4D or higher rank yet");if(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(e.shape.length>=2,function(){return"batchDot requires the rank of x to be >= 2, but got "+e.shape.length}),_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(e.shape.length>=2,function(){return"batchDot requires the rank of y to be >= 2, but got "+t.shape.length}),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new NotImplementedError("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,i=t.shape.length;null==n&&(n=[r-1,i-2]);var a=n;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n,o;if(r>i){n=r-i;for(var s=[],l=0;l<n;++l)s.push(1);t=t.reshape(t.shape.concat(s))}else if(i>r){n=i-r;for(s=[],l=0;l<n;++l)s.push(1);e=e.reshape(e.shape.concat(s))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=a[0]===a[1]?e.mulStrict(t).sum(a[0]):e.transpose([1,0]).mulStrict(t).sum(a[1]);else{var u=a[0]!==e.shape.length-1,c=a[1]===t.shape.length-1;o=e.matMul(t,u,c)}if(n>0){var p=void 0,h=[];for(l=p=r>i?r+i-3:r-1;l<p+n;++l)h.push(l);o=o.squeeze(h)}return 1===o.shape.length&&(o=o.expandDims(1)),o})}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Concatenate);var Dot=function(e){function t(t){var n=e.call(this,t)||this;return n.axes=t.axes,n.normalize=null!=t.normalize&&t.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return __extends(t,e),t.prototype.build=function(e){_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."});var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new NotImplementedError("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new ValueError("Dimension incompatibility: "+t[r[0]]+" !== "+n[r[1]])},t.prototype.mergeFunction=function(e){if(2!==e.length)throw new ValueError("A `Dot` layer must be called on exactly 2 inputs, but received "+e.length+" input(s).");var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(function(t,n){return interpretAxis(t,e[n].shape.length)}):[interpretAxis(this.axes,n.shape.length),interpretAxis(this.axes,r.shape.length)],this.normalize&&(n=l2Normalize(n,t[0]),r=l2Normalize(r,t[1])),batchDot(n,r,t)},t.prototype.interpretAxes=function(e,t){return Array.isArray(this.axes)?this.axes:[interpretAxis(this.axes,e.length),interpretAxis(this.axes,t.length)]},t.prototype.computeOutputShape=function(e){_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."});var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new NotImplementedError("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var i=t.concat(n);return 1===i.length&&i.push(1),i},t.prototype.computeMask=function(e,t){return null},t.prototype.getConfig=function(){var t={axes:this.axes,normalize:this.normalize},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Dot",t}(Merge);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Dot);var GaussianNoise=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.stddev=t.stddev,n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={stddev:this.stddev};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);return inTrainPhase(function(){return randomNormal$1(r.shape,0,n.stddev).add(r)},function(){return r},t.training||!1)})},t.className="GaussianNoise",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(GaussianNoise);var GaussianDropout=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);if(n.rate>0&&n.rate<1){return inTrainPhase(function(){var e=Math.sqrt(n.rate/(1-n.rate));return r.mul(randomNormal$1(r.shape,1,e))},function(){return r},t.training||!1)}return r})},t.className="GaussianDropout",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(GaussianDropout);var AlphaDropout=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n.noiseShape=t.noiseShape,n}return __extends(t,e),t.prototype._getNoiseShape=function(e){return this.noiseShape||getExactlyOneTensor(e).shape},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return inTrainPhase(function(){var t=getExactlyOneTensor(e),i=-1.7580993408473766,a=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["greaterEqual"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["randomUniform"])(r),n.rate);a=cast$1(a,"float32");var o=Math.pow((1-n.rate)*(1+n.rate*Math.pow(i,2)),-.5),s=-o*i*n.rate;return t.mul(a).add(a.add(-1).mul(i)).mul(o).add(s)},function(){return getExactlyOneTensor(e)},t.training||!1)}return e})},t.className="AlphaDropout",t}(Layer);function batchNormalization(e,t,n,r,i,a){var o;if(void 0===a&&(a=.001),2===e.rank)o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNorm2d"])(e,t,n,r,i,a);else if(3===e.rank)o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNorm3d"])(e,t,n,r,i,a);else{if(4!==e.rank)throw new NotImplementedError("batchNormalization is not implemented for array of rank "+e.rank+" yet");o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNorm4d"])(e,t,n,r,i,a)}return o}function regularNormalizeBatchInTraining(e,t,n,r,i){return void 0===i&&(i=.001),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var a=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["moments"])(e,r),o=a.mean,s=a.variance;return[batchNormalization(e,o,s,n,t,i),o,s]})}function broadcastNormalizeBatchInTraining(e,t,n,r,i){return void 0===i&&(i=.001),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){for(var a=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["moments"])(e,r),o=a.mean,s=a.variance,l=[],u=0,c=range(0,e.rank);u<c.length;u++){var p=c[u];-1!==r.indexOf(p)?l.push(1):l.push(e.shape[p])}var h=o.reshape(l),d=s.reshape(l),f=null==t?null:t.reshape(l),g=null==n?null:n.reshape(l);return[batchNormalization(e,h,d,g,f,i),o,s]})}function normalizeBatchInTraining(e,t,n,r,i){return void 0===i&&(i=.001),_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(r.slice().sort(),range(0,e.rank-1))?regularNormalizeBatchInTraining(e,t,n,r,i):broadcastNormalizeBatchInTraining(e,t,n,r,i)}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(AlphaDropout);var BatchNormalization=function(e){function t(t){var n=this;return null==t&&(t={}),(n=e.call(this,t)||this).supportsMasking=!0,n.axis=null==t.axis?-1:t.axis,n.momentum=null==t.momentum?.99:t.momentum,n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=getInitializer(t.betaInitializer||"zeros"),n.gammaInitializer=getInitializer(t.gammaInitializer||"ones"),n.movingMeanInitializer=getInitializer(t.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=getInitializer(t.movingVarianceInitializer||"ones"),n.betaConstraint=getConstraint(t.betaConstraint),n.gammaConstraint=getConstraint(t.gammaConstraint),n.betaRegularizer=getRegularizer(t.betaRegularizer),n.gammaRegularizer=getRegularizer(t.gammaRegularizer),n}return __extends(t,e),t.prototype.build=function(e){var t;e=getExactlyOneShape(e);var n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(null==r)throw new ValueError("Axis "+n+" of input tensor should have a defined dimension but the layer received an input with shape "+JSON.stringify(e)+".");this.inputSpec=[new InputSpec({ndim:e.length,axes:(t={},t[n]=r,t)})];var i=[r];this.scale&&(this.gamma=this.addWeight("gamma",i,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",i,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",i,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",i,null,this.movingVarianceInitializer,null,!1),this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r=null!=t.training&&t.training,i=getExactlyOneTensor(e),a=i.shape,o=a.length,s=range(0,o),l=n.axis>=0?n.axis:n.axis+o;s.splice(l,1);var u=pyListRepeat(1,o);u[l]=a[l];var c=s.slice();c.sort();var p=!_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(c,range(0,o).slice(0,o-1));if(!r)return function(){if(p){var e=n.movingMean.read().reshape(u),t=n.movingVariance.read().reshape(u),r=n.center?n.beta.read().reshape(u):null,a=n.scale?n.gamma.read().reshape(u):null;return batchNormalization(i,e,t,r,a,n.epsilon)}return batchNormalization(i,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var h=normalizeBatchInTraining(i,n.gamma.read(),n.beta.read(),s,n.epsilon),d=h[0],f=h[1],g=h[2],m=function(e,t,n){Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r=1-n,i=e.read(),a=i.sub(t).mul(r);e.write(i.sub(a))})};return m(n.movingMean,f,n.momentum),m(n.movingVariance,g,n.momentum),d})},t.prototype.getConfig=function(){var t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:serializeInitializer(this.betaInitializer),gammaInitializer:serializeInitializer(this.gammaInitializer),movingMeanInitializer:serializeInitializer(this.movingMeanInitializer),movingVarianceInitializer:serializeInitializer(this.movingVarianceInitializer),betaRegularizer:serializeRegularizer(this.betaRegularizer),gammaRegularizer:serializeRegularizer(this.gammaRegularizer),betaConstraint:serializeConstraint(this.betaConstraint),gammaConstraint:serializeConstraint(this.gammaConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="BatchNormalization",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(BatchNormalization);var LayerNormalization=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).axis=null==t.axis?-1:t.axis,"number"==typeof n.axis){if(!Number.isInteger(n.axis))throw new Error("Expected axis to be an integer, but received "+n.axis)}else{if(!Array.isArray(n.axis))throw new Error("Expected axis to be an integer or an array of integers, but received "+JSON.stringify(n.axis));for(var r=0,i=n.axis;r<i.length;r++){var a=i[r];if(!Number.isInteger(a))throw new Error("Expected axis to be an array of integers, but received "+JSON.stringify(n.axis))}}return n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=getInitializer(t.betaInitializer||"zeros"),n.gammaInitializer=getInitializer(t.gammaInitializer||"ones"),n.betaRegularizer=getRegularizer(t.betaRegularizer),n.gammaRegularizer=getRegularizer(t.gammaRegularizer),n.supportsMasking=!0,n}return __extends(t,e),t.prototype.build=function(e){var t=(e=getExactlyOneShape(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);for(var r=0,i=this.axis;r<i.length;r++){var a=i[r];if(a<0||a>=t)throw new Error("Invalid axis: "+a)}if(this.axis.length!==unique(this.axis).length)throw new Error("Found duplicate axes in: "+this.axis);var o=this.axis.map(function(t){return e[t]});this.scale?this.gamma=this.addWeight("gamma",o,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",o,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0},t.prototype.call=function(e,t){var n=this,r=getExactlyOneTensor(e),i=r.shape,a=i.length;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){for(var e=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["moments"])(r,n.axis,!0),t=e.mean,o=e.variance,s=pyListRepeat(1,a),l=0,u=n.axis;l<u.length;l++){var c=u[l];s[c]=i[c]}for(var p=function(e){return null!=e&&e.shape.length!==a&&n.axis!==[a-1]?e.reshape(s):e},h=p(n.gamma.read()),d=p(n.beta.read()),f=[],g=[],m=0;m<a;++m)-1!==n.axis.indexOf(m)?(f.push(i[m]),g.push(1)):(f.push(1),g.push(i[m]));return t=t.tile(f),o=o.tile(f),h=h.tile(g),d=d.tile(g),batchNormalization(r,t,o,d,h,n.epsilon)})},t.prototype.getConfig=function(){var t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:serializeInitializer(this.betaInitializer),gammaInitializer:serializeInitializer(this.gammaInitializer),betaRegularizer:serializeRegularizer(this.betaRegularizer),gammaRegularizer:serializeRegularizer(this.gammaRegularizer)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LayerNormalization",t}(Layer);function spatial2dPadding(e,t,n){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(4!==e.rank)throw new ValueError("temporalPadding expects input tensor to be 4-D, but received a "+e.rank+"-D tensor.");if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new ValueError("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n=imageDataFormat()),"channelsLast"!==n&&"channelsFirst"!==n)throw new ValueError("Unknown data format: "+n+". Supported data formats are 'channelsLast' and 'channelsFirst.");var r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["pad"])(e,r)})}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(LayerNormalization);var ZeroPadding2D=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).dataFormat=null==t.dataFormat?imageDataFormat():t.dataFormat,null==t.padding)n.padding=[[1,1],[1,1]];else if("number"==typeof t.padding)n.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,2!==t.padding.length)throw new ValueError("ZeroPadding2D expects padding to be a length-2 array, but received a length-"+t.padding.length+" array.");var r=void 0,i=void 0;if("number"==typeof t.padding[0])r=[t.padding[0],t.padding[0]],i=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,2!==t.padding[0].length)throw new ValueError("ZeroPadding2D expects height padding to be a length-2 array, but received a length-"+t.padding[0].length+" array.");if(r=t.padding[0],2!==t.padding[1].length)throw new ValueError("ZeroPadding2D expects width padding to be a length-2 array, but received a length-"+t.padding[1].length+" array.");i=t.padding[1]}n.padding=[r,i]}return n.inputSpec=[new InputSpec({ndim:4})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){var t,n;return e=getExactlyOneShape(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return spatial2dPadding(getExactlyOneTensor(e),n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={padding:this.padding,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ZeroPadding2D",t}(Layer);function pool2d(e,t,n,r,i,a){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var o;checkDataFormat(i),checkPoolMode(a),checkPaddingMode(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==i&&(i=imageDataFormat()),null==a&&(a="max"),e=preprocessConv2DInput(e,i);var s="same"===r?"same":"valid";return o="max"===a?Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maxPool"])(e,t,n,s):Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["avgPool"])(e,t,n,s),"channelsFirst"===i&&(o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(o,[0,3,1,2])),o})}function pool3d(e,t,n,r,i,a){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var o;checkDataFormat(i),checkPoolMode(a),checkPaddingMode(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==i&&(i=imageDataFormat()),null==a&&(a="max"),e=preprocessConv3DInput(e,i);var s="same"===r?"same":"valid";return o="max"===a?Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maxPool3d"])(e,t,n,s):Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["avgPool3d"])(e,t,n,s),"channelsFirst"===i&&(o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(o,[0,4,1,2,3])),o})}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(ZeroPadding2D);var Pooling1D=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=2),n=e.call(this,t)||this,"number"==typeof t.poolSize)n.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||"number"!=typeof t.poolSize[0])throw new ValueError("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.poolSize));n.poolSize=t.poolSize}if(assertPositiveInteger(n.poolSize,"poolSize"),null==t.strides)n.strides=n.poolSize;else if("number"==typeof t.strides)n.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||"number"!=typeof t.strides[0])throw new ValueError("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.strides));n.strides=t.strides}return assertPositiveInteger(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,checkPaddingMode(n.padding),n.inputSpec=[new InputSpec({ndim:3})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){var t=convOutputLength((e=getExactlyOneShape(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){n.invokeCallHook(e,t),e=expandDims$1(getExactlyOneTensor(e),2);var r=n.poolingFunction(getExactlyOneTensor(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["squeeze"])(r,[2])})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),MaxPooling1D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,"max")},t.className="MaxPooling1D",t}(Pooling1D);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(MaxPooling1D);var AveragePooling1D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,"avg")},t.className="AveragePooling1D",t}(Pooling1D);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(AveragePooling1D);var Pooling2D=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new ValueError("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+t.strides.length+".");n.strides=t.strides}else n.strides=[t.strides,t.strides];return assertPositiveInteger(n.poolSize,"poolSize"),assertPositiveInteger(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,checkDataFormat(n.dataFormat),checkPaddingMode(n.padding),n.inputSpec=[new InputSpec({ndim:4})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=convOutputLength(t,this.poolSize[0],this.padding,this.strides[0]),n=convOutputLength(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return n.invokeCallHook(e,t),n.poolingFunction(getExactlyOneTensor(e),n.poolSize,n.strides,n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),MaxPooling2D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,"max")},t.className="MaxPooling2D",t}(Pooling2D);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(MaxPooling2D);var AveragePooling2D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,"avg")},t.className="AveragePooling2D",t}(Pooling2D);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(AveragePooling2D);var Pooling3D=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(3!==t.strides.length)throw new ValueError("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+t.strides.length+".");n.strides=t.strides}else n.strides=[t.strides,t.strides,t.strides];return assertPositiveInteger(n.poolSize,"poolSize"),assertPositiveInteger(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,checkDataFormat(n.dataFormat),checkPaddingMode(n.padding),n.inputSpec=[new InputSpec({ndim:5})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=convOutputLength(t,this.poolSize[0],this.padding,this.strides[0]),n=convOutputLength(n,this.poolSize[1],this.padding,this.strides[1]),r=convOutputLength(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return n.invokeCallHook(e,t),n.poolingFunction(getExactlyOneTensor(e),n.poolSize,n.strides,n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),MaxPooling3D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool3d(e,t,n,r,i,"max")},t.className="MaxPooling3D",t}(Pooling3D);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(MaxPooling3D);var AveragePooling3D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool3d(e,t,n,r,i,"avg")},t.className="AveragePooling3D",t}(Pooling3D);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(AveragePooling3D);var GlobalPooling1D=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[new InputSpec({ndim:3})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return[e[0],e[2]]},t.prototype.call=function(e,t){throw new NotImplementedError},t}(Layer),GlobalAveragePooling1D=function(e){function t(t){return e.call(this,t||{})||this}return __extends(t,e),t.prototype.call=function(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var t=getExactlyOneTensor(e);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(t,1)})},t.className="GlobalAveragePooling1D",t}(GlobalPooling1D);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(GlobalAveragePooling1D);var GlobalMaxPooling1D=function(e){function t(t){return e.call(this,t||{})||this}return __extends(t,e),t.prototype.call=function(e,t){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var t=getExactlyOneTensor(e);return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["max"])(t,1)})},t.className="GlobalMaxPooling1D",t}(GlobalPooling1D);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(GlobalMaxPooling1D);var GlobalPooling2D=function(e){function t(t){var n=e.call(this,t)||this;return n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,checkDataFormat(n.dataFormat),n.inputSpec=[new InputSpec({ndim:4})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]},t.prototype.call=function(e,t){throw new NotImplementedError},t.prototype.getConfig=function(){var t={dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),GlobalAveragePooling2D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var t=getExactlyOneTensor(e);return"channelsLast"===n.dataFormat?Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(t,[1,2]):Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"])(t,[2,3])})},t.className="GlobalAveragePooling2D",t}(GlobalPooling2D);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(GlobalAveragePooling2D);var GlobalMaxPooling2D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var t=getExactlyOneTensor(e);return"channelsLast"===n.dataFormat?Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["max"])(t,[1,2]):Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["max"])(t,[2,3])})},t.className="GlobalMaxPooling2D",t}(GlobalPooling2D);function standardizeArgs(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new ValueError("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function rnn(e,t,n,r,i,a,o,s){return void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var l=t.shape.length;if(l<3)throw new ValueError("Input should be at least 3D, but is "+l+"D.");var u=[1,0].concat(range(2,l));if(t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(t,u),null!=a)throw new NotImplementedError("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=i&&((i=i.asType("bool").asType("float32")).rank===l-1&&(i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["expandDims"])(i,-1)),i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"])(i,u)),r&&(t=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reverse"])(t,0),null!=i&&(i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reverse"])(i,0)));var c,p,h=[],d=n,f=t.shape[0],g=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["unstack"])(t);null!=i&&(p=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["unstack"])(i));for(var m,y=function(t){var n=g[t],r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return e(n,d)});if(null==i)c=r[0],d=r[1];else{var a=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var e=p[t],n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"])(e).sub(e);return{output:r[0].mul(e).addStrict(d[0].mul(n)),newStates:d.map(function(t,i){return r[1][i].mul(e).addStrict(t.mul(n))})}});c=a.output,d=a.newStates}s&&h.push(c)},v=0;v<f;++v)y(v);if(s){m=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["stack"])(h,1)}return[c,m,d]})}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(GlobalMaxPooling2D);var RNN=function(e){function t(t){var n,r=e.call(this,t)||this;if(null==t.cell)throw new ValueError("cell property is missing for the constructor of RNN.");if(null==(n=Array.isArray(t.cell)?new StackedRNNCells({cells:t.cell}):t.cell).stateSize)throw new ValueError("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=n,r.returnSequences=null!=t.returnSequences&&t.returnSequences,r.returnState=null!=t.returnState&&t.returnState,r.goBackwards=null!=t.goBackwards&&t.goBackwards,r._stateful=null!=t.stateful&&t.stateful,r.unroll=null!=t.unroll&&t.unroll,r.supportsMasking=!0,r.inputSpec=[new InputSpec({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return __extends(t,e),t.prototype.getStates=function(){return null==this.states_?range(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(function(e){return null}):this.states_},t.prototype.setStates=function(e){this.states_=e},t.prototype.computeOutputShape=function(e){isArrayOfShapes(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){for(var i=[],a=0,o=t;a<o.length;a++){var s=o[a];i.push([e[0],s])}return[n].concat(i)}return n},t.prototype.computeMask=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map(function(e){return null});return[e].concat(r)}return e})},Object.defineProperty(t.prototype,"states",{get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e},enumerable:!0,configurable:!0}),t.prototype.build=function(e){if(null!=this.numConstants)throw new NotImplementedError("Constants support is not implemented in RNN yet.");isArrayOfShapes(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e[e.length-1];this.inputSpec[0]=new InputSpec({shape:[t,null,n]});var r,i=[e[0]].concat(e.slice(2));if(this.cell.build(i),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(this.stateSpec.map(function(e){return e.shape[e.shape.length-1]}),r))throw new ValueError("An initialState was passed that is not compatible with cell.stateSize. Received stateSpec="+this.stateSpec+"; However cell.stateSize is "+this.cell.stateSize)}else this.stateSpec=r.map(function(e){return new InputSpec({shape:[null,e]})});this.stateful&&this.resetStates()},t.prototype.resetStates=function(e,t){var n=this;void 0===t&&(t=!1),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(!n.stateful)throw new AttributeError("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=n.inputSpec[0].shape[0];if(null==r)throw new ValueError("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==n.states_)Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map(function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zeros"])([r,e])}):n.states_=[Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zeros"])([r,n.cell.stateSize])];else if(null==e)Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(n.states_),null!=n.keptStates&&(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(n.keptStates),n.keptStates=[]),Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map(function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zeros"])([r,e])}):n.states_[0]=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zeros"])([r,n.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==n.states_.length)throw new ValueError("Layer "+n.name+" expects "+n.states_.length+" state(s), but it received "+e.length+" state value(s). Input received: "+e);!0===t?n.keptStates.push(n.states_.slice()):Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(n.states_);for(var i=0;i<n.states_.length;++i){var a=e[i],o=Array.isArray(n.cell.stateSize)?n.cell.stateSize[i]:n.cell.stateSize,s=[r,o];if(!_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"].arraysEqual(a.shape,s))throw new ValueError("State "+i+" is incompatible with layer "+n.name+": expected shape="+s+", received shape="+a.shape);n.states_[i]=a}}n.states_=n.states_.map(function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["keep"])(e.clone())})})},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=standardizeArgs(t,r,i,this.numConstants);t=a.inputs,r=a.initialState,i=a.constants;var o=[],s=[];if(null!=r){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(var l=0,u=r;l<u.length;l++){var c=u[l];this.stateSpec.push(new InputSpec({shape:c.shape}))}s=s.concat(this.stateSpec)}if(null!=i&&(n.constants=i,o=o.concat(i),this.numConstants=i.length),o[0]instanceof SymbolicTensor){var p=[t].concat(o),h=this.inputSpec.concat(s),d=this.inputSpec;this.inputSpec=h;var f=e.prototype.apply.call(this,p,n);return this.inputSpec=d,f}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r=null==t?null:t.mask,i=null==t?null:t.training,a=null==t?null:t.initialState;e=getExactlyOneTensor(e),null==a&&(a=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(a.length!==o)throw new ValueError("RNN Layer has "+o+" state(s) but was passed "+a.length+" initial state(s).");n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:i},l=rnn(function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]},e,a,n.goBackwards,r,null,n.unroll,n.returnSequences),u=l[0],c=l[1],p=l[2];n.stateful&&n.resetStates(p,i);var h=n.returnSequences?c:u;return n.returnState?[h].concat(p):h})},t.prototype.getInitialState=function(e){var t=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zeros"])(e.shape);return n=expandDims$1(n=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"])(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map(function(e){return e>1?tile$1(n,[1,e]):n}):t.cell.stateSize>1?[tile$1(n,[1,t.cell.stateSize])]:[n]})},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var n=this.cell.getConfig();t.cell={className:this.cell.getClassName(),config:n};var r=e.prototype.getConfig.call(this);return Object.assign(t,r),t},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=deserialize(t.cell,n);return new e(Object.assign(t,{cell:r}))},t.className="RNN",t}(Layer);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(RNN);var RNNCell=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(Layer),SimpleRNNCell=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,assertPositiveInteger(n.units,"units"),n.activation=getActivation(null==t.activation?n.DEFAULT_ACTIVATION:t.activation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=getInitializer(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.recurrentRegularizer=getRegularizer(t.recurrentRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.kernelConstraint=getConstraint(t.kernelConstraint),n.recurrentConstraint=getConstraint(t.recurrentConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.dropout=min$1([1,max$1([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=min$1([1,max$1([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return __extends(t,e),t.prototype.build=function(e){e=getExactlyOneShape(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(2!==(e=e).length)throw new ValueError("SimpleRNNCell expects 2 input Tensors, got "+e.length+".");var r=e[1];e=e[0];var i,a=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=generateDropoutMask(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"])(e)},n.dropout,a)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=generateDropoutMask(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"])(r)},n.recurrentDropout,a));var o=n.dropoutMask,s=n.recurrentDropoutMask;i=dot(null!=o?Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,o):e,n.kernel.read()),null!=n.bias&&(i=biasAdd(i,n.bias.read())),null!=s&&(r=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(r,s));var l=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(i,dot(r,n.recurrentKernel.read()));return null!=n.activation&&(l=n.activation.apply(l)),[l,l]})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="SimpleRNNCell",t}(RNNCell);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(SimpleRNNCell);var SimpleRNN=function(e){function t(t){return t.cell=new SimpleRNNCell(t),e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(t,n){var r=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){null!=r.cell.dropoutMask&&(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:a,initialState:o})})},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return new e(t)},t.className="SimpleRNN",t}(RNN);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(SimpleRNN);var GRUCell=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,assertPositiveInteger(n.units,"units"),n.activation=getActivation(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=getActivation(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=getInitializer(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.recurrentRegularizer=getRegularizer(t.recurrentRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.kernelConstraint=getConstraint(t.kernelConstraint),n.recurrentConstraint=getConstraint(t.recurrentConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.dropout=min$1([1,max$1([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=min$1([1,max$1([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return __extends(t,e),t.prototype.build=function(e){var t=(e=getExactlyOneShape(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){if(2!==(e=e).length)throw new ValueError("GRUCell expects 2 input Tensors (inputs, h, c), got "+e.length+".");var r=null!=t.training&&t.training,i=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=generateDropoutMask(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"])(e)},n.dropout,r,3)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=generateDropoutMask(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"])(i)},n.recurrentDropout,r,3));var a,o,s,l=n.dropoutMask,u=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,l[0]));var c=dot(e,n.kernel.read());n.useBias&&(c=biasAdd(c,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(i,u[0]));var p=n.recurrentKernel.read(),h=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["split"])(p,[2*n.units,n.units],p.rank-1),d=h[0],f=h[1],g=dot(i,d),m=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["split"])(c,3,c.rank-1),y=m[0],v=m[1],b=m[2],w=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["split"])(g,2,g.rank-1),z=w[0],S=w[1];a=n.recurrentActivation.apply(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(y,z)),o=n.recurrentActivation.apply(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(v,S));var A=dot(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(o,i),f);s=n.activation.apply(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(b,A));var _=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(a,i),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(1,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["neg"])(a)),s));return[_,_]})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="GRUCell",t}(RNNCell);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(GRUCell);var GRU=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new GRUCell(t),e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(t,n){var r=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){null!=r.cell.dropoutMask&&(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:a,initialState:o})})},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className="GRU",t}(RNN);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(GRU);var LSTMCell=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,assertPositiveInteger(n.units,"units"),n.activation=getActivation(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=getActivation(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=getInitializer(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=t.unitForgetBias,n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.recurrentRegularizer=getRegularizer(t.recurrentRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.kernelConstraint=getConstraint(t.kernelConstraint),n.recurrentConstraint=getConstraint(t.recurrentConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.dropout=min$1([1,max$1([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=min$1([1,max$1([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return __extends(t,e),t.prototype.build=function(e){var t,n,r=(e=getExactlyOneShape(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var i=this.biasInitializer,a=this.units;n=new((t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){var n=i.apply([a]),r=(new Ones).apply([a]),o=i.apply([2*a]);return concatAlongFirstAxis(concatAlongFirstAxis(n,r),o)},t}(Initializer)).className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r=null!=t.training&&t.training;if(3!==(e=e).length)throw new ValueError("LSTMCell expects 3 input Tensors (inputs, h, c), got "+e.length+".");var i=e[1],a=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=generateDropoutMask(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"])(e)},n.dropout,r,4)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=generateDropoutMask(function(){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"])(i)},n.recurrentDropout,r,4));var o,s,l,u,c=n.dropoutMask,p=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(e,c[0]));var h=dot(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(i,p[0])),h=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(h,dot(i,n.recurrentKernel.read())),n.useBias&&(h=biasAdd(h,n.bias.read()));var d=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["split"])(h,4,h.rank-1),f=d[0],g=d[1],m=d[2],y=d[3];o=n.recurrentActivation.apply(f),s=n.recurrentActivation.apply(g),l=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(s,a),Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(o,n.activation.apply(m))),u=n.recurrentActivation.apply(y);var v=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(u,n.activation.apply(l));return[v,v,l]})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LSTMCell",t}(RNNCell);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(LSTMCell);var LSTM=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new LSTMCell(t),e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(t,n){var r=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){null!=r.cell.dropoutMask&&(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"])(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:a,initialState:o})})},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unitForgetBias",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className="LSTM",t}(RNN);_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(LSTM);var StackedRNNCells=function(e){function t(t){var n=e.call(this,t)||this;return n.cells=t.cells,n}return __extends(t,e),Object.defineProperty(t.prototype,"stateSize",{get:function(){for(var e=[],t=0,n=this.cells.slice().reverse();t<n.length;t++){var r=n[t];Array.isArray(r.stateSize)?e.push.apply(e,r.stateSize):e.push(r.stateSize)}return e},enumerable:!0,configurable:!0}),t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){for(var r=(e=e).slice(1),i=[],a=0,o=n.cells.slice().reverse();a<o.length;a++){var s=o[a];Array.isArray(s.stateSize)?i.push(r.splice(0,s.stateSize.length)):i.push(r.splice(0,1))}i.reverse();for(var l,u=[],c=0;c<n.cells.length;++c){s=n.cells[c];r=i[c],l=0===c?[e[0]].concat(r):[l[0]].concat(r),l=s.call(l,t),u.push(l.slice(1))}r=[];for(var p=0,h=u.slice().reverse();p<h.length;p++){var d=h[p];r.push.apply(r,d)}return[l[0]].concat(r)})},t.prototype.build=function(e){var t;isArrayOfShapes(e)&&(e=e[0]),e=e,this.cells.forEach(function(n,r){nameScope("RNNCell_"+r,function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]})}),this.built=!0},t.prototype.getConfig=function(){for(var t=[],n=0,r=this.cells;n<r.length;n++){var i=r[n];t.push({className:i.getClassName(),config:i.getConfig()})}var a={cells:t},o=e.prototype.getConfig.call(this);return Object.assign(a,o),a},t.fromConfig=function(e,t,n){void 0===n&&(n={});for(var r=[],i=0,a=t.cells;i<a.length;i++){var o=a[i];r.push(deserialize(o,n))}return new e({cells:r})},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){if(!this.trainable)return[];for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.cells;a<o.length;a++){r=o[a];i.push.apply(i,r.trainableWeights)}return i.concat(e)}return e},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.weights)}return batchGetValue(e)},t.prototype.setWeights=function(e){for(var t=[],n=0,r=this.cells;n<r.length;n++)for(var i=r[n],a=i.weights.length,o=e.splice(a),s=0;s<i.weights.length;++s)t.push([i.weights[s],o[s]]);batchSetValue(t)},t.className="StackedRNNCells",t}(RNNCell);function generateDropoutMask(e,t,n,r){function i(){return dropout$1(e(),t)}if(void 0===n&&(n=null),void 0===r&&(r=1),r>1){for(var a=[],o=0;o<r;o++)a.push(inTrainPhase(i,e,n));return a.map(function(e){return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["keep"])(e.clone())})}return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["keep"])(inTrainPhase(i,e,n).clone())}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(StackedRNNCells);var Wrapper=function(e){function t(t){var n=e.call(this,t)||this;return n.layer=t.layer,n}return __extends(t,e),t.prototype.build=function(e){this.built=!0},Object.defineProperty(t.prototype,"trainable",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updates",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.layer.getWeights()},t.prototype.setWeights=function(e){this.layer.setWeights(e)},t.prototype.getConfig=function(){var t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=deserialize(t.layer,n);delete t.layer;var i={layer:r};return Object.assign(i,t),new e(i)},t}(Layer),TimeDistributed=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n}return __extends(t,e),t.prototype.build=function(t){if((t=getExactlyOneShape(t)).length<3)throw new ValueError("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(t));this.inputSpec=[{shape:t}];var n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),e.prototype.build.call(this,t)},t.prototype.computeOutputShape=function(e){var t=[(e=getExactlyOneShape(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){return rnn(function(e,r){return[getExactlyOneTensor(n.layer.call(e,t)),[]]},e=getExactlyOneTensor(e),[],!1,null,null,!1,!0)[1]})},t.className="TimeDistributed",t}(Wrapper);function checkBidirectionalMergeMode(e){checkStringTypeUnionValue(VALID_BIDIRECTIONAL_MERGE_MODES,"BidirectionalMergeMode",e)}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(TimeDistributed);var DEFAULT_BIDIRECTIONAL_MERGE_MODE="concat",Bidirectional=function(e){function t(t){var n=e.call(this,t)||this,r=t.layer.getConfig(),i={};i.className=t.layer.getClassName(),i.config=r,n.forwardLayer=deserialize(i),r.goBackwards=!0!==r.goBackwards;var a={};if(a.className=t.layer.getClassName(),a.config=r,n.backwardLayer=deserialize(a),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,n.mergeMode=void 0===t.mergeMode?DEFAULT_BIDIRECTIONAL_MERGE_MODE:t.mergeMode,checkBidirectionalMergeMode(n.mergeMode),t.weights)throw new NotImplementedError("weights support is not implemented for Bidirectional layer yet.");return n._stateful=t.layer.stateful,n.returnSequences=t.layer.returnSequences,n.returnState=t.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=t.layer.inputSpec,n.numConstants=null,n}return __extends(t,e),Object.defineProperty(t.prototype,"trainable",{get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},t.prototype.setWeights=function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))},t.prototype.computeOutputShape=function(e){var t,n,r,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),i=i,this.returnState?(r=i.slice(1),t=i[0]):t=i[0],t=t,"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):singletonOrArray(n)},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=standardizeArgs(t,r,i,this.numConstants);if(t=a.inputs,r=a.initialState,i=a.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(null==r||0===r.length)&&null==i)return e.prototype.apply.call(this,t,n);var o=[],s=[];if(null!=r){var l=r.length;if(l%2>0)throw new ValueError("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,o.push.apply(o,r);var u=r.map(function(e){return new InputSpec({shape:e.shape})});this.forwardLayer.stateSpec=u.slice(0,l/2),this.backwardLayer.stateSpec=u.slice(l/2),s.push.apply(s,u)}if(null!=i)throw new NotImplementedError("Support for constants in Bidirectional layers is not implemented yet.");for(var c=o[0]instanceof SymbolicTensor,p=0,h=o;p<h.length;p++){if(h[p]instanceof SymbolicTensor!==c)throw new ValueError("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(c){var d=[t].concat(o),f=this.inputSpec.concat(s),g=this.inputSpec;this.inputSpec=f;var m=e.prototype.apply.call(this,d,n);return this.inputSpec=g,m}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"])(function(){var r,i,a,o,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),i=n.backwardLayer.call(e,t);else{var l=s.slice(0,s.length/2),u=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:l})),i=n.backwardLayer.call(e,Object.assign(t,{initialState:u}))}return n.returnState&&(Array.isArray(r)&&(a=r.slice(1).concat(i.slice(1))),r=r[0],i=i[0]),n.returnSequences&&(i=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reverse"])(i,1)),"concat"===n.mergeMode?o=concatenate([r,i]):"sum"===n.mergeMode?o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(r,i):"ave"===n.mergeMode?o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(.5,Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"])(r,i)):"mul"===n.mergeMode?o=Object(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"])(r,i):null==n.mergeMode&&(o=[r,i]),n.returnState?null==n.mergeMode?o.concat(a):[o].concat(a):o})},t.prototype.resetStates=function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},t.prototype.build=function(e){var t=this;nameScope(this.forwardLayer.name,function(){t.forwardLayer.build(e)}),nameScope(this.backwardLayer.name,function(){t.backwardLayer.build(e)}),this.built=!0},t.prototype.computeMask=function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map(function(e){return null});return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(t),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={mergeMode:this.mergeMode},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.fromConfig=function(e,t){var n=deserialize(t.layer);if(delete t.layer,null!=t.numConstants)throw new NotImplementedError("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)},t.className="Bidirectional",t}(Wrapper);function inputLayer(e){return new InputLayer(e)}function elu$2(e){return new ELU(e)}function reLU(e){return new ReLU(e)}function leakyReLU(e){return new LeakyReLU(e)}function prelu$1(e){return new PReLU(e)}function softmax$1(e){return new Softmax$1(e)}function thresholdedReLU(e){return new ThresholdedReLU(e)}function conv1d$2(e){return new Conv1D(e)}function conv2d$1(e){return new Conv2D(e)}function conv2dTranspose$1(e){return new Conv2DTranspose(e)}function conv3d$2(e){return new Conv3D(e)}function separableConv2d$1(e){return new SeparableConv2D(e)}function cropping2D(e){return new Cropping2D(e)}function upSampling2d(e){return new UpSampling2D(e)}function depthwiseConv2d$2(e){return new DepthwiseConv2D(e)}function activation(e){return new Activation$1(e)}function dense(e){return new Dense(e)}function dropout$2(e){return new Dropout(e)}function spatialDropout1d(e){return new SpatialDropout1D(e)}function flatten$1(e){return new Flatten(e)}function repeatVector(e){return new RepeatVector(e)}function reshape(e){return new Reshape(e)}function permute(e){return new Permute(e)}function embedding(e){return new Embedding(e)}function add$2(e){return new Add(e)}function average$1(e){return new Average(e)}function concatenate$2(e){return new Concatenate(e)}function maximum$2(e){return new Maximum(e)}function minimum$2(e){return new Minimum(e)}function multiply$1(e){return new Multiply(e)}function dot$1(e){return new Dot(e)}function batchNormalization$1(e){return new BatchNormalization(e)}function layerNormalization(e){return new LayerNormalization(e)}function zeroPadding2d(e){return new ZeroPadding2D(e)}function averagePooling1d(e){return new AveragePooling1D(e)}function avgPool1d(e){return averagePooling1d(e)}function avgPooling1d(e){return averagePooling1d(e)}function averagePooling2d(e){return new AveragePooling2D(e)}function avgPool2d(e){return averagePooling2d(e)}function avgPooling2d(e){return averagePooling2d(e)}function averagePooling3d(e){return new AveragePooling3D(e)}function avgPool3d$1(e){return averagePooling3d(e)}function avgPooling3d(e){return averagePooling3d(e)}function globalAveragePooling1d(e){return new GlobalAveragePooling1D(e)}function globalAveragePooling2d(e){return new GlobalAveragePooling2D(e)}function globalMaxPooling1d(e){return new GlobalMaxPooling1D(e)}function globalMaxPooling2d(e){return new GlobalMaxPooling2D(e)}function maxPooling1d(e){return new MaxPooling1D(e)}function maxPooling2d(e){return new MaxPooling2D(e)}function maxPooling3d(e){return new MaxPooling3D(e)}function gru(e){return new GRU(e)}function gruCell(e){return new GRUCell(e)}function lstm(e){return new LSTM(e)}function lstmCell(e){return new LSTMCell(e)}function simpleRNN(e){return new SimpleRNN(e)}function simpleRNNCell(e){return new SimpleRNNCell(e)}function rnn$1(e){return new RNN(e)}function stackedRNNCells(e){return new StackedRNNCells(e)}function bidirectional(e){return new Bidirectional(e)}function timeDistributed(e){return new TimeDistributed(e)}_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"].registerClass(Bidirectional);var globalMaxPool1d=globalMaxPooling1d,globalMaxPool2d=globalMaxPooling2d,maxPool1d=maxPooling1d,maxPool2d=maxPooling2d;function gaussianNoise(e){return new GaussianNoise(e)}function gaussianDropout(e){return new GaussianDropout(e)}function alphaDropout(e){return new AlphaDropout(e)}function masking(e){return new Masking(e)}var exports_layers=Object.freeze({inputLayer:inputLayer,elu:elu$2,reLU:reLU,leakyReLU:leakyReLU,prelu:prelu$1,softmax:softmax$1,thresholdedReLU:thresholdedReLU,conv1d:conv1d$2,conv2d:conv2d$1,conv2dTranspose:conv2dTranspose$1,conv3d:conv3d$2,separableConv2d:separableConv2d$1,cropping2D:cropping2D,upSampling2d:upSampling2d,depthwiseConv2d:depthwiseConv2d$2,activation:activation,dense:dense,dropout:dropout$2,spatialDropout1d:spatialDropout1d,flatten:flatten$1,repeatVector:repeatVector,reshape:reshape,permute:permute,embedding:embedding,add:add$2,average:average$1,concatenate:concatenate$2,maximum:maximum$2,minimum:minimum$2,multiply:multiply$1,dot:dot$1,batchNormalization:batchNormalization$1,layerNormalization:layerNormalization,zeroPadding2d:zeroPadding2d,averagePooling1d:averagePooling1d,avgPool1d:avgPool1d,avgPooling1d:avgPooling1d,averagePooling2d:averagePooling2d,avgPool2d:avgPool2d,avgPooling2d:avgPooling2d,averagePooling3d:averagePooling3d,avgPool3d:avgPool3d$1,avgPooling3d:avgPooling3d,globalAveragePooling1d:globalAveragePooling1d,globalAveragePooling2d:globalAveragePooling2d,globalMaxPooling1d:globalMaxPooling1d,globalMaxPooling2d:globalMaxPooling2d,maxPooling1d:maxPooling1d,maxPooling2d:maxPooling2d,maxPooling3d:maxPooling3d,gru:gru,gruCell:gruCell,lstm:lstm,lstmCell:lstmCell,simpleRNN:simpleRNN,simpleRNNCell:simpleRNNCell,rnn:rnn$1,stackedRNNCells:stackedRNNCells,bidirectional:bidirectional,timeDistributed:timeDistributed,globalMaxPool1d:globalMaxPool1d,globalMaxPool2d:globalMaxPool2d,maxPool1d:maxPool1d,maxPool2d:maxPool2d,Layer:Layer,RNN:RNN,RNNCell:RNNCell,input:input,gaussianNoise:gaussianNoise,gaussianDropout:gaussianDropout,alphaDropout:alphaDropout,masking:masking});function binaryAccuracy$1(e,t){return binaryAccuracy(e,t)}function binaryCrossentropy$2(e,t){return binaryCrossentropy$1(e,t)}function sparseCategoricalAccuracy$1(e,t){return sparseCategoricalAccuracy(e,t)}function categoricalAccuracy$1(e,t){return categoricalAccuracy(e,t)}function categoricalCrossentropy$2(e,t){return categoricalCrossentropy$1(e,t)}function precision$1(e,t){return precision(e,t)}function recall$1(e,t){return recall(e,t)}function cosineProximity$1(e,t){return cosineProximity(e,t)}function meanAbsoluteError$1(e,t){return meanAbsoluteError(e,t)}function meanAbsolutePercentageError$1(e,t){return meanAbsolutePercentageError(e,t)}function MAPE$2(e,t){return meanAbsolutePercentageError(e,t)}function mape$2(e,t){return meanAbsolutePercentageError(e,t)}function meanSquaredError$1(e,t){return meanSquaredError(e,t)}function MSE$2(e,t){return meanSquaredError(e,t)}function mse$2(e,t){return meanSquaredError(e,t)}var exports_metrics=Object.freeze({binaryAccuracy:binaryAccuracy$1,binaryCrossentropy:binaryCrossentropy$2,sparseCategoricalAccuracy:sparseCategoricalAccuracy$1,categoricalAccuracy:categoricalAccuracy$1,categoricalCrossentropy:categoricalCrossentropy$2,precision:precision$1,recall:recall$1,cosineProximity:cosineProximity$1,meanAbsoluteError:meanAbsoluteError$1,meanAbsolutePercentageError:meanAbsolutePercentageError$1,MAPE:MAPE$2,mape:mape$2,meanSquaredError:meanSquaredError$1,MSE:MSE$2,mse:mse$2}),exports_models=Object.freeze({modelFromJSON:modelFromJSON});function l1l2(e){return new L1L2(e)}function l1$1(e){return l1(e)}function l2$1(e){return l2(e)}var exports_regularizers=Object.freeze({l1l2:l1l2,l1:l1$1,l2:l2$1}),Callback=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.model=null,t}return __extends(t,e),t.prototype.setModel=function(e){if(!(e instanceof LayersModel))throw new Error("model must be a LayersModel, not some other Container");this.model=e},t}(BaseCallback);function less(e,t){return e<t}function greater$1(e,t){return e>t}var EarlyStopping=function(e){function t(t){var n=e.call(this)||this;if(null==t&&(t={}),t.restoreBestWeights)throw new NotImplementedError("restoreBestWeights = True is not implemented in EarlyStopping yet.");return n.monitor=t.monitor||"val_loss",n.minDelta=Math.abs(t.minDelta||0),n.patience=t.patience||0,n.verbose=t.verbose||0,n.mode=t.mode||"auto",n.baseline=t.baseline,-1===["auto","min","max"].indexOf(n.mode)&&(console.warn("EarlyStopping mode '"+n.mode+"' is invalid. Falling back to mode 'auto'."),n.mode="auto"),"min"===n.mode?n.monitorFunc=less:"max"===n.mode?n.monitorFunc=greater$1:-1!==n.monitor.indexOf("acc")?n.monitorFunc=greater$1:n.monitorFunc=less,n.monitorFunc===less&&(n.minDelta*=-1),n}return __extends(t,e),t.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===less?1/0:-1/0,[2]})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){switch(r.label){case 0:return[4,resolveScalarsInLogs(t)];case 1:return r.sent(),null==(n=this.getMonitorValue(t))?[2]:(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0)),[2])}})})},t.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.stoppedEpoch>0&&this.verbose&&console.log("Epoch "+this.stoppedEpoch+": early stopping."),[2]})})},t.prototype.getMonitorValue=function(e){null==e&&(e={});var t=e[this.monitor];return null==t&&console.warn("Metric for EarlyStopping "+this.monitor+" is not available. Available metrics are: "+Object.keys(e)),t},t}(Callback);function earlyStopping(e){return new EarlyStopping(e)}var callbacks={earlyStopping:earlyStopping};
//# sourceMappingURL=tf-layers.esm.js.map


/***/ }),

/***/ "./node_modules/@tensorflow/tfjs/dist/tf.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/@tensorflow/tfjs/dist/tf.esm.js ***!
  \******************************************************/
/*! exports provided: AdadeltaOptimizer, AdagradOptimizer, AdamOptimizer, AdamaxOptimizer, Add, AddN, BroadcastTo, DataStorage, Div, ENV, Environment, FromPixels, FusedBatchNorm, Identity, KernelBackend, MaxPoolWithArgmax, MomentumOptimizer, NonMaxSuppressionV5, OneHot, Optimizer, PadV2, RMSPropOptimizer, Rank, Reduction, SGDOptimizer, Square, SquaredDifference, Tensor, TensorBuffer, Tile, Transpose, Variable, abs, acos, acosh, add, addN, addStrict, all, any, argMax, argMin, asin, asinh, atan, atan2, atanh, avgPool, avgPool3d, backend, backend_util, basicLSTMCell, batchNorm, batchNorm2d, batchNorm3d, batchNorm4d, batchNormalization, batchNormalization2d, batchNormalization3d, batchNormalization4d, batchToSpaceND, booleanMaskAsync, broadcastTo, browser, buffer, cast, ceil, clipByValue, clone, complex, concat, concat1d, concat2d, concat3d, concat4d, conv1d, conv2d, conv2dTranspose, conv3d, conv3dTranspose, cos, cosh, cumsum, customGrad, deprecationWarn, depthToSpace, depthwiseConv2d, diag, disableDeprecationWarnings, dispose, disposeVariables, div, divNoNan, divStrict, dot, dropout, elu, enableDebugMode, enableProdMode, engine, env, equal, equalStrict, erf, exp, expandDims, expm1, eye, fft, fill, findBackend, findBackendFactory, floor, floorDiv, frame, fused, gather, gatherND, gather_util, getBackend, getGradient, getKernel, getKernelsForBackend, grad, grads, greater, greaterEqual, greaterEqualStrict, greaterStrict, hammingWindow, hannWindow, ifft, imag, image, inTopKAsync, io, irfft, isFinite, isInf, isNaN, keep, leakyRelu, less, lessEqual, lessEqualStrict, lessStrict, linalg, linspace, localResponseNormalization, log, log1p, logSigmoid, logSoftmax, logSumExp, logicalAnd, logicalNot, logicalOr, logicalXor, losses, matMul, math, max, maxPool, maxPool3d, maxPoolWithArgmax, maximum, maximumStrict, mean, memory, min, minimum, minimumStrict, mod, modStrict, moments, movingAverage, mul, mulStrict, multiRNNCell, multinomial, neg, nextFrame, norm, notEqual, notEqualStrict, oneHot, ones, onesLike, op, outerProduct, pad, pad1d, pad2d, pad3d, pad4d, pool, pow, powStrict, prelu, print, prod, profile, rand, randomGamma, randomNormal, randomUniform, range, ready, real, reciprocal, registerBackend, registerGradient, registerKernel, relu, relu6, removeBackend, reshape, reverse, reverse1d, reverse2d, reverse3d, reverse4d, rfft, round, rsqrt, scalar, scatterND, scatter_util, selu, separableConv2d, serialization, setBackend, setPlatform, setdiff1dAsync, sigmoid, sign, signal, sin, sinh, slice, slice1d, slice2d, slice3d, slice4d, slice_util, softmax, softplus, spaceToBatchND, sparseToDense, spectral, split, sqrt, square, squaredDifference, squaredDifferenceStrict, squeeze, stack, step, stft, stridedSlice, sub, subStrict, sum, sumOutType, tan, tanh, tensor, tensor1d, tensor2d, tensor3d, tensor4d, tensor5d, tensor6d, tensor_util, test_util, tidy, tile, time, topk, train, transpose, truncatedNormal, unregisterGradient, unregisterKernel, unsortedSegmentSum, unstack, util, valueAndGrad, valueAndGrads, variable, variableGrads, version_core, webgl, where, whereAsync, zeros, zerosLike, constraints, initializers, layers, metrics, models, regularizers, CallbackList, CustomCallback, History, Callback, callbacks, EarlyStopping, InputSpec, SymbolicTensor, LayersModel, input, loadLayersModel, model, registerCallbackConstructor, sequential, RNN, Sequential, LayerVariable, version_layers, data, version, GraphModel, loadGraphModel, deregisterOp, registerOp, version_converter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "version", function() { return version$1; });
/* harmony import */ var _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tensorflow/tfjs-core */ "./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AdadeltaOptimizer", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["AdadeltaOptimizer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AdagradOptimizer", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["AdagradOptimizer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AdamOptimizer", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["AdamOptimizer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AdamaxOptimizer", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["AdamaxOptimizer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Add", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Add"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AddN", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["AddN"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BroadcastTo", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["BroadcastTo"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DataStorage", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["DataStorage"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Div", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Div"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ENV", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["ENV"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Environment", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Environment"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FromPixels", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["FromPixels"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FusedBatchNorm", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["FusedBatchNorm"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Identity", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Identity"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "KernelBackend", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["KernelBackend"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MaxPoolWithArgmax", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["MaxPoolWithArgmax"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MomentumOptimizer", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["MomentumOptimizer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NonMaxSuppressionV5", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["NonMaxSuppressionV5"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OneHot", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["OneHot"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Optimizer", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Optimizer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PadV2", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["PadV2"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RMSPropOptimizer", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["RMSPropOptimizer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Rank", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Rank"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Reduction", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Reduction"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SGDOptimizer", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["SGDOptimizer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Square", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Square"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SquaredDifference", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["SquaredDifference"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tensor", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tensor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TensorBuffer", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["TensorBuffer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Tile", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Tile"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Transpose", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Transpose"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Variable", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["Variable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "abs", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["abs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "acos", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["acos"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "acosh", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["acosh"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "add", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["add"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "addN", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["addN"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "addStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["addStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "all", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["all"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "any", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["any"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "argMax", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["argMax"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "argMin", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["argMin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "asin", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["asin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "asinh", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["asinh"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "atan", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["atan"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "atan2", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["atan2"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "atanh", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["atanh"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "avgPool", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["avgPool"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "avgPool3d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["avgPool3d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "backend", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["backend"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "backend_util", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["backend_util"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "basicLSTMCell", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["basicLSTMCell"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "batchNorm", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNorm"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "batchNorm2d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNorm2d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "batchNorm3d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNorm3d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "batchNorm4d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNorm4d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "batchNormalization", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNormalization"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "batchNormalization2d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNormalization2d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "batchNormalization3d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNormalization3d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "batchNormalization4d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchNormalization4d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "batchToSpaceND", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["batchToSpaceND"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "booleanMaskAsync", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["booleanMaskAsync"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "broadcastTo", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["broadcastTo"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "browser", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["browser"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "buffer", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["buffer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "cast", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["cast"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ceil", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["ceil"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "clipByValue", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clipByValue"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "clone", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["clone"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "complex", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["complex"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concat", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concat1d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat1d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concat2d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat2d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concat3d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat3d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "concat4d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["concat4d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "conv1d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv1d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "conv2d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv2d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "conv2dTranspose", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv2dTranspose"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "conv3d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv3d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "conv3dTranspose", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["conv3dTranspose"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "cos", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["cos"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "cosh", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["cosh"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "cumsum", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["cumsum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "customGrad", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["customGrad"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deprecationWarn", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["deprecationWarn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "depthToSpace", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["depthToSpace"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "depthwiseConv2d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["depthwiseConv2d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "diag", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["diag"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "disableDeprecationWarnings", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["disableDeprecationWarnings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dispose", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dispose"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "disposeVariables", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["disposeVariables"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "div", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["div"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "divNoNan", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["divNoNan"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "divStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["divStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dot", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dot"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dropout", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["dropout"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "elu", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["elu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enableDebugMode", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["enableDebugMode"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enableProdMode", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "engine", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["engine"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "env", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["env"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "equal", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["equal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "equalStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["equalStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "erf", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["erf"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "exp", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["exp"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "expandDims", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["expandDims"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "expm1", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["expm1"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "eye", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["eye"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fft", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fft"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fill", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fill"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findBackend", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["findBackend"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findBackendFactory", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["findBackendFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "floor", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["floor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "floorDiv", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["floorDiv"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frame", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["frame"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fused", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["fused"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gather", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["gather"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gatherND", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["gatherND"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gather_util", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["gather_util"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getBackend", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["getBackend"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getGradient", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["getGradient"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getKernel", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["getKernel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getKernelsForBackend", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["getKernelsForBackend"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "grad", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["grad"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "grads", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["grads"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "greater", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["greater"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "greaterEqual", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["greaterEqual"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "greaterEqualStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["greaterEqualStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "greaterStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["greaterStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hammingWindow", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["hammingWindow"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hannWindow", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["hannWindow"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ifft", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["ifft"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "imag", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["imag"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "image", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["image"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "inTopKAsync", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["inTopKAsync"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "io", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["io"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "irfft", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["irfft"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isFinite", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["isFinite"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isInf", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["isInf"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isNaN", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["isNaN"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "keep", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["keep"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "leakyRelu", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["leakyRelu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "less", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["less"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "lessEqual", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["lessEqual"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "lessEqualStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["lessEqualStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "lessStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["lessStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "linalg", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["linalg"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "linspace", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["linspace"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "localResponseNormalization", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["localResponseNormalization"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "log", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["log"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "log1p", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["log1p"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "logSigmoid", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logSigmoid"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "logSoftmax", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logSoftmax"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "logSumExp", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logSumExp"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "logicalAnd", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalAnd"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "logicalNot", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalNot"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "logicalOr", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalOr"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "logicalXor", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["logicalXor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "losses", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["losses"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "matMul", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["matMul"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "math", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["math"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "max", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["max"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "maxPool", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maxPool"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "maxPool3d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maxPool3d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "maxPoolWithArgmax", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maxPoolWithArgmax"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "maximum", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maximum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "maximumStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["maximumStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mean", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mean"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "memory", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["memory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "min", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["min"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "minimum", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["minimum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "minimumStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["minimumStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mod", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mod"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "modStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["modStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "moments", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["moments"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "movingAverage", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["movingAverage"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mul", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mul"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mulStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["mulStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "multiRNNCell", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["multiRNNCell"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "multinomial", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["multinomial"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "neg", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["neg"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "nextFrame", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["nextFrame"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "norm", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["norm"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notEqual", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["notEqual"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notEqualStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["notEqualStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "oneHot", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["oneHot"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ones", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["ones"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "onesLike", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["onesLike"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "op", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["op"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "outerProduct", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["outerProduct"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pad", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["pad"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pad1d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["pad1d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pad2d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["pad2d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pad3d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["pad3d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pad4d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["pad4d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pool", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["pool"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pow", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["pow"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "powStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["powStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "prelu", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["prelu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "print", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["print"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "prod", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["prod"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "profile", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["profile"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "rand", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["rand"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "randomGamma", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["randomGamma"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "randomNormal", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["randomNormal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "randomUniform", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["randomUniform"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "range", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["range"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ready", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["ready"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "real", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["real"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reciprocal", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reciprocal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "registerBackend", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["registerBackend"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "registerGradient", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["registerGradient"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "registerKernel", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["registerKernel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "relu", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["relu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "relu6", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["relu6"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "removeBackend", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["removeBackend"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reshape", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reshape"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reverse", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reverse"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reverse1d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reverse1d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reverse2d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reverse2d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reverse3d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reverse3d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reverse4d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["reverse4d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "rfft", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["rfft"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "round", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["round"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "rsqrt", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["rsqrt"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scalar", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scalar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scatterND", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scatterND"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scatter_util", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["scatter_util"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "selu", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["selu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "separableConv2d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["separableConv2d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "serialization", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["serialization"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setBackend", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["setBackend"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setPlatform", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["setPlatform"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setdiff1dAsync", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["setdiff1dAsync"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sigmoid", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sigmoid"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sign", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sign"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "signal", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["signal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sin", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sinh", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sinh"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "slice", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "slice1d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice1d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "slice2d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice2d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "slice3d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice3d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "slice4d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice4d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "slice_util", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["slice_util"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "softmax", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["softmax"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "softplus", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["softplus"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "spaceToBatchND", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["spaceToBatchND"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sparseToDense", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sparseToDense"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "spectral", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["spectral"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "split", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["split"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sqrt", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sqrt"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "square", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["square"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "squaredDifference", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["squaredDifference"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "squaredDifferenceStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["squaredDifferenceStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "squeeze", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["squeeze"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stack", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["stack"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "step", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["step"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stft", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["stft"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stridedSlice", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["stridedSlice"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sub", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sub"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "subStrict", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["subStrict"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sum", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sumOutType", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["sumOutType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tan", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tan"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tanh", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tanh"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tensor", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tensor1d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor1d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tensor2d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor2d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tensor3d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor3d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tensor4d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor4d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tensor5d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor5d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tensor6d", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor6d"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tensor_util", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tensor_util"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "test_util", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["test_util"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tidy", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tidy"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tile", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["tile"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "time", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["time"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "topk", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["topk"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "train", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["train"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "transpose", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["transpose"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "truncatedNormal", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["truncatedNormal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "unregisterGradient", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["unregisterGradient"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "unregisterKernel", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["unregisterKernel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "unsortedSegmentSum", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["unsortedSegmentSum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "unstack", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["unstack"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "util", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["util"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "valueAndGrad", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["valueAndGrad"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "valueAndGrads", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["valueAndGrads"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "variable", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["variable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "variableGrads", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["variableGrads"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "version_core", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["version_core"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "webgl", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["webgl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "where", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["where"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "whereAsync", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["whereAsync"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "zeros", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zeros"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "zerosLike", function() { return _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["zerosLike"]; });

/* harmony import */ var _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tensorflow/tfjs-layers */ "./node_modules/@tensorflow/tfjs-layers/dist/tf-layers.esm.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "constraints", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["constraints"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "initializers", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["initializers"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "layers", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["layers"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "metrics", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["metrics"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "models", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["models"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "regularizers", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["regularizers"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CallbackList", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["CallbackList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CustomCallback", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["CustomCallback"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "History", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["History"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Callback", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["Callback"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "callbacks", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["callbacks"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EarlyStopping", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["EarlyStopping"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InputSpec", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["InputSpec"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SymbolicTensor", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["SymbolicTensor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LayersModel", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["LayersModel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "input", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["input"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "loadLayersModel", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["loadLayersModel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "model", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["model"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "registerCallbackConstructor", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["registerCallbackConstructor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sequential", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["sequential"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RNN", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["RNN"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Sequential", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["Sequential"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LayerVariable", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["LayerVariable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "version_layers", function() { return _tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["version_layers"]; });

/* harmony import */ var _tensorflow_tfjs_converter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tensorflow/tfjs-converter */ "./node_modules/@tensorflow/tfjs-converter/dist/tf-converter.esm.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GraphModel", function() { return _tensorflow_tfjs_converter__WEBPACK_IMPORTED_MODULE_2__["GraphModel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "loadGraphModel", function() { return _tensorflow_tfjs_converter__WEBPACK_IMPORTED_MODULE_2__["loadGraphModel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deregisterOp", function() { return _tensorflow_tfjs_converter__WEBPACK_IMPORTED_MODULE_2__["deregisterOp"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "registerOp", function() { return _tensorflow_tfjs_converter__WEBPACK_IMPORTED_MODULE_2__["registerOp"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "version_converter", function() { return _tensorflow_tfjs_converter__WEBPACK_IMPORTED_MODULE_2__["version_converter"]; });

/* harmony import */ var _tensorflow_tfjs_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tensorflow/tfjs-data */ "./node_modules/@tensorflow/tfjs-data/dist/tf-data.esm.js");
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "data", function() { return _tensorflow_tfjs_data__WEBPACK_IMPORTED_MODULE_3__; });
// @tensorflow/tfjs Copyright 2020 Google
var version="1.7.4",version$1={"tfjs-core":_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__["version_core"],"tfjs-data":_tensorflow_tfjs_data__WEBPACK_IMPORTED_MODULE_3__["version_data"],"tfjs-layers":_tensorflow_tfjs_layers__WEBPACK_IMPORTED_MODULE_1__["version_layers"],"tfjs-converter":_tensorflow_tfjs_converter__WEBPACK_IMPORTED_MODULE_2__["version_converter"],tfjs:version};
//# sourceMappingURL=tf.esm.js.map


/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  for (var i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ "./node_modules/node-libs-browser/node_modules/buffer/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/buffer/index.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
var ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
var isArray = __webpack_require__(/*! isarray */ "./node_modules/isarray/index.js")

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/node-libs-browser/node_modules/timers-browserify/main.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/timers-browserify/main.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== "undefined" && global) ||
            (typeof self !== "undefined" && self) ||
            window;
var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(scope, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(/*! setimmediate */ "./node_modules/setimmediate/setImmediate.js");
// On some exotic environments, it's not clear which object `setimmediate` was
// able to install onto.  Search each possibility in the same order as the
// `setimmediate` library.
exports.setImmediate = (typeof self !== "undefined" && self.setImmediate) ||
                       (typeof global !== "undefined" && global.setImmediate) ||
                       (this && this.setImmediate);
exports.clearImmediate = (typeof self !== "undefined" && self.clearImmediate) ||
                         (typeof global !== "undefined" && global.clearImmediate) ||
                         (this && this.clearImmediate);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 6–8
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/core/sketch_support.ts":
/*!************************************!*\
  !*** ./src/core/sketch_support.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function stringToUint8array(b64encoded) {
    var u8 = new Uint8Array(atob(b64encoded)
        .split("")
        .map(function (c) {
        return c.charCodeAt(0);
    }));
    return u8;
}
exports.stringToUint8array = stringToUint8array;
function stringToArray(b64encoded) {
    var u = stringToUint8array(b64encoded);
    var result = new Int16Array(u.buffer);
    return result;
}
exports.stringToArray = stringToArray;
var returnV = false;
var vVal = 0.0;
function gaussRandom() {
    if (returnV) {
        returnV = false;
        return vVal;
    }
    var u = 2 * Math.random() - 1;
    var v = 2 * Math.random() - 1;
    var r = u * u + v * v;
    if (r === 0 || r > 1) {
        return gaussRandom();
    }
    var c = Math.sqrt(-2 * Math.log(r) / r);
    vVal = v * c;
    returnV = true;
    return u * c;
}
exports.gaussRandom = gaussRandom;
function randf(a, b) {
    return Math.random() * (b - a) + a;
}
exports.randf = randf;
function randi(a, b) {
    return Math.floor(Math.random() * (b - a) + a);
}
exports.randi = randi;
function randn(mu, std) {
    return mu + gaussRandom() * std;
}
exports.randn = randn;
function birandn(mu1, mu2, std1, std2, rho) {
    var z1 = randn(0, 1);
    var z2 = randn(0, 1);
    var x = Math.sqrt(1 - rho * rho) * std1 * z1 + rho * std1 * z2 + mu1;
    var y = std2 * z2 + mu2;
    return [x, y];
}
exports.birandn = birandn;
function sampleSoftmax(zSample) {
    var x = randf(0, 1);
    var N = zSample.length;
    var accumulate = 0;
    var i;
    for (i = 0; i < N; i++) {
        accumulate += zSample[i];
        if (accumulate >= x) {
            return i;
        }
    }
    console.log('error sampling pi index');
    return -1;
}
exports.sampleSoftmax = sampleSoftmax;
function simplifyLine(V, tolerance) {
    if (tolerance === void 0) { tolerance = 2.0; }
    var tol = tolerance;
    function diff(u, v) {
        return [u[0] - v[0], u[1] - v[1]];
    }
    function dot(u, v) {
        return u[0] * v[0] + u[1] * v[1];
    }
    function norm2(v) {
        return v[0] * v[0] + v[1] * v[1];
    }
    function d2(u, v) { return norm2(diff(u, v)); }
    function simplifyDP(tol, v, j, k, mk) {
        if (k <= j + 1) {
            return;
        }
        var maxi = j;
        var maxd2 = 0;
        var tol2 = tol * tol;
        var S = [v[j], v[k]];
        var u = diff(S[1], S[0]);
        var cu = norm2(u);
        var w;
        var pb;
        var b, cw, dv2;
        for (var i_1 = j + 1; i_1 < k; i_1++) {
            w = diff(v[i_1], S[0]);
            cw = dot(w, u);
            if (cw <= 0) {
                dv2 = d2(v[i_1], S[0]);
            }
            else if (cu <= cw) {
                dv2 = d2(v[i_1], S[1]);
            }
            else {
                b = cw / cu;
                pb = [S[0][0] + b * u[0], S[0][1] + b * u[1]];
                dv2 = d2(v[i_1], pb);
            }
            if (dv2 <= maxd2) {
                continue;
            }
            maxi = i_1;
            maxd2 = dv2;
        }
        if (maxd2 > tol2) {
            mk[maxi] = 1;
            simplifyDP(tol, v, j, maxi, mk);
            simplifyDP(tol, v, maxi, k, mk);
        }
        return;
    }
    var n = V.length;
    var sV = [];
    var i, k, m, pv;
    var tol2 = tol * tol;
    var vt = [];
    var mk = [];
    vt[0] = V[0];
    for (i = k = 1, pv = 0; i < n; i++) {
        if (d2(V[i], V[pv]) < tol2) {
            continue;
        }
        vt[k++] = V[i];
        pv = i;
    }
    if (pv < n - 1) {
        vt[k++] = V[n - 1];
    }
    mk[0] = mk[k - 1] = 1;
    simplifyDP(tol, vt, 0, k - 1, mk);
    for (i = m = 0; i < k; i++) {
        if (mk[i]) {
            sV[m++] = vt[i];
        }
    }
    return sV;
}
exports.simplifyLine = simplifyLine;
function simplifyLines(lines, tolerance) {
    var result = [];
    var tol = 2.0;
    if (tolerance) {
        tol = tolerance;
    }
    for (var i = 0; i < lines.length; i++) {
        result.push(simplifyLine(lines[i], tol));
    }
    return result;
}
exports.simplifyLines = simplifyLines;
function linesToStrokes(rawData) {
    var x, y;
    var px = 0, py = 0;
    var dx, dy;
    var pon, poff;
    var stroke = [];
    var i, j;
    var len;
    var p;
    for (i = 0; i < rawData.length; i++) {
        len = rawData[i].length;
        if (len > 1) {
            for (j = 0; j < len; j++) {
                p = rawData[i][j];
                x = p[0];
                y = p[1];
                if (j === len - 1) {
                    poff = 1;
                    pon = 0;
                }
                else {
                    poff = 0;
                    pon = 1;
                }
                dx = x - px;
                dy = y - py;
                px = x;
                py = y;
                stroke.push([dx, dy, pon, poff, 0]);
            }
        }
    }
    stroke.push([0, 0, 0, 0, 1]);
    return stroke.slice(1);
}
exports.linesToStrokes = linesToStrokes;
function lineToStroke(line, lastPoint) {
    var pon, poff;
    var stroke = [];
    var len;
    var p;
    var dx, dy;
    var x, y;
    var px, py;
    var j;
    px = lastPoint[0];
    py = lastPoint[1];
    len = line.length;
    if (len > 1) {
        for (j = 0; j < len; j++) {
            p = line[j];
            x = p[0];
            y = p[1];
            if (j === len - 1) {
                poff = 1;
                pon = 0;
            }
            else {
                poff = 0;
                pon = 1;
            }
            dx = x - px;
            dy = y - py;
            px = x;
            py = y;
            stroke.push([dx, dy, pon, poff, 0]);
        }
    }
    return stroke;
}
exports.lineToStroke = lineToStroke;


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
var tf = __webpack_require__(/*! @tensorflow/tfjs */ "./node_modules/@tensorflow/tfjs/dist/tf.esm.js");
exports.tf = tf;
__export(__webpack_require__(/*! ./sketch_rnn */ "./src/sketch_rnn/index.ts"));


/***/ }),

/***/ "./src/sketch_rnn/index.ts":
/*!*********************************!*\
  !*** ./src/sketch_rnn/index.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var model_1 = __webpack_require__(/*! ./model */ "./src/sketch_rnn/model.ts");
exports.SketchRNN = model_1.SketchRNN;


/***/ }),

/***/ "./src/sketch_rnn/model.ts":
/*!*********************************!*\
  !*** ./src/sketch_rnn/model.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var tf = __webpack_require__(/*! @tensorflow/tfjs-core */ "./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js");
var tfl = __webpack_require__(/*! @tensorflow/tfjs-layers */ "./node_modules/@tensorflow/tfjs-layers/dist/tf-layers.esm.js");
var support = __webpack_require__(/*! ../core/sketch_support */ "./src/core/sketch_support.ts");
var SketchRNN = (function () {
    function SketchRNN(checkpointURL) {
        this.wq_dense = new Array(4);
        this.wk_dense = new Array(4);
        this.wv_dense = new Array(4);
        this.concat_attention_to_decoder_output = new Array(4);
        this.NMIXTURE = 20;
        console.log('construct model');
        this.checkpointURL = checkpointURL;
        this.initialized = false;
        console.log(this.checkpointURL);
    }
    SketchRNN.prototype.isInitialized = function () {
        return this.initialized;
    };
    SketchRNN.prototype.instantiateFromJSON = function (info) {
        this.info = info;
        this.setPixelFactor(2.0);
    };
    SketchRNN.prototype.initialize = function () {
        return __awaiter(this, void 0, void 0, function () {
            var vars, _a, _b, _c, i, _d, _e, _f, _g, _h, _j, _k, _l, imgDataReq, _m, a;
            return __generator(this, function (_o) {
                switch (_o.label) {
                    case 0:
                        this.dispose();
                        console.log(this.checkpointURL);
                        return [4, fetch(this.checkpointURL.concat('/Info.json'))
                                .then(function (response) { return response.json(); })];
                    case 1:
                        vars = _o.sent();
                        this.instantiateFromJSON(vars[0]);
                        _a = this;
                        return [4, tfl.loadLayersModel(this.checkpointURL.concat('/encoder_model_without_highpass/model.json'))];
                    case 2:
                        _a.encoder = _o.sent();
                        console.log('Initialized encoder!!!');
                        _b = this;
                        return [4, tfl.loadLayersModel(this.checkpointURL.concat('/output_model/model.json'))];
                    case 3:
                        _b.output_model = _o.sent();
                        console.log('Initialized output_model');
                        _c = this;
                        return [4, tfl.loadLayersModel(this.checkpointURL.concat('/input_to_embed_dense/model.json'))];
                    case 4:
                        _c.input_to_embed_dense = _o.sent();
                        console.log('Initialized input_to_embed_dense');
                        i = 0;
                        _o.label = 5;
                    case 5:
                        if (!(i < 4)) return [3, 11];
                        _d = this.wq_dense;
                        _e = i;
                        return [4, tfl.loadLayersModel(this.checkpointURL + '/wq_dense_' + i + '/model.json')];
                    case 6:
                        _d[_e] = _o.sent();
                        console.log('Initialized wq_dense_' + i);
                        _f = this.wk_dense;
                        _g = i;
                        return [4, tfl.loadLayersModel(this.checkpointURL + '/wk_dense_' + i + '/model.json')];
                    case 7:
                        _f[_g] = _o.sent();
                        console.log('Initialized wk_dense_' + i);
                        _h = this.wv_dense;
                        _j = i;
                        return [4, tfl.loadLayersModel(this.checkpointURL + '/wv_dense_' + i + '/model.json')];
                    case 8:
                        _h[_j] = _o.sent();
                        console.log('Initialized wv_dense_' + i);
                        _k = this.concat_attention_to_decoder_output;
                        _l = i;
                        return [4, tfl.loadLayersModel(this.checkpointURL + '/concat_attention_to_decoder_output_' + i + '_model/model.json')];
                    case 9:
                        _k[_l] = _o.sent();
                        console.log('Initialized concat_attention_to_decoder_output_' + i);
                        _o.label = 10;
                    case 10:
                        i++;
                        return [3, 5];
                    case 11: return [4, fetch(this.checkpointURL.concat('/image/0.json'))];
                    case 12:
                        imgDataReq = _o.sent();
                        _m = this;
                        return [4, imgDataReq.json()];
                    case 13:
                        _m.imgArray = _o.sent();
                        this.initialized = true;
                        a = Array.from([1, 2, 3]);
                        console.log(a);
                        console.log('Initialized SketchRNN.');
                        return [2];
                }
            });
        });
    };
    SketchRNN.prototype.dispose = function () {
        if (this.encoder) {
            this.encoder.dispose();
            this.encoder = undefined;
            console.log('disposed encoder.');
        }
        if (this.output_model) {
            this.output_model.dispose();
            this.output_model = undefined;
            console.log('disposed output_model');
        }
        if (this.input_to_embed_dense) {
            this.input_to_embed_dense.dispose();
            this.input_to_embed_dense = undefined;
            console.log('disposed input_to_embed_dense');
        }
        for (var i = 0; i < 4; i++) {
            if (this.wq_dense[i]) {
                this.wq_dense[i].dispose();
                this.wq_dense[i] = undefined;
                console.log('disposed wq_dense_' + i);
            }
            if (this.wk_dense[i]) {
                this.wk_dense[i].dispose();
                this.wk_dense[i] = undefined;
                console.log('disposed wk_dense_' + i);
            }
            if (this.wv_dense[i]) {
                this.wv_dense[i].dispose();
                this.wv_dense[i] = undefined;
                console.log('disposed wv_dense_' + i);
            }
            if (this.concat_attention_to_decoder_output[i]) {
                this.concat_attention_to_decoder_output[i].dispose();
                this.concat_attention_to_decoder_output[i] = undefined;
                console.log('disposed concat_attention_to_decoder_output_' + i);
            }
        }
        this.initialized = false;
    };
    SketchRNN.prototype.setPixelFactor = function (scale) {
        this.pixelFactor = scale;
        this.scaleFactor = this.info.scale_factor / this.pixelFactor;
    };
    SketchRNN.prototype.zeroState = function () {
        var result = {
            c: new Float32Array(this.numUnits),
            h: new Float32Array(this.numUnits)
        };
        return result;
    };
    SketchRNN.prototype.getPDF = function (logit, temperature, softmaxTemperature) {
        if (temperature === void 0) { temperature = 0.65; }
        var temp = temperature;
        var discreteTemp = 0.5 + temp * 0.5;
        if (softmaxTemperature) {
            discreteTemp = softmaxTemperature;
        }
        var NOUT = this.NMIXTURE;
        var out = tf.tidy(function () {
            var sqrttemp = tf.scalar(Math.sqrt(temp));
            var softtemp = tf.scalar(discreteTemp);
            var z = logit;
            var _a = tf.split(z, [3, NOUT * 6], 1), rawPen = _a[0], rst = _a[1];
            var _b = tf.split(rst, 6, 1), rawPi = _b[0], mu1 = _b[1], mu2 = _b[2], rawSigma1 = _b[3], rawSigma2 = _b[4], rawCorr = _b[5];
            var pen = tf.softmax(rawPen.div(softtemp));
            var pi = tf.softmax(rawPi.div(softtemp));
            var sigma1 = tf.exp(rawSigma1).mul(sqrttemp);
            var sigma2 = tf.exp(rawSigma2).mul(sqrttemp);
            var corr = tf.tanh(rawCorr);
            var result = [pi, mu1, mu2, sigma1, sigma2, corr, pen];
            return tf.concat(result, 1);
        });
        var result = out.dataSync();
        out.dispose();
        var pdf = {
            pi: new Float32Array(result.slice(0, NOUT)),
            muX: new Float32Array(result.slice(1 * NOUT, 2 * NOUT)),
            muY: new Float32Array(result.slice(2 * NOUT, 3 * NOUT)),
            sigmaX: new Float32Array(result.slice(3 * NOUT, 4 * NOUT)),
            sigmaY: new Float32Array(result.slice(4 * NOUT, 15 * NOUT)),
            corr: new Float32Array(result.slice(5 * NOUT, 6 * NOUT)),
            pen: new Float32Array(result.slice(6 * NOUT, 6 * NOUT + 3))
        };
        return pdf;
    };
    SketchRNN.prototype.copyState = function (rnnState) {
        var result = {
            c: new Float32Array(rnnState.c),
            h: new Float32Array(rnnState.h)
        };
        return result;
    };
    SketchRNN.prototype.zeroInput = function () {
        return [0, 0, 1, 0, 0];
    };
    SketchRNN.prototype.getNMIXTURE = function () {
        return this.NMIXTURE;
    };
    SketchRNN.prototype.sample = function (pdf) {
        console.log(pdf.pi);
        var idx = support.sampleSoftmax(pdf.pi);
        var mu1 = pdf.muX[idx];
        var mu2 = pdf.muY[idx];
        var sigma1 = pdf.sigmaX[idx];
        var sigma2 = pdf.sigmaY[idx];
        var corr = pdf.corr[idx];
        var penIdx = support.sampleSoftmax(pdf.pen);
        var penstate = [0, 0, 0];
        penstate[penIdx] = 1;
        var delta = support.birandn(mu1, mu2, sigma1, sigma2, corr);
        var stroke = [
            delta[0] * this.scaleFactor,
            delta[1] * this.scaleFactor,
            penstate[0],
            penstate[1],
            penstate[2]
        ];
        return stroke;
    };
    SketchRNN.prototype.simplifyLine = function (line, tolerance) {
        return support.simplifyLine(line, tolerance);
    };
    SketchRNN.prototype.simplifyLines = function (lines, tolerance) {
        return support.simplifyLines(lines, tolerance);
    };
    SketchRNN.prototype.linesToStroke = function (lines) {
        return support.linesToStrokes(lines);
    };
    SketchRNN.prototype.lineToStroke = function (line, lastPoint) {
        return support.lineToStroke(line, lastPoint);
    };
    return SketchRNN;
}());
exports.SketchRNN = SketchRNN;


/***/ }),

/***/ 0:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1:
/*!****************************!*\
  !*** node-fetch (ignored) ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 4:
/*!********************************!*\
  !*** string_decoder (ignored) ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 5:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vZGVtb3MvcHJlZGljdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRlbnNvcmZsb3cvdGZqcy1jb252ZXJ0ZXIvZGlzdC90Zi1jb252ZXJ0ZXIuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdGVuc29yZmxvdy90ZmpzLWNvcmUvZGlzdC90Zi1jb3JlLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRlbnNvcmZsb3cvdGZqcy1kYXRhL2Rpc3QvdGYtZGF0YS5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B0ZW5zb3JmbG93L3RmanMtbGF5ZXJzL2Rpc3QvdGYtbGF5ZXJzLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRlbnNvcmZsb3cvdGZqcy9kaXN0L3RmLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvc2tldGNoX3N1cHBvcnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9za2V0Y2hfcm5uL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9za2V0Y2hfcm5uL21vZGVsLnRzIiwid2VicGFjazovLy9jcnlwdG8gKGlnbm9yZWQpIiwid2VicGFjazovLy9ub2RlLWZldGNoIChpZ25vcmVkKSIsIndlYnBhY2s6Ly8vdXRpbCAoaWdub3JlZCkiLCJ3ZWJwYWNrOi8vL2NyeXB0byAoaWdub3JlZCk/ZGRjNCIsIndlYnBhY2s6Ly8vc3RyaW5nX2RlY29kZXIgKGlnbm9yZWQpIiwid2VicGFjazovLy9mcyAoaWdub3JlZCkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQTBDLGdDQUFnQztBQUMxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdFQUF3RCxrQkFBa0I7QUFDMUU7QUFDQSx5REFBaUQsY0FBYztBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQXlDLGlDQUFpQztBQUMxRSx3SEFBZ0gsbUJBQW1CLEVBQUU7QUFDckk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7O0FBR0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ2xGQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QVMsV0FBVyw4Q0FBOEMsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsNENBQTRDLEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxtREFBbUQsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxtREFBbUQsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsK0JBQStCLEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsK0JBQStCLEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw0REFBNEQsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxtREFBbUQsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsNEJBQTRCLFVBQVUsV0FBVyw4Q0FBOEMsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxzREFBc0QsK0JBQStCLFVBQVUsMERBQTBELEVBQUUsMERBQTBELEVBQUUsRUFBRSxrREFBa0Qsa0NBQWtDLEVBQUUsa0NBQWtDLFVBQVUscURBQXFELEVBQUUsRUFBRSxxREFBcUQsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsNkRBQTZELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsNkRBQTZELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLEVBQUUsbUNBQW1DLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsdUVBQXVFLEVBQUUsdUVBQXVFLEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxpREFBaUQsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxxREFBcUQsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxtREFBbUQsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUsK0RBQStELEVBQUUscURBQXFELEVBQUUsRUFBRSxvREFBb0QsK0JBQStCLFVBQVUsMERBQTBELEVBQUUscURBQXFELEVBQUUsMkJBQTJCLFlBQVksV0FBVyxnREFBZ0Qsa0NBQWtDLEVBQUUsRUFBRSw4Q0FBOEMsa0NBQWtDLEVBQUUsa0NBQWtDLEVBQUUsRUFBRSw2Q0FBNkMsNENBQTRDLEVBQUUsRUFBRSw2Q0FBNkMsb0NBQW9DLFVBQVUscURBQXFELEVBQUUsbURBQW1ELEVBQUUsbURBQW1ELEVBQUUsRUFBRSw0Q0FBNEMsb0NBQW9DLFVBQVUscURBQXFELEVBQUUsRUFBRSxxREFBcUQsb0NBQW9DLFVBQVUscURBQXFELEVBQUUsRUFBRSxxREFBcUQsa0NBQWtDLFVBQVUseUNBQXlDLEVBQUUsd0RBQXdELEVBQUUscURBQXFELEVBQUUsNERBQTRELEVBQUUsNEVBQTRFLEVBQUUscURBQXFELEVBQUUsRUFBRSwwREFBMEQsMkNBQTJDLEVBQUUsbUNBQW1DLEVBQUUsb0NBQW9DLEVBQUUsb0NBQW9DLFVBQVUscURBQXFELEVBQUUsRUFBRSx5REFBeUQsMkNBQTJDLEVBQUUsbUNBQW1DLEVBQUUsb0NBQW9DLFVBQVUseURBQXlELEVBQUUsRUFBRSwyREFBMkQsMkNBQTJDLEVBQUUsdUNBQXVDLEVBQUUsb0NBQW9DLFVBQVUseUNBQXlDLEVBQUUsd0RBQXdELEVBQUUsRUFBRSw0REFBNEQsMkNBQTJDLEVBQUUsdUNBQXVDLEVBQUUsb0NBQW9DLEVBQUUsb0NBQW9DLFVBQVUscUNBQXFDLEVBQUUsRUFBRSwyREFBMkQsMkNBQTJDLEVBQUUsb0NBQW9DLFVBQVUseUNBQXlDLEVBQUUsdUZBQXVGLEVBQUUsRUFBRSwwREFBMEQsMkNBQTJDLEVBQUUsb0NBQW9DLEVBQUUsdUNBQXVDLEVBQUUsb0NBQW9DLFVBQVUscUNBQXFDLEVBQUUsRUFBRSx5REFBeUQsMkNBQTJDLEVBQUUsb0NBQW9DLEVBQUUsRUFBRSwwREFBMEQsMkNBQTJDLEVBQUUseUJBQXlCLFlBQVksV0FBVyxtREFBbUQsK0JBQStCLFVBQVUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUscUVBQXFFLEVBQUUsaURBQWlELEVBQUUscURBQXFELEVBQUUsRUFBRSxtREFBbUQsK0JBQStCLFVBQVUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUscUVBQXFFLEVBQUUsaURBQWlELEVBQUUscURBQXFELEVBQUUsRUFBRSw2REFBNkQsK0JBQStCLFVBQVUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUsaURBQWlELEVBQUUsdUVBQXVFLEVBQUUscURBQXFELEVBQUUsRUFBRSxxREFBcUQsK0JBQStCLFVBQVUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUscUVBQXFFLEVBQUUsaURBQWlELEVBQUUscURBQXFELEVBQUUsRUFBRSxxREFBcUQsK0JBQStCLFVBQVUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUscUVBQXFFLEVBQUUsaURBQWlELEVBQUUscURBQXFELEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUsNENBQTRDLEVBQUUsMENBQTBDLEVBQUUsd0VBQXdFLEVBQUUscURBQXFELEVBQUUsK0RBQStELEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUscURBQXFELEVBQUUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUsd0RBQXdELEVBQUUseUVBQXlFLEVBQUUsb0RBQW9ELEVBQUUsRUFBRSx3REFBd0QsK0JBQStCLEVBQUUsb0NBQW9DLEVBQUUseUNBQXlDLFVBQVUsK0NBQStDLEVBQUUscURBQXFELEVBQUUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUsbUZBQW1GLEVBQUUsMkVBQTJFLEVBQUUseUVBQXlFLEVBQUUsMkVBQTJFLEVBQUUsbUVBQW1FLEVBQUUsZ0VBQWdFLEVBQUUsRUFBRSwrREFBK0QsK0JBQStCLEVBQUUsb0NBQW9DLEVBQUUsMkNBQTJDLFVBQVUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUscUVBQXFFLEVBQUUsRUFBRSwyREFBMkQsbUNBQW1DLEVBQUUsb0NBQW9DLFVBQVUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUseUVBQXlFLEVBQUUsb0RBQW9ELEVBQUUsRUFBRSxpRUFBaUUsbUNBQW1DLEVBQUUsb0NBQW9DLFVBQVUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUseUVBQXlFLEVBQUUsb0RBQW9ELEVBQUUsRUFBRSxzRUFBc0UsK0JBQStCLEVBQUUsb0NBQW9DLEVBQUUseUNBQXlDLFVBQVUsK0NBQStDLEVBQUUscURBQXFELEVBQUUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUseUVBQXlFLEVBQUUsMkVBQTJFLEVBQUUsbUVBQW1FLEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUsZ0RBQWdELEVBQUUsMENBQTBDLEVBQUUseUVBQXlFLEVBQUUsb0RBQW9ELEVBQUUsNkJBQTZCLFlBQVksV0FBVyw2Q0FBNkMscUNBQXFDLEVBQUUsbUNBQW1DLFVBQVUscUNBQXFDLEVBQUUsRUFBRSxpREFBaUQsbUNBQW1DLEVBQUUsa0NBQWtDLEVBQUUsaUNBQWlDLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MscUNBQXFDLEVBQUUsbUNBQW1DLEVBQUUsb0RBQW9ELEVBQUUscURBQXFELFVBQVUsd0RBQXdELEVBQUUscURBQXFELEVBQUUsRUFBRSw2Q0FBNkMscUNBQXFDLFVBQVUscUNBQXFDLEVBQUUsRUFBRSxpREFBaUQsK0JBQStCLFVBQVUseUNBQXlDLEVBQUUsRUFBRSxzREFBc0QscUNBQXFDLFVBQVUsMkRBQTJELEVBQUUsMkRBQTJELEVBQUUseUNBQXlDLEVBQUUsdURBQXVELEVBQUUseUVBQXlFLEVBQUUsa0RBQWtELEVBQUUsRUFBRSw4Q0FBOEMsbUNBQW1DLEVBQUUsa0NBQWtDLEVBQUUsaURBQWlELFVBQVUsd0NBQXdDLEVBQUUsRUFBRSx3REFBd0QscUNBQXFDLFVBQVUsd0RBQXdELEVBQUUsMkRBQTJELEVBQUUsd0NBQXdDLEVBQUUseUVBQXlFLEVBQUUseUNBQXlDLEVBQUUsa0RBQWtELEVBQUUsRUFBRSw4Q0FBOEMscUNBQXFDLFVBQVUscUNBQXFDLEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLFVBQVUscUNBQXFDLEVBQUUsRUFBRSxvREFBb0Qsb0NBQW9DLEVBQUUsd0NBQXdDLFVBQVUsd0NBQXdDLEVBQUUsMENBQTBDLEVBQUUscUNBQXFDLEVBQUUsdURBQXVELEVBQUUsMEJBQTBCLFlBQVksV0FBVywyREFBMkQsbUNBQW1DLEVBQUUsb0NBQW9DLEVBQUUsMkNBQTJDLEVBQUUsMENBQTBDLEVBQUUsRUFBRSwyREFBMkQsbUNBQW1DLEVBQUUsb0NBQW9DLEVBQUUsMkNBQTJDLEVBQUUsMENBQTBDLEVBQUUsNENBQTRDLEVBQUUsRUFBRSwyREFBMkQsbUNBQW1DLEVBQUUsb0NBQW9DLEVBQUUsMkNBQTJDLEVBQUUsMENBQTBDLEVBQUUsNENBQTRDLEVBQUUsMENBQTBDLEVBQUUsRUFBRSw2Q0FBNkMsdUNBQXVDLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUseUJBQXlCLFlBQVksV0FBVyxpREFBaUQsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUsMENBQTBDLEVBQUUsNEJBQTRCLFlBQVksV0FBVyw0REFBNEQscUNBQXFDLFVBQVUseUNBQXlDLEVBQUUseUNBQXlDLEVBQUUsRUFBRSxnREFBZ0QseUNBQXlDLEVBQUUseUNBQXlDLEVBQUUsRUFBRSxrQ0FBa0MsRUFBRSw4Q0FBOEMsK0JBQStCLEVBQUUsRUFBRSwrQ0FBK0Msc0NBQXNDLEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLEVBQUUsRUFBRSwwQ0FBMEMsK0JBQStCLEVBQUUsRUFBRSwwQ0FBMEMsK0JBQStCLEVBQUUsRUFBRSwyQ0FBMkMsK0JBQStCLEVBQUUsRUFBRSw0Q0FBNEMsc0NBQXNDLEVBQUUsRUFBRSwyQ0FBMkMsK0JBQStCLEVBQUUsbUNBQW1DLFVBQVUsOENBQThDLEVBQUUsNkRBQTZELEVBQUUsaUVBQWlFLEVBQUUsRUFBRSwyQ0FBMkMsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsRUFBRSw2REFBNkQsK0JBQStCLFVBQVUsc0NBQXNDLEVBQUUsc0NBQXNDLEVBQUUsdUJBQXVCLFlBQVksV0FBVyxvREFBb0Qsb0NBQW9DLEVBQUUsb0NBQW9DLFVBQVUsdURBQXVELEVBQUUscURBQXFELEVBQUUsRUFBRSwyREFBMkQsb0NBQW9DLEVBQUUsb0NBQW9DLFVBQVUsdURBQXVELEVBQUUscURBQXFELEVBQUUsRUFBRSxtREFBbUQsbUNBQW1DLEVBQUUsbUNBQW1DLEVBQUUsb0NBQW9DLEVBQUUsd0NBQXdDLFVBQVUsNENBQTRDLEVBQUUscUVBQXFFLEVBQUUseUJBQXlCLFlBQVksV0FBVyw2Q0FBNkMsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxvREFBb0QsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw0Q0FBNEMsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxpREFBaUQsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxpREFBaUQsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSw4Q0FBOEMsdUNBQXVDLEVBQUUsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUsRUFBRSxnREFBZ0QsdUNBQXVDLEVBQUUsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUscURBQXFELEVBQUUseUJBQXlCLFlBQVksWUFBWSxxREFBcUQsK0JBQStCLEVBQUUsK0JBQStCLEVBQUUseUNBQXlDLFVBQVUsK0NBQStDLEVBQUUsbUVBQW1FLEVBQUUsZ0VBQWdFLEVBQUUsbUVBQW1FLEVBQUUsbUVBQW1FLEVBQUUscURBQXFELEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUsbUVBQW1FLEVBQUUsbUVBQW1FLEVBQUUscURBQXFELEVBQUUsRUFBRSxvREFBb0QsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUscURBQXFELEVBQUUsRUFBRSxzREFBc0QsK0JBQStCLEVBQUUsK0JBQStCLFVBQVUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUscURBQXFELEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUscURBQXFELEVBQUUsMEJBQTBCLGFBQWEsWUFBWSw0REFBNEQsK0JBQStCLEVBQUUsbUNBQW1DLEVBQUUsb0NBQW9DLEVBQUUsa0NBQWtDLEVBQUUsc0NBQXNDLFVBQVUsZ0VBQWdFLEVBQUUscUVBQXFFLEVBQUUsRUFBRSw4REFBOEQsK0JBQStCLEVBQUUsbUNBQW1DLEVBQUUsb0NBQW9DLEVBQUUsa0NBQWtDLEVBQUUsc0NBQXNDLFVBQVUsZ0VBQWdFLEVBQUUscUVBQXFFLEVBQUUsRUFBRSw4REFBOEQsK0JBQStCLEVBQUUsbUNBQW1DLEVBQUUsb0NBQW9DLEVBQUUsa0NBQWtDLEVBQUUsc0NBQXNDLFVBQVUsZ0VBQWdFLEVBQUUscUVBQXFFLEVBQUUsRUFBRSxpREFBaUQsK0JBQStCLFVBQVUsaUVBQWlFLEVBQUUsdURBQXVELEVBQUUseURBQXlELEVBQUUsd0RBQXdELEVBQUUsRUFBRSxxREFBcUQsK0JBQStCLEVBQUUsRUFBRSx3REFBd0QsK0JBQStCLEVBQUUsRUFBRSwyREFBMkQsMkNBQTJDLEVBQUUsMkNBQTJDLEVBQUUsMENBQTBDLEVBQUUsMENBQTBDLFVBQVUsNkZBQTZGLEVBQUUsK0JBQStCLGFBQWEsWUFBWSw2Q0FBNkMsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUsK0NBQStDLEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUsK0NBQStDLEVBQUUsRUFBRSw2Q0FBNkMsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUsK0NBQStDLEVBQUUsRUFBRSw2Q0FBNkMsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUsK0NBQStDLEVBQUUsRUFBRSw2Q0FBNkMsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUsK0NBQStDLEVBQUUsRUFBRSw2Q0FBNkMsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUsK0NBQStDLEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLEVBQUUsa0NBQWtDLEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLEVBQUUsa0NBQWtDLEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLEVBQUUsb0NBQW9DLFVBQVUsK0NBQStDLEVBQUUsMkJBQTJCLGFBQWEsWUFBWSxtREFBbUQsNkNBQTZDLEVBQUUsbUNBQW1DLFVBQVUsaURBQWlELEVBQUUsRUFBRSxpREFBaUQsNENBQTRDLEVBQUUsa0NBQWtDLFVBQVUsaURBQWlELEVBQUUsRUFBRSxtREFBbUQsK0JBQStCLEVBQUUscUNBQXFDLEVBQUUsaURBQWlELEVBQUUsRUFBRSxpREFBaUQsK0JBQStCLEVBQUUscUNBQXFDLFVBQVUsdURBQXVELEVBQUUsNkVBQTZFLEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsZ0RBQWdELEVBQUUsRUFBRSxvREFBb0QsK0JBQStCLEVBQUUsb0NBQW9DLEVBQUUsRUFBRSxnREFBZ0QsK0JBQStCLEVBQUUscUNBQXFDLEVBQUUsb0NBQW9DLEVBQUUsRUFBRSx1REFBdUQsK0JBQStCLEVBQUUscUNBQXFDLEVBQUUsbUNBQW1DLEVBQUUsdUNBQXVDLFVBQVUsa0VBQWtFLEVBQUUsOERBQThELEVBQUUsdUVBQXVFLEVBQUUsd0VBQXdFLEVBQUUsNkVBQTZFLEVBQUUsRUFBRSwrQ0FBK0MsNENBQTRDLFVBQVUsdURBQXVELEVBQUUsRUFBRSxpREFBaUQsb0NBQW9DLFVBQVUsdURBQXVELEVBQUUscUVBQXFFLEVBQUUsRUFBRSwrQ0FBK0MsK0JBQStCLEVBQUUsb0NBQW9DLEVBQUUsRUFBRSxnREFBZ0QsaURBQWlELEVBQUUsK0JBQStCLFVBQVUsdUVBQXVFLEVBQUUsRUFBRSxpREFBaUQsK0JBQStCLEVBQUUsK0NBQStDLEVBQUUsaURBQWlELEVBQUUsRUFBRSxvREFBb0QscUNBQXFDLEVBQUUsb0NBQW9DLEVBQUUscUNBQXFDLEVBQUUsRUFBRSxtREFBbUQsK0JBQStCLEVBQUUscUNBQXFDLEVBQUUsRUFBRSx3REFBd0QsMkNBQTJDLEVBQUUsMkNBQTJDLEVBQUUsMENBQTBDLEVBQUUsMENBQTBDLFVBQVUsNkZBQTZGLEVBQUUsMkJBQTJCLGFBQWEsWUFBWSw0Q0FBNEMsK0JBQStCLEVBQUUsRUFBRSw2Q0FBNkMsK0JBQStCLEVBQUUsRUFBRSw2Q0FBNkMsK0JBQStCLEVBQUUsd0RBQXdELEVBQUUsRUFBRSw4Q0FBOEMsK0JBQStCLEVBQUUsd0RBQXdELEVBQUUsMEJBQTBCLGFBQWEsWUFBWSxtREFBbUQsK0JBQStCLFVBQVUseURBQXlELEVBQUUsd0NBQXdDLEVBQUUsRUFBRSx5REFBeUQsK0JBQStCLEVBQUUsa0NBQWtDLEVBQUUsRUFBRSxrREFBa0QsK0JBQStCLEVBQUUsdUNBQXVDLFVBQVUsMEVBQTBFLEVBQUUsRUFBRSxvREFBb0QsK0JBQStCLEVBQUUsdUNBQXVDLEVBQUUsMERBQTBELEVBQUUsRUFBRSxzREFBc0QsK0JBQStCLEVBQUUscUNBQXFDLEVBQUUsRUFBRSxzREFBc0QsK0JBQStCLFVBQVUsMEVBQTBFLEVBQUUsRUFBRSw2REFBNkQsK0JBQStCLEVBQUUsMENBQTBDLEVBQUUsd0NBQXdDLEVBQUUsRUFBRSw2REFBNkQsK0JBQStCLEVBQUUsMENBQTBDLEVBQUUscUNBQXFDLEVBQUUsRUFBRSwyREFBMkQsK0JBQStCLFVBQVUsbURBQW1ELEVBQUUscURBQXFELEVBQUUsZ0NBQWdDLGFBQWEsNkJBQTZCLGFBQWEsNk1BQTZNLGNBQWMsR0FBRyxzQ0FBc0MseUJBQXlCLEdBQUcsRUFBRSwyQ0FBMkMsZUFBZSxpREFBaUQsK0JBQStCLDJDQUEyQyxXQUFXLGlCQUFpQixFQUFFLDRDQUE0QyxvSEFBb0gsR0FBRyxnQkFBZ0IsTUFBTSxzRkFBc0YscUJBQXFCLDZCQUE2QixXQUFXLGlDQUFpQyxnQ0FBZ0MsMENBQTBDLEVBQUUsa0RBQWtELFdBQVcsaUNBQWlDLHFDQUFxQyx1Q0FBdUMseUNBQXlDLDZEQUE2RCx1Q0FBdUMsbUNBQW1DLE9BQU8saUVBQWlFLDZDQUE2Qyx3QkFBd0IsdUJBQXVCLHdCQUF3QixHQUFHLEVBQUUsaUNBQWlDLHNEQUFzRCx3QkFBd0IsRUFBRSxPQUFPLGlGQUFpRix1Q0FBdUMsc0NBQXNDLGNBQWMsa0JBQWtCLG9FQUFvRSxrQkFBa0Isd0RBQXdELEdBQUcsR0FBRyw2REFBNkQsc0JBQXNCLGVBQWUsMkpBQTJKLE1BQU0sdUtBQXVLLE1BQU0sOEpBQThKLE1BQU0seUtBQXlLLE1BQU0scUpBQXFKLE1BQU0saUtBQWlLLE1BQU0sb0tBQW9LLE1BQU0sZ0xBQWdMLE1BQU0sd0pBQXdKLE1BQU0sb0tBQW9LLE1BQU0saUNBQWlDLDRFQUE0RSxrQkFBa0IsZUFBZSxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcseUJBQXlCLE1BQU0saUVBQUcsVUFBVSxvQ0FBb0MsdUVBQXVFLG9HQUFvRywrQkFBK0IseUVBQXlFLDJCQUEyQixpQ0FBaUMsbUJBQW1CLFdBQVcseUNBQXlDLDZCQUE2QixXQUFXLGVBQWUsK0JBQStCLGNBQWMsaUNBQWlDLDBDQUEwQyw0QkFBNEIsOENBQThDLHVDQUF1Qyx5R0FBeUcsbUNBQW1DLHdDQUF3Qyx1Q0FBdUMscUJBQXFCLDhCQUE4QixXQUFXLDJDQUEyQyxtQ0FBbUMsV0FBVywwREFBMEQsMEJBQTBCLElBQUksa0NBQWtDLDJEQUEyRCx5REFBeUQsS0FBSyxvQ0FBb0MsV0FBVyxtREFBbUQscUNBQXFDLFdBQVcsNkVBQTZFLDBDQUEwQyxJQUFJLHNDQUFzQyxtQkFBbUIsV0FBVyxvREFBb0QsNkJBQTZCLElBQUkseUNBQXlDLFdBQVcsNERBQTRELGdDQUFnQyxJQUFJLGtDQUFrQyxXQUFXLHNDQUFzQyw2QkFBNkIsa0JBQWtCLFdBQVcsd0VBQXdFLDBDQUEwQyxxQkFBcUIsNkVBQTZFLDJCQUEyQixHQUFHLEdBQUcsd0NBQXdDLGdEQUFnRCxtQ0FBbUMsNEJBQTRCLGtFQUFrRSxzRUFBc0UsMkRBQTJELHlEQUF5RCxvRUFBb0UsNkRBQTZELGlCQUFpQixzRkFBc0YscUVBQXFFLDhFQUE4RSxtRUFBbUUsdUVBQXVFLFNBQVMsR0FBRyw2QkFBNkIsYUFBYSwyQ0FBMkMsaUVBQUcscURBQXFELGtCQUFrQixrRUFBSSxrQ0FBa0MsZ0NBQWdDLGlFQUFHLHFEQUFxRCxpQkFBaUIsaUVBQUcscURBQXFELCtCQUErQixpRUFBRyxxREFBcUQsc0JBQXNCLHNFQUFRLHFEQUFxRCxzQkFBc0Isc0VBQVEscURBQXFELGlCQUFpQixpRUFBRyxxREFBcUQscUJBQXFCLHFFQUFPLHFEQUFxRCxxQkFBcUIscUVBQU8scURBQXFELGlCQUFpQixpRUFBRyxxREFBcUQsK0JBQStCLCtFQUFpQixxREFBcUQsa0VBQWtFLDZCQUE2QixhQUFhLGtDQUFrQyxpRUFBRyw0QkFBNEIsa0JBQWtCLGtFQUFJLDRCQUE0QixtQkFBbUIsbUVBQUssNEJBQTRCLGtCQUFrQixrRUFBSSw0QkFBNEIsbUJBQW1CLG1FQUFLLDRCQUE0QixrQkFBa0Isa0VBQUksNEJBQTRCLG1CQUFtQixtRUFBSyxxREFBcUQsbUJBQW1CLG1FQUFLLDRCQUE0QixrQkFBa0Isa0VBQUksNEJBQTRCLHFCQUFxQixxRUFBTywyREFBMkQsaUJBQWlCLGlFQUFHLDRCQUE0QixrQkFBa0Isa0VBQUksNEJBQTRCLGlCQUFpQixpRUFBRyw0QkFBNEIsaUJBQWlCLGlFQUFHLDRCQUE0QixpQkFBaUIsaUVBQUcsNEJBQTRCLG1CQUFtQixtRUFBSyw0QkFBNEIsbUJBQW1CLG1FQUFLLDRCQUE0QixpQkFBaUIsaUVBQUcsNEJBQTRCLG1CQUFtQixtRUFBSyw0QkFBNEIsa0JBQWtCLGtFQUFJLDRCQUE0QixpQkFBaUIsaUVBQUcsNEJBQTRCLHdCQUF3Qix3RUFBVSw0QkFBNEIsa0JBQWtCLGtFQUFJLDRCQUE0QixrQkFBa0Isa0VBQUksNEJBQTRCLG1CQUFtQixtRUFBSyw0QkFBNEIsa0JBQWtCLGtFQUFJLDRCQUE0QixxQkFBcUIscUVBQU8sNEJBQTRCLGlCQUFpQixpRUFBRyw0QkFBNEIsa0JBQWtCLGtFQUFJLDRCQUE0QixrQkFBa0Isa0VBQUksNEJBQTRCLHNCQUFzQixzRUFBUSw0QkFBNEIsa0JBQWtCLGtFQUFJLDRCQUE0QixvQkFBb0Isb0VBQU0sNEJBQTRCLGtCQUFrQixrRUFBSSw0QkFBNEIsaUJBQWlCLGlFQUFHLDRCQUE0QixxQ0FBcUMseUVBQVcsb0dBQW9HLG1CQUFtQixtRUFBSyxrQ0FBa0Msa0JBQWtCLGtFQUFJLHdEQUF3RCx1QkFBdUIsdUVBQVMseURBQXlELG1CQUFtQixtRUFBSyx5REFBeUQsa0VBQWtFLHdCQUF3QiwwQkFBMEIsc0xBQXNMLG1EQUFtRCxlQUFlLG9CQUFvQiwrQkFBK0IsdUNBQXVDLGlDQUFpQywwQkFBMEIsa0NBQWtDLDZCQUE2QiwyQkFBMkIsOEJBQThCLHNGQUFzRiwwSEFBMEgsc0JBQXNCLDBMQUEwTCw4REFBOEQsa0NBQWtDLFdBQVcseUJBQXlCLGlCQUFpQixFQUFFLGlDQUFpQyxzRkFBc0Ysb0pBQW9KLDBCQUEwQiw4TUFBOE0sMFhBQTBYLCtJQUErSSwwQ0FBMEMscUNBQXFDLFdBQVcsMExBQTBMLHdCQUF3Qix1QkFBdUIsRUFBRSxrQ0FBa0MsMEdBQTBHLE9BQU8sS0FBSyxZQUFZLGNBQWMsY0FBYyx1QkFBdUIsb0VBQU0sbUNBQW1DLHVCQUF1Qiw2R0FBNkcsbUVBQUssTUFBTSxnQ0FBZ0MsMEdBQTBHLDBCQUEwQixvRUFBTSxtQ0FBbUMsaUJBQWlCLGNBQWMsY0FBYyx1QkFBdUIsOExBQThMLG9FQUFNLE1BQU0sbUNBQW1DLDZHQUE2Ryw0SEFBNEgsNkJBQTZCLHNIQUFzSCxpQkFBaUIscUVBQU8sT0FBTyxpQ0FBaUMsV0FBVyw2R0FBNkcsNEJBQTRCLFlBQVksRUFBRSw4S0FBOEsseU5BQXlOLDRCQUE0QixrRUFBSSxZQUFZLHFCQUFxQixZQUFZLFdBQVcsS0FBSyx3Q0FBd0MsS0FBSyxtRUFBSyxnQ0FBZ0MsU0FBUyxFQUFFLGlCQUFpQixXQUFXLFdBQVcsb0JBQW9CLGlFQUFpRSxtQkFBbUIsMERBQUksMkRBQTJELDhDQUE4QyxFQUFFLHlEQUF5RCxnQ0FBZ0MsWUFBWSxXQUFXLGtEQUFrRCxTQUFTLGNBQWMsNENBQTRDLGdEQUFnRCwwRUFBMEUsb0NBQW9DLGdCQUFnQixvQkFBb0IsMkJBQTJCLHlCQUF5Qix3QkFBd0Isd0JBQXdCLHVCQUF1QixnQ0FBZ0MsZ0NBQWdDLHFDQUFxQyxxQ0FBcUMsdUNBQXVDLHdDQUF3Qyx1Q0FBdUMsc0NBQXNDLHFDQUFxQyxzQ0FBc0MsYUFBYSx1REFBdUQsdUZBQXVGLG1FQUFtRSxpREFBaUQsaUNBQWlDLHNDQUFzQyxpSEFBaUgsNEVBQTRFLGdGQUFnRixxVUFBcVUsb0VBQU0sT0FBTyxvRUFBTSxNQUFNLHVKQUF1SixvRUFBTSxNQUFNLHVIQUF1SCw0SkFBNEosNEpBQTRKLG9FQUFNLE1BQU0sNkhBQTZILDBKQUEwSixvRUFBTSxNQUFNLGdGQUFnRixvRUFBTSxxQkFBcUIsOEZBQThGLG9FQUFNLE1BQU0sa0VBQWtFLEVBQUUsRUFBRSw2QkFBNkIsYUFBYSxrS0FBa0ssT0FBTyxvRUFBTSxrRUFBa0UsNkhBQTZILHVDQUF1QyxPQUFPLG9FQUFNLHNGQUFzRiw4TEFBOEwsTUFBTSxxSUFBcUksaUhBQWlILDhGQUE4RixtSkFBbUosZ0RBQWdELDhCQUE4QiwyREFBSyxRQUFRLDJEQUFLLG1CQUFtQiwwS0FBMEssR0FBRyx5RkFBeUYsOERBQThELE9BQU8sNkVBQWUsMEVBQTBFLHFNQUFxTSxPQUFPLDZFQUFlLDBGQUEwRixnS0FBZ0ssT0FBTyxvRUFBTSxnR0FBZ0csNEVBQTRFLHdDQUF3QyxPQUFPLHFFQUFPLHNEQUFzRCxnSEFBZ0gsT0FBTyxxRUFBTyxzREFBc0QsMEhBQTBILG1EQUFtRCwrRUFBaUIsdURBQXVELDJCQUEyQixrSEFBa0gsT0FBTyx1RUFBUyxnRUFBZ0Usa0hBQWtILE9BQU8sdUVBQVMsZ0VBQWdFLGtFQUFrRSw2QkFBNkIsYUFBYSw0R0FBNEcsT0FBTyxrRUFBSSxTQUFTLDZHQUE2RyxPQUFPLHNFQUFRLFNBQVMsd0hBQXdILE9BQU8seUVBQVcsU0FBUyxvSkFBb0osT0FBTyxvRUFBTSxXQUFXLGtCQUFrQixrRUFBSSw2REFBNkQsc0JBQXNCLHNFQUFRLDRCQUE0QiwyQkFBMkIsMkVBQWEseUhBQXlILDJDQUEyQyxnRUFBZ0UsT0FBTyxtRUFBSyxzQ0FBc0MscURBQXFELGtFQUFrRSw4QkFBOEIsT0FBTyw2RUFBZSx3Q0FBd0MsbUJBQW1CLG1FQUFLLDZEQUE2RCx1QkFBdUIsdUVBQVMsNEJBQTRCLGtFQUFrRSw0Q0FBNEMsa0RBQWtELG9CQUFvQixvQ0FBb0MsZ0JBQWdCLG9CQUFvQiwwRkFBMEYsd0JBQXdCLDJCQUEyQixZQUFZLCtRQUErUSwyREFBSyxnREFBZ0QsaUVBQWlFLGdCQUFnQiwyREFBSyxvQ0FBb0MsNEJBQTRCLG1FQUFtRSx3RUFBVSxLQUFLLDZDQUE2QyxnQkFBZ0IsNEVBQWMscURBQXFELGlFQUFpRSxFQUFFLEVBQUUsNkJBQTZCLGFBQWEseUdBQXlHLGtFQUFJLFFBQVEsMkJBQTJCLGtFQUFrRSw2QkFBNkIsYUFBYSw2QkFBNkIsa0VBQWtFLGlDQUFpQyxnREFBZ0QseUdBQXlHLGdFQUFnRSxpQkFBaUIsRUFBRSx3REFBd0QsbUJBQW1CLHNFQUFRLDBDQUEwQyw2REFBNkQsT0FBTyxzRUFBUSxVQUFVLEVBQUUsa0JBQWtCLG9FQUFNLHlDQUF5QyxrQkFBa0Isb0VBQU0seUNBQXlDLGtCQUFrQixvRUFBTSxLQUFLLDZJQUE2SSw4SEFBOEgsWUFBWSxXQUFXLHdFQUF3RSxVQUFVLGtFQUFrRSw2QkFBNkIsYUFBYSw2SEFBNkgsT0FBTywyREFBSyxrQ0FBa0MsZ0lBQWdJLE9BQU8sMkRBQUsseUNBQXlDLG9PQUFvTyxPQUFPLDJEQUFLLDZCQUE2QixrRUFBa0UsNkJBQTZCLGFBQWEsbUJBQW1CLG1FQUFLLHFEQUFxRCxzQkFBc0Isc0VBQVEscURBQXFELHFCQUFxQixxRUFBTyxxREFBcUQsMEJBQTBCLDBFQUFZLHFEQUFxRCxrQkFBa0Isa0VBQUkscURBQXFELHVCQUF1Qix1RUFBUyxxREFBcUQsd0JBQXdCLHdFQUFVLHFEQUFxRCx3QkFBd0Isd0VBQVUsNEJBQTRCLHVCQUF1Qix1RUFBUyxxREFBcUQsbUNBQW1DLG1FQUFLLHNGQUFzRixrRUFBa0UsOEJBQThCLGFBQWEsMERBQTBELG9FQUFNLHlIQUF5SCx1QkFBdUIsdUVBQVMsd0RBQXdELHNJQUFzSSxNQUFNLGtIQUFrSCw4RkFBOEYsZ0RBQWdELE9BQU8sMkRBQUssU0FBUyw2TEFBNkwsR0FBRyxrRUFBa0UsOEJBQThCLGFBQWEsMEVBQTBFLHVFQUFTLGtMQUFrTCxpQkFBaUIsd0ZBQTBCLCtJQUErSSxxQkFBcUIscUVBQU8sNEJBQTRCLHdCQUF3Qix3RUFBVSw0QkFBNEIsMkJBQTJCLDJFQUFhLG1KQUFtSixrRUFBa0UsOEJBQThCLGFBQWEsOEVBQThFLE9BQU8saUVBQUcsZ0NBQWdDLDJFQUEyRSxPQUFPLGtFQUFJLGdDQUFnQywwRUFBMEUsT0FBTyxpRUFBRyxnQ0FBZ0MsMEVBQTBFLE9BQU8saUVBQUcsZ0NBQWdDLDBFQUEwRSxPQUFPLGlFQUFHLGdDQUFnQywwRUFBMEUsT0FBTyxpRUFBRyxnQ0FBZ0MsMkNBQTJDLE9BQU8sb0VBQU0sOEJBQThCLDJDQUEyQyxPQUFPLG9FQUFNLDhCQUE4QiwyRUFBMkUsT0FBTyxrRUFBSSxnQ0FBZ0Msa0VBQWtFLDhCQUE4QixhQUFhLDBIQUEwSCx1QkFBdUIsb0VBQU0sT0FBTywwREFBMEQsZ0VBQWdFLE9BQU8sb0VBQU0seUJBQXlCLHVGQUF1RixPQUFPLHFFQUFPLE9BQU8sNkVBQTZFLE9BQU8sbUVBQUssZ0NBQWdDLGtEQUFrRCxvUkFBb1IsOENBQThDLGlCQUFpQiw4Q0FBOEMsT0FBTywwRUFBWSxxQkFBcUIsa0JBQWtCLGtFQUFJLFlBQVksMkhBQTJILE1BQU0sMERBQUksd0JBQXdCLFFBQVEsMERBQUksNEZBQTRGLHdCQUF3QixFQUFFLE9BQU8sbUVBQUssT0FBTyxFQUFFLG9CQUFvQixrRUFBSSxZQUFZLGtFQUFrRSxPQUFPLHFFQUFPLE1BQU0sRUFBRSw2Q0FBNkMsT0FBTyxrRUFBSSw4QkFBOEIsdURBQXVELDZDQUE2QyxPQUFPLG1FQUFLLCtCQUErQixpREFBaUQsbUVBQW1FLE9BQU8sdUVBQVMsU0FBUyw4Q0FBOEMsaUNBQWlDLE9BQU8sc0VBQVEsT0FBTyxnR0FBZ0csZ0ZBQWdGLE9BQU8sMkVBQWEsK0NBQStDLGtFQUFrRSw4QkFBOEIsYUFBYSxpQkFBaUIsaUVBQUcsNEJBQTRCLGtCQUFrQixrRUFBSSw0QkFBNEIsa0JBQWtCLGtFQUFJLDRCQUE0QixtQkFBbUIsbUVBQUssNEJBQTRCLGtFQUFrRSw4QkFBOEIsYUFBYSxrQkFBa0Isa0VBQUkseURBQXlELG1EQUFtRCxPQUFPLHdFQUFVLDhCQUE4Qiw0Q0FBNEMsT0FBTyxxRUFBTyw4QkFBOEIscUJBQXFCLHFFQUFPLHlEQUF5RCw2QkFBNkIsaUVBQUcsMkdBQTJHLDBHQUEwRyxPQUFPLDRFQUFjLGdDQUFnQyx5REFBeUQsOENBQThDLE9BQU8sNEVBQWMsZ0NBQWdDLDRHQUE0RyxPQUFPLDBFQUFZLGdDQUFnQyxtRUFBbUUsNkJBQTZCLHNCQUFzQixtQkFBbUIsd0JBQXdCLGtFQUFJLFlBQVksd0JBQXdCLEVBQUUsd0JBQXdCLGtFQUFJLFlBQVksMEJBQTBCLEVBQUUsd0NBQXdDLHlCQUF5QixrRUFBSSxZQUFZLDBCQUEwQixFQUFFLHNCQUFzQixrRUFBSSxZQUFZLDBCQUEwQixFQUFFLHdDQUF3Qyx3QkFBd0Isa0VBQUksWUFBWSwwQkFBMEIsRUFBRSxtQkFBbUIsa0VBQUksWUFBWSwwQkFBMEIsRUFBRSxtQkFBbUIsa0VBQUksWUFBWSwwQkFBMEIsRUFBRSxxQkFBcUIsa0VBQUksWUFBWSwwQkFBMEIsRUFBRSxzQkFBc0Isa0VBQUksWUFBWSwyQkFBMkIsRUFBRSwyQkFBMkIsa0VBQUksWUFBWSwyQkFBMkIsRUFBRSx1QkFBdUIsa0VBQUksWUFBWSwyQkFBMkIsRUFBRSx3QkFBd0Isa0VBQUksWUFBWSwyQkFBMkIsRUFBRSxzQkFBc0Isa0VBQUksWUFBWSwyQkFBMkIsRUFBRSw0QkFBNEIsa0VBQUksWUFBWSwyQkFBMkIsRUFBRSx5Q0FBeUMseUVBQXlFLHlEQUF5RCxvTEFBb0wsUUFBUSwrQ0FBK0MsbUJBQW1CLGVBQWUsZ0NBQWdDLGdCQUFnQix5REFBeUQsZ0NBQWdDLGlGQUFpRiwwQ0FBMEMsT0FBTyxnQ0FBZ0MscURBQXFELGVBQWUscUJBQXFCLGlCQUFpQixzRUFBc0UsK0JBQStCLHdEQUF3RCxlQUFlLGtDQUFrQywrQkFBK0IseURBQXlELGVBQWUsK0JBQStCLCtCQUErQixtREFBbUQsaUJBQWlCLHlCQUF5QixLQUFLLG9EQUFvRCxxQ0FBcUMscUNBQXFDLDhDQUE4QywyQkFBMkIsb0VBQW9FLGVBQWUsb0NBQW9DLDhMQUE4TCxrQ0FBa0MsdUdBQXVHLDRGQUE0RixzQ0FBc0MscUhBQXFILGtEQUFrRCxzQkFBc0Isd0NBQXdDLDRJQUE0SSxtQ0FBbUMseUJBQXlCLHdDQUF3Qyw0QkFBNEIsd0NBQXdDLDhCQUE4QixHQUFHLEdBQUcscUNBQXFDLGdGQUFnRiwyQkFBMkIsY0FBYyxXQUFXLEVBQUUsY0FBYyxrRkFBa0YsY0FBYyxxQkFBcUIsZ0JBQWdCLDZHQUE2Ryx5Q0FBeUMsbUJBQW1CLE9BQU8sMkVBQTJFLDJDQUEyQyxrQ0FBa0MsK0JBQStCLDJCQUEyQixrQkFBa0Isa0JBQWtCLHNCQUFzQix5QkFBeUIsZ0NBQWdDLHlCQUF5QixFQUFFLHVCQUF1QixXQUFXLEVBQUUsY0FBYyxrRUFBa0UsMERBQTBELHFCQUFxQixhQUFhLEVBQUUsU0FBUyxxS0FBcUssMEJBQTBCLHlDQUF5QywyQkFBMkIsMENBQTBDLDZCQUE2QixjQUFjLHdEQUF3RCw4RkFBOEYsc0RBQXNELGVBQWUsdUJBQXVCLGlCQUFpQixxQ0FBcUMsNEJBQTRCLFlBQVksRUFBRSxFQUFFLHVEQUF1RCwrQkFBK0IsOENBQThDLGVBQWUsb0NBQW9DLE9BQU8sK0hBQStILEVBQUUsK0JBQStCLCtDQUErQyxlQUFlLHFDQUFxQyxPQUFPLCtIQUErSCxFQUFFLCtCQUErQixrREFBa0QsZUFBZSxvQ0FBb0MsOEJBQThCLEVBQUUsK0JBQStCLG1EQUFtRCxlQUFlLHFDQUFxQyw4QkFBOEIsRUFBRSwrQkFBK0IsOENBQThDLHdCQUF3QixjQUFjLDZCQUE2QixjQUFjLFNBQVMsMERBQTBELG1DQUFtQyxnR0FBZ0csK05BQStOLGVBQWUsd0JBQXdCLGNBQWMsbUJBQW1CLDhIQUE4SCwrREFBK0QsbUNBQW1DLFdBQVcsb0JBQW9CLDRCQUE0Qiw2RkFBNkYsd0JBQXdCLDBDQUEwQyxzQkFBc0IsMENBQTBDLDBEQUEwRCx5REFBeUQsU0FBUyxPQUFPLGtFQUFJLFlBQVksd0RBQXdELGNBQWMsbUNBQW1DLG1DQUFtQyxvQkFBb0IsRUFBRSxzQ0FBc0MsS0FBSyxXQUFXLEtBQUssV0FBVyxlQUFlLDBCQUEwQiwySUFBMkksMERBQTBELHlCQUF5Qix3QkFBd0IsRUFBRSxFQUFFLDRDQUE0Qyx3REFBd0QsWUFBWSxrQkFBa0IseUJBQXlCLFlBQVksRUFBRSxHQUFHLGtCQUFrQiw0REFBNEQscUVBQXFFLGtEQUFrRCwrQkFBK0IsMkJBQTJCLCtDQUErQywrQkFBK0Isb0JBQW9CLGNBQWMsdURBQXVELEdBQUcsR0FBRyx3Q0FBd0MsK0NBQStDLHVCQUF1QixvQ0FBb0MsZ0JBQWdCLG1JQUFtSSxrRkFBa0YsNkNBQTZDLHdCQUF3Qiw4QkFBOEIsWUFBWSw0Q0FBNEMsZUFBZSxzQ0FBc0MseUJBQXlCLHdGQUF3RixFQUFFLFNBQVMsRUFBRSxFQUFFLG9EQUFvRCwrQ0FBK0MsMkNBQTJDLG9DQUFvQyxnQkFBZ0IsNENBQTRDLDBDQUEwQyxzQkFBc0IsMENBQTBDLDJKQUEySixPQUFPLGtDQUFrQyxlQUFlLG9EQUFvRCxtQ0FBbUMsb0JBQW9CLE1BQU0sa0NBQWtDLFdBQVcsMkZBQTJGLDZCQUE2QiwyTEFBMkwsZ0RBQWdELGtCQUFrQixjQUFjLHlRQUF5USxhQUFhLEVBQUUsRUFBRSxzREFBc0QsaUNBQWlDLGNBQWMsNEJBQTRCLFNBQVMsa0lBQWtJLCtCQUErQiw2Q0FBNkMsdUJBQXVCLCtDQUErQyxzSEFBc0gsK0ZBQStGLDJDQUEyQyxRQUFRLFdBQVcsS0FBSyxTQUFTLHFEQUFxRCwrQkFBK0IsdUNBQXVDLG9FQUFvRSx5QkFBeUIsb0JBQW9CLGlDQUFpQyxrQ0FBa0MseUJBQXlCLG9CQUFvQixpQ0FBaUMsSUFBSSxFQUFFLGdDQUFnQyxXQUFXLGdEQUFnRCwwQ0FBMEMsbUJBQW1CLEVBQUUsRUFBRSxnREFBZ0QsV0FBVyxtQ0FBbUMsb0RBQW9ELGlEQUFpRCx3RkFBd0YsMEJBQTBCLEVBQUUsMERBQUkscUJBQXFCLCtHQUErRyxFQUFFLDhDQUE4QywwREFBSSxzREFBc0QsK0hBQStILEVBQUUsRUFBRSxtQ0FBbUMsU0FBUyxnQkFBZ0IsK0hBQStILGVBQWUsU0FBUyxxQ0FBcUMsK0NBQStDLDBCQUEwQiw4QkFBOEIsRUFBRSx1SEFBdUgsb0NBQW9DLFdBQVcseUJBQXlCLG9IQUFvSCxHQUFHLEVBQUUsc0NBQXNDLFdBQVcsc0JBQXNCLDBCQUEwQixxRkFBcUYsRUFBRSxHQUFHLGdHQUFnRyxnQkFBZ0IsaUJBQWlCLHFGQUFxRixFQUFFLHlEQUF5RCxlQUFlLG9CQUFvQiwrQkFBK0Isa0RBQWtELGVBQWUsZ0NBQWdDLCtCQUErQixtREFBbUQsZUFBZSxpQ0FBaUMsK0JBQStCLDhDQUE4QyxlQUFlLDRCQUE0QiwrQkFBK0IsK0NBQStDLGVBQWUsNkJBQTZCLCtCQUErQiwrQ0FBK0MsZUFBZSwrQkFBK0IsK0JBQStCLHVDQUF1QyxvQkFBb0IsK0JBQStCLHdEQUF3RCx3REFBRSx3Q0FBd0MsS0FBSyxNQUFNLHdEQUFFLGdEQUFnRCx1QkFBdUIsd0RBQUUseUNBQXlDLHlHQUF5RyxtQkFBbUIsNkJBQTZCLCtDQUErQyxZQUFZLG9DQUFvQyxnQkFBZ0Isd0xBQXdMLHNDQUFzQyxzRUFBc0UsMEpBQTBKLHdEQUFFLHdOQUF3TixFQUFFLEVBQUUsZ0NBQWdDLCtDQUErQyxNQUFNLG9DQUFvQyx1QkFBdUIsVUFBVSx3REFBRSw2RkFBNkYsa0dBQWtHLE9BQU8sK0lBQStJLGlDQUFpQyxFQUFFLEVBQUUsbUNBQW1DLHdDQUF3Qyx5Q0FBeUMsa0JBQWtCLDREQUFNLDZCQUE2QixzTkFBc04sOENBQThDLG1CQUFtQixHQUFHLEVBQUUsMENBQTBDLG9EQUFvRCxtQ0FBbUMscURBQXFELGlDQUFpQyx5QkFBeUIsd0NBQXdDLCtDQUErQyxNQUFNLG9DQUFvQyxnQkFBZ0IsdUdBQXVHLCtDQUErQyxFQUFFLEVBQUUsc0RBQXNELDJDQUEyQyxxQkFBcUIsR0FBRyxFQUFFLGdDQUFnQyx3QkFBd0IsR0FBRyxHQUFHLDZCQUE2Qix3QkFBd0IsMENBQTBDLE1BQU0sb0NBQW9DLGdCQUFnQiw0SUFBNEkscUJBQXFCLHlJQUF5SSw4QkFBOEIsRUFBRSxFQUFFLG9CQUEyRztBQUNqbjdGOzs7Ozs7Ozs7Ozs7OztBQ2pCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FB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QTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ3NZLCtCQUErQixZQUFZLGtFQUFZLGFBQWEsa0VBQVksZUFBZSxzRUFBYyxrQkFBa0IsNEVBQWlCLGVBQTRDO0FBQ2xrQjs7Ozs7Ozs7Ozs7OztBQ0ZZOztBQUVaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0MsU0FBUztBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ3RKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSxXQUFXOztBQUVuQjtBQUNBO0FBQ0E7QUFDQSxRQUFRLFdBQVc7O0FBRW5CO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLFdBQVc7O0FBRW5CO0FBQ0E7QUFDQSxRQUFRLFVBQVU7O0FBRWxCO0FBQ0E7Ozs7Ozs7Ozs7OztBQ25GQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVZOztBQUVaLGFBQWEsbUJBQU8sQ0FBQyxvREFBVztBQUNoQyxjQUFjLG1CQUFPLENBQUMsZ0RBQVM7QUFDL0IsY0FBYyxtQkFBTyxDQUFDLGdEQUFTOztBQUUvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFtRDtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSx1Q0FBdUMsU0FBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsaUJBQWlCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxFQUFFO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdCQUF3QixRQUFRO0FBQ2hDO0FBQ0EscUJBQXFCLGVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0JBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxPQUFPO0FBQzlEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjtBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsU0FBUztBQUM1QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsWUFBWTtBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUM1dkRBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxtQkFBTyxDQUFDLGlFQUFjO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQzlEQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDOztBQUVyQztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRC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QUFDLENBQUMsQ0FBQztTQUNaLENBQUM7UUFDRixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBVUQsZ0NBQVksR0FBWixVQUFhLElBQWdCLEVBQUUsU0FBa0I7UUFDL0MsT0FBTyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBVUQsaUNBQWEsR0FBYixVQUFjLEtBQW1CLEVBQUUsU0FBa0I7UUFDbkQsT0FBTyxPQUFPLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBU0QsaUNBQWEsR0FBYixVQUFjLEtBQW1CO1FBQy9CLE9BQU8sT0FBTyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBVUQsZ0NBQVksR0FBWixVQUFhLElBQWdCLEVBQUUsU0FBbUI7UUFDaEQsT0FBTyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUgsZ0JBQUM7QUFBRCxDQUFDO0FBeFdZLDhCQUFTOzs7Ozs7Ozs7Ozs7QUNoR3RCLGU7Ozs7Ozs7Ozs7O0FDQUEsZTs7Ozs7Ozs7Ozs7QUNBQSxlOzs7Ozs7Ozs7OztBQ0FBLGU7Ozs7Ozs7Ozs7O0FDQUEsZTs7Ozs7Ozs7Ozs7QUNBQSxlIiwiZmlsZSI6InByZWRpY3RfYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9kZW1vcy9wcmVkaWN0LmpzXCIpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuIC8qKlxuICogQXV0aG9yOiBEYXZpZCBIYSA8aGFkYXZpZEBnb29nbGUuY29tPlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQmFzaWMgcDUuanMgc2tldGNoIHRvIHNob3cgaG93IHRvIHVzZSBza2V0Y2gtcm5uXG4gKiB0byBmaW5pc2ggYSBmaXhlZCBpbmNvbXBsZXRlIGRyYXdpbmdzLCBhbmQgbG9vcCB0aHJvdWdoIG11bHRpcGxlXG4gKiBlbmRpbmdzIGF1dG9tYXRpY2FsbHkuXG4gKi9cblxuaW1wb3J0ICogYXMgbXMgZnJvbSAnLi4vc3JjL2luZGV4JztcblxuY29uc3Qgc2tldGNoID0gZnVuY3Rpb24ocCkge1xuICAvLyBBdmFpbGFibGUgU2tldGNoUk5OIG1vZGVscy5cbiAgY29uc3QgQkFTRV9VUkwgPSAnaHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tL3F1aWNrZHJhdy1tb2RlbHMvc2tldGNoUk5OL21vZGVscy8nO1xuICBjb25zdCBhdmFpbGFibGVNb2RlbHMgPSBbJ2JpcmQnLCdhbnQnLCdhbmdlbCcsJ2JlZScsJ2JpY3ljbGUnLCdmbGFtaW5nbycsJ2Zsb3dlcicsJ21vc3F1aXRvJywnb3dsJywnc3BpZGVyJywneW9nYSddO1xuICBsZXQgbW9kZWw7XG5cbiAgLy8gTW9kZWwgc3RhdGUuXG4gIGxldCBtb2RlbFN0YXRlOyAvLyBTdG9yZSB0aGUgaGlkZGVuIHN0YXRlcyBvZiBybm4ncyBuZXVyb25zLlxuICBsZXQgdGVtcGVyYXR1cmUgPSAwLjI1OyAvLyBDb250cm9scyB0aGUgYW1vdW50IG9mIHVuY2VydGFpbnR5IG9mIHRoZSBtb2RlbC5cbiAgbGV0IG1vZGVsTG9hZGVkID0gZmFsc2U7XG5cbiAgbGV0IGR4LCBkeTsgLy8gT2Zmc2V0cyBvZiB0aGUgcGVuIHN0cm9rZXMsIGluIHBpeGVscy5cbiAgbGV0IHgsIHk7IC8vIEFic29sdXRlIGNvb3JkaW5hdGVzIG9uIHRoZSBzY3JlZW4gb2Ygd2hlcmUgdGhlIHBlbiBpcy5cbiAgbGV0IHBlbiA9IFswLDAsMF07IC8vIEN1cnJlbnQgcGVuIHN0YXRlLCBbcGVuX2Rvd24sIHBlbl91cCwgcGVuX2VuZF0uXG4gIGxldCBwcmV2aW91c1BlbiA9IFsxLCAwLCAwXTsgLy8gUHJldmlvdXMgcGVuIHN0YXRlLlxuICBjb25zdCBQRU4gPSB7RE9XTjogMCwgVVA6IDEsIEVORDogMn07XG5cbiAgLypcbiAgICogTWFpbiBwNSBjb2RlXG4gICAqL1xuICBwLnNldHVwID0gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgY29udGFpbmVyU2l6ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdza2V0Y2gnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBJbml0aWFsaXplIHRoZSBjYW52YXMuXG4gICAgY29uc3Qgc2NyZWVuV2lkdGggPSBNYXRoLmZsb29yKGNvbnRhaW5lclNpemUud2lkdGgpO1xuICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IHAud2luZG93SGVpZ2h0IC8gMjtcbiAgICBwLmNyZWF0ZUNhbnZhcyhzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICBwLmZyYW1lUmF0ZSg0KTtcblxuICAgIHNldHVwTmV3RHJhd2luZygpO1xuICAgIGluaXRNb2RlbCgwKTtcbiAgICBpbml0RE9NRWxlbWVudHMoKTtcbiAgfTtcblxuICBwLmRyYXcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIW1vZGVsTG9hZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgZmluaXNoZWQgdGhlIHByZXZpb3VzIGRyYXdpbmcsIHN0YXJ0IGEgbmV3IG9uZS5cbiAgICBpZiAocHJldmlvdXNQZW5bUEVOLkVORF0gPT09IDEpIHtcbiAgICAgIHJlc3RhcnQoKTtcbiAgICB9XG5cbiAgICAvLyBOZXcgc3RhdGUuXG4gICAgY29uc3QgcGRmID0gbW9kZWwuZ2V0UERGKG1vZGVsU3RhdGUsIHRlbXBlcmF0dXJlKTtcbiAgICBbZHgsIGR5LCAuLi5wZW5dID0gbW9kZWwuc2FtcGxlKHBkZik7XG5cbiAgICAvLyBPbmx5IGRyYXcgb24gdGhlIHBhcGVyIGlmIHRoZSBwZW4gaXMgc3RpbGwgdG91Y2hpbmcgdGhlIHBhcGVyLlxuICAgIGlmIChwcmV2aW91c1BlbltQRU4uRE9XTl0gPT0gMSkge1xuICAgICAgcC5saW5lKHgsIHksIHgrZHgsIHkrZHkpOyAvLyBEcmF3IGxpbmUgY29ubmVjdGluZyBwcmV2IHBvaW50IHRvIGN1cnJlbnQgcG9pbnQuXG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBhYnNvbHV0ZSBjb29yZGluYXRlcyBmcm9tIHRoZSBvZmZzZXRzXG4gICAgeCArPSBkeDtcbiAgICB5ICs9IGR5O1xuXG4gICAgLy8gVXBkYXRlIHRoZSBwcmV2aW91cyBwZW4ncyBzdGF0ZSB0byB0aGUgY3VycmVudCBvbmUgd2UganVzdCBzYW1wbGVkLlxuICAgIHByZXZpb3VzUGVuID0gcGVuO1xuICAgIG1vZGVsU3RhdGUgPSBtb2RlbC51cGRhdGUoW2R4LCBkeSwgLi4ucGVuXSwgbW9kZWxTdGF0ZSk7XG4gIH07XG4gICAvKlxuICAgKiBIZWxwZXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVzdGFydCgpIHtcbiAgICAvLyBJbml0aWFsIHN0cm9rZXMgdGhhdCB3ZSB3aWxsIGF0dGVtcHQgdG8gY29udGludWUuXG4gICAgY29uc3Qgc3Ryb2tlcyA9IFtbLTQsMCwxLDAsMF0sWy0xNSw5LDEsMCwwXSxbLTEwLDE3LDEsMCwwXSxbLTEsMjgsMSwwLDBdLFsxNCwxMywxLDAsMF0sWzEyLDQsMSwwLDBdLFsyMiwxLDEsMCwwXSxbMTQsLTExLDEsMCwwXSxbNSwtMTIsMSwwLDBdLFsyLC0xOSwxLDAsMF0sWy0xMiwtMjMsMSwwLDBdLFstMTMsLTcsMSwwLDBdLFstMTQsLTEsMCwxLDBdXTtcblxuICAgIC8vIERyYXcgc3Ryb2tlcy5cbiAgICBzZXR1cE5ld0RyYXdpbmcoKTtcbiAgICBjb25zdCBsYXN0UG9pbnQgPSBkcmF3U3Ryb2tlcyhzdHJva2VzLCB4LCB5KTtcblxuICAgIC8vIEVuY29kZSB0aGUgc3Ryb2tlcyBpbiB0aGUgbW9kZWwuXG4gICAgbGV0IG5ld1N0YXRlID0gbW9kZWwuemVyb1N0YXRlKCk7XG4gICAgbmV3U3RhdGUgPSBtb2RlbC51cGRhdGUobW9kZWwuemVyb0lucHV0KCksIG5ld1N0YXRlKTtcbiAgICBuZXdTdGF0ZSA9IG1vZGVsLnVwZGF0ZVN0cm9rZXMoc3Ryb2tlcywgbmV3U3RhdGUpO1xuXG4gICAgLy8gUmVzZXQgdGhlIGFjdHVhbCBtb2RlbCB3ZSdyZSB1c2luZyB0byB0aGlzIG9uZSB0aGF0IGhhcyB0aGUgZW5jb2RlZCBzdHJva2VzLlxuICAgIG1vZGVsU3RhdGUgPSBtb2RlbC5jb3B5U3RhdGUobmV3U3RhdGUpO1xuXG4gICAgLy8gUmVzZXQgdGhlIHBlbiBzdGF0ZS5cbiAgICB4ID0gbGFzdFBvaW50WzBdO1xuICAgIHkgPSBsYXN0UG9pbnRbMV07XG4gICAgcHJldmlvdXNQZW4gPSBbMCwgMSwgMF07XG5cbiAgICAvLyBSZXNldCB0aGUgbGluZSBjb2xvdXIuXG4gICAgcC5zdHJva2UocC5jb2xvcihwLnJhbmRvbSg2NCwgMjI0KSwgcC5yYW5kb20oNjQsIDIyNCksIHAucmFuZG9tKDY0LCAyMjQpKSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gc2V0dXBOZXdEcmF3aW5nKCkge1xuICAgIHAuYmFja2dyb3VuZCgyNTUsIDI1NSwgMjU1LCAyNTUpO1xuICAgIHAuc3Ryb2tlV2VpZ2h0KDMuMCk7XG4gICAgeCA9IHAud2lkdGggLyAyLjA7XG4gICAgeSA9IHAuaGVpZ2h0IC8gMy4wO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE1vZGVsKGluZGV4KSB7XG4gICAgbW9kZWxMb2FkZWQgPSBmYWxzZTtcbiAgICBpZiAobW9kZWwpIHtcbiAgICAgIG1vZGVsLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgbW9kZWwgPSBuZXcgbXMuU2tldGNoUk5OKGAke0JBU0VfVVJMfSR7YXZhaWxhYmxlTW9kZWxzW2luZGV4XX0uZ2VuLmpzb25gKTtcblxuICAgIFByb21pc2UuYWxsKFttb2RlbC5pbml0aWFsaXplKCldKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgbW9kZWxMb2FkZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5sb2coJ1NrZXRjaFJOTiBtb2RlbCBsb2FkZWQuJyk7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgdGhlIHNjYWxlIGZhY3RvciBmb3IgdGhlIG1vZGVsLiBCaWdnZXIgLT4gbGFyZ2Ugb3V0cHV0c1xuICAgICAgbW9kZWwuc2V0UGl4ZWxGYWN0b3IoNS4wKTtcbiAgICAgIHJlc3RhcnQoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUaGlzIGlzIHZlcnkgc2ltaWxhciB0byB0aGUgcC5kcmF3KCkgbG9vcCwgYnV0IGluc3RlYWQgb2ZcbiAgLy8gc2FtcGxpbmcgZnJvbSB0aGUgbW9kZWwsIGl0IHVzZXMgdGhlIGdpdmVuIHNldCBvZiBzdHJva2VzLlxuICBmdW5jdGlvbiBkcmF3U3Ryb2tlcyhzdHJva2VzLCBzdGFydFgsIHN0YXJ0WSkge1xuICAgIHAuc3Ryb2tlKHAuY29sb3IoMjU1LDAsMCkpO1xuXG4gICAgbGV0IHggPSBzdGFydFg7XG4gICAgbGV0IHkgPSBzdGFydFk7XG4gICAgbGV0IGR4LCBkeTtcbiAgICBsZXQgcGVuID0gWzAsMCwwXSwgcHJldmlvdXNQZW4gPSBbMCwwLDBdO1xuICAgIGZvciggbGV0IGkgPSAwOyBpIDwgc3Ryb2tlcy5sZW5ndGg7IGkrKykge1xuICAgICAgW2R4LCBkeSwgLi4ucGVuXSA9IHN0cm9rZXNbaV07XG5cbiAgICAgIGlmIChwcmV2aW91c1BlbltQRU4uRU5EXSA9PSAxKSB7IC8vIEVuZCBvZiBkcmF3aW5nLlxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy8gT25seSBkcmF3IG9uIHRoZSBwYXBlciBpZiB0aGUgcGVuIGlzIHN0aWxsIHRvdWNoaW5nIHRoZSBwYXBlci5cbiAgICAgIGlmIChwcmV2aW91c1BlbltQRU4uRE9XTl0gPT0gMSkge1xuICAgICAgICBwLmxpbmUoeCwgeSwgeCtkeCwgeStkeSk7XG4gICAgICB9XG4gICAgICB4ICs9IGR4O1xuICAgICAgeSArPSBkeTtcbiAgICAgIHByZXZpb3VzUGVuID0gcGVuO1xuICAgIH1cbiAgICByZXR1cm4gW3gsIHldOyAvLyBGaW5hbCBjb29yZGluYXRlcy5cbiAgfTtcblxuICBmdW5jdGlvbiBpbml0RE9NRWxlbWVudHMoKSB7XG4gICAgLy8gU2V0dXAgdGhlIERPTSBiaXRzLlxuICAgIHNlbGVjdE1vZGVscy5pbm5lckhUTUwgPSBhdmFpbGFibGVNb2RlbHMubWFwKG0gPT4gYDxvcHRpb24+JHttfTwvb3B0aW9uPmApLmpvaW4oJycpO1xuICAgIHNlbGVjdE1vZGVscy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiBpbml0TW9kZWwoc2VsZWN0TW9kZWxzLnNlbGVjdGVkSW5kZXgpKTtcbiAgICBpbnB1dFRlbXBlcmF0dXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIHRlbXBlcmF0dXJlID0gcGFyc2VGbG9hdChpbnB1dFRlbXBlcmF0dXJlLnZhbHVlKTtcbiAgICAgIHRleHRUZW1wZXJhdHVyZS50ZXh0Q29udGVudCA9IHRlbXBlcmF0dXJlO1xuICAgIH0pO1xuICAgIHRleHRUZW1wZXJhdHVyZS50ZXh0Q29udGVudCA9IGlucHV0VGVtcGVyYXR1cmUudmFsdWUgPSB0ZW1wZXJhdHVyZTtcbiAgfVxufTtcblxubmV3IHA1KHNrZXRjaCwgJ3NrZXRjaCcpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0e2Vudixjb25jYXQsc2xpY2Usc3RhY2ssdGVuc29yLHRpZHksdW5zdGFjayx1dGlsLGlvLFRlbnNvcixhZGQsYWRkTixtb2QsbXVsLGRpdixkaXZOb05hbixmbG9vckRpdixzdWIsbWluaW11bSxtYXhpbXVtLHBvdyxzcXVhcmVkRGlmZmVyZW5jZSxhYnMsYWNvcyxhY29zaCxhc2luLGFzaW5oLGF0YW4sYXRhbjIsYXRhbmgsY2VpbCxjb21wbGV4LGNvcyxjb3NoLGVsdSxlcmYsZXhwLGV4cG0xLGZsb29yLGxvZyxsb2cxcCxpbWFnLG5lZyxyZWNpcHJvY2FsLHJlYWwscmVsdSxyb3VuZCxzZWx1LHNpZ21vaWQsc2luLHNpZ24sc2luaCxzb2Z0cGx1cyxzcXJ0LHNxdWFyZSx0YW5oLHRhbixjbGlwQnlWYWx1ZSxyc3FydCxwcm9kLGxlYWt5UmVsdSxwcmVsdSxzY2FsYXIsY29udjFkLGNvbnYyZCxmdXNlZCxjb252MmRUcmFuc3Bvc2UsZGVwdGh3aXNlQ29udjJkLGNvbnYzZCxhdmdQb29sLG1heFBvb2wsbWF4UG9vbFdpdGhBcmdtYXgsYXZnUG9vbDNkLG1heFBvb2wzZCxmaWxsLGxpbnNwYWNlLG11bHRpbm9taWFsLG9uZUhvdCxvbmVzLG9uZXNMaWtlLHJhbmRvbVVuaWZvcm0scmFuZ2UsdHJ1bmNhdGVkTm9ybWFsLHplcm9zLHplcm9zTGlrZSxpbWFnZSx3aGVyZUFzeW5jLHNldGRpZmYxZEFzeW5jLHRvcGssdGVuc29yMWQsZXF1YWwsbm90RXF1YWwsZ3JlYXRlcixncmVhdGVyRXF1YWwsbGVzcyxsZXNzRXF1YWwsbG9naWNhbEFuZCxsb2dpY2FsTm90LGxvZ2ljYWxPcix3aGVyZSxtYXRNdWwsdHJhbnNwb3NlLGJhdGNoTm9ybSxsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbixzb2Z0bWF4LGxvZ1NvZnRtYXgsc3BhcnNlVG9EZW5zZSxtYXgsbWVhbixtaW4sc3VtLGFsbCxhbnksYXJnTWF4LGFyZ01pbixnYXRoZXIscmV2ZXJzZSxzdHJpZGVkU2xpY2UsdGlsZSxzcGxpdCxzY2F0dGVyTkQsZ2F0aGVyTkQsZmZ0LGlmZnQscmZmdCxpcmZmdCxjYXN0LGV4cGFuZERpbXMsc3F1ZWV6ZSxyZXNoYXBlLHBhZCxzcGFjZVRvQmF0Y2hORCxiYXRjaFRvU3BhY2VORCxkZXB0aFRvU3BhY2V9ZnJvbVwiQHRlbnNvcmZsb3cvdGZqcy1jb3JlXCI7dmFyIERhdGFUeXBlLFNhdmVyRGVmLF9fYXNzaWduPWZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxhPTEscj1hcmd1bWVudHMubGVuZ3RoO2E8cjthKyspZm9yKHZhciBuIGluIHQ9YXJndW1lbnRzW2FdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gX19hd2FpdGVyKGUsdCxhLHIpe3JldHVybiBuZXcoYXx8KGE9UHJvbWlzZSkpKGZ1bmN0aW9uKG4scyl7ZnVuY3Rpb24gbyhlKXt0cnl7dShyLm5leHQoZSkpfWNhdGNoKGUpe3MoZSl9fWZ1bmN0aW9uIHAoZSl7dHJ5e3Uoci50aHJvdyhlKSl9Y2F0Y2goZSl7cyhlKX19ZnVuY3Rpb24gdShlKXtlLmRvbmU/bihlLnZhbHVlKTpuZXcgYShmdW5jdGlvbih0KXt0KGUudmFsdWUpfSkudGhlbihvLHApfXUoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pfWZ1bmN0aW9uIF9fZ2VuZXJhdG9yKGUsdCl7dmFyIGEscixuLHMsbz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZuWzBdKXRocm93IG5bMV07cmV0dXJuIG5bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gcz17bmV4dDpwKDApLHRocm93OnAoMSkscmV0dXJuOnAoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBwKHMpe3JldHVybiBmdW5jdGlvbihwKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYoYSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO287KXRyeXtpZihhPTEsciYmKG49MiZzWzBdP3IucmV0dXJuOnNbMF0/ci50aHJvd3x8KChuPXIucmV0dXJuKSYmbi5jYWxsKHIpLDApOnIubmV4dCkmJiEobj1uLmNhbGwocixzWzFdKSkuZG9uZSlyZXR1cm4gbjtzd2l0Y2gocj0wLG4mJihzPVsyJnNbMF0sbi52YWx1ZV0pLHNbMF0pe2Nhc2UgMDpjYXNlIDE6bj1zO2JyZWFrO2Nhc2UgNDpyZXR1cm4gby5sYWJlbCsrLHt2YWx1ZTpzWzFdLGRvbmU6ITF9O2Nhc2UgNTpvLmxhYmVsKysscj1zWzFdLHM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpzPW8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobj0obj1vLnRyeXMpLmxlbmd0aD4wJiZuW24ubGVuZ3RoLTFdKSYmKDY9PT1zWzBdfHwyPT09c1swXSkpe289MDtjb250aW51ZX1pZigzPT09c1swXSYmKCFufHxzWzFdPm5bMF0mJnNbMV08blszXSkpe28ubGFiZWw9c1sxXTticmVha31pZig2PT09c1swXSYmby5sYWJlbDxuWzFdKXtvLmxhYmVsPW5bMV0sbj1zO2JyZWFrfWlmKG4mJm8ubGFiZWw8blsyXSl7by5sYWJlbD1uWzJdLG8ub3BzLnB1c2gocyk7YnJlYWt9blsyXSYmby5vcHMucG9wKCksby50cnlzLnBvcCgpO2NvbnRpbnVlfXM9dC5jYWxsKGUsbyl9Y2F0Y2goZSl7cz1bNixlXSxyPTB9ZmluYWxseXthPW49MH1pZig1JnNbMF0pdGhyb3cgc1sxXTtyZXR1cm57dmFsdWU6c1swXT9zWzFdOnZvaWQgMCxkb25lOiEwfX0oW3MscF0pfX19IWZ1bmN0aW9uKGUpe2VbZS5EVF9JTlZBTElEPTBdPVwiRFRfSU5WQUxJRFwiLGVbZS5EVF9GTE9BVD0xXT1cIkRUX0ZMT0FUXCIsZVtlLkRUX0RPVUJMRT0yXT1cIkRUX0RPVUJMRVwiLGVbZS5EVF9JTlQzMj0zXT1cIkRUX0lOVDMyXCIsZVtlLkRUX1VJTlQ4PTRdPVwiRFRfVUlOVDhcIixlW2UuRFRfSU5UMTY9NV09XCJEVF9JTlQxNlwiLGVbZS5EVF9JTlQ4PTZdPVwiRFRfSU5UOFwiLGVbZS5EVF9TVFJJTkc9N109XCJEVF9TVFJJTkdcIixlW2UuRFRfQ09NUExFWDY0PThdPVwiRFRfQ09NUExFWDY0XCIsZVtlLkRUX0lOVDY0PTldPVwiRFRfSU5UNjRcIixlW2UuRFRfQk9PTD0xMF09XCJEVF9CT09MXCIsZVtlLkRUX1FJTlQ4PTExXT1cIkRUX1FJTlQ4XCIsZVtlLkRUX1FVSU5UOD0xMl09XCJEVF9RVUlOVDhcIixlW2UuRFRfUUlOVDMyPTEzXT1cIkRUX1FJTlQzMlwiLGVbZS5EVF9CRkxPQVQxNj0xNF09XCJEVF9CRkxPQVQxNlwiLGVbZS5EVF9GTE9BVF9SRUY9MTAxXT1cIkRUX0ZMT0FUX1JFRlwiLGVbZS5EVF9ET1VCTEVfUkVGPTEwMl09XCJEVF9ET1VCTEVfUkVGXCIsZVtlLkRUX0lOVDMyX1JFRj0xMDNdPVwiRFRfSU5UMzJfUkVGXCIsZVtlLkRUX1VJTlQ4X1JFRj0xMDRdPVwiRFRfVUlOVDhfUkVGXCIsZVtlLkRUX0lOVDE2X1JFRj0xMDVdPVwiRFRfSU5UMTZfUkVGXCIsZVtlLkRUX0lOVDhfUkVGPTEwNl09XCJEVF9JTlQ4X1JFRlwiLGVbZS5EVF9TVFJJTkdfUkVGPTEwN109XCJEVF9TVFJJTkdfUkVGXCIsZVtlLkRUX0NPTVBMRVg2NF9SRUY9MTA4XT1cIkRUX0NPTVBMRVg2NF9SRUZcIixlW2UuRFRfSU5UNjRfUkVGPTEwOV09XCJEVF9JTlQ2NF9SRUZcIixlW2UuRFRfQk9PTF9SRUY9MTEwXT1cIkRUX0JPT0xfUkVGXCIsZVtlLkRUX1FJTlQ4X1JFRj0xMTFdPVwiRFRfUUlOVDhfUkVGXCIsZVtlLkRUX1FVSU5UOF9SRUY9MTEyXT1cIkRUX1FVSU5UOF9SRUZcIixlW2UuRFRfUUlOVDMyX1JFRj0xMTNdPVwiRFRfUUlOVDMyX1JFRlwiLGVbZS5EVF9CRkxPQVQxNl9SRUY9MTE0XT1cIkRUX0JGTE9BVDE2X1JFRlwifShEYXRhVHlwZXx8KERhdGFUeXBlPXt9KSksZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2VbZS5MRUdBQ1k9MF09XCJMRUdBQ1lcIixlW2UuVjE9MV09XCJWMVwiLGVbZS5WMj0yXT1cIlYyXCJ9KGUuQ2hlY2twb2ludEZvcm1hdFZlcnNpb258fChlLkNoZWNrcG9pbnRGb3JtYXRWZXJzaW9uPXt9KSl9KFNhdmVyRGVmfHwoU2F2ZXJEZWY9e30pKTt2YXIgQ1VTVE9NX09QUz17fTtmdW5jdGlvbiByZWdpc3Rlck9wKGUsdCl7dmFyIGE9e3RmT3BOYW1lOmUsY2F0ZWdvcnk6XCJjdXN0b21cIixpbnB1dHM6W10sYXR0cnM6W10sY3VzdG9tRXhlY3V0b3I6dH07Q1VTVE9NX09QU1tlXT1hfWZ1bmN0aW9uIGdldFJlZ2lzdGVyZWRPcChlKXtyZXR1cm4gQ1VTVE9NX09QU1tlXX1mdW5jdGlvbiBkZXJlZ2lzdGVyT3AoZSl7ZGVsZXRlIENVU1RPTV9PUFNbZV19ZnVuY3Rpb24gZ2V0UGFyYW1WYWx1ZShlLHQsYSxyKXt2YXIgbj10LmlucHV0UGFyYW1zW2VdO2lmKG4mJnZvaWQgMCE9PW4uaW5wdXRJbmRleFN0YXJ0KXt2YXIgcz1uLmlucHV0SW5kZXhTdGFydCxvPTA9PT1uLmlucHV0SW5kZXhFbmQ/dm9pZCAwOnZvaWQgMD09PW4uaW5wdXRJbmRleEVuZD9zKzE6bi5pbnB1dEluZGV4RW5kO2lmKFwidGVuc29yXCI9PT1uLnR5cGUpcmV0dXJuIGdldFRlbnNvcih0LmlucHV0TmFtZXNbbi5pbnB1dEluZGV4U3RhcnRdLGEscik7aWYoXCJ0ZW5zb3JzXCI9PT1uLnR5cGUpcmV0dXJuIHQuaW5wdXROYW1lcy5zbGljZShzLG8pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZ2V0VGVuc29yKGUsYSxyKX0pO3ZhciBwPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGdldFRlbnNvcih0LmlucHV0TmFtZXMuc2xpY2UocylbMF0sYSxyKS5kYXRhU3luYygpKTtyZXR1cm5cIm51bWJlclwiPT09bi50eXBlP3BbMF06cH12YXIgdT10LmF0dHJQYXJhbXNbZV07cmV0dXJuIHUmJnUudmFsdWV9ZnVuY3Rpb24gZ2V0VGVuc29yKGUsdCxhKXt2YXIgcj1wYXJzZU5vZGVOYW1lKGUpLG49clswXSxzPXJbMV0sbz1hLmN1cnJlbnRDb250ZXh0SWRzLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuISF0W2dldE5vZGVOYW1lV2l0aENvbnRleHRJZChuLGUpXX0pO3JldHVybiB2b2lkIDAhPT1vP3RbZ2V0Tm9kZU5hbWVXaXRoQ29udGV4dElkKG4sbyldW3NdOnZvaWQgMH1mdW5jdGlvbiBnZXRUZW5zb3JzRm9yQ3VycmVudENvbnRlbnh0KGUsdCxhKXtyZXR1cm4gdFtnZXROb2RlTmFtZVdpdGhDb250ZXh0SWQoZSxhLmN1cnJlbnRDb250ZXh0SWQpXX1mdW5jdGlvbiBnZXROb2RlTmFtZUFuZEluZGV4KGUsdCl7dmFyIGE9cGFyc2VOb2RlTmFtZShlKSxyPWFbMF0sbj1hWzFdO3JldHVybltnZXROb2RlTmFtZVdpdGhDb250ZXh0SWQocix0JiZ0LmN1cnJlbnRDb250ZXh0SWQpLG5dfWZ1bmN0aW9uIGdldE5vZGVOYW1lV2l0aENvbnRleHRJZChlLHQpe3JldHVybiB0P2UrXCItXCIrdDplfWZ1bmN0aW9uIHBhcnNlTm9kZU5hbWUoZSl7dmFyIHQ9ZS5sYXN0SW5kZXhPZihcIjpcIik7cmV0dXJuLTE9PT10P1tlLDBdOltlLnN1YnN0cmluZygwLHQpLE51bWJlcihlLnN1YnN0cmluZyh0KzEpKV19ZnVuY3Rpb24gc3BsaXQkMShlLHQpe2Zvcih2YXIgYT1bXSxyPTA7cjxlLmxlbmd0aDtyKz10KWEucHVzaChlLnNsaWNlKHIscit0KSk7cmV0dXJuIGF9dmFyIGpzb249W3t0Zk9wTmFtZTpcIkFkZFwiLGNhdGVnb3J5OlwiYXJpdGhtZXRpY1wiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImFcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJiXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkFkZFYyXCIsY2F0ZWdvcnk6XCJhcml0aG1ldGljXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiQWRkTlwiLGNhdGVnb3J5OlwiYXJpdGhtZXRpY1wiLGlucHV0czpbe3N0YXJ0OjAsZW5kOjAsbmFtZTpcInRlbnNvcnNcIix0eXBlOlwidGVuc29yc1wifV19LHt0Zk9wTmFtZTpcIkJpYXNBZGRcIixjYXRlZ29yeTpcImFyaXRobWV0aWNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJTdWJcIixjYXRlZ29yeTpcImFyaXRobWV0aWNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJSZWFsRGl2XCIsY2F0ZWdvcnk6XCJhcml0aG1ldGljXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiRGl2XCIsY2F0ZWdvcnk6XCJhcml0aG1ldGljXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiRGl2Tm9OYW5cIixjYXRlZ29yeTpcImFyaXRobWV0aWNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJGbG9vckRpdlwiLGNhdGVnb3J5OlwiYXJpdGhtZXRpY1wiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImFcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJiXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIk11bFwiLGNhdGVnb3J5OlwiYXJpdGhtZXRpY1wiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImFcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJiXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIk1heGltdW1cIixjYXRlZ29yeTpcImFyaXRobWV0aWNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn1dfSx7dGZPcE5hbWU6XCJNaW5pbXVtXCIsY2F0ZWdvcnk6XCJhcml0aG1ldGljXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XX0se3RmT3BOYW1lOlwiUG93XCIsY2F0ZWdvcnk6XCJhcml0aG1ldGljXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiU3F1YXJlZERpZmZlcmVuY2VcIixjYXRlZ29yeTpcImFyaXRobWV0aWNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJNb2RcIixjYXRlZ29yeTpcImFyaXRobWV0aWNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJGbG9vck1vZFwiLGNhdGVnb3J5OlwiYXJpdGhtZXRpY1wiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImFcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJiXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19XSxhcml0aG1ldGljPU9iamVjdC5mcmVlemUoe2pzb246anNvbn0pLGpzb24kMT1be3RmT3BOYW1lOlwiQWJzXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJBY29zXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJBc2luXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJBdGFuXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJBdGFuMlwiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJ5XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkNlaWxcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkNsaXBCeVZhbHVlXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiY2xpcF92YWx1ZV9taW5cIixuYW1lOlwiY2xpcFZhbHVlTWluXCIsdHlwZTpcIm51bWJlclwifSx7dGZOYW1lOlwiY2xpcF92YWx1ZV9tYXhcIixuYW1lOlwiY2xpcFZhbHVlTWF4XCIsdHlwZTpcIm51bWJlclwifV19LHt0Zk9wTmFtZTpcIkNvbXBsZXhcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJyZWFsXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiaW1hZ1wiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJDb21wbGV4QWJzXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJDb3NcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkNvc2hcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkVsdVwiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiRXhwXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJGbG9vclwiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiTG9nXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJJbWFnXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH0se3RmTmFtZTpcIlRvdXRcIixuYW1lOlwib3V0cHV0VHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJOZWdcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIlJlYWxcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfSx7dGZOYW1lOlwiVG91dFwiLG5hbWU6XCJvdXRwdXRUeXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIlByZWx1XCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImFscGhhXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIlJlbHVcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIlJlbHU2XCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH0se3RmTmFtZTpcImNsaXBWYWx1ZU1pblwiLG5hbWU6XCJjbGlwVmFsdWVNaW5cIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjB9LHt0Zk5hbWU6XCJjbGlwVmFsdWVNYXhcIixuYW1lOlwiY2xpcFZhbHVlTWF4XCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZTo2fV19LHt0Zk9wTmFtZTpcIlNlbHVcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIlNpZ21vaWRcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIlNpblwiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiU2luaFwiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiU3FydFwiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiUnNxcnRcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIlNxdWFyZVwiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiVGFuXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJUYW5oXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJTaWduXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJSb3VuZFwiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiRXhwbTFcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkxvZzFwXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJSZWNpcHJvY2FsXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJTb2Z0cGx1c1wiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiQXNpbmhcIixjYXRlZ29yeTpcImJhc2ljX21hdGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkFjb3NoXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJBdGFuaFwiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiRXJmXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJQcm9kXCIsY2F0ZWdvcnk6XCJiYXNpY19tYXRoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImF4ZXNcIix0eXBlOlwibnVtYmVyW11cIn1dLGF0dHJzOlt7dGZOYW1lOlwia2VlcF9kaW1zXCIsbmFtZTpcImtlZXBEaW1zXCIsdHlwZTpcImJvb2xcIixub3RTdXBwb3J0ZWQ6ITB9LHt0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkxlYWt5UmVsdVwiLGNhdGVnb3J5OlwiYmFzaWNfbWF0aFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcImFscGhhXCIsbmFtZTpcImFscGhhXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZTouMn0se3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX1dLGJhc2ljTWF0aD1PYmplY3QuZnJlZXplKHtqc29uOmpzb24kMX0pLGpzb24kMj1be3RmT3BOYW1lOlwiTG9vcENvbmRcIixjYXRlZ29yeTpcImNvbnRyb2xcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJwcmVkXCIsdHlwZTpcInRlbnNvclwifV19LHt0Zk9wTmFtZTpcIlN3aXRjaFwiLGNhdGVnb3J5OlwiY29udHJvbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImRhdGFcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJwcmVkXCIsdHlwZTpcInRlbnNvclwifV19LHt0Zk9wTmFtZTpcIk1lcmdlXCIsY2F0ZWdvcnk6XCJjb250cm9sXCIsaW5wdXRzOlt7c3RhcnQ6MCxlbmQ6MCxuYW1lOlwidGVuc29yc1wiLHR5cGU6XCJ0ZW5zb3JzXCJ9XX0se3RmT3BOYW1lOlwiRW50ZXJcIixjYXRlZ29yeTpcImNvbnRyb2xcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ0ZW5zb3JcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9LHt0Zk5hbWU6XCJmcmFtZV9uYW1lXCIsbmFtZTpcImZyYW1lTmFtZVwiLHR5cGU6XCJzdHJpbmdcIn0se3RmTmFtZTpcImlzX2NvbnN0YW50XCIsbmFtZTpcImlzQ29uc3RhbnRcIix0eXBlOlwiYm9vbFwifV19LHt0Zk9wTmFtZTpcIkV4aXRcIixjYXRlZ29yeTpcImNvbnRyb2xcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ0ZW5zb3JcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiTmV4dEl0ZXJhdGlvblwiLGNhdGVnb3J5OlwiY29udHJvbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInRlbnNvclwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJUZW5zb3JBcnJheVYzXCIsY2F0ZWdvcnk6XCJjb250cm9sXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwic2l6ZVwiLHR5cGU6XCJudW1iZXJcIn1dLGF0dHJzOlt7dGZOYW1lOlwiZHR5cGVcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIn0se3RmTmFtZTpcImVsZW1lbnRfc2hhcGVcIixuYW1lOlwiZWxlbWVudFNoYXBlXCIsdHlwZTpcInNoYXBlXCJ9LHt0Zk5hbWU6XCJkeW5hbWljX3NpemVcIixuYW1lOlwiZHluYW1pY1NpemVcIix0eXBlOlwiYm9vbFwifSx7dGZOYW1lOlwiY2xlYXJfYWZ0ZXJfcmVhZFwiLG5hbWU6XCJjbGVhckFmdGVyUmVhZFwiLHR5cGU6XCJib29sXCJ9LHt0Zk5hbWU6XCJpZGVudGljYWxfZWxlbWVudF9zaGFwZXNcIixuYW1lOlwiaWRlbnRpY2FsRWxlbWVudFNoYXBlc1wiLHR5cGU6XCJib29sXCJ9LHt0Zk5hbWU6XCJ0ZW5zb3JfYXJyYXlfbmFtZVwiLG5hbWU6XCJuYW1lXCIsdHlwZTpcInN0cmluZ1wifV19LHt0Zk9wTmFtZTpcIlRlbnNvckFycmF5V3JpdGVWM1wiLGNhdGVnb3J5OlwiY29udHJvbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInRlbnNvckFycmF5SWRcIix0eXBlOlwibnVtYmVyXCJ9LHtzdGFydDoxLG5hbWU6XCJpbmRleFwiLHR5cGU6XCJudW1iZXJcIn0se3N0YXJ0OjIsbmFtZTpcInRlbnNvclwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjMsbmFtZTpcImZsb3dJblwiLHR5cGU6XCJudW1iZXJcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJUZW5zb3JBcnJheVJlYWRWM1wiLGNhdGVnb3J5OlwiY29udHJvbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInRlbnNvckFycmF5SWRcIix0eXBlOlwibnVtYmVyXCJ9LHtzdGFydDoxLG5hbWU6XCJpbmRleFwiLHR5cGU6XCJudW1iZXJcIn0se3N0YXJ0OjIsbmFtZTpcImZsb3dJblwiLHR5cGU6XCJudW1iZXJcIn1dLGF0dHJzOlt7dGZOYW1lOlwiZHR5cGVcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiVGVuc29yQXJyYXlHYXRoZXJWM1wiLGNhdGVnb3J5OlwiY29udHJvbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInRlbnNvckFycmF5SWRcIix0eXBlOlwibnVtYmVyXCJ9LHtzdGFydDoxLG5hbWU6XCJpbmRpY2VzXCIsdHlwZTpcIm51bWJlcltdXCJ9LHtzdGFydDoyLG5hbWU6XCJmbG93SW5cIix0eXBlOlwibnVtYmVyXCJ9XSxhdHRyczpbe3RmTmFtZTpcImR0eXBlXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCJ9LHt0Zk5hbWU6XCJlbGVtZW50X3NoYXBlXCIsbmFtZTpcImVsZW1lbnRTaGFwZVwiLHR5cGU6XCJzaGFwZVwifV19LHt0Zk9wTmFtZTpcIlRlbnNvckFycmF5U2NhdHRlclYzXCIsY2F0ZWdvcnk6XCJjb250cm9sXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwidGVuc29yQXJyYXlJZFwiLHR5cGU6XCJudW1iZXJcIn0se3N0YXJ0OjEsbmFtZTpcImluZGljZXNcIix0eXBlOlwibnVtYmVyW11cIn0se3N0YXJ0OjIsbmFtZTpcInRlbnNvclwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjMsbmFtZTpcImZsb3dJblwiLHR5cGU6XCJudW1iZXJcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwifV19LHt0Zk9wTmFtZTpcIlRlbnNvckFycmF5Q29uY2F0VjNcIixjYXRlZ29yeTpcImNvbnRyb2xcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ0ZW5zb3JBcnJheUlkXCIsdHlwZTpcIm51bWJlclwifSx7c3RhcnQ6MSxuYW1lOlwiZmxvd0luXCIsdHlwZTpcIm51bWJlclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJkdHlwZVwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwifSx7dGZOYW1lOlwiZWxlbWVudF9zaGFwZV9leGNlcHQwXCIsbmFtZTpcImVsZW1lbnRTaGFwZUV4Y2VwdDBcIix0eXBlOlwic2hhcGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiVGVuc29yQXJyYXlTcGxpdFYzXCIsY2F0ZWdvcnk6XCJjb250cm9sXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwidGVuc29yQXJyYXlJZFwiLHR5cGU6XCJudW1iZXJcIn0se3N0YXJ0OjEsbmFtZTpcInRlbnNvclwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjIsbmFtZTpcImxlbmd0aHNcIix0eXBlOlwibnVtYmVyW11cIn0se3N0YXJ0OjMsbmFtZTpcImZsb3dJblwiLHR5cGU6XCJudW1iZXJcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwifV19LHt0Zk9wTmFtZTpcIlRlbnNvckFycmF5U2l6ZVYzXCIsY2F0ZWdvcnk6XCJjb250cm9sXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwidGVuc29yQXJyYXlJZFwiLHR5cGU6XCJudW1iZXJcIn0se3N0YXJ0OjEsbmFtZTpcImZsb3dJblwiLHR5cGU6XCJudW1iZXJcIn1dfSx7dGZPcE5hbWU6XCJUZW5zb3JBcnJheUNsb3NlVjNcIixjYXRlZ29yeTpcImNvbnRyb2xcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ0ZW5zb3JBcnJheUlkXCIsdHlwZTpcIm51bWJlclwifV19XSxjb250cm9sPU9iamVjdC5mcmVlemUoe2pzb246anNvbiQyfSksanNvbiQzPVt7dGZPcE5hbWU6XCJBdmdQb29sXCIsY2F0ZWdvcnk6XCJjb252b2x1dGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcInN0cmlkZXNcIixuYW1lOlwic3RyaWRlc1wiLHR5cGU6XCJudW1iZXJbXVwifSx7dGZOYW1lOlwicGFkZGluZ1wiLG5hbWU6XCJwYWRcIix0eXBlOlwic3RyaW5nXCJ9LHt0Zk5hbWU6XCJkYXRhX2Zvcm1hdFwiLG5hbWU6XCJkYXRhRm9ybWF0XCIsdHlwZTpcInN0cmluZ1wiLG5vdFN1cHBvcnRlZDohMH0se3RmTmFtZTpcImtzaXplXCIsbmFtZTpcImtlcm5lbFNpemVcIix0eXBlOlwibnVtYmVyW11cIn0se3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiTWF4UG9vbFwiLGNhdGVnb3J5OlwiY29udm9sdXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJzdHJpZGVzXCIsbmFtZTpcInN0cmlkZXNcIix0eXBlOlwibnVtYmVyW11cIn0se3RmTmFtZTpcInBhZGRpbmdcIixuYW1lOlwicGFkXCIsdHlwZTpcInN0cmluZ1wifSx7dGZOYW1lOlwiZGF0YV9mb3JtYXRcIixuYW1lOlwiZGF0YUZvcm1hdFwiLHR5cGU6XCJzdHJpbmdcIixub3RTdXBwb3J0ZWQ6ITB9LHt0Zk5hbWU6XCJrc2l6ZVwiLG5hbWU6XCJrZXJuZWxTaXplXCIsdHlwZTpcIm51bWJlcltdXCJ9LHt0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIk1heFBvb2xXaXRoQXJnbWF4XCIsY2F0ZWdvcnk6XCJjb252b2x1dGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcInN0cmlkZXNcIixuYW1lOlwic3RyaWRlc1wiLHR5cGU6XCJudW1iZXJbXVwifSx7dGZOYW1lOlwicGFkZGluZ1wiLG5hbWU6XCJwYWRcIix0eXBlOlwic3RyaW5nXCJ9LHt0Zk5hbWU6XCJrc2l6ZVwiLG5hbWU6XCJrZXJuZWxTaXplXCIsdHlwZTpcIm51bWJlcltdXCJ9LHt0Zk5hbWU6XCJpbmNsdWRlX2JhdGNoX2luX2luZGV4XCIsbmFtZTpcImluY2x1ZGVCYXRjaEluSW5kZXhcIix0eXBlOlwiYm9vbFwifSx7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJBdmdQb29sM0RcIixjYXRlZ29yeTpcImNvbnZvbHV0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwic3RyaWRlc1wiLG5hbWU6XCJzdHJpZGVzXCIsdHlwZTpcIm51bWJlcltdXCJ9LHt0Zk5hbWU6XCJwYWRkaW5nXCIsbmFtZTpcInBhZFwiLHR5cGU6XCJzdHJpbmdcIn0se3RmTmFtZTpcImRhdGFfZm9ybWF0XCIsbmFtZTpcImRhdGFGb3JtYXRcIix0eXBlOlwic3RyaW5nXCIsbm90U3VwcG9ydGVkOiEwfSx7dGZOYW1lOlwia3NpemVcIixuYW1lOlwia2VybmVsU2l6ZVwiLHR5cGU6XCJudW1iZXJbXVwifSx7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJNYXhQb29sM0RcIixjYXRlZ29yeTpcImNvbnZvbHV0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwic3RyaWRlc1wiLG5hbWU6XCJzdHJpZGVzXCIsdHlwZTpcIm51bWJlcltdXCJ9LHt0Zk5hbWU6XCJwYWRkaW5nXCIsbmFtZTpcInBhZFwiLHR5cGU6XCJzdHJpbmdcIn0se3RmTmFtZTpcImRhdGFfZm9ybWF0XCIsbmFtZTpcImRhdGFGb3JtYXRcIix0eXBlOlwic3RyaW5nXCIsbm90U3VwcG9ydGVkOiEwfSx7dGZOYW1lOlwia3NpemVcIixuYW1lOlwia2VybmVsU2l6ZVwiLHR5cGU6XCJudW1iZXJbXVwifSx7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJDb252MURcIixjYXRlZ29yeTpcImNvbnZvbHV0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImZpbHRlclwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwic3RyaWRlXCIsbmFtZTpcInN0cmlkZVwiLHR5cGU6XCJudW1iZXJcIn0se3RmTmFtZTpcInBhZGRpbmdcIixuYW1lOlwicGFkXCIsdHlwZTpcInN0cmluZ1wifSx7dGZOYW1lOlwiZGF0YV9mb3JtYXRcIixuYW1lOlwiZGF0YUZvcm1hdFwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJOV0NcIn0se3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9LHt0Zk5hbWU6XCJkaWxhdGlvblwiLG5hbWU6XCJkaWxhdGlvblwiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6MX1dfSx7dGZPcE5hbWU6XCJDb252MkRcIixjYXRlZ29yeTpcImNvbnZvbHV0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImZpbHRlclwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH0se3RmTmFtZTpcInN0cmlkZXNcIixuYW1lOlwic3RyaWRlc1wiLHR5cGU6XCJudW1iZXJbXVwifSx7dGZOYW1lOlwicGFkZGluZ1wiLG5hbWU6XCJwYWRcIix0eXBlOlwic3RyaW5nXCJ9LHt0Zk5hbWU6XCJ1c2VDdWRubk9uR3B1XCIsbmFtZTpcInVzZUN1ZG5uT25HcHVcIix0eXBlOlwiYm9vbFwifSx7dGZOYW1lOlwiZGF0YV9mb3JtYXRcIixuYW1lOlwiZGF0YUZvcm1hdFwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJOSFdDXCJ9LHt0Zk5hbWU6XCJkaWxhdGlvbnNcIixuYW1lOlwiZGlsYXRpb25zXCIsdHlwZTpcIm51bWJlcltdXCJ9XX0se3RmT3BOYW1lOlwiX0Z1c2VkQ29udjJEXCIsY2F0ZWdvcnk6XCJjb252b2x1dGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJmaWx0ZXJcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoyLGVuZDowLG5hbWU6XCJhcmdzXCIsdHlwZTpcInRlbnNvcnNcIn1dLGF0dHJzOlt7dGZOYW1lOlwibnVtX2FyZ3NcIixuYW1lOlwibnVtQXJnc1wiLHR5cGU6XCJudW1iZXJcIn0se3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9LHt0Zk5hbWU6XCJzdHJpZGVzXCIsbmFtZTpcInN0cmlkZXNcIix0eXBlOlwibnVtYmVyW11cIn0se3RmTmFtZTpcInBhZGRpbmdcIixuYW1lOlwicGFkXCIsdHlwZTpcInN0cmluZ1wifSx7dGZOYW1lOlwiZXhwbGljaXRfcGFkZGluZ3NcIixuYW1lOlwiZXhwbGljaXRQYWRkaW5nc1wiLHR5cGU6XCJudW1iZXJbXVwiLGRlZmF1bHRWYWx1ZTpbXX0se3RmTmFtZTpcInVzZV9jdWRubl9vbl9ncHVcIixuYW1lOlwidXNlQ3Vkbm5PbkdwdVwiLHR5cGU6XCJib29sXCIsZGVmYXVsdFZhbHVlOiEwfSx7dGZOYW1lOlwiZGF0YV9mb3JtYXRcIixuYW1lOlwiZGF0YUZvcm1hdFwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJOSFdDXCJ9LHt0Zk5hbWU6XCJkaWxhdGlvbnNcIixuYW1lOlwiZGlsYXRpb25zXCIsdHlwZTpcIm51bWJlcltdXCIsZGVmYXVsdFZhbHVlOlsxLDEsMSwxXX0se3RmTmFtZTpcImZ1c2VkX29wc1wiLG5hbWU6XCJmdXNlZE9wc1wiLHR5cGU6XCJzdHJpbmdbXVwiLGRlZmF1bHRWYWx1ZTpbXX0se3RmTmFtZTpcImVwc2lsb25cIixuYW1lOlwiZXBzaWxvblwiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6MWUtNH1dfSx7dGZPcE5hbWU6XCJDb252MkRCYWNrcHJvcElucHV0XCIsY2F0ZWdvcnk6XCJjb252b2x1dGlvblwiLGlucHV0czpbe3N0YXJ0OjIsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJmaWx0ZXJcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDowLG5hbWU6XCJvdXRwdXRTaGFwZVwiLHR5cGU6XCJudW1iZXJbXVwifV0sYXR0cnM6W3t0Zk5hbWU6XCJzdHJpZGVzXCIsbmFtZTpcInN0cmlkZXNcIix0eXBlOlwibnVtYmVyW11cIn0se3RmTmFtZTpcInBhZGRpbmdcIixuYW1lOlwicGFkXCIsdHlwZTpcInN0cmluZ1wifSx7dGZOYW1lOlwiZGF0YV9mb3JtYXRcIixuYW1lOlwiZGF0YUZvcm1hdFwiLHR5cGU6XCJzdHJpbmdcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiRGVwdGh3aXNlQ29udjJkXCIsY2F0ZWdvcnk6XCJjb252b2x1dGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImlucHV0XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiZmlsdGVyXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJzdHJpZGVzXCIsbmFtZTpcInN0cmlkZXNcIix0eXBlOlwibnVtYmVyW11cIn0se3RmTmFtZTpcInBhZGRpbmdcIixuYW1lOlwicGFkXCIsdHlwZTpcInN0cmluZ1wifSx7dGZOYW1lOlwiZGF0YV9mb3JtYXRcIixuYW1lOlwiZGF0YUZvcm1hdFwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJOSFdDXCJ9LHt0Zk5hbWU6XCJkaWxhdGlvbnNcIixuYW1lOlwiZGlsYXRpb25zXCIsdHlwZTpcIm51bWJlcltdXCJ9XX0se3RmT3BOYW1lOlwiRGVwdGh3aXNlQ29udjJkTmF0aXZlXCIsY2F0ZWdvcnk6XCJjb252b2x1dGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImlucHV0XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiZmlsdGVyXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJzdHJpZGVzXCIsbmFtZTpcInN0cmlkZXNcIix0eXBlOlwibnVtYmVyW11cIn0se3RmTmFtZTpcInBhZGRpbmdcIixuYW1lOlwicGFkXCIsdHlwZTpcInN0cmluZ1wifSx7dGZOYW1lOlwiZGF0YV9mb3JtYXRcIixuYW1lOlwiZGF0YUZvcm1hdFwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJOSFdDXCJ9LHt0Zk5hbWU6XCJkaWxhdGlvbnNcIixuYW1lOlwiZGlsYXRpb25zXCIsdHlwZTpcIm51bWJlcltdXCJ9XX0se3RmT3BOYW1lOlwiRnVzZWREZXB0aHdpc2VDb252MmROYXRpdmVcIixjYXRlZ29yeTpcImNvbnZvbHV0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImZpbHRlclwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjIsZW5kOjAsbmFtZTpcImFyZ3NcIix0eXBlOlwidGVuc29yc1wifV0sYXR0cnM6W3t0Zk5hbWU6XCJudW1fYXJnc1wiLG5hbWU6XCJudW1BcmdzXCIsdHlwZTpcIm51bWJlclwifSx7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH0se3RmTmFtZTpcInN0cmlkZXNcIixuYW1lOlwic3RyaWRlc1wiLHR5cGU6XCJudW1iZXJbXVwifSx7dGZOYW1lOlwicGFkZGluZ1wiLG5hbWU6XCJwYWRcIix0eXBlOlwic3RyaW5nXCJ9LHt0Zk5hbWU6XCJkYXRhX2Zvcm1hdFwiLG5hbWU6XCJkYXRhRm9ybWF0XCIsdHlwZTpcInN0cmluZ1wiLGRlZmF1bHRWYWx1ZTpcIk5IV0NcIn0se3RmTmFtZTpcImRpbGF0aW9uc1wiLG5hbWU6XCJkaWxhdGlvbnNcIix0eXBlOlwibnVtYmVyW11cIixkZWZhdWx0VmFsdWU6WzEsMSwxLDFdfSx7dGZOYW1lOlwiZnVzZWRfb3BzXCIsbmFtZTpcImZ1c2VkT3BzXCIsdHlwZTpcInN0cmluZ1tdXCIsZGVmYXVsdFZhbHVlOltdfV19LHt0Zk9wTmFtZTpcIkNvbnYzRFwiLGNhdGVnb3J5OlwiY29udm9sdXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiZmlsdGVyXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJzdHJpZGVzXCIsbmFtZTpcInN0cmlkZXNcIix0eXBlOlwibnVtYmVyW11cIn0se3RmTmFtZTpcInBhZGRpbmdcIixuYW1lOlwicGFkXCIsdHlwZTpcInN0cmluZ1wifSx7dGZOYW1lOlwiZGF0YV9mb3JtYXRcIixuYW1lOlwiZGF0YUZvcm1hdFwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJOSFdDXCJ9LHt0Zk5hbWU6XCJkaWxhdGlvbnNcIixuYW1lOlwiZGlsYXRpb25zXCIsdHlwZTpcIm51bWJlcltdXCJ9XX1dLGNvbnZvbHV0aW9uPU9iamVjdC5mcmVlemUoe2pzb246anNvbiQzfSksanNvbiQ0PVt7dGZPcE5hbWU6XCJGaWxsXCIsY2F0ZWdvcnk6XCJjcmVhdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInNoYXBlXCIsdHlwZTpcIm51bWJlcltdXCJ9LHtzdGFydDoxLG5hbWU6XCJ2YWx1ZVwiLHR5cGU6XCJudW1iZXJcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwifV19LHt0Zk9wTmFtZTpcIkxpblNwYWNlXCIsY2F0ZWdvcnk6XCJjcmVhdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInN0YXJ0XCIsdHlwZTpcIm51bWJlclwifSx7c3RhcnQ6MSxuYW1lOlwic3RvcFwiLHR5cGU6XCJudW1iZXJcIn0se3N0YXJ0OjIsbmFtZTpcIm51bVwiLHR5cGU6XCJudW1iZXJcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJPbmVIb3RcIixjYXRlZ29yeTpcImNyZWF0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiaW5kaWNlc1wiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImRlcHRoXCIsdHlwZTpcIm51bWJlclwifSx7c3RhcnQ6MixuYW1lOlwib25WYWx1ZVwiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6MX0se3N0YXJ0OjMsbmFtZTpcIm9mZlZhbHVlXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZTowfV0sYXR0cnM6W3t0Zk5hbWU6XCJheGlzXCIsbmFtZTpcImF4aXNcIix0eXBlOlwibnVtYmVyXCIsbm90U3VwcG9ydGVkOiEwfSx7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJPbmVzXCIsY2F0ZWdvcnk6XCJjcmVhdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInNoYXBlXCIsdHlwZTpcIm51bWJlcltdXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIn1dfSx7dGZPcE5hbWU6XCJPbmVzTGlrZVwiLGNhdGVnb3J5OlwiY3JlYXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJkdHlwZVwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwifV19LHt0Zk9wTmFtZTpcIlJhbmRvbVVuaWZvcm1cIixjYXRlZ29yeTpcImNyZWF0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwic2hhcGVcIix0eXBlOlwibnVtYmVyW11cIn1dLGF0dHJzOlt7dGZOYW1lOlwibWludmFsXCIsbmFtZTpcIm1pbnZhbFwiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6MH0se3RmTmFtZTpcIm1heHZhbFwiLG5hbWU6XCJtYXh2YWxcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjF9LHt0Zk5hbWU6XCJkdHlwZVwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwifSx7dGZOYW1lOlwic2VlZFwiLG5hbWU6XCJzZWVkXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZTowfSx7dGZOYW1lOlwic2VlZDJcIixuYW1lOlwic2VlZDJcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjAsbm90U3VwcG9ydGVkOiEwfSx7dGZOYW1lOlwiVFwiLG5hbWU6XCJUXCIsdHlwZTpcIm51bWJlclwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJSYW5nZVwiLGNhdGVnb3J5OlwiY3JlYXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJzdGFydFwiLHR5cGU6XCJudW1iZXJcIn0se3N0YXJ0OjEsbmFtZTpcInN0b3BcIix0eXBlOlwibnVtYmVyXCJ9LHtzdGFydDoyLG5hbWU6XCJzdGVwXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZTowfV0sYXR0cnM6W3t0Zk5hbWU6XCJUaWR4XCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCJ9XX0se3RmT3BOYW1lOlwiVHJ1bmNhdGVkTm9ybWFsXCIsY2F0ZWdvcnk6XCJjcmVhdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInNoYXBlXCIsdHlwZTpcIm51bWJlcltdXCJ9XSxhdHRyczpbe3RmTmFtZTpcIm1lYW5zXCIsbmFtZTpcIm1lYW5cIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjB9LHt0Zk5hbWU6XCJzdGRkZXZcIixuYW1lOlwic3RkRGV2XCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZToxfSx7dGZOYW1lOlwic2VlZFwiLG5hbWU6XCJzZWVkXCIsdHlwZTpcIm51bWJlclwifSx7dGZOYW1lOlwic2VlZDJcIixuYW1lOlwic2VlZDJcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjAsbm90U3VwcG9ydGVkOiEwfSx7dGZOYW1lOlwiZHR5cGVcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIn0se3RmTmFtZTpcIlRcIixuYW1lOlwiVFwiLHR5cGU6XCJudW1iZXJcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiWmVyb3NcIixjYXRlZ29yeTpcImNyZWF0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwic2hhcGVcIix0eXBlOlwibnVtYmVyW11cIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwifV19LHt0Zk9wTmFtZTpcIlplcm9zTGlrZVwiLGNhdGVnb3J5OlwiY3JlYXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCJ9XX0se3RmT3BOYW1lOlwiTXVsdGlub21pYWxcIixjYXRlZ29yeTpcImNyZWF0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwibG9naXRzXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwibnVtU2FtcGxlc1wiLHR5cGU6XCJudW1iZXJcIn1dLGF0dHJzOlt7dGZOYW1lOlwic2VlZFwiLG5hbWU6XCJzZWVkXCIsdHlwZTpcIm51bWJlclwifSx7dGZOYW1lOlwic2VlZDJcIixuYW1lOlwic2VlZDJcIix0eXBlOlwibnVtYmVyXCJ9LHt0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCJ9LHt0Zk5hbWU6XCJvdXRwdXRfZHR5cGVcIixuYW1lOlwib3V0cHV0X2R0eXBlXCIsdHlwZTpcImR0eXBlXCJ9XX1dLGNyZWF0aW9uPU9iamVjdC5mcmVlemUoe2pzb246anNvbiQ0fSksanNvbiQ1PVt7dGZPcE5hbWU6XCJOb25NYXhTdXBwcmVzc2lvblYyXCIsY2F0ZWdvcnk6XCJkeW5hbWljXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYm94ZXNcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJzY29yZXNcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoyLG5hbWU6XCJtYXhPdXRwdXRTaXplXCIsdHlwZTpcIm51bWJlclwifSx7c3RhcnQ6MyxuYW1lOlwiaW91VGhyZXNob2xkXCIsdHlwZTpcIm51bWJlclwifV19LHt0Zk9wTmFtZTpcIk5vbk1heFN1cHByZXNzaW9uVjNcIixjYXRlZ29yeTpcImR5bmFtaWNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJib3hlc1wiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcInNjb3Jlc1wiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjIsbmFtZTpcIm1heE91dHB1dFNpemVcIix0eXBlOlwibnVtYmVyXCJ9LHtzdGFydDozLG5hbWU6XCJpb3VUaHJlc2hvbGRcIix0eXBlOlwibnVtYmVyXCJ9LHtzdGFydDo0LG5hbWU6XCJzY29yZVRocmVzaG9sZFwiLHR5cGU6XCJudW1iZXJcIn1dfSx7dGZPcE5hbWU6XCJOb25NYXhTdXBwcmVzc2lvblY1XCIsY2F0ZWdvcnk6XCJkeW5hbWljXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYm94ZXNcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJzY29yZXNcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoyLG5hbWU6XCJtYXhPdXRwdXRTaXplXCIsdHlwZTpcIm51bWJlclwifSx7c3RhcnQ6MyxuYW1lOlwiaW91VGhyZXNob2xkXCIsdHlwZTpcIm51bWJlclwifSx7c3RhcnQ6NCxuYW1lOlwic2NvcmVUaHJlc2hvbGRcIix0eXBlOlwibnVtYmVyXCJ9LHtzdGFydDo1LG5hbWU6XCJzb2Z0Tm1zU2lnbWFcIix0eXBlOlwibnVtYmVyXCJ9XX0se3RmT3BOYW1lOlwiV2hlcmVcIixjYXRlZ29yeTpcImR5bmFtaWNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJjb25kaXRpb25cIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiTGlzdERpZmZcIixjYXRlZ29yeTpcImR5bmFtaWNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwieVwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfV0sZHluYW1pYz1PYmplY3QuZnJlZXplKHtqc29uOmpzb24kNX0pLGpzb24kNj1be3RmT3BOYW1lOlwiVG9wS1YyXCIsY2F0ZWdvcnk6XCJldmFsdWF0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImtcIix0eXBlOlwibnVtYmVyXCJ9XSxhdHRyczpbe3RmTmFtZTpcInNvcnRlZFwiLG5hbWU6XCJzb3J0ZWRcIix0eXBlOlwiYm9vbFwifV19XSxldmFsdWF0aW9uPU9iamVjdC5mcmVlemUoe2pzb246anNvbiQ2fSksanNvbiQ3PVt7dGZPcE5hbWU6XCJQbGFjZWhvbGRlcldpdGhEZWZhdWx0XCIsY2F0ZWdvcnk6XCJncmFwaFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImRlZmF1bHRcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcInNoYXBlXCIsbmFtZTpcInNoYXBlXCIsdHlwZTpcInNoYXBlXCJ9LHt0Zk5hbWU6XCJkdHlwZVwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwifV19LHt0Zk9wTmFtZTpcIlBsYWNlaG9sZGVyXCIsY2F0ZWdvcnk6XCJncmFwaFwiLGF0dHJzOlt7dGZOYW1lOlwic2hhcGVcIixuYW1lOlwic2hhcGVcIix0eXBlOlwic2hhcGVcIn0se3RmTmFtZTpcImR0eXBlXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCJ9XX0se3RmT3BOYW1lOlwiQ29uc3RcIixjYXRlZ29yeTpcImdyYXBoXCJ9LHt0Zk9wTmFtZTpcIklkZW50aXR5XCIsY2F0ZWdvcnk6XCJncmFwaFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XX0se3RmT3BOYW1lOlwiSWRlbnRpdHlOXCIsY2F0ZWdvcnk6XCJncmFwaFwiLGlucHV0czpbe3N0YXJ0OjAsZW5kOjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yc1wifV19LHt0Zk9wTmFtZTpcIlNuYXBzaG90XCIsY2F0ZWdvcnk6XCJncmFwaFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XX0se3RmT3BOYW1lOlwiUmFua1wiLGNhdGVnb3J5OlwiZ3JhcGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV19LHt0Zk9wTmFtZTpcIlNpemVcIixjYXRlZ29yeTpcImdyYXBoXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn1dfSx7dGZPcE5hbWU6XCJTaGFwZVwiLGNhdGVnb3J5OlwiZ3JhcGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV19LHt0Zk9wTmFtZTpcIlNoYXBlTlwiLGNhdGVnb3J5OlwiZ3JhcGhcIixpbnB1dHM6W3tzdGFydDowLGVuZDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvcnNcIn1dfSx7dGZPcE5hbWU6XCJQcmludFwiLGNhdGVnb3J5OlwiZ3JhcGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiZGF0YVwiLHR5cGU6XCJ0ZW5zb3JzXCJ9XSxhdHRyczpbe3RmTmFtZTpcIm1lc3NhZ2VcIixuYW1lOlwibWVzc2FnZVwiLHR5cGU6XCJzdHJpbmdcIn0se3RmTmFtZTpcImZpcnN0X25cIixuYW1lOlwiZmlyc3ROXCIsdHlwZTpcIm51bWJlclwiLG5vdFN1cHBvcnRlZDohMH0se3RmTmFtZTpcInN1bW1hcml6ZVwiLG5hbWU6XCJzdW1tYXJpemVcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjN9XX0se3RmT3BOYW1lOlwiTm9PcFwiLGNhdGVnb3J5OlwiZ3JhcGhcIixpbnB1dHM6W119LHt0Zk9wTmFtZTpcIlN0b3BHcmFkaWVudFwiLGNhdGVnb3J5OlwiZ3JhcGhcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV19LHt0Zk9wTmFtZTpcIkZha2VRdWFudFdpdGhNaW5NYXhWYXJzXCIsY2F0ZWdvcnk6XCJncmFwaFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIm1pblwiLG5hbWU6XCJtaW5cIix0eXBlOlwibnVtYmVyXCJ9LHt0Zk5hbWU6XCJtYXhcIixuYW1lOlwibWF4XCIsdHlwZTpcIm51bWJlclwifV19XSxncmFwaD1PYmplY3QuZnJlZXplKHtqc29uOmpzb24kN30pLGpzb24kOD1be3RmT3BOYW1lOlwiUmVzaXplQmlsaW5lYXJcIixjYXRlZ29yeTpcImltYWdlXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiaW1hZ2VzXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwic2l6ZVwiLHR5cGU6XCJudW1iZXJbXVwifV0sYXR0cnM6W3t0Zk5hbWU6XCJhbGlnbl9jb3JuZXJzXCIsbmFtZTpcImFsaWduQ29ybmVyc1wiLHR5cGU6XCJib29sXCJ9LHt0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIlJlc2l6ZU5lYXJlc3ROZWlnaGJvclwiLGNhdGVnb3J5OlwiaW1hZ2VcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJpbWFnZXNcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJzaXplXCIsdHlwZTpcIm51bWJlcltdXCJ9XSxhdHRyczpbe3RmTmFtZTpcImFsaWduX2Nvcm5lcnNcIixuYW1lOlwiYWxpZ25Db3JuZXJzXCIsdHlwZTpcImJvb2xcIn0se3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiQ3JvcEFuZFJlc2l6ZVwiLGNhdGVnb3J5OlwiaW1hZ2VcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJpbWFnZVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJveGVzXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MixuYW1lOlwiYm94SW5kXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MyxuYW1lOlwiY3JvcFNpemVcIix0eXBlOlwibnVtYmVyW11cIn1dLGF0dHJzOlt7dGZOYW1lOlwibWV0aG9kXCIsbmFtZTpcIm1ldGhvZFwiLHR5cGU6XCJzdHJpbmdcIn0se3RmTmFtZTpcImV4dHJhcG9sYXRpb25fdmFsdWVcIixuYW1lOlwiZXh0cmFwb2xhdGlvblZhbHVlXCIsdHlwZTpcIm51bWJlclwifV19XSxpbWFnZSQxPU9iamVjdC5mcmVlemUoe2pzb246anNvbiQ4fSksanNvbiQ5PVt7dGZPcE5hbWU6XCJFcXVhbFwiLGNhdGVnb3J5OlwibG9naWNhbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImFcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJiXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIk5vdEVxdWFsXCIsY2F0ZWdvcnk6XCJsb2dpY2FsXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiR3JlYXRlclwiLGNhdGVnb3J5OlwibG9naWNhbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImFcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJiXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkdyZWF0ZXJFcXVhbFwiLGNhdGVnb3J5OlwibG9naWNhbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImFcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJiXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJUXCIsbmFtZTpcImR0eXBlXCIsdHlwZTpcImR0eXBlXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkxlc3NcIixjYXRlZ29yeTpcImxvZ2ljYWxcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJMZXNzRXF1YWxcIixjYXRlZ29yeTpcImxvZ2ljYWxcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJMb2dpY2FsQW5kXCIsY2F0ZWdvcnk6XCJsb2dpY2FsXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiTG9naWNhbE5vdFwiLGNhdGVnb3J5OlwibG9naWNhbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImFcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiTG9naWNhbE9yXCIsY2F0ZWdvcnk6XCJsb2dpY2FsXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiU2VsZWN0XCIsY2F0ZWdvcnk6XCJsb2dpY2FsXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiY29uZGl0aW9uXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjIsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiU2VsZWN0VjJcIixjYXRlZ29yeTpcImxvZ2ljYWxcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJjb25kaXRpb25cIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MixuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfV0sbG9naWNhbD1PYmplY3QuZnJlZXplKHtqc29uOmpzb24kOX0pLGpzb24kMTA9W3t0Zk9wTmFtZTpcIl9GdXNlZE1hdE11bFwiLGNhdGVnb3J5OlwibWF0cmljZXNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjIsZW5kOjAsbmFtZTpcImFyZ3NcIix0eXBlOlwidGVuc29yc1wifV0sYXR0cnM6W3t0Zk5hbWU6XCJudW1fYXJnc1wiLG5hbWU6XCJudW1BcmdzXCIsdHlwZTpcIm51bWJlclwifSx7dGZOYW1lOlwiZnVzZWRfb3BzXCIsbmFtZTpcImZ1c2VkT3BzXCIsdHlwZTpcInN0cmluZ1tdXCIsZGVmYXVsdFZhbHVlOltdfSx7dGZOYW1lOlwiZXBzaWxvblwiLG5hbWU6XCJlcHNpbG9uXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZToxZS00fSx7dGZOYW1lOlwidHJhbnNwb3NlX2FcIixuYW1lOlwidHJhbnNwb3NlQVwiLHR5cGU6XCJib29sXCIsZGVmYXVsdFZhbHVlOiExfSx7dGZOYW1lOlwidHJhbnNwb3NlX2JcIixuYW1lOlwidHJhbnNwb3NlQlwiLHR5cGU6XCJib29sXCIsZGVmYXVsdFZhbHVlOiExfSx7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJNYXRNdWxcIixjYXRlZ29yeTpcIm1hdHJpY2VzXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcInRyYW5zcG9zZV9hXCIsbmFtZTpcInRyYW5zcG9zZUFcIix0eXBlOlwiYm9vbFwiLGRlZmF1bHRWYWx1ZTohMX0se3RmTmFtZTpcInRyYW5zcG9zZV9iXCIsbmFtZTpcInRyYW5zcG9zZUJcIix0eXBlOlwiYm9vbFwiLGRlZmF1bHRWYWx1ZTohMX0se3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiQmF0Y2hNYXRNdWxcIixjYXRlZ29yeTpcIm1hdHJpY2VzXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiYVwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcImFkal94XCIsbmFtZTpcInRyYW5zcG9zZUFcIix0eXBlOlwiYm9vbFwiLGRlZmF1bHRWYWx1ZTohMX0se3RmTmFtZTpcImFkal95XCIsbmFtZTpcInRyYW5zcG9zZUJcIix0eXBlOlwiYm9vbFwiLGRlZmF1bHRWYWx1ZTohMX0se3RmTmFtZTpcIlRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiQmF0Y2hNYXRNdWxWMlwiLGNhdGVnb3J5OlwibWF0cmljZXNcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJhXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYlwiLHR5cGU6XCJ0ZW5zb3JcIn1dLGF0dHJzOlt7dGZOYW1lOlwiYWRqX3hcIixuYW1lOlwidHJhbnNwb3NlQVwiLHR5cGU6XCJib29sXCIsZGVmYXVsdFZhbHVlOiExfSx7dGZOYW1lOlwiYWRqX3lcIixuYW1lOlwidHJhbnNwb3NlQlwiLHR5cGU6XCJib29sXCIsZGVmYXVsdFZhbHVlOiExfSx7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJUcmFuc3Bvc2VcIixjYXRlZ29yeTpcIm1hdHJpY2VzXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcInBlcm1cIix0eXBlOlwibnVtYmVyW11cIn1dLGF0dHJzOlt7dGZOYW1lOlwiVFwiLG5hbWU6XCJkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH1dfV0sbWF0cmljZXM9T2JqZWN0LmZyZWV6ZSh7anNvbjpqc29uJDEwfSksanNvbiQxMT1be3RmT3BOYW1lOlwiRnVzZWRCYXRjaE5vcm1cIixjYXRlZ29yeTpcIm5vcm1hbGl6YXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwic2NhbGVcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoyLG5hbWU6XCJvZmZzZXRcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDozLG5hbWU6XCJtZWFuXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6NCxuYW1lOlwidmFyaWFuY2VcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcImVwc2lsb25cIixuYW1lOlwiZXBzaWxvblwiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6LjAwMX0se3RmTmFtZTpcImRhdGFfZm9ybWF0XCIsbmFtZTpcImRhdGFGb3JtYXRcIix0eXBlOlwic3RyaW5nXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkZ1c2VkQmF0Y2hOb3JtVjJcIixjYXRlZ29yeTpcIm5vcm1hbGl6YXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwic2NhbGVcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoyLG5hbWU6XCJvZmZzZXRcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDozLG5hbWU6XCJtZWFuXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6NCxuYW1lOlwidmFyaWFuY2VcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcImVwc2lsb25cIixuYW1lOlwiZXBzaWxvblwiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6LjAwMX0se3RmTmFtZTpcImRhdGFfZm9ybWF0XCIsbmFtZTpcImRhdGFGb3JtYXRcIix0eXBlOlwic3RyaW5nXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkZ1c2VkQmF0Y2hOb3JtVjNcIixjYXRlZ29yeTpcIm5vcm1hbGl6YXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwic2NhbGVcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoyLG5hbWU6XCJvZmZzZXRcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDozLG5hbWU6XCJtZWFuXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6NCxuYW1lOlwidmFyaWFuY2VcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcImVwc2lsb25cIixuYW1lOlwiZXBzaWxvblwiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6LjAwMX0se3RmTmFtZTpcImRhdGFfZm9ybWF0XCIsbmFtZTpcImRhdGFGb3JtYXRcIix0eXBlOlwic3RyaW5nXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIkxSTlwiLGNhdGVnb3J5Olwibm9ybWFsaXphdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcImRlcHRoX3JhZGl1c1wiLG5hbWU6XCJyYWRpdXNcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjV9LHt0Zk5hbWU6XCJiaWFzXCIsbmFtZTpcImJpYXNcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjF9LHt0Zk5hbWU6XCJhbHBoYVwiLG5hbWU6XCJhbHBoYVwiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6MX0se3RmTmFtZTpcImJldGFcIixuYW1lOlwiYmV0YVwiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6LjV9XX0se3RmT3BOYW1lOlwiU29mdG1heFwiLGNhdGVnb3J5Olwibm9ybWFsaXphdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XX0se3RmT3BOYW1lOlwiTG9nU29mdG1heFwiLGNhdGVnb3J5Olwibm9ybWFsaXphdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XX0se3RmT3BOYW1lOlwiU3BhcnNlVG9EZW5zZVwiLGNhdGVnb3J5Olwibm9ybWFsaXphdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInNwYXJzZUluZGljZXNcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJvdXRwdXRTaGFwZVwiLHR5cGU6XCJudW1iZXJbXVwifSx7c3RhcnQ6MixuYW1lOlwic3BhcnNlVmFsdWVzXCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MyxuYW1lOlwiZGVmYXVsdFZhbHVlXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJ2YWxpZGF0ZV9pbmRpY2VzXCIsbmFtZTpcInZhbGlkYXRlSW5kaWNlc1wiLHR5cGU6XCJib29sXCIsZGVmYXVsdFZhbHVlOiEwLG5vdFN1cHBvcnRlZDohMH1dfV0sbm9ybWFsaXphdGlvbj1PYmplY3QuZnJlZXplKHtqc29uOmpzb24kMTF9KSxqc29uJDEyPVt7dGZPcE5hbWU6XCJNYXhcIixjYXRlZ29yeTpcInJlZHVjdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJheGlzXCIsdHlwZTpcIm51bWJlcltdXCJ9XSxhdHRyczpbe3RmTmFtZTpcImtlZXBfZGltc1wiLG5hbWU6XCJrZWVwRGltc1wiLHR5cGU6XCJib29sXCJ9XX0se3RmT3BOYW1lOlwiTWVhblwiLGNhdGVnb3J5OlwicmVkdWN0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImF4aXNcIix0eXBlOlwibnVtYmVyW11cIn1dLGF0dHJzOlt7dGZOYW1lOlwia2VlcF9kaW1zXCIsbmFtZTpcImtlZXBEaW1zXCIsdHlwZTpcImJvb2xcIn1dfSx7dGZPcE5hbWU6XCJNaW5cIixjYXRlZ29yeTpcInJlZHVjdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJheGlzXCIsdHlwZTpcIm51bWJlcltdXCJ9XSxhdHRyczpbe3RmTmFtZTpcImtlZXBfZGltc1wiLG5hbWU6XCJrZWVwRGltc1wiLHR5cGU6XCJib29sXCJ9XX0se3RmT3BOYW1lOlwiU3VtXCIsY2F0ZWdvcnk6XCJyZWR1Y3Rpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYXhpc1wiLHR5cGU6XCJudW1iZXJbXVwifV0sYXR0cnM6W3t0Zk5hbWU6XCJrZWVwX2RpbXNcIixuYW1lOlwia2VlcERpbXNcIix0eXBlOlwiYm9vbFwifV19LHt0Zk9wTmFtZTpcIkFsbFwiLGNhdGVnb3J5OlwicmVkdWN0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImF4aXNcIix0eXBlOlwibnVtYmVyW11cIn1dLGF0dHJzOlt7dGZOYW1lOlwia2VlcF9kaW1zXCIsbmFtZTpcImtlZXBEaW1zXCIsdHlwZTpcImJvb2xcIn1dfSx7dGZPcE5hbWU6XCJBbnlcIixjYXRlZ29yeTpcInJlZHVjdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJheGlzXCIsdHlwZTpcIm51bWJlcltdXCJ9XSxhdHRyczpbe3RmTmFtZTpcImtlZXBfZGltc1wiLG5hbWU6XCJrZWVwRGltc1wiLHR5cGU6XCJib29sXCJ9XX0se3RmT3BOYW1lOlwiQXJnTWF4XCIsY2F0ZWdvcnk6XCJyZWR1Y3Rpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiYXhpc1wiLHR5cGU6XCJudW1iZXJcIn1dfSx7dGZPcE5hbWU6XCJBcmdNaW5cIixjYXRlZ29yeTpcInJlZHVjdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJheGlzXCIsdHlwZTpcIm51bWJlclwifV19LHt0Zk9wTmFtZTpcIlByb2RcIixjYXRlZ29yeTpcInJlZHVjdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJheGlzXCIsdHlwZTpcIm51bWJlcltdXCJ9XSxhdHRyczpbe3RmTmFtZTpcImtlZXBfZGltc1wiLG5hbWU6XCJrZWVwRGltc1wiLHR5cGU6XCJib29sXCJ9XX1dLHJlZHVjdGlvbj1PYmplY3QuZnJlZXplKHtqc29uOmpzb24kMTJ9KSxqc29uJDEzPVt7dGZPcE5hbWU6XCJDb25jYXRWMlwiLGNhdGVnb3J5Olwic2xpY2Vfam9pblwiLGlucHV0czpbe3N0YXJ0OjAsZW5kOi0xLG5hbWU6XCJ0ZW5zb3JzXCIsdHlwZTpcInRlbnNvcnNcIn0se3N0YXJ0Oi0xLG5hbWU6XCJheGlzXCIsdHlwZTpcIm51bWJlclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJOXCIsbmFtZTpcIm5cIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjJ9XX0se3RmT3BOYW1lOlwiQ29uY2F0XCIsY2F0ZWdvcnk6XCJzbGljZV9qb2luXCIsaW5wdXRzOlt7c3RhcnQ6MSxlbmQ6MCxuYW1lOlwidGVuc29yc1wiLHR5cGU6XCJ0ZW5zb3JzXCJ9LHtzdGFydDowLG5hbWU6XCJheGlzXCIsdHlwZTpcIm51bWJlclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJOXCIsbmFtZTpcIm5cIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjJ9XX0se3RmT3BOYW1lOlwiR2F0aGVyVjJcIixjYXRlZ29yeTpcInNsaWNlX2pvaW5cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiaW5kaWNlc1wiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjIsbmFtZTpcImF4aXNcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjB9XX0se3RmT3BOYW1lOlwiR2F0aGVyXCIsY2F0ZWdvcnk6XCJzbGljZV9qb2luXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImluZGljZXNcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcImF4aXNcIixuYW1lOlwiYXhpc1wiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6MH0se3RmTmFtZTpcInZhbGlkYXRlX2luZGljZXNcIixuYW1lOlwidmFsaWRhdGVJbmRpY2VzXCIsdHlwZTpcImJvb2xcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiUmV2ZXJzZVwiLGNhdGVnb3J5Olwic2xpY2Vfam9pblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJkaW1zXCIsdHlwZTpcImJvb2xcIixub3RTdXBwb3J0ZWQ6ITB9XX0se3RmT3BOYW1lOlwiUmV2ZXJzZVYyXCIsY2F0ZWdvcnk6XCJzbGljZV9qb2luXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImF4aXNcIix0eXBlOlwibnVtYmVyW11cIn1dfSx7dGZPcE5hbWU6XCJTbGljZVwiLGNhdGVnb3J5Olwic2xpY2Vfam9pblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJiZWdpblwiLHR5cGU6XCJudW1iZXJbXVwifSx7c3RhcnQ6MixuYW1lOlwic2l6ZVwiLHR5cGU6XCJudW1iZXJbXVwifV19LHt0Zk9wTmFtZTpcIlN0cmlkZWRTbGljZVwiLGNhdGVnb3J5Olwic2xpY2Vfam9pblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJiZWdpblwiLHR5cGU6XCJudW1iZXJbXVwifSx7c3RhcnQ6MixuYW1lOlwiZW5kXCIsdHlwZTpcIm51bWJlcltdXCJ9LHtzdGFydDozLG5hbWU6XCJzdHJpZGVzXCIsdHlwZTpcIm51bWJlcltdXCJ9XSxhdHRyczpbe3RmTmFtZTpcImJlZ2luX21hc2tcIixuYW1lOlwiYmVnaW5NYXNrXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZTowfSx7dGZOYW1lOlwiZW5kX21hc2tcIixuYW1lOlwiZW5kTWFza1wiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6MH0se3RmTmFtZTpcIm5ld19heGlzX21hc2tcIixuYW1lOlwibmV3QXhpc01hc2tcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjB9LHt0Zk5hbWU6XCJlbGxpcHNpc19tYXNrXCIsbmFtZTpcImVsbGlwc2lzTWFza1wiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6MH0se3RmTmFtZTpcInNocmlua19heGlzX21hc2tcIixuYW1lOlwic2hyaW5rQXhpc01hc2tcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjB9XX0se3RmT3BOYW1lOlwiUGFja1wiLGNhdGVnb3J5Olwic2xpY2Vfam9pblwiLGlucHV0czpbe3N0YXJ0OjAsZW5kOjAsbmFtZTpcInRlbnNvcnNcIix0eXBlOlwidGVuc29yc1wifV0sYXR0cnM6W3t0Zk5hbWU6XCJheGlzXCIsbmFtZTpcImF4aXNcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjB9XX0se3RmT3BOYW1lOlwiVW5wYWNrXCIsY2F0ZWdvcnk6XCJzbGljZV9qb2luXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwidGVuc29yXCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJheGlzXCIsbmFtZTpcImF4aXNcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjB9LHt0Zk5hbWU6XCJudW1cIixuYW1lOlwibnVtXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZTowLG5vdFN1cHBvcnRlZDohMH1dfSx7dGZPcE5hbWU6XCJUaWxlXCIsY2F0ZWdvcnk6XCJzbGljZV9qb2luXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcInJlcHNcIix0eXBlOlwibnVtYmVyW11cIn1dfSx7dGZPcE5hbWU6XCJTcGxpdFwiLGNhdGVnb3J5Olwic2xpY2Vfam9pblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcImF4aXNcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjB9LHtzdGFydDoxLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJudW1fc3BsaXRcIixuYW1lOlwibnVtT3JTaXplU3BsaXRzXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZToxfV19LHt0Zk9wTmFtZTpcIlNwbGl0VlwiLGNhdGVnb3J5Olwic2xpY2Vfam9pblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJudW1PclNpemVTcGxpdHNcIix0eXBlOlwibnVtYmVyW11cIn0se3N0YXJ0OjIsbmFtZTpcImF4aXNcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjB9XX0se3RmT3BOYW1lOlwiU2NhdHRlck5kXCIsY2F0ZWdvcnk6XCJzbGljZV9qb2luXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwiaW5kaWNlc1wiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcInZhbHVlc1wiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjIsbmFtZTpcInNoYXBlXCIsdHlwZTpcIm51bWJlcltdXCJ9XX0se3RmT3BOYW1lOlwiR2F0aGVyTmRcIixjYXRlZ29yeTpcInNsaWNlX2pvaW5cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwiaW5kaWNlc1wiLHR5cGU6XCJ0ZW5zb3JcIn1dfSx7dGZPcE5hbWU6XCJTcGFyc2VUb0RlbnNlXCIsY2F0ZWdvcnk6XCJzbGljZV9qb2luXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwic3BhcnNlSW5kaWNlc1wiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcIm91dHB1dFNoYXBlXCIsdHlwZTpcIm51bWJlcltdXCJ9LHtzdGFydDoyLG5hbWU6XCJzcGFyc2VWYWx1ZXNcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDozLG5hbWU6XCJkZWZhdWx0VmFsdWVcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcInZhbGlkYXRlX2luZGljZXNcIixuYW1lOlwidmFsaWRhdGVJbmRpY2VzXCIsdHlwZTpcImJvb2xcIixkZWZhdWx0VmFsdWU6ITEsbm90U3VwcG9ydGVkOiEwfV19XSxzbGljZUpvaW49T2JqZWN0LmZyZWV6ZSh7anNvbjpqc29uJDEzfSksanNvbiQxND1be3RmT3BOYW1lOlwiRkZUXCIsY2F0ZWdvcnk6XCJzcGVjdHJhbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XX0se3RmT3BOYW1lOlwiSUZGVFwiLGNhdGVnb3J5Olwic3BlY3RyYWxcIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV19LHt0Zk9wTmFtZTpcIlJGRlRcIixjYXRlZ29yeTpcInNwZWN0cmFsXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImZmdF9sZW5ndGhcIix0eXBlOlwibnVtYmVyXCIsbm90U3VwcG9ydGVkOiEwfV19LHt0Zk9wTmFtZTpcIklSRkZUXCIsY2F0ZWdvcnk6XCJzcGVjdHJhbFwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJmZnRfbGVuZ3RoXCIsdHlwZTpcIm51bWJlclwiLG5vdFN1cHBvcnRlZDohMH1dfV0sc3BlY3RyYWw9T2JqZWN0LmZyZWV6ZSh7anNvbjpqc29uJDE0fSksanNvbiQxNT1be3RmT3BOYW1lOlwiQ2FzdFwiLGNhdGVnb3J5OlwidHJhbnNmb3JtYXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJTcmNUXCIsbmFtZTpcInNkdHlwZVwiLHR5cGU6XCJkdHlwZVwiLG5vdFN1cHBvcnRlZDohMH0se3RmTmFtZTpcIkRzdFRcIixuYW1lOlwiZHR5cGVcIix0eXBlOlwiZHR5cGVcIn1dfSx7dGZPcE5hbWU6XCJFeHBhbmREaW1zXCIsY2F0ZWdvcnk6XCJ0cmFuc2Zvcm1hdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJheGlzXCIsdHlwZTpcIm51bWJlclwifV19LHt0Zk9wTmFtZTpcIlBhZFwiLGNhdGVnb3J5OlwidHJhbnNmb3JtYXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifSx7c3RhcnQ6MSxuYW1lOlwicGFkZGluZ1wiLHR5cGU6XCJudW1iZXJbXVwifV0sYXR0cnM6W3t0Zk5hbWU6XCJjb25zdGFudF92YWx1ZVwiLG5hbWU6XCJjb25zdGFudFZhbHVlXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZTowfV19LHt0Zk9wTmFtZTpcIlBhZFYyXCIsY2F0ZWdvcnk6XCJ0cmFuc2Zvcm1hdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9LHtzdGFydDoxLG5hbWU6XCJwYWRkaW5nXCIsdHlwZTpcIm51bWJlcltdXCJ9LHtzdGFydDoyLG5hbWU6XCJjb25zdGFudFZhbHVlXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZTowfV19LHt0Zk9wTmFtZTpcIlJlc2hhcGVcIixjYXRlZ29yeTpcInRyYW5zZm9ybWF0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcInNoYXBlXCIsdHlwZTpcIm51bWJlcltdXCJ9XX0se3RmT3BOYW1lOlwiU3F1ZWV6ZVwiLGNhdGVnb3J5OlwidHJhbnNmb3JtYXRpb25cIixpbnB1dHM6W3tzdGFydDowLG5hbWU6XCJ4XCIsdHlwZTpcInRlbnNvclwifV0sYXR0cnM6W3t0Zk5hbWU6XCJheGlzXCIsdGZEZXByZWNhdGVkTmFtZTpcInNxdWVlemVfZGltc1wiLG5hbWU6XCJheGlzXCIsdHlwZTpcIm51bWJlcltdXCJ9XX0se3RmT3BOYW1lOlwiU3BhY2VUb0JhdGNoTkRcIixjYXRlZ29yeTpcInRyYW5zZm9ybWF0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJsb2NrU2hhcGVcIix0eXBlOlwibnVtYmVyW11cIn0se3N0YXJ0OjIsbmFtZTpcInBhZGRpbmdzXCIsdHlwZTpcIm51bWJlcltdXCJ9XX0se3RmT3BOYW1lOlwiQmF0Y2hUb1NwYWNlTkRcIixjYXRlZ29yeTpcInRyYW5zZm9ybWF0aW9uXCIsaW5wdXRzOlt7c3RhcnQ6MCxuYW1lOlwieFwiLHR5cGU6XCJ0ZW5zb3JcIn0se3N0YXJ0OjEsbmFtZTpcImJsb2NrU2hhcGVcIix0eXBlOlwibnVtYmVyW11cIn0se3N0YXJ0OjIsbmFtZTpcImNyb3BzXCIsdHlwZTpcIm51bWJlcltdXCJ9XX0se3RmT3BOYW1lOlwiRGVwdGhUb1NwYWNlXCIsY2F0ZWdvcnk6XCJ0cmFuc2Zvcm1hdGlvblwiLGlucHV0czpbe3N0YXJ0OjAsbmFtZTpcInhcIix0eXBlOlwidGVuc29yXCJ9XSxhdHRyczpbe3RmTmFtZTpcImJsb2NrX3NpemVcIixuYW1lOlwiYmxvY2tTaXplXCIsdHlwZTpcIm51bWJlclwifSx7dGZOYW1lOlwiZGF0YV9mb3JtYXRcIixuYW1lOlwiZGF0YUZvcm1hdFwiLHR5cGU6XCJzdHJpbmdcIn1dfV0sdHJhbnNmb3JtYXRpb249T2JqZWN0LmZyZWV6ZSh7anNvbjpqc29uJDE1fSksT3BlcmF0aW9uTWFwcGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBlPVthcml0aG1ldGljLGJhc2ljTWF0aCxjb250cm9sLGNvbnZvbHV0aW9uLGNyZWF0aW9uLGR5bmFtaWMsZXZhbHVhdGlvbixsb2dpY2FsLGltYWdlJDEsZ3JhcGgsbWF0cmljZXMsbm9ybWFsaXphdGlvbixyZWR1Y3Rpb24sc2xpY2VKb2luLHNwZWN0cmFsLHRyYW5zZm9ybWF0aW9uXSx0PVtdLmNvbmNhdC5hcHBseShbXSxlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5qc29ufSkpO3RoaXMub3BNYXBwZXJzPXQucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdC50Zk9wTmFtZV09dCxlfSx7fSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiSW5zdGFuY2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlfHwodGhpcy5faW5zdGFuY2U9bmV3IHRoaXMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnRyYW5zZm9ybUdyYXBoPWZ1bmN0aW9uKGUsdCl7dmFyIGE9dGhpczt2b2lkIDA9PT10JiYodD17fSk7dmFyIHI9W10sbj1bXSxzPWUubm9kZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0Lm5hbWVdPWEubWFwTm9kZSh0KSx0Lm9wLnN0YXJ0c1dpdGgoXCJQbGFjZWhvbGRlclwiKSYmci5wdXNoKGVbdC5uYW1lXSksXCJDb25zdFwiPT09dC5vcCYmbi5wdXNoKGVbdC5uYW1lXSksZX0se30pLG89W10scD1bXSx1PXt9LGk9e307bnVsbCE9dCYmKHU9dGhpcy5tYXBTaWduYXR1cmVFbnRyaWVzKHQuaW5wdXRzKSxpPXRoaXMubWFwU2lnbmF0dXJlRW50cmllcyh0Lm91dHB1dHMpKTt2YXIgbT1PYmplY3Qua2V5cyhzKTtyZXR1cm4gbS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXNbZV07dC5pbnB1dE5hbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGE9Z2V0Tm9kZU5hbWVBbmRJbmRleChlKVswXTt0LmlucHV0cy5wdXNoKHNbYV0pLHNbYV0uY2hpbGRyZW4ucHVzaCh0KX0pfSksMD09PU9iamVjdC5rZXlzKGkpLmxlbmd0aD9tLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9c1tlXTswPT09dC5jaGlsZHJlbi5sZW5ndGgmJnAucHVzaCh0KX0pOk9iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9Z2V0Tm9kZU5hbWVBbmRJbmRleChlKVswXSxhPXNbdF07bnVsbCE9YSYmKGEuc2lnbmF0dXJlS2V5PWlbZV0scC5wdXNoKGEpKX0pLE9iamVjdC5rZXlzKHUpLmxlbmd0aD4wP09iamVjdC5rZXlzKHUpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9Z2V0Tm9kZU5hbWVBbmRJbmRleChlKVswXSxhPXNbdF07YSYmKGEuc2lnbmF0dXJlS2V5PXVbZV0sby5wdXNoKGEpKX0pOm89cix7bm9kZXM6cyxpbnB1dHM6byxvdXRwdXRzOnAsd2VpZ2h0czpuLHBsYWNlaG9sZGVyczpyLHNpZ25hdHVyZTp0fX0sZS5wcm90b3R5cGUubWFwU2lnbmF0dXJlRW50cmllcz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZXx8e30pLnJlZHVjZShmdW5jdGlvbih0LGEpe3JldHVybiB0W2VbYV0ubmFtZV09YSx0fSx7fSl9LGUucHJvdG90eXBlLm1hcE5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9Z2V0UmVnaXN0ZXJlZE9wKGUub3ApfHx0aGlzLm9wTWFwcGVyc1tlLm9wXXx8e307bnVsbD09ZS5hdHRyJiYoZS5hdHRyPXt9KTt2YXIgYT17bmFtZTplLm5hbWUsb3A6ZS5vcCxjYXRlZ29yeTp0LmNhdGVnb3J5LGlucHV0TmFtZXM6KGUuaW5wdXR8fFtdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnRzV2l0aChcIl5cIik/ZS5zdWJzdHIoMSk6ZX0pLGlucHV0czpbXSxjaGlsZHJlbjpbXSxpbnB1dFBhcmFtczp7fSxhdHRyUGFyYW1zOnt9LHJhd0F0dHJzOmUuYXR0cn07cmV0dXJuIG51bGwhPXQuaW5wdXRzJiYoYS5pbnB1dFBhcmFtcz10LmlucHV0cy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0Lm5hbWVdPXt0eXBlOnQudHlwZSxpbnB1dEluZGV4U3RhcnQ6dC5zdGFydCxpbnB1dEluZGV4RW5kOnQuZW5kfSxlfSx7fSkpLG51bGwhPXQuYXR0cnMmJihhLmF0dHJQYXJhbXM9dC5hdHRycy5yZWR1Y2UoZnVuY3Rpb24odCxhKXt2YXIgcj1hLnR5cGUsbj12b2lkIDA7c3dpdGNoKGEudHlwZSl7Y2FzZVwic3RyaW5nXCI6dm9pZCAwPT09KG49Z2V0U3RyaW5nUGFyYW0oZS5hdHRyLGEudGZOYW1lLGEuZGVmYXVsdFZhbHVlKSkmJmEudGZEZXByZWNhdGVkTmFtZSYmKG49Z2V0U3RyaW5nUGFyYW0oZS5hdHRyLGEudGZEZXByZWNhdGVkTmFtZSxhLmRlZmF1bHRWYWx1ZSkpO2JyZWFrO2Nhc2VcInN0cmluZ1tdXCI6dm9pZCAwPT09KG49Z2V0U3RyaW5nQXJyYXlQYXJhbShlLmF0dHIsYS50Zk5hbWUsYS5kZWZhdWx0VmFsdWUpKSYmYS50ZkRlcHJlY2F0ZWROYW1lJiYobj1nZXRTdHJpbmdBcnJheVBhcmFtKGUuYXR0cixhLnRmRGVwcmVjYXRlZE5hbWUsYS5kZWZhdWx0VmFsdWUpKTticmVhaztjYXNlXCJudW1iZXJcIjp2b2lkIDA9PT0obj1nZXROdW1iZXJQYXJhbShlLmF0dHIsYS50Zk5hbWUsYS5kZWZhdWx0VmFsdWV8fDApKSYmYS50ZkRlcHJlY2F0ZWROYW1lJiYobj1nZXROdW1iZXJQYXJhbShlLmF0dHIsYS50ZkRlcHJlY2F0ZWROYW1lLGEuZGVmYXVsdFZhbHVlKSk7YnJlYWs7Y2FzZVwibnVtYmVyW11cIjp2b2lkIDA9PT0obj1nZXROdW1lcmljQXJyYXlQYXJhbShlLmF0dHIsYS50Zk5hbWUsYS5kZWZhdWx0VmFsdWUpKSYmYS50ZkRlcHJlY2F0ZWROYW1lJiYobj1nZXROdW1lcmljQXJyYXlQYXJhbShlLmF0dHIsYS50ZkRlcHJlY2F0ZWROYW1lLGEuZGVmYXVsdFZhbHVlKSk7YnJlYWs7Y2FzZVwiYm9vbFwiOnZvaWQgMD09PShuPWdldEJvb2xQYXJhbShlLmF0dHIsYS50Zk5hbWUsYS5kZWZhdWx0VmFsdWUpKSYmYS50ZkRlcHJlY2F0ZWROYW1lJiYobj1nZXRCb29sUGFyYW0oZS5hdHRyLGEudGZEZXByZWNhdGVkTmFtZSxhLmRlZmF1bHRWYWx1ZSkpO2JyZWFrO2Nhc2VcImJvb2xbXVwiOnZvaWQgMD09PShuPWdldEJvb2xBcnJheVBhcmFtKGUuYXR0cixhLnRmTmFtZSxhLmRlZmF1bHRWYWx1ZSkpJiZhLnRmRGVwcmVjYXRlZE5hbWUmJihuPWdldEJvb2xBcnJheVBhcmFtKGUuYXR0cixhLnRmRGVwcmVjYXRlZE5hbWUsYS5kZWZhdWx0VmFsdWUpKTticmVhaztjYXNlXCJzaGFwZVwiOnZvaWQgMD09PShuPWdldFRlbnNvclNoYXBlUGFyYW0oZS5hdHRyLGEudGZOYW1lLGEuZGVmYXVsdFZhbHVlKSkmJmEudGZEZXByZWNhdGVkTmFtZSYmKG49Z2V0VGVuc29yU2hhcGVQYXJhbShlLmF0dHIsYS50ZkRlcHJlY2F0ZWROYW1lLGEuZGVmYXVsdFZhbHVlKSk7YnJlYWs7Y2FzZVwic2hhcGVbXVwiOnZvaWQgMD09PShuPWdldFRlbnNvclNoYXBlQXJyYXlQYXJhbShlLmF0dHIsYS50Zk5hbWUsYS5kZWZhdWx0VmFsdWUpKSYmYS50ZkRlcHJlY2F0ZWROYW1lJiYobj1nZXRUZW5zb3JTaGFwZUFycmF5UGFyYW0oZS5hdHRyLGEudGZEZXByZWNhdGVkTmFtZSxhLmRlZmF1bHRWYWx1ZSkpO2JyZWFrO2Nhc2VcImR0eXBlXCI6dm9pZCAwPT09KG49Z2V0RHR5cGVQYXJhbShlLmF0dHIsYS50Zk5hbWUsYS5kZWZhdWx0VmFsdWUpKSYmYS50ZkRlcHJlY2F0ZWROYW1lJiYobj1nZXREdHlwZVBhcmFtKGUuYXR0cixhLnRmRGVwcmVjYXRlZE5hbWUsYS5kZWZhdWx0VmFsdWUpKTticmVhaztjYXNlXCJkdHlwZVtdXCI6dm9pZCAwPT09KG49Z2V0RHR5cGVBcnJheVBhcmFtKGUuYXR0cixhLnRmTmFtZSxhLmRlZmF1bHRWYWx1ZSkpJiZhLnRmRGVwcmVjYXRlZE5hbWUmJihuPWdldER0eXBlQXJyYXlQYXJhbShlLmF0dHIsYS50ZkRlcHJlY2F0ZWROYW1lLGEuZGVmYXVsdFZhbHVlKSk7YnJlYWs7Y2FzZVwidGVuc29yXCI6Y2FzZVwidGVuc29yc1wiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgcGFyYW0gdHlwZTogXCIrYS50eXBlK1wiIGZvciBvcDogXCIrZS5vcCl9cmV0dXJuIHRbYS5uYW1lXT17dmFsdWU6bix0eXBlOnJ9LHR9LHt9KSksYX0sZX0oKTtmdW5jdGlvbiBkZWNvZGVCYXNlNjQoZSl7dmFyIHQ9ZW52KCkuZ2xvYmFsO2lmKHZvaWQgMCE9PXQuYXRvYilyZXR1cm4gdC5hdG9iKGUpO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBCdWZmZXIpcmV0dXJuIG5ldyBCdWZmZXIoZSxcImJhc2U2NFwiKS50b1N0cmluZygpO3Rocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBkZWNvZGUgYmFzZTY0IGluIHRoaXMgZW52aXJvbm1lbnQuIE1pc3NpbmcgYnVpbHQtaW4gYXRvYigpIG9yIEJ1ZmZlcigpXCIpfWZ1bmN0aW9uIHBhcnNlU3RyaW5nUGFyYW0oZSx0KXt2YXIgYT1BcnJheS5pc0FycmF5KGUpP1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxlKTpkZWNvZGVCYXNlNjQoZSk7cmV0dXJuIHQ/YTphLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gZ2V0U3RyaW5nUGFyYW0oZSx0LGEscil7dm9pZCAwPT09ciYmKHI9ITEpO3ZhciBuPWVbdF07cmV0dXJuIG51bGwhPW4/cGFyc2VTdHJpbmdQYXJhbShuLnMscik6YX1mdW5jdGlvbiBnZXRCb29sUGFyYW0oZSx0LGEpe3ZhciByPWVbdF07cmV0dXJuIHI/ci5iOmF9ZnVuY3Rpb24gZ2V0TnVtYmVyUGFyYW0oZSx0LGEpe3ZhciByPWVbdF18fHt9LG49bnVsbCE9ci5pP3IuaTpudWxsIT1yLmY/ci5mOmE7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIG4/bjpwYXJzZUludChuLDEwKX1mdW5jdGlvbiBwYXJzZUR0eXBlUGFyYW0oZSl7c3dpdGNoKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1EYXRhVHlwZVtlXSksZSl7Y2FzZSBEYXRhVHlwZS5EVF9GTE9BVDpyZXR1cm5cImZsb2F0MzJcIjtjYXNlIERhdGFUeXBlLkRUX0lOVDMyOmNhc2UgRGF0YVR5cGUuRFRfSU5UNjQ6Y2FzZSBEYXRhVHlwZS5EVF9JTlQ4OmNhc2UgRGF0YVR5cGUuRFRfVUlOVDg6cmV0dXJuXCJpbnQzMlwiO2Nhc2UgRGF0YVR5cGUuRFRfQk9PTDpyZXR1cm5cImJvb2xcIjtjYXNlIERhdGFUeXBlLkRUX0RPVUJMRTpyZXR1cm5cImZsb2F0MzJcIjtjYXNlIERhdGFUeXBlLkRUX1NUUklORzpyZXR1cm5cInN0cmluZ1wiO2RlZmF1bHQ6cmV0dXJuIG51bGx9fWZ1bmN0aW9uIGdldER0eXBlUGFyYW0oZSx0LGEpe3ZhciByPWVbdF07cmV0dXJuIHImJnIudHlwZT9wYXJzZUR0eXBlUGFyYW0oci50eXBlKTphfWZ1bmN0aW9uIGdldER0eXBlQXJyYXlQYXJhbShlLHQsYSl7dmFyIHI9ZVt0XTtyZXR1cm4gciYmci5saXN0JiZyLmxpc3QudHlwZT9yLmxpc3QudHlwZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRHR5cGVQYXJhbShlKX0pOmF9ZnVuY3Rpb24gcGFyc2VUZW5zb3JTaGFwZVBhcmFtKGUpe2lmKCFlLnVua25vd25SYW5rKXJldHVybiBudWxsIT1lLmRpbT9lLmRpbS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUuc2l6ZT9lLnNpemU6cGFyc2VJbnQoZS5zaXplLDEwKX0pOltdfWZ1bmN0aW9uIGdldFRlbnNvclNoYXBlUGFyYW0oZSx0LGEpe3ZhciByPWVbdF07cmV0dXJuIHImJnIuc2hhcGU/cGFyc2VUZW5zb3JTaGFwZVBhcmFtKHIuc2hhcGUpOmF9ZnVuY3Rpb24gZ2V0TnVtZXJpY0FycmF5UGFyYW0oZSx0LGEpe3ZhciByPWVbdF07cmV0dXJuIHI/KChyLmxpc3QuZiYmci5saXN0LmYubGVuZ3RoP3IubGlzdC5mOnIubGlzdC5pKXx8W10pLm1hcChmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9lOnBhcnNlSW50KGUsMTApfSk6YX1mdW5jdGlvbiBnZXRTdHJpbmdBcnJheVBhcmFtKGUsdCxhLHIpe3ZvaWQgMD09PXImJihyPSExKTt2YXIgbj1lW3RdO3JldHVybiBuJiZuLmxpc3QmJm4ubGlzdC5zP24ubGlzdC5zLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VTdHJpbmdQYXJhbShlLHIpfSk6YX1mdW5jdGlvbiBnZXRUZW5zb3JTaGFwZUFycmF5UGFyYW0oZSx0LGEpe3ZhciByPWVbdF07cmV0dXJuIHImJnIubGlzdCYmci5saXN0LnNoYXBlP3IubGlzdC5zaGFwZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlVGVuc29yU2hhcGVQYXJhbShlKX0pOmF9ZnVuY3Rpb24gZ2V0Qm9vbEFycmF5UGFyYW0oZSx0LGEpe3ZhciByPWVbdF07cmV0dXJuIHImJnIubGlzdCYmci5saXN0LmI/ci5saXN0LmI6YX12YXIgTm9kZVZhbHVlSW1wbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LGEpe3ZhciByPXRoaXM7dGhpcy5ub2RlPWUsdGhpcy50ZW5zb3JNYXA9dCx0aGlzLmNvbnRleHQ9YSx0aGlzLmlucHV0cz1bXSx0aGlzLmF0dHJzPXt9LHRoaXMuaW5wdXRzPWUuaW5wdXROYW1lcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZ2V0SW5wdXQoZSl9KSxudWxsIT1lLnJhd0F0dHJzJiYodGhpcy5hdHRycz1PYmplY3Qua2V5cyhlLnJhd0F0dHJzKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT1yLmdldEF0dHIodCksZX0se30pKX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0SW5wdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGdldFRlbnNvcihlLHRoaXMudGVuc29yTWFwLHRoaXMuY29udGV4dCl9LGUucHJvdG90eXBlLmdldEF0dHI9ZnVuY3Rpb24oZSx0KXt2YXIgYT10aGlzLm5vZGUucmF3QXR0cnNbZV07aWYobnVsbCE9YS50ZW5zb3IpcmV0dXJuIGdldFRlbnNvcihlLHRoaXMudGVuc29yTWFwLHRoaXMuY29udGV4dCk7aWYobnVsbCE9YS5pfHxudWxsIT1hLmYpcmV0dXJuIGdldE51bWJlclBhcmFtKHRoaXMubm9kZS5yYXdBdHRycyxlLHQpO2lmKG51bGwhPWEucylyZXR1cm4gZ2V0U3RyaW5nUGFyYW0odGhpcy5ub2RlLnJhd0F0dHJzLGUsdCk7aWYobnVsbCE9YS5iKXJldHVybiBnZXRCb29sUGFyYW0odGhpcy5ub2RlLnJhd0F0dHJzLGUsdCk7aWYobnVsbCE9YS5zaGFwZSlyZXR1cm4gZ2V0VGVuc29yU2hhcGVQYXJhbSh0aGlzLm5vZGUucmF3QXR0cnMsZSx0KTtpZihudWxsIT1hLnR5cGUpcmV0dXJuIGdldER0eXBlUGFyYW0odGhpcy5ub2RlLnJhd0F0dHJzLGUsdCk7aWYobnVsbCE9YS5saXN0KXtpZihudWxsIT1hLmxpc3QuaXx8bnVsbCE9YS5saXN0LmYpcmV0dXJuIGdldE51bWVyaWNBcnJheVBhcmFtKHRoaXMubm9kZS5yYXdBdHRycyxlLHQpO2lmKG51bGwhPWEubGlzdC5zKXJldHVybiBnZXRTdHJpbmdBcnJheVBhcmFtKHRoaXMubm9kZS5yYXdBdHRycyxlLHQpO2lmKG51bGwhPWEubGlzdC5zaGFwZSlyZXR1cm4gZ2V0VGVuc29yU2hhcGVBcnJheVBhcmFtKHRoaXMubm9kZS5yYXdBdHRycyxlLHQpO2lmKG51bGwhPWEubGlzdC5iKXJldHVybiBnZXRCb29sQXJyYXlQYXJhbSh0aGlzLm5vZGUucmF3QXR0cnMsZSx0KTtpZihudWxsIT1hLmxpc3QudHlwZSlyZXR1cm4gZ2V0RHR5cGVBcnJheVBhcmFtKHRoaXMubm9kZS5yYXdBdHRycyxlLHQpfXJldHVybiB0fSxlfSgpLGV4ZWN1dGVPcD1mdW5jdGlvbihlLHQsYSl7c3dpdGNoKGUub3Ape2Nhc2VcIkJpYXNBZGRcIjpjYXNlXCJBZGRWMlwiOmNhc2VcIkFkZFwiOnJldHVyblthZGQoZ2V0UGFyYW1WYWx1ZShcImFcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImJcIixlLHQsYSkpXTtjYXNlXCJBZGROXCI6cmV0dXJuW2FkZE4oZ2V0UGFyYW1WYWx1ZShcInRlbnNvcnNcIixlLHQsYSkpXTtjYXNlXCJGbG9vck1vZFwiOmNhc2VcIk1vZFwiOnJldHVyblttb2QoZ2V0UGFyYW1WYWx1ZShcImFcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImJcIixlLHQsYSkpXTtjYXNlXCJNdWxcIjpyZXR1cm5bbXVsKGdldFBhcmFtVmFsdWUoXCJhXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJiXCIsZSx0LGEpKV07Y2FzZVwiUmVhbERpdlwiOmNhc2VcIkRpdlwiOnJldHVybltkaXYoZ2V0UGFyYW1WYWx1ZShcImFcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImJcIixlLHQsYSkpXTtjYXNlXCJEaXZOb05hblwiOnJldHVybltkaXZOb05hbihnZXRQYXJhbVZhbHVlKFwiYVwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiYlwiLGUsdCxhKSldO2Nhc2VcIkZsb29yRGl2XCI6cmV0dXJuW2Zsb29yRGl2KGdldFBhcmFtVmFsdWUoXCJhXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJiXCIsZSx0LGEpKV07Y2FzZVwiU3ViXCI6cmV0dXJuW3N1YihnZXRQYXJhbVZhbHVlKFwiYVwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiYlwiLGUsdCxhKSldO2Nhc2VcIk1pbmltdW1cIjpyZXR1cm5bbWluaW11bShnZXRQYXJhbVZhbHVlKFwiYVwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiYlwiLGUsdCxhKSldO2Nhc2VcIk1heGltdW1cIjpyZXR1cm5bbWF4aW11bShnZXRQYXJhbVZhbHVlKFwiYVwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiYlwiLGUsdCxhKSldO2Nhc2VcIlBvd1wiOnJldHVybltwb3coZ2V0UGFyYW1WYWx1ZShcImFcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImJcIixlLHQsYSkpXTtjYXNlXCJTcXVhcmVkRGlmZmVyZW5jZVwiOnJldHVybltzcXVhcmVkRGlmZmVyZW5jZShnZXRQYXJhbVZhbHVlKFwiYVwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiYlwiLGUsdCxhKSldO2RlZmF1bHQ6dGhyb3cgVHlwZUVycm9yKFwiTm9kZSB0eXBlIFwiK2Uub3ArXCIgaXMgbm90IGltcGxlbWVudGVkXCIpfX0sZXhlY3V0ZU9wJDE9ZnVuY3Rpb24oZSx0LGEpe3N3aXRjaChlLm9wKXtjYXNlXCJBYnNcIjpjYXNlXCJDb21wbGV4QWJzXCI6cmV0dXJuW2FicyhnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSldO2Nhc2VcIkFjb3NcIjpyZXR1cm5bYWNvcyhnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSldO2Nhc2VcIkFjb3NoXCI6cmV0dXJuW2Fjb3NoKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiQXNpblwiOnJldHVyblthc2luKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiQXNpbmhcIjpyZXR1cm5bYXNpbmgoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJBdGFuXCI6cmV0dXJuW2F0YW4oZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJBdGFuMlwiOnJldHVyblthdGFuMihnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwieVwiLGUsdCxhKSldO2Nhc2VcIkF0YW5oXCI6cmV0dXJuW2F0YW5oKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiQ2VpbFwiOnJldHVybltjZWlsKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiQ29tcGxleFwiOnJldHVybltjb21wbGV4KGdldFBhcmFtVmFsdWUoXCJyZWFsXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJpbWFnXCIsZSx0LGEpKV07Y2FzZVwiQ29zXCI6cmV0dXJuW2NvcyhnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSldO2Nhc2VcIkNvc2hcIjpyZXR1cm5bY29zaChnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSldO2Nhc2VcIkVsdVwiOnJldHVybltlbHUoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJFcmZcIjpyZXR1cm5bZXJmKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiRXhwXCI6cmV0dXJuW2V4cChnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSldO2Nhc2VcIkV4cG0xXCI6cmV0dXJuW2V4cG0xKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiRmxvb3JcIjpyZXR1cm5bZmxvb3IoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJMb2dcIjpyZXR1cm5bbG9nKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiTG9nMXBcIjpyZXR1cm5bbG9nMXAoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJJbWFnXCI6cmV0dXJuW2ltYWcoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJOZWdcIjpyZXR1cm5bbmVnKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiUmVjaXByb2NhbFwiOnJldHVybltyZWNpcHJvY2FsKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiUmVhbFwiOnJldHVybltyZWFsKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiUmVsdVwiOnJldHVybltyZWx1KGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiUm91bmRcIjpyZXR1cm5bcm91bmQoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJTZWx1XCI6cmV0dXJuW3NlbHUoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJTaWdtb2lkXCI6cmV0dXJuW3NpZ21vaWQoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJTaW5cIjpyZXR1cm5bc2luKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiU2lnblwiOnJldHVybltzaWduKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiU2luaFwiOnJldHVybltzaW5oKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiU29mdHBsdXNcIjpyZXR1cm5bc29mdHBsdXMoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJTcXJ0XCI6cmV0dXJuW3NxcnQoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJTcXVhcmVcIjpyZXR1cm5bc3F1YXJlKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiVGFuaFwiOnJldHVyblt0YW5oKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiVGFuXCI6cmV0dXJuW3RhbihnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSldO2Nhc2VcIlJlbHU2XCI6Y2FzZVwiQ2xpcEJ5VmFsdWVcIjpyZXR1cm5bY2xpcEJ5VmFsdWUoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImNsaXBWYWx1ZU1pblwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiY2xpcFZhbHVlTWF4XCIsZSx0LGEpKV07Y2FzZVwiUnNxcnRcIjpyZXR1cm5bcnNxcnQoZ2V0VGVuc29yKGUuaW5wdXROYW1lc1swXSx0LGEpKV07Y2FzZVwiUHJvZFwiOnJldHVybltwcm9kKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJheGVzXCIsZSx0LGEpKV07Y2FzZVwiTGVha3lSZWx1XCI6cmV0dXJuW2xlYWt5UmVsdShnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiYWxwaGFcIixlLHQsYSkpXTtjYXNlXCJQcmVsdVwiOnJldHVybltwcmVsdShnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiYWxwaGFcIixlLHQsYSkpXTtkZWZhdWx0OnRocm93IFR5cGVFcnJvcihcIk5vZGUgdHlwZSBcIitlLm9wK1wiIGlzIG5vdCBpbXBsZW1lbnRlZFwiKX19LFRlbnNvckFycmF5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGEscixuLHMsbyxwKXt0aGlzLm5hbWU9dCx0aGlzLmR0eXBlPWEsdGhpcy5tYXhTaXplPXIsdGhpcy5lbGVtZW50U2hhcGU9bix0aGlzLmlkZW50aWNhbEVsZW1lbnRTaGFwZXM9cyx0aGlzLmR5bmFtaWNTaXplPW8sdGhpcy5jbGVhckFmdGVyUmVhZD1wLHRoaXMudGVuc29ycz1bXSx0aGlzLmNsb3NlZF89ITEsdGhpcy5pZD1lLm5leHRJZCsrfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjbG9zZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvc2VkX30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jbGVhckFuZENsb3NlPWZ1bmN0aW9uKCl7dGhpcy50ZW5zb3JzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUudGVuc29yLmRpc3Bvc2UoKX0pLHRoaXMudGVuc29ycz1bXSx0aGlzLmNsb3NlZF89ITB9LGUucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZW5zb3JzLmxlbmd0aH0sZS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtpZih0aGlzLmNsb3NlZF8pdGhyb3cgbmV3IEVycm9yKFwiVGVuc29yQXJyYXkgXCIrdGhpcy5uYW1lK1wiIGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtpZihlPDB8fGU+PXRoaXMudGVuc29ycy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJpZWQgdG8gcmVhZCBmcm9tIGluZGV4IFwiK2UrXCIsIGJ1dCBhcnJheSBzaXplIGlzOiBcIit0aGlzLnRlbnNvcnMubGVuZ3RoKTt2YXIgdD10aGlzLnRlbnNvcnNbZV07aWYodC5jbGVhcmVkKXRocm93IG5ldyBFcnJvcihcIlRlbnNvckFycmF5IFwiK3RoaXMubmFtZStcIjogQ291bGQgbm90IHJlYWQgaW5kZXggXCIrZStcIiB0d2ljZSBiZWNhdXNlIGl0IHdhcyBjbGVhcmVkIGFmdGVyIGEgcHJldmlvdXMgcmVhZCAocGVyaGFwcyB0cnkgc2V0dGluZyBjbGVhcl9hZnRlcl9yZWFkID0gZmFsc2U/KS5cIik7cmV0dXJuIHRoaXMuY2xlYXJBZnRlclJlYWQmJih0LmNsZWFyZWQ9ITApLHQucmVhZD0hMCx0LnRlbnNvcn0sZS5wcm90b3R5cGUucmVhZE1hbnk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQucmVhZChlKX0pfSxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuY2xvc2VkXyl0aHJvdyBuZXcgRXJyb3IoXCJUZW5zb3JBcnJheSBcIit0aGlzLm5hbWUrXCIgaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQuXCIpO2lmKGU8MHx8IXRoaXMuZHluYW1pY1NpemUmJmU+PXRoaXMubWF4U2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJUcmllZCB0byB3cml0ZSB0byBpbmRleCBcIitlK1wiLCBidXQgYXJyYXkgaXMgbm90IHJlc2l6ZWFibGUgYW5kIHNpemUgaXM6IFwiK3RoaXMubWF4U2l6ZSk7dmFyIGE9dGhpcy50ZW5zb3JzW2VdfHx7fTtpZih0LmR0eXBlIT09dGhpcy5kdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJUZW5zb3JBcnJheSBcIit0aGlzLm5hbWUrXCI6IENvdWxkIG5vdCB3cml0ZSB0byBUZW5zb3JBcnJheSBpbmRleCBcIitlK1wiLFxcbiAgICAgICAgICBiZWNhdXNlIHRoZSB2YWx1ZSBkdHlwZSBpcyBcIit0LmR0eXBlK1wiLCBidXQgVGVuc29yQXJyYXkgZHR5cGUgaXMgXCIrdGhpcy5kdHlwZStcIi5cIik7aWYoMCE9PXRoaXMuc2l6ZSgpfHxudWxsIT10aGlzLmVsZW1lbnRTaGFwZSYmMCE9PXRoaXMuZWxlbWVudFNoYXBlLmxlbmd0aHx8KHRoaXMuZWxlbWVudFNoYXBlPXQuc2hhcGUpLHRoaXMuYXNzZXJ0U2hhcGVzTWF0Y2hBbGxvd1VuZGVmaW5lZFNpemUodGhpcy5lbGVtZW50U2hhcGUsdC5zaGFwZSxcIlRlbnNvckFycmF5IFwiK3RoaXMubmFtZStcIjogQ291bGQgbm90IHdyaXRlIHRvIFRlbnNvckFycmF5IGluZGV4IFwiK2UrXCIuXCIpLGEmJmEucmVhZCl0aHJvdyBuZXcgRXJyb3IoXCJUZW5zb3JBcnJheSBcIit0aGlzLm5hbWUrXCI6IENvdWxkIG5vdCB3cml0ZSB0byBUZW5zb3JBcnJheSBpbmRleCBcIitlK1wiLCBiZWNhdXNlIGl0IGhhcyBhbHJlYWR5IGJlZW4gcmVhZC5cIik7aWYoYSYmYS53cml0dGVuKXRocm93IG5ldyBFcnJvcihcIlRlbnNvckFycmF5IFwiK3RoaXMubmFtZStcIjogQ291bGQgbm90IHdyaXRlIHRvIFRlbnNvckFycmF5IGluZGV4IFwiK2UrXCIsIGJlY2F1c2UgaXQgaGFzIGFscmVhZHkgYmVlbiB3cml0dGVuLlwiKTthLnRlbnNvcj10LGEud3JpdHRlbj0hMCx0aGlzLnRlbnNvcnNbZV09YX0sZS5wcm90b3R5cGUud3JpdGVNYW55PWZ1bmN0aW9uKGUsdCl7dmFyIGE9dGhpcztpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRlbnNvckFycmF5IFwiK3RoaXMubmFtZStcIjogY291bGQgbm90IHdyaXRlIG11bHRpcGxlIHRlbnNvcnMsYmVjYXVzZSB0aGUgaW5kZXggc2l6ZTogXCIrZS5sZW5ndGgrXCIgaXMgbm90IHRoZSBzYW1lIGFzIHRlbnNvcnMgc2l6ZTogXCIrdC5sZW5ndGgrXCIuXCIpO2UuZm9yRWFjaChmdW5jdGlvbihlLHIpe3JldHVybiBhLndyaXRlKGUsdFtyXSl9KX0sZS5wcm90b3R5cGUuZ2F0aGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdCE9PXRoaXMuZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVGVuc29yQXJyYXkgZHR5cGUgaXMgXCIrdGhpcy5kdHlwZStcIiBidXQgZ2F0aGVyIHJlcXVlc3RlZCBkdHlwZSBcIit0KTtpZighZSl7ZT1bXTtmb3IodmFyIGE9MDthPHRoaXMuc2l6ZSgpO2ErKyllLnB1c2goYSl9aWYoMD09PWUubGVuZ3RoKXJldHVybiB0ZW5zb3IoW10sWzBdLmNvbmNhdCh0aGlzLmVsZW1lbnRTaGFwZSkpO3ZhciByPXRoaXMucmVhZE1hbnkoZSk7cmV0dXJuIHRoaXMuYXNzZXJ0U2hhcGVzTWF0Y2hBbGxvd1VuZGVmaW5lZFNpemUodGhpcy5lbGVtZW50U2hhcGUsclswXS5zaGFwZSxcIlRlbnNvckFycmF5IHNoYXBlIG1pc21hdGNoOiBcIiksc3RhY2sociwwKX0sZS5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKGUpe2lmKGUmJmUhPT10aGlzLmR0eXBlKXRocm93IG5ldyBFcnJvcihcIlRlbnNvckFycmF5IGR0eXBlIGlzIFwiK3RoaXMuZHR5cGUrXCIgYnV0IGNvbmNhdCByZXF1ZXN0ZWQgZHR5cGUgXCIrZSk7aWYoMD09PXRoaXMuc2l6ZSgpKXJldHVybiB0ZW5zb3IoW10sWzBdLmNvbmNhdCh0aGlzLmVsZW1lbnRTaGFwZSkpO2Zvcih2YXIgdD1bXSxhPTA7YTx0aGlzLnNpemUoKTthKyspdC5wdXNoKGEpO3ZhciByPXRoaXMucmVhZE1hbnkodCk7cmV0dXJuIHRoaXMuYXNzZXJ0U2hhcGVzTWF0Y2hBbGxvd1VuZGVmaW5lZFNpemUodGhpcy5lbGVtZW50U2hhcGUsclswXS5zaGFwZSxcIlRlbnNvckFycmF5IHNoYXBlIG1pc21hdGNoOiB0ZW5zb3IgYXJyYXkgc2hhcGUgKFwiK3RoaXMuZWxlbWVudFNoYXBlK1wiKSB2cyBmaXJzdCB0ZW5zb3Igc2hhcGUgKFwiK3JbMF0uc2hhcGUrXCIpXCIpLGNvbmNhdChyLDApfSxlLnByb3RvdHlwZS5zY2F0dGVyPWZ1bmN0aW9uKGUsdCl7aWYodC5kdHlwZSE9PXRoaXMuZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVGVuc29yQXJyYXkgZHR5cGUgaXMgXCIrdGhpcy5kdHlwZStcIiBidXQgdGVuc29yIGhhcyBkdHlwZSBcIit0LmR0eXBlKTtpZihlLmxlbmd0aCE9PXQuc2hhcGVbMF0pdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgbGVuKGluZGljZXMpID09IHRlbnNvci5zaGFwZVswXSwgYnV0IHNhdzogXCIrZS5sZW5ndGgrXCIgdnMuIFwiK3Quc2hhcGVbMF0pO3ZhciBhPU1hdGgubWF4LmFwcGx5KE1hdGgsZSk7aWYoIXRoaXMuZHluYW1pY1NpemUmJmE+PXRoaXMubWF4U2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJNYXggaW5kZXggbXVzdCBiZSA8IGFycmF5IHNpemUgKFwiK2ErXCIgIHZzLiBcIit0aGlzLm1heFNpemUrXCIpXCIpO3RoaXMud3JpdGVNYW55KGUsdW5zdGFjayh0LDApKX0sZS5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24oZSx0KXt2YXIgYT10aGlzO2lmKHQuZHR5cGUhPT10aGlzLmR0eXBlKXRocm93IG5ldyBFcnJvcihcIlRlbnNvckFycmF5IGR0eXBlIGlzIFwiK3RoaXMuZHR5cGUrXCIgYnV0IHRlbnNvciBoYXMgZHR5cGUgXCIrdC5kdHlwZSk7dmFyIHI9MCxuPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByKz1lfSk7aWYociE9PXQuc2hhcGVbMF0pdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgc3VtIG9mIGxlbmd0aHMgdG8gYmUgZXF1YWwgdG9cXG4gICAgICAgICAgdGVuc29yLnNoYXBlWzBdLCBidXQgc3VtIG9mIGxlbmd0aHMgaXNcXG4gICAgICAgIFwiK3IrXCIsIGFuZCB0ZW5zb3IncyBzaGFwZSBpczogXCIrdC5zaGFwZSk7aWYoIXRoaXMuZHluYW1pY1NpemUmJmUubGVuZ3RoIT09dGhpcy5tYXhTaXplKXRocm93IG5ldyBFcnJvcihcIlRlbnNvckFycmF5J3Mgc2l6ZSBpcyBub3QgZXF1YWwgdG8gdGhlIHNpemUgb2YgbGVuZ3RocyAoXCIrdGhpcy5tYXhTaXplK1wiIHZzLiBcIitlLmxlbmd0aCtcIiksIGFuZCB0aGUgVGVuc29yQXJyYXkgaXMgbm90IG1hcmtlZCBhcyBkeW5hbWljYWxseSByZXNpemVhYmxlXCIpO3ZhciBzPTA9PT1yPzA6dC5zaXplL3Isbz1bXTt0aWR5KGZ1bmN0aW9uKCl7dD10LnJlc2hhcGUoWzEscixzXSk7Zm9yKHZhciBwPTA7cDxlLmxlbmd0aDsrK3Ape3ZhciB1PVswLDA9PT1wPzA6bltwLTFdLDBdLGk9WzEsZVtwXSxzXTtvW3BdPXNsaWNlKHQsdSxpKS5yZXNoYXBlKGEuZWxlbWVudFNoYXBlKX1yZXR1cm4gb30pO2Zvcih2YXIgcD1bXSx1PTA7dTxlLmxlbmd0aDt1KyspcFt1XT11O3RoaXMud3JpdGVNYW55KHAsbyl9LGUucHJvdG90eXBlLmFzc2VydFNoYXBlc01hdGNoQWxsb3dVbmRlZmluZWRTaXplPWZ1bmN0aW9uKGUsdCxhKXt2b2lkIDA9PT1hJiYoYT1cIlwiKSx1dGlsLmFzc2VydCh0aGlzLnNoYXBlc0VxdWFsQWxsb3dVbmRlZmluZWRTaXplKGUsdCksZnVuY3Rpb24oKXtyZXR1cm4gYStcIiBTaGFwZXMgXCIrZStcIiBhbmQgXCIrdCtcIiBtdXN0IG1hdGNoXCJ9KX0sZS5wcm90b3R5cGUuc2hhcGVzRXF1YWxBbGxvd1VuZGVmaW5lZFNpemU9ZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKWlmKC0xIT09ZVthXSYmLTEhPT10W2FdJiZlW2FdIT09dFthXSlyZXR1cm4hMTtyZXR1cm4hMH0sZS5uZXh0SWQ9MCxlfSgpLF90aGlzPXZvaWQgMCxleGVjdXRlT3AkMj1mdW5jdGlvbihlLHQsYSl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIsbixzLG8scCx1LGksbSxsLGMsZCx5LGYsZyxoLE4seCxWLGIsUCxULHYsTyxTLF8sdyxBLEQsRSxJLE0sQyxrLHosRjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihqKXtzd2l0Y2goai5sYWJlbCl7Y2FzZSAwOnN3aXRjaChlLm9wKXtjYXNlXCJMb29wQ29uZFwiOnJldHVyblszLDFdO2Nhc2VcIlN3aXRjaFwiOnJldHVyblszLDJdO2Nhc2VcIk1lcmdlXCI6cmV0dXJuWzMsNF07Y2FzZVwiRW50ZXJcIjpyZXR1cm5bMyw1XTtjYXNlXCJFeGl0XCI6cmV0dXJuWzMsNl07Y2FzZVwiTmV4dEl0ZXJhdGlvblwiOnJldHVyblszLDddO2Nhc2VcIlRlbnNvckFycmF5VjNcIjpyZXR1cm5bMyw4XTtjYXNlXCJUZW5zb3JBcnJheVdyaXRlVjNcIjpyZXR1cm5bMyw5XTtjYXNlXCJUZW5zb3JBcnJheVJlYWRWM1wiOnJldHVyblszLDEwXTtjYXNlXCJUZW5zb3JBcnJheUdhdGhlclYzXCI6cmV0dXJuWzMsMTFdO2Nhc2VcIlRlbnNvckFycmF5U2NhdHRlclYzXCI6cmV0dXJuWzMsMTJdO2Nhc2VcIlRlbnNvckFycmF5Q29uY2F0VjNcIjpyZXR1cm5bMywxM107Y2FzZVwiVGVuc29yQXJyYXlTcGxpdFYzXCI6cmV0dXJuWzMsMTRdO2Nhc2VcIlRlbnNvckFycmF5U2l6ZVYzXCI6cmV0dXJuWzMsMTVdO2Nhc2VcIlRlbnNvckFycmF5Q2xvc2VWM1wiOnJldHVyblszLDE2XX1yZXR1cm5bMywxN107Y2FzZSAxOnJldHVyblsyLFtnZXRQYXJhbVZhbHVlKFwicHJlZFwiLGUsdCxhKS5jbG9uZSgpXV07Y2FzZSAyOnJldHVybiByPWdldFBhcmFtVmFsdWUoXCJwcmVkXCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcImRhdGFcIixlLHQsYSksWzQsci5kYXRhKCldO2Nhc2UgMzpyZXR1cm5bMixqLnNlbnQoKVswXT9bdm9pZCAwLG4uY2xvbmUoKV06W24uY2xvbmUoKSx2b2lkIDBdXTtjYXNlIDQ6cmV0dXJuWzIsKHM9ZS5pbnB1dE5hbWVzLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWdldFRlbnNvcihlLHQsYSl9KSk/W2dldFRlbnNvcihzLHQsYSkuY2xvbmUoKV06dm9pZCAwXTtjYXNlIDU6cmV0dXJuIG89Z2V0UGFyYW1WYWx1ZShcImZyYW1lTmFtZVwiLGUsdCxhKSxwPWdldFBhcmFtVmFsdWUoXCJ0ZW5zb3JcIixlLHQsYSksYS5lbnRlckZyYW1lKG8pLFsyLFtwLmNsb25lKCldXTtjYXNlIDY6cmV0dXJuIHU9Z2V0UGFyYW1WYWx1ZShcInRlbnNvclwiLGUsdCxhKSxhLmV4aXRGcmFtZSgpLFsyLFt1LmNsb25lKCldXTtjYXNlIDc6cmV0dXJuIGk9Z2V0UGFyYW1WYWx1ZShcInRlbnNvclwiLGUsdCxhKSxhLm5leHRJdGVyYXRpb24oKSxbMixbaS5jbG9uZSgpXV07Y2FzZSA4OnJldHVybiBtPWdldFBhcmFtVmFsdWUoXCJzaXplXCIsZSx0LGEpLGw9Z2V0UGFyYW1WYWx1ZShcImR0eXBlXCIsZSx0LGEpLGM9Z2V0UGFyYW1WYWx1ZShcImVsZW1lbnRTaGFwZVwiLGUsdCxhKSxkPWdldFBhcmFtVmFsdWUoXCJkeW5hbWljU2l6ZVwiLGUsdCxhKSx5PWdldFBhcmFtVmFsdWUoXCJjbGVhckFmdGVyUmVhZFwiLGUsdCxhKSxmPWdldFBhcmFtVmFsdWUoXCJpZGVudGljYWxFbGVtZW50U2hhcGVzXCIsZSx0LGEpLGc9Z2V0UGFyYW1WYWx1ZShcIm5hbWVcIixlLHQsYSksaD1uZXcgVGVuc29yQXJyYXkoZyxsLG0sYyxmLGQseSksYS5hZGRUZW5zb3JBcnJheShoKSxbMixbc2NhbGFyKGguaWQpLHNjYWxhcigxKV1dO2Nhc2UgOTpyZXR1cm4gTj1nZXRQYXJhbVZhbHVlKFwidGVuc29yQXJyYXlJZFwiLGUsdCxhKSx4PWdldFBhcmFtVmFsdWUoXCJpbmRleFwiLGUsdCxhKSxWPWdldFBhcmFtVmFsdWUoXCJ0ZW5zb3JcIixlLHQsYSksYS5nZXRUZW5zb3JBcnJheShOKS53cml0ZSh4LFYpLFsyLFtzY2FsYXIoMSldXTtjYXNlIDEwOnJldHVybiBiPWdldFBhcmFtVmFsdWUoXCJ0ZW5zb3JBcnJheUlkXCIsZSx0LGEpLFA9Z2V0UGFyYW1WYWx1ZShcImluZGV4XCIsZSx0LGEpLFsyLFthLmdldFRlbnNvckFycmF5KGIpLnJlYWQoUCldXTtjYXNlIDExOnJldHVybiBUPWdldFBhcmFtVmFsdWUoXCJ0ZW5zb3JBcnJheUlkXCIsZSx0LGEpLHY9Z2V0UGFyYW1WYWx1ZShcImluZGljZXNcIixlLHQsYSksTz1nZXRQYXJhbVZhbHVlKFwiZHR5cGVcIixlLHQsYSksWzIsW2EuZ2V0VGVuc29yQXJyYXkoVCkuZ2F0aGVyKHYsTyldXTtjYXNlIDEyOnJldHVybiBTPWdldFBhcmFtVmFsdWUoXCJ0ZW5zb3JBcnJheUlkXCIsZSx0LGEpLF89Z2V0UGFyYW1WYWx1ZShcImluZGljZXNcIixlLHQsYSksdz1nZXRQYXJhbVZhbHVlKFwidGVuc29yXCIsZSx0LGEpLGEuZ2V0VGVuc29yQXJyYXkoUykuc2NhdHRlcihfLHcpLFsyLFtzY2FsYXIoMSldXTtjYXNlIDEzOnJldHVybiBBPWdldFBhcmFtVmFsdWUoXCJ0ZW5zb3JBcnJheUlkXCIsZSx0LGEpLEQ9YS5nZXRUZW5zb3JBcnJheShBKSxFPWdldFBhcmFtVmFsdWUoXCJkdHlwZVwiLGUsdCxhKSxbMixbRC5jb25jYXQoRSldXTtjYXNlIDE0OnJldHVybiBJPWdldFBhcmFtVmFsdWUoXCJ0ZW5zb3JBcnJheUlkXCIsZSx0LGEpLE09Z2V0UGFyYW1WYWx1ZShcInRlbnNvclwiLGUsdCxhKSxDPWdldFBhcmFtVmFsdWUoXCJsZW5ndGhzXCIsZSx0LGEpLGEuZ2V0VGVuc29yQXJyYXkoSSkuc3BsaXQoQyxNKSxbMixbc2NhbGFyKDEpXV07Y2FzZSAxNTpyZXR1cm4gaz1nZXRQYXJhbVZhbHVlKFwidGVuc29yQXJyYXlJZFwiLGUsdCxhKSx6PWEuZ2V0VGVuc29yQXJyYXkoayksWzIsW3NjYWxhcih6LnNpemUoKSxcImludDMyXCIpXV07Y2FzZSAxNjpyZXR1cm4gRj1nZXRQYXJhbVZhbHVlKFwidGVuc29yQXJyYXlJZFwiLGUsdCxhKSxhLmdldFRlbnNvckFycmF5KEYpLmNsZWFyQW5kQ2xvc2UoKSxbMixbc2NhbGFyKDApXV07Y2FzZSAxNzp0aHJvdyBUeXBlRXJyb3IoXCJOb2RlIHR5cGUgXCIrZS5vcCtcIiBpcyBub3QgaW1wbGVtZW50ZWRcIil9fSl9KX0sZXhlY3V0ZU9wJDM9ZnVuY3Rpb24oZSx0LGEpe3N3aXRjaChlLm9wKXtjYXNlXCJDb252MURcIjp2YXIgcj1nZXRQYXJhbVZhbHVlKFwic3RyaWRlXCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcInBhZFwiLGUsdCxhKSxzPWdldFBhcmFtVmFsdWUoXCJkYXRhRm9ybWF0XCIsZSx0LGEpLnRvVXBwZXJDYXNlKCksbz1nZXRQYXJhbVZhbHVlKFwiZGlsYXRpb25cIixlLHQsYSk7cmV0dXJuW2NvbnYxZChnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiZmlsdGVyXCIsZSx0LGEpLHIsbixzLG8pXTtjYXNlXCJDb252MkRcIjpyPWdldFBhcmFtVmFsdWUoXCJzdHJpZGVzXCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcInBhZFwiLGUsdCxhKSxzPWdldFBhcmFtVmFsdWUoXCJkYXRhRm9ybWF0XCIsZSx0LGEpLnRvVXBwZXJDYXNlKCk7dmFyIHA9Z2V0UGFyYW1WYWx1ZShcImRpbGF0aW9uc1wiLGUsdCxhKTtyZXR1cm5bY29udjJkKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJmaWx0ZXJcIixlLHQsYSksW3JbMV0sclsyXV0sbixzLFtwWzFdLHBbMl1dKV07Y2FzZVwiX0Z1c2VkQ29udjJEXCI6Y2FzZVwiRnVzZWREZXB0aHdpc2VDb252MmROYXRpdmVcIjp2YXIgdT1nZXRQYXJhbVZhbHVlKFwiZnVzZWRPcHNcIixlLHQsYSksaT11WzBdLG09dVsxXSxsPVwiYmlhc2FkZFwiPT09aSxjPVwicHJlbHVcIj09PW0sZD1cImZ1c2VkYmF0Y2hub3JtXCI9PT1pLHk9Z2V0UGFyYW1WYWx1ZShcIm51bUFyZ3NcIixlLHQsYSk7aWYobCl7aWYoYyYmMiE9PXkpdGhyb3cgbmV3IEVycm9yKFwiRnVzZWRDb252MmQgYW5kIERlcHRod2lzZUNvbnYyZCB3aXRoIEJpYXNBZGQgYW5kIFByZWx1IG11c3QgaGF2ZSB0d28gZXh0cmEgYXJndW1lbnRzOiBiaWFzIGFuZCBhbHBoYS5cIik7aWYoIWMmJjEhPT15KXRocm93IG5ldyBFcnJvcihcIkZ1c2VkQ29udjJkIGFuZCBEZXB0aHdpc2VDb252MmQgd2l0aCBCaWFzQWRkIG11c3QgaGF2ZSBvbmUgZXh0cmEgYXJndW1lbnQ6IGJpYXMuXCIpfWlmKGQpdGhyb3cgbmV3IEVycm9yKFwiRnVzZWRDb252MmQgYW5kIERlcHRod2lzZUNvbnYyZCB3aXRoIEZ1c2VkQmF0Y2hOb3JtIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO3I9Z2V0UGFyYW1WYWx1ZShcInN0cmlkZXNcIixlLHQsYSksbj1nZXRQYXJhbVZhbHVlKFwicGFkXCIsZSx0LGEpLHM9Z2V0UGFyYW1WYWx1ZShcImRhdGFGb3JtYXRcIixlLHQsYSkudG9VcHBlckNhc2UoKSxwPWdldFBhcmFtVmFsdWUoXCJkaWxhdGlvbnNcIixlLHQsYSk7dmFyIGY9Z2V0UGFyYW1WYWx1ZShcImFyZ3NcIixlLHQsYSksZz1mWzBdLGg9ZlsxXTtyZXR1cm5bKFwiX0Z1c2VkQ29udjJEXCI9PT1lLm9wP2Z1c2VkLmNvbnYyZDpmdXNlZC5kZXB0aHdpc2VDb252MmQpKHt4OmdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLGZpbHRlcjpnZXRQYXJhbVZhbHVlKFwiZmlsdGVyXCIsZSx0LGEpLHN0cmlkZXM6W3JbMV0sclsyXV0scGFkOm4sZGF0YUZvcm1hdDpzLGRpbGF0aW9uczpbcFsxXSxwWzJdXSxiaWFzOmcsYWN0aXZhdGlvbjptLHByZWx1QWN0aXZhdGlvbldlaWdodHM6aH0pXTtjYXNlXCJDb252MkRCYWNrcHJvcElucHV0XCI6Y2FzZVwiQ29udjJkVHJhbnNwb3NlXCI6dmFyIE49Z2V0UGFyYW1WYWx1ZShcIm91dHB1dFNoYXBlXCIsZSx0LGEpO3I9Z2V0UGFyYW1WYWx1ZShcInN0cmlkZXNcIixlLHQsYSksbj1nZXRQYXJhbVZhbHVlKFwicGFkXCIsZSx0LGEpO3JldHVybltjb252MmRUcmFuc3Bvc2UoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImZpbHRlclwiLGUsdCxhKSxOLFtyWzFdLHJbMl1dLG4pXTtjYXNlXCJEZXB0aHdpc2VDb252MmROYXRpdmVcIjpjYXNlXCJEZXB0aHdpc2VDb252MmRcIjpyPWdldFBhcmFtVmFsdWUoXCJzdHJpZGVzXCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcInBhZFwiLGUsdCxhKSxwPWdldFBhcmFtVmFsdWUoXCJkaWxhdGlvbnNcIixlLHQsYSkscz1nZXRQYXJhbVZhbHVlKFwiZGF0YUZvcm1hdFwiLGUsdCxhKS50b1VwcGVyQ2FzZSgpO3JldHVybltkZXB0aHdpc2VDb252MmQoZ2V0UGFyYW1WYWx1ZShcImlucHV0XCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJmaWx0ZXJcIixlLHQsYSksW3JbMV0sclsyXV0sbixzLFtwWzFdLHBbMl1dKV07Y2FzZVwiQ29udjNEXCI6cj1nZXRQYXJhbVZhbHVlKFwic3RyaWRlc1wiLGUsdCxhKSxuPWdldFBhcmFtVmFsdWUoXCJwYWRcIixlLHQsYSkscz1nZXRQYXJhbVZhbHVlKFwiZGF0YUZvcm1hdFwiLGUsdCxhKS50b1VwcGVyQ2FzZSgpLHA9Z2V0UGFyYW1WYWx1ZShcImRpbGF0aW9uc1wiLGUsdCxhKTtyZXR1cm5bY29udjNkKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJmaWx0ZXJcIixlLHQsYSksW3JbMV0sclsyXSxyWzNdXSxuLHMsW3BbMV0scFsyXSxwWzNdXSldO2Nhc2VcIkF2Z1Bvb2xcIjpyPWdldFBhcmFtVmFsdWUoXCJzdHJpZGVzXCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcInBhZFwiLGUsdCxhKTt2YXIgeD1nZXRQYXJhbVZhbHVlKFwia2VybmVsU2l6ZVwiLGUsdCxhKTtyZXR1cm5bYXZnUG9vbChnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxbeFsxXSx4WzJdXSxbclsxXSxyWzJdXSxuKV07Y2FzZVwiTWF4UG9vbFwiOnI9Z2V0UGFyYW1WYWx1ZShcInN0cmlkZXNcIixlLHQsYSksbj1nZXRQYXJhbVZhbHVlKFwicGFkXCIsZSx0LGEpLHg9Z2V0UGFyYW1WYWx1ZShcImtlcm5lbFNpemVcIixlLHQsYSk7cmV0dXJuW21heFBvb2woZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSksW3hbMV0seFsyXV0sW3JbMV0sclsyXV0sbildO2Nhc2VcIk1heFBvb2xXaXRoQXJnbWF4XCI6cj1nZXRQYXJhbVZhbHVlKFwic3RyaWRlc1wiLGUsdCxhKSxuPWdldFBhcmFtVmFsdWUoXCJwYWRcIixlLHQsYSkseD1nZXRQYXJhbVZhbHVlKFwia2VybmVsU2l6ZVwiLGUsdCxhKTt2YXIgVj1nZXRQYXJhbVZhbHVlKFwiaW5jbHVkZUJhdGNoSW5JbmRleFwiLGUsdCxhKSxiPW1heFBvb2xXaXRoQXJnbWF4KGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLFt4WzFdLHhbMl1dLFtyWzFdLHJbMl1dLG4sVik7cmV0dXJuW2IucmVzdWx0LGIuaW5kZXhlc107Y2FzZVwiQXZnUG9vbDNEXCI6cj1nZXRQYXJhbVZhbHVlKFwic3RyaWRlc1wiLGUsdCxhKSxuPWdldFBhcmFtVmFsdWUoXCJwYWRcIixlLHQsYSkseD1nZXRQYXJhbVZhbHVlKFwia2VybmVsU2l6ZVwiLGUsdCxhKTtyZXR1cm5bYXZnUG9vbDNkKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLFt4WzFdLHhbMl0seFszXV0sW3JbMV0sclsyXSxyWzNdXSxuKV07Y2FzZVwiTWF4UG9vbDNEXCI6cj1nZXRQYXJhbVZhbHVlKFwic3RyaWRlc1wiLGUsdCxhKSxuPWdldFBhcmFtVmFsdWUoXCJwYWRcIixlLHQsYSkseD1nZXRQYXJhbVZhbHVlKFwia2VybmVsU2l6ZVwiLGUsdCxhKTtyZXR1cm5bbWF4UG9vbDNkKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLFt4WzFdLHhbMl0seFszXV0sW3JbMV0sclsyXSxyWzNdXSxuKV07ZGVmYXVsdDp0aHJvdyBUeXBlRXJyb3IoXCJOb2RlIHR5cGUgXCIrZS5vcCtcIiBpcyBub3QgaW1wbGVtZW50ZWRcIil9fSxleGVjdXRlT3AkND1mdW5jdGlvbihlLHQsYSl7c3dpdGNoKGUub3Ape2Nhc2VcIkZpbGxcIjp2YXIgcj1nZXRQYXJhbVZhbHVlKFwic2hhcGVcIixlLHQsYSksbj1nZXRQYXJhbVZhbHVlKFwiZHR5cGVcIixlLHQsYSkscz1nZXRQYXJhbVZhbHVlKFwidmFsdWVcIixlLHQsYSk7cmV0dXJuW2ZpbGwocixzLG4pXTtjYXNlXCJMaW5TcGFjZVwiOnZhciBvPWdldFBhcmFtVmFsdWUoXCJzdGFydFwiLGUsdCxhKSxwPWdldFBhcmFtVmFsdWUoXCJzdG9wXCIsZSx0LGEpLHU9Z2V0UGFyYW1WYWx1ZShcIm51bVwiLGUsdCxhKTtyZXR1cm5bbGluc3BhY2UobyxwLHUpXTtjYXNlXCJNdWx0aW5vbWlhbFwiOnZhciBpPWdldFBhcmFtVmFsdWUoXCJsb2dpdHNcIixlLHQsYSksbT1nZXRQYXJhbVZhbHVlKFwibnVtU2FtcGxlc1wiLGUsdCxhKSxsPWdldFBhcmFtVmFsdWUoXCJzZWVkXCIsZSx0LGEpO3JldHVyblttdWx0aW5vbWlhbChpLG0sbCldO2Nhc2VcIk9uZUhvdFwiOnZhciBjPWdldFBhcmFtVmFsdWUoXCJpbmRpY2VzXCIsZSx0LGEpLGQ9Z2V0UGFyYW1WYWx1ZShcImRlcHRoXCIsZSx0LGEpLHk9Z2V0UGFyYW1WYWx1ZShcIm9uVmFsdWVcIixlLHQsYSksZj1nZXRQYXJhbVZhbHVlKFwib2ZmVmFsdWVcIixlLHQsYSk7cmV0dXJuW29uZUhvdChjLGQseSxmKV07Y2FzZVwiT25lc1wiOnJldHVybltvbmVzKGdldFBhcmFtVmFsdWUoXCJzaGFwZVwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiZHR5cGVcIixlLHQsYSkpXTtjYXNlXCJPbmVzTGlrZVwiOnJldHVybltvbmVzTGlrZShnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSldO2Nhc2VcIlJhbmRvbVVuaWZvcm1cIjpyZXR1cm5bcmFuZG9tVW5pZm9ybShnZXRQYXJhbVZhbHVlKFwic2hhcGVcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcIm1pbnZhbFwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwibWF4dmFsXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJkdHlwZVwiLGUsdCxhKSldO2Nhc2VcIlJhbmdlXCI6bz1nZXRQYXJhbVZhbHVlKFwic3RhcnRcIixlLHQsYSk7dmFyIGc9Z2V0UGFyYW1WYWx1ZShcInN0b3BcIixlLHQsYSksaD1nZXRQYXJhbVZhbHVlKFwic3RlcFwiLGUsdCxhKTtyZXR1cm5bcmFuZ2UobyxnLGgsZ2V0UGFyYW1WYWx1ZShcImR0eXBlXCIsZSx0LGEpKV07Y2FzZVwiVHJ1bmNhdGVkTm9ybWFsXCI6cj1nZXRQYXJhbVZhbHVlKFwic2hhcGVcIixlLHQsYSk7dmFyIE49Z2V0UGFyYW1WYWx1ZShcIm1lYW5cIixlLHQsYSkseD1nZXRQYXJhbVZhbHVlKFwic3RkRGV2XCIsZSx0LGEpO2w9Z2V0UGFyYW1WYWx1ZShcInNlZWRcIixlLHQsYSk7cmV0dXJuW3RydW5jYXRlZE5vcm1hbChyLE4seCxnZXRQYXJhbVZhbHVlKFwiZHR5cGVcIixlLHQsYSksbCldO2Nhc2VcIlplcm9zXCI6cmV0dXJuW3plcm9zKGdldFBhcmFtVmFsdWUoXCJzaGFwZVwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiZHR5cGVcIixlLHQsYSkpXTtjYXNlXCJaZXJvc0xpa2VcIjpyZXR1cm5bemVyb3NMaWtlKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07ZGVmYXVsdDp0aHJvdyBUeXBlRXJyb3IoXCJOb2RlIHR5cGUgXCIrZS5vcCtcIiBpcyBub3QgaW1wbGVtZW50ZWRcIil9fSxfdGhpcyQxPXZvaWQgMCxleGVjdXRlT3AkNT1mdW5jdGlvbihlLHQsYSl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyQxLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcixuLHMsbyxwLHUsaSxtO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGwpe3N3aXRjaChsLmxhYmVsKXtjYXNlIDA6c3dpdGNoKGUub3Ape2Nhc2VcIk5vbk1heFN1cHByZXNzaW9uVjVcIjpjYXNlXCJOb25NYXhTdXBwcmVzc2lvblYzXCI6Y2FzZVwiTm9uTWF4U3VwcHJlc3Npb25WMlwiOnJldHVyblszLDFdO2Nhc2VcIldoZXJlXCI6cmV0dXJuWzMsNV07Y2FzZVwiTGlzdERpZmZcIjpyZXR1cm5bMyw3XX1yZXR1cm5bMyw4XTtjYXNlIDE6cmV0dXJuIHI9Z2V0UGFyYW1WYWx1ZShcImJveGVzXCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcInNjb3Jlc1wiLGUsdCxhKSxzPWdldFBhcmFtVmFsdWUoXCJtYXhPdXRwdXRTaXplXCIsZSx0LGEpLG89Z2V0UGFyYW1WYWx1ZShcImlvdVRocmVzaG9sZFwiLGUsdCxhKSxwPWdldFBhcmFtVmFsdWUoXCJzY29yZVRocmVzaG9sZFwiLGUsdCxhKSxcIk5vbk1heFN1cHByZXNzaW9uVjVcIiE9PWUub3A/WzMsM106KHU9Z2V0UGFyYW1WYWx1ZShcInNvZnRObXNTaWdtYVwiLGUsdCxhKSxbNCxpbWFnZS5ub25NYXhTdXBwcmVzc2lvbldpdGhTY29yZUFzeW5jKHIsbixzLG8scCx1KV0pO2Nhc2UgMjpyZXR1cm5bMixbKG09bC5zZW50KCkpLnNlbGVjdGVkSW5kaWNlcyxtLnNlbGVjdGVkU2NvcmVzXV07Y2FzZSAzOnJldHVybls0LGltYWdlLm5vbk1heFN1cHByZXNzaW9uQXN5bmMocixuLHMsbyxwKV07Y2FzZSA0OnJldHVyblsyLFtsLnNlbnQoKV1dO2Nhc2UgNTpyZXR1cm4gaT1nZXRQYXJhbVZhbHVlKFwiY29uZGl0aW9uXCIsZSx0LGEpLmFzVHlwZShcImJvb2xcIiksWzQsd2hlcmVBc3luYyhpKV07Y2FzZSA2OnJldHVybiBtPVtsLnNlbnQoKV0saS5kaXNwb3NlKCksWzIsbV07Y2FzZSA3OnJldHVyblsyLHNldGRpZmYxZEFzeW5jKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJ5XCIsZSx0LGEpKV07Y2FzZSA4OnRocm93IFR5cGVFcnJvcihcIk5vZGUgdHlwZSBcIitlLm9wK1wiIGlzIG5vdCBpbXBsZW1lbnRlZFwiKX19KX0pfSxleGVjdXRlT3AkNj1mdW5jdGlvbihlLHQsYSl7c3dpdGNoKGUub3Ape2Nhc2VcIlRvcEtWMlwiOnZhciByPWdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcImtcIixlLHQsYSkscz1nZXRQYXJhbVZhbHVlKFwic29ydGVkXCIsZSx0LGEpLG89dG9wayhyLG4scyk7cmV0dXJuW28udmFsdWVzLG8uaW5kaWNlc107ZGVmYXVsdDp0aHJvdyBUeXBlRXJyb3IoXCJOb2RlIHR5cGUgXCIrZS5vcCtcIiBpcyBub3QgaW1wbGVtZW50ZWRcIil9fSxleGVjdXRlT3AkNz1mdW5jdGlvbihlLHQsYSl7c3dpdGNoKGUub3Ape2Nhc2VcIkNvbnN0XCI6cmV0dXJuIHRbZS5uYW1lXTtjYXNlXCJQbGFjZWhvbGRlcldpdGhEZWZhdWx0XCI6dmFyIHI9Z2V0UGFyYW1WYWx1ZShcImRlZmF1bHRcIixlLHQsYSk7cmV0dXJuW2dldFRlbnNvcihlLm5hbWUsdCxhKXx8cl07Y2FzZVwiUGxhY2Vob2xkZXJcIjpyZXR1cm5bZ2V0VGVuc29yKGUubmFtZSx0LGEpXTtjYXNlXCJJZGVudGl0eVwiOmNhc2VcIlN0b3BHcmFkaWVudFwiOmNhc2VcIkZha2VRdWFudFdpdGhNaW5NYXhWYXJzXCI6cmV0dXJuW2dldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLmNsb25lKCldO2Nhc2VcIklkZW50aXR5TlwiOnJldHVybiBnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xvbmUoKX0pO2Nhc2VcIlNuYXBzaG90XCI6cmV0dXJuW2dldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLmNsb25lKCldO2Nhc2VcIlNoYXBlXCI6cmV0dXJuW3RlbnNvcjFkKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLnNoYXBlLFwiaW50MzJcIildO2Nhc2VcIlNoYXBlTlwiOnJldHVybiBnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRlbnNvcjFkKGUuc2hhcGUpfSk7Y2FzZVwiU2l6ZVwiOnJldHVybltzY2FsYXIoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkuc2l6ZSxcImludDMyXCIpXTtjYXNlXCJSYW5rXCI6cmV0dXJuW3NjYWxhcihnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKS5yYW5rLFwiaW50MzJcIildO2Nhc2VcIk5vT3BcIjpyZXR1cm5bc2NhbGFyKDEpXTtjYXNlXCJQcmludFwiOnZhciBuPWdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLHM9Z2V0UGFyYW1WYWx1ZShcImRhdGFcIixlLHQsYSksbz1nZXRQYXJhbVZhbHVlKFwibWVzc2FnZVwiLGUsdCxhKSxwPWdldFBhcmFtVmFsdWUoXCJzdW1tYXJpemVcIixlLHQsYSk7Y29uc29sZS53YXJuKFwiVGhlIGdyYXBoIGhhcyBhIHRmLnByaW50KCkgb3BlcmF0aW9uLHVzdWFsbHkgdXNlZCBmb3IgZGVidWdnaW5nLCB3aGljaCBzbG93cyBkb3duIHBlcmZvcm1hbmNlLlwiKSxjb25zb2xlLmxvZyhvKTtmb3IodmFyIHU9MDt1PHMubGVuZ3RoO3UrKyljb25zb2xlLmxvZyhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChzW3VdLmRhdGFTeW5jKCkpLnNsaWNlKDAscCkpO3JldHVybltuXTtkZWZhdWx0OnRocm93IFR5cGVFcnJvcihcIk5vZGUgdHlwZSBcIitlLm9wK1wiIGlzIG5vdCBpbXBsZW1lbnRlZFwiKX19LGV4ZWN1dGVPcCQ4PWZ1bmN0aW9uKGUsdCxhKXtzd2l0Y2goZS5vcCl7Y2FzZVwiUmVzaXplQmlsaW5lYXJcIjp2YXIgcj1nZXRQYXJhbVZhbHVlKFwiaW1hZ2VzXCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcInNpemVcIixlLHQsYSkscz1nZXRQYXJhbVZhbHVlKFwiYWxpZ25Db3JuZXJzXCIsZSx0LGEpO3JldHVybltpbWFnZS5yZXNpemVCaWxpbmVhcihyLFtuWzBdLG5bMV1dLHMpXTtjYXNlXCJSZXNpemVOZWFyZXN0TmVpZ2hib3JcIjpyPWdldFBhcmFtVmFsdWUoXCJpbWFnZXNcIixlLHQsYSksbj1nZXRQYXJhbVZhbHVlKFwic2l6ZVwiLGUsdCxhKSxzPWdldFBhcmFtVmFsdWUoXCJhbGlnbkNvcm5lcnNcIixlLHQsYSk7cmV0dXJuW2ltYWdlLnJlc2l6ZU5lYXJlc3ROZWlnaGJvcihyLFtuWzBdLG5bMV1dLHMpXTtjYXNlXCJDcm9wQW5kUmVzaXplXCI6dmFyIG89Z2V0UGFyYW1WYWx1ZShcImltYWdlXCIsZSx0LGEpLHA9Z2V0UGFyYW1WYWx1ZShcImJveGVzXCIsZSx0LGEpLHU9Z2V0UGFyYW1WYWx1ZShcImJveEluZFwiLGUsdCxhKSxpPWdldFBhcmFtVmFsdWUoXCJjcm9wU2l6ZVwiLGUsdCxhKSxtPWdldFBhcmFtVmFsdWUoXCJtZXRob2RcIixlLHQsYSksbD1nZXRQYXJhbVZhbHVlKFwiZXh0cmFwb2xhdGlvblZhbHVlXCIsZSx0LGEpO3JldHVybltpbWFnZS5jcm9wQW5kUmVzaXplKG8scCx1LGksbSxsKV07ZGVmYXVsdDp0aHJvdyBUeXBlRXJyb3IoXCJOb2RlIHR5cGUgXCIrZS5vcCtcIiBpcyBub3QgaW1wbGVtZW50ZWRcIil9fSxleGVjdXRlT3AkOT1mdW5jdGlvbihlLHQsYSl7c3dpdGNoKGUub3Ape2Nhc2VcIkVxdWFsXCI6cmV0dXJuW2VxdWFsKGdldFBhcmFtVmFsdWUoXCJhXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJiXCIsZSx0LGEpKV07Y2FzZVwiTm90RXF1YWxcIjpyZXR1cm5bbm90RXF1YWwoZ2V0UGFyYW1WYWx1ZShcImFcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImJcIixlLHQsYSkpXTtjYXNlXCJHcmVhdGVyXCI6cmV0dXJuW2dyZWF0ZXIoZ2V0UGFyYW1WYWx1ZShcImFcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImJcIixlLHQsYSkpXTtjYXNlXCJHcmVhdGVyRXF1YWxcIjpyZXR1cm5bZ3JlYXRlckVxdWFsKGdldFBhcmFtVmFsdWUoXCJhXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJiXCIsZSx0LGEpKV07Y2FzZVwiTGVzc1wiOnJldHVybltsZXNzKGdldFBhcmFtVmFsdWUoXCJhXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJiXCIsZSx0LGEpKV07Y2FzZVwiTGVzc0VxdWFsXCI6cmV0dXJuW2xlc3NFcXVhbChnZXRQYXJhbVZhbHVlKFwiYVwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiYlwiLGUsdCxhKSldO2Nhc2VcIkxvZ2ljYWxBbmRcIjpyZXR1cm5bbG9naWNhbEFuZChnZXRQYXJhbVZhbHVlKFwiYVwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwiYlwiLGUsdCxhKSldO2Nhc2VcIkxvZ2ljYWxOb3RcIjpyZXR1cm5bbG9naWNhbE5vdChnZXRQYXJhbVZhbHVlKFwiYVwiLGUsdCxhKSldO2Nhc2VcIkxvZ2ljYWxPclwiOnJldHVybltsb2dpY2FsT3IoZ2V0UGFyYW1WYWx1ZShcImFcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImJcIixlLHQsYSkpXTtjYXNlXCJTZWxlY3RcIjpjYXNlXCJTZWxlY3RWMlwiOnJldHVyblt3aGVyZShnZXRQYXJhbVZhbHVlKFwiY29uZGl0aW9uXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJhXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJiXCIsZSx0LGEpKV07ZGVmYXVsdDp0aHJvdyBUeXBlRXJyb3IoXCJOb2RlIHR5cGUgXCIrZS5vcCtcIiBpcyBub3QgaW1wbGVtZW50ZWRcIil9fSxleGVjdXRlT3AkMTA9ZnVuY3Rpb24oZSx0LGEpe3N3aXRjaChlLm9wKXtjYXNlXCJCYXRjaE1hdE11bFwiOmNhc2VcIkJhdGNoTWF0TXVsVjJcIjpjYXNlXCJNYXRNdWxcIjpyZXR1cm5bbWF0TXVsKGdldFBhcmFtVmFsdWUoXCJhXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJiXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJ0cmFuc3Bvc2VBXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJ0cmFuc3Bvc2VCXCIsZSx0LGEpKV07Y2FzZVwiVHJhbnNwb3NlXCI6cmV0dXJuW3RyYW5zcG9zZShnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwicGVybVwiLGUsdCxhKSldO2Nhc2VcIl9GdXNlZE1hdE11bFwiOnZhciByPWdldFBhcmFtVmFsdWUoXCJmdXNlZE9wc1wiLGUsdCxhKSxuPXJbMF0scz1yWzFdLG89XCJiaWFzYWRkXCI9PT1uLHA9XCJwcmVsdVwiPT09cyx1PWdldFBhcmFtVmFsdWUoXCJudW1BcmdzXCIsZSx0LGEpO2lmKG8pe2lmKHAmJjIhPT11KXRocm93IG5ldyBFcnJvcihcIkZ1c2VkIE1hdE11bCB3aXRoIEJpYXNBZGQgYW5kIFByZWx1IG11c3QgaGF2ZSB0d28gZXh0cmEgYXJndW1lbnRzOiBiaWFzIGFuZCBhbHBoYS5cIik7aWYoIXAmJjEhPT11KXRocm93IG5ldyBFcnJvcihcIkZ1c2VkIE1hdE11bCB3aXRoIEJpYXNBZGQgbXVzdCBoYXZlIG9uZSBleHRyYSBhcmd1bWVudDogYmlhcy5cIil9dmFyIGk9Z2V0UGFyYW1WYWx1ZShcImFyZ3NcIixlLHQsYSksbT1pWzBdLGw9aVsxXTtyZXR1cm5bZnVzZWQubWF0TXVsKHthOmdldFBhcmFtVmFsdWUoXCJhXCIsZSx0LGEpLGI6Z2V0UGFyYW1WYWx1ZShcImJcIixlLHQsYSksdHJhbnNwb3NlQTpnZXRQYXJhbVZhbHVlKFwidHJhbnNwb3NlQVwiLGUsdCxhKSx0cmFuc3Bvc2VCOmdldFBhcmFtVmFsdWUoXCJ0cmFuc3Bvc2VCXCIsZSx0LGEpLGJpYXM6bSxhY3RpdmF0aW9uOnMscHJlbHVBY3RpdmF0aW9uV2VpZ2h0czpsfSldO2RlZmF1bHQ6dGhyb3cgVHlwZUVycm9yKFwiTm9kZSB0eXBlIFwiK2Uub3ArXCIgaXMgbm90IGltcGxlbWVudGVkXCIpfX0sZXhlY3V0ZU9wJDExPWZ1bmN0aW9uKGUsdCxhKXtzd2l0Y2goZS5vcCl7Y2FzZVwiRnVzZWRCYXRjaE5vcm1cIjpjYXNlXCJGdXNlZEJhdGNoTm9ybVYyXCI6Y2FzZVwiRnVzZWRCYXRjaE5vcm1WM1wiOnJldHVybltiYXRjaE5vcm0oZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcIm1lYW5cIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcInZhcmlhbmNlXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJvZmZzZXRcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcInNjYWxlXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJlcHNpbG9uXCIsZSx0LGEpKV07Y2FzZVwiTFJOXCI6cmV0dXJuW2xvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJyYWRpdXNcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImJpYXNcIixlLHQsYSksZ2V0UGFyYW1WYWx1ZShcImFscGhhXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJiZXRhXCIsZSx0LGEpKV07Y2FzZVwiU29mdG1heFwiOnJldHVybltzb2Z0bWF4KGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiTG9nU29mdG1heFwiOnJldHVybltsb2dTb2Z0bWF4KGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpKV07Y2FzZVwiU3BhcnNlVG9EZW5zZVwiOnJldHVybltzcGFyc2VUb0RlbnNlKGdldFBhcmFtVmFsdWUoXCJzcGFyc2VJbmRpY2VzXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJvdXRwdXRTaGFwZVwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwic3BhcnNlVmFsdWVzXCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJkZWZhdWx0VmFsdWVcIixlLHQsYSkpXTtkZWZhdWx0OnRocm93IFR5cGVFcnJvcihcIk5vZGUgdHlwZSBcIitlLm9wK1wiIGlzIG5vdCBpbXBsZW1lbnRlZFwiKX19LGV4ZWN1dGVPcCQxMj1mdW5jdGlvbihlLHQsYSl7c3dpdGNoKGUub3Ape2Nhc2VcIk1heFwiOnZhciByPWdldFBhcmFtVmFsdWUoXCJheGlzXCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcImtlZXBEaW1zXCIsZSx0LGEpO3JldHVyblttYXgoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkscixuKV07Y2FzZVwiTWVhblwiOnI9Z2V0UGFyYW1WYWx1ZShcImF4aXNcIixlLHQsYSksbj1nZXRQYXJhbVZhbHVlKFwia2VlcERpbXNcIixlLHQsYSk7cmV0dXJuW21lYW4oZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkscixuKV07Y2FzZVwiTWluXCI6cj1nZXRQYXJhbVZhbHVlKFwiYXhpc1wiLGUsdCxhKSxuPWdldFBhcmFtVmFsdWUoXCJrZWVwRGltc1wiLGUsdCxhKTtyZXR1cm5bbWluKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLHIsbildO2Nhc2VcIlN1bVwiOnI9Z2V0UGFyYW1WYWx1ZShcImF4aXNcIixlLHQsYSksbj1nZXRQYXJhbVZhbHVlKFwia2VlcERpbXNcIixlLHQsYSk7cmV0dXJuW3N1bShnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxyLG4pXTtjYXNlXCJBbGxcIjpyPWdldFBhcmFtVmFsdWUoXCJheGlzXCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcImtlZXBEaW1zXCIsZSx0LGEpO3JldHVyblthbGwoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkscixuKV07Y2FzZVwiQW55XCI6cj1nZXRQYXJhbVZhbHVlKFwiYXhpc1wiLGUsdCxhKSxuPWdldFBhcmFtVmFsdWUoXCJrZWVwRGltc1wiLGUsdCxhKTtyZXR1cm5bYW55KGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLHIsbildO2Nhc2VcIkFyZ01heFwiOnI9Z2V0UGFyYW1WYWx1ZShcImF4aXNcIixlLHQsYSk7cmV0dXJuW2FyZ01heChnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxyKV07Y2FzZVwiQXJnTWluXCI6cj1nZXRQYXJhbVZhbHVlKFwiYXhpc1wiLGUsdCxhKTtyZXR1cm5bYXJnTWluKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLHIpXTtjYXNlXCJQcm9kXCI6cj1nZXRQYXJhbVZhbHVlKFwiYXhpc1wiLGUsdCxhKSxuPWdldFBhcmFtVmFsdWUoXCJrZWVwRGltc1wiLGUsdCxhKTtyZXR1cm5bcHJvZChnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxyLG4pXTtkZWZhdWx0OnRocm93IFR5cGVFcnJvcihcIk5vZGUgdHlwZSBcIitlLm9wK1wiIGlzIG5vdCBpbXBsZW1lbnRlZFwiKX19LGV4ZWN1dGVPcCQxMz1mdW5jdGlvbihlLHQsYSl7c3dpdGNoKGUub3Ape2Nhc2VcIkNvbmNhdFYyXCI6Y2FzZVwiQ29uY2F0XCI6dmFyIHI9Z2V0UGFyYW1WYWx1ZShcIm5cIixlLHQsYSksbj1nZXRQYXJhbVZhbHVlKFwiYXhpc1wiLGUsdCxhKSxzPWdldFBhcmFtVmFsdWUoXCJ0ZW5zb3JzXCIsZSx0LGEpO3JldHVybiBzPXMuc2xpY2UoMCxyKSxbY29uY2F0KHMsbildO2Nhc2VcIkdhdGhlclYyXCI6Y2FzZVwiR2F0aGVyXCI6bj1nZXRQYXJhbVZhbHVlKFwiYXhpc1wiLGUsdCxhKTt2YXIgbz1nZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxwPWdldFBhcmFtVmFsdWUoXCJpbmRpY2VzXCIsZSx0LGEpO3JldHVybltnYXRoZXIobyxwLmFzVHlwZShcImludDMyXCIpLG4pXTtjYXNlXCJSZXZlcnNlVjJcIjpjYXNlXCJSZXZlcnNlXCI6bj1nZXRQYXJhbVZhbHVlKFwiYXhpc1wiLGUsdCxhKSxvPWdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpO3JldHVybltyZXZlcnNlKG8sbildO2Nhc2VcIlNsaWNlXCI6dmFyIHU9Z2V0UGFyYW1WYWx1ZShcImJlZ2luXCIsZSx0LGEpLGk9Z2V0UGFyYW1WYWx1ZShcInNpemVcIixlLHQsYSk7cmV0dXJuW3NsaWNlKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLHUsaSldO2Nhc2VcIlN0cmlkZWRTbGljZVwiOnU9Z2V0UGFyYW1WYWx1ZShcImJlZ2luXCIsZSx0LGEpO3ZhciBtPWdldFBhcmFtVmFsdWUoXCJlbmRcIixlLHQsYSksbD1nZXRQYXJhbVZhbHVlKFwic3RyaWRlc1wiLGUsdCxhKSxjPWdldFBhcmFtVmFsdWUoXCJiZWdpbk1hc2tcIixlLHQsYSksZD1nZXRQYXJhbVZhbHVlKFwiZW5kTWFza1wiLGUsdCxhKSx5PWdldFBhcmFtVmFsdWUoXCJlbGxpcHNpc01hc2tcIixlLHQsYSksZj1nZXRQYXJhbVZhbHVlKFwibmV3QXhpc01hc2tcIixlLHQsYSksZz1nZXRQYXJhbVZhbHVlKFwic2hyaW5rQXhpc01hc2tcIixlLHQsYSksaD1nZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKTtpZigxPT09dS5sZW5ndGgmJmguc2hhcGUubGVuZ3RoPjEpZm9yKHZhciBOPTE7TjxoLnNoYXBlLmxlbmd0aDtOKyspdS5wdXNoKDApLG0ucHVzaChoLnNoYXBlW05dKSxsLnB1c2gobFswXSk7cmV0dXJuW3N0cmlkZWRTbGljZShoLHUsbSxsLGMsZCx5LGYsZyldO2Nhc2VcIlBhY2tcIjpyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciByPWdldFBhcmFtVmFsdWUoXCJheGlzXCIsZSx0LGEpLG49Z2V0UGFyYW1WYWx1ZShcInRlbnNvcnNcIixlLHQsYSkscz1uWzBdLnNoYXBlLG89blswXS5zcXVlZXplKCkuc2hhcGUscD1uLm1hcChmdW5jdGlvbihlKXt2YXIgdD11dGlsLmFycmF5c0VxdWFsKGUuc2hhcGUscyk7aWYoIXQmJiF1dGlsLmFycmF5c0VxdWFsKGUuc3F1ZWV6ZSgpLnNoYXBlLG8pKXRocm93IG5ldyBFcnJvcihcInRoZSBpbnB1dCB0ZW5zb3JzIHNoYXBlIGRvZXMgbm90IG1hdGNoXCIpO3JldHVybiB0P2U6ZS5yZXNoYXBlKHMpfSk7cmV0dXJuW3N0YWNrKHAscildfSk7Y2FzZVwiVW5wYWNrXCI6cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgcj1nZXRQYXJhbVZhbHVlKFwiYXhpc1wiLGUsdCxhKSxuPWdldFBhcmFtVmFsdWUoXCJ0ZW5zb3JcIixlLHQsYSk7cmV0dXJuIHVuc3RhY2sobixyKX0pO2Nhc2VcIlRpbGVcIjp2YXIgeD1nZXRQYXJhbVZhbHVlKFwicmVwc1wiLGUsdCxhKTtyZXR1cm5bdGlsZShnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSx4KV07Y2FzZVwiU3BsaXRcIjpjYXNlXCJTcGxpdFZcIjpuPWdldFBhcmFtVmFsdWUoXCJheGlzXCIsZSx0LGEpO3ZhciBWPWdldFBhcmFtVmFsdWUoXCJudW1PclNpemVTcGxpdHNcIixlLHQsYSk7cmV0dXJuIHNwbGl0KGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLFYsbik7Y2FzZVwiU2NhdHRlck5kXCI6cD1nZXRQYXJhbVZhbHVlKFwiaW5kaWNlc1wiLGUsdCxhKTt2YXIgYj1nZXRQYXJhbVZhbHVlKFwidmFsdWVzXCIsZSx0LGEpLFA9Z2V0UGFyYW1WYWx1ZShcInNoYXBlXCIsZSx0LGEpO3JldHVybltzY2F0dGVyTkQocCxiLFApXTtjYXNlXCJHYXRoZXJOZFwiOnZhciBUPWdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpO3A9Z2V0UGFyYW1WYWx1ZShcImluZGljZXNcIixlLHQsYSk7cmV0dXJuW2dhdGhlck5EKFQscCldO2Nhc2VcIlNwYXJzZVRvRGVuc2VcIjpwPWdldFBhcmFtVmFsdWUoXCJzcGFyc2VJbmRpY2VzXCIsZSx0LGEpLFA9Z2V0UGFyYW1WYWx1ZShcIm91dHB1dFNoYXBlXCIsZSx0LGEpO3ZhciB2PWdldFBhcmFtVmFsdWUoXCJzcGFyc2VWYWx1ZXNcIixlLHQsYSksTz1nZXRQYXJhbVZhbHVlKFwiZGVmYXVsdFZhbHVlXCIsZSx0LGEpO3JldHVybltzcGFyc2VUb0RlbnNlKHAsdixQLHYuZHR5cGU9PT1PLmR0eXBlP086Ty5hc1R5cGUodi5kdHlwZSkpXTtkZWZhdWx0OnRocm93IFR5cGVFcnJvcihcIk5vZGUgdHlwZSBcIitlLm9wK1wiIGlzIG5vdCBpbXBsZW1lbnRlZFwiKX19LGV4ZWN1dGVPcCQxND1mdW5jdGlvbihlLHQsYSl7c3dpdGNoKGUub3Ape2Nhc2VcIkZGVFwiOnJldHVybltmZnQoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJJRkZUXCI6cmV0dXJuW2lmZnQoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJSRkZUXCI6cmV0dXJuW3JmZnQoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkpXTtjYXNlXCJJUkZGVFwiOnJldHVybltpcmZmdChnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSldO2RlZmF1bHQ6dGhyb3cgVHlwZUVycm9yKFwiTm9kZSB0eXBlIFwiK2Uub3ArXCIgaXMgbm90IGltcGxlbWVudGVkXCIpfX0sZXhlY3V0ZU9wJDE1PWZ1bmN0aW9uKGUsdCxhKXtzd2l0Y2goZS5vcCl7Y2FzZVwiQ2FzdFwiOnJldHVybltjYXN0KGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLGdldFBhcmFtVmFsdWUoXCJkdHlwZVwiLGUsdCxhKSldO2Nhc2VcIkV4cGFuZERpbXNcIjp2YXIgcj1nZXRQYXJhbVZhbHVlKFwiYXhpc1wiLGUsdCxhKTtyZXR1cm5bZXhwYW5kRGltcyhnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxyKV07Y2FzZVwiU3F1ZWV6ZVwiOnI9Z2V0UGFyYW1WYWx1ZShcImF4aXNcIixlLHQsYSk7cmV0dXJuW3NxdWVlemUoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSkscildO2Nhc2VcIlJlc2hhcGVcIjpyZXR1cm5bcmVzaGFwZShnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxnZXRQYXJhbVZhbHVlKFwic2hhcGVcIixlLHQsYSkpXTtjYXNlXCJQYWRWMlwiOmNhc2VcIlBhZFwiOnJldHVybltwYWQoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSksc3BsaXQkMShnZXRQYXJhbVZhbHVlKFwicGFkZGluZ1wiLGUsdCxhKSwyKSxnZXRQYXJhbVZhbHVlKFwiY29uc3RhbnRWYWx1ZVwiLGUsdCxhKSldO2Nhc2VcIlNwYWNlVG9CYXRjaE5EXCI6dmFyIG49Z2V0UGFyYW1WYWx1ZShcImJsb2NrU2hhcGVcIixlLHQsYSkscz1zcGxpdCQxKGdldFBhcmFtVmFsdWUoXCJwYWRkaW5nc1wiLGUsdCxhKSwyKTtyZXR1cm5bc3BhY2VUb0JhdGNoTkQoZ2V0UGFyYW1WYWx1ZShcInhcIixlLHQsYSksbixzKV07Y2FzZVwiQmF0Y2hUb1NwYWNlTkRcIjpuPWdldFBhcmFtVmFsdWUoXCJibG9ja1NoYXBlXCIsZSx0LGEpO3ZhciBvPXNwbGl0JDEoZ2V0UGFyYW1WYWx1ZShcImNyb3BzXCIsZSx0LGEpLDIpO3JldHVybltiYXRjaFRvU3BhY2VORChnZXRQYXJhbVZhbHVlKFwieFwiLGUsdCxhKSxuLG8pXTtjYXNlXCJEZXB0aFRvU3BhY2VcIjp2YXIgcD1nZXRQYXJhbVZhbHVlKFwiYmxvY2tTaXplXCIsZSx0LGEpLHU9Z2V0UGFyYW1WYWx1ZShcImRhdGFGb3JtYXRcIixlLHQsYSkudG9VcHBlckNhc2UoKTtyZXR1cm5bZGVwdGhUb1NwYWNlKGdldFBhcmFtVmFsdWUoXCJ4XCIsZSx0LGEpLHAsdSldO2RlZmF1bHQ6dGhyb3cgVHlwZUVycm9yKFwiTm9kZSB0eXBlIFwiK2Uub3ArXCIgaXMgbm90IGltcGxlbWVudGVkXCIpfX07ZnVuY3Rpb24gZXhlY3V0ZU9wJDE2KGUsdCxhKXt2YXIgcj1mdW5jdGlvbihlLHQsYSl7c3dpdGNoKGUuY2F0ZWdvcnkpe2Nhc2VcImFyaXRobWV0aWNcIjpyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBleGVjdXRlT3AoZSx0LGEpfSk7Y2FzZVwiYmFzaWNfbWF0aFwiOnJldHVybiB0aWR5KGZ1bmN0aW9uKCl7cmV0dXJuIGV4ZWN1dGVPcCQxKGUsdCxhKX0pO2Nhc2VcImNvbnRyb2xcIjpyZXR1cm4gZXhlY3V0ZU9wJDIoZSx0LGEpO2Nhc2VcImNvbnZvbHV0aW9uXCI6cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gZXhlY3V0ZU9wJDMoZSx0LGEpfSk7Y2FzZVwiY3JlYXRpb25cIjpyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBleGVjdXRlT3AkNChlLHQsYSl9KTtjYXNlXCJkeW5hbWljXCI6cmV0dXJuIGV4ZWN1dGVPcCQ1KGUsdCxhKTtjYXNlXCJldmFsdWF0aW9uXCI6cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gZXhlY3V0ZU9wJDYoZSx0LGEpfSk7Y2FzZVwiaW1hZ2VcIjpyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBleGVjdXRlT3AkOChlLHQsYSl9KTtjYXNlXCJncmFwaFwiOnJldHVybiB0aWR5KGZ1bmN0aW9uKCl7cmV0dXJuIGV4ZWN1dGVPcCQ3KGUsdCxhKX0pO2Nhc2VcImxvZ2ljYWxcIjpyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBleGVjdXRlT3AkOShlLHQsYSl9KTtjYXNlXCJtYXRyaWNlc1wiOnJldHVybiB0aWR5KGZ1bmN0aW9uKCl7cmV0dXJuIGV4ZWN1dGVPcCQxMChlLHQsYSl9KTtjYXNlXCJub3JtYWxpemF0aW9uXCI6cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gZXhlY3V0ZU9wJDExKGUsdCxhKX0pO2Nhc2VcInJlZHVjdGlvblwiOnJldHVybiB0aWR5KGZ1bmN0aW9uKCl7cmV0dXJuIGV4ZWN1dGVPcCQxMihlLHQsYSl9KTtjYXNlXCJzbGljZV9qb2luXCI6cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gZXhlY3V0ZU9wJDEzKGUsdCxhKX0pO2Nhc2VcInNwZWN0cmFsXCI6cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gZXhlY3V0ZU9wJDE0KGUsdCxhKX0pO2Nhc2VcInRyYW5zZm9ybWF0aW9uXCI6cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gZXhlY3V0ZU9wJDE1KGUsdCxhKX0pO2Nhc2VcImN1c3RvbVwiOnZhciByPWdldFJlZ2lzdGVyZWRPcChlLm9wKTtpZihyJiZyLmN1c3RvbUV4ZWN1dG9yKXJldHVybiByLmN1c3RvbUV4ZWN1dG9yKG5ldyBOb2RlVmFsdWVJbXBsKGUsdCxhKSk7dGhyb3cgVHlwZUVycm9yKFwiQ3VzdG9tIG9wIFwiK2Uub3ArXCIgaXMgbm90IHJlZ2lzdGVyZWQuXCIpO2RlZmF1bHQ6dGhyb3cgVHlwZUVycm9yKFwiVW5rbm93biBvcCAnXCIrZS5vcCtcIicuIEZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3RlbnNvcmZsb3cvdGZqcy9pc3N1ZXMgc28gd2UgY2FuIGFkZCBpdCwgb3IgcmVnaXN0ZXIgYSBjdXN0b20gZXhlY3V0aW9uIHdpdGggdGYucmVnaXN0ZXJPcCgpXCIpfX0oZSx0LGEpO3JldHVybiByIGluc3RhbmNlb2YgUHJvbWlzZT9yLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuW10uY29uY2F0KGUpfSk6W10uY29uY2F0KHIpfXZhciBFeGVjdXRpb25Db250ZXh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMud2VpZ2h0TWFwPWUsdGhpcy50ZW5zb3JBcnJheU1hcD10LHRoaXMucm9vdENvbnRleHQ9e2lkOjAsZnJhbWVOYW1lOlwiXCIsaXRlcmF0aW9uSWQ6MH0sdGhpcy5jb250ZXh0cz1bdGhpcy5yb290Q29udGV4dF0sdGhpcy5sYXN0SWQ9MCx0aGlzLmdlbmVyYXRlQ3VycmVudENvbnRleHRJZHMoKX1yZXR1cm4gZS5wcm90b3R5cGUubmV3RnJhbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm57aWQ6ZSxmcmFtZU5hbWU6dCxpdGVyYXRpb25JZDowfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3VycmVudENvbnRleHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dHN9LHNldDpmdW5jdGlvbihlKXt0aGlzLmNvbnRleHRzIT09ZSYmKHRoaXMuY29udGV4dHM9ZSx0aGlzLmdlbmVyYXRlQ3VycmVudENvbnRleHRJZHMoKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3VycmVudENvbnRleHRJZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudENvbnRleHRJZHNbMF19LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3VycmVudENvbnRleHRJZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRDb250ZXh0SWRzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdlbmVyYXRlQ3VycmVudENvbnRleHRJZHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy5jb250ZXh0cy5sZW5ndGgtMTt0Kyspe3ZhciBhPXRoaXMuY29udGV4dHMuc2xpY2UoMCx0aGlzLmNvbnRleHRzLmxlbmd0aC10KTtlLnB1c2godGhpcy5jb250ZXh0SWRmb3JDb250ZXh0cyhhKSl9ZS5wdXNoKFwiXCIpLHRoaXMuX2N1cnJlbnRDb250ZXh0SWRzPWV9LGUucHJvdG90eXBlLmNvbnRleHRJZGZvckNvbnRleHRzPWZ1bmN0aW9uKGUpe3JldHVybiBlP2UubWFwKGZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5pZCYmMD09PWUuaXRlcmF0aW9uSWQ/XCJcIjplLmZyYW1lTmFtZStcIi1cIitlLml0ZXJhdGlvbklkfSkuam9pbihcIi9cIik6XCJcIn0sZS5wcm90b3R5cGUuZW50ZXJGcmFtZT1mdW5jdGlvbihlKXt0aGlzLmNvbnRleHRzJiYodGhpcy5sYXN0SWQrKyx0aGlzLmNvbnRleHRzPXRoaXMuY29udGV4dHMuc2xpY2UoKSx0aGlzLmNvbnRleHRzLnB1c2godGhpcy5uZXdGcmFtZSh0aGlzLmxhc3RJZCxlKSksdGhpcy5fY3VycmVudENvbnRleHRJZHMudW5zaGlmdCh0aGlzLmNvbnRleHRJZGZvckNvbnRleHRzKHRoaXMuY29udGV4dHMpKSl9LGUucHJvdG90eXBlLmV4aXRGcmFtZT1mdW5jdGlvbigpe2lmKCEodGhpcy5jb250ZXh0cyYmdGhpcy5jb250ZXh0cy5sZW5ndGg+MSkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4aXQgZnJhbWUsIHRoZSBjb250ZXh0IGlzIGVtcHR5XCIpO3RoaXMuY29udGV4dHM9dGhpcy5jb250ZXh0cy5zbGljZSgpLHRoaXMuY29udGV4dHMuc3BsaWNlKC0xKSx0aGlzLmN1cnJlbnRDb250ZXh0SWRzLnNoaWZ0KCl9LGUucHJvdG90eXBlLm5leHRJdGVyYXRpb249ZnVuY3Rpb24oKXtpZighKHRoaXMuY29udGV4dHMmJnRoaXMuY29udGV4dHMubGVuZ3RoPjApKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbmNyZWFzZSBmcmFtZSBpdGVyYXRpb24sIHRoZSBjb250ZXh0IGlzIGVtcHR5XCIpO3RoaXMuY29udGV4dHM9dGhpcy5jb250ZXh0cy5zbGljZSgpLHRoaXMubGFzdElkKys7dmFyIGU9T2JqZWN0LmFzc2lnbih7fSx0aGlzLmNvbnRleHRzW3RoaXMuY29udGV4dHMubGVuZ3RoLTFdKTtlLml0ZXJhdGlvbklkKz0xLGUuaWQ9dGhpcy5sYXN0SWQsdGhpcy5jb250ZXh0cy5zcGxpY2UoLTEsMSxlKSx0aGlzLl9jdXJyZW50Q29udGV4dElkcy5zcGxpY2UoMCwxLHRoaXMuY29udGV4dElkZm9yQ29udGV4dHModGhpcy5jb250ZXh0cykpfSxlLnByb3RvdHlwZS5nZXRXZWlnaHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMud2VpZ2h0TWFwW2VdfSxlLnByb3RvdHlwZS5hZGRUZW5zb3JBcnJheT1mdW5jdGlvbihlKXt0aGlzLnRlbnNvckFycmF5TWFwW2UuaWRdPWV9LGUucHJvdG90eXBlLmdldFRlbnNvckFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRlbnNvckFycmF5TWFwW2VdfSxlfSgpO2Z1bmN0aW9uIGdldEV4ZWN1dGlvblN1YmdyYXBoKGUsdCxhKXtmb3IodmFyIHI9bmV3IFNldCxuPVtdLHM9bnVsbCxvPW51bGwscD1uZXcgU2V0LHU9T2JqZWN0LmtleXMoZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZU5vZGVOYW1lKGUpWzBdfSksaT10LnNsaWNlKCk7aS5sZW5ndGg+MDspe3ZhciBtPWkucG9wKCk7KGlzQ29udHJvbEZsb3cobSl8fGlzRHluYW1pY1NoYXBlKG0pKSYmbnVsbD09cyYmKG89KHM9bSkuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWV9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaGFzKGUpfSkpLHIuYWRkKG0ubmFtZSksbnVsbD09YVttLm5hbWVdJiYoLTE9PT11LmluZGV4T2YobS5uYW1lKSYmKDAhPT1tLmlucHV0cy5sZW5ndGg/bS5pbnB1dHMuZm9yRWFjaChmdW5jdGlvbihlKXtwLmhhcyhlLm5hbWUpfHwocC5hZGQoZS5uYW1lKSxpLnB1c2goZSkpfSk6bi5wdXNoKG0ubmFtZSkpKX1yZXR1cm57aW5wdXRzOmUsb3V0cHV0czp0LHVzZWROb2RlczpyLG1pc3NpbmdJbnB1dHM6bixkeW5hbWljTm9kZTpzLHN5bmNJbnB1dHM6b319ZnVuY3Rpb24gZ2V0Tm9kZXNJblRvcG9sb2dpY2FsT3JkZXIoZSx0LGEpe3ZhciByPWEudXNlZE5vZGVzLG49YS5pbnB1dHMscz1bXTtPYmplY3Qua2V5cyhuKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlTm9kZU5hbWUoZSlbMF19KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUubm9kZXNbdF19KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuaGFzKGUubmFtZSkmJnMucHVzaChlKX0pLGUud2VpZ2h0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuaGFzKGUubmFtZSkmJnMucHVzaChlKX0pO2Zvcih2YXIgbz1uZXcgU2V0LHA9W107cy5sZW5ndGg+MDspe3ZhciB1PXMucG9wKCk7by5hZGQodS5uYW1lKSx0W3UubmFtZV18fHAucHVzaCh1KSx1LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oZSl7IW8uaGFzKGUubmFtZSkmJnIuaGFzKGUubmFtZSkmJmUuaW5wdXRzLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBvLmhhcyhlLm5hbWUpfSkmJnMucHVzaChlKX0pfXJldHVybiBwfXZhciBDT05UUk9MX0ZMT1dfT1BTPVtcIlN3aXRjaFwiLFwiTWVyZ2VcIixcIkVudGVyXCIsXCJFeGl0XCIsXCJOZXh0SXRlcmF0aW9uXCJdLERZTkFNSUNfU0hBUEVfT1BTPVtcIk5vbk1heFN1cHByZXNzaW9uVjJcIixcIk5vbk1heFN1cHByZXNzaW9uVjNcIixcIk5vbk1heFN1cHByZXNzaW9uVjVcIixcIldoZXJlXCJdO2Z1bmN0aW9uIGlzQ29udHJvbEZsb3coZSl7cmV0dXJuIENPTlRST0xfRkxPV19PUFMuaW5kZXhPZihlLm9wKT49MH1mdW5jdGlvbiBpc0R5bmFtaWNTaGFwZShlKXtyZXR1cm4gRFlOQU1JQ19TSEFQRV9PUFMuaW5kZXhPZihlLm9wKT49MH12YXIgR3JhcGhFeGVjdXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5ncmFwaD1lLHRoaXMuY29tcGlsZWRNYXA9bmV3IE1hcCx0aGlzLl93ZWlnaHRNYXA9e30sdGhpcy5TRVBFUkFUT1I9XCIsXCIsdGhpcy5fb3V0cHV0cz1lLm91dHB1dHMsdGhpcy5faW5wdXRzPWUuaW5wdXRzLHRoaXMuX3NpZ25hdHVyZT1lLnNpZ25hdHVyZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwid2VpZ2h0TWFwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWlnaHRNYXB9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhlKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSl9KTt0aGlzLndlaWdodElkcz1bXS5jb25jYXQuYXBwbHkoW10sdCksdGhpcy5fd2VpZ2h0TWFwPWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaW5wdXRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOmUubmFtZSxzaGFwZTplLmF0dHJQYXJhbXMuc2hhcGU/ZS5hdHRyUGFyYW1zLnNoYXBlLnZhbHVlOnZvaWQgMCxkdHlwZTplLmF0dHJQYXJhbXMuZHR5cGU/ZS5hdHRyUGFyYW1zLmR0eXBlLnZhbHVlOnZvaWQgMH19KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvdXRwdXRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vdXRwdXRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm57bmFtZTplLm5hbWUsc2hhcGU6ZS5hdHRyUGFyYW1zLnNoYXBlP2UuYXR0clBhcmFtcy5zaGFwZS52YWx1ZTp2b2lkIDAsZHR5cGU6ZS5hdHRyUGFyYW1zLmR0eXBlP2UuYXR0clBhcmFtcy5kdHlwZS52YWx1ZTp2b2lkIDB9fSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaW5wdXROb2Rlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zaWduYXR1cmVLZXl8fGUubmFtZX0pfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm91dHB1dE5vZGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vdXRwdXRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zaWduYXR1cmVLZXl8fGUubmFtZX0pfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENvbXBpbGF0aW9uS2V5PWZ1bmN0aW9uKGUsdCl7dmFyIGE9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pLnNvcnQoKSxyPXQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWV9KS5zb3J0KCk7cmV0dXJuIGEuam9pbih0aGlzLlNFUEVSQVRPUikrXCItLVwiK3Iuam9pbih0aGlzLlNFUEVSQVRPUil9LGUucHJvdG90eXBlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgYT1nZXRFeGVjdXRpb25TdWJncmFwaChlLHQsdGhpcy53ZWlnaHRNYXApLHI9YS5taXNzaW5nSW5wdXRzLG49YS5keW5hbWljTm9kZSxzPWEuc3luY0lucHV0cztpZihudWxsIT1uKXRocm93IG5ldyBFcnJvcihcIlRoaXMgZXhlY3V0aW9uIGNvbnRhaW5zIHRoZSBub2RlICdcIituLm5hbWUrXCInLCB3aGljaCBoYXMgdGhlIGR5bmFtaWMgb3AgJ1wiK24ub3ArXCInLiBQbGVhc2UgdXNlIG1vZGVsLmV4ZWN1dGVBc3luYygpIGluc3RlYWQuIEFsdGVybmF0aXZlbHksIHRvIGF2b2lkIHRoZSBkeW5hbWljIG9wcywgc3BlY2lmeSB0aGUgaW5wdXRzIFtcIitzK1wiXVwiKTtpZihyLmxlbmd0aD4wKXt2YXIgbz10Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSkscD1PYmplY3Qua2V5cyhlKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tcHV0ZSB0aGUgb3V0cHV0cyBbXCIrbytcIl0gZnJvbSB0aGUgcHJvdmlkZWQgaW5wdXRzIFtcIitwK1wiXS4gTWlzc2luZyB0aGUgZm9sbG93aW5nIGlucHV0czogW1wiK3IrXCJdXCIpfXJldHVybiBnZXROb2Rlc0luVG9wb2xvZ2ljYWxPcmRlcih0aGlzLmdyYXBoLHRoaXMud2VpZ2h0TWFwLGEpfSxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGUsdCl7dmFyIGE9dGhpcztlPXRoaXMubWFwSW5wdXRzKGUpO3ZhciByPU9iamVjdC5rZXlzKGUpLnNvcnQoKTt0aGlzLmNoZWNrSW5wdXRzKGUpLHRoaXMuY2hlY2tJbnB1dFNoYXBlQW5kVHlwZShlKSx0PXRoaXMubWFwT3V0cHV0cyh0KSx0aGlzLmNoZWNrT3V0cHV0cyh0KTt2YXIgbj1yLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYS5ncmFwaC5ub2Rlc1twYXJzZU5vZGVOYW1lKGUpWzBdXX0pLHM9dC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGEuZ3JhcGgubm9kZXNbcGFyc2VOb2RlTmFtZShlKVswXV19KSxvPXRoaXMuZ2V0Q29tcGlsYXRpb25LZXkobixzKSxwPXRoaXMuY29tcGlsZWRNYXAuZ2V0KG8pO251bGw9PXAmJihwPXRoaXMuY29tcGlsZShlLHMpLHRoaXMuY29tcGlsZWRNYXAuc2V0KG8scCkpO3ZhciB1PXt9O3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIHI9bmV3IEV4ZWN1dGlvbkNvbnRleHQoYS5fd2VpZ2h0TWFwLHUpLG49X19hc3NpZ24oe30sYS53ZWlnaHRNYXApO09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGE9cGFyc2VOb2RlTmFtZSh0KSxyPWFbMF0scz1bXTtzW2FbMV1dPWVbdF0sbltyXT1zfSk7Zm9yKHZhciBzPWEuZ2V0RnJvemVuVGVuc29ySWRzKG4pLG89e30saT0wO2k8cC5sZW5ndGg7aSsrKXt2YXIgbT1wW2ldO2lmKCFuW20ubmFtZV0pe3ZhciBsPWV4ZWN1dGVPcCQxNihtLG4scik7aWYobCBpbnN0YW5jZW9mIFByb21pc2UpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGV4ZWN1dGlvbiBvZiB0aGUgb3AgJ1wiK20ub3ArXCInIHJldHVybmVkIGEgcHJvbWlzZS4gUGxlYXNlIHVzZSBtb2RlbC5leGVjdXRlQXN5bmMoKSBpbnN0ZWFkLlwiKTtuW20ubmFtZV09bCxhLmNoZWNrVGVuc29yRm9yRGlzcG9zYWwobS5uYW1lLG0sbixyLHMsdCxvKX19cmV0dXJuIHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBnZXRUZW5zb3IoZSxuLHIpfSl9KX0sZS5wcm90b3R5cGUuZ2V0RnJvemVuVGVuc29ySWRzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdLmNvbmNhdC5hcHBseShbXSxPYmplY3Qua2V5cyhlKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSl9KSk7cmV0dXJuIG5ldyBTZXQodCl9LGUucHJvdG90eXBlLmNoZWNrVGVuc29yRm9yRGlzcG9zYWw9ZnVuY3Rpb24oZSx0LGEscixuLHMsbyl7XCJjb250cm9sXCIhPT10LmNhdGVnb3J5JiYtMT09PXMuaW5kZXhPZihlKSYmKGFbZV0uZm9yRWFjaChmdW5jdGlvbihlKXtudWxsIT1lJiYob1tlLmlkXT0ob1tlLmlkXXx8MCkrdC5jaGlsZHJlbi5sZW5ndGgpfSksdC5pbnB1dHMuZm9yRWFjaChmdW5jdGlvbihlKXtpZihcImNvbnRyb2xcIiE9PWUuY2F0ZWdvcnkpe3ZhciB0PWdldFRlbnNvcnNGb3JDdXJyZW50Q29udGVueHQoZS5uYW1lLGEscik7bnVsbCE9dCYmdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGUmJiFuLmhhcyhlLmlkKSl7dmFyIHQ9b1tlLmlkXTsxPT09dD8oZS5kaXNwb3NlKCksZGVsZXRlIG9bZS5pZF0pOm51bGwhPXQmJm9bZS5pZF0tLX19KX19KSl9LGUucHJvdG90eXBlLmV4ZWN1dGVBc3luYz1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGEscixuLHMsbyxwLHU9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXRoaXMubWFwSW5wdXRzKGUpLHRoaXMuY2hlY2tJbnB1dHMoZSksdGhpcy5jaGVja0lucHV0U2hhcGVBbmRUeXBlKGUpLHQ9dGhpcy5tYXBPdXRwdXRzKHQpLHRoaXMuY2hlY2tPdXRwdXRzKHQpLGE9e30scj1uZXcgRXhlY3V0aW9uQ29udGV4dCh0aGlzLl93ZWlnaHRNYXAsYSksWzQsdGhpcy5leGVjdXRlV2l0aENvbnRyb2xGbG93KGUscix0KV07Y2FzZSAxOnJldHVybiBuPWkuc2VudCgpLHM9dC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGdldFRlbnNvcihlLG4scil9KSxvPW5ldyBTZXQocy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkscD1uZXcgU2V0KE9iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XS5pZH0pKSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZV0uZm9yRWFjaChmdW5jdGlvbihlKXshZXx8ZS5pc0Rpc3Bvc2VkfHxvLmhhcyhlLmlkKXx8cC5oYXMoZS5pZCl8fC0xIT09dS53ZWlnaHRJZHMuaW5kZXhPZihlLmlkKXx8ZS5kaXNwb3NlKCl9KX0pLFsyLHNdfX0pfSl9LGUucHJvdG90eXBlLmV4ZWN1dGVXaXRoQ29udHJvbEZsb3c9ZnVuY3Rpb24oZSx0LGEpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIsbixzLG8scCx1LGksbSxsLGMsZCx5LGYsZyxoLE4seD10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKFYpe3N3aXRjaChWLmxhYmVsKXtjYXNlIDA6cj1PYmplY3Qua2V5cyhlKSxuPXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB4LmdyYXBoLm5vZGVzW3BhcnNlTm9kZU5hbWUoZSlbMF1dfSkscz1hLm1hcChmdW5jdGlvbihlKXtyZXR1cm4geC5ncmFwaC5ub2Rlc1twYXJzZU5vZGVOYW1lKGUpWzBdXX0pLG89Z2V0RXhlY3V0aW9uU3ViZ3JhcGgoZSxzLHRoaXMud2VpZ2h0TWFwKSxwPW8udXNlZE5vZGVzLHU9by5taXNzaW5nSW5wdXRzLGk9by5keW5hbWljTm9kZSxtPW8uc3luY0lucHV0cyxsPW4uY29uY2F0KHRoaXMuZ3JhcGgud2VpZ2h0cykubWFwKGZ1bmN0aW9uKGUpe3JldHVybntub2RlOmUsY29udGV4dHM6dC5jdXJyZW50Q29udGV4dH19KSxjPV9fYXNzaWduKHt9LHRoaXMud2VpZ2h0TWFwKSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBhPXBhcnNlTm9kZU5hbWUodCkscj1hWzBdLG49W107blthWzFdXT1lW3RdLGNbcl09bn0pLGQ9e30seT10aGlzLmdldEZyb3plblRlbnNvcklkcyhjKSxmPXt9LFYubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGwubGVuZ3RoPjA/KGc9dGhpcy5wcm9jZXNzU3RhY2sobixsLHQsYyxmLHksYSxkLHApLFs0LFByb21pc2UuYWxsKGcpXSk6WzMsM107Y2FzZSAyOnJldHVybiBWLnNlbnQoKSxbMywxXTtjYXNlIDM6aWYobnVsbD09aSYmY29uc29sZS53YXJuKFwiVGhpcyBtb2RlbCBleGVjdXRpb24gZGlkIG5vdCBjb250YWluIGFueSBub2RlcyB3aXRoIGNvbnRyb2wgZmxvdyBvciBkeW5hbWljIG91dHB1dCBzaGFwZXMuIFlvdSBjYW4gdXNlIG1vZGVsLmV4ZWN1dGUoKSBpbnN0ZWFkLlwiKSwoaD1zLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4haXNDb250cm9sRmxvdyhlKSYmIWdldFRlbnNvcihlLm5hbWUsYyx0KX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSkpLmxlbmd0aD4wKXRocm93IE49XCJcIixudWxsIT1pJiYoTj1cIkFsdGVybmF0aXZlbHksIHRvIGF2b2lkIHRoZSBkeW5hbWljIG9wcywgdXNlIG1vZGVsLmV4ZWN1dGUoKSBhbmQgc3BlY2lmeSB0aGUgaW5wdXRzIFtcIittK1wiXVwiKSxuZXcgRXJyb3IoXCJDYW5ub3QgY29tcHV0ZSB0aGUgb3V0cHV0cyBbXCIraCtcIl0gZnJvbSB0aGUgcHJvdmlkZWQgaW5wdXRzIFtcIityK1wiXS4gQ29uc2lkZXIgcHJvdmlkaW5nIHRoZSBmb2xsb3dpbmcgaW5wdXRzOiBbXCIrdStcIl0uIFwiK04pO3JldHVyblsyLGNdfX0pfSl9LGUucHJvdG90eXBlLnByb2Nlc3NTdGFjaz1mdW5jdGlvbihlLHQsYSxyLG4scyxvLHAsdSl7Zm9yKHZhciBpPXRoaXMsbT1bXSxsPWZ1bmN0aW9uKCl7dmFyIGw9dC5wb3AoKTthLmN1cnJlbnRDb250ZXh0PWwuY29udGV4dHM7dmFyIGQ9XCJcIjtpZihcIkVudGVyXCI9PT1sLm5vZGUub3AmJmdldFBhcmFtVmFsdWUoXCJpc0NvbnN0YW50XCIsbC5ub2RlLHIsYSkmJihkPWdldE5vZGVOYW1lQW5kSW5kZXgobC5ub2RlLm5hbWUsYSlbMF0pLC0xPT09ZS5pbmRleE9mKGwubm9kZSkpe3ZhciB5PWV4ZWN1dGVPcCQxNihsLm5vZGUscixhKTtkfHwoZD1nZXROb2RlTmFtZUFuZEluZGV4KGwubm9kZS5uYW1lLGEpWzBdKTt2YXIgZj1hLmN1cnJlbnRDb250ZXh0O3kgaW5zdGFuY2VvZiBQcm9taXNlP20ucHVzaCh5LnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHJbZF09ZSxhLmN1cnJlbnRDb250ZXh0PWYsaS5jaGVja1RlbnNvckZvckRpc3Bvc2FsKGQsbC5ub2RlLHIsYSxzLG8scCksaS5wcm9jZXNzQ2hpbGROb2RlcyhsLm5vZGUsdCxhLHIsbix1KSxlfSkpOihyW2RdPXksYy5jaGVja1RlbnNvckZvckRpc3Bvc2FsKGQsbC5ub2RlLHIsYSxzLG8scCksYy5wcm9jZXNzQ2hpbGROb2RlcyhsLm5vZGUsdCxhLHIsbix1KSl9ZWxzZSBjLnByb2Nlc3NDaGlsZE5vZGVzKGwubm9kZSx0LGEscixuLHUpfSxjPXRoaXM7dC5sZW5ndGg+MDspbCgpO3JldHVybiBtfSxlLnByb3RvdHlwZS5wcm9jZXNzQ2hpbGROb2Rlcz1mdW5jdGlvbihlLHQsYSxyLG4scyl7ZS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBvPWdldE5vZGVOYW1lQW5kSW5kZXgoZS5uYW1lLGEpWzBdOyFuW29dJiZzLmhhcyhlLm5hbWUpJiYoXCJNZXJnZVwiPT09ZS5vcD9lLmlucHV0TmFtZXMuc29tZShmdW5jdGlvbihlKXtyZXR1cm4hIWdldFRlbnNvcihlLHIsYSl9KSYmKG5bb109ITAsdC5wdXNoKHtjb250ZXh0czphLmN1cnJlbnRDb250ZXh0LG5vZGU6ZX0pKTplLmlucHV0TmFtZXMuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuISFnZXRUZW5zb3IoZSxyLGEpfSkmJihuW29dPSEwLHQucHVzaCh7Y29udGV4dHM6YS5jdXJyZW50Q29udGV4dCxub2RlOmV9KSkpfSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO09iamVjdC5rZXlzKHRoaXMud2VpZ2h0TWFwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLndlaWdodE1hcFt0XS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc3Bvc2UoKX0pfSl9LGUucHJvdG90eXBlLmNoZWNrSW5wdXRTaGFwZUFuZFR5cGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciByPWVbYV0sbj1wYXJzZU5vZGVOYW1lKGEpWzBdLHM9dC5ncmFwaC5ub2Rlc1tuXTtpZihzLmF0dHJQYXJhbXMuc2hhcGUmJnMuYXR0clBhcmFtcy5zaGFwZS52YWx1ZSl7dmFyIG89cy5hdHRyUGFyYW1zLnNoYXBlLnZhbHVlLHA9by5sZW5ndGg9PT1yLnNoYXBlLmxlbmd0aCYmci5zaGFwZS5ldmVyeShmdW5jdGlvbihlLHQpe3JldHVybi0xPT09b1t0XXx8b1t0XT09PWV9KTt1dGlsLmFzc2VydChwLGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgc2hhcGUgb2YgZGljdFsnXCIrcy5uYW1lK1wiJ10gcHJvdmlkZWQgaW4gbW9kZWwuZXhlY3V0ZShkaWN0KSBtdXN0IGJlIFtcIitvK1wiXSwgYnV0IHdhcyBbXCIrci5zaGFwZStcIl1cIn0pfXMuYXR0clBhcmFtcy5kdHlwZSYmcy5hdHRyUGFyYW1zLmR0eXBlLnZhbHVlJiZ1dGlsLmFzc2VydChyLmR0eXBlPT09cy5hdHRyUGFyYW1zLmR0eXBlLnZhbHVlLGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgZHR5cGUgb2YgZGljdFsnXCIrcy5uYW1lK1wiJ10gcHJvdmlkZWQgaW4gbW9kZWwuZXhlY3V0ZShkaWN0KSBtdXN0IGJlIFwiK3MuYXR0clBhcmFtcy5kdHlwZS52YWx1ZStcIiwgYnV0IHdhcyBcIityLmR0eXBlfSl9KX0sZS5wcm90b3R5cGUubWFwSW5wdXRzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgYSBpbiBlKXtpZihudWxsIT10aGlzLl9zaWduYXR1cmUmJm51bGwhPXRoaXMuX3NpZ25hdHVyZS5pbnB1dHMmJm51bGwhPXRoaXMuX3NpZ25hdHVyZS5pbnB1dHNbYV0pdFt0aGlzLl9zaWduYXR1cmUuaW5wdXRzW2FdLm5hbWVdPWVbYV07ZWxzZSB0W2FdPWVbYV19cmV0dXJuIHR9LGUucHJvdG90eXBlLmNoZWNrSW5wdXRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsYT1PYmplY3Qua2V5cyhlKS5maWx0ZXIoZnVuY3Rpb24oZSl7dmFyIGE9cGFyc2VOb2RlTmFtZShlKVswXTtyZXR1cm4gbnVsbD09dC5ncmFwaC5ub2Rlc1thXX0pO2lmKGEubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKFwiVGhlIGRpY3QgcHJvdmlkZWQgaW4gbW9kZWwuZXhlY3V0ZShkaWN0KSBoYXMga2V5czogW1wiK2ErXCJdIHRoYXQgYXJlIG5vdCBwYXJ0IG9mIGdyYXBoXCIpfSxlLnByb3RvdHlwZS5tYXBPdXRwdXRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT10Ll9zaWduYXR1cmUmJm51bGwhPXQuX3NpZ25hdHVyZS5vdXRwdXRzJiZudWxsIT10Ll9zaWduYXR1cmUub3V0cHV0c1tlXT90Ll9zaWduYXR1cmUub3V0cHV0c1tlXS5uYW1lOmV9LHt9KX0sZS5wcm90b3R5cGUuY2hlY2tPdXRwdXRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBhPXBhcnNlTm9kZU5hbWUoZSlbMF07aWYoIXQuZ3JhcGgubm9kZXNbYV0pdGhyb3cgbmV3IEVycm9yKFwiVGhlIG91dHB1dCAnXCIrZStcIicgaXMgbm90IGZvdW5kIGluIHRoZSBncmFwaFwiKX0pfSxlfSgpLFRGSFVCX1NFQVJDSF9QQVJBTT1cIj90ZmpzLWZvcm1hdD1maWxlXCIsREVGQVVMVF9NT0RFTF9OQU1FPVwibW9kZWwuanNvblwiLEdyYXBoTW9kZWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dm9pZCAwPT09dCYmKHQ9e30pLHRoaXMubW9kZWxVcmw9ZSx0aGlzLmxvYWRPcHRpb25zPXQsdGhpcy52ZXJzaW9uPVwibi9hXCIsbnVsbD09dCYmKHRoaXMubG9hZE9wdGlvbnM9e30pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtb2RlbFZlcnNpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVyc2lvbn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpbnB1dE5vZGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4ZWN1dG9yLmlucHV0Tm9kZXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3V0cHV0Tm9kZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXhlY3V0b3Iub3V0cHV0Tm9kZXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaW5wdXRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4ZWN1dG9yLmlucHV0c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvdXRwdXRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4ZWN1dG9yLm91dHB1dHN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwid2VpZ2h0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leGVjdXRvci53ZWlnaHRNYXB9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZmluZElPSGFuZGxlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubW9kZWxVcmw7aWYobnVsbCE9ZS5sb2FkKXRoaXMuaGFuZGxlcj1lO2Vsc2UgaWYobnVsbCE9dGhpcy5sb2FkT3B0aW9ucy5yZXF1ZXN0SW5pdCl0aGlzLmhhbmRsZXI9aW8uYnJvd3NlckhUVFBSZXF1ZXN0KGUsdGhpcy5sb2FkT3B0aW9ucyk7ZWxzZXt2YXIgdD1pby5nZXRMb2FkSGFuZGxlcnMoZSx0aGlzLmxvYWRPcHRpb25zLm9uUHJvZ3Jlc3MpO2lmKDA9PT10Lmxlbmd0aCl0LnB1c2goaW8uYnJvd3NlckhUVFBSZXF1ZXN0KGUsdGhpcy5sb2FkT3B0aW9ucykpO2Vsc2UgaWYodC5sZW5ndGg+MSl0aHJvdyBuZXcgRXJyb3IoXCJGb3VuZCBtb3JlIHRoYW4gb25lIChcIit0Lmxlbmd0aCtcIikgbG9hZCBoYW5kbGVycyBmb3IgVVJMICdcIitbZV0rXCInXCIpO3RoaXMuaGFuZGxlcj10WzBdfX0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsdCxhLHI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDppZih0aGlzLmZpbmRJT0hhbmRsZXIoKSxudWxsPT10aGlzLmhhbmRsZXIubG9hZCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcHJvY2VlZCB3aXRoIG1vZGVsIGxvYWRpbmcgYmVjYXVzZSB0aGUgSU9IYW5kbGVyIHByb3ZpZGVkIGRvZXMgbm90IGhhdmUgdGhlIGBsb2FkYCBtZXRob2QgaW1wbGVtZW50ZWQuXCIpO3JldHVybiBlPXRoaXMsWzQsdGhpcy5oYW5kbGVyLmxvYWQoKV07Y2FzZSAxOnJldHVybiBlLmFydGlmYWN0cz1uLnNlbnQoKSx0PXRoaXMuYXJ0aWZhY3RzLm1vZGVsVG9wb2xvZ3ksYT17fSxudWxsIT10aGlzLmFydGlmYWN0cy51c2VyRGVmaW5lZE1ldGFkYXRhJiYoYT10aGlzLmFydGlmYWN0cy51c2VyRGVmaW5lZE1ldGFkYXRhLnNpZ25hdHVyZSksdGhpcy52ZXJzaW9uPXQudmVyc2lvbnMucHJvZHVjZXIrXCIuXCIrdC52ZXJzaW9ucy5taW5Db25zdW1lcixyPWlvLmRlY29kZVdlaWdodHModGhpcy5hcnRpZmFjdHMud2VpZ2h0RGF0YSx0aGlzLmFydGlmYWN0cy53ZWlnaHRTcGVjcyksdGhpcy5leGVjdXRvcj1uZXcgR3JhcGhFeGVjdXRvcihPcGVyYXRpb25NYXBwZXIuSW5zdGFuY2UudHJhbnNmb3JtR3JhcGgodCxhKSksdGhpcy5leGVjdXRvci53ZWlnaHRNYXA9dGhpcy5jb252ZXJ0VGVuc29yTWFwVG9UZW5zb3JzTWFwKHIpLFsyLCEwXX19KX0pfSxlLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihhKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYoMD09PSh0PWlvLmdldFNhdmVIYW5kbGVycyhlKSkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIGFueSBzYXZlIGhhbmRsZXJzIGZvciBVUkwgJ1wiK2UrXCInXCIpO2lmKHQubGVuZ3RoPjEpdGhyb3cgbmV3IEVycm9yKFwiRm91bmQgbW9yZSB0aGFuIG9uZSAoXCIrdC5sZW5ndGgrXCIpIHNhdmUgaGFuZGxlcnMgZm9yIFVSTCAnXCIrZStcIidcIik7ZT10WzBdfWlmKG51bGw9PWUuc2F2ZSl0aHJvdyBuZXcgRXJyb3IoXCJHcmFwaE1vZGVsLnNhdmUoKSBjYW5ub3QgcHJvY2VlZCBiZWNhdXNlIHRoZSBJT0hhbmRsZXIgcHJvdmlkZWQgZG9lcyBub3QgaGF2ZSB0aGUgYHNhdmVgIGF0dHJpYnV0ZSBkZWZpbmVkLlwiKTtyZXR1cm5bMixlLnNhdmUodGhpcy5hcnRpZmFjdHMpXX0pfSl9LGUucHJvdG90eXBlLnByZWRpY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5leGVjdXRlKGUsdGhpcy5vdXRwdXROb2Rlcyl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZUlucHV0cz1mdW5jdGlvbihlKXtpZighKGUgaW5zdGFuY2VvZiBUZW5zb3J8fEFycmF5LmlzQXJyYXkoZSkpKXJldHVybiBlO2lmKChlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV0pLmxlbmd0aCE9PXRoaXMuaW5wdXROb2Rlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgdGVuc29yIGNvdW50IG1pc21hdGNoLHRoZSBncmFwaCBtb2RlbCBoYXMgXCIrdGhpcy5pbnB1dE5vZGVzLmxlbmd0aCtcIiBwbGFjZWhvbGRlcnMsIHdoaWxlIHRoZXJlIGFyZSBcIitlLmxlbmd0aCtcIiBpbnB1dCB0ZW5zb3JzLlwiKTtyZXR1cm4gdGhpcy5pbnB1dE5vZGVzLnJlZHVjZShmdW5jdGlvbih0LGEscil7cmV0dXJuIHRbYV09ZVtyXSx0fSx7fSl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZU91dHB1dHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8dGhpcy5vdXRwdXROb2RlcyxBcnJheS5pc0FycmF5KGUpP2U6W2VdfSxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGUsdCl7ZT10aGlzLm5vcm1hbGl6ZUlucHV0cyhlKSx0PXRoaXMubm9ybWFsaXplT3V0cHV0cyh0KTt2YXIgYT10aGlzLmV4ZWN1dG9yLmV4ZWN1dGUoZSx0KTtyZXR1cm4gYS5sZW5ndGg+MT9hOmFbMF19LGUucHJvdG90eXBlLmV4ZWN1dGVBc3luYz1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT10aGlzLm5vcm1hbGl6ZUlucHV0cyhlKSx0PXRoaXMubm9ybWFsaXplT3V0cHV0cyh0KSxbNCx0aGlzLmV4ZWN1dG9yLmV4ZWN1dGVBc3luYyhlLHQpXTtjYXNlIDE6cmV0dXJuWzIsKGE9ci5zZW50KCkpLmxlbmd0aD4xP2E6YVswXV19fSl9KX0sZS5wcm90b3R5cGUuY29udmVydFRlbnNvck1hcFRvVGVuc29yc01hcD1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkucmVkdWNlKGZ1bmN0aW9uKHQsYSl7cmV0dXJuIHRbYV09W2VbYV1dLHR9LHt9KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZXhlY3V0b3IuZGlzcG9zZSgpfSxlfSgpO2Z1bmN0aW9uIGxvYWRHcmFwaE1vZGVsKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZihudWxsPT1lKXRocm93IG5ldyBFcnJvcihcIm1vZGVsVXJsIGluIGxvYWRHcmFwaE1vZGVsKCkgY2Fubm90IGJlIG51bGwuIFBsZWFzZSBwcm92aWRlIGEgdXJsIG9yIGFuIElPSGFuZGxlciB0aGF0IGxvYWRzIHRoZSBtb2RlbFwiKTtyZXR1cm4gbnVsbD09dCYmKHQ9e30pLHQuZnJvbVRGSHViJiZudWxsPT1lLmxvYWQmJihlLmVuZHNXaXRoKFwiL1wiKXx8KGUrPVwiL1wiKSxlPVwiXCIrZStERUZBVUxUX01PREVMX05BTUUrVEZIVUJfU0VBUkNIX1BBUkFNKSxbNCwoYT1uZXcgR3JhcGhNb2RlbChlLHQpKS5sb2FkKCldO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksWzIsYV19fSl9KX12YXIgdmVyc2lvbj1cIjEuNy40XCI7ZXhwb3J0e0dyYXBoTW9kZWwsbG9hZEdyYXBoTW9kZWwsZGVyZWdpc3Rlck9wLHJlZ2lzdGVyT3AsdmVyc2lvbiBhcyB2ZXJzaW9uX2NvbnZlcnRlcn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10Zi1jb252ZXJ0ZXIuZXNtLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xudmFyIHQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKGUsbil9O2Z1bmN0aW9uIGUoZSxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxuKSxlLnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgcil9ZnVuY3Rpb24gbih0LGUsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxhKXtmdW5jdGlvbiBpKHQpe3RyeXt1KHIubmV4dCh0KSl9Y2F0Y2godCl7YSh0KX19ZnVuY3Rpb24gcyh0KXt0cnl7dShyLnRocm93KHQpKX1jYXRjaCh0KXthKHQpfX1mdW5jdGlvbiB1KHQpe3QuZG9uZT9vKHQudmFsdWUpOm5ldyBuKChmdW5jdGlvbihlKXtlKHQudmFsdWUpfSkpLnRoZW4oaSxzKX11KChyPXIuYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gcih0LGUpe3ZhciBuLHIsbyxhLGk9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGE9e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihhW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGE7ZnVuY3Rpb24gcyhhKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtpOyl0cnl7aWYobj0xLHImJihvPTImYVswXT9yLnJldHVybjphWzBdP3IudGhyb3d8fCgobz1yLnJldHVybikmJm8uY2FsbChyKSwwKTpyLm5leHQpJiYhKG89by5jYWxsKHIsYVsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKHI9MCxvJiYoYT1bMiZhWzBdLG8udmFsdWVdKSxhWzBdKXtjYXNlIDA6Y2FzZSAxOm89YTticmVhaztjYXNlIDQ6cmV0dXJuIGkubGFiZWwrKyx7dmFsdWU6YVsxXSxkb25lOiExfTtjYXNlIDU6aS5sYWJlbCsrLHI9YVsxXSxhPVswXTtjb250aW51ZTtjYXNlIDc6YT1pLm9wcy5wb3AoKSxpLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89KG89aS50cnlzKS5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSkmJig2PT09YVswXXx8Mj09PWFbMF0pKXtpPTA7Y29udGludWV9aWYoMz09PWFbMF0mJighb3x8YVsxXT5vWzBdJiZhWzFdPG9bM10pKXtpLmxhYmVsPWFbMV07YnJlYWt9aWYoNj09PWFbMF0mJmkubGFiZWw8b1sxXSl7aS5sYWJlbD1vWzFdLG89YTticmVha31pZihvJiZpLmxhYmVsPG9bMl0pe2kubGFiZWw9b1syXSxpLm9wcy5wdXNoKGEpO2JyZWFrfW9bMl0mJmkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZX1hPWUuY2FsbCh0LGkpfWNhdGNoKHQpe2E9WzYsdF0scj0wfWZpbmFsbHl7bj1vPTB9aWYoNSZhWzBdKXRocm93IGFbMV07cmV0dXJue3ZhbHVlOmFbMF0/YVsxXTp2b2lkIDAsZG9uZTohMH19KFthLHNdKX19fXZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmdsb2JhbD10LHRoaXMuZmxhZ3M9e30sdGhpcy5mbGFnUmVnaXN0cnk9e30sdGhpcy51cmxGbGFncz17fSx0aGlzLnBvcHVsYXRlVVJMRmxhZ3MoKX1yZXR1cm4gdC5wcm90b3R5cGUuc2V0UGxhdGZvcm09ZnVuY3Rpb24odCxlKXtudWxsIT10aGlzLnBsYXRmb3JtJiZjb25zb2xlLndhcm4oXCJQbGF0Zm9ybSBcIit0aGlzLnBsYXRmb3JtTmFtZStcIiBoYXMgYWxyZWFkeSBiZWVuIHNldC4gT3ZlcndyaXRpbmcgdGhlIHBsYXRmb3JtIHdpdGggXCIrZStcIi5cIiksdGhpcy5wbGF0Zm9ybU5hbWU9dCx0aGlzLnBsYXRmb3JtPWV9LHQucHJvdG90eXBlLnJlZ2lzdGVyRmxhZz1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5mbGFnUmVnaXN0cnlbdF09e2V2YWx1YXRpb25GbjplLHNldEhvb2s6bn0sbnVsbCE9dGhpcy51cmxGbGFnc1t0XSl7dmFyIHI9dGhpcy51cmxGbGFnc1t0XTtjb25zb2xlLndhcm4oXCJTZXR0aW5nIGZlYXR1cmUgb3ZlcnJpZGUgZnJvbSBVUkwgXCIrdCtcIjogXCIrcitcIi5cIiksdGhpcy5zZXQodCxyKX19LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbiB0aGlzLmZsYWdzP3RoaXMuZmxhZ3NbdF06KHRoaXMuZmxhZ3NbdF09dGhpcy5ldmFsdWF0ZUZsYWcodCksdGhpcy5mbGFnc1t0XSl9LHQucHJvdG90eXBlLmdldE51bWJlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXQodCl9LHQucHJvdG90eXBlLmdldEJvb2w9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0KHQpfSx0LnByb3RvdHlwZS5nZXRGbGFncz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZsYWdzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJmZWF0dXJlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbGFnc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10aGlzLmZsYWdSZWdpc3RyeVt0XSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2V0IGZsYWcgXCIrdCtcIiBhcyBpdCBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZC5cIik7dGhpcy5mbGFnc1t0XT1lLG51bGwhPXRoaXMuZmxhZ1JlZ2lzdHJ5W3RdLnNldEhvb2smJnRoaXMuZmxhZ1JlZ2lzdHJ5W3RdLnNldEhvb2soZSl9LHQucHJvdG90eXBlLmV2YWx1YXRlRmxhZz1mdW5jdGlvbih0KXtpZihudWxsPT10aGlzLmZsYWdSZWdpc3RyeVt0XSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXZhbHVhdGUgZmxhZyAnXCIrdCtcIic6IG5vIGV2YWx1YXRpb24gZnVuY3Rpb24gZm91bmQuXCIpO3JldHVybiB0aGlzLmZsYWdSZWdpc3RyeVt0XS5ldmFsdWF0aW9uRm4oKX0sdC5wcm90b3R5cGUuc2V0RmxhZ3M9ZnVuY3Rpb24odCl7dGhpcy5mbGFncz1PYmplY3QuYXNzaWduKHt9LHQpfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZmxhZ3M9e30sdGhpcy51cmxGbGFncz17fSx0aGlzLnBvcHVsYXRlVVJMRmxhZ3MoKX0sdC5wcm90b3R5cGUucG9wdWxhdGVVUkxGbGFncz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodm9pZCAwIT09dGhpcy5nbG9iYWwmJnZvaWQgMCE9PXRoaXMuZ2xvYmFsLmxvY2F0aW9uJiZ2b2lkIDAhPT10aGlzLmdsb2JhbC5sb2NhdGlvbi5zZWFyY2gpe3ZhciBlLG4scj0oZT10aGlzLmdsb2JhbC5sb2NhdGlvbi5zZWFyY2gsbj17fSxlLnJlcGxhY2UoL1s/Jl0oW149PyZdKykoPzo9KFteJl0qKSk/L2csKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBhKG4sZVswXSxlWzFdKSxlLmpvaW4oXCI9XCIpfSkpLG4pO2lmKFwidGZqc2ZsYWdzXCJpbiByKXIudGZqc2ZsYWdzLnNwbGl0KFwiLFwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnNwbGl0KFwiOlwiKSxyPW5bMF0sbz1uWzFdO3QudXJsRmxhZ3Nbcl09ZnVuY3Rpb24odCxlKXtpZihcInRydWVcIj09PShlPWUudG9Mb3dlckNhc2UoKSl8fFwiZmFsc2VcIj09PWUpcmV0dXJuXCJ0cnVlXCI9PT1lO2lmKFwiXCIrICtlPT09ZSlyZXR1cm4rZTt0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcGFyc2UgdmFsdWUgZmxhZyB2YWx1ZSBcIitlK1wiIGZvciBmbGFnIFwiK3QrXCIuXCIpfShyLG8pfSkpfX0sdH0oKTtmdW5jdGlvbiBhKHQsZSxuKXt0W2RlY29kZVVSSUNvbXBvbmVudChlKV09ZGVjb2RlVVJJQ29tcG9uZW50KG58fFwiXCIpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gc312YXIgcz1udWxsO3ZhciB1PW5ldyBNYXAsYz1uZXcgTWFwO2Z1bmN0aW9uIGwodCxlKXt2YXIgbj1tKHQsZSk7cmV0dXJuIHUuZ2V0KG4pfWZ1bmN0aW9uIGgodCl7cmV0dXJuIGMuZ2V0KHQpfWZ1bmN0aW9uIGYodCl7Zm9yKHZhciBlPXUuZW50cmllcygpLG49W107Oyl7dmFyIHI9ZS5uZXh0KCksbz1yLmRvbmUsYT1yLnZhbHVlO2lmKG8pYnJlYWs7dmFyIGk9YVswXSxzPWFbMV07aS5zcGxpdChcIl9cIilbMF09PT10JiZuLnB1c2gocyl9cmV0dXJuIG59ZnVuY3Rpb24gZCh0KXt2YXIgZT10Lmtlcm5lbE5hbWUsbj10LmJhY2tlbmROYW1lLHI9bShlLG4pO2lmKHUuaGFzKHIpKXRocm93IG5ldyBFcnJvcihcIlRoZSBrZXJuZWwgJ1wiK2UrXCInIGZvciBiYWNrZW5kICdcIituK1wiJyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRcIik7dS5zZXQocix0KX1mdW5jdGlvbiBwKHQpe3ZhciBlPXQua2VybmVsTmFtZTtjLmhhcyhlKSYmY29uc29sZS53YXJuKFwiT3ZlcnJpZGluZyB0aGUgZ3JhZGllbnQgZm9yICdcIitlK1wiJ1wiKSxjLnNldChlLHQpfWZ1bmN0aW9uIHYodCxlKXt2YXIgbj1tKHQsZSk7aWYoIXUuaGFzKG4pKXRocm93IG5ldyBFcnJvcihcIlRoZSBrZXJuZWwgJ1wiK3QrXCInIGZvciBiYWNrZW5kICdcIitlK1wiJyBpcyBub3QgcmVnaXN0ZXJlZFwiKTt1LmRlbGV0ZShuKX1mdW5jdGlvbiBnKHQpe2lmKCFjLmhhcyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZ3JhZGllbnQgJ1wiK3QrXCInIGZvciBiYWNrZW5kIGlzIG5vdCByZWdpc3RlcmVkXCIpO2MuZGVsZXRlKHQpfWZ1bmN0aW9uIG0odCxlKXtyZXR1cm4gZStcIl9cIit0fWZ1bmN0aW9uIHkodCl7Zm9yKHZhciBlPXQubGVuZ3RoLG49MCxyPTA7ZT4wOylyPU1hdGgucmFuZG9tKCkqZXwwLG49dFstLWVdLHRbZV09dFtyXSx0W3JdPW59ZnVuY3Rpb24geCh0LGUsbil7cmV0dXJuIE1hdGgubWF4KHQsTWF0aC5taW4oZSxuKSl9ZnVuY3Rpb24gYih0KXtyZXR1cm4gdCUyPT0wP3Q6dCsxfWZ1bmN0aW9uIHcodCl7Zm9yKHZhciBlPTAsbj0wO248dC5sZW5ndGg7bisrKWUrPXRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gQyh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcInN0cmluZ1wiPT10eXBlb2YgZT9lOmUoKSl9ZnVuY3Rpb24gRSh0LGUsbil7dm9pZCAwPT09biYmKG49XCJcIiksQyhTKHQsZSksKGZ1bmN0aW9uKCl7cmV0dXJuIG4rXCIgU2hhcGVzIFwiK3QrXCIgYW5kIFwiK2UrXCIgbXVzdCBtYXRjaFwifSkpfWZ1bmN0aW9uIFIodCl7QyhudWxsIT10LChmdW5jdGlvbigpe3JldHVyblwiVGhlIGlucHV0IHRvIHRoZSB0ZW5zb3IgY29uc3RydWN0b3IgbXVzdCBiZSBhIG5vbi1udWxsIHZhbHVlLlwifSkpfWZ1bmN0aW9uIEkodCxlLG4pe2lmKHZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT1uJiYobj0hMSksbnVsbD09ZSYmKGU9W10pLEFycmF5LmlzQXJyYXkodCl8fFYodCkmJiFuKWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7KytyKUkodFtyXSxlLG4pO2Vsc2UgZS5wdXNoKHQpO3JldHVybiBlfWZ1bmN0aW9uIGsodCl7aWYoMD09PXQubGVuZ3RoKXJldHVybiAxO2Zvcih2YXIgZT10WzBdLG49MTtuPHQubGVuZ3RoO24rKyllKj10W25dO3JldHVybiBlfWZ1bmN0aW9uIFModCxlKXtpZih0PT09ZSlyZXR1cm4hMDtpZihudWxsPT10fHxudWxsPT1lKXJldHVybiExO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gdCUxPT0wfWZ1bmN0aW9uIFQodCl7aWYobnVsbCE9TWF0aC50YW5oKXJldHVybiBNYXRoLnRhbmgodCk7aWYodD09PTEvMClyZXR1cm4gMTtpZih0PT09LTEvMClyZXR1cm4tMTt2YXIgZT1NYXRoLmV4cCgyKnQpO3JldHVybihlLTEpLyhlKzEpfWZ1bmN0aW9uIEQodCl7dmFyIGU9TWF0aC5jZWlsKE1hdGguc3FydCh0KSk7cmV0dXJuW2UsTWF0aC5jZWlsKHQvZSldfWZ1bmN0aW9uIE4odCxlKXtyZXR1cm4gZTw9dC5sZW5ndGg/dDp0K1wiIFwiLnJlcGVhdChlLXQubGVuZ3RoKX1mdW5jdGlvbiBGKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ZnVuY3Rpb24odCl7cmV0dXJuIDB9KSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXt2YXIgYT0wLGk9ZnVuY3Rpb24oKXtpZih0KCkpcigpO2Vsc2V7YSsrO3ZhciBzPWUoYSk7bnVsbCE9biYmYT49bj9vKCk6c2V0VGltZW91dChpLHMpfX07aSgpfSkpfWZ1bmN0aW9uIF8odCxlKXtmb3IodmFyIG49MSxyPS0xLG89MDtvPHQubGVuZ3RoOysrbylpZih0W29dPj0wKW4qPXRbb107ZWxzZSBpZigtMT09PXRbb10pe2lmKC0xIT09cil0aHJvdyBFcnJvcihcIlNoYXBlcyBjYW4gb25seSBoYXZlIDEgaW1wbGljaXQgc2l6ZS4gRm91bmQgLTEgYXQgZGltIFwiK3IrXCIgYW5kIGRpbSBcIitvKTtyPW99ZWxzZSBpZih0W29dPDApdGhyb3cgRXJyb3IoXCJTaGFwZXMgY2FuIG5vdCBiZSA8IDAuIEZvdW5kIFwiK3Rbb10rXCIgYXQgZGltIFwiK28pO2lmKC0xPT09cil7aWYoZT4wJiZlIT09bil0aHJvdyBFcnJvcihcIlNpemUoXCIrZStcIikgbXVzdCBtYXRjaCB0aGUgcHJvZHVjdCBvZiBzaGFwZSBcIit0KTtyZXR1cm4gdH1pZigwPT09bil0aHJvdyBFcnJvcihcIkNhbm5vdCBpbmZlciB0aGUgbWlzc2luZyBzaXplIGluIFtcIit0K1wiXSB3aGVuIHRoZXJlIGFyZSAwIGVsZW1lbnRzXCIpO2lmKGUlbiE9MCl0aHJvdyBFcnJvcihcIlRoZSBpbXBsaWNpdCBzaGFwZSBjYW4ndCBiZSBhIGZyYWN0aW9uYWwgbnVtYmVyLiBHb3QgXCIrZStcIiAvIFwiK24pO3ZhciBhPXQuc2xpY2UoKTtyZXR1cm4gYVtyXT1lL24sYX1mdW5jdGlvbiBPKHQsZSl7dmFyIG49ZS5sZW5ndGg7cmV0dXJuIEMoKHQ9bnVsbD09dD9lLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZX0pKTpbXS5jb25jYXQodCkpLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdD49LW4mJnQ8bn0pKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkFsbCB2YWx1ZXMgaW4gYXhpcyBwYXJhbSBtdXN0IGJlIGluIHJhbmdlIFstXCIrbitcIiwgXCIrbitcIikgYnV0IGdvdCBheGlzIFwiK3R9KSksQyh0LmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gQSh0KX0pKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkFsbCB2YWx1ZXMgaW4gYXhpcyBwYXJhbSBtdXN0IGJlIGludGVnZXJzIGJ1dCBnb3QgYXhpcyBcIit0fSkpLHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdDwwP24rdDp0fSkpfWZ1bmN0aW9uIE0odCxlKXtmb3IodmFyIG49W10scj1bXSxvPW51bGwhPWUmJkFycmF5LmlzQXJyYXkoZSkmJjA9PT1lLmxlbmd0aCxhPW51bGw9PWV8fG8/bnVsbDpPKGUsdCkuc29ydCgpLGk9MCxzPTA7czx0Lmxlbmd0aDsrK3Mpe2lmKG51bGwhPWEpe2lmKGFbaV09PT1zJiYxIT09dFtzXSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBzcXVlZXplIGF4aXMgXCIrcytcIiBzaW5jZSBpdHMgZGltICdcIit0W3NdK1wiJyBpcyBub3QgMVwiKTsobnVsbD09YVtpXXx8YVtpXT5zKSYmMT09PXRbc10mJihuLnB1c2godFtzXSksci5wdXNoKHMpKSxhW2ldPD1zJiZpKyt9MSE9PXRbc10mJihuLnB1c2godFtzXSksci5wdXNoKHMpKX1yZXR1cm57bmV3U2hhcGU6bixrZXB0RGltczpyfX1mdW5jdGlvbiBCKHQsZSl7dmFyIG49bnVsbDtpZihudWxsPT10fHxcImZsb2F0MzJcIj09PXQpbj1uZXcgRmxvYXQzMkFycmF5KGUpO2Vsc2UgaWYoXCJpbnQzMlwiPT09dCluPW5ldyBJbnQzMkFycmF5KGUpO2Vsc2V7aWYoXCJib29sXCIhPT10KXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGF0YSB0eXBlIFwiK3QpO249bmV3IFVpbnQ4QXJyYXkoZSl9cmV0dXJuIG59ZnVuY3Rpb24gUCh0LGUpe3ZhciBuPW51bGw7aWYobnVsbD09dHx8XCJmbG9hdDMyXCI9PT10KW49bmV3IEZsb2F0MzJBcnJheShlKTtlbHNlIGlmKFwiaW50MzJcIj09PXQpbj1uZXcgSW50MzJBcnJheShlKTtlbHNlIGlmKFwiYm9vbFwiPT09dCluPW5ldyBVaW50OEFycmF5KGUpO2Vsc2V7aWYoXCJzdHJpbmdcIiE9PXQpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkYXRhIHR5cGUgXCIrdCk7bj1uZXcgQXJyYXkoZSl9cmV0dXJuIG59ZnVuY3Rpb24gTCh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO2lmKGlzTmFOKHIpfHwhaXNGaW5pdGUocikpdGhyb3cgRXJyb3IoXCJBIHRlbnNvciBvZiB0eXBlIFwiK2UrXCIgYmVpbmcgdXBsb2FkZWQgY29udGFpbnMgXCIrcitcIi5cIil9fWZ1bmN0aW9uIFcodCl7cmV0dXJuXCJib29sXCI9PT10fHxcImNvbXBsZXg2NFwiPT09dHx8XCJmbG9hdDMyXCI9PT10fHxcImludDMyXCI9PT10fHxcInN0cmluZ1wiPT09dH1mdW5jdGlvbiBVKHQsZSl7cmV0dXJuXCJjb21wbGV4NjRcIiE9PWUmJigoXCJmbG9hdDMyXCIhPT1lfHxcImNvbXBsZXg2NFwiPT09dCkmJigoXCJpbnQzMlwiIT09ZXx8XCJmbG9hdDMyXCI9PT10fHxcImNvbXBsZXg2NFwiPT09dCkmJihcImJvb2xcIiE9PWV8fFwiYm9vbFwiIT09dCkpKX1mdW5jdGlvbiBWKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHx0IGluc3RhbmNlb2YgSW50MzJBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl9ZnVuY3Rpb24geih0KXtpZihcImZsb2F0MzJcIj09PXR8fFwiaW50MzJcIj09PXQpcmV0dXJuIDQ7aWYoXCJjb21wbGV4NjRcIj09PXQpcmV0dXJuIDg7aWYoXCJib29sXCI9PT10KXJldHVybiAxO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gZHR5cGUgXCIrdCl9ZnVuY3Rpb24gRyh0KXtpZihudWxsPT10KXJldHVybiAwO3ZhciBlPTA7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUrPXQubGVuZ3RofSkpLGV9ZnVuY3Rpb24gSCh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZ31mdW5jdGlvbiBxKHQpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdH1mdW5jdGlvbiBLKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIGoodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/aih0WzBdKTp0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P1wiZmxvYXQzMlwiOnQgaW5zdGFuY2VvZiBJbnQzMkFycmF5fHx0IGluc3RhbmNlb2YgVWludDhBcnJheT9cImludDMyXCI6Syh0KT9cImZsb2F0MzJcIjpIKHQpP1wic3RyaW5nXCI6cSh0KT9cImJvb2xcIjpcImZsb2F0MzJcIn1mdW5jdGlvbiBYKHQpe3JldHVybiEhKHQmJnQuY29uc3RydWN0b3ImJnQuY2FsbCYmdC5hcHBseSl9ZnVuY3Rpb24gWSh0LGUpe2Zvcih2YXIgbj1lO248dDsrK24paWYodCVuPT0wKXJldHVybiBuO3JldHVybiB0fWZ1bmN0aW9uICQodCl7dmFyIGU9dC5sZW5ndGg7aWYoZTwyKXJldHVybltdO3ZhciBuPW5ldyBBcnJheShlLTEpO25bZS0yXT10W2UtMV07Zm9yKHZhciByPWUtMztyPj0wOy0tciluW3JdPW5bcisxXSp0W3IrMV07cmV0dXJuIG59ZnVuY3Rpb24gUSh0LGUsbil7aWYoXCJzdHJpbmdcIj09PWUpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgYSBzdHJpbmdbXSB0byBhIFR5cGVkQXJyYXlcIik7aWYoQXJyYXkuaXNBcnJheSh0KSYmKHQ9SSh0KSksbiYmTCh0LGUpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkmJlwiZmxvYXQzMlwiPT09ZXx8dCBpbnN0YW5jZW9mIEludDMyQXJyYXkmJlwiaW50MzJcIj09PWV8fHQgaW5zdGFuY2VvZiBVaW50OEFycmF5JiZcImJvb2xcIj09PWV9KHQsZSkpcmV0dXJuIHQ7aWYobnVsbD09ZXx8XCJmbG9hdDMyXCI9PT1lfHxcImNvbXBsZXg2NFwiPT09ZSlyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0KTtpZihcImludDMyXCI9PT1lKXJldHVybiBuZXcgSW50MzJBcnJheSh0KTtpZihcImJvb2xcIj09PWUpe2Zvcih2YXIgcj1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCksbz0wO288ci5sZW5ndGg7KytvKTAhPT1NYXRoLnJvdW5kKHRbb10pJiYocltvXT0xKTtyZXR1cm4gcn10aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGEgdHlwZSBcIitlKX1mdW5jdGlvbiBKKHQsZSl7aWYoMD09PXQubGVuZ3RoKXJldHVybiBlWzBdO3ZhciBuPXQucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0KmV9KSk7aWYoMD09PW4pcmV0dXJuW107aWYobiE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIltcIit0K1wiXSBkb2VzIG5vdCBtYXRjaCB0aGUgaW5wdXQgc2l6ZS5cIik7cmV0dXJuIGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBvPW5ldyBBcnJheTtpZigxPT09bi5sZW5ndGgpZm9yKHZhciBhPW5bMF0saT0wO2k8YTtpKyspb1tpXT1yW2UraV07ZWxzZXthPW5bMF07dmFyIHM9bi5zbGljZSgxKSx1PXMucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0KmV9KSk7Zm9yKGk9MDtpPGE7aSsrKW9baV09dChlK2kqdSxzLHIpfXJldHVybiBvfSgwLHQsZSl9ZnVuY3Rpb24gWih0LGUpe2Zvcih2YXIgbj10dCh0LGUpLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdPTE7cmV0dXJuIG59ZnVuY3Rpb24gdHQodCxlKXtpZihudWxsPT1lfHxcImZsb2F0MzJcIj09PWV8fFwiY29tcGxleDY0XCI9PT1lKXJldHVybiBuZXcgRmxvYXQzMkFycmF5KHQpO2lmKFwiaW50MzJcIj09PWUpcmV0dXJuIG5ldyBJbnQzMkFycmF5KHQpO2lmKFwiYm9vbFwiPT09ZSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodCk7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkYXRhIHR5cGUgXCIrZSl9ZnVuY3Rpb24gZXQoKXtyZXR1cm4gaSgpLnBsYXRmb3JtLm5vdygpfWZ1bmN0aW9uIG50KHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7QyhOdW1iZXIuaXNJbnRlZ2VyKGUpJiZlPj0wLChmdW5jdGlvbigpe3JldHVyblwiVGVuc29yIG11c3QgaGF2ZSBhIHNoYXBlIGNvbXByaXNlZCBvZiBwb3NpdGl2ZSBpbnRlZ2VycyBidXQgZ290IHNoYXBlIFtcIit0K1wiXS5cIn0pKX0pKX1mdW5jdGlvbiBydCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1cInV0Zi04XCIpLGU9ZXx8XCJ1dGYtOFwiLGkoKS5wbGF0Zm9ybS5lbmNvZGUodCxlKX1mdW5jdGlvbiBvdCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1cInV0Zi04XCIpLGU9ZXx8XCJ1dGYtOFwiLGkoKS5wbGF0Zm9ybS5kZWNvZGUodCxlKX1mdW5jdGlvbiBhdCh0LGUsbil7aWYoMD09PWUpcmV0dXJuIDA7aWYoMT09PWUpcmV0dXJuIHRbMF07Zm9yKHZhciByPXRbdC5sZW5ndGgtMV0sbz0wO288dC5sZW5ndGgtMTsrK28pcis9bltvXSp0W29dO3JldHVybiByfWZ1bmN0aW9uIGl0KHQsZSxuKXtpZigwPT09ZSlyZXR1cm5bXTtpZigxPT09ZSlyZXR1cm5bdF07Zm9yKHZhciByPW5ldyBBcnJheShlKSxvPTA7bzxyLmxlbmd0aC0xOysrbylyW29dPU1hdGguZmxvb3IodC9uW29dKSx0LT1yW29dKm5bb107cmV0dXJuIHJbci5sZW5ndGgtMV09dCxyfXZhciBzdD1PYmplY3QuZnJlZXplKHtzaHVmZmxlOnksY2xhbXA6eCxuZWFyZXN0TGFyZ2VyRXZlbjpiLHN1bTp3LHJhbmRVbmlmb3JtOmZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5yYW5kb20oKTtyZXR1cm4gZSpuKygxLW4pKnR9LGRpc3RTcXVhcmVkOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz1OdW1iZXIodFtyXSktTnVtYmVyKGVbcl0pO24rPW8qb31yZXR1cm4gbn0sYXNzZXJ0OkMsYXNzZXJ0U2hhcGVzTWF0Y2g6RSxhc3NlcnROb25OdWxsOlIsZmxhdHRlbjpJLHNpemVGcm9tU2hhcGU6ayxpc1NjYWxhclNoYXBlOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5sZW5ndGh9LGFycmF5c0VxdWFsOlMsaXNJbnQ6QSx0YW5oOlQsc2l6ZVRvU3F1YXJpc2hTaGFwZTpELGNyZWF0ZVNodWZmbGVkSW5kaWNlczpmdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IFVpbnQzMkFycmF5KHQpLG49MDtuPHQ7KytuKWVbbl09bjtyZXR1cm4geShlKSxlfSxyaWdodFBhZDpOLHJlcGVhdGVkVHJ5OkYsaW5mZXJGcm9tSW1wbGljaXRTaGFwZTpfLHBhcnNlQXhpc1BhcmFtOk8sc3F1ZWV6ZVNoYXBlOk0sZ2V0VHlwZWRBcnJheUZyb21EVHlwZTpCLGdldEFycmF5RnJvbURUeXBlOlAsY2hlY2tDb252ZXJzaW9uRm9yRXJyb3JzOkwsaXNWYWxpZER0eXBlOlcsaGFzRW5jb2RpbmdMb3NzOlUsaXNUeXBlZEFycmF5OlYsYnl0ZXNQZXJFbGVtZW50OnosYnl0ZXNGcm9tU3RyaW5nQXJyYXk6Ryxpc1N0cmluZzpILGlzQm9vbGVhbjpxLGlzTnVtYmVyOkssaW5mZXJEdHlwZTpqLGlzRnVuY3Rpb246WCxuZWFyZXN0RGl2aXNvcjpZLGNvbXB1dGVTdHJpZGVzOiQsdG9UeXBlZEFycmF5OlEsdG9OZXN0ZWRBcnJheTpKLG1ha2VPbmVzVHlwZWRBcnJheTpaLG1ha2VaZXJvc1R5cGVkQXJyYXk6dHQsbm93OmV0LGFzc2VydE5vbk5lZ2F0aXZlSW50ZWdlckRpbWVuc2lvbnM6bnQsZmV0Y2g6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaSgpLnBsYXRmb3JtLmZldGNoKHQsZSl9LGVuY29kZVN0cmluZzpydCxkZWNvZGVTdHJpbmc6b3QsbG9jVG9JbmRleDphdCxpbmRleFRvTG9jOml0fSksdXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5iYWNrZW5kVGltZXI9dCx0aGlzLmxvZ2dlcj1lLG51bGw9PWUmJih0aGlzLmxvZ2dlcj1uZXcgY3QpfXJldHVybiB0LnByb3RvdHlwZS5wcm9maWxlS2VybmVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvPXRoaXMsYT10aGlzLmJhY2tlbmRUaW1lci50aW1lKChmdW5jdGlvbigpe3I9bigpfSkpO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKG4pe24uZGF0YSgpLnRoZW4oKGZ1bmN0aW9uKHIpeyFmdW5jdGlvbih0LGUsbil7aWYoXCJmbG9hdDMyXCIhPT1lKXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO2lmKGlzTmFOKG8pfHwhaXNGaW5pdGUobykpcmV0dXJuIGNvbnNvbGUud2FybihcIkZvdW5kIFwiK28rXCIgaW4gdGhlIHJlc3VsdCBvZiAnXCIrbitcIidcIiksITB9fShyLG4uZHR5cGUsdCksYS50aGVuKChmdW5jdGlvbihhKXt2YXIgaT1cIlwiO251bGwhPWEuZ2V0RXh0cmFQcm9maWxlSW5mbyYmKGk9YS5nZXRFeHRyYVByb2ZpbGVJbmZvKCkpLG8ubG9nZ2VyLmxvZ0tlcm5lbFByb2ZpbGUodCxuLHIsYS5rZXJuZWxNcyxlLGkpfSkpfSkpfSkpLHJ9LHR9KCk7dmFyIGN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUubG9nS2VybmVsUHJvZmlsZT1mdW5jdGlvbih0LGUsbixyLG8sYSl7dmFyIGk9XCJudW1iZXJcIj09dHlwZW9mIHI/TihyK1wibXNcIiw5KTpyLmVycm9yLHM9Tih0LDI1KSx1PWUucmFuayxjPWUuc2l6ZSxsPU4oZS5zaGFwZS50b1N0cmluZygpLDE0KSxoPVwiXCI7Zm9yKHZhciBmIGluIG8pe3ZhciBkPW9bZl0uc2hhcGV8fGUuc2hhcGUscD1kLmxlbmd0aDtoKz1mK1wiOiBcIitwK1wiRCBcIisocD4wP2Q6XCJcIikrXCIgXCJ9Y29uc29sZS5sb2coXCIlY1wiK3MrXCJcXHQlY1wiK2krXCJcXHQlY1wiK3UrXCJEIFwiK2wrXCJcXHQlY1wiK2MrXCJcXHQlY1wiK2grXCJcXHQlY1wiK2EsXCJmb250LXdlaWdodDpib2xkXCIsXCJjb2xvcjpyZWRcIixcImNvbG9yOmJsdWVcIixcImNvbG9yOiBvcmFuZ2VcIixcImNvbG9yOiBncmVlblwiLFwiY29sb3I6IHN0ZWVsYmx1ZVwiKX0sdH0oKTt2YXIgbHQ9MjAsaHQ9MyxmdD03O2Z1bmN0aW9uIGR0KHQsZSxuLHIpe3ZhciBvPSQoZSksYT1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1rKGUpLGE9cltyLmxlbmd0aC0xXSxpPW5ldyBBcnJheShhKS5maWxsKDApLHM9ZS5sZW5ndGgsdT1cImNvbXBsZXg2NFwiPT09bj9ndCh0KTp0O2lmKHM+MSlmb3IodmFyIGM9MDtjPG8vYTtjKyspZm9yKHZhciBsPWMqYSxoPTA7aDxhO2grKylpW2hdPU1hdGgubWF4KGlbaF0scHQodVtsK2hdLDAsbikubGVuZ3RoKTtyZXR1cm4gaX0odCxlLG4sbyksaT1lLmxlbmd0aCxzPWZ1bmN0aW9uIHQoZSxuLHIsbyxhLGkpe3ZvaWQgMD09PWkmJihpPSEwKTt2YXIgcz1cImNvbXBsZXg2NFwiPT09cj8yOjEsdT1uWzBdLGM9bi5sZW5ndGg7aWYoMD09PWMpe3JldHVyblwiY29tcGxleDY0XCI9PT1yP1twdChndChlKVswXSwwLHIpXTpcImJvb2xcIj09PXI/W3Z0KGVbMF0pXTpbZVswXS50b1N0cmluZygpXX1pZigxPT09Yyl7aWYodT5sdCl7dmFyIGw9aHQqcyxoPUFycmF5LmZyb20oZS5zbGljZSgwLGwpKSxmPUFycmF5LmZyb20oZS5zbGljZSgodS1odCkqcyx1KnMpKTtyZXR1cm5cImNvbXBsZXg2NFwiPT09ciYmKGg9Z3QoaCksZj1ndChmKSksW1wiW1wiK2gubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBwdCh0LGFbZV0scil9KSkuam9pbihcIiwgXCIpK1wiLCAuLi4sIFwiK2YubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBwdCh0LGFbdS1odCtlXSxyKX0pKS5qb2luKFwiLCBcIikrXCJdXCJdfXJldHVybltcIltcIisoXCJjb21wbGV4NjRcIj09PXI/Z3QoZSk6QXJyYXkuZnJvbShlKSkubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBwdCh0LGFbZV0scil9KSkuam9pbihcIiwgXCIpK1wiXVwiXX12YXIgZD1uLnNsaWNlKDEpLHA9by5zbGljZSgxKSx2PW9bMF0qcyxnPVtdO2lmKHU+bHQpe2Zvcih2YXIgbT0wO208aHQ7bSsrKXt2YXIgeT0oeD1tKnYpK3Y7Zy5wdXNoLmFwcGx5KGcsdChlLnNsaWNlKHgseSksZCxyLHAsYSwhMSkpfWcucHVzaChcIi4uLlwiKTtmb3IobT11LWh0O208dTttKyspe3k9KHg9bSp2KSt2O2cucHVzaC5hcHBseShnLHQoZS5zbGljZSh4LHkpLGQscixwLGEsbT09PXUtMSkpfX1lbHNlIGZvcihtPTA7bTx1O20rKyl7dmFyIHg7eT0oeD1tKnYpK3Y7Zy5wdXNoLmFwcGx5KGcsdChlLnNsaWNlKHgseSksZCxyLHAsYSxtPT09dS0xKSl9dmFyIGI9Mj09PWM/XCIsXCI6XCJcIjtnWzBdPVwiW1wiK2dbMF0rYjtmb3IobT0xO208Zy5sZW5ndGgtMTttKyspZ1ttXT1cIiBcIitnW21dK2I7dmFyIHc9XCIsXFxuXCI7Zm9yKG09MjttPGM7bSsrKXcrPVwiXFxuXCI7cmV0dXJuIGdbZy5sZW5ndGgtMV09XCIgXCIrZ1tnLmxlbmd0aC0xXStcIl1cIisoaT9cIlwiOncpLGd9KHQsZSxuLG8sYSksdT1bXCJUZW5zb3JcIl07cmV0dXJuIHImJih1LnB1c2goXCIgIGR0eXBlOiBcIituKSx1LnB1c2goXCIgIHJhbms6IFwiK2kpLHUucHVzaChcIiAgc2hhcGU6IFtcIitlK1wiXVwiKSx1LnB1c2goXCIgIHZhbHVlczpcIikpLHUucHVzaChzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCIgICAgXCIrdH0pKS5qb2luKFwiXFxuXCIpKSx1LmpvaW4oXCJcXG5cIil9ZnVuY3Rpb24gcHQodCxlLG4pe3JldHVybiBOKEFycmF5LmlzQXJyYXkodCk/cGFyc2VGbG9hdCh0WzBdLnRvRml4ZWQoZnQpKStcIiArIFwiK3BhcnNlRmxvYXQodFsxXS50b0ZpeGVkKGZ0KSkrXCJqXCI6SCh0KT9cIidcIit0K1wiJ1wiOlwiYm9vbFwiPT09bj92dCh0KTpwYXJzZUZsb2F0KHQudG9GaXhlZChmdCkpLnRvU3RyaW5nKCksZSl9ZnVuY3Rpb24gdnQodCl7cmV0dXJuIDA9PT10P1wiZmFsc2VcIjpcInRydWVcIn1mdW5jdGlvbiBndCh0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7bis9MillLnB1c2goW3Rbbl0sdFtuKzFdXSk7cmV0dXJuIGV9dmFyIG10PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dmFyIHI9dGhpcztpZih0aGlzLmR0eXBlPWUsdGhpcy5zaGFwZT10LnNsaWNlKCksdGhpcy5zaXplPWsodCksbnVsbCE9bil7dmFyIG89bi5sZW5ndGg7QyhvPT09dGhpcy5zaXplLChmdW5jdGlvbigpe3JldHVyblwiTGVuZ3RoIG9mIHZhbHVlcyAnXCIrbytcIicgZG9lcyBub3QgbWF0Y2ggdGhlIHNpemUgaW5mZXJyZWQgYnkgdGhlIHNoYXBlICdcIityLnNpemUrXCInLlwifSkpfWlmKFwiY29tcGxleDY0XCI9PT1lKXRocm93IG5ldyBFcnJvcihcImNvbXBsZXg2NCBkdHlwZSBUZW5zb3JCdWZmZXJzIGFyZSBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgY3JlYXRlIGEgVGVuc29yQnVmZmVyIGZvciB0aGUgcmVhbCBhbmQgaW1hZ2luYXJ5IHBhcnRzIHNlcGFyYXRlbHkgYW5kIGNhbGwgdGYuY29tcGxleChyZWFsLCBpbWFnKS5cIik7dGhpcy52YWx1ZXM9bnx8UChlLHRoaXMuc2l6ZSksdGhpcy5zdHJpZGVzPSQodCl9cmV0dXJuIHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0xXT1hcmd1bWVudHNbcl07MD09PW4ubGVuZ3RoJiYobj1bMF0pLEMobi5sZW5ndGg9PT10aGlzLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgbnVtYmVyIG9mIHByb3ZpZGVkIGNvb3JkaW5hdGVzIChcIituLmxlbmd0aCtcIikgbXVzdCBtYXRjaCB0aGUgcmFuayAoXCIrZS5yYW5rK1wiKVwifSkpO3ZhciBvPXRoaXMubG9jVG9JbmRleChuKTt0aGlzLnZhbHVlc1tvXT10fSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07MD09PXQubGVuZ3RoJiYodD1bMF0pO2Zvcih2YXIgbj0wLHI9MCxvPXQ7cjxvLmxlbmd0aDtyKyspe3ZhciBhPW9bcl07aWYoYTwwfHxhPj10aGlzLnNoYXBlW25dKXt2YXIgaT1cIlJlcXVlc3RlZCBvdXQgb2YgcmFuZ2UgZWxlbWVudCBhdCBcIit0K1wiLiAgIEJ1ZmZlciBzaGFwZT1cIit0aGlzLnNoYXBlO3Rocm93IG5ldyBFcnJvcihpKX1uKyt9Zm9yKHZhciBzPXRbdC5sZW5ndGgtMV0sdT0wO3U8dC5sZW5ndGgtMTsrK3Upcys9dGhpcy5zdHJpZGVzW3VdKnRbdV07cmV0dXJuIHRoaXMudmFsdWVzW3NdfSx0LnByb3RvdHlwZS5sb2NUb0luZGV4PWZ1bmN0aW9uKHQpe2lmKDA9PT10aGlzLnJhbmspcmV0dXJuIDA7aWYoMT09PXRoaXMucmFuaylyZXR1cm4gdFswXTtmb3IodmFyIGU9dFt0Lmxlbmd0aC0xXSxuPTA7bjx0Lmxlbmd0aC0xOysrbillKz10aGlzLnN0cmlkZXNbbl0qdFtuXTtyZXR1cm4gZX0sdC5wcm90b3R5cGUuaW5kZXhUb0xvYz1mdW5jdGlvbih0KXtpZigwPT09dGhpcy5yYW5rKXJldHVybltdO2lmKDE9PT10aGlzLnJhbmspcmV0dXJuW3RdO2Zvcih2YXIgZT1uZXcgQXJyYXkodGhpcy5zaGFwZS5sZW5ndGgpLG49MDtuPGUubGVuZ3RoLTE7KytuKWVbbl09TWF0aC5mbG9vcih0L3RoaXMuc3RyaWRlc1tuXSksdC09ZVtuXSp0aGlzLnN0cmlkZXNbbl07cmV0dXJuIGVbZS5sZW5ndGgtMV09dCxlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyYW5rXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYXBlLmxlbmd0aH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b1RlbnNvcj1mdW5jdGlvbigpe3JldHVybiB5dCgpLm1ha2VUZW5zb3IodGhpcy52YWx1ZXMsdGhpcy5zaGFwZSx0aGlzLmR0eXBlKX0sdH0oKSx5dD1udWxsLHh0PW51bGwsYnQ9bnVsbDt2YXIgd3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMua2VwdD0hMSx0aGlzLmlzRGlzcG9zZWRJbnRlcm5hbD0hMSx0aGlzLnNoYXBlPXQuc2xpY2UoKSx0aGlzLmR0eXBlPWV8fFwiZmxvYXQzMlwiLHRoaXMuc2l6ZT1rKHQpLHRoaXMuc3RyaWRlcz0kKHQpLHRoaXMuZGF0YUlkPW4sdGhpcy5pZD1yLHRoaXMucmFua1R5cGU9dGhpcy5yYW5rPDU/dGhpcy5yYW5rLnRvU3RyaW5nKCk6XCJoaWdoZXJcIn1yZXR1cm4gdC5wcm90b3R5cGUuZmxhdHRlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHRoaXMuYXMxRCgpfSx0LnByb3RvdHlwZS5hc1NjYWxhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLEMoMT09PXRoaXMuc2l6ZSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBhcnJheSBtdXN0IGhhdmUgb25seSAxIGVsZW1lbnQuXCJ9KSksdGhpcy5yZXNoYXBlKFtdKX0sdC5wcm90b3R5cGUuYXMxRD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHRoaXMucmVzaGFwZShbdGhpcy5zaXplXSl9LHQucHJvdG90eXBlLmFzMkQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx0aGlzLnJlc2hhcGUoW3QsZV0pfSx0LnByb3RvdHlwZS5hczNEPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx0aGlzLnJlc2hhcGUoW3QsZSxuXSl9LHQucHJvdG90eXBlLmFzNEQ9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksdGhpcy5yZXNoYXBlKFt0LGUsbixyXSl9LHQucHJvdG90eXBlLmFzNUQ9ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx0aGlzLnJlc2hhcGUoW3QsZSxuLHIsb10pfSx0LnByb3RvdHlwZS5hc1R5cGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuY2FzdCh0aGlzLHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyYW5rXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYXBlLmxlbmd0aH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5idWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEoKV07Y2FzZSAxOnJldHVybiB0PWUuc2VudCgpLFsyLHh0LmJ1ZmZlcih0aGlzLnNoYXBlLHRoaXMuZHR5cGUsdCldfX0pKX0pKX0sdC5wcm90b3R5cGUuYnVmZmVyU3luYz1mdW5jdGlvbigpe3JldHVybiB4dC5idWZmZXIodGhpcy5zaGFwZSx0aGlzLmR0eXBlLHRoaXMuZGF0YVN5bmMoKSl9LHQucHJvdG90eXBlLmFycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0O3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhKCldO2Nhc2UgMTpyZXR1cm4gdD1lLnNlbnQoKSxbMixKKHRoaXMuc2hhcGUsdCldfX0pKX0pKX0sdC5wcm90b3R5cGUuYXJyYXlTeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIEoodGhpcy5zaGFwZSx0aGlzLmRhdGFTeW5jKCkpfSx0LnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx0PXl0KCkucmVhZCh0aGlzLmRhdGFJZCksXCJzdHJpbmdcIiE9PXRoaXMuZHR5cGU/WzMsMl06WzQsdF07Y2FzZSAxOmU9bi5zZW50KCk7dHJ5e3JldHVyblsyLGUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gb3QodCl9KSldfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZWNvZGUgdGhlIHN0cmluZyBieXRlcyBpbnRvIHV0Zi04LiBUbyBnZXQgdGhlIG9yaWdpbmFsIGJ5dGVzLCBjYWxsIHRlbnNvci5ieXRlcygpLlwiKX1uLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyLHRdfX0pKX0pKX0sdC5wcm90b3R5cGUuZGF0YVN5bmM9ZnVuY3Rpb24oKXt0aGlzLnRocm93SWZEaXNwb3NlZCgpO3ZhciB0PXl0KCkucmVhZFN5bmModGhpcy5kYXRhSWQpO2lmKFwic3RyaW5nXCI9PT10aGlzLmR0eXBlKXRyeXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBvdCh0KX0pKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVjb2RlIHRoZSBzdHJpbmcgYnl0ZXMgaW50byB1dGYtOC4gVG8gZ2V0IHRoZSBvcmlnaW5hbCBieXRlcywgY2FsbCB0ZW5zb3IuYnl0ZXMoKS5cIil9cmV0dXJuIHR9LHQucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0O3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksWzQseXQoKS5yZWFkKHRoaXMuZGF0YUlkKV07Y2FzZSAxOnJldHVybiB0PWUuc2VudCgpLFwic3RyaW5nXCI9PT10aGlzLmR0eXBlP1syLHRdOlsyLG5ldyBVaW50OEFycmF5KHQuYnVmZmVyKV19fSkpfSkpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5pc0Rpc3Bvc2VkfHwoeXQoKS5kaXNwb3NlVGVuc29yKHRoaXMpLHRoaXMuaXNEaXNwb3NlZEludGVybmFsPSEwKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNEaXNwb3NlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc3Bvc2VkSW50ZXJuYWx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudGhyb3dJZkRpc3Bvc2VkPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0Rpc3Bvc2VkKXRocm93IG5ldyBFcnJvcihcIlRlbnNvciBpcyBkaXNwb3NlZC5cIil9LHQucHJvdG90eXBlLnRvRmxvYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hc1R5cGUoXCJmbG9hdDMyXCIpfSx0LnByb3RvdHlwZS50b0ludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzVHlwZShcImludDMyXCIpfSx0LnByb3RvdHlwZS50b0Jvb2w9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hc1R5cGUoXCJib29sXCIpfSx0LnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLHh0LnByaW50KHRoaXMsdCl9LHQucHJvdG90eXBlLnJlc2hhcGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQucmVzaGFwZSh0aGlzLHQpfSx0LnByb3RvdHlwZS5yZXNoYXBlQXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksdGhpcy5yZXNoYXBlKHQuc2hhcGUpfSx0LnByb3RvdHlwZS5leHBhbmREaW1zPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx4dC5leHBhbmREaW1zKHRoaXMsdCl9LHQucHJvdG90eXBlLmN1bXN1bT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1uJiYobj0hMSkseHQuY3Vtc3VtKHRoaXMsdCxlLG4pfSx0LnByb3RvdHlwZS5zcXVlZXplPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNxdWVlemUodGhpcyx0KX0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5jbG9uZSh0aGlzKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSxkdCh0aGlzLmRhdGFTeW5jKCksdGhpcy5zaGFwZSx0aGlzLmR0eXBlLHQpfSx0LnByb3RvdHlwZS5nYXRoZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5nYXRoZXIodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5tYXRNdWw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09biYmKG49ITEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubWF0TXVsKHRoaXMsdCxlLG4pfSx0LnByb3RvdHlwZS5kb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuZG90KHRoaXMsdCl9LHQucHJvdG90eXBlLm5vcm09ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT10JiYodD1cImV1Y2xpZGVhblwiKSx2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1uJiYobj0hMSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5ub3JtKHRoaXMsdCxlLG4pfSx0LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNsaWNlKHRoaXMsdCxlKX0sdC5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5yZXZlcnNlKHRoaXMsdCl9LHQucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbihlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0wKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLGUgaW5zdGFuY2VvZiB0JiYoZT1bZV0pLHh0LmNvbmNhdChbdGhpc10uY29uY2F0KGUpLG4pfSx0LnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNwbGl0KHRoaXMsdCxlKX0sdC5wcm90b3R5cGUuc3RhY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCkseHQuc3RhY2soW3RoaXMsdF0sZSl9LHQucHJvdG90eXBlLnVuc3RhY2s9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHh0LnVuc3RhY2sodGhpcyx0KX0sdC5wcm90b3R5cGUuYmF0Y2hOb3JtYWxpemF0aW9uPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHZvaWQgMD09PW4mJihuPS4wMDEpLGJ0KFwidGYuYmF0Y2hOb3JtYWxpemF0aW9uKCkgaXMgZ29pbmcgYXdheS4gVXNlIHRmLmJhdGNoTm9ybSgpIGluc3RlYWQsIGFuZCBub3RlIHRoZSBwb3NpdGlvbmFsIGFyZ3VtZW50IGNoYW5nZSBvZiBzY2FsZSwgb2Zmc2V0LCBhbmQgdmFyaWFuY2VFcHNpbG9uXCIpLHRoaXMuYmF0Y2hOb3JtKHQsZSxvLHIsbil9LHQucHJvdG90eXBlLmFsbD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5hbGwodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5hbnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYW55KHRoaXMsdCxlKX0sdC5wcm90b3R5cGUubG9nU3VtRXhwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PWUmJihlPSExKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmxvZ1N1bUV4cCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLnN1bT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zdW0odGhpcyx0LGUpfSx0LnByb3RvdHlwZS5wcm9kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PWUmJihlPSExKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnByb2QodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5tZWFuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PWUmJihlPSExKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lm1lYW4odGhpcyx0LGUpfSx0LnByb3RvdHlwZS5taW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubWluKHRoaXMsdCxlKX0sdC5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PWUmJihlPSExKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lm1heCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLmFyZ01pbj1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5hcmdNaW4odGhpcyx0KX0sdC5wcm90b3R5cGUuYXJnTWF4PWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmFyZ01heCh0aGlzLHQpfSx0LnByb3RvdHlwZS5jYXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmNhc3QodGhpcyx0KX0sdC5wcm90b3R5cGUuYWRkU3RyaWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmFkZFN0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5hdGFuMj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5hdGFuMih0aGlzLHQpfSx0LnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3ViKHRoaXMsdCl9LHQucHJvdG90eXBlLnN1YlN0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zdWJTdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUucG93PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnBvdyh0aGlzLHQpfSx0LnByb3RvdHlwZS5wb3dTdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQucG93U3RyaWN0KHRoaXMsdCl9LHQucHJvdG90eXBlLm11bD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5tdWwodGhpcyx0KX0sdC5wcm90b3R5cGUubXVsU3RyaWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lm11bFN0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5mbG9vckRpdj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5mbG9vckRpdih0aGlzLHQpfSx0LnByb3RvdHlwZS5kaXZTdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuZGl2U3RyaWN0KHRoaXMsdCl9LHQucHJvdG90eXBlLm1pbmltdW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubWluaW11bSh0aGlzLHQpfSx0LnByb3RvdHlwZS5taW5pbXVtU3RyaWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lm1pbmltdW1TdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUubWF4aW11bT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5tYXhpbXVtKHRoaXMsdCl9LHQucHJvdG90eXBlLm1heGltdW1TdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubWF4aW11bVN0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubW9kKHRoaXMsdCl9LHQucHJvdG90eXBlLm1vZFN0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5tb2RTdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUuc3F1YXJlZERpZmZlcmVuY2VTdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3F1YXJlZERpZmZlcmVuY2VTdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUubm90RXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubm90RXF1YWwodGhpcyx0KX0sdC5wcm90b3R5cGUubm90RXF1YWxTdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubm90RXF1YWxTdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUubGVzcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5sZXNzKHRoaXMsdCl9LHQucHJvdG90eXBlLmxlc3NTdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubGVzc1N0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5lcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5lcXVhbCh0aGlzLHQpfSx0LnByb3RvdHlwZS5lcXVhbFN0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5lcXVhbFN0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5sZXNzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubGVzc0VxdWFsKHRoaXMsdCl9LHQucHJvdG90eXBlLmxlc3NFcXVhbFN0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5sZXNzRXF1YWxTdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUuZ3JlYXRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5ncmVhdGVyKHRoaXMsdCl9LHQucHJvdG90eXBlLmdyZWF0ZXJTdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuZ3JlYXRlclN0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5ncmVhdGVyRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuZ3JlYXRlckVxdWFsKHRoaXMsdCl9LHQucHJvdG90eXBlLmdyZWF0ZXJFcXVhbFN0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5ncmVhdGVyRXF1YWxTdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUubG9naWNhbEFuZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5sb2dpY2FsQW5kKHRoaXMsdCl9LHQucHJvdG90eXBlLmxvZ2ljYWxPcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5sb2dpY2FsT3IodGhpcyx0KX0sdC5wcm90b3R5cGUubG9naWNhbE5vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmxvZ2ljYWxOb3QodGhpcyl9LHQucHJvdG90eXBlLmxvZ2ljYWxYb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubG9naWNhbFhvcih0aGlzLHQpfSx0LnByb3RvdHlwZS53aGVyZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LndoZXJlKHQsdGhpcyxlKX0sdC5wcm90b3R5cGUubmVnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubmVnKHRoaXMpfSx0LnByb3RvdHlwZS5jZWlsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuY2VpbCh0aGlzKX0sdC5wcm90b3R5cGUuZmxvb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5mbG9vcih0aGlzKX0sdC5wcm90b3R5cGUuc2lnbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNpZ24odGhpcyl9LHQucHJvdG90eXBlLmlzTmFOPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuaXNOYU4odGhpcyl9LHQucHJvdG90eXBlLmlzSW5mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuaXNJbmYodGhpcyl9LHQucHJvdG90eXBlLmlzRmluaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuaXNGaW5pdGUodGhpcyl9LHQucHJvdG90eXBlLmV4cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmV4cCh0aGlzKX0sdC5wcm90b3R5cGUuZXhwbTE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5leHBtMSh0aGlzKX0sdC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubG9nKHRoaXMpfSx0LnByb3RvdHlwZS5sb2cxcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmxvZzFwKHRoaXMpfSx0LnByb3RvdHlwZS5zcXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3FydCh0aGlzKX0sdC5wcm90b3R5cGUucnNxcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5yc3FydCh0aGlzKX0sdC5wcm90b3R5cGUuc3F1YXJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3F1YXJlKHRoaXMpfSx0LnByb3RvdHlwZS5yZWNpcHJvY2FsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQucmVjaXByb2NhbCh0aGlzKX0sdC5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYWJzKHRoaXMpfSx0LnByb3RvdHlwZS5jbGlwQnlWYWx1ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmNsaXBCeVZhbHVlKHRoaXMsdCxlKX0sdC5wcm90b3R5cGUucmVsdT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnJlbHUodGhpcyl9LHQucHJvdG90eXBlLnJlbHU2PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQucmVsdTYodGhpcyl9LHQucHJvdG90eXBlLmVsdT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmVsdSh0aGlzKX0sdC5wcm90b3R5cGUuc2VsdT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNlbHUodGhpcyl9LHQucHJvdG90eXBlLmxlYWt5UmVsdT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9LjIpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubGVha3lSZWx1KHRoaXMsdCl9LHQucHJvdG90eXBlLnByZWx1PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnByZWx1KHRoaXMsdCl9LHQucHJvdG90eXBlLnNpZ21vaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zaWdtb2lkKHRoaXMpfSx0LnByb3RvdHlwZS5sb2dTaWdtb2lkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubG9nU2lnbW9pZCh0aGlzKX0sdC5wcm90b3R5cGUuc29mdHBsdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zb2Z0cGx1cyh0aGlzKX0sdC5wcm90b3R5cGUuemVyb3NMaWtlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuemVyb3NMaWtlKHRoaXMpfSx0LnByb3RvdHlwZS5vbmVzTGlrZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lm9uZXNMaWtlKHRoaXMpfSx0LnByb3RvdHlwZS5zaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zaW4odGhpcyl9LHQucHJvdG90eXBlLmNvcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmNvcyh0aGlzKX0sdC5wcm90b3R5cGUudGFuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQudGFuKHRoaXMpfSx0LnByb3RvdHlwZS5hc2luPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYXNpbih0aGlzKX0sdC5wcm90b3R5cGUuYWNvcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmFjb3ModGhpcyl9LHQucHJvdG90eXBlLmF0YW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5hdGFuKHRoaXMpfSx0LnByb3RvdHlwZS5zaW5oPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc2luaCh0aGlzKX0sdC5wcm90b3R5cGUuY29zaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmNvc2godGhpcyl9LHQucHJvdG90eXBlLnRhbmg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC50YW5oKHRoaXMpfSx0LnByb3RvdHlwZS5hc2luaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmFzaW5oKHRoaXMpfSx0LnByb3RvdHlwZS5hY29zaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmFjb3NoKHRoaXMpfSx0LnByb3RvdHlwZS5hdGFuaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmF0YW5oKHRoaXMpfSx0LnByb3RvdHlwZS5lcmY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5lcmYodGhpcyl9LHQucHJvdG90eXBlLnJvdW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQucm91bmQodGhpcyl9LHQucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3RlcCh0aGlzLHQpfSx0LnByb3RvdHlwZS5zb2Z0bWF4PWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0tMSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zb2Z0bWF4KHRoaXMsdCl9LHQucHJvdG90eXBlLmxvZ1NvZnRtYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PS0xKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmxvZ1NvZnRtYXgodGhpcyx0KX0sdC5wcm90b3R5cGUucmVzaXplQmlsaW5lYXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuaW1hZ2UucmVzaXplQmlsaW5lYXIodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5yZXNpemVOZWFyZXN0TmVpZ2hib3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuaW1hZ2UucmVzaXplTmVhcmVzdE5laWdoYm9yKHRoaXMsdCxlKX0sdC5wcm90b3R5cGUuY29udjFkPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9XCJOV0NcIiksdm9pZCAwPT09byYmKG89MSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5jb252MWQodGhpcyx0LGUsbixyLG8sYSl9LHQucHJvdG90eXBlLmNvbnYyZD1mdW5jdGlvbih0LGUsbixyLG8sYSl7cmV0dXJuIHZvaWQgMD09PXImJihyPVwiTkhXQ1wiKSx2b2lkIDA9PT1vJiYobz1bMSwxXSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5jb252MmQodGhpcyx0LGUsbixyLG8sYSl9LHQucHJvdG90eXBlLmNvbnYyZFRyYW5zcG9zZT1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmNvbnYyZFRyYW5zcG9zZSh0aGlzLHQsZSxuLHIsbyl9LHQucHJvdG90eXBlLmRlcHRod2lzZUNvbnYyRD1mdW5jdGlvbih0LGUsbixyLG8sYSl7cmV0dXJuIHZvaWQgMD09PXImJihyPVwiTkhXQ1wiKSx2b2lkIDA9PT1vJiYobz1bMSwxXSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5kZXB0aHdpc2VDb252MmQodGhpcyx0LGUsbixyLG8sYSl9LHQucHJvdG90eXBlLnNlcGFyYWJsZUNvbnYyZD1mdW5jdGlvbih0LGUsbixyLG8sYSl7cmV0dXJuIHZvaWQgMD09PW8mJihvPVsxLDFdKSx2b2lkIDA9PT1hJiYoYT1cIk5IV0NcIiksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zZXBhcmFibGVDb252MmQodGhpcyx0LGUsbixyLG8sYSl9LHQucHJvdG90eXBlLmF2Z1Bvb2w9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYXZnUG9vbCh0aGlzLHQsZSxuLHIpfSx0LnByb3RvdHlwZS5tYXhQb29sPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lm1heFBvb2wodGhpcyx0LGUsbixyKX0sdC5wcm90b3R5cGUubG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb249ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHZvaWQgMD09PXQmJih0PTUpLHZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PXImJihyPS41KSx4dC5sb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbih0aGlzLHQsZSxuLHIpfSx0LnByb3RvdHlwZS5wb29sPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQucG9vbCh0aGlzLHQsZSxuLHIsbyl9LHQucHJvdG90eXBlLnZhcmlhYmxlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITApLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseXQoKS5tYWtlVmFyaWFibGUodGhpcyx0LGUsbil9LHQucHJvdG90eXBlLnVuc29ydGVkU2VnbWVudFN1bT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnVuc29ydGVkU2VnbWVudFN1bSh0aGlzLHQsZSl9LHQucHJvdG90eXBlLmJhdGNoVG9TcGFjZU5EPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYmF0Y2hUb1NwYWNlTkQodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5zcGFjZVRvQmF0Y2hORD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNwYWNlVG9CYXRjaE5EKHRoaXMsdCxlKX0sdC5wcm90b3R5cGUudG9waz1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0xKSx2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC50b3BrKHRoaXMsdCxlKX0sdC5wcm90b3R5cGUuc3RyaWRlZFNsaWNlPWZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkscyl7cmV0dXJuIHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PW8mJihvPTApLHZvaWQgMD09PWEmJihhPTApLHZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PXMmJihzPTApLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3RyaWRlZFNsaWNlKHRoaXMsdCxlLG4scixvLGEsaSxzKX0sdC5wcm90b3R5cGUuZGVwdGhUb1NwYWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuZGVwdGhUb1NwYWNlKHRoaXMsdCxlKX0sdC5wcm90b3R5cGUuZmZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3BlY3RyYWwuZmZ0KHRoaXMpfSx0LnByb3RvdHlwZS5pZmZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3BlY3RyYWwuaWZmdCh0aGlzKX0sdC5wcm90b3R5cGUucmZmdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNwZWN0cmFsLnJmZnQodGhpcyl9LHQucHJvdG90eXBlLmlyZmZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3BlY3RyYWwuaXJmZnQodGhpcyl9LHR9KCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHd0LFN5bWJvbC5oYXNJbnN0YW5jZSx7dmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuISF0JiZudWxsIT10LmRhdGFJZCYmbnVsbCE9dC5zaGFwZSYmbnVsbCE9dC5kdHlwZX19KTt2YXIgQ3QsRXQsUnQsSXQsa3QsU3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlLG4scixvKXt2YXIgYT10LmNhbGwodGhpcyxlLnNoYXBlLGUuZHR5cGUsZS5kYXRhSWQsbyl8fHRoaXM7cmV0dXJuIGEudHJhaW5hYmxlPW4sYS5uYW1lPXIsYX1yZXR1cm4gZShuLHQpLG4ucHJvdG90eXBlLmFzc2lnbj1mdW5jdGlvbih0KXtpZih0LmR0eXBlIT09dGhpcy5kdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJkdHlwZSBvZiB0aGUgbmV3IHZhbHVlIChcIit0LmR0eXBlK1wiKSBhbmQgcHJldmlvdXMgdmFsdWUgKFwiK3RoaXMuZHR5cGUrXCIpIG11c3QgbWF0Y2hcIik7aWYoIVModC5zaGFwZSx0aGlzLnNoYXBlKSl0aHJvdyBuZXcgRXJyb3IoXCJzaGFwZSBvZiB0aGUgbmV3IHZhbHVlIChcIit0LnNoYXBlK1wiKSBhbmQgcHJldmlvdXMgdmFsdWUgKFwiK3RoaXMuc2hhcGUrXCIpIG11c3QgbWF0Y2hcIik7eXQoKS5kaXNwb3NlVGVuc29yKHRoaXMpLHRoaXMuZGF0YUlkPXQuZGF0YUlkLHl0KCkuaW5jUmVmKHRoaXMsbnVsbCl9LG4ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt5dCgpLmRpc3Bvc2VWYXJpYWJsZSh0aGlzKSx0aGlzLmlzRGlzcG9zZWRJbnRlcm5hbD0hMH0sbn0od3QpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShTdCxTeW1ib2wuaGFzSW5zdGFuY2Use3ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygd3QmJm51bGwhPXQuYXNzaWduJiZ0LmFzc2lnbiBpbnN0YW5jZW9mIEZ1bmN0aW9ufX0pLGZ1bmN0aW9uKHQpe3QuUjA9XCJSMFwiLHQuUjE9XCJSMVwiLHQuUjI9XCJSMlwiLHQuUjM9XCJSM1wiLHQuUjQ9XCJSNFwiLHQuUjU9XCJSNVwiLHQuUjY9XCJSNlwifShDdHx8KEN0PXt9KSksZnVuY3Rpb24odCl7dC5mbG9hdDMyPVwiZmxvYXQzMlwiLHQuaW50MzI9XCJpbnQzMlwiLHQuYm9vbD1cImludDMyXCIsdC5jb21wbGV4NjQ9XCJjb21wbGV4NjRcIn0oRXR8fChFdD17fSkpLGZ1bmN0aW9uKHQpe3QuZmxvYXQzMj1cImZsb2F0MzJcIix0LmludDMyPVwiaW50MzJcIix0LmJvb2w9XCJib29sXCIsdC5jb21wbGV4NjQ9XCJjb21wbGV4NjRcIn0oUnR8fChSdD17fSkpLGZ1bmN0aW9uKHQpe3QuZmxvYXQzMj1cImZsb2F0MzJcIix0LmludDMyPVwiZmxvYXQzMlwiLHQuYm9vbD1cImZsb2F0MzJcIix0LmNvbXBsZXg2ND1cImNvbXBsZXg2NFwifShJdHx8KEl0PXt9KSksZnVuY3Rpb24odCl7dC5mbG9hdDMyPVwiY29tcGxleDY0XCIsdC5pbnQzMj1cImNvbXBsZXg2NFwiLHQuYm9vbD1cImNvbXBsZXg2NFwiLHQuY29tcGxleDY0PVwiY29tcGxleDY0XCJ9KGt0fHwoa3Q9e30pKTt2YXIgQXQ9e2Zsb2F0MzI6SXQsaW50MzI6RXQsYm9vbDpSdCxjb21wbGV4NjQ6a3R9O2Z1bmN0aW9uIFR0KHQsZSl7aWYoXCJzdHJpbmdcIj09PXR8fFwic3RyaW5nXCI9PT1lKXtpZihcInN0cmluZ1wiPT09dCYmXCJzdHJpbmdcIj09PWUpcmV0dXJuXCJzdHJpbmdcIjt0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IHVwY2FzdCBcIit0K1wiIHdpdGggXCIrZSl9cmV0dXJuIEF0W3RdW2VdfWZ1bmN0aW9uIER0KHQpe3JldHVybiBUdCh0LFwiaW50MzJcIil9ZnVuY3Rpb24gTnQodCxlKXtpZih0LmR0eXBlPT09ZS5kdHlwZSlyZXR1cm5bdCxlXTt2YXIgbj1UdCh0LmR0eXBlLGUuZHR5cGUpO3JldHVyblt0LmNhc3QobiksZS5jYXN0KG4pXX1mdW5jdGlvbiBGdCh0LGUpe0ModC5kdHlwZT09PWUuZHR5cGUsKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgZHR5cGVzIG9mIHRoZSBmaXJzdChcIit0LmR0eXBlK1wiKSBhbmQgc2Vjb25kKFwiK2UuZHR5cGUrXCIpIGlucHV0IG11c3QgbWF0Y2hcIn0pKX1mdW5jdGlvbiBfdCh0KXt2YXIgZT1bXTtyZXR1cm4gZnVuY3Rpb24gdChlLG4scil7aWYobnVsbD09ZSlyZXR1cm47aWYoZSBpbnN0YW5jZW9mIHd0KXJldHVybiB2b2lkIG4ucHVzaChlKTtpZihvPWUsIUFycmF5LmlzQXJyYXkobykmJlwib2JqZWN0XCIhPXR5cGVvZiBvKXJldHVybjt2YXIgbzt2YXIgYT1lO2Zvcih2YXIgaSBpbiBhKXt2YXIgcz1hW2ldO3IuaGFzKHMpfHwoci5hZGQocyksdChzLG4scikpfX0odCxlLG5ldyBTZXQpLGV9dmFyIE90LE10PU9iamVjdC5mcmVlemUoe21ha2VUeXBlc01hdGNoOk50LGFzc2VydFR5cGVzTWF0Y2g6RnQsaXNUZW5zb3JJbkxpc3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PXQuaWR9KSl9LGdldFRlbnNvcnNJbkNvbnRhaW5lcjpfdH0pLEJ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMucmVnaXN0ZXJlZFZhcmlhYmxlcz17fSx0aGlzLm5leHRUYXBlTm9kZUlkPTAsdGhpcy5udW1CeXRlcz0wLHRoaXMubnVtVGVuc29ycz0wLHRoaXMubnVtU3RyaW5nVGVuc29ycz0wLHRoaXMubnVtRGF0YUJ1ZmZlcnM9MCx0aGlzLmdyYWRpZW50RGVwdGg9MCx0aGlzLmtlcm5lbERlcHRoPTAsdGhpcy5zY29wZVN0YWNrPVtdLHRoaXMubnVtRGF0YU1vdmVzU3RhY2s9W10sdGhpcy5uZXh0U2NvcGVJZD0wLHRoaXMudGVuc29ySW5mbz1uZXcgV2Vha01hcCx0aGlzLnByb2ZpbGluZz0hMSx0aGlzLmFjdGl2ZVByb2ZpbGU9e25ld0J5dGVzOjAsbmV3VGVuc29yczowLHBlYWtCeXRlczowLGtlcm5lbHM6W10scmVzdWx0Om51bGx9fXJldHVybiB0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMucmVnaXN0ZXJlZFZhcmlhYmxlcyl0aGlzLnJlZ2lzdGVyZWRWYXJpYWJsZXNbdF0uZGlzcG9zZSgpfSx0fSgpLFB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLkVOVj10LHRoaXMucmVnaXN0cnk9e30sdGhpcy5yZWdpc3RyeUZhY3Rvcnk9e30sdGhpcy5wZW5kaW5nQmFja2VuZEluaXRJZD0wLHRoaXMuc3RhdGU9bmV3IEJ0fXJldHVybiB0LnByb3RvdHlwZS5yZWFkeT1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZihudWxsIT10aGlzLnBlbmRpbmdCYWNrZW5kSW5pdClyZXR1cm5bMix0aGlzLnBlbmRpbmdCYWNrZW5kSW5pdC50aGVuKChmdW5jdGlvbigpe30pKV07aWYobnVsbCE9dGhpcy5iYWNrZW5kSW5zdGFuY2UpcmV0dXJuWzJdO3Q9dGhpcy5nZXRTb3J0ZWRCYWNrZW5kcygpLGU9MCxyLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBlPHQubGVuZ3RoPyhuPXRbZV0sWzQsdGhpcy5pbml0aWFsaXplQmFja2VuZChuKS5zdWNjZXNzXSk6WzMsNV07Y2FzZSAyOnJldHVybiByLnNlbnQoKT9bNCx0aGlzLnNldEJhY2tlbmQobildOlszLDRdO2Nhc2UgMzpyZXR1cm4gci5zZW50KCksWzJdO2Nhc2UgNDpyZXR1cm4gZSsrLFszLDFdO2Nhc2UgNTp0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgaW5pdGlhbGl6ZSBhbnkgYmFja2VuZHMsIGFsbCBiYWNrZW5kIGluaXRpYWxpemF0aW9ucyBmYWlsZWQuXCIpfX0pKX0pKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYmFja2VuZFwiLHtnZXQ6ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnBlbmRpbmdCYWNrZW5kSW5pdCl0aHJvdyBuZXcgRXJyb3IoXCJCYWNrZW5kICdcIit0aGlzLmJhY2tlbmROYW1lK1wiJyBoYXMgbm90IHlldCBiZWVuIGluaXRpYWxpemVkLiBNYWtlIHN1cmUgdG8gYXdhaXQgdGYucmVhZHkoKSBvciBhd2FpdCB0Zi5zZXRCYWNrZW5kKCkgYmVmb3JlIGNhbGxpbmcgb3RoZXIgbWV0aG9kc1wiKTtpZihudWxsPT10aGlzLmJhY2tlbmRJbnN0YW5jZSl7dmFyIHQ9dGhpcy5pbml0aWFsaXplQmFja2VuZHNBbmRSZXR1cm5CZXN0KCksZT10Lm5hbWU7aWYodC5hc3luY0luaXQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGhpZ2hlc3QgcHJpb3JpdHkgYmFja2VuZCAnXCIrZStcIicgaGFzIG5vdCB5ZXQgYmVlbiBpbml0aWFsaXplZC4gTWFrZSBzdXJlIHRvIGF3YWl0IHRmLnJlYWR5KCkgb3IgYXdhaXQgdGYuc2V0QmFja2VuZCgpIGJlZm9yZSBjYWxsaW5nIG90aGVyIG1ldGhvZHNcIik7dGhpcy5zZXRCYWNrZW5kKGUpfXJldHVybiB0aGlzLmJhY2tlbmRJbnN0YW5jZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5iYWNrZW5kTmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5yZWdpc3RyeUZhY3RvcnkpfSx0LnByb3RvdHlwZS5maW5kQmFja2VuZD1mdW5jdGlvbih0KXtpZighKHQgaW4gdGhpcy5yZWdpc3RyeSkpe2lmKCEodCBpbiB0aGlzLnJlZ2lzdHJ5RmFjdG9yeSkpcmV0dXJuIG51bGw7aWYodGhpcy5pbml0aWFsaXplQmFja2VuZCh0KS5hc3luY0luaXQpcmV0dXJuIG51bGx9cmV0dXJuIHRoaXMucmVnaXN0cnlbdF19LHQucHJvdG90eXBlLmZpbmRCYWNrZW5kRmFjdG9yeT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbiB0aGlzLnJlZ2lzdHJ5RmFjdG9yeT90aGlzLnJlZ2lzdHJ5RmFjdG9yeVt0XS5mYWN0b3J5Om51bGx9LHQucHJvdG90eXBlLnJlZ2lzdGVyQmFja2VuZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPTEpLHQgaW4gdGhpcy5yZWdpc3RyeUZhY3Rvcnk/KGNvbnNvbGUud2Fybih0K1wiIGJhY2tlbmQgd2FzIGFscmVhZHkgcmVnaXN0ZXJlZC4gUmV1c2luZyBleGlzdGluZyBiYWNrZW5kIGZhY3RvcnkuXCIpLCExKToodGhpcy5yZWdpc3RyeUZhY3RvcnlbdF09e2ZhY3Rvcnk6ZSxwcmlvcml0eTpufSwhMCl9LHQucHJvdG90eXBlLnNldEJhY2tlbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4sbztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKG51bGw9PXRoaXMucmVnaXN0cnlGYWN0b3J5W3RdKXRocm93IG5ldyBFcnJvcihcIkJhY2tlbmQgbmFtZSAnXCIrdCtcIicgbm90IGZvdW5kIGluIHJlZ2lzdHJ5XCIpO3JldHVybiB0aGlzLmJhY2tlbmROYW1lPXQsbnVsbCE9dGhpcy5yZWdpc3RyeVt0XT9bMyw0XToodGhpcy5iYWNrZW5kSW5zdGFuY2U9bnVsbCxlPXRoaXMuaW5pdGlhbGl6ZUJhY2tlbmQodCksbj1lLnN1Y2Nlc3MsZS5hc3luY0luaXQ/WzQsbl06WzMsMl0pO2Nhc2UgMTpyZXR1cm4gbz1yLnNlbnQoKSxbMywzXTtjYXNlIDI6bz1uLHIubGFiZWw9MztjYXNlIDM6aWYoIW8pcmV0dXJuWzIsITFdO3IubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIHRoaXMuYmFja2VuZEluc3RhbmNlPXRoaXMucmVnaXN0cnlbdF0sdGhpcy5zZXR1cFJlZ2lzdGVyZWRLZXJuZWxzKCksdGhpcy5wcm9maWxlcj1uZXcgdXQodGhpcy5iYWNrZW5kSW5zdGFuY2UpLFsyLCEwXX19KSl9KSl9LHQucHJvdG90eXBlLnNldHVwUmVnaXN0ZXJlZEtlcm5lbHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2YodGhpcy5iYWNrZW5kTmFtZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bnVsbCE9ZS5zZXR1cEZ1bmMmJmUuc2V0dXBGdW5jKHQuYmFja2VuZEluc3RhbmNlKX0pKX0sdC5wcm90b3R5cGUuZGlzcG9zZVJlZ2lzdGVyZWRLZXJuZWxzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7Zih0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtudWxsIT1uLmRpc3Bvc2VGdW5jJiZuLmRpc3Bvc2VGdW5jKGUucmVnaXN0cnlbdF0pfSkpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplQmFja2VuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5yZWdpc3RyeUZhY3RvcnlbdF07aWYobnVsbD09bil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaW5pdGlhbGl6ZSBiYWNrZW5kIFwiK3QrXCIsIG5vIHJlZ2lzdHJhdGlvbiBmb3VuZC5cIik7dHJ5e3ZhciByPW4uZmFjdG9yeSgpO2lmKFByb21pc2UucmVzb2x2ZShyKT09PXIpe3ZhciBvPSsrdGhpcy5wZW5kaW5nQmFja2VuZEluaXRJZCxhPXIudGhlbigoZnVuY3Rpb24obil7cmV0dXJuIShvPGUucGVuZGluZ0JhY2tlbmRJbml0SWQpJiYoZS5yZWdpc3RyeVt0XT1uLGUucGVuZGluZ0JhY2tlbmRJbml0PW51bGwsITApfSkpLmNhdGNoKChmdW5jdGlvbihuKXtyZXR1cm4hKG88ZS5wZW5kaW5nQmFja2VuZEluaXRJZCkmJihlLnBlbmRpbmdCYWNrZW5kSW5pdD1udWxsLGNvbnNvbGUud2FybihcIkluaXRpYWxpemF0aW9uIG9mIGJhY2tlbmQgXCIrdCtcIiBmYWlsZWRcIiksY29uc29sZS53YXJuKG4uc3RhY2t8fG4ubWVzc2FnZSksITEpfSkpO3JldHVybiB0aGlzLnBlbmRpbmdCYWNrZW5kSW5pdD1hLHtzdWNjZXNzOmEsYXN5bmNJbml0OiEwfX1yZXR1cm4gdGhpcy5yZWdpc3RyeVt0XT1yLHtzdWNjZXNzOiEwLGFzeW5jSW5pdDohMX19Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIkluaXRpYWxpemF0aW9uIG9mIGJhY2tlbmQgXCIrdCtcIiBmYWlsZWRcIiksY29uc29sZS53YXJuKGUuc3RhY2t8fGUubWVzc2FnZSkse3N1Y2Nlc3M6ITEsYXN5bmNJbml0OiExfX19LHQucHJvdG90eXBlLnJlbW92ZUJhY2tlbmQ9ZnVuY3Rpb24odCl7aWYoISh0IGluIHRoaXMucmVnaXN0cnlGYWN0b3J5KSl0aHJvdyBuZXcgRXJyb3IodCtcIiBiYWNrZW5kIG5vdCBmb3VuZCBpbiByZWdpc3RyeVwiKTt0aGlzLmJhY2tlbmROYW1lPT09dCYmbnVsbCE9dGhpcy5wZW5kaW5nQmFja2VuZEluaXQmJnRoaXMucGVuZGluZ0JhY2tlbmRJbml0SWQrKyx0IGluIHRoaXMucmVnaXN0cnkmJih0aGlzLmRpc3Bvc2VSZWdpc3RlcmVkS2VybmVscyh0KSx0aGlzLnJlZ2lzdHJ5W3RdLmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5yZWdpc3RyeVt0XSksZGVsZXRlIHRoaXMucmVnaXN0cnlGYWN0b3J5W3RdLHRoaXMuYmFja2VuZE5hbWU9PT10JiYodGhpcy5wZW5kaW5nQmFja2VuZEluaXQ9bnVsbCx0aGlzLmJhY2tlbmROYW1lPW51bGwsdGhpcy5iYWNrZW5kSW5zdGFuY2U9bnVsbCl9LHQucHJvdG90eXBlLmdldFNvcnRlZEJhY2tlbmRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigwPT09T2JqZWN0LmtleXModGhpcy5yZWdpc3RyeUZhY3RvcnkpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJObyBiYWNrZW5kIGZvdW5kIGluIHJlZ2lzdHJ5LlwiKTtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5yZWdpc3RyeUZhY3RvcnkpLnNvcnQoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucmVnaXN0cnlGYWN0b3J5W25dLnByaW9yaXR5LXQucmVnaXN0cnlGYWN0b3J5W2VdLnByaW9yaXR5fSkpfSx0LnByb3RvdHlwZS5pbml0aWFsaXplQmFja2VuZHNBbmRSZXR1cm5CZXN0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0U29ydGVkQmFja2VuZHMoKSxlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV0scj10aGlzLmluaXRpYWxpemVCYWNrZW5kKG4pLG89ci5zdWNjZXNzLGE9ci5hc3luY0luaXQ7aWYoYXx8bylyZXR1cm57bmFtZTpuLGFzeW5jSW5pdDphfX10aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgaW5pdGlhbGl6ZSBhbnkgYmFja2VuZHMsIGFsbCBiYWNrZW5kIGluaXRpYWxpemF0aW9ucyBmYWlsZWQuXCIpfSx0LnByb3RvdHlwZS5tb3ZlRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc3RhdGUudGVuc29ySW5mby5nZXQoZSkscj1uLmJhY2tlbmQsbz10aGlzLnJlYWRTeW5jKGUpO3IuZGlzcG9zZURhdGEoZSksbi5iYWNrZW5kPXQsdC5tb3ZlKGUsbyxuLnNoYXBlLG4uZHR5cGUpLHRoaXMuc2hvdWxkQ2hlY2tGb3JNZW1MZWFrcygpJiZ0aGlzLnN0YXRlLm51bURhdGFNb3Zlc1N0YWNrW3RoaXMuc3RhdGUubnVtRGF0YU1vdmVzU3RhY2subGVuZ3RoLTFdKyt9LHQucHJvdG90eXBlLnRpZHk9ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXMsbz1udWxsO2lmKG51bGw9PWUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSBmdW5jdGlvbiB0byB0aWR5KClcIik7ZT10fWVsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJiEodCBpbnN0YW5jZW9mIFN0cmluZykpdGhyb3cgbmV3IEVycm9yKFwiV2hlbiBjYWxsaW5nIHdpdGggdHdvIGFyZ3VtZW50cywgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRpZHkoKSBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiV2hlbiBjYWxsaW5nIHdpdGggdHdvIGFyZ3VtZW50cywgdGhlIDJuZCBhcmd1bWVudCB0byB0aWR5KCkgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO289dH1yZXR1cm4gdGhpcy5zY29wZWRSdW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHIuc3RhcnRTY29wZShvKX0pLChmdW5jdGlvbigpe3JldHVybiByLmVuZFNjb3BlKG4pfSksKGZ1bmN0aW9uKCl7cmV0dXJuKG49ZSgpKWluc3RhbmNlb2YgUHJvbWlzZSYmY29uc29sZS5lcnJvcihcIkNhbm5vdCByZXR1cm4gYSBQcm9taXNlIGluc2lkZSBvZiB0aWR5LlwiKSxufSkpfSx0LnByb3RvdHlwZS5zY29wZWRSdW49ZnVuY3Rpb24odCxlLG4pe3QoKTt0cnl7dmFyIHI9bigpO3JldHVybiBlKCkscn1jYXRjaCh0KXt0aHJvdyBlKCksdH19LHQucHJvdG90eXBlLm5leHRUZW5zb3JJZD1mdW5jdGlvbigpe3JldHVybiB0Lm5leHRUZW5zb3JJZCsrfSx0LnByb3RvdHlwZS5uZXh0VmFyaWFibGVJZD1mdW5jdGlvbigpe3JldHVybiB0Lm5leHRWYXJpYWJsZUlkKyt9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubWFrZVRlbnNvckZyb21EYXRhSWQodC5kYXRhSWQsdC5zaGFwZSx0LmR0eXBlKSxuPXt4OnR9O3JldHVybiB0aGlzLmFkZFRhcGVOb2RlKHRoaXMuc3RhdGUuYWN0aXZlU2NvcGUubmFtZSxuLFtlXSwoZnVuY3Rpb24odCl7cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gdC50b0Zsb2F0KCl9fX0pLFtdLHt9KSxlfSx0LnByb3RvdHlwZS5ydW5LZXJuZWw9ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gdGhpcy5ydW5LZXJuZWxGdW5jKG51bGwsZSxudWxsLHQsbixyLG8pfSx0LnByb3RvdHlwZS5zaG91bGRDaGVja0Zvck1lbUxlYWtzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRU5WLmdldEJvb2woXCJJU19URVNUXCIpfSx0LnByb3RvdHlwZS5jaGVja0tlcm5lbEZvck1lbUxlYWs9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuYmFja2VuZC5udW1EYXRhSWRzKCksbz0wO24uZm9yRWFjaCgoZnVuY3Rpb24odCl7bys9XCJjb21wbGV4NjRcIj09PXQuZHR5cGU/MzoxfSkpO3ZhciBhPXRoaXMuc3RhdGUubnVtRGF0YU1vdmVzU3RhY2tbdGhpcy5zdGF0ZS5udW1EYXRhTW92ZXNTdGFjay5sZW5ndGgtMV0saT1yLWUtby1hO2lmKGk+MCl0aHJvdyBuZXcgRXJyb3IoXCJCYWNrZW5kICdcIit0aGlzLmJhY2tlbmROYW1lK1wiJyBoYXMgYW4gaW50ZXJuYWwgbWVtb3J5IGxlYWsgKFwiK2krXCIgZGF0YSBpZHMpIGFmdGVyIHJ1bm5pbmcgJ1wiK3QrXCInXCIpfSx0LnByb3RvdHlwZS5ydW5LZXJuZWxGdW5jPWZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkpe3ZhciBzLHU9dGhpcyxjPVtdLGg9dGhpcy5pc1RhcGVPbigpO251bGw9PXImJihyPW51bGwhPXRoaXMuc3RhdGUuYWN0aXZlU2NvcGU/dGhpcy5zdGF0ZS5hY3RpdmVTY29wZS5uYW1lOlwiXCIpO3ZhciBmLGQ9dGhpcy5zdGF0ZS5udW1CeXRlcyxwPXRoaXMuc3RhdGUubnVtVGVuc29yczt0aGlzLnNob3VsZENoZWNrRm9yTWVtTGVha3MoKSYmdGhpcy5zdGF0ZS5udW1EYXRhTW92ZXNTdGFjay5wdXNoKDApO3ZhciB2LGc9bChyLHRoaXMuYmFja2VuZE5hbWUpO2lmKG51bGwhPWcpZj1mdW5jdGlvbigpe3ZhciB0PXUuYmFja2VuZC5udW1EYXRhSWRzKCk7dj1nLmtlcm5lbEZ1bmMoe2lucHV0czplLGF0dHJzOm8sYmFja2VuZDp1LmJhY2tlbmR9KTt2YXIgbj1BcnJheS5pc0FycmF5KHYpP3Y6W3ZdO3Uuc2hvdWxkQ2hlY2tGb3JNZW1MZWFrcygpJiZ1LmNoZWNrS2VybmVsRm9yTWVtTGVhayhyLHQsbik7dmFyIHM9bi5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YUlkLG49dC5zaGFwZSxyPXQuZHR5cGU7cmV0dXJuIHUubWFrZVRlbnNvckZyb21EYXRhSWQoZSxuLHIpfSkpO2lmKGgpe3ZhciBsPXUuZ2V0VGVuc29yc0ZvckdyYWRpZW50KHIsZSxzKTtpZihudWxsPT1sKXtudWxsPT1pJiYoaT1bXSk7dmFyIGY9cy5maWx0ZXIoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGlbZV19KSk7bD0oYXx8W10pLnNsaWNlKCkuY29uY2F0KGYpfWM9dS5zYXZlVGVuc29yc0ZvckJhY2t3YXJkTW9kZShsKX1yZXR1cm4gc307ZWxzZXt2YXIgbT1mdW5jdGlvbih0KXtoJiYoYz10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHUua2VlcCh1LmNsb25lKHQpKX0pKSl9O2Y9ZnVuY3Rpb24oKXt2YXIgZT11LmJhY2tlbmQubnVtRGF0YUlkcygpO3Y9dS50aWR5KChmdW5jdGlvbigpe3JldHVybiB0KHUuYmFja2VuZCxtKX0pKTt2YXIgbj1BcnJheS5pc0FycmF5KHYpP3Y6W3ZdO3JldHVybiB1LnNob3VsZENoZWNrRm9yTWVtTGVha3MoKSYmdS5jaGVja0tlcm5lbEZvck1lbUxlYWsocixlLG4pLG59fXJldHVybiB0aGlzLnNjb3BlZFJ1bigoZnVuY3Rpb24oKXtyZXR1cm4gdS5zdGF0ZS5rZXJuZWxEZXB0aCsrfSksKGZ1bmN0aW9uKCl7cmV0dXJuIHUuc3RhdGUua2VybmVsRGVwdGgtLX0pLChmdW5jdGlvbigpe3M9dS5FTlYuZ2V0Qm9vbChcIkRFQlVHXCIpP3UucHJvZmlsZXIucHJvZmlsZUtlcm5lbChyLGUsKGZ1bmN0aW9uKCl7cmV0dXJuIGYoKX0pKTpmKCl9KSksaCYmdGhpcy5hZGRUYXBlTm9kZShyLGUscyxuLGMsbyksdGhpcy5zdGF0ZS5wcm9maWxpbmcmJnRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5rZXJuZWxzLnB1c2goe25hbWU6cixieXRlc0FkZGVkOnRoaXMuc3RhdGUubnVtQnl0ZXMtZCx0b3RhbEJ5dGVzU25hcHNob3Q6dGhpcy5zdGF0ZS5udW1CeXRlcyx0ZW5zb3JzQWRkZWQ6dGhpcy5zdGF0ZS5udW1UZW5zb3JzLXAsdG90YWxUZW5zb3JzU25hcHNob3Q6dGhpcy5zdGF0ZS5udW1UZW5zb3JzLGlucHV0U2hhcGVzOk9iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF0uc2hhcGV9KSksb3V0cHV0U2hhcGVzOnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGFwZX0pKX0pLEFycmF5LmlzQXJyYXkodik/czpzWzBdfSx0LnByb3RvdHlwZS5zYXZlVGVuc29yc0ZvckJhY2t3YXJkTW9kZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUua2VlcChlLmNsb25lKHQpKX0pKX0sdC5wcm90b3R5cGUuZ2V0VGVuc29yc0ZvckdyYWRpZW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1oKHQpO2lmKG51bGwhPXIpe3ZhciBvPXIuaW5wdXRzVG9TYXZlfHxbXSxhPXIub3V0cHV0c1RvU2F2ZXx8W10saT12b2lkIDA7ci5zYXZlQWxsSW5wdXRzPyhDKEFycmF5LmlzQXJyYXkoZSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJzYXZlQWxsSW5wdXRzIGlzIHRydWUsIGV4cGVjdGVkIGlucHV0cyB0byBiZSBhbiBhcnJheS5cIn0pKSxpPU9iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KSkpOmk9by5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpO3ZhciBzPW4uZmlsdGVyKChmdW5jdGlvbih0LGUpe3JldHVybiBhW2VdfSkpO3JldHVybiBpLmNvbmNhdChzKX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUubWFrZVRlbnNvcj1mdW5jdGlvbih0LGUsbixyKXtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcIlZhbHVlcyBwYXNzZWQgdG8gZW5naW5lLm1ha2VUZW5zb3IoKSBhcmUgbnVsbFwiKTtuPW58fFwiZmxvYXQzMlwiLHI9cnx8dGhpcy5iYWNrZW5kO3ZhciBvPXQ7XCJzdHJpbmdcIj09PW4mJkgodFswXSkmJihvPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gcnQodCl9KSkpO3ZhciBhPXIud3JpdGUobyxlLG4pLGk9bmV3IHd0KGUsbixhLHRoaXMubmV4dFRlbnNvcklkKCkpO2lmKHRoaXMuaW5jUmVmKGksciksXCJzdHJpbmdcIj09PW4pe3ZhciBzPXRoaXMuc3RhdGUudGVuc29ySW5mby5nZXQoYSksdT1HKG8pO3RoaXMuc3RhdGUubnVtQnl0ZXMrPXUtcy5ieXRlcyxzLmJ5dGVzPXV9cmV0dXJuIGl9LHQucHJvdG90eXBlLm1ha2VUZW5zb3JGcm9tRGF0YUlkPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPW5ldyB3dChlLG49bnx8XCJmbG9hdDMyXCIsdCx0aGlzLm5leHRUZW5zb3JJZCgpKTtyZXR1cm4gdGhpcy5pbmNSZWYobyxyKSxvfSx0LnByb3RvdHlwZS5tYWtlVmFyaWFibGU9ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ZSYmKGU9ITApLG49bnx8dGhpcy5uZXh0VmFyaWFibGVJZCgpLnRvU3RyaW5nKCksbnVsbCE9ciYmciE9PXQuZHR5cGUmJih0PXQuYXNUeXBlKHIpKTt2YXIgbz1uZXcgU3QodCxlLG4sdGhpcy5uZXh0VGVuc29ySWQoKSk7aWYobnVsbCE9dGhpcy5zdGF0ZS5yZWdpc3RlcmVkVmFyaWFibGVzW28ubmFtZV0pdGhyb3cgbmV3IEVycm9yKFwiVmFyaWFibGUgd2l0aCBuYW1lIFwiK28ubmFtZStcIiB3YXMgYWxyZWFkeSByZWdpc3RlcmVkXCIpO3JldHVybiB0aGlzLnN0YXRlLnJlZ2lzdGVyZWRWYXJpYWJsZXNbby5uYW1lXT1vLHRoaXMuaW5jUmVmKG8sdGhpcy5iYWNrZW5kKSxvfSx0LnByb3RvdHlwZS5pbmNSZWY9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnN0YXRlLnRlbnNvckluZm8uaGFzKHQuZGF0YUlkKT90aGlzLnN0YXRlLnRlbnNvckluZm8uZ2V0KHQuZGF0YUlkKS5yZWZDb3VudDowO2lmKHRoaXMuc3RhdGUubnVtVGVuc29ycysrLFwic3RyaW5nXCI9PT10LmR0eXBlJiZ0aGlzLnN0YXRlLm51bVN0cmluZ1RlbnNvcnMrKywwPT09bil7dGhpcy5zdGF0ZS5udW1EYXRhQnVmZmVycysrO3ZhciByPTA7XCJjb21wbGV4NjRcIiE9PXQuZHR5cGUmJlwic3RyaW5nXCIhPT10LmR0eXBlJiYocj10LnNpemUqeih0LmR0eXBlKSksdGhpcy5zdGF0ZS50ZW5zb3JJbmZvLnNldCh0LmRhdGFJZCx7YmFja2VuZDplfHx0aGlzLmJhY2tlbmQsZHR5cGU6dC5kdHlwZSxzaGFwZTp0LnNoYXBlLGJ5dGVzOnIscmVmQ291bnQ6MH0pLHRoaXMuc3RhdGUubnVtQnl0ZXMrPXJ9dGhpcy5zdGF0ZS50ZW5zb3JJbmZvLmdldCh0LmRhdGFJZCkucmVmQ291bnQrKyx0IGluc3RhbmNlb2YgU3R8fHRoaXMudHJhY2sodCl9LHQucHJvdG90eXBlLmRpc3Bvc2VUZW5zb3I9ZnVuY3Rpb24odCl7aWYodGhpcy5zdGF0ZS50ZW5zb3JJbmZvLmhhcyh0LmRhdGFJZCkpe3RoaXMuc3RhdGUubnVtVGVuc29ycy0tLFwic3RyaW5nXCI9PT10LmR0eXBlJiZ0aGlzLnN0YXRlLm51bVN0cmluZ1RlbnNvcnMtLTt2YXIgZT10aGlzLnN0YXRlLnRlbnNvckluZm8uZ2V0KHQuZGF0YUlkKTtlLnJlZkNvdW50PD0xPyhcImNvbXBsZXg2NFwiIT09dC5kdHlwZSYmKHRoaXMuc3RhdGUubnVtQnl0ZXMtPWUuYnl0ZXMpLHRoaXMuc3RhdGUubnVtRGF0YUJ1ZmZlcnMtLSxlLmJhY2tlbmQuZGlzcG9zZURhdGEodC5kYXRhSWQpLHRoaXMuc3RhdGUudGVuc29ySW5mby5kZWxldGUodC5kYXRhSWQpKTp0aGlzLnN0YXRlLnRlbnNvckluZm8uZ2V0KHQuZGF0YUlkKS5yZWZDb3VudC0tfX0sdC5wcm90b3R5cGUuZGlzcG9zZVZhcmlhYmxlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnN0YXRlLnJlZ2lzdGVyZWRWYXJpYWJsZXMpe3ZhciBlPXRoaXMuc3RhdGUucmVnaXN0ZXJlZFZhcmlhYmxlc1t0XTt0aGlzLmRpc3Bvc2VWYXJpYWJsZShlKX19LHQucHJvdG90eXBlLmRpc3Bvc2VWYXJpYWJsZT1mdW5jdGlvbih0KXt0aGlzLmRpc3Bvc2VUZW5zb3IodCksbnVsbCE9dGhpcy5zdGF0ZS5yZWdpc3RlcmVkVmFyaWFibGVzW3QubmFtZV0mJmRlbGV0ZSB0aGlzLnN0YXRlLnJlZ2lzdGVyZWRWYXJpYWJsZXNbdC5uYW1lXX0sdC5wcm90b3R5cGUubWVtb3J5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iYWNrZW5kLm1lbW9yeSgpO3JldHVybiB0Lm51bVRlbnNvcnM9dGhpcy5zdGF0ZS5udW1UZW5zb3JzLHQubnVtRGF0YUJ1ZmZlcnM9dGhpcy5zdGF0ZS5udW1EYXRhQnVmZmVycyx0Lm51bUJ5dGVzPXRoaXMuc3RhdGUubnVtQnl0ZXMsdGhpcy5zdGF0ZS5udW1TdHJpbmdUZW5zb3JzPjAmJih0LnVucmVsaWFibGU9ITAsbnVsbD09dC5yZWFzb25zJiYodC5yZWFzb25zPVtdKSx0LnJlYXNvbnMucHVzaChcIk1lbW9yeSB1c2FnZSBieSBzdHJpbmcgdGVuc29ycyBpcyBhcHByb3hpbWF0ZSAoMiBieXRlcyBwZXIgY2hhcmFjdGVyKVwiKSksdH0sdC5wcm90b3R5cGUucHJvZmlsZT1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtyZXR1cm4gdGhpcy5zdGF0ZS5wcm9maWxpbmc9ITAsZT10aGlzLnN0YXRlLm51bUJ5dGVzLG49dGhpcy5zdGF0ZS5udW1UZW5zb3JzLHRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5rZXJuZWxzPVtdLHRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5yZXN1bHQ9dCgpLHRoaXMuc3RhdGUucHJvZmlsaW5nPSExLHRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5wZWFrQnl0ZXM9TWF0aC5tYXguYXBwbHkoTWF0aCx0aGlzLnN0YXRlLmFjdGl2ZVByb2ZpbGUua2VybmVscy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvdGFsQnl0ZXNTbmFwc2hvdH0pKSksdGhpcy5zdGF0ZS5hY3RpdmVQcm9maWxlLm5ld0J5dGVzPXRoaXMuc3RhdGUubnVtQnl0ZXMtZSx0aGlzLnN0YXRlLmFjdGl2ZVByb2ZpbGUubmV3VGVuc29ycz10aGlzLnN0YXRlLm51bVRlbnNvcnMtbixbMix0aGlzLnN0YXRlLmFjdGl2ZVByb2ZpbGVdfSkpfSkpfSx0LnByb3RvdHlwZS5pc1RhcGVPbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmdyYWRpZW50RGVwdGg+MCYmMD09PXRoaXMuc3RhdGUua2VybmVsRGVwdGh9LHQucHJvdG90eXBlLmFkZFRhcGVOb2RlPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2YXIgaT10aGlzLHM9e2lkOnRoaXMuc3RhdGUubmV4dFRhcGVOb2RlSWQrKyxrZXJuZWxOYW1lOnQsaW5wdXRzOmUsb3V0cHV0czpuLHNhdmVkOm99LHU9aCh0KTtudWxsIT11JiYocj11LmdyYWRGdW5jKSxudWxsIT1yJiYocy5ncmFkaWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdD10Lm1hcCgoZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXt2YXIgcj1uW2VdLG89dHQoci5zaXplLHIuZHR5cGUpO3JldHVybiBpLm1ha2VUZW5zb3IobyxyLnNoYXBlLHIuZHR5cGUpfXJldHVybiB0fSkpLHIodC5sZW5ndGg+MT90OnRbMF0sbyxhKX0pLHRoaXMuc3RhdGUuYWN0aXZlVGFwZS5wdXNoKHMpfSx0LnByb3RvdHlwZS5rZWVwPWZ1bmN0aW9uKHQpe3JldHVybiB0LmtlcHQ9ITAsdH0sdC5wcm90b3R5cGUuc3RhcnRUYXBlPWZ1bmN0aW9uKCl7MD09PXRoaXMuc3RhdGUuZ3JhZGllbnREZXB0aCYmKHRoaXMuc3RhdGUuYWN0aXZlVGFwZT1bXSksdGhpcy5zdGF0ZS5ncmFkaWVudERlcHRoKyt9LHQucHJvdG90eXBlLmVuZFRhcGU9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlLmdyYWRpZW50RGVwdGgtLX0sdC5wcm90b3R5cGUuc3RhcnRTY29wZT1mdW5jdGlvbih0KXt2YXIgZT17dHJhY2s6W10sbmFtZTpcInVubmFtZWQgc2NvcGVcIixpZDp0aGlzLnN0YXRlLm5leHRTY29wZUlkKyt9O3QmJihlLm5hbWU9dCksdGhpcy5zdGF0ZS5zY29wZVN0YWNrLnB1c2goZSksdGhpcy5zdGF0ZS5hY3RpdmVTY29wZT1lfSx0LnByb3RvdHlwZS5lbmRTY29wZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPV90KHQpLHI9bmV3IFNldChuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSkpLG89MDtvPHRoaXMuc3RhdGUuYWN0aXZlU2NvcGUudHJhY2subGVuZ3RoO28rKyl7dmFyIGE9dGhpcy5zdGF0ZS5hY3RpdmVTY29wZS50cmFja1tvXTthLmtlcHR8fHIuaGFzKGEuaWQpfHxhLmRpc3Bvc2UoKX12YXIgaT10aGlzLnN0YXRlLnNjb3BlU3RhY2sucG9wKCk7dGhpcy5zdGF0ZS5hY3RpdmVTY29wZT0wPT09dGhpcy5zdGF0ZS5zY29wZVN0YWNrLmxlbmd0aD9udWxsOnRoaXMuc3RhdGUuc2NvcGVTdGFja1t0aGlzLnN0YXRlLnNjb3BlU3RhY2subGVuZ3RoLTFdLG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5rZXB0fHx0LnNjb3BlSWQhPT1pLmlkfHxlLnRyYWNrKHQpfSkpfSx0LnByb3RvdHlwZS5ncmFkaWVudHM9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dGhpcztpZih2b2lkIDA9PT1yJiYocj0hMSksQyhlLmxlbmd0aD4wLChmdW5jdGlvbigpe3JldHVyblwiZ3JhZGllbnRzKCkgcmVjZWl2ZWQgYW4gZW1wdHkgbGlzdCBvZiB4cy5cIn0pKSxudWxsIT1uJiZcImZsb2F0MzJcIiE9PW4uZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwiZHkgbXVzdCBoYXZlICdmbG9hdDMyJyBkdHlwZSwgYnV0IGhhcyAnXCIrbi5kdHlwZStcIidcIik7dmFyIGE9dGhpcy5zY29wZWRSdW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG8uc3RhcnRUYXBlKCl9KSwoZnVuY3Rpb24oKXtyZXR1cm4gby5lbmRUYXBlKCl9KSwoZnVuY3Rpb24oKXtyZXR1cm4gby50aWR5KFwiZm9yd2FyZFwiLHQpfSkpO0MoYSBpbnN0YW5jZW9mIHd0LChmdW5jdGlvbigpe3JldHVyblwiVGhlIHJlc3VsdCB5IHJldHVybmVkIGJ5IGYoKSBtdXN0IGJlIGEgdGVuc29yLlwifSkpO3ZhciBpPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9e30sbz17fSxhPTA7YTxlLmxlbmd0aDthKyspcltlW2FdLmlkXT0hMDtmb3IoYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgaT0ocD10W2FdKS5pbnB1dHM7Zm9yKHZhciBzIGluIGkpe2Zvcih2YXIgdT1pW3NdLGM9ITEsbD0wO2w8ZS5sZW5ndGg7bCsrKWlmKHJbdS5pZF0pe3Aub3V0cHV0cy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gclt0LmlkXT0hMH0pKSxjPSEwLG9bcC5pZF09ITA7YnJlYWt9aWYoYylicmVha319dmFyIGg9e307aFtuLmlkXT0hMDt2YXIgZj17fTtmb3IoYT10Lmxlbmd0aC0xO2E+PTA7YS0tKWZvcihpPShwPXRbYV0pLmlucHV0cyxsPTA7bDxwLm91dHB1dHMubGVuZ3RoO2wrKylpZihoW3Aub3V0cHV0c1tsXS5pZF0pe2Zvcih2YXIgcyBpbiBpKWhbaVtzXS5pZF09ITAsZltwLmlkXT0hMDticmVha312YXIgZD1bXTtmb3IoYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcDtpZihvWyhwPXRbYV0pLmlkXSYmZltwLmlkXSl7dmFyIHY9e307Zm9yKHZhciBzIGluIHAuaW5wdXRzKXt2YXIgZz1wLmlucHV0c1tzXTtyW2cuaWRdJiYodltzXT1nKX12YXIgbT1PYmplY3QuYXNzaWduKHt9LHApO20uaW5wdXRzPXYsbS5vdXRwdXRzPXAub3V0cHV0cyxkLnB1c2gobSl9fXJldHVybiBkfSh0aGlzLnN0YXRlLmFjdGl2ZVRhcGUsZSxhKTtpZighciYmMD09PWkubGVuZ3RoJiZlLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb21wdXRlIGdyYWRpZW50IG9mIHk9Zih4KSB3aXRoIHJlc3BlY3QgdG8geC4gTWFrZSBzdXJlIHRoYXQgdGhlIGYgeW91IHBhc3NlZCBlbmNsb3NlcyBhbGwgb3BlcmF0aW9ucyB0aGF0IGxlYWQgZnJvbSB4IHRvIHkuXCIpO3JldHVybiB0aGlzLnRpZHkoXCJiYWNrd2FyZFwiLChmdW5jdGlvbigpe3ZhciB0LHIscz17fTtzW2EuaWRdPW51bGw9PW4/KHQ9YS5zaGFwZSxyPVooayh0KSxcImZsb2F0MzJcIiksTHQubWFrZVRlbnNvcihyLHQsXCJmbG9hdDMyXCIpKTpuLGZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9ZnVuY3Rpb24ocil7dmFyIG89ZVtyXSxhPVtdO2lmKG8ub3V0cHV0cy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10W2UuaWRdO251bGwhPW4/YS5wdXNoKG4pOmEucHVzaChudWxsKX0pKSxudWxsPT1vLmdyYWRpZW50KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb21wdXRlIGdyYWRpZW50OiBncmFkaWVudCBmdW5jdGlvbiBub3QgZm91bmQgZm9yIFwiK28ua2VybmVsTmFtZStcIi5cIik7dmFyIGk9by5ncmFkaWVudChhKSxzPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbiBpKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYmFja3Byb3AgdGhyb3VnaCBpbnB1dCBcIitlK1wiLiBBdmFpbGFibGUgZ3JhZGllbnRzIGZvdW5kOiBcIitPYmplY3Qua2V5cyhpKStcIi5cIik7dmFyIHI9bigoZnVuY3Rpb24oKXtyZXR1cm4gaVtlXSgpfSkpO2lmKFwiZmxvYXQzMlwiIT09ci5kdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbiBncmFkaWVudCBmb3Igb3AgXCIrby5rZXJuZWxOYW1lK1wiLiBUaGUgZ3JhZGllbnQgb2YgaW5wdXQgXCIrZStcIiBtdXN0IGhhdmUgJ2Zsb2F0MzInIGR0eXBlLCBidXQgaGFzICdcIityLmR0eXBlK1wiJ1wiKTt2YXIgYT1vLmlucHV0c1tlXTtpZighUyhyLnNoYXBlLGEuc2hhcGUpKXRocm93IG5ldyBFcnJvcihcIkVycm9yIGluIGdyYWRpZW50IGZvciBvcCBcIitvLmtlcm5lbE5hbWUrXCIuIFRoZSBncmFkaWVudCBvZiBpbnB1dCAnXCIrZStcIicgaGFzIHNoYXBlICdcIityLnNoYXBlK1wiJywgd2hpY2ggZG9lcyBub3QgbWF0Y2ggdGhlIHNoYXBlIG9mIHRoZSBpbnB1dCAnXCIrYS5zaGFwZStcIidcIik7aWYobnVsbD09dFthLmlkXSl0W2EuaWRdPXI7ZWxzZXt2YXIgcz10W2EuaWRdO3RbYS5pZF09cy5hZGQocikscy5kaXNwb3NlKCl9fTtmb3IodmFyIHUgaW4gby5pbnB1dHMpcyh1KX0sbz1lLmxlbmd0aC0xO28+PTA7by0tKXIobyl9KHMsaSwoZnVuY3Rpb24odCl7cmV0dXJuIG8udGlkeSh0KX0pKTt2YXIgdT1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHNbdC5pZF19KSk7cmV0dXJuIDA9PT1vLnN0YXRlLmdyYWRpZW50RGVwdGgmJihvLnN0YXRlLmFjdGl2ZVRhcGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10LnNhdmVkO2U8bi5sZW5ndGg7ZSsrKXtuW2VdLmRpc3Bvc2UoKX19KSksby5zdGF0ZS5hY3RpdmVUYXBlPW51bGwpLHt2YWx1ZTphLGdyYWRzOnV9fSkpfSx0LnByb3RvdHlwZS5jdXN0b21HcmFkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIEMoWCh0KSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmIHBhc3NlZCBpbiBjdXN0b21HcmFkKGYpIG11c3QgYmUgYSBmdW5jdGlvbi5cIn0pKSxmdW5jdGlvbigpe2Zvcih2YXIgbixyPVtdLG89MDtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKXJbb109YXJndW1lbnRzW29dO0Moci5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB3dH0pKSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBhcmdzIHBhc3NlZCBpbiBjdXN0b21HcmFkKGYpKHgxLCB4MiwuLi4pIG11c3QgYWxsIGJlIHRlbnNvcnNcIn0pKTt2YXIgYT17fTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbih0LGUpe2FbZV09dH0pKSxlLnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKGUsbyl7cmV0dXJuIEMoKG49dC5hcHBseSh2b2lkIDAsci5jb25jYXQoW29dKSkpLnZhbHVlIGluc3RhbmNlb2Ygd3QsKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgZnVuY3Rpb24gZiBwYXNzZWQgaW4gY3VzdG9tR3JhZChmKSBtdXN0IHJldHVybiBhbiBvYmplY3Qgd2hlcmUgYG9iai52YWx1ZWAgaXMgYSB0ZW5zb3JcIn0pKSxDKFgobi5ncmFkRnVuYyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgZnVuY3Rpb24gZiBwYXNzZWQgaW4gY3VzdG9tR3JhZChmKSBtdXN0IHJldHVybiBhbiBvYmplY3Qgd2hlcmUgYG9iai5ncmFkRnVuY2AgaXMgYSBmdW5jdGlvbi5cIn0pKSxuLnZhbHVlfSksYSwoZnVuY3Rpb24odCxlKXt2YXIgbz1uLmdyYWRGdW5jKHQsZSksYT1BcnJheS5pc0FycmF5KG8pP286W29dO0MoYS5sZW5ndGg9PT1yLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmdW5jdGlvbiBmIHBhc3NlZCBpbiBjdXN0b21HcmFkKGYpIG11c3QgcmV0dXJuIGFuIG9iamVjdCB3aGVyZSBgb2JqLmdyYWRGdW5jYCBpcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgc2FtZSBudW1iZXIgb2YgdGVuc29ycyBhcyBpbnB1dHMgcGFzc2VkIHRvIGYoLi4uKS5cIn0pKSxDKGEuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygd3R9KSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgZnVuY3Rpb24gZiBwYXNzZWQgaW4gY3VzdG9tR3JhZChmKSBtdXN0IHJldHVybiBhbiBvYmplY3Qgd2hlcmUgYG9iai5ncmFkRnVuY2AgaXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBsaXN0IG9mIG9ubHkgdGVuc29ycy5cIn0pKTt2YXIgaT17fTtyZXR1cm4gYS5mb3JFYWNoKChmdW5jdGlvbih0LGUpe2lbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdH19KSksaX0pKX19LHQucHJvdG90eXBlLnJlYWRTeW5jPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLnRlbnNvckluZm8uZ2V0KHQpLmJhY2tlbmQucmVhZFN5bmModCl9LHQucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUudGVuc29ySW5mby5nZXQodCkuYmFja2VuZC5yZWFkKHQpfSx0LnByb3RvdHlwZS50aW1lPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9ZXQoKSxbNCx0aGlzLmJhY2tlbmQudGltZSh0KV07Y2FzZSAxOnJldHVybihuPXIuc2VudCgpKS53YWxsTXM9ZXQoKS1lLFsyLG5dfX0pKX0pKX0sdC5wcm90b3R5cGUudHJhY2s9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXRoaXMuc3RhdGUuYWN0aXZlU2NvcGUmJih0LnNjb3BlSWQ9dGhpcy5zdGF0ZS5hY3RpdmVTY29wZS5pZCx0aGlzLnN0YXRlLmFjdGl2ZVNjb3BlLnRyYWNrLnB1c2godCkpLHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJlZ2lzdGVyZWRWYXJpYWJsZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUucmVnaXN0ZXJlZFZhcmlhYmxlc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnBlbmRpbmdCYWNrZW5kSW5pdElkKyssdGhpcy5zdGF0ZS5kaXNwb3NlKCksdGhpcy5FTlYucmVzZXQoKSx0aGlzLnN0YXRlPW5ldyBCdCx0aGlzLnJlZ2lzdHJ5KXRoaXMuZGlzcG9zZVJlZ2lzdGVyZWRLZXJuZWxzKHQpLHRoaXMucmVnaXN0cnlbdF0uZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLnJlZ2lzdHJ5W3RdO3RoaXMuYmFja2VuZE5hbWU9bnVsbCx0aGlzLmJhY2tlbmRJbnN0YW5jZT1udWxsLHRoaXMucGVuZGluZ0JhY2tlbmRJbml0PW51bGx9LHQubmV4dFRlbnNvcklkPTAsdC5uZXh0VmFyaWFibGVJZD0wLHR9KCk7dmFyIEx0PWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXtpZihudWxsPT1PdCl7dmFyIHQ9dm9pZCAwO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpdD13aW5kb3c7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsKXQ9Z2xvYmFsO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MpdD1wcm9jZXNzO2Vsc2V7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGYpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGZpbmQgYSBnbG9iYWwgb2JqZWN0XCIpO3Q9c2VsZn1PdD10fXJldHVybiBPdH0oKTtpZihudWxsPT10Ll90ZmVuZ2luZSl7dmFyIGU9bmV3IG8odCk7dC5fdGZlbmdpbmU9bmV3IFB0KGUpfXJldHVybiBmdW5jdGlvbih0KXtzPXR9KHQuX3RmZW5naW5lLkVOVikseXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5fdGZlbmdpbmV9LHQuX3RmZW5naW5lfSgpO2Z1bmN0aW9uIFd0KCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmbnVsbCE9d2luZG93LmRvY3VtZW50fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGV9dmFyIFV0PWkoKTtVdC5yZWdpc3RlckZsYWcoXCJERUJVR1wiLChmdW5jdGlvbigpe3JldHVybiExfSksKGZ1bmN0aW9uKHQpe3QmJmNvbnNvbGUud2FybihcIkRlYnVnZ2luZyBtb2RlIGlzIE9OLiBUaGUgb3V0cHV0IG9mIGV2ZXJ5IG1hdGggY2FsbCB3aWxsIGJlIGRvd25sb2FkZWQgdG8gQ1BVIGFuZCBjaGVja2VkIGZvciBOYU5zLiBUaGlzIHNpZ25pZmljYW50bHkgaW1wYWN0cyBwZXJmb3JtYW5jZS5cIil9KSksVXQucmVnaXN0ZXJGbGFnKFwiSVNfQlJPV1NFUlwiLChmdW5jdGlvbigpe3JldHVybiBXdCgpfSkpLFV0LnJlZ2lzdGVyRmxhZyhcIklTX05PREVcIiwoZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmdm9pZCAwIT09cHJvY2Vzcy52ZXJzaW9ucyYmdm9pZCAwIT09cHJvY2Vzcy52ZXJzaW9ucy5ub2RlfSkpLFV0LnJlZ2lzdGVyRmxhZyhcIklTX0NIUk9NRVwiLChmdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm51bGwhPW5hdmlnYXRvciYmbnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmL0Nocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmL0dvb2dsZSBJbmMvLnRlc3QobmF2aWdhdG9yLnZlbmRvcil9KSksVXQucmVnaXN0ZXJGbGFnKFwiUFJPRFwiLChmdW5jdGlvbigpe3JldHVybiExfSkpLFV0LnJlZ2lzdGVyRmxhZyhcIlRFTlNPUkxJS0VfQ0hFQ0tfU0hBUEVfQ09OU0lTVEVOQ1lcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVXQuZ2V0Qm9vbChcIkRFQlVHXCIpfSkpLFV0LnJlZ2lzdGVyRmxhZyhcIkRFUFJFQ0FUSU9OX1dBUk5JTkdTX0VOQUJMRURcIiwoZnVuY3Rpb24oKXtyZXR1cm4hMH0pKSxVdC5yZWdpc3RlckZsYWcoXCJJU19URVNUXCIsKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSk7dmFyIFZ0LHp0LEd0LEh0PXt9LHF0PXthbHBoYTohMSxhbnRpYWxpYXM6ITEscHJlbXVsdGlwbGllZEFscGhhOiExLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSxkZXB0aDohMSxzdGVuY2lsOiExLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9O2Z1bmN0aW9uIEt0KHQsZSl7SHRbdF09ZX1mdW5jdGlvbiBqdCh0KXt0IGluIEh0fHwoSHRbdF09ZnVuY3Rpb24odCl7aWYoMSE9PXQmJjIhPT10KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHQsIFdlYkdMIGlzIGRpc2FibGVkLlwiKTt2YXIgZT1mdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgT2Zmc2NyZWVuQ2FudmFzJiYyPT09dClyZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcygzMDAsMTUwKTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQpcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBhIGNhbnZhcyBpbiB0aGlzIGNvbnRleHRcIil9KHQpO2lmKGUuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIiwoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGRlbGV0ZSBIdFt0XX0pLCExKSwxPT09dClyZXR1cm4gZS5nZXRDb250ZXh0KFwid2ViZ2xcIixxdCl8fGUuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLHF0KTtyZXR1cm4gZS5nZXRDb250ZXh0KFwid2ViZ2wyXCIscXQpfSh0KSk7dmFyIGU9SHRbdF07cmV0dXJuIGUuaXNDb250ZXh0TG9zdCgpPyhkZWxldGUgSHRbdF0sanQodCkpOihlLmRpc2FibGUoZS5ERVBUSF9URVNUKSxlLmRpc2FibGUoZS5TVEVOQ0lMX1RFU1QpLGUuZGlzYWJsZShlLkJMRU5EKSxlLmRpc2FibGUoZS5ESVRIRVIpLGUuZGlzYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLGUuZGlzYWJsZShlLlNBTVBMRV9DT1ZFUkFHRSksZS5lbmFibGUoZS5TQ0lTU09SX1RFU1QpLGUuZW5hYmxlKGUuQ1VMTF9GQUNFKSxlLmN1bGxGYWNlKGUuQkFDSyksSHRbdF0pfWZ1bmN0aW9uIFh0KHQsZSl7cmV0dXJuW2UsdF19ZnVuY3Rpb24gWXQodCl7dmFyIGU9ayh0KTtyZXR1cm4gRChNYXRoLmNlaWwoZS80KSl9ZnVuY3Rpb24gJHQodCxlKXtyZXR1cm5bTWF0aC5tYXgoMSxNYXRoLmNlaWwoZS8yKSksTWF0aC5tYXgoMSxNYXRoLmNlaWwodC8yKSldfWZ1bmN0aW9uIFF0KHQsZSl7dmFyIG4scixvLGEscyx1LGMsbCxoLGY9dDtyZXR1cm4gMj09PWkoKS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpPyhuPWYuUjMyRixyPWYuUjE2RixvPWYuUkdCQTE2RixhPWYuUkdCQTMyRixzPWYuUkVELHU9NCxjPTEsbD1mLkhBTEZfRkxPQVQsaD1mLkZMT0FUKToobj10LlJHQkEscj10LlJHQkEsbz10LlJHQkEsYT1mLlJHQkEscz10LlJHQkEsdT00LGM9NCxsPW51bGwhPWU/ZS5IQUxGX0ZMT0FUX09FUzpudWxsLGg9dC5GTE9BVCkse2ludGVybmFsRm9ybWF0RmxvYXQ6bixpbnRlcm5hbEZvcm1hdEhhbGZGbG9hdDpyLGludGVybmFsRm9ybWF0UGFja2VkSGFsZkZsb2F0Om8saW50ZXJuYWxGb3JtYXRQYWNrZWRGbG9hdDphLHRleHR1cmVGb3JtYXRGbG9hdDpzLGRvd25sb2FkVGV4dHVyZUZvcm1hdDp0LlJHQkEsZG93bmxvYWRVbnBhY2tOdW1DaGFubmVsczp1LGRlZmF1bHROdW1DaGFubmVsczpjLHRleHR1cmVUeXBlSGFsZkZsb2F0OmwsdGV4dHVyZVR5cGVGbG9hdDpofX1mdW5jdGlvbiBKdCh0LGUsbil7dmFyIHI9bigpO3JldHVybiBlJiZmdW5jdGlvbih0KXt2YXIgZT10LmdldEVycm9yKCk7aWYoZSE9PXQuTk9fRVJST1IpdGhyb3cgbmV3IEVycm9yKFwiV2ViR0wgRXJyb3I6IFwiK25lKHQsZSkpfSh0KSxyfSFmdW5jdGlvbih0KXt0W3QuREVOU0U9MF09XCJERU5TRVwiLHRbdC5TSEFSRURfQkFUQ0g9MV09XCJTSEFSRURfQkFUQ0hcIn0oVnR8fChWdD17fSkpLGZ1bmN0aW9uKHQpe3RbdC5SRU5ERVI9MF09XCJSRU5ERVJcIix0W3QuVVBMT0FEPTFdPVwiVVBMT0FEXCIsdFt0LlBJWEVMUz0yXT1cIlBJWEVMU1wiLHRbdC5ET1dOTE9BRD0zXT1cIkRPV05MT0FEXCJ9KHp0fHwoenQ9e30pKSxmdW5jdGlvbih0KXt0W3QuVU5QQUNLRURfRkxPQVQxNj0wXT1cIlVOUEFDS0VEX0ZMT0FUMTZcIix0W3QuVU5QQUNLRURfRkxPQVQzMj0xXT1cIlVOUEFDS0VEX0ZMT0FUMzJcIix0W3QuUEFDS0VEXzRYMV9VTlNJR05FRF9CWVRFPTJdPVwiUEFDS0VEXzRYMV9VTlNJR05FRF9CWVRFXCIsdFt0LlBBQ0tFRF8yWDJfRkxPQVQzMj0zXT1cIlBBQ0tFRF8yWDJfRkxPQVQzMlwiLHRbdC5QQUNLRURfMlgyX0ZMT0FUMTY9NF09XCJQQUNLRURfMlgyX0ZMT0FUMTZcIn0oR3R8fChHdD17fSkpO3ZhciBadD01Ljk2ZS04LHRlPTY1NTA0O2Z1bmN0aW9uIGVlKHQpe3JldHVybiEhKGkoKS5nZXRCb29sKFwiV0VCR0xfUkVOREVSX0ZMT0FUMzJfRU5BQkxFRFwiKXx8MD09PXR8fFp0PE1hdGguYWJzKHQpJiZNYXRoLmFicyh0KTx0ZSl9ZnVuY3Rpb24gbmUodCxlKXtzd2l0Y2goZSl7Y2FzZSB0Lk5PX0VSUk9SOnJldHVyblwiTk9fRVJST1JcIjtjYXNlIHQuSU5WQUxJRF9FTlVNOnJldHVyblwiSU5WQUxJRF9FTlVNXCI7Y2FzZSB0LklOVkFMSURfVkFMVUU6cmV0dXJuXCJJTlZBTElEX1ZBTFVFXCI7Y2FzZSB0LklOVkFMSURfT1BFUkFUSU9OOnJldHVyblwiSU5WQUxJRF9PUEVSQVRJT05cIjtjYXNlIHQuSU5WQUxJRF9GUkFNRUJVRkZFUl9PUEVSQVRJT046cmV0dXJuXCJJTlZBTElEX0ZSQU1FQlVGRkVSX09QRVJBVElPTlwiO2Nhc2UgdC5PVVRfT0ZfTUVNT1JZOnJldHVyblwiT1VUX09GX01FTU9SWVwiO2Nhc2UgdC5DT05URVhUX0xPU1RfV0VCR0w6cmV0dXJuXCJDT05URVhUX0xPU1RfV0VCR0xcIjtkZWZhdWx0OnJldHVyblwiVW5rbm93biBlcnJvciBjb2RlIFwiK2V9fWZ1bmN0aW9uIHJlKHQsZSxuKXtyZXR1cm4ga2UodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmdldEV4dGVuc2lvbihuKX0pLCdFeHRlbnNpb24gXCInK24rJ1wiIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLicpfWZ1bmN0aW9uIG9lKHQsZSxuKXt2YXIgcj1rZSh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuY3JlYXRlU2hhZGVyKHQuVkVSVEVYX1NIQURFUil9KSxcIlVuYWJsZSB0byBjcmVhdGUgdmVydGV4IFdlYkdMU2hhZGVyLlwiKTtpZihKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc2hhZGVyU291cmNlKHIsbil9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmNvbXBpbGVTaGFkZXIocil9KSksITE9PT10LmdldFNoYWRlclBhcmFtZXRlcihyLHQuQ09NUElMRV9TVEFUVVMpKXRocm93IGNvbnNvbGUubG9nKHQuZ2V0U2hhZGVySW5mb0xvZyhyKSksbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNvbXBpbGUgdmVydGV4IHNoYWRlci5cIik7cmV0dXJuIHJ9ZnVuY3Rpb24gYWUodCxlLG4pe3ZhciByPWtlKHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5jcmVhdGVTaGFkZXIodC5GUkFHTUVOVF9TSEFERVIpfSksXCJVbmFibGUgdG8gY3JlYXRlIGZyYWdtZW50IFdlYkdMU2hhZGVyLlwiKTtpZihKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc2hhZGVyU291cmNlKHIsbil9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmNvbXBpbGVTaGFkZXIocil9KSksITE9PT10LmdldFNoYWRlclBhcmFtZXRlcihyLHQuQ09NUElMRV9TVEFUVVMpKXRocm93IGZ1bmN0aW9uKHQsZSl7dmFyIG49dWUuZXhlYyhlKTtpZihudWxsPT1uKXJldHVybiBjb25zb2xlLmxvZyhcIkNvdWxkbid0IHBhcnNlIGxpbmUgbnVtYmVyIGluIGVycm9yOiBcIitlKSx2b2lkIGNvbnNvbGUubG9nKHQpO2Zvcih2YXIgcj0rblsxXSxvPXQuc3BsaXQoXCJcXG5cIiksYT1vLmxlbmd0aC50b1N0cmluZygpLmxlbmd0aCsyLGk9by5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE4oKGUrMSkudG9TdHJpbmcoKSxhKSt0fSkpLHM9MCx1PTA7dTxpLmxlbmd0aDt1Kyspcz1NYXRoLm1heChpW3VdLmxlbmd0aCxzKTt2YXIgYz1pLnNsaWNlKDAsci0xKSxsPWkuc2xpY2Uoci0xLHIpLGg9aS5zbGljZShyKTtjb25zb2xlLmxvZyhjLmpvaW4oXCJcXG5cIikpLGNvbnNvbGUubG9nKGUuc3BsaXQoXCJcXG5cIilbMF0pLGNvbnNvbGUubG9nKFwiJWMgXCIrTihsWzBdLHMpLFwiYm9yZGVyOjFweCBzb2xpZCByZWQ7IGJhY2tncm91bmQtY29sb3I6I2UzZDJkMjsgY29sb3I6I2E2MTcxN1wiKSxjb25zb2xlLmxvZyhoLmpvaW4oXCJcXG5cIikpfShuLHQuZ2V0U2hhZGVySW5mb0xvZyhyKSksbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNvbXBpbGUgZnJhZ21lbnQgc2hhZGVyLlwiKTtyZXR1cm4gcn12YXIgaWUsc2UsdWU9L0VSUk9SOiBbMC05XSs6KFswLTldKyk6L2c7ZnVuY3Rpb24gY2UodCxlKXtyZXR1cm4ga2UodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmNyZWF0ZVByb2dyYW0oKX0pLFwiVW5hYmxlIHRvIGNyZWF0ZSBXZWJHTFByb2dyYW0uXCIpfWZ1bmN0aW9uIGxlKHQsZSxuKXtpZihKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQubGlua1Byb2dyYW0obil9KSksITE9PT10LmdldFByb2dyYW1QYXJhbWV0ZXIobix0LkxJTktfU1RBVFVTKSl0aHJvdyBjb25zb2xlLmxvZyh0LmdldFByb2dyYW1JbmZvTG9nKG4pKSxuZXcgRXJyb3IoXCJGYWlsZWQgdG8gbGluayB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMuXCIpfWZ1bmN0aW9uIGhlKHQsZSxuKXtpZihKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQudmFsaWRhdGVQcm9ncmFtKG4pfSkpLCExPT09dC5nZXRQcm9ncmFtUGFyYW1ldGVyKG4sdC5WQUxJREFURV9TVEFUVVMpKXRocm93IGNvbnNvbGUubG9nKHQuZ2V0UHJvZ3JhbUluZm9Mb2cobikpLG5ldyBFcnJvcihcIlNoYWRlciBwcm9ncmFtIHZhbGlkYXRpb24gZmFpbGVkLlwiKX1mdW5jdGlvbiBmZSh0LGUsbil7dmFyIHI9a2UodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmNyZWF0ZUJ1ZmZlcigpfSksXCJVbmFibGUgdG8gY3JlYXRlIFdlYkdMQnVmZmVyXCIpO3JldHVybiBKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixyKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYnVmZmVyRGF0YSh0LkFSUkFZX0JVRkZFUixuLHQuU1RBVElDX0RSQVcpfSkpLHJ9ZnVuY3Rpb24gZGUodCxlLG4pe3ZhciByPWtlKHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5jcmVhdGVCdWZmZXIoKX0pLFwiVW5hYmxlIHRvIGNyZWF0ZSBXZWJHTEJ1ZmZlclwiKTtyZXR1cm4gSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUixyKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYnVmZmVyRGF0YSh0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLG4sdC5TVEFUSUNfRFJBVyl9KSkscn1mdW5jdGlvbiBwZSh0LGUpe3JldHVybiBrZSh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuY3JlYXRlVGV4dHVyZSgpfSksXCJVbmFibGUgdG8gY3JlYXRlIFdlYkdMVGV4dHVyZS5cIil9ZnVuY3Rpb24gdmUodCxlKXt2YXIgbj1pKCkuZ2V0TnVtYmVyKFwiV0VCR0xfTUFYX1RFWFRVUkVfU0laRVwiKTtpZih0PD0wfHxlPD0wKXt2YXIgcj1cIltcIit0K1wieFwiK2UrXCJdXCI7dGhyb3cgbmV3IEVycm9yKFwiUmVxdWVzdGVkIHRleHR1cmUgc2l6ZSBcIityK1wiIGlzIGludmFsaWQuXCIpfWlmKHQ+bnx8ZT5uKXtyPVwiW1wiK3QrXCJ4XCIrZStcIl1cIjt0aHJvdyBuZXcgRXJyb3IoXCJSZXF1ZXN0ZWQgdGV4dHVyZSBzaXplIFwiK3IrXCIgZ3JlYXRlciB0aGFuIFdlYkdMIG1heGltdW0gb24gdGhpcyBicm93c2VyIC8gR1BVIFwiKyhcIltcIituK1wieFwiK24rXCJdXCIpK1wiLlwiKX19ZnVuY3Rpb24gZ2UodCxlKXtyZXR1cm4ga2UodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmNyZWF0ZUZyYW1lYnVmZmVyKCl9KSxcIlVuYWJsZSB0byBjcmVhdGUgV2ViR0xGcmFtZWJ1ZmZlci5cIil9ZnVuY3Rpb24gbWUodCxlLG4scixvLGEsaSxzKXt2YXIgdT10LmdldEF0dHJpYkxvY2F0aW9uKG4scik7cmV0dXJuLTEhPT11JiYoSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsbyl9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnZlcnRleEF0dHJpYlBvaW50ZXIodSxhLHQuRkxPQVQsITEsaSxzKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodSl9KSksITApfWZ1bmN0aW9uIHllKHQsZSxuLHIpe1NlKHQsciksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCtyKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELG4pfSkpfWZ1bmN0aW9uIHhlKHQsZSxuLHIpe3JldHVybiBrZSh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0VW5pZm9ybUxvY2F0aW9uKG4scil9KSwndW5pZm9ybSBcIicrcisnXCIgbm90IHByZXNlbnQgaW4gcHJvZ3JhbS4nKX1mdW5jdGlvbiBiZSh0LGUsbil7cmV0dXJuIHQuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsbil9ZnVuY3Rpb24gd2UodCxlLG4scixvLGEpe0p0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4geWUodCxlLHIsYSl9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnVuaWZvcm0xaShvLGEpfSkpfWZ1bmN0aW9uIENlKHQsZSxuLHIpe0p0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixyKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxuLDApfSkpfWZ1bmN0aW9uIEVlKHQsZSxuKXtKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbil9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHQuRlJBTUVCVUZGRVIsdC5DT0xPUl9BVFRBQ0hNRU5UMCx0LlRFWFRVUkVfMkQsbnVsbCwwKX0pKX1mdW5jdGlvbiBSZSh0KXt2YXIgZT10LmNoZWNrRnJhbWVidWZmZXJTdGF0dXModC5GUkFNRUJVRkZFUik7aWYoZSE9PXQuRlJBTUVCVUZGRVJfQ09NUExFVEUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgYmluZGluZyBmcmFtZWJ1ZmZlcjogXCIrSWUodCxlKSl9ZnVuY3Rpb24gSWUodCxlKXtzd2l0Y2goZSl7Y2FzZSB0LkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfQVRUQUNITUVOVDpyZXR1cm5cIkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfQVRUQUNITUVOVFwiO2Nhc2UgdC5GUkFNRUJVRkZFUl9JTkNPTVBMRVRFX01JU1NJTkdfQVRUQUNITUVOVDpyZXR1cm5cIkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfTUlTU0lOR19BVFRBQ0hNRU5UXCI7Y2FzZSB0LkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfRElNRU5TSU9OUzpyZXR1cm5cIkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfRElNRU5TSU9OU1wiO2Nhc2UgdC5GUkFNRUJVRkZFUl9VTlNVUFBPUlRFRDpyZXR1cm5cIkZSQU1FQlVGRkVSX1VOU1VQUE9SVEVEXCI7ZGVmYXVsdDpyZXR1cm5cInVua25vd24gZXJyb3IgXCIrZX19ZnVuY3Rpb24ga2UodCxlLG4scil7dmFyIG89SnQodCxlLChmdW5jdGlvbigpe3JldHVybiBuKCl9KSk7aWYobnVsbD09byl0aHJvdyBuZXcgRXJyb3Iocik7cmV0dXJuIG99ZnVuY3Rpb24gU2UodCxlKXt2YXIgbj10Lk1BWF9DT01CSU5FRF9URVhUVVJFX0lNQUdFX1VOSVRTLTEscj1lK3QuVEVYVFVSRTA7aWYocjx0LlRFWFRVUkUwfHxyPm4pdGhyb3cgbmV3IEVycm9yKFwidGV4dHVyZVVuaXQgbXVzdCBiZSBpbiBcIisoXCJbZ2wuVEVYVFVSRTAsIGdsLlRFWFRVUkVcIituK1wiXVwiKStcIi5cIil9ZnVuY3Rpb24gQWUodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9Miksayh0LnNsaWNlKDAsdC5sZW5ndGgtZSkpfWZ1bmN0aW9uIFRlKHQpe2lmKDA9PT10Lmxlbmd0aCl0aHJvdyBFcnJvcihcIkNhbm5vdCBnZXQgcm93cyBhbmQgY29sdW1ucyBvZiBhbiBlbXB0eSBzaGFwZSBhcnJheS5cIik7cmV0dXJuW3QubGVuZ3RoPjE/dFt0Lmxlbmd0aC0yXToxLHRbdC5sZW5ndGgtMV1dfWZ1bmN0aW9uIERlKHQpe3ZhciBlPVsxLDEsMV07cmV0dXJuIDA9PT10Lmxlbmd0aHx8MT09PXQubGVuZ3RoJiYxPT09dFswXXx8KGU9W0FlKHQpXS5jb25jYXQoVGUodCkpKSxlfWZ1bmN0aW9uIE5lKHQsZSl7dmFyIG47dm9pZCAwPT09ZSYmKGU9ITEpO3ZhciByPWkoKS5nZXROdW1iZXIoXCJXRUJHTF9NQVhfVEVYVFVSRV9TSVpFXCIpO2lmKGUmJihyKj0yLDE9PT0odD10Lm1hcCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbj49dC5sZW5ndGgtMj9iKHRbbl0pOnRbbl19KSkpLmxlbmd0aCYmKHQ9WzIsdFswXV0pKSwyIT09dC5sZW5ndGgpe3ZhciBvPU0odCk7dD1vLm5ld1NoYXBlfXZhciBhPWsodCk7aWYodC5sZW5ndGg8PTEmJmE8PXIpcmV0dXJuWzEsYV07aWYoMj09PXQubGVuZ3RoJiZ0WzBdPD1yJiZ0WzFdPD1yKXJldHVybiB0O2lmKDM9PT10Lmxlbmd0aCYmdFswXSp0WzFdPD1yJiZ0WzJdPD1yKXJldHVyblt0WzBdKnRbMV0sdFsyXV07aWYoMz09PXQubGVuZ3RoJiZ0WzBdPD1yJiZ0WzFdKnRbMl08PXIpcmV0dXJuW3RbMF0sdFsxXSp0WzJdXTtpZig0PT09dC5sZW5ndGgmJnRbMF0qdFsxXSp0WzJdPD1yJiZ0WzNdPD1yKXJldHVyblt0WzBdKnRbMV0qdFsyXSx0WzNdXTtpZig0PT09dC5sZW5ndGgmJnRbMF08PXImJnRbMV0qdFsyXSp0WzNdPD1yKXJldHVyblt0WzBdLHRbMV0qdFsyXSp0WzNdXTtpZihlKXt2YXIgcz1BZSh0KSx1PTIsYz0yO3JldHVybiB0Lmxlbmd0aCYmKHU9KG49VGUodCkpWzBdLGM9blsxXSksRChhPXMqKHUvMikqKGMvMikpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIDIqdH0pKX1yZXR1cm4gRChhKX1mdW5jdGlvbiBGZSh0KXtyZXR1cm4gdCUyPT0wfWZ1bmN0aW9uIF9lKHQsZSl7aWYoUyh0PXQuc2xpY2UoLTIpLGU9ZS5zbGljZSgtMikpKXJldHVybiEwO2lmKCF0Lmxlbmd0aHx8IWUubGVuZ3RoKXJldHVybiEwO2lmKDA9PT10WzBdfHwwPT09dFsxXXx8MD09PWVbMF18fDA9PT1lWzFdKXJldHVybiEwO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpe3ZhciBuPXQuc2xpY2UoLTEpWzBdLHI9ZS5zbGljZSgtMSlbMF07aWYobj09PXIpcmV0dXJuITA7aWYoRmUobikmJkZlKHIpJiYoMT09PXRbMF18fDE9PT1lWzBdKSlyZXR1cm4hMH1yZXR1cm4gdFsxXT09PWVbMV0mJkZlKHRbMF0pJiZGZShlWzBdKX1mdW5jdGlvbiBPZSh0KXtpZihudWxsPT1pZSl7dmFyIGU9anQodCk7aWU9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfVEVYVFVSRV9TSVpFKX1yZXR1cm4gaWV9ZnVuY3Rpb24gTWUodCl7aWYobnVsbD09c2Upe3ZhciBlPWp0KHQpO3NlPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpfXJldHVybiBNYXRoLm1pbigxNixzZSl9ZnVuY3Rpb24gQmUodCl7aWYoMD09PXQpcmV0dXJuIDA7dmFyIGU9anQodCk7cmV0dXJuIFBlKGUsXCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyXCIpJiYyPT09dD8yOlBlKGUsXCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlcIik/MTowfWZ1bmN0aW9uIFBlKHQsZSl7cmV0dXJuIG51bGwhPXQuZ2V0RXh0ZW5zaW9uKGUpfWZ1bmN0aW9uIExlKHQpe3RyeXtpZihudWxsIT1qdCh0KSlyZXR1cm4hMH1jYXRjaCh0KXtyZXR1cm4hMX1yZXR1cm4hMX1mdW5jdGlvbiBXZSh0KXtpZigwPT09dClyZXR1cm4hMTt2YXIgZT1qdCh0KTtpZigxPT09dCl7aWYoIVBlKGUsXCJPRVNfdGV4dHVyZV9mbG9hdFwiKSlyZXR1cm4hMX1lbHNlIGlmKCFQZShlLFwiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdFwiKSlyZXR1cm4hMTtyZXR1cm4gVmUoZSl9ZnVuY3Rpb24gVWUodCl7aWYoMD09PXQpcmV0dXJuITE7dmFyIGU9anQodCk7aWYoMSE9PXQpe2lmKFBlKGUsXCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0XCIpKXJldHVybiBWZShlKTtpZihQZShlLFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpKXt2YXIgbj1lLmdldEV4dGVuc2lvbihcIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdFwiKTtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1RdCh0LGUpLHI9dC5jcmVhdGVUZXh0dXJlKCk7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQscik7dC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLG4uaW50ZXJuYWxGb3JtYXRIYWxmRmxvYXQsMSwxLDAsbi50ZXh0dXJlRm9ybWF0RmxvYXQsbi50ZXh0dXJlVHlwZUhhbGZGbG9hdCxudWxsKTt2YXIgbz10LmNyZWF0ZUZyYW1lYnVmZmVyKCk7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixvKSx0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHQuRlJBTUVCVUZGRVIsdC5DT0xPUl9BVFRBQ0hNRU5UMCx0LlRFWFRVUkVfMkQsciwwKTt2YXIgYT10LmNoZWNrRnJhbWVidWZmZXJTdGF0dXModC5GUkFNRUJVRkZFUik9PT10LkZSQU1FQlVGRkVSX0NPTVBMRVRFO3JldHVybiB0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxudWxsKSx0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpLHQuZGVsZXRlVGV4dHVyZShyKSx0LmRlbGV0ZUZyYW1lYnVmZmVyKG8pLGF9KGUsbil9cmV0dXJuITF9cmV0dXJuISFQZShlLFwiT0VTX3RleHR1cmVfZmxvYXRcIikmJighIVBlKGUsXCJXRUJHTF9jb2xvcl9idWZmZXJfZmxvYXRcIikmJlZlKGUpKX1mdW5jdGlvbiBWZSh0KXt2YXIgZT1RdCh0KSxuPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELG4pO3QudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCxlLmludGVybmFsRm9ybWF0RmxvYXQsMSwxLDAsZS50ZXh0dXJlRm9ybWF0RmxvYXQsZS50ZXh0dXJlVHlwZUZsb2F0LG51bGwpO3ZhciByPXQuY3JlYXRlRnJhbWVidWZmZXIoKTt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLHIpLHQuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxuLDApO3ZhciBvPXQuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyh0LkZSQU1FQlVGRkVSKT09PXQuRlJBTUVCVUZGRVJfQ09NUExFVEU7cmV0dXJuIHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELG51bGwpLHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCksdC5kZWxldGVUZXh0dXJlKG4pLHQuZGVsZXRlRnJhbWVidWZmZXIociksb31mdW5jdGlvbiB6ZSh0KXtyZXR1cm4gMj09PXQmJm51bGwhPWp0KHQpLmZlbmNlU3luY312YXIgR2U9T2JqZWN0LmZyZWV6ZSh7Y2FsbEFuZENoZWNrOkp0LGNhbkJlUmVwcmVzZW50ZWQ6ZWUsZ2V0V2ViR0xFcnJvck1lc3NhZ2U6bmUsZ2V0RXh0ZW5zaW9uT3JUaHJvdzpyZSxjcmVhdGVWZXJ0ZXhTaGFkZXI6b2UsY3JlYXRlRnJhZ21lbnRTaGFkZXI6YWUsY3JlYXRlUHJvZ3JhbTpjZSxsaW5rUHJvZ3JhbTpsZSx2YWxpZGF0ZVByb2dyYW06aGUsY3JlYXRlU3RhdGljVmVydGV4QnVmZmVyOmZlLGNyZWF0ZVN0YXRpY0luZGV4QnVmZmVyOmRlLGdldE51bUNoYW5uZWxzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT1pKCkuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKT8xOjR9LGNyZWF0ZVRleHR1cmU6cGUsdmFsaWRhdGVUZXh0dXJlU2l6ZTp2ZSxjcmVhdGVGcmFtZWJ1ZmZlcjpnZSxiaW5kVmVydGV4QnVmZmVyVG9Qcm9ncmFtQXR0cmlidXRlOm1lLGJpbmRUZXh0dXJlVW5pdDp5ZSx1bmJpbmRUZXh0dXJlVW5pdDpmdW5jdGlvbih0LGUsbil7U2UodCxuKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYWN0aXZlVGV4dHVyZSh0LlRFWFRVUkUwK24pfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbnVsbCl9KSl9LGdldFByb2dyYW1Vbmlmb3JtTG9jYXRpb25PclRocm93OnhlLGdldFByb2dyYW1Vbmlmb3JtTG9jYXRpb246YmUsYmluZFRleHR1cmVUb1Byb2dyYW1Vbmlmb3JtU2FtcGxlcjp3ZSxiaW5kQ2FudmFzVG9GcmFtZWJ1ZmZlcjpmdW5jdGlvbih0LGUpe0p0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQudmlld3BvcnQoMCwwLHQuY2FudmFzLndpZHRoLHQuY2FudmFzLmhlaWdodCl9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnNjaXNzb3IoMCwwLHQuY2FudmFzLndpZHRoLHQuY2FudmFzLmhlaWdodCl9KSl9LGJpbmRDb2xvclRleHR1cmVUb0ZyYW1lYnVmZmVyOkNlLHVuYmluZENvbG9yVGV4dHVyZUZyb21GcmFtZWJ1ZmZlcjpFZSx2YWxpZGF0ZUZyYW1lYnVmZmVyOlJlLGdldEZyYW1lYnVmZmVyRXJyb3JNZXNzYWdlOkllLGdldEJhdGNoRGltOkFlLGdldFJvd3NDb2xzOlRlLGdldFNoYXBlQXMzRDpEZSxnZXRUZXh0dXJlU2hhcGVGcm9tTG9naWNhbFNoYXBlOk5lLGlzUmVzaGFwZUZyZWU6X2UsZ2V0V2ViR0xNYXhUZXh0dXJlU2l6ZTpPZSxyZXNldE1heFRleHR1cmVTaXplOmZ1bmN0aW9uKCl7aWU9bnVsbH0scmVzZXRNYXhUZXh0dXJlc0luU2hhZGVyOmZ1bmN0aW9uKCl7c2U9bnVsbH0sZ2V0TWF4VGV4dHVyZXNJblNoYWRlcjpNZSxnZXRXZWJHTERpc2pvaW50UXVlcnlUaW1lclZlcnNpb246QmUsaGFzRXh0ZW5zaW9uOlBlLGlzV2ViR0xWZXJzaW9uRW5hYmxlZDpMZSxpc0NhcGFibGVPZlJlbmRlcmluZ1RvRmxvYXRUZXh0dXJlOldlLGlzRG93bmxvYWRGbG9hdFRleHR1cmVFbmFibGVkOlVlLGlzV2ViR0xGZW5jZUVuYWJsZWQ6emV9KSxIZT1pKCk7ZnVuY3Rpb24gcWUoKXtpKCkuc2V0KFwiUFJPRFwiLCEwKX1mdW5jdGlvbiBLZSgpe2koKS5zZXQoXCJERUJVR1wiLCEwKX1mdW5jdGlvbiBqZSgpe2koKS5zZXQoXCJERVBSRUNBVElPTl9XQVJOSU5HU19FTkFCTEVEXCIsITEpLGNvbnNvbGUud2FybihcIlRlbnNvckZsb3cuanMgZGVwcmVjYXRpb24gd2FybmluZ3MgaGF2ZSBiZWVuIGRpc2FibGVkLlwiKX1mdW5jdGlvbiBYZSh0KXtpKCkuZ2V0Qm9vbChcIkRFUFJFQ0FUSU9OX1dBUk5JTkdTX0VOQUJMRURcIikmJmNvbnNvbGUud2Fybih0K1wiIFlvdSBjYW4gZGlzYWJsZSBkZXByZWNhdGlvbiB3YXJuaW5ncyB3aXRoIHRmLmRpc2FibGVEZXByZWNhdGlvbldhcm5pbmdzKCkuXCIpfWZ1bmN0aW9uIFllKCl7THQuZGlzcG9zZVZhcmlhYmxlcygpfWZ1bmN0aW9uICRlKCl7cmV0dXJuIEx0fWZ1bmN0aW9uIFFlKCl7cmV0dXJuIEx0Lm1lbW9yeSgpfWZ1bmN0aW9uIEplKHQpe3JldHVybiBMdC5wcm9maWxlKHQpfWZ1bmN0aW9uIFplKHQsZSl7cmV0dXJuIEx0LnRpZHkodCxlKX1mdW5jdGlvbiB0bih0KXtfdCh0KS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kaXNwb3NlKCl9KSl9ZnVuY3Rpb24gZW4odCl7cmV0dXJuIEx0LmtlZXAodCl9ZnVuY3Rpb24gbm4odCl7cmV0dXJuIEx0LnRpbWUodCl9ZnVuY3Rpb24gcm4odCl7cmV0dXJuIEx0LnNldEJhY2tlbmQodCl9ZnVuY3Rpb24gb24oKXtyZXR1cm4gTHQucmVhZHkoKX1mdW5jdGlvbiBhbigpe3JldHVybiBMdC5iYWNrZW5kTmFtZX1mdW5jdGlvbiBzbih0KXtMdC5yZW1vdmVCYWNrZW5kKHQpfWZ1bmN0aW9uIHVuKHQpe3JldHVybiBMdC5maW5kQmFja2VuZCh0KX1mdW5jdGlvbiBjbih0KXtyZXR1cm4gTHQuZmluZEJhY2tlbmRGYWN0b3J5KHQpfWZ1bmN0aW9uIGxuKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MSksTHQucmVnaXN0ZXJCYWNrZW5kKHQsZSxuKX1mdW5jdGlvbiBobigpe3JldHVybiBMdC5iYWNrZW5kfWZ1bmN0aW9uIGZuKHQsZSl7aSgpLnNldFBsYXRmb3JtKHQsZSl9ZnVuY3Rpb24gZG4oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07aSgpLmdldEJvb2woXCJJU19URVNUXCIpfHxjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSx0KX1mdW5jdGlvbiBwbih0LGUpe3ZhciBuPXQ7aWYoVih0KSlyZXR1cm5cInN0cmluZ1wiPT09ZT9bXTpbdC5sZW5ndGhdO2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybltdO2Zvcih2YXIgcj1bXTtBcnJheS5pc0FycmF5KG4pfHxWKG4pJiZcInN0cmluZ1wiIT09ZTspci5wdXNoKG4ubGVuZ3RoKSxuPW5bMF07cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJmkoKS5nZXRCb29sKFwiVEVOU09STElLRV9DSEVDS19TSEFQRV9DT05TSVNURU5DWVwiKSYmZnVuY3Rpb24gdChlLG4scil7aWYocj1yfHxbXSwhQXJyYXkuaXNBcnJheShlKSYmIVYoZSkpcmV0dXJuIHZvaWQgQygwPT09bi5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFbGVtZW50IGFycltcIityLmpvaW4oXCJdW1wiKStcIl0gaXMgYSBwcmltaXRpdmUsIGJ1dCBzaG91bGQgYmUgYW4gYXJyYXkvVHlwZWRBcnJheSBvZiBcIituWzBdK1wiIGVsZW1lbnRzXCJ9KSk7QyhuLmxlbmd0aD4wLChmdW5jdGlvbigpe3JldHVyblwiRWxlbWVudCBhcnJbXCIrci5qb2luKFwiXVtcIikrXCJdIHNob3VsZCBiZSBhIHByaW1pdGl2ZSwgYnV0IGlzIGFuIGFycmF5IG9mIFwiK2UubGVuZ3RoK1wiIGVsZW1lbnRzXCJ9KSksQyhlLmxlbmd0aD09PW5bMF0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFbGVtZW50IGFycltcIityLmpvaW4oXCJdW1wiKStcIl0gc2hvdWxkIGhhdmUgXCIrblswXStcIiBlbGVtZW50cywgYnV0IGhhcyBcIitlLmxlbmd0aCtcIiBlbGVtZW50c1wifSkpO2Zvcih2YXIgbz1uLnNsaWNlKDEpLGE9MDthPGUubGVuZ3RoOysrYSl0KGVbYV0sbyxyLmNvbmNhdChhKSl9KHQscixbXSkscn1mdW5jdGlvbiB2bih0LGUsbixyKXtpZihudWxsIT10JiYoXCJudW1lcmljXCIhPT10JiZ0IT09ZXx8XCJudW1lcmljXCI9PT10JiZcInN0cmluZ1wiPT09ZSkpdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgJ1wiK24rXCInIHBhc3NlZCB0byAnXCIrcitcIicgbXVzdCBiZSBcIit0K1wiIHRlbnNvciwgYnV0IGdvdCBcIitlK1wiIHRlbnNvclwiKX1mdW5jdGlvbiBnbih0LGUsbixyKXtpZih2b2lkIDA9PT1yJiYocj1cIm51bWVyaWNcIiksdCBpbnN0YW5jZW9mIHd0KXJldHVybiB2bihyLHQuZHR5cGUsZSxuKSx0O3ZhciBvPWoodCk7aWYoXCJzdHJpbmdcIiE9PW8mJltcImJvb2xcIixcImludDMyXCIsXCJmbG9hdDMyXCJdLmluZGV4T2Yocik+PTAmJihvPXIpLHZuKHIsbyxlLG4pLG51bGw9PXR8fCFWKHQpJiYhQXJyYXkuaXNBcnJheSh0KSYmXCJudW1iZXJcIiE9dHlwZW9mIHQmJlwiYm9vbGVhblwiIT10eXBlb2YgdCYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpe3ZhciBhPW51bGw9PXQ/XCJudWxsXCI6dC5jb25zdHJ1Y3Rvci5uYW1lO3Rocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50ICdcIitlK1wiJyBwYXNzZWQgdG8gJ1wiK24rXCInIG11c3QgYmUgYSBUZW5zb3Igb3IgVGVuc29yTGlrZSwgYnV0IGdvdCAnXCIrYStcIidcIil9dmFyIHM9cG4odCxvKTtWKHQpfHxBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO3ZhciB1PVwic3RyaW5nXCIhPT1vP1EodCxvLGkoKS5nZXRCb29sKFwiREVCVUdcIikpOkkodCxbXSwhMCk7cmV0dXJuIEx0Lm1ha2VUZW5zb3IodSxzLG8pfWZ1bmN0aW9uIG1uKHQsZSxuLHIpe2lmKHZvaWQgMD09PXImJihyPVwibnVtZXJpY1wiKSwhQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCBcIitlK1wiIHBhc3NlZCB0byBcIituK1wiIG11c3QgYmUgYSBgVGVuc29yW11gIG9yIGBUZW5zb3JMaWtlW11gXCIpO3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCxyKXtyZXR1cm4gZ24odCxlK1wiW1wiK3IrXCJdXCIsbil9KSxyKX1mdW5jdGlvbiB5bih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKWlmKHRbdC5sZW5ndGgtbi0xXSE9PWUtMS1uKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHhuKHQsZSxuKXtmb3IodmFyIHI9dC5sZW5ndGgrZS5sZW5ndGgsbz1bXSxhPTAsaT0wLHM9MDtzPHI7cysrKS0xPT09bi5pbmRleE9mKHMpP28ucHVzaCh0W2ErK10pOm8ucHVzaChlW2krK10pO3JldHVybiBvfWZ1bmN0aW9uIGJuKHQsZSl7Zm9yKHZhciBuPVtdLHI9dC5sZW5ndGgsbz0wO288cjtvKyspLTE9PT1lLmluZGV4T2YobykmJm4ucHVzaCh0W29dKTtyZXR1cm5bbixlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSldfWZ1bmN0aW9uIHduKHQsZSl7cmV0dXJuIHhuKHQsZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAxfSkpLGUpfWZ1bmN0aW9uIENuKHQsZSxuKXtDKHluKGUsbiksKGZ1bmN0aW9uKCl7cmV0dXJuIHQrXCIgc3VwcG9ydHMgb25seSBpbm5lci1tb3N0IGF4ZXMgZm9yIG5vdy4gR290IGF4ZXMgXCIrZStcIiBhbmQgcmFuay1cIituK1wiIGlucHV0LlwifSkpfWZ1bmN0aW9uIEVuKHQsZSl7aWYoeW4odCxlKSlyZXR1cm4gbnVsbDtmb3IodmFyIG49W10scj0wO3I8ZTsrK3IpLTE9PT10LmluZGV4T2YocikmJm4ucHVzaChyKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gbi5wdXNoKHQpfSkpLG59ZnVuY3Rpb24gUm4odCl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0LGUpe3JldHVybltlLHRdfSkpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMV0tZVsxXX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpfWZ1bmN0aW9uIEluKHQsZSl7Zm9yKHZhciBuPVtdLHI9ZS10O3I8ZTsrK3Ipbi5wdXNoKHIpO3JldHVybiBufWZ1bmN0aW9uIGtuKHQsZSl7dmFyIG49dFswXS5sZW5ndGg7dC5mb3JFYWNoKChmdW5jdGlvbih0LGUpe0ModC5sZW5ndGg9PT1uLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29uY2F0XCIrbitcIkQ6IHJhbmsgb2YgdGVuc29yc1tcIitlK1wiXSBtdXN0IGJlIHRoZSBzYW1lIGFzIHRoZSByYW5rIG9mIHRoZSByZXN0IChcIituK1wiKVwifSkpfSkpLEMoZT49MCYmZTxuLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29uY2F0XCIrbitcIkQ6IGF4aXMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIFwiKyhuLTEpK1wiLlwifSkpO3ZhciByPXRbMF07dC5mb3JFYWNoKChmdW5jdGlvbih0LG8pe2Zvcih2YXIgYT0wO2E8bjthKyspQyhhPT09ZXx8dFthXT09PXJbYV0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb25jYXRcIituK1wiRDogU2hhcGUgb2YgdGVuc29yc1tcIitvK1wiXSAoXCIrdCtcIikgZG9lcyBub3QgbWF0Y2ggdGhlIHNoYXBlIG9mIHRoZSByZXN0IChcIityK1wiKSBhbG9uZyB0aGUgbm9uLWNvbmNhdGVuYXRlZCBheGlzIFwiK28rXCIuXCJ9KSl9KSl9ZnVuY3Rpb24gU24odCxlKXtmb3IodmFyIG49dFswXS5zbGljZSgpLHI9MTtyPHQubGVuZ3RoO3IrKyluW2VdKz10W3JdW2VdO3JldHVybiBufWZ1bmN0aW9uIEFuKHQpe3ZhciBlPU9iamVjdC5rZXlzKHQpO2lmKDEhPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBrZXkgKG9wZXJhdGlvbiBuYW1lKSBtYXBwaW5nIHRvIGEgZnVuY3Rpb24uIEdvdCBhbiBvYmplY3Qgd2l0aCBcIitlLmxlbmd0aCtcIiBrZXlzLlwiKTt2YXIgbj1lWzBdLHI9dFtuXTtuLmVuZHNXaXRoKFwiX1wiKSYmKG49bi5zdWJzdHJpbmcoMCxuLmxlbmd0aC0xKSk7dmFyIG89ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07THQuc3RhcnRTY29wZShuKTt0cnl7dmFyIG89ci5hcHBseSh2b2lkIDAsdCk7cmV0dXJuIG8gaW5zdGFuY2VvZiBQcm9taXNlJiZjb25zb2xlLmVycm9yKFwiQ2Fubm90IHJldHVybiBhIFByb21pc2UgaW5zaWRlIG9mIHRpZHkuXCIpLEx0LmVuZFNjb3BlKG8pLG99Y2F0Y2godCl7dGhyb3cgTHQuZW5kU2NvcGUobnVsbCksdH19O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIm5hbWVcIix7dmFsdWU6bixjb25maWd1cmFibGU6ITB9KSxvfUhlLnJlZ2lzdGVyRmxhZyhcIkhBU19XRUJHTFwiLChmdW5jdGlvbigpe3JldHVybiBIZS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpPjB9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfVkVSU0lPTlwiLChmdW5jdGlvbigpe3JldHVybiBMZSgyKT8yOkxlKDEpPzE6MH0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9CVUZGRVJfU1VQUE9SVEVEXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIDI9PT1IZS5nZXQoXCJXRUJHTF9WRVJTSU9OXCIpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX0NQVV9GT1JXQVJEXCIsKGZ1bmN0aW9uKCl7cmV0dXJuITB9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfRk9SQ0VfRjE2X1RFWFRVUkVTXCIsKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfUEFDS1wiLChmdW5jdGlvbigpe3JldHVybiBIZS5nZXRCb29sKFwiSEFTX1dFQkdMXCIpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX1BBQ0tfTk9STUFMSVpBVElPTlwiLChmdW5jdGlvbigpe3JldHVybiBIZS5nZXRCb29sKFwiV0VCR0xfUEFDS1wiKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9QQUNLX0NMSVBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSGUuZ2V0Qm9vbChcIldFQkdMX1BBQ0tcIil9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfUEFDS19ERVBUSFdJU0VDT05WXCIsKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiLChmdW5jdGlvbigpe3JldHVybiBIZS5nZXRCb29sKFwiV0VCR0xfUEFDS1wiKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9QQUNLX1VOQVJZX09QRVJBVElPTlNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSGUuZ2V0Qm9vbChcIldFQkdMX1BBQ0tcIil9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfUEFDS19BUlJBWV9PUEVSQVRJT05TXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldEJvb2woXCJXRUJHTF9QQUNLXCIpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX1BBQ0tfSU1BR0VfT1BFUkFUSU9OU1wiLChmdW5jdGlvbigpe3JldHVybiBIZS5nZXRCb29sKFwiV0VCR0xfUEFDS1wiKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9QQUNLX1JFRFVDRVwiLChmdW5jdGlvbigpe3JldHVybiBIZS5nZXRCb29sKFwiV0VCR0xfUEFDS1wiKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9MQVpJTFlfVU5QQUNLXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldEJvb2woXCJXRUJHTF9QQUNLXCIpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX0NPTlZfSU0yQ09MXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldEJvb2woXCJXRUJHTF9QQUNLXCIpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX01BWF9URVhUVVJFX1NJWkVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT2UoSGUuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKSl9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfTUFYX1RFWFRVUkVTX0lOX1NIQURFUlwiLChmdW5jdGlvbigpe3JldHVybiBNZShIZS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9ESVNKT0lOVF9RVUVSWV9USU1FUl9FWFRFTlNJT05fVkVSU0lPTlwiLChmdW5jdGlvbigpe3ZhciB0PUhlLmdldE51bWJlcihcIldFQkdMX1ZFUlNJT05cIik7cmV0dXJuIDA9PT10PzA6QmUodCl9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfRElTSk9JTlRfUVVFUllfVElNRVJfRVhURU5TSU9OX1JFTElBQkxFXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldE51bWJlcihcIldFQkdMX0RJU0pPSU5UX1FVRVJZX1RJTUVSX0VYVEVOU0lPTl9WRVJTSU9OXCIpPjAmJih0PW5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3J8fHdpbmRvdy5vcGVyYSwhKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm8vaS50ZXN0KHQpfHwvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KHQuc3Vic3RyKDAsNCkpKSk7dmFyIHR9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfUkVOREVSX0ZMT0FUMzJfQ0FQQUJMRVwiLChmdW5jdGlvbigpe3JldHVybiBXZShIZS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9SRU5ERVJfRkxPQVQzMl9FTkFCTEVEXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIUhlLmdldEJvb2woXCJXRUJHTF9GT1JDRV9GMTZfVEVYVFVSRVNcIikmJkhlLmdldEJvb2woXCJXRUJHTF9SRU5ERVJfRkxPQVQzMl9DQVBBQkxFXCIpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX0RPV05MT0FEX0ZMT0FUX0VOQUJMRURcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVWUoSGUuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKSl9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfRkVOQ0VfQVBJX0VOQUJMRURcIiwoZnVuY3Rpb24oKXtyZXR1cm4gemUoSGUuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKSl9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfU0laRV9VUExPQURfVU5JRk9STVwiLChmdW5jdGlvbigpe3JldHVybiBIZS5nZXRCb29sKFwiV0VCR0xfUkVOREVSX0ZMT0FUMzJfRU5BQkxFRFwiKT80OjB9KSksYnQ9WGU7dmFyIFRuPUFuKHtjb21wbGV4XzpmdW5jdGlvbih0LGUpe3ZhciBuPWduKHQsXCJyZWFsXCIsXCJjb21wbGV4XCIpLHI9Z24oZSxcImltYWdcIixcImNvbXBsZXhcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwicmVhbCBhbmQgaW1hZyBzaGFwZXMsIFwiK24uc2hhcGUrXCIgYW5kIFwiK3Iuc2hhcGUrXCIsIG11c3QgbWF0Y2ggaW4gY2FsbCB0byB0Zi5jb21wbGV4KCkuXCIpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbXBsZXgobixyKX0pLHskcmVhbDpuLCRpbWFnOnJ9KX19KSxEbj1Bbih7cmVhbF86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcImlucHV0XCIsXCJyZWFsXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWFsKGUpfSkseyRpbnB1dDplfSl9fSksTm49QW4oe2ltYWdfOmZ1bmN0aW9uKHQpe3ZhciBlPWduKHQsXCJpbnB1dFwiLFwiaW1hZ1wiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuaW1hZyhlKX0pLHskaW5wdXQ6ZX0pfX0pO2Z1bmN0aW9uIEZuKHQsZSxuKXtyZXR1cm4gX24odCxlLHBuKHQsbiksbil9ZnVuY3Rpb24gX24odCxlLG4scil7aWYobnVsbD09ciYmKHI9aih0KSksXCJjb21wbGV4NjRcIj09PXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnN0cnVjdCBhIGNvbXBsZXg2NCB0ZW5zb3IgZGlyZWN0bHkuIFBsZWFzZSB1c2UgdGYuY29tcGxleChyZWFsLCBpbWFnKS5cIik7aWYoIVYodCkmJiFBcnJheS5pc0FycmF5KHQpJiZcIm51bWJlclwiIT10eXBlb2YgdCYmXCJib29sZWFuXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJ2YWx1ZXMgcGFzc2VkIHRvIHRlbnNvcih2YWx1ZXMpIG11c3QgYmUgYSBudW1iZXIvYm9vbGVhbi9zdHJpbmcgb3IgYW4gYXJyYXkgb2YgbnVtYmVycy9ib29sZWFucy9zdHJpbmdzLCBvciBhIFR5cGVkQXJyYXlcIik7aWYobnVsbCE9ZSl7bnQoZSk7dmFyIG89ayhlKSxhPWsobik7QyhvPT09YSwoZnVuY3Rpb24oKXtyZXR1cm5cIkJhc2VkIG9uIHRoZSBwcm92aWRlZCBzaGFwZSwgW1wiK2UrXCJdLCB0aGUgdGVuc29yIHNob3VsZCBoYXZlIFwiK28rXCIgdmFsdWVzIGJ1dCBoYXMgXCIrYX0pKTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoOysrcyl7dmFyIHU9bltzXSxjPXMhPT1uLmxlbmd0aC0xfHx1IT09ayhlLnNsaWNlKHMpKTtDKG5bc109PT1lW3NdfHwhYywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGNyZWF0aW5nIGEgbmV3IFRlbnNvci4gSW5mZXJyZWQgc2hhcGUgKFwiK24rXCIpIGRvZXMgbm90IG1hdGNoIHRoZSBwcm92aWRlZCBzaGFwZSAoXCIrZStcIikuIFwifSkpfX1yZXR1cm4gVih0KXx8QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxlPWV8fG4sdD1cInN0cmluZ1wiIT09cj9RKHQscixpKCkuZ2V0Qm9vbChcIkRFQlVHXCIpKTpJKHQsW10sITApLEx0Lm1ha2VUZW5zb3IodCxlLHIpfWZ1bmN0aW9uIE9uKHQsZSl7aWYoKFYodCkmJlwic3RyaW5nXCIhPT1lfHxBcnJheS5pc0FycmF5KHQpKSYmXCJjb21wbGV4NjRcIiE9PWUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY3JlYXRpbmcgYSBuZXcgU2NhbGFyOiB2YWx1ZSBtdXN0IGJlIGEgcHJpbWl0aXZlIChudW1iZXJ8Ym9vbGVhbnxzdHJpbmcpXCIpO2lmKFwic3RyaW5nXCI9PT1lJiZWKHQpJiYhKHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSl0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIG1ha2luZyBhIHNjYWxhciBmcm9tIGVuY29kZWQgc3RyaW5nLCB0aGUgdmFsdWUgbXVzdCBiZSBgVWludDhBcnJheWAuXCIpO3JldHVybiBfbih0LFtdLFtdLGUpfWZ1bmN0aW9uIE1uKHQsZSl7Uih0KTt2YXIgbj1wbih0LGUpO2lmKDEhPT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJ0ZW5zb3IxZCgpIHJlcXVpcmVzIHZhbHVlcyB0byBiZSBhIGZsYXQvVHlwZWRBcnJheVwiKTtyZXR1cm4gX24odCxudWxsLG4sZSl9ZnVuY3Rpb24gQm4odCxlLG4pe2lmKFIodCksbnVsbCE9ZSYmMiE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjJkKCkgcmVxdWlyZXMgc2hhcGUgdG8gaGF2ZSB0d28gbnVtYmVyc1wiKTt2YXIgcj1wbih0LG4pO2lmKDIhPT1yLmxlbmd0aCYmMSE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjJkKCkgcmVxdWlyZXMgdmFsdWVzIHRvIGJlIG51bWJlcltdW10gb3IgZmxhdC9UeXBlZEFycmF5XCIpO2lmKDE9PT1yLmxlbmd0aCYmbnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoXCJ0ZW5zb3IyZCgpIHJlcXVpcmVzIHNoYXBlIHRvIGJlIHByb3ZpZGVkIHdoZW4gYHZhbHVlc2AgYXJlIGEgZmxhdC9UeXBlZEFycmF5XCIpO3JldHVybiBfbih0LGUscixuKX1mdW5jdGlvbiBQbih0LGUsbil7aWYoUih0KSxudWxsIT1lJiYzIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yM2QoKSByZXF1aXJlcyBzaGFwZSB0byBoYXZlIHRocmVlIG51bWJlcnNcIik7dmFyIHI9cG4odCxuKTtpZigzIT09ci5sZW5ndGgmJjEhPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJ0ZW5zb3IzZCgpIHJlcXVpcmVzIHZhbHVlcyB0byBiZSBudW1iZXJbXVtdW10gb3IgZmxhdC9UeXBlZEFycmF5XCIpO2lmKDE9PT1yLmxlbmd0aCYmbnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoXCJ0ZW5zb3IzZCgpIHJlcXVpcmVzIHNoYXBlIHRvIGJlIHByb3ZpZGVkIHdoZW4gYHZhbHVlc2AgYXJlIGEgZmxhdCBhcnJheVwiKTtyZXR1cm4gX24odCxlLHIsbil9ZnVuY3Rpb24gTG4odCxlLG4pe2lmKFIodCksbnVsbCE9ZSYmNCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjRkKCkgcmVxdWlyZXMgc2hhcGUgdG8gaGF2ZSBmb3VyIG51bWJlcnNcIik7dmFyIHI9cG4odCxuKTtpZig0IT09ci5sZW5ndGgmJjEhPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJ0ZW5zb3I0ZCgpIHJlcXVpcmVzIHZhbHVlcyB0byBiZSBudW1iZXJbXVtdW11bXSBvciBmbGF0L1R5cGVkQXJyYXlcIik7aWYoMT09PXIubGVuZ3RoJiZudWxsPT1lKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjRkKCkgcmVxdWlyZXMgc2hhcGUgdG8gYmUgcHJvdmlkZWQgd2hlbiBgdmFsdWVzYCBhcmUgYSBmbGF0IGFycmF5XCIpO3JldHVybiBfbih0LGUscixuKX1mdW5jdGlvbiBXbih0LGUsbil7aWYoUih0KSxudWxsIT1lJiY1IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yNWQoKSByZXF1aXJlcyBzaGFwZSB0byBoYXZlIGZpdmUgbnVtYmVyc1wiKTt2YXIgcj1wbih0LG4pO2lmKDUhPT1yLmxlbmd0aCYmMSE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjVkKCkgcmVxdWlyZXMgdmFsdWVzIHRvIGJlIG51bWJlcltdW11bXVtdW10gb3IgZmxhdC9UeXBlZEFycmF5XCIpO2lmKDE9PT1yLmxlbmd0aCYmbnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoXCJ0ZW5zb3I1ZCgpIHJlcXVpcmVzIHNoYXBlIHRvIGJlIHByb3ZpZGVkIHdoZW4gYHZhbHVlc2AgYXJlIGEgZmxhdCBhcnJheVwiKTtyZXR1cm4gX24odCxlLHIsbil9ZnVuY3Rpb24gVW4odCxlLG4pe2lmKFIodCksbnVsbCE9ZSYmNiE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjZkKCkgcmVxdWlyZXMgc2hhcGUgdG8gaGF2ZSBzaXggbnVtYmVyc1wiKTt2YXIgcj1wbih0LG4pO2lmKDYhPT1yLmxlbmd0aCYmMSE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjZkKCkgcmVxdWlyZXMgdmFsdWVzIHRvIGJlIG51bWJlcltdW11bXVtdW11bXSBvciBmbGF0L1R5cGVkQXJyYXlcIik7aWYoMT09PXIubGVuZ3RoJiZudWxsPT1lKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjZkKCkgcmVxdWlyZXMgc2hhcGUgdG8gYmUgcHJvdmlkZWQgd2hlbiBgdmFsdWVzYCBhcmUgYSBmbGF0IGFycmF5XCIpO3JldHVybiBfbih0LGU9ZXx8cixyLG4pfWZ1bmN0aW9uIFZuKHQsZSxuLHIpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMCksTHQubWFrZVZhcmlhYmxlKHQsZSxuLHIpfWZ1bmN0aW9uIHpuKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9XCJmbG9hdDMyXCIpLFwiY29tcGxleDY0XCI9PT1lKXt2YXIgbj16bih0LFwiZmxvYXQzMlwiKSxyPUduKHQsXCJmbG9hdDMyXCIpO3JldHVybiBUbihuLHIpfXZhciBvPVooayh0KSxlKTtyZXR1cm4gTHQubWFrZVRlbnNvcihvLHQsZSl9ZnVuY3Rpb24gR24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT1cImZsb2F0MzJcIiksXCJjb21wbGV4NjRcIj09PWUpe3ZhciBuPUduKHQsXCJmbG9hdDMyXCIpLHI9R24odCxcImZsb2F0MzJcIik7cmV0dXJuIFRuKG4scil9dmFyIG89dHQoayh0KSxlKTtyZXR1cm4gTHQubWFrZVRlbnNvcihvLHQsZSl9ZnVuY3Rpb24gSG4odCxlLG4pe3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbihyKXtyZXR1cm4gci5maWxsKHQsZSxuKX0pLHt9KX1mdW5jdGlvbiBxbih0LGUsbil7aWYobjw9MCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgbnVtYmVyIG9mIHZhbHVlcyBzaG91bGQgYmUgcG9zaXRpdmUuXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbihyKXtyZXR1cm4gci5saW5zcGFjZSh0LGUsbil9KSx7fSl9ZnVuY3Rpb24gS24odCxlLG4scil7aWYodm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09ciYmKHI9XCJmbG9hdDMyXCIpLDA9PT1uKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBoYXZlIGEgc3RlcCBvZiB6ZXJvXCIpO2lmKHQ9PT1lfHx0PGUmJm48MHx8ZTx0JiZuPjEpcmV0dXJuIEduKFswXSxyKTt2YXIgbz10dChNYXRoLmFicyhNYXRoLmNlaWwoKGUtdCkvbikpLHIpO2U8dCYmMT09PW4mJihuPS0xKSxvWzBdPXQ7Zm9yKHZhciBhPTE7YTxvLmxlbmd0aDthKyspb1thXT1vW2EtMV0rbjtyZXR1cm4gTW4obyxyKX12YXIgam49QW4oe29uZXNMaWtlXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwib25lc0xpa2VcIik7aWYoXCJjb21wbGV4NjRcIj09PWUuZHR5cGUpe3ZhciBuPWpuKERuKGUpKSxyPVhuKE5uKGUpKTtyZXR1cm4gVG4obixyKX1yZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQub25lc0xpa2UoZSl9KSx7eDplfSwoZnVuY3Rpb24odCxlKXtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBYbih0KX19fSksXCJPbmVzTGlrZVwiKX19KSxYbj1Bbih7emVyb3NMaWtlXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiemVyb3NMaWtlXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC56ZXJvc0xpa2UoZSl9KSx7eDplfSwoZnVuY3Rpb24odCxlKXtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBYbih0KX19fSksXCJaZXJvc0xpa2VcIil9fSk7dmFyIFluPUFuKHtjb25jYXRfOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MCksQyh0Lmxlbmd0aD49MSwoZnVuY3Rpb24oKXtyZXR1cm5cIlBhc3MgYXQgbGVhc3Qgb25lIHRlbnNvciB0byBjb25jYXRcIn0pKTt2YXIgbj1tbih0LFwidGVuc29yc1wiLFwiY29uY2F0XCIpO1wiY29tcGxleDY0XCI9PT1uWzBdLmR0eXBlJiZuLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKFwiY29tcGxleDY0XCIhPT10LmR0eXBlKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb25jYXRlbmF0ZSBjb21wbGV4NjQgdGVuc29ycyB3aXRoIGEgdGVuc29yXFxuICAgICAgICAgIHdpdGggZHR5cGUgXCIrdC5kdHlwZStcIi4gXCIpfSkpLGU9TyhlLG5bMF0uc2hhcGUpWzBdO3ZhciByPVNuKG4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGFwZX0pKSxlKTtpZigwPT09ayhyKSlyZXR1cm4gRm4oW10scik7aWYoMT09PShuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaXplPjB9KSkpLmxlbmd0aClyZXR1cm4gblswXTt2YXIgbz1uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hhcGV9KSk7a24obyxlKTt2YXIgYT1uLGk9e2F4aXM6ZX07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbmNhdChuLGUpfSksYSwoZnVuY3Rpb24odCl7dmFyIG49by5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0W2VdfSkpO3JldHVybiB0cih0LG4sZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSl9KSxcIkNvbmNhdFwiLGkpfX0pLCRuPUFuKHtjb25jYXQxZF86ZnVuY3Rpb24odCl7cmV0dXJuIFluKHQsMCl9fSksUW49QW4oe2NvbmNhdDJkXzpmdW5jdGlvbih0LGUpe3JldHVybiBZbih0LGUpfX0pLEpuPUFuKHtjb25jYXQzZF86ZnVuY3Rpb24odCxlKXtyZXR1cm4gWW4odCxlKX19KSxabj1Bbih7Y29uY2F0NGRfOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFluKHQsZSl9fSksdHI9QW4oe3NwbGl0XzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49MCk7dmFyIHIsbz1nbih0LFwieFwiLFwic3BsaXRcIik7cmV0dXJuIG49TyhuLG8uc2hhcGUpWzBdLFwibnVtYmVyXCI9PXR5cGVvZiBlPyhDKG8uc2hhcGVbbl0lZT09MCwoZnVuY3Rpb24oKXtyZXR1cm5cIk51bWJlciBvZiBzcGxpdHMgbXVzdCBldmVubHkgZGl2aWRlIHRoZSBheGlzLlwifSkpLHI9bmV3IEFycmF5KGUpLmZpbGwoby5zaGFwZVtuXS9lKSk6KEMoby5zaGFwZVtuXT09PWUucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9KSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgc3VtIG9mIHNpemVzIG11c3QgbWF0Y2ggdGhlIHNpemUgb2YgdGhlIGF4aXMgZGltZW5zaW9uLlwifSkpLHI9ZSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3BsaXQobyxyLG4pfSkseyR4Om99LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gWW4odCxuKX19fSkpfX0pO2Z1bmN0aW9uIGVyKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJmbG9hdDMyXCIpLGU9ZXx8XCJmbG9hdDMyXCIsbnQodCksbmV3IG10KHQsZSxuKX1mdW5jdGlvbiBucih0LGUpe3ZvaWQgMD09PWUmJihlPSExKSxjb25zb2xlLmxvZyh0LnRvU3RyaW5nKGUpKX12YXIgcnI9QW4oe2JhdGNoVG9TcGFjZU5EXzpmdW5jdGlvbih0LGUsbil7dmFyIHI9Z24odCxcInhcIixcImJhdGNoVG9TcGFjZU5EXCIpLG89ZS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZX0pKTtyZXR1cm4gQyhyLnJhbms+PTErZS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJpbnB1dCByYW5rIGlzIFwiK3IucmFuaytcIiBidXQgc2hvdWxkIGJlID4gdGhhbiBibG9ja1NoYXBlLmxlbmd0aCBcIitlLmxlbmd0aH0pKSxDKG4ubGVuZ3RoPT09ZS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJjcm9wcy5sZW5ndGggaXMgXCIrbi5sZW5ndGgrXCIgYnV0IHNob3VsZCBiZSBlcXVhbCB0byBibG9ja1NoYXBlLmxlbmd0aCAgXCIrZS5sZW5ndGh9KSksQyhyLnNoYXBlWzBdJW89PTAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJpbnB1dCB0ZW5zb3IgYmF0Y2ggaXMgXCIrci5zaGFwZVswXStcIiBidXQgaXMgbm90IGRpdmlzaWJsZSBieSB0aGUgcHJvZHVjdCBvZiB0aGUgZWxlbWVudHMgb2YgYmxvY2tTaGFwZSBcIitlLmpvaW4oXCIgKiBcIikrXCIgPT09IFwiK299KSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmF0Y2hUb1NwYWNlTkQocixlLG4pfSkseyR4OnJ9LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5zcGFjZVRvQmF0Y2hORChlLG4pfX19KSl9fSksb3I9QW4oe2Nhc3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcInhcIixcImNhc3RcIik7aWYoIVcoZSkpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNhc3QgdG8gdW5rbm93biBkdHlwZSBcIitlKTtpZihcInN0cmluZ1wiPT09ZSYmXCJzdHJpbmdcIiE9PW4uZHR5cGV8fFwic3RyaW5nXCIhPT1lJiZcInN0cmluZ1wiPT09bi5kdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IHN0cmluZ3MgY2FuIGJlIGNhc3RlZCB0byBzdHJpbmdzXCIpO3ZhciByPXtkdHlwZTplfTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FzdChuLGUpfSkse3g6bn0sKGZ1bmN0aW9uKHQpe3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuY2xvbmUoKX19fSksXCJDYXN0XCIscil9fSksYXI9QW4oe2N1bXN1bV86ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49ITEpLHZvaWQgMD09PXImJihyPSExKTt2YXIgbz1nbih0LFwieFwiLFwiY3Vtc3VtXCIpLGE9RW4oW2V8PTBdLG8ucmFuayksaT1vO251bGwhPWEmJihpPW8udHJhbnNwb3NlKGEpKTt2YXIgcz1JbigxLG8ucmFuaylbMF0sdT1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jdW1zdW0oaSxzLG4scil9KSx7cGVybXV0ZWRYOml9LChmdW5jdGlvbih0KXtyZXR1cm57cGVybXV0ZWRYOmZ1bmN0aW9uKCl7cmV0dXJuIHQuY3Vtc3VtKGUsbiwhcil9fX0pKTtyZXR1cm4gbnVsbCE9YSYmKHU9dS50cmFuc3Bvc2UoYSkpLHV9fSksaXI9QW4oe2RlcHRoVG9TcGFjZV86ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPVwiTkhXQ1wiKTt2YXIgcj1nbih0LFwieFwiLFwiZGVwdGhUb1NwYWNlXCIpLG89XCJOSFdDXCI9PT1uP3Iuc2hhcGVbMV06ci5zaGFwZVsyXSxhPVwiTkhXQ1wiPT09bj9yLnNoYXBlWzJdOnIuc2hhcGVbM10saT1cIk5IV0NcIj09PW4/ci5zaGFwZVszXTpyLnNoYXBlWzFdO3JldHVybiBDKG8qZT49MCwoZnVuY3Rpb24oKXtyZXR1cm5cIk5lZ2F0aXZlIGRpbWVuc2lvbiBzaXplIGNhdXNlZCBieSBvdmVyZmxvdyB3aGVuIG11bHRpcGx5aW5nXFxuICAgICAgXCIrbytcIiBhbmQgXCIrZStcIiAgZm9yIGRlcHRoVG9TcGFjZSB3aXRoIGlucHV0IHNoYXBlXFxuICAgICAgXCIrci5zaGFwZX0pKSxDKGEqZT49MCwoZnVuY3Rpb24oKXtyZXR1cm5cIk5lZ2F0aXZlIGRpbWVuc2lvbiBzaXplIGNhdXNlZCBieSBvdmVyZmxvdyB3aGVuIG11bHRpcGx5aW5nXFxuICAgICAgXCIrYStcIiBhbmQgXCIrZStcIiBmb3IgZGVwdGhUb1NwYWNlIHdpdGggaW5wdXQgc2hhcGVcXG4gICAgICAgICAgXCIrci5zaGFwZX0pKSxDKGklKGUqZSk9PTAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJEaW1lbnNpb24gc2l6ZSBtdXN0IGJlIGV2ZW5seSBkaXZpc2libGUgYnkgXCIrZSplK1wiIGJ1dCBpcyBcIitpK1wiIGZvciBkZXB0aFRvU3BhY2Ugd2l0aCBpbnB1dCBzaGFwZSBcIityLnNoYXBlfSkpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRlcHRoVG9TcGFjZShyLGUsbil9KSx7JHg6cn0pfX0pLHNyPUFuKHtleHBhbmREaW1zXzpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciBuPWduKHQsXCJ4XCIsXCJleHBhbmREaW1zXCIsbnVsbCk7QyhlPD1uLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJBeGlzIG11c3QgYmUgPD0gcmFuayBvZiB0aGUgdGVuc29yXCJ9KSk7dmFyIHI9bi5zaGFwZS5zbGljZSgpO3JldHVybiBlPDAmJihDKC0obi5yYW5rKzEpPD1lLChmdW5jdGlvbigpe3JldHVyblwiQXhpcyBtdXN0IGJlIGluIHRoZSBpbnRlcnZhbCBbXCIrLShuLnJhbmsrMSkrXCIsIFwiK24ucmFuaytcIl1cIn0pKSxlPW4ucmFuaytlKzEpLHIuc3BsaWNlKGUsMCwxKSx1cihuLHIpfX0pLHVyPUFuKHtyZXNoYXBlXzpmdW5jdGlvbih0LGUpe3ZhciBuPWduKHQsXCJ4XCIsXCJyZXNoYXBlXCIsbnVsbCk7ZT1fKGUsbi5zaXplKSxDKG4uc2l6ZT09PWsoZSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJuZXcgc2hhcGUgYW5kIG9sZCBzaGFwZSBtdXN0IGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzLlwifSkpO3ZhciByPXtzaGFwZTplfTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQucmVzaGFwZShuLGUpfSkse3g6bn0sKGZ1bmN0aW9uKHQpe3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQucmVzaGFwZShuLnNoYXBlKX19fSksXCJSZXNoYXBlXCIscil9fSksY3I9QW4oe3NwYWNlVG9CYXRjaE5EXzpmdW5jdGlvbih0LGUsbil7dmFyIHI9Z24odCxcInhcIixcInNwYWNlVG9CYXRjaE5EXCIpO3JldHVybiBDKHIucmFuaz49MStlLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cImlucHV0IHJhbmsgXCIrci5yYW5rK1wiIHNob3VsZCBiZSA+IHRoYW4gW2Jsb2NrU2hhcGVdIFwiK2UubGVuZ3RofSkpLEMobi5sZW5ndGg9PT1lLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cInBhZGRpbmdzLnNoYXBlWzBdIFwiK24ubGVuZ3RoK1wiIG11c3QgYmUgZXF1YWwgdG8gW2Jsb2NrU2hhcGVdIFwiK2UubGVuZ3RofSkpLEMoci5zaGFwZS5yZWR1Y2UoKGZ1bmN0aW9uKHQscixvKXtyZXR1cm4gbz4wJiZvPD1lLmxlbmd0aD90JiYocituW28tMV1bMF0rbltvLTFdWzFdKSVlW28tMV09PTA6dH0pLCEwKSwoZnVuY3Rpb24oKXtyZXR1cm5cImlucHV0IHNwYXRpYWwgZGltZW5zaW9ucyBcIityLnNoYXBlLnNsaWNlKDEpK1wiIHdpdGggcGFkZGluZ3MgXCIrbi50b1N0cmluZygpK1wiIG11c3QgYmUgZGl2aXNpYmxlIGJ5IGJsb2NrU2hhcGVzIFwiK2UudG9TdHJpbmcoKX0pKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zcGFjZVRvQmF0Y2hORChyLGUsbil9KSx7JHg6cn0sKGZ1bmN0aW9uKHQpe3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0LmJhdGNoVG9TcGFjZU5EKGUsbil9fX0pKX19KSxscj1Bbih7c3F1ZWV6ZV86ZnVuY3Rpb24odCxlKXt2YXIgbj1nbih0LFwieFwiLFwic3F1ZWV6ZVwiKTtyZXR1cm4gdXIobixNKG4uc2hhcGUsZSkubmV3U2hhcGUpfX0pLGhyPUFuKHtzdGFja186ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTt2YXIgbj1tbih0LFwidGVuc29yc1wiLFwic3RhY2tcIik7aWYoQyhuLmxlbmd0aD49MSwoZnVuY3Rpb24oKXtyZXR1cm5cIlBhc3MgYXQgbGVhc3Qgb25lIHRlbnNvciB0byB0Zi5zdGFja1wifSkpLDE9PT1uLmxlbmd0aClyZXR1cm4gblswXS5leHBhbmREaW1zKGUpO3ZhciByPW5bMF0ucmFuayxvPW5bMF0uc2hhcGUsYT1uWzBdLmR0eXBlO0MoZTw9ciwoZnVuY3Rpb24oKXtyZXR1cm5cIkF4aXMgbXVzdCBiZSA8PSByYW5rIG9mIHRoZSB0ZW5zb3JcIn0pKSxuLmZvckVhY2goKGZ1bmN0aW9uKHQpe0Uobyx0LnNoYXBlLFwiQWxsIHRlbnNvcnMgcGFzc2VkIHRvIHN0YWNrIG11c3QgaGF2ZSBtYXRjaGluZyBzaGFwZXNcIil9KSksbi5mb3JFYWNoKChmdW5jdGlvbih0KXtDKGE9PT10LmR0eXBlLChmdW5jdGlvbigpe3JldHVyblwiQWxsIHRlbnNvcnMgcGFzc2VkIHRvIHN0YWNrIG11c3QgaGF2ZSBtYXRjaGluZyBkdHlwZXNcIn0pKX0pKTt2YXIgaT1uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXhwYW5kRGltcyhlKX0pKTtyZXR1cm4gWW4oaSxlKX19KSxmcj1Bbih7dW5zdGFja186ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKSxlPWV8fDA7dmFyIG49Z24odCxcInhcIixcInVuc3RhY2tcIik7QyhlPj0tbi5zaGFwZS5sZW5ndGgmJmU8bi5zaGFwZS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJBeGlzID0gXCIrZStcIiBpcyBub3QgaW4gWy1cIituLnNoYXBlLmxlbmd0aCtcIiwgXCIrbi5zaGFwZS5sZW5ndGgrXCIpXCJ9KSksZTwwJiYoZSs9bi5zaGFwZS5sZW5ndGgpO3ZhciByPXtheGlzOmV9O3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC51bnN0YWNrKG4sZSl9KSx7eDpufSwoZnVuY3Rpb24odCl7cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gaHIodCxlKX19fSksXCJVbnBhY2tcIixyKX19KSxkcj1mdW5jdGlvbih0LGUpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixvLGEsaSxzLHUsYyxsLGgsZjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPWduKHQsXCJ4XCIsXCJzZXRkaWZmMWRcIiksbz1nbihlLFwieVwiLFwic2V0ZGlmZjFkXCIpLEMobi5kdHlwZT09PW8uZHR5cGUsKGZ1bmN0aW9uKCl7cmV0dXJuXCJ4IGFuZCB5IHNob3VsZCBoYXZlIHRoZSBzYW1lIGR0eXBlLCBidXQgZ290IHggKFwiK24uZHR5cGUrXCIpIGFuZCB5IChcIitvLmR0eXBlK1wiKS5cIn0pKSxDKDE9PT1uLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJ4IHNob3VsZCBiZSAxRCB0ZW5zb3IsIGJ1dCBnb3QgeCAoXCIrbi5zaGFwZStcIikuXCJ9KSksQygxPT09by5yYW5rLChmdW5jdGlvbigpe3JldHVyblwieSBzaG91bGQgYmUgMUQgdGVuc29yLCBidXQgZ290IHkgKFwiK28uc2hhcGUrXCIpLlwifSkpLFs0LG4uZGF0YSgpXTtjYXNlIDE6cmV0dXJuIGE9ci5zZW50KCksWzQsby5kYXRhKCldO2Nhc2UgMjpmb3IoaT1yLnNlbnQoKSxzPW5ldyBTZXQoaSksdT0wLGg9MDtoPGEubGVuZ3RoO2grKylzLmhhcyhhW2hdKXx8dSsrO2ZvcihjPW5ldyBtdChbdV0sbi5kdHlwZSksbD1uZXcgbXQoW3VdLFwiaW50MzJcIiksaD0wLGY9MDtoPGEubGVuZ3RoO2grKylzLmhhcyhhW2hdKXx8KGMudmFsdWVzW2ZdPWFbaF0sbC52YWx1ZXNbZl09aCxmKyspO3JldHVyblsyLFtjLnRvVGVuc29yKCksbC50b1RlbnNvcigpXV19fSkpfSkpfTtmdW5jdGlvbiBwcih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj0hMCk7dmFyIG89W107aWYocikobz1vLmNvbmNhdChlLnNsaWNlKDApKSkucHVzaCh0WzBdL24pLG89by5jb25jYXQodC5zbGljZSgxKSk7ZWxzZXtvPW8uY29uY2F0KHRbMF0pO2Zvcih2YXIgYT1lLmxlbmd0aCxpPTA7aTxhOysraSlvPW8uY29uY2F0KFt0W2krMV0vZVtpXSxlW2ldXSk7bz1vLmNvbmNhdCh0LnNsaWNlKGErMSkpfXJldHVybiBvfWZ1bmN0aW9uIHZyKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMCk7dmFyIHI9W107aWYobil7ci5wdXNoKGUpO2Zvcih2YXIgbz1lKzE7bzx0OysrbylvPD0yKmU/KHIucHVzaChvKSxyLnB1c2goby0oZSsxKSkpOnIucHVzaChvKX1lbHNle3ZhciBhPVtdLGk9W107Zm9yKG89MTtvPHQ7KytvKW8+PTIqZSsxfHxvJTI9PTE/aS5wdXNoKG8pOmEucHVzaChvKTtyLnB1c2guYXBwbHkocixhKSxyLnB1c2goMCksci5wdXNoLmFwcGx5KHIsaSl9cmV0dXJuIHJ9ZnVuY3Rpb24gZ3IodCxlLG4scil7dm9pZCAwPT09ciYmKHI9ITApO3ZhciBvPVtdO3I/by5wdXNoKHRbMF0vbik6by5wdXNoKHRbMF0qbik7Zm9yKHZhciBhPTE7YTx0Lmxlbmd0aDsrK2EpYTw9ZS5sZW5ndGg/cj9vLnB1c2goZVthLTFdKnRbYV0pOm8ucHVzaCh0W2FdL2VbYS0xXSk6by5wdXNoKHRbYV0pO3JldHVybiBvfWZ1bmN0aW9uIG1yKHQsZSl7Zm9yKHZhciBuPVswXSxyPTA7cjxlOysrciluLnB1c2godFtyXVswXSk7cmV0dXJuIG59ZnVuY3Rpb24geXIodCxlLG4pe2Zvcih2YXIgcj10LnNsaWNlKDAsMSksbz0wO288bjsrK28pci5wdXNoKHRbbysxXS1lW29dWzBdLWVbb11bMV0pO3JldHVybiByfXZhciB4cj1cIkFkZFwiLGJyPVwiQWRkTlwiLHdyPVwiRGl2XCIsQ3I9XCJGdXNlZEJhdGNoTm9ybVwiLEVyPVwiU3F1YXJlZERpZmZlcmVuY2VcIixScj1cIlNxdWFyZVwiLElyPVwiVHJhbnNwb3NlXCIsa3I9XCJOb25NYXhTdXBwcmVzc2lvblY1XCIsU3I9XCJCcm9hZGNhc3RUb1wiLEFyPVwiT25lSG90XCIsVHI9XCJJZGVudGl0eVwiLERyPVwiVGlsZVwiLE5yPVwiUGFkVjJcIixGcj1cIkZyb21QaXhlbHNcIixfcj1cIk1heFBvb2xXaXRoQXJnbWF4XCI7dmFyIE9yPUFuKHthZGRfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1nbih0LFwiYVwiLFwiYWRkXCIpLG89Z24oZSxcImJcIixcImFkZFwiKTtuPU50KHIsbykscj1uWzBdLG89blsxXTt2YXIgYT17YTpyLGI6b307cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5hZGQocixvKTtyZXR1cm4gZShbcixvXSksbn0pLGEsbnVsbCx4cil9fSk7ZnVuY3Rpb24gTXIodCxlKXtmb3IodmFyIG49dC5sZW5ndGgscj1bXSxvPTA7bzxuO28rKyl7dmFyIGE9bi0xLW8saT10W2FdfHwxOyhlW2UubGVuZ3RoLTEtb118fDEpPjEmJjE9PT1pJiZyLnVuc2hpZnQoYSl9cmV0dXJuIHJ9ZnVuY3Rpb24gQnIodCxlKXtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz10W3QubGVuZ3RoLXItMV0sYT1lLmxlbmd0aC1yLTEsaT1lW2FdOyhudWxsPT1vfHwxPT09byYmaT4xKSYmbi51bnNoaWZ0KGEpfXJldHVybiBufWZ1bmN0aW9uIFByKHQsZSl7Zm9yKHZhciBuPVtdLHI9TWF0aC5tYXgodC5sZW5ndGgsZS5sZW5ndGgpLG89MDtvPHI7bysrKXt2YXIgYT10W3QubGVuZ3RoLW8tMV07bnVsbD09YSYmKGE9MSk7dmFyIGk9ZVtlLmxlbmd0aC1vLTFdO2lmKG51bGw9PWkmJihpPTEpLDE9PT1hKW4udW5zaGlmdChpKTtlbHNlIGlmKDE9PT1pKW4udW5zaGlmdChhKTtlbHNle2lmKGEhPT1pKXRocm93IEVycm9yKFwiT3BlcmFuZHMgY291bGQgbm90IGJlIGJyb2FkY2FzdCB0b2dldGhlciB3aXRoIHNoYXBlcyBcIit0K1wiIGFuZCBcIitlK1wiLlwiKTtuLnVuc2hpZnQoYSl9fXJldHVybiBufXZhciBMcj1Bbih7YWJzXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiYWJzXCIpO3JldHVyblwiY29tcGxleDY0XCI9PT1lLmR0eXBlP0x0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbXBsZXhBYnMoZSl9KSx7JHg6ZX0pOkx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5hYnMoZSk7cmV0dXJuIG4oW2VdKSxyfSkse3g6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB0Lm11bChuLnRvRmxvYXQoKS5zdGVwKC0xKSl9fX0pLFwiQWJzXCIpfX0pLFdyPUFuKHthY29zXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiYWNvc1wiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LmFjb3MoZSk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZGl2U3RyaWN0KE9uKDEpLnN1YihuLnRvRmxvYXQoKS5zcXVhcmUoKSkuc3FydCgpKS5uZWcoKX19fSkpfX0pLFVyPUFuKHthY29zaF86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcImFjb3NoXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuYWNvc2goZSk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZGl2U3RyaWN0KG4udG9GbG9hdCgpLnNxdWFyZSgpLnN1YigxKS5zcXJ0KCkpfX19KSl9fSksVnI9QW4oe2FzaW5fOmZ1bmN0aW9uKHQpe3ZhciBlPWduKHQsXCJ4XCIsXCJhc2luXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuYXNpbihlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXZTdHJpY3QoT24oMSkuc3ViKG4udG9GbG9hdCgpLnNxdWFyZSgpKS5zcXJ0KCkpfX19KSl9fSksenI9QW4oe2FzaW5oXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiYXNpbmhcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5hc2luaChlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXZTdHJpY3QoT24oMSkuYWRkKG4udG9GbG9hdCgpLnNxdWFyZSgpKS5zcXJ0KCkpfX19KSl9fSksR3I9QW4oe2F0YW5fOmZ1bmN0aW9uKHQpe3ZhciBlPWduKHQsXCJ4XCIsXCJhdGFuXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuYXRhbihlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXYobi50b0Zsb2F0KCkuc3F1YXJlKCkuYWRkKDEpKX19fSkpfX0pLEhyPUFuKHthdGFuaF86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcImF0YW5oXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuYXRhbmgoZSk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZGl2KE9uKDEpLnN1YihuLnRvRmxvYXQoKS5zcXVhcmUoKSkpfX19KSl9fSkscXI9QW4oe2NlaWxfOmZ1bmN0aW9uKHQpe3ZhciBlPWduKHQsXCJ4XCIsXCJjZWlsXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jZWlsKGUpfSkseyR4OmV9LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gWG4odCl9fX0pKX19KSxLcj1Bbih7Y2xpcEJ5VmFsdWVfOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1nbih0LFwieFwiLFwiY2xpcEJ5VmFsdWVcIik7QyhlPD1uLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY2xpcDogbWluIChcIitlK1wiKSBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byBtYXggKFwiK24rXCIpLlwifSkpO3ZhciBvPVtyXSxhPXttaW46ZSxtYXg6bn07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbyl7dmFyIGE9dC5jbGlwKHIsZSxuKTtyZXR1cm4gbyhbcl0pLGF9KSx7eDpyfSwoZnVuY3Rpb24odCxyKXt2YXIgbz1yWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQud2hlcmUoby5ncmVhdGVyRXF1YWwoZSkubG9naWNhbEFuZChvLmxlc3NFcXVhbChuKSksWG4odCkpfX19KSxcIkNsaXBCeVZhbHVlXCIsYSxvKX19KSxqcj1Bbih7Y29zXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiY29zXCIpLG49W2VdO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuY29zKGUpO3JldHVybiBuKFtlXSkscn0pLHt4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gbi50b0Zsb2F0KCkuc2luKCkubmVnKCkubXVsKHQpfX19KSxcIkNvc1wiLHt9LG4pfX0pLFhyPUFuKHtjb3NoXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiY29zaFwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LmNvc2goZSk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIG4udG9GbG9hdCgpLnNpbmgoKS5tdWxTdHJpY3QodCl9fX0pKX19KSxZcj1Bbih7ZXJmXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiZXJmXCIpO3JldHVybiBDKFwiaW50MzJcIj09PWUuZHR5cGV8fFwiZmxvYXQzMlwiPT09ZS5kdHlwZSwoZnVuY3Rpb24oKXtyZXR1cm5cIklucHV0IGR0eXBlIG11c3QgYmUgYGludDMyYCBvciBgZmxvYXQzMmAuXCJ9KSksXCJpbnQzMlwiPT09ZS5kdHlwZSYmKGU9ZS50b0Zsb2F0KCkpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5lcmYoZSk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsKG4uc3F1YXJlKCkubmVnKCkuZXhwKCkubXVsKDIvTWF0aC5zcXJ0KE1hdGguUEkpKSl9fX0pKX19KSwkcj1Bbih7ZXhwXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiZXhwXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuZXhwKGUpO3JldHVybiBuKFtyXSkscn0pLHt4OmV9LChmdW5jdGlvbih0LGUpe3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsU3RyaWN0KGVbMF0pfX19KSxcIkV4cFwiLHt9LFtdLFshMF0pfX0pLFFyPUFuKHtleHBtMV86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcImV4cG0xXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuZXhwbTEoZSk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsKG4uZXhwKCkpfX19KSl9fSksSnI9QW4oe2Zsb29yXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiZmxvb3JcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmZsb29yKGUpfSkseyR4OmV9LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gWG4odCl9fX0pKX19KSxacj1Bbih7bG9nXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwibG9nXCIpLG49W2VdO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQubG9nKGUpO3JldHVybiBuKFtlXSkscn0pLHt4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXYobi50b0Zsb2F0KCkpfX19KSxcIkxvZ1wiLHt9LG4pfX0pLHRvPUFuKHtsb2cxcF86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcImxvZzFwXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQubG9nMXAoZSk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZGl2KG4uYWRkKDEpKX19fSkpfX0pLGVvPUFuKHtsb2dTaWdtb2lkXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwibG9nU2lnbW9pZFwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LnNvZnRwbHVzKGUubmVnKCkpLm5lZygpO3JldHVybiBuKFtlXSkscn0pLHskeDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0Lm11bChuLm5lZygpLnNpZ21vaWQoKSl9fX0pKX19KSxubz1Bbih7bmVnXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwibmVnXCIpLG49W2VdO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uZWcoZSl9KSx7eDplfSwoZnVuY3Rpb24odCl7cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gdC5uZWcoKX19fSksXCJOZWdcIix7fSxuKX19KSxybz1Bbih7cmVjaXByb2NhbF86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcInJlY2lwcm9jYWxcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5yZWNpcHJvY2FsKGUpO3JldHVybiBuKFtlXSkscn0pLHskeDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0LmRpdihuLnNxdWFyZSgpLm5lZygpKX19fSkpfX0pLG9vPUFuKHtyb3VuZF86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcInJvdW5kXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yb3VuZChlKX0pLHskeDplfSwoZnVuY3Rpb24odCl7cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIFhuKHQpfX19KSl9fSksYW89QW4oe3JzcXJ0XzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwicnNxcnRcIiksbj1bZV07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5yc3FydChlKTtyZXR1cm4gbihbZV0pLHJ9KSx7eDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZGl2KG4ucG93KDEuNSkubXVsKDIpKS5uZWcoKX19fSksXCJSc3FydFwiLHt9LG4pfX0pLGlvPUFuKHtzaWdtb2lkXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwic2lnbW9pZFwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LnNpZ21vaWQoZSk7cmV0dXJuIG4oW3JdKSxyfSkse3g6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB0Lm11bChuLm11bChPbigxKS5zdWIobikpKX19fSksXCJTaWdtb2lkXCIpfX0pLHNvPUFuKHtzaWduXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwic2lnblwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2lnbihlKX0pLHskeDplfSwoZnVuY3Rpb24odCl7cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIFhuKHQpfX19KSl9fSksdW89QW4oe2lzTmFOXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiaXNOYU5cIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzTmFOKGUpfSkseyR4OmV9LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gWG4odCl9fX0pKX19KSxjbz1Bbih7aXNJbmZfOmZ1bmN0aW9uKHQpe3ZhciBlPWduKHQsXCJ4XCIsXCJpc0luZlwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNJbmYoZSl9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQpe3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiBYbih0KX19fSkpfX0pLGxvPUFuKHtpc0Zpbml0ZV86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcImlzRmluaXRlXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0Zpbml0ZShlKX0pLHskeDplfSwoZnVuY3Rpb24odCl7cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIFhuKHQpfX19KSl9fSksaG89QW4oe3Npbl86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcInNpblwiKSxuPVtlXTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LnNpbihlKTtyZXR1cm4gbihbZV0pLHJ9KSx7eDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIG4udG9GbG9hdCgpLmNvcygpLm11bCh0KX19fSksXCJTaW5cIix7fSxuKX19KSxmbz1Bbih7c2luaF86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcInNpbmhcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5zaW5oKGUpO3JldHVybiBuKFtlXSkscn0pLHskeDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiBuLnRvRmxvYXQoKS5jb3NoKCkubXVsU3RyaWN0KHQpfX19KSl9fSkscG89QW4oe3NvZnRwbHVzXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwic29mdHBsdXNcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5zb2Z0cGx1cyhlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWwobi5zaWdtb2lkKCkpfX19KSl9fSksdm89QW4oe3NxcnRfOmZ1bmN0aW9uKHQpe3ZhciBlPWduKHQsXCJ4XCIsXCJzcXJ0XCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuc3FydChlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXYobi50b0Zsb2F0KCkuc3FydCgpLm11bCgyKSl9fX0pKX19KSxnbz1Bbih7c3RlcF86ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTt2YXIgbj1nbih0LFwieFwiLFwic3RlcFwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RlcChuLGUpfSkseyR4Om59LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gWG4odCl9fX0pKX19KSxtbz1Bbih7dGFuXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwidGFuXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQudGFuKGUpO3JldHVybiBuKFtlXSkscn0pLHskeDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0LmRpdihuLmNvcygpLnNxdWFyZSgpKX19fSkpfX0pLHlvPUFuKHt0YW5oXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwidGFuaFwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LnRhbmgoZSk7cmV0dXJuIG4oW3JdKSxyfSkse3g6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBPbigxKS5zdWIobi5zcXVhcmUoKSkubXVsU3RyaWN0KHQpfX19KSxcIlRhbmhcIix7fSxudWxsLFshMF0pfX0pO3ZhciB4bz1Bbih7YWRkU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPWduKHQsXCJhXCIsXCJhZGRTdHJpY3RcIikscj1nbihlLFwiYlwiLFwiYWRkU3RyaWN0XCIpO3JldHVybiBFKG4uc2hhcGUsci5zaGFwZSxcIkVycm9yIGluIGFkZFN0cmljdDogXCIpLG4uYWRkKHIpfX0pLGJvPUFuKHthdGFuMl86ZnVuY3Rpb24odCxlKXt2YXIgbixyPWduKHQsXCJhXCIsXCJhdGFuMlwiKSxvPWduKGUsXCJiXCIsXCJhdGFuMlwiKTtuPU50KHIsbykscj1uWzBdLG89blsxXTt2YXIgYT1QcihyLnNoYXBlLG8uc2hhcGUpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQuYXRhbjIocixvKTtyZXR1cm4gZShbcixvXSksbn0pLHskYTpyLCRiOm99LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF0scj1lWzFdO3JldHVybnskYTpmdW5jdGlvbigpe3ZhciBlPU9yKG4uc3F1YXJlKCksci5zcXVhcmUoKSksbz10Lm11bChyLmRpdihlKSksaT1CcihuLnNoYXBlLGEpO3JldHVybiBpLmxlbmd0aD4wJiYobz1vLnN1bShpKSksby5yZXNoYXBlKG4uc2hhcGUpfSwkYjpmdW5jdGlvbigpe3ZhciBlPU9yKG4uc3F1YXJlKCksci5zcXVhcmUoKSksbz1ubyh0Lm11bChuLmRpdihlKSkpLGk9QnIoci5zaGFwZSxhKTtyZXR1cm4gaS5sZW5ndGg+MCYmKG89by5zdW0oaSkpLG8ucmVzaGFwZShyLnNoYXBlKX19fSkpfX0pLHdvPUFuKHtkaXZTdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcImRpdlwiKSxyPWduKGUsXCJiXCIsXCJkaXZcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwiRXJyb3IgaW4gZGl2aWRlU3RyaWN0OiBcIiksbi5kaXYocil9fSksQ289QW4oe2Zsb29yRGl2XzpmdW5jdGlvbih0LGUpe3ZhciBuLHI9Z24odCxcImFcIixcImZsb29yRGl2XCIpLG89Z24oZSxcImJcIixcImZsb29yRGl2XCIpO249TnQocixvKSxyPW5bMF0sbz1uWzFdO3ZhciBhPVByKHIuc2hhcGUsby5zaGFwZSk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5mbG9vckRpdihyLG8pO3JldHVybiBlKFtyLG9dKSxufSkse2E6cixiOm99LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF0scj1lWzFdO3JldHVybnthOmZ1bmN0aW9uKCl7dmFyIGU9dC5kaXYoci50b0Zsb2F0KCkpLG89QnIobi5zaGFwZSxhKTtyZXR1cm4gby5sZW5ndGg+MD9lLnN1bShvKS5yZXNoYXBlKG4uc2hhcGUpOmV9LGI6ZnVuY3Rpb24oKXt2YXIgZT10Lm11bChuLnRvRmxvYXQoKSksbz1CcihyLnNoYXBlLGEpO28ubGVuZ3RoPjAmJihlPWUuc3VtKG8pLnJlc2hhcGUoci5zaGFwZSkpO3ZhciBpPXIuc3F1YXJlKCk7cmV0dXJuIGUuZGl2KGkudG9GbG9hdCgpKS5uZWcoKX19fSksXCJGbG9vckRpdlwiKX19KSxFbz1Bbih7bWF4aW11bV86ZnVuY3Rpb24odCxlKXt2YXIgbixyPWduKHQsXCJhXCIsXCJtYXhpbXVtXCIpLG89Z24oZSxcImJcIixcIm1heGltdW1cIik7cmV0dXJuIG49TnQocixvKSxyPW5bMF0sbz1uWzFdLFwiYm9vbFwiPT09ci5kdHlwZSYmKHI9ci50b0ludCgpLG89by50b0ludCgpKSxQcihyLnNoYXBlLG8uc2hhcGUpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXhpbXVtKHIsbyk7cmV0dXJuIGUoW3Isb10pLG59KSx7YTpyLGI6b30sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV07cmV0dXJue2E6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWwobi5ncmVhdGVyRXF1YWwocikudG9GbG9hdCgpKX0sYjpmdW5jdGlvbigpe3JldHVybiB0Lm11bChuLmxlc3MocikudG9GbG9hdCgpKX19fSksXCJNYXhpbXVtXCIpfX0pLFJvPUFuKHttYXhpbXVtU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPWduKHQsXCJhXCIsXCJtYXhpbXVtU3RyaWN0XCIpLHI9Z24oZSxcImJcIixcIm1heGltdW1TdHJpY3RcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwiRXJyb3IgaW4gbWF4aW11bVN0cmljdDogXCIpLG4ubWF4aW11bShyKX19KSxJbz1Bbih7bWluaW11bV86ZnVuY3Rpb24odCxlKXt2YXIgbixyPWduKHQsXCJhXCIsXCJtaW5pbXVtXCIpLG89Z24oZSxcImJcIixcIm1pbmltdW1cIik7cmV0dXJuIG49TnQocixvKSxyPW5bMF0sbz1uWzFdLFwiYm9vbFwiPT09ci5kdHlwZSYmKHI9ci50b0ludCgpLG89by50b0ludCgpKSxQcihyLnNoYXBlLG8uc2hhcGUpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5taW5pbXVtKHIsbyk7cmV0dXJuIGUoW3Isb10pLG59KSx7YTpyLGI6b30sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV07cmV0dXJue2E6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWwobi5sZXNzRXF1YWwocikudG9GbG9hdCgpKX0sYjpmdW5jdGlvbigpe3JldHVybiB0Lm11bChuLmdyZWF0ZXIocikudG9GbG9hdCgpKX19fSksXCJNaW5pbXVtXCIpfX0pLGtvPUFuKHttaW5pbXVtU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPWduKHQsXCJhXCIsXCJtaW5pbXVtU3RyaWN0XCIpLHI9Z24oZSxcImJcIixcIm1pbmltdW1TdHJpY3RcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwiRXJyb3IgaW4gbWluaW11bVN0cmljdDogXCIpLG4ubWluaW11bShyKX19KSxTbz1Bbih7bW9kXzpmdW5jdGlvbih0LGUpe3ZhciBuLHI9Z24odCxcImFcIixcIm1vZFwiKSxvPWduKGUsXCJiXCIsXCJtb2RcIik7bj1OdChyLG8pLHI9blswXSxvPW5bMV07dmFyIGE9UHIoci5zaGFwZSxvLnNoYXBlKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1vZChyLG8pO3JldHVybiBlKFtyLG9dKSxufSkseyRhOnIsJGI6b30sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV07cmV0dXJueyRhOmZ1bmN0aW9uKCl7dmFyIGU9QnIobi5zaGFwZSxhKTtyZXR1cm4gZS5sZW5ndGg+MD90LnN1bShlKS5yZXNoYXBlKG4uc2hhcGUpOnR9LCRiOmZ1bmN0aW9uKCl7dmFyIGU9dC5tdWwobi5kaXYocikuZmxvb3IoKS5uZWcoKSksbz1CcihyLnNoYXBlLGEpO3JldHVybiBvLmxlbmd0aD4wP2Uuc3VtKG8pLnJlc2hhcGUoci5zaGFwZSk6ZX19fSkpfX0pLEFvPUFuKHttb2RTdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcIm1vZFN0cmljdFwiKSxyPWduKGUsXCJiXCIsXCJtb2RTdHJpY3RcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwiRXJyb3IgaW4gbW9kU3RyaWN0OiBcIiksbi5tb2Qocil9fSksVG89QW4oe211bF86ZnVuY3Rpb24odCxlKXt2YXIgbixyPWduKHQsXCJhXCIsXCJtdWxcIiksbz1nbihlLFwiYlwiLFwibXVsXCIpO249TnQocixvKSxyPW5bMF0sbz1uWzFdO3ZhciBhPVByKHIuc2hhcGUsby5zaGFwZSk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tdWx0aXBseShyLG8pO3JldHVybiBlKFtyLG9dKSxufSkse2E6cixiOm99LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF0scj1lWzFdO3JldHVybnthOmZ1bmN0aW9uKCl7dmFyIGU9dC5tdWwoci50b0Zsb2F0KCkpLG89QnIobi5zaGFwZSxhKTtyZXR1cm4gby5sZW5ndGg+MD9lLnN1bShvKS5yZXNoYXBlKG4uc2hhcGUpOmV9LGI6ZnVuY3Rpb24oKXt2YXIgZT10Lm11bChuLnRvRmxvYXQoKSksbz1CcihyLnNoYXBlLGEpO3JldHVybiBvLmxlbmd0aD4wP2Uuc3VtKG8pLnJlc2hhcGUoci5zaGFwZSk6ZX19fSksXCJNdWxcIil9fSksRG89QW4oe211bFN0cmljdF86ZnVuY3Rpb24odCxlKXt2YXIgbj1nbih0LFwiYVwiLFwibXVsXCIpLHI9Z24oZSxcImJcIixcIm11bFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBtdWx0aXBseVN0cmljdDogXCIpLG4ubXVsKHIpfX0pLE5vPUFuKHtwb3dfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1nbih0LFwiYmFzZVwiLFwicG93XCIpLG89Z24oZSxcImV4cFwiLFwicG93XCIpO249TnQocixvKSxyPW5bMF0sbz1uWzFdO3ZhciBhPVByKHIuc2hhcGUsby5zaGFwZSksaT1bcixvXTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10LnBvdyhyLG8pO3JldHVybiBlKFtyLG8sbl0pLG59KSx7YTpyLGI6b30sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0sbz1lWzJdO3JldHVybnthOmZ1bmN0aW9uKCl7dmFyIGU9ci50b0Zsb2F0KCksbz10Lm11bChlLm11bChuLnBvdyhlLnN1YihPbigxKSkpKSksaT1CcihuLnNoYXBlLGEpO3JldHVybiBpLmxlbmd0aD4wJiYobz1vLnN1bShpKSksby5yZXNoYXBlKG4uc2hhcGUpfSxiOmZ1bmN0aW9uKCl7dmFyIGU9bi5ncmVhdGVyKDApLGk9bi5sb2coKS53aGVyZShlLFhuKG4pKSxzPXQubXVsKG8ubXVsKGkpKSx1PUJyKHIuc2hhcGUsYSk7cmV0dXJuIHUubGVuZ3RoPjAmJihzPXMuc3VtKHUpKSxzLnJlc2hhcGUoci5zaGFwZSl9fX0pLFwiUG93XCIse30saSxbITBdKX19KSxGbz1Bbih7cG93U3RyaWN0XzpmdW5jdGlvbih0LGUpe3JldHVybiBFKHQuc2hhcGUsZS5zaGFwZSxcIkVycm9yIGluIHBvd1N0cmljdDogXCIpLHQucG93KGUpfX0pLF9vPUFuKHtzcXVhcmVkRGlmZmVyZW5jZVN0cmljdF86ZnVuY3Rpb24odCxlKXt2YXIgbj1nbih0LFwiYVwiLFwic3F1YXJlZERpZmZlcmVuY2VTdHJpY3RcIikscj1nbihlLFwiYlwiLFwic3F1YXJlZERpZmZlcmVuY2VTdHJpY3RcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwiRXJyb3IgaW4gc3F1YXJlZERpZmZlcmVuY2VTdHJpY3Q6IFwiKSxuLnNxdWFyZWREaWZmZXJlbmNlKHIpfX0pLE9vPUFuKHtzdWJfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1nbih0LFwiYVwiLFwic3ViXCIpLG89Z24oZSxcImJcIixcInN1YlwiKTtuPU50KHIsbykscj1uWzBdLG89blsxXTt2YXIgYT1QcihyLnNoYXBlLG8uc2hhcGUpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdWJ0cmFjdChyLG8pfSkse2E6cixiOm99LChmdW5jdGlvbih0KXtyZXR1cm57YTpmdW5jdGlvbigpe3ZhciBlPXQsbj1CcihyLnNoYXBlLGEpO3JldHVybiBuLmxlbmd0aD4wJiYoZT1lLnN1bShuKSksZS5yZXNoYXBlKHIuc2hhcGUpfSxiOmZ1bmN0aW9uKCl7dmFyIGU9dCxuPUJyKG8uc2hhcGUsYSk7cmV0dXJuIG4ubGVuZ3RoPjAmJihlPWUuc3VtKG4pKSxlLm5lZygpLnJlc2hhcGUoby5zaGFwZSl9fX0pLFwiU3ViXCIpfX0pLE1vPUFuKHtzdWJTdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcInN1YlN0cmljdFwiKSxyPWduKGUsXCJiXCIsXCJzdWJTdHJpY3RcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwiRXJyb3IgaW4gc3ViU3RyaWN0OiBcIiksbi5zdWIocil9fSk7dmFyIEJvPUFuKHtkaXZfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1nbih0LFwiYVwiLFwiZGl2XCIpLG89Z24oZSxcImJcIixcImRpdlwiKTtpZihuPU50KHIsbykscj1uWzBdLG89blsxXSxcImludDMyXCI9PT1yLmR0eXBlJiZcImludDMyXCI9PT1vLmR0eXBlKXJldHVybiBDbyhyLG8pO3ZhciBhPXthOnIsYjpvfTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10LnJlYWxEaXZpZGUocixvKTtyZXR1cm4gZShbcixvXSksbn0pLGEsbnVsbCx3cix7fSl9fSk7ZnVuY3Rpb24gUG8odCxlKXtpZih0LnJhbms8MSl0aHJvdyBuZXcgRXJyb3IoXCJ0Zi5nYXRoZXJORCgpIGV4cGVjdHMgdGhlIGlucHV0IHRvIGJlIHJhbmsgMSBvciBoaWdoZXIsIGJ1dCB0aGUgcmFuayB3YXMgXCIrdC5yYW5rK1wiLlwiKTtpZihlLnJhbms8MSl0aHJvdyBuZXcgRXJyb3IoXCJ0Zi5nYXRoZXJORCgpIGV4cGVjdHMgdGhlIGluZGljZXMgdG8gYmUgcmFuayAxIG9yIGhpZ2hlciwgYnV0IHRoZSByYW5rIHdhcyBcIitlLnJhbmsrXCIuXCIpO2lmKFwiaW50MzJcIiE9PWUuZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwidGYuZ2F0aGVyTkQoKSBleHBlY3RzIHRoZSBpbmRpY2VzIHRvIGJlIGludDMyIHR5cGUsIGJ1dCB0aGUgZHR5cGUgd2FzIFwiK2UuZHR5cGUrXCIuXCIpO2lmKGUuc2hhcGVbZS5yYW5rLTFdPnQucmFuayl0aHJvdyBuZXcgRXJyb3IoXCJpbmRleCBpbm5lcm1vc3QgZGltZW5zaW9uIGxlbmd0aCBtdXN0IGJlIDw9IHRlbnNvciByYW5rOyBzYXc6IFwiK2Uuc2hhcGVbZS5yYW5rLTFdK1wiIHZzLiBcIit0LnJhbmspO2lmKDA9PT10LnNpemUpdGhyb3cgbmV3IEVycm9yKFwiUmVxdWVzdGVkIG1vcmUgdGhhbiAwIGVudHJpZXMsIGJ1dCBpbnB1dCBpcyBlbXB0eS4gSW5wdXQgc2hhcGU6IFwiK3Quc2hhcGUrXCIuXCIpO2Zvcih2YXIgbj1lLnNoYXBlLHI9bltuLmxlbmd0aC0xXSxvPTEsYT0wO2E8bi5sZW5ndGgtMTsrK2Epbyo9blthXTt2YXIgaT10LnNoYXBlLHM9bi5zbGljZSgpO3MucG9wKCk7dmFyIHU9MTtmb3IoYT1yO2E8dC5yYW5rOysrYSl1Kj1pW2FdLHMucHVzaChpW2FdKTt2YXIgYz0kKHQuc2hhcGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQvdX0pKS5jb25jYXQoWzFdKS5zbGljZSgwLHIpO3JldHVybltzLG8sdSxjXX12YXIgTG89T2JqZWN0LmZyZWV6ZSh7cHJlcGFyZUFuZFZhbGlkYXRlOlBvfSksV289MzA7ZnVuY3Rpb24gVW8odCl7cmV0dXJuIHQ8PVdvP3Q6WSh0LE1hdGguZmxvb3IoTWF0aC5zcXJ0KHQpKSl9ZnVuY3Rpb24gVm8odCxlLG4pe3ZhciByPWUucmFuaz4xP2Uuc2hhcGVbZS5yYW5rLTFdOjEsbz1lLnJhbms+MT9lLnJhbmstMToxLGE9XCJNdXN0IGhhdmUgdXBkYXRlcy5zaGFwZSA9IGluZGljZXMuc2hhcGVbOmJhdGNoRGltXSArIHNoYXBlW3NsaWNlRGltOl0sIGdvdCB1cGRhdGVzLnNoYXBlOiBcIituLnNoYXBlK1wiLCBpbmRpY2VzLnNoYXBlOiBcIitlLnNoYXBlK1wiLCBzaGFwZTogXCIrdCtcIiwgc2xpY2VEaW06IFwiK3IrXCIsIGFuZCBiYXRjaERpbTogXCIrbytcIi5cIjtpZihuLnJhbms8byl0aHJvdyBuZXcgRXJyb3IoYStcIiB1cGRhdGUucmFuayA8IFwiK28rXCIuIFwiKTtpZih0Lmxlbmd0aDxyKyhuLnJhbmstbykpdGhyb3cgbmV3IEVycm9yKGErXCIgT3V0cHV0IHNoYXBlIGxlbmd0aCA8IFwiKyhyKyhuLnJhbmstbykpKTtpZihuLnJhbmshPT1vK3QubGVuZ3RoLXIpdGhyb3cgbmV3IEVycm9yKGErXCIgdXBkYXRlLnJhbmsgIT0gXCIrKG8rdC5sZW5ndGgtcikpO2Zvcih2YXIgaT0wO2k8bzsrK2kpaWYobi5zaGFwZVtpXSE9PWUuc2hhcGVbaV0pdGhyb3cgbmV3IEVycm9yKGErXCIgdXBkYXRlcy5zaGFwZVtcIitpK1wiXSAoXCIrbi5zaGFwZVtpXStcIikgIT0gaW5kaWNlcy5zaGFwZVtcIitpK1wiXSAoXCIrZS5zaGFwZVtpXStcIikuXCIpO2ZvcihpPTA7aTxuLnJhbmstbzsrK2kpaWYobi5zaGFwZVtpK29dIT09dFtpK3JdKXRocm93IG5ldyBFcnJvcihhK1wiIHVwZGF0ZXMuc2hhcGVbXCIrKGkrbykrXCJdIChcIituLnNoYXBlW2krb10rXCIpICE9IHNoYXBlW1wiKyhpK28pK1wiXSAoXCIrdFtpK29dK1wiKVwiKX1mdW5jdGlvbiB6byh0LGUsbil7aWYoZS5yYW5rPDEpdGhyb3cgbmV3IEVycm9yKFwidGYuc2NhdHRlck5EKCkgZXhwZWN0cyB0aGUgaW5kaWNlcyB0byBiZSByYW5rIDEgb3IgaGlnaGVyLCBidXQgdGhlIHJhbmsgd2FzIFwiK2UucmFuaytcIi5cIik7aWYodC5yYW5rPDEpdGhyb3cgbmV3IEVycm9yKFwidGYuc2NhdHRlck5EKCkgZXhwZWN0cyB0aGUgdXBkYXRlcyB0byBiZSByYW5rIDEgb3IgaGlnaGVyLCBidXQgdGhlIHJhbmsgd2FzIFwiK3QucmFuaytcIi5cIik7aWYoXCJpbnQzMlwiIT09ZS5kdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZHR5cGUgb2YgJ2luZGljZXMnIHNob3VsZCBiZSBpbnQzMiwgYnV0IGdvdCBkdHlwZTogXCIrZS5kdHlwZSk7aWYobi5sZW5ndGg8MSl0aHJvdyBuZXcgRXJyb3IoXCJPdXRwdXQgcmFuayBtdXN0IGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gMSwgYnV0IGdvdCBzaGFwZTogXCIrbik7aWYoMD09PW4ubGVuZ3RoKXtpZigwPT09ZS5zaXplKXRocm93IG5ldyBFcnJvcihcIkluZGljZXMgc3BlY2lmaWVkIGZvciBlbXB0eSBvdXRwdXQuIGluZGljZXMgc2hhcGU6IFwiK2Uuc2hhcGUpO2lmKDA9PT10LnNpemUpdGhyb3cgbmV3IEVycm9yKFwiVXBkYXRlcyBzcGVjaWZpZWQgZm9yIGVtcHR5IG91dHB1dC4gdXBkYXRlcyBzaGFwZTogXCIrdC5zaGFwZSl9Vm8obixlLHQpfWZ1bmN0aW9uIEdvKHQsZSxuKXtmb3IodmFyIHI9ZS5zaGFwZS5sZW5ndGgsbz1yPjE/ZS5zaGFwZVtyLTFdOjEsYT1uLmxlbmd0aCxpPTEscz1vO3M8YTsrK3MpaSo9bltzXTt2YXIgdT1vPDE/MTpvO3JldHVybntzbGljZVJhbms6byxudW1VcGRhdGVzOmsoZS5zaGFwZSkvdSxzbGljZVNpemU6aSxzdHJpZGVzOiQobi5zbGljZSgwLG8pKS5jb25jYXQoWzFdKSxvdXRwdXRTaXplOmsobil9fXZhciBIbz1PYmplY3QuZnJlZXplKHt2YWxpZGF0ZVVwZGF0ZVNoYXBlOlZvLHZhbGlkYXRlSW5wdXQ6em8sY2FsY3VsYXRlU2hhcGVzOkdvfSk7ZnVuY3Rpb24gcW8odCxlLG4pe0ModC5yYW5rPT09ZS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBzbGljZVwiK3QucmFuaytcIkQ6IExlbmd0aCBvZiBiZWdpbiBcIitlK1wiIG11c3QgbWF0Y2ggdGhlIHJhbmsgb2YgdGhlIGFycmF5IChcIit0LnJhbmsrXCIpLlwifSkpLEModC5yYW5rPT09bi5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBzbGljZVwiK3QucmFuaytcIkQ6IExlbmd0aCBvZiBzaXplIFwiK24rXCIgbXVzdCBtYXRjaCB0aGUgcmFuayBvZiB0aGUgYXJyYXkgKFwiK3QucmFuaytcIikuXCJ9KSk7Zm9yKHZhciByPWZ1bmN0aW9uKHIpe0MoZVtyXStuW3JdPD10LnNoYXBlW3JdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gc2xpY2VcIit0LnJhbmsrXCJEOiBiZWdpbltcIityK1wiXSArIHNpemVbXCIrcitcIl0gKFwiKyhlW3JdK25bcl0pK1wiKSB3b3VsZCBvdmVyZmxvdyBpbnB1dC5zaGFwZVtcIityK1wiXSAoXCIrdC5zaGFwZVtyXStcIilcIn0pKX0sbz0wO288dC5yYW5rOysrbylyKG8pfWZ1bmN0aW9uIEtvKHQpe2Zvcih2YXIgZT1bXSxuPTA7dD4wOykxJnQmJmUucHVzaChuKSx0Lz0yLG4rKztyZXR1cm4gZX1mdW5jdGlvbiBqbyh0LGUsbil7Zm9yKHZhciByPVtdLG89MDtvPHQubGVuZ3RoO28rKylyW29dPU1hdGguY2VpbCgoZVtvXS10W29dKS9uW29dKTtyZXR1cm4gcn1mdW5jdGlvbiBYbyh0LGUsbixyLG8pe3ZhciBhPWVbb10saT1uW29dfHwxOyh0JjE8PG98fG51bGw9PWEpJiYoYT1pPjA/TnVtYmVyLk1JTl9TQUZFX0lOVEVHRVI6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO3ZhciBzPXJbb107cmV0dXJuIGE8MCYmKGErPXMpLGE9eCgwLGEscy0xKX1mdW5jdGlvbiBZbyh0LGUsbixyLG8pe3ZhciBhPWVbb10saT1uW29dfHwxOyh0JjE8PG98fG51bGw9PWEpJiYoYT1pPjA/TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI6TnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIpO3ZhciBzPXJbb107cmV0dXJuIGE8MCYmKGErPXMpLGE9aT4wP3goMCxhLHMpOngoLTEsYSxzLTEpfWZ1bmN0aW9uICRvKHQsZSxuKXtmb3IodmFyIHI9bi5sZW5ndGgsbz0wO288bi5sZW5ndGg7bysrKWlmKG5bb10+MSl7cj1vO2JyZWFrfWZvcihvPXIrMTtvPG4ubGVuZ3RoO28rKylpZihlW29dPjB8fG5bb10hPT10W29dKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFFvKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoPjA/dFt0Lmxlbmd0aC0xXToxLHI9MDtyPHQubGVuZ3RoLTE7cisrKW4rPXRbcl0qZVtyXTtyZXR1cm4gbn12YXIgSm89T2JqZWN0LmZyZWV6ZSh7YXNzZXJ0UGFyYW1zVmFsaWQ6cW8sbWFza1RvQXhlczpLbyxjb21wdXRlT3V0U2hhcGU6am8sc3RhcnRGb3JBeGlzOlhvLHN0b3BGb3JBeGlzOllvLGlzU2xpY2VDb250aW5vdXM6JG8sY29tcHV0ZUZsYXRPZmZzZXQ6UW99KTtmdW5jdGlvbiBabyh0KXtyZXR1cm4gQyhYKHQpLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGYgcGFzc2VkIGluIGdyYWQoZikgbXVzdCBiZSBhIGZ1bmN0aW9uXCJ9KSksZnVuY3Rpb24oZSxuKXt2YXIgcj1nbihlLFwieFwiLFwidGYuZ3JhZFwiLG51bGwpLG89bnVsbCE9bj9nbihuLFwiZHlcIixcInRmLmdyYWRcIik6bnVsbDtyZXR1cm4gTHQudGlkeSgoZnVuY3Rpb24oKXt2YXIgZT1MdC5ncmFkaWVudHMoKGZ1bmN0aW9uKCl7cmV0dXJuIHQocil9KSxbcl0sbyksbj1lLnZhbHVlLGE9ZS5ncmFkcztyZXR1cm4gbnVsbCE9byYmRShuLnNoYXBlLG8uc2hhcGUsXCJUaGUgc2hhcGUgb2YgZHkgcGFzc2VkIGluIGdyYWQoZikoeCwgZHkpIG11c3QgbWF0Y2ggdGhlIHNoYXBlIHJldHVybmVkIGJ5IGYoeClcIiksYWEoYSksYVswXX0pKX19ZnVuY3Rpb24gdGEodCl7cmV0dXJuIEMoWCh0KSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmIHBhc3NlZCBpbiBncmFkcyhmKSBtdXN0IGJlIGEgZnVuY3Rpb25cIn0pKSxmdW5jdGlvbihlLG4pe0MoQXJyYXkuaXNBcnJheShlKSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBhcmdzIHBhc3NlZCBpbiBncmFkcyhmKShhcmdzKSBtdXN0IGJlIGFuIGFycmF5IG9mIGBUZW5zb3JgcyBvciBgVGVuc29yTGlrZWBzXCJ9KSk7dmFyIHI9bW4oZSxcImFyZ3NcIixcInRmLmdyYWRzXCIsbnVsbCksbz1udWxsIT1uP2duKG4sXCJkeVwiLFwidGYuZ3JhZHNcIik6bnVsbDtyZXR1cm4gTHQudGlkeSgoZnVuY3Rpb24oKXt2YXIgZT1MdC5ncmFkaWVudHMoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodm9pZCAwLHIpfSkscixvKSxuPWUudmFsdWUsYT1lLmdyYWRzO3JldHVybiBudWxsIT1vJiZFKG4uc2hhcGUsby5zaGFwZSxcIlRoZSBzaGFwZSBvZiBkeSBwYXNzZWQgaW4gZ3JhZHMoZikoW3gxLC4uLl0sIGR5KSBtdXN0IG1hdGNoIHRoZSBzaGFwZSByZXR1cm5lZCBieSBmKFt4MSwuLi5dKVwiKSxhYShhKSxhfSkpfX1mdW5jdGlvbiBlYSh0KXtyZXR1cm4gQyhYKHQpLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGYgcGFzc2VkIGluIHZhbHVlQW5kR3JhZChmKSBtdXN0IGJlIGEgZnVuY3Rpb25cIn0pKSxmdW5jdGlvbihlLG4pe0MoZSBpbnN0YW5jZW9mIHd0LChmdW5jdGlvbigpe3JldHVyblwiVGhlIHggcGFzc2VkIGluIHZhbHVlQW5kR3JhZChmKSh4KSBtdXN0IGJlIGEgdGVuc29yXCJ9KSksQyhudWxsPT1ufHxuIGluc3RhbmNlb2Ygd3QsKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgZHkgcGFzc2VkIGluIHZhbHVlQW5kR3JhZChmKSh4LCBkeSkgbXVzdCBiZSBhIHRlbnNvclwifSkpO3ZhciByPUx0LmdyYWRpZW50cygoZnVuY3Rpb24oKXtyZXR1cm4gdChlKX0pLFtlXSxuKSxvPXIuZ3JhZHMsYT1yLnZhbHVlO3JldHVybiBhYShvKSx7Z3JhZDpvWzBdLHZhbHVlOmF9fX1mdW5jdGlvbiBuYSh0KXtyZXR1cm4gQyhYKHQpLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGYgcGFzc2VkIGluIHZhbHVlQW5kR3JhZHMoZikgbXVzdCBiZSBhIGZ1bmN0aW9uXCJ9KSksZnVuY3Rpb24oZSxuKXtDKEFycmF5LmlzQXJyYXkoZSkmJmUuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygd3R9KSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgYXJncyBwYXNzZWQgaW4gdmFsdWVBbmRHcmFkcyhmKShhcmdzKSBtdXN0IGJlIGFycmF5IG9mIHRlbnNvcnNcIn0pKSxDKG51bGw9PW58fG4gaW5zdGFuY2VvZiB3dCwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBkeSBwYXNzZWQgaW4gdmFsdWVBbmRHcmFkcyhmKShhcmdzLCBkeSkgbXVzdCBiZSBhIHRlbnNvclwifSkpO3ZhciByPUx0LmdyYWRpZW50cygoZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh2b2lkIDAsZSl9KSxlLG4pO3JldHVybiBudWxsIT1uJiZFKHIudmFsdWUuc2hhcGUsbi5zaGFwZSxcIlRoZSBzaGFwZSBvZiBkeSBwYXNzZWQgaW4gdmFsdWVBbmRHcmFkcyhmKShbeDEsLi4uXSwgZHkpIG11c3QgbWF0Y2ggdGhlIHNoYXBlIHJldHVybmVkIGJ5IGYoW3gxLC4uLl0pXCIpLGFhKHIuZ3JhZHMpLHJ9fWZ1bmN0aW9uIHJhKHQsZSl7QyhYKHQpLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGYgcGFzc2VkIGluIHZhcmlhYmxlR3JhZHMoZikgbXVzdCBiZSBhIGZ1bmN0aW9uXCJ9KSksQyhudWxsPT1lfHxBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFN0fSkpLChmdW5jdGlvbigpe3JldHVyblwiVGhlIHZhckxpc3QgcGFzc2VkIGluIHZhcmlhYmxlR3JhZHMoZiwgdmFyTGlzdCkgbXVzdCBiZSBhbiBhcnJheSBvZiB2YXJpYWJsZXNcIn0pKTt2YXIgbj1udWxsIT1lO2lmKCFuKWZvcih2YXIgciBpbiBlPVtdLEx0LnJlZ2lzdGVyZWRWYXJpYWJsZXMpZS5wdXNoKEx0LnJlZ2lzdGVyZWRWYXJpYWJsZXNbcl0pO3ZhciBvPW4/ZS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiF0LnRyYWluYWJsZX0pKTpudWxsLGE9ZS5sZW5ndGg7QygoZT1lLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhaW5hYmxlfSkpKS5sZW5ndGg+MCwoZnVuY3Rpb24oKXtyZXR1cm5cInZhcmlhYmxlR3JhZHMoKSBleHBlY3RzIGF0IGxlYXN0IG9uZSBvZiB0aGUgaW5wdXQgdmFyaWFibGVzIHRvIGJlIHRyYWluYWJsZSwgYnV0IG5vbmUgb2YgdGhlIFwiK2ErXCIgdmFyaWFibGVzIGlzIHRyYWluYWJsZS5cIn0pKTt2YXIgaT1MdC5ncmFkaWVudHModCxlLG51bGwsITApLHM9aS52YWx1ZSx1PWkuZ3JhZHM7Qyh1LnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10fSkpLChmdW5jdGlvbigpe3JldHVyblwiQ2Fubm90IGZpbmQgYSBjb25uZWN0aW9uIGJldHdlZW4gYW55IHZhcmlhYmxlIGFuZCB0aGUgcmVzdWx0IG9mIHRoZSBsb3NzIGZ1bmN0aW9uIHk9Zih4KS4gUGxlYXNlIG1ha2Ugc3VyZSB0aGUgb3BlcmF0aW9ucyB0aGF0IHVzZSB2YXJpYWJsZXMgYXJlIGluc2lkZSB0aGUgZnVuY3Rpb24gZiBwYXNzZWQgdG8gbWluaW1pemUoKS5cIn0pKSxDKDA9PT1zLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgZiBwYXNzZWQgaW4gdmFyaWFibGVHcmFkcyhmKSBtdXN0IHJldHVybiBhIHNjYWxhciwgYnV0IGl0IHJldHVybmVkIGEgcmFuay1cIitzLnJhbmsrXCIgdGVuc29yXCJ9KSk7dmFyIGM9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXtudWxsIT11W2VdJiYoY1t0Lm5hbWVdPXVbZV0pfSkpLG51bGwhPW8mJm8uZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGNbdC5uYW1lXT1udWxsfSkpLHt2YWx1ZTpzLGdyYWRzOmN9fWZ1bmN0aW9uIG9hKHQpe3JldHVybiBMdC5jdXN0b21HcmFkKHQpfWZ1bmN0aW9uIGFhKHQpe2lmKHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dH0pKS5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tcHV0ZSBncmFkaWVudCBvZiB5PWYoeCkgd2l0aCByZXNwZWN0IHRvIHguIE1ha2Ugc3VyZSB0aGF0XFxuICAgIHRoZSBmIHlvdSBwYXNzZWQgZW5jbG9zZXMgYWxsIG9wZXJhdGlvbnMgdGhhdCBsZWFkIGZyb20geCB0byB5LlwiKX12YXIgaWE9QW4oe3NvZnRtYXhfOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9LTEpO3ZhciBuPWduKHQsXCJsb2dpdHNcIixcInNvZnRtYXhcIixcImZsb2F0MzJcIik7aWYoLTE9PT1lJiYoZT1uLnJhbmstMSksZSE9PW4ucmFuay0xKXRocm93IEVycm9yKFwiU29mdG1heCBhbG9uZyBhIG5vbi1sYXN0IGRpbWVuc2lvbiBpcyBub3QgeWV0IHN1cHBvcnRlZC4gTG9naXRzIHdhcyByYW5rIFwiK24ucmFuaytcIiBhbmQgZGltIHdhcyBcIitlKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxyKXt2YXIgbz10LnNvZnRtYXgobixlKTtyZXR1cm4gcihbb10pLG99KSx7bG9naXRzOm59LChmdW5jdGlvbih0LG4pe3ZhciByPW5bMF0sbz10Lm11bChyKTtyZXR1cm57bG9naXRzOmZ1bmN0aW9uKCl7cmV0dXJuIG8uc3ViKG8uc3VtKFtlXSwhMCkubXVsKHIpKX19fSksXCJTb2Z0bWF4XCIse2RpbTplfSxbXSxbITBdKX19KSxzYT1Bbih7bG9nU29mdG1heF86ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0tMSk7dmFyIG49Z24odCxcImxvZ2l0c1wiLFwibG9nU29mdG1heFwiKTtpZigtMT09PWUmJihlPW4ucmFuay0xKSxlIT09bi5yYW5rLTEpdGhyb3cgRXJyb3IoXCJMb2cgU29mdG1heCBhbG9uZyBhIG5vbi1sYXN0IGRpbWVuc2lvbiBpcyBub3QgeWV0IHN1cHBvcnRlZC4gTG9naXRzIHdhcyByYW5rIFwiK24ucmFuaytcIiBhbmQgYXhpcyB3YXMgXCIrZSk7cmV0dXJuIG9hKChmdW5jdGlvbih0LG4pe3ZhciByPXQubWF4KGUsITApLG89dC5zdWIociksYT1vLnRvRmxvYXQoKS5zdWIoby5leHAoKS5zdW0oZSwhMCkubG9nKCkpO24oW2FdKTtyZXR1cm57dmFsdWU6YSxncmFkRnVuYzpmdW5jdGlvbih0LG4pe3ZhciByPW5bMF0uZXhwKCk7cmV0dXJuIHQuc3ViKHQuc3VtKGUsITApLm11bChyKSl9fX0pKShuKX19KTt2YXIgdWE9QW4oe3RyYW5zcG9zZV86ZnVuY3Rpb24odCxlKXt2YXIgbj1nbih0LFwieFwiLFwidHJhbnNwb3NlXCIpO2lmKG51bGw9PWUmJihlPW4uc2hhcGUubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBlfSkpLnJldmVyc2UoKSksQyhuLnJhbms9PT1lLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHRyYW5zcG9zZTogcmFuayBvZiBpbnB1dCBcIituLnJhbmsrXCIgbXVzdCBtYXRjaCBsZW5ndGggb2YgcGVybSBcIitlK1wiLlwifSkpLGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7Qyh0Pj0wJiZ0PG4ucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkFsbCBlbnRyaWVzIGluICdwZXJtJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgXCIrKG4ucmFuay0xKStcIiBidXQgZ290IFwiK2V9KSl9KSksbi5yYW5rPD0xKXJldHVybiBuLmNsb25lKCk7dmFyIHI9e3Blcm06ZX07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYW5zcG9zZShuLGUpfSkse3g6bn0sbnVsbCxcIlRyYW5zcG9zZVwiLHIpfX0pLGNhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuYmFja2VuZD10LHRoaXMuZGF0YU1vdmVyPWUsdGhpcy5kYXRhPW5ldyBXZWFrTWFwLHRoaXMuZGF0YUlkc0NvdW50PTB9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmhhcyh0KXx8dGhpcy5kYXRhTW92ZXIubW92ZURhdGEodGhpcy5iYWNrZW5kLHQpLHRoaXMuZGF0YS5nZXQodCl9LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMuZGF0YUlkc0NvdW50KyssdGhpcy5kYXRhLnNldCh0LGUpfSx0LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YS5oYXModCl9LHQucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhSWRzQ291bnQtLSx0aGlzLmRhdGEuZGVsZXRlKHQpfSx0LnByb3RvdHlwZS5udW1EYXRhSWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YUlkc0NvdW50fSx0fSgpLGxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUudGltZT1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJ0aW1lXCIpfSx0LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcInJlYWRcIil9LHQucHJvdG90eXBlLnJlYWRTeW5jPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcInJlYWRTeW5jXCIpfSx0LnByb3RvdHlwZS5udW1EYXRhSWRzPWZ1bmN0aW9uKCl7cmV0dXJuIGhhKFwibnVtRGF0YUlkc1wiKX0sdC5wcm90b3R5cGUuZGlzcG9zZURhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwiZGlzcG9zZURhdGFcIil9LHQucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJ3cml0ZVwiKX0sdC5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gaGEoXCJtb3ZlXCIpfSx0LnByb3RvdHlwZS5tZW1vcnk9ZnVuY3Rpb24oKXtyZXR1cm4gaGEoXCJtZW1vcnlcIil9LHQucHJvdG90eXBlLmZsb2F0UHJlY2lzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGhhKFwiZmxvYXRQcmVjaXNpb25cIil9LHQucHJvdG90eXBlLmVwc2lsb249ZnVuY3Rpb24oKXtyZXR1cm4gMzI9PT10aGlzLmZsb2F0UHJlY2lzaW9uKCk/MWUtNzoxZS00fSx0LnByb3RvdHlwZS5iYXRjaE1hdE11bD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gaGEoXCJiYXRjaE1hdE11bFwiKX0sdC5wcm90b3R5cGUuZnVzZWRCYXRjaE1hdE11bD1mdW5jdGlvbih0KXt0LmEsdC5iLHQudHJhbnNwb3NlQSx0LnRyYW5zcG9zZUIsdC5iaWFzLHQuYWN0aXZhdGlvbix0LnByZWx1QWN0aXZhdGlvbldlaWdodHM7cmV0dXJuIGhhKFwiZnVzZWRCYXRjaE1hdE11bFwiKX0sdC5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBoYShcInNsaWNlXCIpfSx0LnByb3RvdHlwZS5zdHJpZGVkU2xpY2U9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGhhKFwic3RyaWRlZFNsaWNlXCIpfSx0LnByb3RvdHlwZS51bnN0YWNrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwidW5zdGFja1wiKX0sdC5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcInJldmVyc2VcIil9LHQucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcImNvbmNhdFwiKX0sdC5wcm90b3R5cGUubmVnPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcIm5lZ1wiKX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwiYWRkXCIpfSx0LnByb3RvdHlwZS5hZGROPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImFkZE5cIil9LHQucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwic3VidHJhY3RcIil9LHQucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwibXVsdGlwbHlcIil9LHQucHJvdG90eXBlLnJlYWxEaXZpZGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJyZWFsRGl2aWRlXCIpfSx0LnByb3RvdHlwZS5mbG9vckRpdj1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcImZsb29yRGl2XCIpfSx0LnByb3RvdHlwZS5zdW09ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJzdW1cIil9LHQucHJvdG90eXBlLnByb2Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJwcm9kXCIpfSx0LnByb3RvdHlwZS51bnNvcnRlZFNlZ21lbnRTdW09ZnVuY3Rpb24odCxlLG4pe3JldHVybiBoYShcInVuc29ydGVkU2VnbWVudFN1bVwiKX0sdC5wcm90b3R5cGUuYXJnTWluPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwiYXJnTWluXCIpfSx0LnByb3RvdHlwZS5hcmdNYXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJhcmdNYXhcIil9LHQucHJvdG90eXBlLmVxdWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwiZXF1YWxcIil9LHQucHJvdG90eXBlLm5vdEVxdWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwibm90RXF1YWxcIil9LHQucHJvdG90eXBlLmxlc3M9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJsZXNzXCIpfSx0LnByb3RvdHlwZS5sZXNzRXF1YWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJsZXNzRXF1YWxcIil9LHQucHJvdG90eXBlLmdyZWF0ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJncmVhdGVyXCIpfSx0LnByb3RvdHlwZS5ncmVhdGVyRXF1YWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJncmVhdGVyRXF1YWxcIil9LHQucHJvdG90eXBlLmxvZ2ljYWxOb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwibG9naWNhbE5vdFwiKX0sdC5wcm90b3R5cGUubG9naWNhbEFuZD1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcImxvZ2ljYWxBbmRcIil9LHQucHJvdG90eXBlLmxvZ2ljYWxPcj1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcImxvZ2ljYWxPclwiKX0sdC5wcm90b3R5cGUud2hlcmU9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwid2hlcmVcIil9LHQucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGhhKFwic2VsZWN0XCIpfSx0LnByb3RvdHlwZS50b3BrPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJ0b3BrXCIpfSx0LnByb3RvdHlwZS5taW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJtaW5cIil9LHQucHJvdG90eXBlLm1pbmltdW09ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJtaW5pbXVtXCIpfSx0LnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJtb2RcIil9LHQucHJvdG90eXBlLm1heD1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcIm1heFwiKX0sdC5wcm90b3R5cGUubWF4aW11bT1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcIm1heGltdW1cIil9LHQucHJvdG90eXBlLmFsbD1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcImFsbFwiKX0sdC5wcm90b3R5cGUuYW55PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwiYW55XCIpfSx0LnByb3RvdHlwZS5zcXVhcmVkRGlmZmVyZW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcInNxdWFyZWREaWZmZXJlbmNlXCIpfSx0LnByb3RvdHlwZS5jZWlsPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImNlaWxcIil9LHQucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImZsb29yXCIpfSx0LnByb3RvdHlwZS5yb3VuZD1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJyb3VuZFwiKX0sdC5wcm90b3R5cGUuc2lnbj1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJzaWduXCIpfSx0LnByb3RvdHlwZS5pc05hTj1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJpc05hTlwiKX0sdC5wcm90b3R5cGUuaXNJbmY9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwiaXNJbmZcIil9LHQucHJvdG90eXBlLmlzRmluaXRlPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImlzRmluaXRlXCIpfSx0LnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJwb3dcIil9LHQucHJvdG90eXBlLmV4cD1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJleHBcIil9LHQucHJvdG90eXBlLmV4cG0xPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImV4cG0xXCIpfSx0LnByb3RvdHlwZS5zb2Z0bWF4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwic29mdG1heFwiKX0sdC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImxvZ1wiKX0sdC5wcm90b3R5cGUubG9nMXA9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwibG9nMXBcIil9LHQucHJvdG90eXBlLnNxcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwic3FydFwiKX0sdC5wcm90b3R5cGUucnNxcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwicnNxcnRcIil9LHQucHJvdG90eXBlLnNxdWFyZT1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJzcXVhcmVcIil9LHQucHJvdG90eXBlLnJlY2lwcm9jYWw9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwicmVjaXByb2NhbFwiKX0sdC5wcm90b3R5cGUucmVsdT1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJyZWx1XCIpfSx0LnByb3RvdHlwZS5yZWx1Nj1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJyZWx1NlwiKX0sdC5wcm90b3R5cGUucHJlbHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJwcmVsdVwiKX0sdC5wcm90b3R5cGUuZWx1PWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImVsdVwiKX0sdC5wcm90b3R5cGUuZWx1RGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwiZWx1RGVyXCIpfSx0LnByb3RvdHlwZS5zZWx1PWZ1bmN0aW9uKHQpe3JldHVybiBoYShcInNlbHVcIil9LHQucHJvdG90eXBlLmludD1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJpbnRcIil9LHQucHJvdG90eXBlLmNsaXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBoYShcImNsaXBcIil9LHQucHJvdG90eXBlLmFicz1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJhYnNcIil9LHQucHJvdG90eXBlLmNvbXBsZXhBYnM9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwiY29tcGxleEFic1wiKX0sdC5wcm90b3R5cGUuc2lnbW9pZD1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJzaWdtb2lkXCIpfSx0LnByb3RvdHlwZS5zb2Z0cGx1cz1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJzb2Z0cGx1c1wiKX0sdC5wcm90b3R5cGUuc2luPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcInNpblwiKX0sdC5wcm90b3R5cGUuY29zPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImNvc1wiKX0sdC5wcm90b3R5cGUudGFuPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcInRhblwiKX0sdC5wcm90b3R5cGUuYXNpbj1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJhc2luXCIpfSx0LnByb3RvdHlwZS5hY29zPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImFjb3NcIil9LHQucHJvdG90eXBlLmF0YW49ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwiYXRhblwiKX0sdC5wcm90b3R5cGUuYXRhbjI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJhdGFuMlwiKX0sdC5wcm90b3R5cGUuc2luaD1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJzaW5oXCIpfSx0LnByb3RvdHlwZS5jb3NoPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImNvc2hcIil9LHQucHJvdG90eXBlLnRhbmg9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwidGFuaFwiKX0sdC5wcm90b3R5cGUuYXNpbmg9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwiYXNpbmhcIil9LHQucHJvdG90eXBlLmFjb3NoPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImFjb3NoXCIpfSx0LnByb3RvdHlwZS5hdGFuaD1mdW5jdGlvbih0KXtyZXR1cm4gaGEoXCJhdGFuaFwiKX0sdC5wcm90b3R5cGUuZXJmPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImVyZlwiKX0sdC5wcm90b3R5cGUuc3RlcD1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcInN0ZXBcIil9LHQucHJvdG90eXBlLmZ1c2VkQ29udjJkPWZ1bmN0aW9uKHQpe3QuaW5wdXQsdC5maWx0ZXIsdC5jb252SW5mbyx0LmJpYXMsdC5hY3RpdmF0aW9uLHQucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cztyZXR1cm4gaGEoXCJmdXNlZENvbnYyZFwiKX0sdC5wcm90b3R5cGUuY29udjJkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJjb252MmRcIil9LHQucHJvdG90eXBlLmNvbnYyZERlcklucHV0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJjb252MmREZXJJbnB1dFwiKX0sdC5wcm90b3R5cGUuY29udjJkRGVyRmlsdGVyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJjb252MmREZXJGaWx0ZXJcIil9LHQucHJvdG90eXBlLmZ1c2VkRGVwdGh3aXNlQ29udjJEPWZ1bmN0aW9uKHQpe3QuaW5wdXQsdC5maWx0ZXIsdC5jb252SW5mbyx0LmJpYXMsdC5hY3RpdmF0aW9uLHQucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cztyZXR1cm4gaGEoXCJmdXNlZERlcHRod2lzZUNvbnYyRFwiKX0sdC5wcm90b3R5cGUuZGVwdGh3aXNlQ29udjJEPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJkZXB0aHdpc2VDb252MkRcIil9LHQucHJvdG90eXBlLmRlcHRod2lzZUNvbnYyRERlcklucHV0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJkZXB0aHdpc2VDb252MkREZXJJbnB1dFwiKX0sdC5wcm90b3R5cGUuZGVwdGh3aXNlQ29udjJERGVyRmlsdGVyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJkZXB0aHdpc2VDb252MkREZXJGaWx0ZXJcIil9LHQucHJvdG90eXBlLmNvbnYzZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGhhKFwiY29udjNkXCIpfSx0LnByb3RvdHlwZS5jb252M2REZXJJbnB1dD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGhhKFwiY29udjNkRGVySW5wdXRcIil9LHQucHJvdG90eXBlLmNvbnYzZERlckZpbHRlcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGhhKFwiY29udjNkRGVyRmlsdGVyXCIpfSx0LnByb3RvdHlwZS5tYXhQb29sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwibWF4UG9vbFwiKX0sdC5wcm90b3R5cGUubWF4UG9vbEJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBoYShcIm1heFBvb2xCYWNrcHJvcFwiKX0sdC5wcm90b3R5cGUuYXZnUG9vbD1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcImF2Z1Bvb2xcIil9LHQucHJvdG90eXBlLmF2Z1Bvb2xCYWNrcHJvcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGhhKFwiYXZnUG9vbEJhY2twcm9wXCIpfSx0LnByb3RvdHlwZS5hdmdQb29sM2Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJhdmdQb29sM2RcIil9LHQucHJvdG90eXBlLmF2Z1Bvb2wzZEJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJhdmdQb29sM2RCYWNrcHJvcFwiKX0sdC5wcm90b3R5cGUubWF4UG9vbDNkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwibWF4UG9vbDNkXCIpfSx0LnByb3RvdHlwZS5tYXhQb29sM2RCYWNrcHJvcD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gaGEoXCJtYXhQb29sM2RCYWNrcHJvcFwiKX0sdC5wcm90b3R5cGUucmVzaGFwZT1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcInJlc2hhcGVcIil9LHQucHJvdG90eXBlLmNhc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJjYXN0XCIpfSx0LnByb3RvdHlwZS50aWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwidGlsZVwiKX0sdC5wcm90b3R5cGUucGFkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJwYWRcIil9LHQucHJvdG90eXBlLnRyYW5zcG9zZT1mdW5jdGlvbih0LGUpe3JldHVybiBoYShcInRyYW5zcG9zZVwiKX0sdC5wcm90b3R5cGUuZ2F0aGVyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJnYXRoZXJcIil9LHQucHJvdG90eXBlLmdhdGhlck5EPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhhKFwiZ2F0aGVyTkRcIil9LHQucHJvdG90eXBlLnNjYXR0ZXJORD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGhhKFwic2NhdHRlck5EXCIpfSx0LnByb3RvdHlwZS5iYXRjaFRvU3BhY2VORD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGhhKFwiYmF0Y2hUb1NwYWNlTkRcIil9LHQucHJvdG90eXBlLnNwYWNlVG9CYXRjaE5EPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJzcGFjZVRvQmF0Y2hORFwiKX0sdC5wcm90b3R5cGUucmVzaXplQmlsaW5lYXI9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGhhKFwicmVzaXplQmlsaW5lYXJcIil9LHQucHJvdG90eXBlLnJlc2l6ZUJpbGluZWFyQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBoYShcInJlc2l6ZUJpbGluZWFyQmFja3Byb3BcIil9LHQucHJvdG90eXBlLnJlc2l6ZU5lYXJlc3ROZWlnaGJvcj1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gaGEoXCJyZXNpemVOZWFyZXN0TmVpZ2hib3JcIil9LHQucHJvdG90eXBlLnJlc2l6ZU5lYXJlc3ROZWlnaGJvckJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJyZXNpemVOZWFyZXN0TmVpZ2hib3JCYWNrcHJvcFwiKX0sdC5wcm90b3R5cGUuYmF0Y2hOb3JtYWxpemF0aW9uPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtyZXR1cm4gaGEoXCJiYXRjaE5vcm1hbGl6YXRpb25cIil9LHQucHJvdG90eXBlLmxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uNEQ9ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gaGEoXCJsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbjREXCIpfSx0LnByb3RvdHlwZS5MUk5HcmFkPWZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkpe3JldHVybiBoYShcIkxSTkdyYWRcIil9LHQucHJvdG90eXBlLm11bHRpbm9taWFsPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBoYShcIm11bHRpbm9taWFsXCIpfSx0LnByb3RvdHlwZS5vbmVIb3Q9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGhhKFwib25lSG90XCIpfSx0LnByb3RvdHlwZS5jdW1zdW09ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGhhKFwiY3Vtc3VtXCIpfSx0LnByb3RvdHlwZS5ub25NYXhTdXBwcmVzc2lvbj1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiBoYShcIm5vbk1heFN1cHByZXNzaW9uXCIpfSx0LnByb3RvdHlwZS5mZnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwiZmZ0XCIpfSx0LnByb3RvdHlwZS5pZmZ0PWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImlmZnRcIil9LHQucHJvdG90eXBlLmNvbXBsZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGEoXCJjb21wbGV4XCIpfSx0LnByb3RvdHlwZS5yZWFsPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcInJlYWxcIil9LHQucHJvdG90eXBlLmltYWc9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwiaW1hZ1wiKX0sdC5wcm90b3R5cGUuY3JvcEFuZFJlc2l6ZT1mdW5jdGlvbih0LGUsbixyLG8sYSl7cmV0dXJuIGhhKFwiY3JvcEFuZFJlc2l6ZVwiKX0sdC5wcm90b3R5cGUuZGVwdGhUb1NwYWNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJkZXB0aFRvU3BhY2VcIil9LHQucHJvdG90eXBlLnNwbGl0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaGEoXCJzcGxpdFwiKX0sdC5wcm90b3R5cGUuc3BhcnNlVG9EZW5zZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gaGEoXCJzcGFyc2VUb0RlbnNlXCIpfSx0LnByb3RvdHlwZS5kaWFnPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcImRpYWdcIil9LHQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBoYShcImZpbGxcIil9LHQucHJvdG90eXBlLm9uZXNMaWtlPWZ1bmN0aW9uKHQpe3JldHVybiBoYShcIm9uZXNMaWtlXCIpfSx0LnByb3RvdHlwZS56ZXJvc0xpa2U9ZnVuY3Rpb24odCl7cmV0dXJuIGhhKFwiemVyb3NMaWtlXCIpfSx0LnByb3RvdHlwZS5saW5zcGFjZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGhhKFwibGluc3BhY2VcIil9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gaGEoXCJkaXNwb3NlXCIpfSx0fSgpO2Z1bmN0aW9uIGhhKHQpe3Rocm93IG5ldyBFcnJvcihcIidcIit0K1wiJyBub3QgeWV0IGltcGxlbWVudGVkIG9yIG5vdCBmb3VuZCBpbiB0aGUgcmVnaXN0cnkuIERpZCB5b3UgZm9yZ2V0IHRvIGltcG9ydCB0aGUga2VybmVsP1wiKX1mdW5jdGlvbiBmYSh0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1pJiYoaT1cImNoYW5uZWxzTGFzdFwiKTt2YXIgcyx1PW1hKGUpLGM9dVswXSxsPXVbMV07aWYoXCJjaGFubmVsc0xhc3RcIj09PWkpcz1bYyxsLHRbM10sdFszXV07ZWxzZXtpZihcImNoYW5uZWxzRmlyc3RcIiE9PWkpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkYXRhRm9ybWF0IFwiK2kpO3M9W2MsbCx0WzFdLHRbMV1dfXJldHVybiBwYSh0LHMsbixyLG8sYSwhMSxpKX1mdW5jdGlvbiBkYSh0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1pJiYoaT1cIk5ESFdDXCIpO3ZhciBzLHUsYz15YShlKSxsPWNbMF0saD1jWzFdLGY9Y1syXTtpZihcIk5ESFdDXCI9PT1pKXU9XCJjaGFubmVsc0xhc3RcIixzPVtsLGgsZix0WzRdLHRbNF1dO2Vsc2V7aWYoXCJOQ0RIV1wiIT09aSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGFGb3JtYXQgXCIraSk7dT1cImNoYW5uZWxzRmlyc3RcIixzPVtsLGgsZix0WzFdLHRbMV1dfXJldHVybiB2YSh0LHMsbixyLG8sITEsdSxhKX1mdW5jdGlvbiBwYSh0LGUsbixyLG8sYSxpLHMpe3ZvaWQgMD09PWkmJihpPSExKSx2b2lkIDA9PT1zJiYocz1cImNoYW5uZWxzTGFzdFwiKTt2YXIgdT1bLTEsLTEsLTEsLTFdLGM9dVswXSxsPXVbMV0saD11WzJdLGY9dVszXTtpZihcImNoYW5uZWxzTGFzdFwiPT09cyljPXRbMF0sbD10WzFdLGg9dFsyXSxmPXRbM107ZWxzZXtpZihcImNoYW5uZWxzRmlyc3RcIiE9PXMpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkYXRhRm9ybWF0IFwiK3MpO2M9dFswXSxmPXRbMV0sbD10WzJdLGg9dFszXX12YXIgZCxwPWVbMF0sdj1lWzFdLGc9ZVszXSxtPW1hKG4pLHk9bVswXSx4PW1bMV0sYj1tYShyKSx3PWJbMF0sRT1iWzFdLFI9eGEocCx3KSxJPXhhKHYsRSksaz1mdW5jdGlvbih0LGUsbixyLG8sYSxpLHMpe3ZhciB1LGMsbDtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7dT17dG9wOnQsYm90dG9tOnQsbGVmdDp0LHJpZ2h0OnQsdHlwZTowPT09dD9cIlZBTElEXCI6XCJOVU1CRVJcIn07dmFyIGg9ZnVuY3Rpb24odCxlLG4scixvKXtudWxsPT1yJiYocj1nYSh0LGUsbikpO3ZhciBhPXRbMF0saT10WzFdLHM9YmEoKGEtZSsyKnIpL24rMSxvKTtDKEEocyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgb3V0cHV0ICMgb2Ygcm93cyAoXCIrcytcIikgbXVzdCBiZSBhbiBpbnRlZ2VyLiBDaGFuZ2UgdGhlIHN0cmlkZSBhbmQvb3IgemVybyBwYWQgcGFyYW1ldGVyc1wifSkpO3ZhciB1PWJhKChpLWUrMipyKS9uKzEsbyk7cmV0dXJuIEMoQSh1KSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBvdXRwdXQgIyBvZiBjb2x1bW5zIChcIit1K1wiKSBtdXN0IGJlIGFuIGludGVnZXIuIENoYW5nZSB0aGUgc3RyaWRlIGFuZC9vciB6ZXJvIHBhZCBwYXJhbWV0ZXJzXCJ9KSksW3MsdV19KFtlLG5dLGEscix0LHMpO2M9aFswXSxsPWhbMV19ZWxzZSBpZihcInNhbWVcIj09PXQpe2M9TWF0aC5jZWlsKGUvciksbD1NYXRoLmNlaWwobi9vKTt2YXIgZj1NYXRoLm1heCgwLChjLTEpKnIrYS1lKSxkPU1hdGgubWF4KDAsKGwtMSkqbytpLW4pLHA9TWF0aC5mbG9vcihmLzIpLHY9Zi1wLGc9TWF0aC5mbG9vcihkLzIpO3U9e3RvcDpwLGJvdHRvbTp2LGxlZnQ6ZyxyaWdodDpkLWcsdHlwZTpcIlNBTUVcIn19ZWxzZXtpZihcInZhbGlkXCIhPT10KXRocm93IEVycm9yKFwiVW5rbm93biBwYWRkaW5nIHBhcmFtZXRlcjogXCIrdCk7dT17dG9wOjAsYm90dG9tOjAsbGVmdDowLHJpZ2h0OjAsdHlwZTpcIlZBTElEXCJ9LGM9TWF0aC5jZWlsKChlLWErMSkvciksbD1NYXRoLmNlaWwoKG4taSsxKS9vKX1yZXR1cm57cGFkSW5mbzp1LG91dEhlaWdodDpjLG91dFdpZHRoOmx9fShvLGwsaCx5LHgsUixJLGEpLFM9ay5wYWRJbmZvLFQ9ay5vdXRIZWlnaHQsRD1rLm91dFdpZHRoLE49aT9nKmY6ZztyZXR1cm5cImNoYW5uZWxzRmlyc3RcIj09PXM/ZD1bYyxOLFQsRF06XCJjaGFubmVsc0xhc3RcIj09PXMmJihkPVtjLFQsRCxOXSkse2JhdGNoU2l6ZTpjLGRhdGFGb3JtYXQ6cyxpbkhlaWdodDpsLGluV2lkdGg6aCxpbkNoYW5uZWxzOmYsb3V0SGVpZ2h0OlQsb3V0V2lkdGg6RCxvdXRDaGFubmVsczpOLHBhZEluZm86UyxzdHJpZGVIZWlnaHQ6eSxzdHJpZGVXaWR0aDp4LGZpbHRlckhlaWdodDpwLGZpbHRlcldpZHRoOnYsZWZmZWN0aXZlRmlsdGVySGVpZ2h0OlIsZWZmZWN0aXZlRmlsdGVyV2lkdGg6SSxkaWxhdGlvbkhlaWdodDp3LGRpbGF0aW9uV2lkdGg6RSxpblNoYXBlOnQsb3V0U2hhcGU6ZCxmaWx0ZXJTaGFwZTplfX1mdW5jdGlvbiB2YSh0LGUsbixyLG8sYSxpLHMpe3ZvaWQgMD09PWEmJihhPSExKSx2b2lkIDA9PT1pJiYoaT1cImNoYW5uZWxzTGFzdFwiKTt2YXIgdT1bLTEsLTEsLTEsLTEsLTFdLGM9dVswXSxsPXVbMV0saD11WzJdLGY9dVszXSxkPXVbNF07aWYoXCJjaGFubmVsc0xhc3RcIj09PWkpYz10WzBdLGw9dFsxXSxoPXRbMl0sZj10WzNdLGQ9dFs0XTtlbHNle2lmKFwiY2hhbm5lbHNGaXJzdFwiIT09aSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGFGb3JtYXQgXCIraSk7Yz10WzBdLGQ9dFsxXSxsPXRbMl0saD10WzNdLGY9dFs0XX12YXIgcCx2PWVbMF0sZz1lWzFdLG09ZVsyXSx5PWVbNF0seD15YShuKSxiPXhbMF0sdz14WzFdLEU9eFsyXSxSPXlhKHIpLEk9UlswXSxrPVJbMV0sUz1SWzJdLFQ9eGEodixJKSxEPXhhKGcsayksTj14YShtLFMpLEY9ZnVuY3Rpb24odCxlLG4scixvLGEsaSxzLHUsYyxsKXt2YXIgaCxmLGQscDtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7aD17dG9wOnQsYm90dG9tOnQsbGVmdDp0LHJpZ2h0OnQsZnJvbnQ6dCxiYWNrOnQsdHlwZTowPT09dD9cIlZBTElEXCI6XCJOVU1CRVJcIn07dmFyIHY9ZnVuY3Rpb24odCxlLG4scixvLGEpe251bGw9PW8mJihvPWdhKHQsZSxyKSk7dmFyIGk9dFswXSxzPXRbMV0sdT10WzJdLGM9YmEoKGktZSsyKm8pL3IrMSxhKTtDKEEoYyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgb3V0cHV0ICMgb2YgZGVwdGhzIChcIitjK1wiKSBtdXN0IGJlIGFuIGludGVnZXIuIENoYW5nZSB0aGUgc3RyaWRlIGFuZC9vciB6ZXJvIHBhZCBwYXJhbWV0ZXJzXCJ9KSk7dmFyIGw9YmEoKHMtZSsyKm8pL3IrMSxhKTtDKEEobCksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgb3V0cHV0ICMgb2Ygcm93cyAoXCIrbCtcIikgbXVzdCBiZSBhbiBpbnRlZ2VyLiBDaGFuZ2UgdGhlIHN0cmlkZSBhbmQvb3IgemVybyBwYWQgcGFyYW1ldGVyc1wifSkpO3ZhciBoPWJhKCh1LWUrMipvKS9yKzEsYSk7cmV0dXJuIEMoQShoKSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBvdXRwdXQgIyBvZiBjb2x1bW5zIChcIitoK1wiKSBtdXN0IGJlIGFuIGludGVnZXIuIENoYW5nZSB0aGUgc3RyaWRlIGFuZC9vciB6ZXJvIHBhZCBwYXJhbWV0ZXJzXCJ9KSksW2MsbCxoLG5dfShbZSxuLHIsMV0scywxLG8sdCxsKTtmPXZbMF0sZD12WzFdLHA9dlsyXX1lbHNlIGlmKFwic2FtZVwiPT09dCl7Zj1NYXRoLmNlaWwoZS9vKSxkPU1hdGguY2VpbChuL2EpLHA9TWF0aC5jZWlsKHIvaSk7dmFyIGc9KGYtMSkqbytzLWUsbT0oZC0xKSphK3Utbix5PShwLTEpKmkrYy1yLHg9TWF0aC5mbG9vcihnLzIpLGI9Zy14LHc9TWF0aC5mbG9vcihtLzIpLEU9bS13LFI9TWF0aC5mbG9vcih5LzIpO2g9e3RvcDp3LGJvdHRvbTpFLGxlZnQ6UixyaWdodDp5LVIsZnJvbnQ6eCxiYWNrOmIsdHlwZTpcIlNBTUVcIn19ZWxzZXtpZihcInZhbGlkXCIhPT10KXRocm93IEVycm9yKFwiVW5rbm93biBwYWRkaW5nIHBhcmFtZXRlcjogXCIrdCk7aD17dG9wOjAsYm90dG9tOjAsbGVmdDowLHJpZ2h0OjAsZnJvbnQ6MCxiYWNrOjAsdHlwZTpcIlZBTElEXCJ9LGY9TWF0aC5jZWlsKChlLXMrMSkvbyksZD1NYXRoLmNlaWwoKG4tdSsxKS9hKSxwPU1hdGguY2VpbCgoci1jKzEpL2kpfXJldHVybntwYWRJbmZvOmgsb3V0RGVwdGg6ZixvdXRIZWlnaHQ6ZCxvdXRXaWR0aDpwfX0obyxsLGgsZixiLHcsRSxULEQsTixzKSxfPUYucGFkSW5mbyxPPUYub3V0RGVwdGgsTT1GLm91dEhlaWdodCxCPUYub3V0V2lkdGgsUD1hP3kqZDp5O3JldHVyblwiY2hhbm5lbHNGaXJzdFwiPT09aT9wPVtjLFAsTyxNLEJdOlwiY2hhbm5lbHNMYXN0XCI9PT1pJiYocD1bYyxPLE0sQixQXSkse2JhdGNoU2l6ZTpjLGRhdGFGb3JtYXQ6aSxpbkRlcHRoOmwsaW5IZWlnaHQ6aCxpbldpZHRoOmYsaW5DaGFubmVsczpkLG91dERlcHRoOk8sb3V0SGVpZ2h0Ok0sb3V0V2lkdGg6QixvdXRDaGFubmVsczpQLHBhZEluZm86XyxzdHJpZGVEZXB0aDpiLHN0cmlkZUhlaWdodDp3LHN0cmlkZVdpZHRoOkUsZmlsdGVyRGVwdGg6dixmaWx0ZXJIZWlnaHQ6ZyxmaWx0ZXJXaWR0aDptLGVmZmVjdGl2ZUZpbHRlckRlcHRoOlQsZWZmZWN0aXZlRmlsdGVySGVpZ2h0OkQsZWZmZWN0aXZlRmlsdGVyV2lkdGg6TixkaWxhdGlvbkRlcHRoOkksZGlsYXRpb25IZWlnaHQ6ayxkaWxhdGlvbldpZHRoOlMsaW5TaGFwZTp0LG91dFNoYXBlOnAsZmlsdGVyU2hhcGU6ZX19ZnVuY3Rpb24gZ2EodCxlLG4scil7dm9pZCAwPT09ciYmKHI9MSk7dmFyIG89eGEoZSxyKTtyZXR1cm4gTWF0aC5mbG9vcigodFswXSoobi0xKS1uK28pLzIpfWZ1bmN0aW9uIG1hKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P1t0LHQsdF06Mj09PXQubGVuZ3RoP1t0WzBdLHRbMV0sMV06dH1mdW5jdGlvbiB5YSh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD9bdCx0LHRdOnR9ZnVuY3Rpb24geGEodCxlKXtyZXR1cm4gZTw9MT90OnQrKHQtMSkqKGUtMSl9ZnVuY3Rpb24gYmEodCxlKXtpZighZSlyZXR1cm4gdDtzd2l0Y2goZSl7Y2FzZVwicm91bmRcIjpyZXR1cm4gTWF0aC5yb3VuZCh0KTtjYXNlXCJjZWlsXCI6cmV0dXJuIE1hdGguY2VpbCh0KTtjYXNlXCJmbG9vclwiOnJldHVybiBNYXRoLmZsb29yKHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biByb3VuZGluZ01vZGUgXCIrZSl9fWZ1bmN0aW9uIHdhKHQpe3ZhciBlPW1hKHQpLG49ZVswXSxyPWVbMV0sbz1lWzJdO3JldHVybiAxPT09biYmMT09PXImJjE9PT1vfWZ1bmN0aW9uIENhKHQsZSl7cmV0dXJuIHdhKHQpfHx3YShlKX1mdW5jdGlvbiBFYSh0KXtpZihcIk5IV0NcIj09PXQpcmV0dXJuXCJjaGFubmVsc0xhc3RcIjtpZihcIk5DSFdcIj09PXQpcmV0dXJuXCJjaGFubmVsc0ZpcnN0XCI7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkYXRhRm9ybWF0IFwiK3QpfWZ1bmN0aW9uIFJhKHQsZSxuKXtpZihcImNvbXBsZXg2NFwiPT09ZSl7aWYoXCJjb21wbGV4NjRcIj09PXQuZHR5cGUpcmV0dXJuIHQuY2xvbmUoKTt2YXIgcj1Hbih0LnNoYXBlKSxvPXQudG9GbG9hdCgpLGE9bi5jb21wbGV4KG8scik7cmV0dXJuIHIuZGlzcG9zZSgpLG8uZGlzcG9zZSgpLGF9aWYoIVUodC5kdHlwZSxlKSlyZXR1cm4gTHQubWFrZVRlbnNvckZyb21EYXRhSWQodC5kYXRhSWQsdC5zaGFwZSxlKTtpZihcImNvbXBsZXg2NFwiPT09dC5kdHlwZSl7dmFyIGk9bi5yZWFsKHQpO2E9aS5jYXN0KGUpO3JldHVybiBpLmRpc3Bvc2UoKSxhfWlmKFwiaW50MzJcIj09PWUpcmV0dXJuIG4uaW50KHQpO2lmKFwiYm9vbFwiPT09ZSl7dmFyIHM9T24oMCx0LmR0eXBlKTthPW4ubm90RXF1YWwodCxzKTtyZXR1cm4gcy5kaXNwb3NlKCksYX10aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbiBDYXN0OiBmYWlsZWQgdG8gY2FzdCBcIit0LmR0eXBlK1wiIHRvIFwiK2UpfWZ1bmN0aW9uIElhKHQsZSl7cmV0dXJuIEx0Lm1ha2VUZW5zb3JGcm9tRGF0YUlkKHQuZGF0YUlkLGUsdC5kdHlwZSl9ZnVuY3Rpb24ga2EodCxlLG4pe3ZhciByPShlLXQpLyhuLTEpLG89dHQobixcImZsb2F0MzJcIik7b1swXT10O2Zvcih2YXIgYT0xO2E8by5sZW5ndGg7YSsrKW9bYV09b1thLTFdK3I7cmV0dXJuIE1uKG8sXCJmbG9hdDMyXCIpfXZhciBTYT1PYmplY3QuZnJlZXplKHtjYXN0VGVuc29yOlJhLHJlc2hhcGVUZW5zb3I6SWEsbGluc3BhY2VJbXBsOmthLHVwY2FzdFR5cGU6VHQsYXhlc0FyZUlubmVyTW9zdERpbXM6eW4sY29tYmluZUxvY2F0aW9uczp4bixjb21wdXRlT3V0QW5kUmVkdWNlU2hhcGVzOmJuLGV4cGFuZFNoYXBlVG9LZWVwRGltOnduLGFzc2VydEF4ZXNBcmVJbm5lck1vc3REaW1zOkNuLGdldEF4ZXNQZXJtdXRhdGlvbjpFbixnZXRVbmRvQXhlc1Blcm11dGF0aW9uOlJuLGdldElubmVyTW9zdEF4ZXM6SW4sZ2V0QnJvYWRjYXN0RGltczpNcixnZXRSZWR1Y3Rpb25BeGVzOkJyLGFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlOlByLGFzc2VydFBhcmFtc0NvbnNpc3RlbnQ6a24sY29tcHV0ZU91dFNoYXBlOlNuLGNvbXB1dGVQb29sMkRJbmZvOmZhLGNvbXB1dGVQb29sM0RJbmZvOmRhLGNvbXB1dGVDb252MkRJbmZvOnBhLGNvbXB1dGVDb252M0RJbmZvOnZhLGNvbXB1dGVEZWZhdWx0UGFkOmdhLHR1cGxlVmFsdWVzQXJlT25lOndhLGVpdGhlclN0cmlkZXNPckRpbGF0aW9uc0FyZU9uZTpDYSxjb252ZXJ0Q29udjJERGF0YUZvcm1hdDpFYSxQQVJBTExFTElaRV9USFJFU0hPTEQ6V28sY29tcHV0ZU9wdGltYWxXaW5kb3dTaXplOlVvfSk7ZnVuY3Rpb24gQWEodCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBtZXJnZSByZWFsIGFuZCBpbWFnIGFycmF5cyBvZiBkaWZmZXJlbnQgbGVuZ3Rocy4gcmVhbDpcIit0Lmxlbmd0aCtcIiwgaW1hZzogXCIrZS5sZW5ndGgrXCIuXCIpO2Zvcih2YXIgbj1uZXcgRmxvYXQzMkFycmF5KDIqdC5sZW5ndGgpLHI9MDtyPG4ubGVuZ3RoO3IrPTIpbltyXT10W3IvMl0sbltyKzFdPWVbci8yXTtyZXR1cm4gbn1mdW5jdGlvbiBUYSh0LGUpe3JldHVybntyZWFsOnRbMiplXSxpbWFnOnRbMiplKzFdfX1mdW5jdGlvbiBEYSh0LGUsbixyKXt0WzIqcl09ZSx0WzIqcisxXT1ufWZ1bmN0aW9uIE5hKHQsZSxuKXt2YXIgcj0obj8yOi0yKSpNYXRoLlBJKih0L2UpO3JldHVybntyZWFsOk1hdGguY29zKHIpLGltYWc6TWF0aC5zaW4ocil9fWZ1bmN0aW9uIEZhKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0wLG89dC5sZW5ndGgsYT0wLGk9ITE7Zm9yKDtyPG87KXt2YXIgcz1uKGUsdFthPXIrKG8tcj4+PjEpXSk7cz4wP3I9YSsxOihvPWEsaT0hcyl9cmV0dXJuIGk/cjotci0xfSh0LGUsbnx8X2EpfSh0LGUsbiksbz1yPDA/LShyKzEpOnI7dC5zcGxpY2UobywwLGUpfWZ1bmN0aW9uIF9hKHQsZSl7cmV0dXJuIHQ+ZT8xOnQ8ZT8tMTowfWZ1bmN0aW9uIE9hKHQsZSxuLHIsbyl7cmV0dXJuIEJhKHQsZSxuLHIsbywwKS5zZWxlY3RlZEluZGljZXN9ZnVuY3Rpb24gTWEodCxlLG4scixvLGEpe3ZhciBpPUJhKHQsZSxuLHIsbyxhLCEwKTtyZXR1cm4gaS5udW1WYWxpZE91dHB1dHMuZGlzcG9zZSgpLHtzZWxlY3RlZEluZGljZXM6aS5zZWxlY3RlZEluZGljZXMsc2VsZWN0ZWRTY29yZXM6aS5zZWxlY3RlZFNjb3Jlc319ZnVuY3Rpb24gQmEodCxlLG4scixvLGEsaSxzKXt2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9ITEpO2Zvcih2YXIgdT1BcnJheS5mcm9tKGUpLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm57c2NvcmU6dCxib3hJbmRleDplLHN1cHByZXNzQmVnaW5JbmRleDowfX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNjb3JlPm99KSkuc29ydChXYSksYz1hPjA/LS41L2E6MCxsPVtdLGg9W107bC5sZW5ndGg8biYmdS5sZW5ndGg+MDspe3ZhciBmPXUucG9wKCksZD1mLnNjb3JlLHA9Zi5ib3hJbmRleCx2PWYuc3VwcHJlc3NCZWdpbkluZGV4O2lmKGQ8bylicmVhaztmb3IodmFyIGc9ITEsbT1sLmxlbmd0aC0xO20+PXY7LS1tKXt2YXIgeT1QYSh0LHAsbFttXSk7aWYoeT49cil7Zz0hMDticmVha31pZihmLnNjb3JlPWYuc2NvcmUqTGEocixjLHkpLGYuc2NvcmU8PW8pYnJlYWt9Zi5zdXBwcmVzc0JlZ2luSW5kZXg9bC5sZW5ndGgsZ3x8KGYuc2NvcmU9PT1kPyhsLnB1c2gocCksaC5wdXNoKGYuc2NvcmUpKTpmLnNjb3JlPm8mJkZhKHUsZixXYSkpfXZhciB4PWwubGVuZ3RoO3JldHVybiBzJiYobC5maWxsKDAseCksaC5maWxsKDAseCkpLHtzZWxlY3RlZEluZGljZXM6TW4obCxcImludDMyXCIpLHNlbGVjdGVkU2NvcmVzOk1uKGgsXCJmbG9hdDMyXCIpLG51bVZhbGlkT3V0cHV0czpPbih4LFwiaW50MzJcIil9fWZ1bmN0aW9uIFBhKHQsZSxuKXt2YXIgcj10LnN1YmFycmF5KDQqZSw0KmUrNCksbz10LnN1YmFycmF5KDQqbiw0Km4rNCksYT1NYXRoLm1pbihyWzBdLHJbMl0pLGk9TWF0aC5taW4oclsxXSxyWzNdKSxzPU1hdGgubWF4KHJbMF0sclsyXSksdT1NYXRoLm1heChyWzFdLHJbM10pLGM9TWF0aC5taW4ob1swXSxvWzJdKSxsPU1hdGgubWluKG9bMV0sb1szXSksaD1NYXRoLm1heChvWzBdLG9bMl0pLGY9TWF0aC5tYXgob1sxXSxvWzNdKSxkPShzLWEpKih1LWkpLHA9KGgtYykqKGYtbCk7aWYoZDw9MHx8cDw9MClyZXR1cm4gMDt2YXIgdj1NYXRoLm1heChhLGMpLGc9TWF0aC5tYXgoaSxsKSxtPU1hdGgubWluKHMsaCkseT1NYXRoLm1pbih1LGYpLHg9TWF0aC5tYXgobS12LDApKk1hdGgubWF4KHktZywwKTtyZXR1cm4geC8oZCtwLXgpfWZ1bmN0aW9uIExhKHQsZSxuKXt2YXIgcj1NYXRoLmV4cChlKm4qbik7cmV0dXJuIG48PXQ/cjowfWZ1bmN0aW9uIFdhKHQsZSl7cmV0dXJuIHQuc2NvcmUtZS5zY29yZXx8dC5zY29yZT09PWUuc2NvcmUmJmUuYm94SW5kZXgtdC5ib3hJbmRleH1mdW5jdGlvbiBVYSh0LGUsbil7dmFyIHI9bmV3IEFycmF5KHQucmFuaykuZmlsbCgwKSxvPXQuc2hhcGUuc2xpY2UoKTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe29bbl09ZTt2YXIgYT10LnNsaWNlKHIsbyk7cmV0dXJuIHJbbl0rPWUsYX0pKX1mdW5jdGlvbiBWYSh0LGUpe2Zvcih2YXIgbj1uZXcgQXJyYXkodC5yYW5rKSxyPTA7cjxuLmxlbmd0aDtyKyspbltyXT10LnNoYXBlW3JdKmVbcl07dmFyIG89ZXIobix0LmR0eXBlKTtmb3Iocj0wO3I8by52YWx1ZXMubGVuZ3RoOysrcil7Zm9yKHZhciBhPW8uaW5kZXhUb0xvYyhyKSxpPW5ldyBBcnJheSh0LnJhbmspLHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdPWFbc10ldC5zaGFwZVtzXTt2YXIgdT10LmxvY1RvSW5kZXgoaSk7by52YWx1ZXNbcl09dC52YWx1ZXNbdV19cmV0dXJuIG8udG9UZW5zb3IoKX1mdW5jdGlvbiB6YSh0LGUsbixyLG8pe2Zvcih2YXIgYT1lW2UubGVuZ3RoLTFdLGk9W3QubGVuZ3RoL2EsYV0scz1pWzBdLHU9aVsxXSxjPUIobixzKnIpLGw9QihcImludDMyXCIscypyKSxoPTA7aDxzO2grKyl7Zm9yKHZhciBmPWgqdSxkPXQuc3ViYXJyYXkoZixmK3UpLHA9W10sdj0wO3Y8ZC5sZW5ndGg7disrKXAucHVzaCh7dmFsdWU6ZFt2XSxpbmRleDp2fSk7cC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLnZhbHVlLXQudmFsdWV9KSk7dmFyIGc9aCpyLG09Yy5zdWJhcnJheShnLGcrcikseT1sLnN1YmFycmF5KGcsZytyKTtmb3Iodj0wO3Y8cjt2KyspbVt2XT1wW3ZdLnZhbHVlLHlbdl09cFt2XS5pbmRleH12YXIgeD1lLnNsaWNlKCk7cmV0dXJuIHhbeC5sZW5ndGgtMV09cixbRm4oYyx4LG4pLEZuKGwseCxcImludDMyXCIpXX1mdW5jdGlvbiBHYSh0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspZVtyXSYmbi5wdXNoKHIpO3ZhciBvPWVyKHQsXCJpbnQzMlwiKSxhPWVyKFtuLmxlbmd0aCx0Lmxlbmd0aF0sXCJpbnQzMlwiKTtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1vLmluZGV4VG9Mb2MobltyXSkscz1yKnQubGVuZ3RoO2EudmFsdWVzLnNldChpLHMpfXJldHVybiBhLnRvVGVuc29yKCl9dmFyIEhhPWZ1bmN0aW9uKHQsZSl7dGhpcy5vdXRwdXRTaGFwZT1bXSx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy52YXJpYWJsZU5hbWVzPWUubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwiVFwiK2V9KSk7dmFyIG49W107dGhpcy52YXJpYWJsZU5hbWVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe24ucHVzaChcImZsb2F0IHZcIit0K1wiID0gZ2V0XCIrdCtcIkF0T3V0Q29vcmRzKCk7XCIpfSkpO3ZhciByPXRoaXMudmFyaWFibGVOYW1lcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwidlwiK3R9KSkuam9pbihcIiArIFwiKTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbi5qb2luKFwiXFxuICAgICAgICBcIikrXCJcXG5cXG4gICAgICAgIGZsb2F0IHJlc3VsdCA9IFwiK3IrXCI7XFxuICAgICAgICBzZXRPdXRwdXQocmVzdWx0KTtcXG4gICAgICB9XFxuICAgIFwifSxxYT1mdW5jdGlvbih0LGUpe3RoaXMub3V0cHV0U2hhcGU9W10sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMudmFyaWFibGVOYW1lcz1lLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm5cIlRcIitlfSkpO3ZhciBuPVtdO3RoaXMudmFyaWFibGVOYW1lcy5mb3JFYWNoKChmdW5jdGlvbih0KXtuLnB1c2goXCJ2ZWM0IHZcIit0K1wiID0gZ2V0XCIrdCtcIkF0T3V0Q29vcmRzKCk7XCIpfSkpO3ZhciByPXRoaXMudmFyaWFibGVOYW1lcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwidlwiK3R9KSkuam9pbihcIiArIFwiKTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbi5qb2luKFwiXFxuICAgICAgICBcIikrXCJcXG5cXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gXCIrcitcIjtcXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9LEthPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXTt2YXIgcj10LndpbmRvd1NpemUsbz10LmJhdGNoU2l6ZSxhPXQuaW5TaXplLGk9TWF0aC5jZWlsKGEvcik7bnx8dGhpcy52YXJpYWJsZU5hbWVzLnB1c2goXCJiZXN0SW5kaWNlc0FcIiksdGhpcy5vdXRwdXRTaGFwZT1bbyxpXTt2YXIgcz1cIm1heFwiPT09ZT9cIj5cIjpcIjxcIix1PW4/XCJpbk9mZnNldCArIGk7XCI6XCJyb3VuZChnZXRCZXN0SW5kaWNlc0EoYmF0Y2gsIGluT2Zmc2V0ICsgaSkpO1wiO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjMiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBvdXRJZHggPSBjb29yZHNbMV07XFxuICAgICAgICBpbnQgaW5PZmZzZXQgPSBvdXRJZHggKiBcIityK1wiO1xcblxcbiAgICAgICAgaW50IGJlc3RJbmRleCA9IGluT2Zmc2V0O1xcbiAgICAgICAgZmxvYXQgYmVzdFZhbHVlID0gZ2V0QShiYXRjaCwgYmVzdEluZGV4KTtcXG5cXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgXCIrcitcIjsgaSsrKSB7XFxuICAgICAgICAgIGludCBpbklkeCA9IFwiK3UrXCI7XFxuICAgICAgICAgIGZsb2F0IGNhbmRpZGF0ZSA9IGdldEEoYmF0Y2gsIGluSWR4KTtcXG4gICAgICAgICAgaWYgKGNhbmRpZGF0ZSBcIitzK1wiIGJlc3RWYWx1ZSkge1xcbiAgICAgICAgICAgIGJlc3RWYWx1ZSA9IGNhbmRpZGF0ZTtcXG4gICAgICAgICAgICBiZXN0SW5kZXggPSBpbklkeDtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KGZsb2F0KGJlc3RJbmRleCkpO1xcbiAgICAgIH1cXG4gICAgXCJ9O2Z1bmN0aW9uIGphKHQsZSl7cmV0dXJuW1wieFwiLFwieVwiLFwielwiLFwid1wiLFwidVwiLFwidlwiXS5zbGljZSgwLGUpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQrXCIuXCIrZX0pKX1mdW5jdGlvbiBYYSh0LGUpe3JldHVybiAxPT09ZT9bdF06amEodCxlKX1mdW5jdGlvbiBZYSgpe3ZhciB0LGUsbixyLG8sYSxzLHUsYyxsO3JldHVybiAyPT09aSgpLmdldE51bWJlcihcIldFQkdMX1ZFUlNJT05cIik/KHQ9XCIjdmVyc2lvbiAzMDAgZXNcIixlPVwiaW5cIixuPVwib3V0XCIscj1cImluXCIsbz1cInRleHR1cmVcIixhPVwib3V0cHV0Q29sb3JcIixzPVwib3V0IHZlYzQgb3V0cHV0Q29sb3I7XCIsdT1cIlxcbiAgICAgIGJvb2wgaXNuYW5fY3VzdG9tKGZsb2F0IHZhbCkge1xcbiAgICAgICAgcmV0dXJuICh2YWwgPiAwLjAgfHwgdmFsIDwgMC4wKSA/IGZhbHNlIDogdmFsICE9IDAuMDtcXG4gICAgICB9XFxuXFxuICAgICAgYnZlYzQgaXNuYW5fY3VzdG9tKHZlYzQgdmFsKSB7XFxuICAgICAgICByZXR1cm4gYnZlYzQoaXNuYW5fY3VzdG9tKHZhbC54KSxcXG4gICAgICAgICAgaXNuYW5fY3VzdG9tKHZhbC55KSwgaXNuYW5fY3VzdG9tKHZhbC56KSwgaXNuYW5fY3VzdG9tKHZhbC53KSk7XFxuICAgICAgfVxcblxcbiAgICAgICNkZWZpbmUgaXNuYW4odmFsdWUpIGlzbmFuX2N1c3RvbSh2YWx1ZSlcXG4gICAgXCIsYz1cIlwiLGw9XCJcXG4gICAgICAjZGVmaW5lIHJvdW5kKHZhbHVlKSBuZXdSb3VuZCh2YWx1ZSlcXG4gICAgICBpbnQgbmV3Um91bmQoZmxvYXQgdmFsdWUpIHtcXG4gICAgICAgIHJldHVybiBpbnQoZmxvb3IodmFsdWUgKyAwLjUpKTtcXG4gICAgICB9XFxuXFxuICAgICAgaXZlYzQgbmV3Um91bmQodmVjNCB2YWx1ZSkge1xcbiAgICAgICAgcmV0dXJuIGl2ZWM0KGZsb29yKHZhbHVlICsgdmVjNCgwLjUpKSk7XFxuICAgICAgfVxcbiAgICBcIik6KHQ9XCJcIixlPVwiYXR0cmlidXRlXCIsbj1cInZhcnlpbmdcIixyPVwidmFyeWluZ1wiLG89XCJ0ZXh0dXJlMkRcIixhPVwiZ2xfRnJhZ0NvbG9yXCIscz1cIlwiLHU9XCJcXG4gICAgICAjZGVmaW5lIGlzbmFuKHZhbHVlKSBpc25hbl9jdXN0b20odmFsdWUpXFxuICAgICAgYm9vbCBpc25hbl9jdXN0b20oZmxvYXQgdmFsKSB7XFxuICAgICAgICByZXR1cm4gKHZhbCA+IDAuIHx8IHZhbCA8IDEuIHx8IHZhbCA9PSAwLikgPyBmYWxzZSA6IHRydWU7XFxuICAgICAgfVxcbiAgICAgIGJ2ZWM0IGlzbmFuX2N1c3RvbSh2ZWM0IHZhbCkge1xcbiAgICAgICAgcmV0dXJuIGJ2ZWM0KGlzbmFuKHZhbC54KSwgaXNuYW4odmFsLnkpLCBpc25hbih2YWwueiksIGlzbmFuKHZhbC53KSk7XFxuICAgICAgfVxcbiAgICBcIixjPVwiXFxuICAgICAgdW5pZm9ybSBmbG9hdCBJTkZJTklUWTtcXG5cXG4gICAgICBib29sIGlzaW5mKGZsb2F0IHZhbCkge1xcbiAgICAgICAgcmV0dXJuIGFicyh2YWwpID09IElORklOSVRZO1xcbiAgICAgIH1cXG4gICAgICBidmVjNCBpc2luZih2ZWM0IHZhbCkge1xcbiAgICAgICAgcmV0dXJuIGVxdWFsKGFicyh2YWwpLCB2ZWM0KElORklOSVRZKSk7XFxuICAgICAgfVxcbiAgICBcIixsPVwiXFxuICAgICAgaW50IHJvdW5kKGZsb2F0IHZhbHVlKSB7XFxuICAgICAgICByZXR1cm4gaW50KGZsb29yKHZhbHVlICsgMC41KSk7XFxuICAgICAgfVxcblxcbiAgICAgIGl2ZWM0IHJvdW5kKHZlYzQgdmFsdWUpIHtcXG4gICAgICAgIHJldHVybiBpdmVjNChmbG9vcih2YWx1ZSArIHZlYzQoMC41KSkpO1xcbiAgICAgIH1cXG4gICAgXCIpLHt2ZXJzaW9uOnQsYXR0cmlidXRlOmUsdmFyeWluZ1ZzOm4sdmFyeWluZ0ZzOnIsdGV4dHVyZTJEOm8sb3V0cHV0OmEsZGVmaW5lT3V0cHV0OnMsZGVmaW5lU3BlY2lhbE5hTjp1LGRlZmluZVNwZWNpYWxJbmY6YyxkZWZpbmVSb3VuZDpsfX1mdW5jdGlvbiAkYSh0LGUsbil7dm9pZCAwPT09biYmKG49XCJpbmRleFwiKTt2YXIgcj0kKGUpO3JldHVybiByLm1hcCgoZnVuY3Rpb24oZSxvKXtyZXR1cm5cImludCBcIit0W29dK1wiID0gXCIrbitcIiAvIFwiK2UrXCI7IFwiKyhvPT09ci5sZW5ndGgtMT9cImludCBcIit0W28rMV0rXCIgPSBcIituK1wiIC0gXCIrdFtvXStcIiAqIFwiK2U6XCJpbmRleCAtPSBcIit0W29dK1wiICogXCIrZSkrXCI7XCJ9KSkuam9pbihcIlwiKX1mdW5jdGlvbiBRYSh0KXt2YXIgZT0kKHQpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoKX0pKTtyZXR1cm5cIlxcbiAgaW50IGdldEZsYXRJbmRleChpdmVjMyBjb29yZHMpIHtcXG4gICAgcmV0dXJuIGNvb3Jkcy54ICogXCIrZVswXStcIiArIGNvb3Jkcy55ICogXCIrZVsxXStcIiArIGNvb3Jkcy56O1xcbiAgfVxcblwifXZhciBKYT1cIlxcbiAgY29uc3QgZmxvYXQgRkxPQVRfTUFYID0gMS43MDE0MTE4NGUzODtcXG4gIGNvbnN0IGZsb2F0IEZMT0FUX01JTiA9IDEuMTc1NDk0MzVlLTM4O1xcblxcbiAgbG93cCB2ZWM0IGVuY29kZV9mbG9hdChoaWdocCBmbG9hdCB2KSB7XFxuICAgIGlmIChpc25hbih2KSkge1xcbiAgICAgIHJldHVybiB2ZWM0KDI1NSwgMjU1LCAyNTUsIDI1NSk7XFxuICAgIH1cXG5cXG4gICAgaGlnaHAgZmxvYXQgYXYgPSBhYnModik7XFxuXFxuICAgIGlmKGF2IDwgRkxPQVRfTUlOKSB7XFxuICAgICAgcmV0dXJuIHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKTtcXG4gICAgfSBlbHNlIGlmKHYgPiBGTE9BVF9NQVgpIHtcXG4gICAgICByZXR1cm4gdmVjNCgwLjAsIDAuMCwgMTI4LjAsIDEyNy4wKSAvIDI1NS4wO1xcbiAgICB9IGVsc2UgaWYodiA8IC1GTE9BVF9NQVgpIHtcXG4gICAgICByZXR1cm4gdmVjNCgwLjAsIDAuMCwgIDEyOC4wLCAyNTUuMCkgLyAyNTUuMDtcXG4gICAgfVxcblxcbiAgICBoaWdocCB2ZWM0IGMgPSB2ZWM0KDAsMCwwLDApO1xcblxcbiAgICBoaWdocCBmbG9hdCBlID0gZmxvb3IobG9nMihhdikpO1xcbiAgICBoaWdocCBmbG9hdCBtID0gZXhwMihmcmFjdChsb2cyKGF2KSkpIC0gMS4wO1xcblxcbiAgICBjWzJdID0gZmxvb3IoMTI4LjAgKiBtKTtcXG4gICAgbSAtPSBjWzJdIC8gMTI4LjA7XFxuICAgIGNbMV0gPSBmbG9vcigzMjc2OC4wICogbSk7XFxuICAgIG0gLT0gY1sxXSAvIDMyNzY4LjA7XFxuICAgIGNbMF0gPSBmbG9vcig4Mzg4NjA4LjAgKiBtKTtcXG5cXG4gICAgaGlnaHAgZmxvYXQgZWJpYXMgPSBlICsgMTI3LjA7XFxuICAgIGNbM10gPSBmbG9vcihlYmlhcyAvIDIuMCk7XFxuICAgIGViaWFzIC09IGNbM10gKiAyLjA7XFxuICAgIGNbMl0gKz0gZmxvb3IoZWJpYXMpICogMTI4LjA7XFxuXFxuICAgIGNbM10gKz0gMTI4LjAgKiBzdGVwKDAuMCwgLXYpO1xcblxcbiAgICByZXR1cm4gYyAvIDI1NS4wO1xcbiAgfVxcblwiO2Z1bmN0aW9uIFphKHQsZSxuLHIpe3ZhciBvPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9ayh0LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUpO3Quc2hhcGVJbmZvLmlzVW5pZm9ybT9vLnB1c2goXCJ1bmlmb3JtIGZsb2F0IFwiK3QubmFtZSsoZT4xP1wiW1wiK2UrXCJdXCI6XCJcIikrXCI7XCIpOihvLnB1c2goXCJ1bmlmb3JtIHNhbXBsZXIyRCBcIit0Lm5hbWUrXCI7XCIpLG8ucHVzaChcInVuaWZvcm0gaW50IG9mZnNldFwiK3QubmFtZStcIjtcIikpfSkpO3ZhciBhLGkscz1vLmpvaW4oXCJcXG5cIiksdT10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMSk7dmFyIHI9XCJcIjtyKz1uP2VpKHQpOnRpKHQpO3ZhciBvPXQuc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZSxhPWUubG9naWNhbFNoYXBlO28ubGVuZ3RoPD1hLmxlbmd0aCYmKHIrPW4/ZnVuY3Rpb24odCxlKXt2YXIgbixyPXQubmFtZSxvPXIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrci5zbGljZSgxKSxhPVwiZ2V0XCIrbytcIkF0T3V0Q29vcmRzXCIsaT10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUubGVuZ3RoLHM9ZS5sb2dpY2FsU2hhcGUubGVuZ3RoLHU9TXIodC5zaGFwZUluZm8ubG9naWNhbFNoYXBlLGUubG9naWNhbFNoYXBlKSxjPXVpKHMpLGw9cy1pLGg9W1wieFwiLFwieVwiLFwielwiLFwid1wiLFwidVwiLFwidlwiXTtuPTA9PT1pP1wiXCI6czwyJiZ1Lmxlbmd0aD49MT9cImNvb3JkcyA9IDA7XCI6dS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiY29vcmRzLlwiK2hbdCtsXStcIiA9IDA7XCJ9KSkuam9pbihcIlxcblwiKTt2YXIgZj1cIlwiO2Y9czwyJiZpPjA/XCJjb29yZHNcIjp0LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwiY29vcmRzLlwiK2hbZStsXX0pKS5qb2luKFwiLCBcIik7dmFyIGQ9XCJyZXR1cm4gb3V0cHV0VmFsdWU7XCIscD0xPT09ayh0LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUpLHY9MT09PWsoZS5sb2dpY2FsU2hhcGUpO2lmKDEhPT1pfHxwfHx2KXtpZihwJiYhdilkPTE9PT1zP1wiXFxuICAgICAgICByZXR1cm4gdmVjNChvdXRwdXRWYWx1ZS54LCBvdXRwdXRWYWx1ZS54LCAwLiwgMC4pO1xcbiAgICAgIFwiOlwiXFxuICAgICAgICByZXR1cm4gdmVjNChvdXRwdXRWYWx1ZS54KTtcXG4gICAgICBcIjtlbHNlIGlmKHUubGVuZ3RoKXt2YXIgZz1pLTIsbT1pLTE7dS5pbmRleE9mKGcpPi0xJiZ1LmluZGV4T2YobSk+LTE/ZD1cInJldHVybiB2ZWM0KG91dHB1dFZhbHVlLngpO1wiOnUuaW5kZXhPZihnKT4tMT9kPVwicmV0dXJuIHZlYzQob3V0cHV0VmFsdWUueCwgb3V0cHV0VmFsdWUueSwgb3V0cHV0VmFsdWUueCwgb3V0cHV0VmFsdWUueSk7XCI6dS5pbmRleE9mKG0pPi0xJiYoZD1cInJldHVybiB2ZWM0KG91dHB1dFZhbHVlLnh4LCBvdXRwdXRWYWx1ZS56eik7XCIpfX1lbHNlIGQ9XCJcXG4gICAgICByZXR1cm4gdmVjNChvdXRwdXRWYWx1ZS54eSwgb3V0cHV0VmFsdWUueHkpO1xcbiAgICBcIjtyZXR1cm5cIlxcbiAgICB2ZWM0IFwiK2ErXCIoKSB7XFxuICAgICAgXCIrYytcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICBcIituK1wiXFxuICAgICAgdmVjNCBvdXRwdXRWYWx1ZSA9IGdldFwiK28rXCIoXCIrZitcIik7XFxuICAgICAgXCIrZCtcIlxcbiAgICB9XFxuICBcIn0odCxlKTpmdW5jdGlvbih0LGUpe3ZhciBuPXQubmFtZSxyPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxvPVwiZ2V0XCIrcitcIkF0T3V0Q29vcmRzXCIsYT1lLnRleFNoYXBlLGk9dC5zaGFwZUluZm8udGV4U2hhcGUscz10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUubGVuZ3RoLHU9ZS5sb2dpY2FsU2hhcGUubGVuZ3RoO2lmKCF0LnNoYXBlSW5mby5pc1VuaWZvcm0mJnM9PT11JiZudWxsPT10LnNoYXBlSW5mby5mbGF0T2Zmc2V0JiZTKGksYSkpcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIitvK1wiKCkge1xcbiAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgcmVzdWx0VVYpO1xcbiAgICAgIH1cXG4gICAgXCI7dmFyIGMsbD11aSh1KSxoPU1yKHQuc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZSxlLmxvZ2ljYWxTaGFwZSksZj11LXMsZD1bXCJ4XCIsXCJ5XCIsXCJ6XCIsXCJ3XCIsXCJ1XCIsXCJ2XCJdO2M9MD09PXM/XCJcIjp1PDImJmgubGVuZ3RoPj0xP1wiY29vcmRzID0gMDtcIjpoLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJjb29yZHMuXCIrZFt0K2ZdK1wiID0gMDtcIn0pKS5qb2luKFwiXFxuXCIpO3ZhciBwPVwiXCI7cD11PDImJnM+MD9cImNvb3Jkc1wiOnQuc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZS5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJjb29yZHMuXCIrZFtlK2ZdfSkpLmpvaW4oXCIsIFwiKTtyZXR1cm5cIlxcbiAgICBmbG9hdCBcIitvK1wiKCkge1xcbiAgICAgIFwiK2wrXCIgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgXCIrYytcIlxcbiAgICAgIHJldHVybiBnZXRcIityK1wiKFwiK3ArXCIpO1xcbiAgICB9XFxuICBcIn0odCxlKSk7cmV0dXJuIHJ9KHQsZSxyKX0pKS5qb2luKFwiXFxuXCIpLGM9ZS50ZXhTaGFwZSxsPVlhKCksaD1mdW5jdGlvbih0KXtyZXR1cm5cIlxcbiAgICBmbG9hdCBzYW1wbGVUZXh0dXJlKHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlciwgdmVjMiB1dikge1xcbiAgICAgIHJldHVybiBcIit0LnRleHR1cmUyRCtcIih0ZXh0dXJlU2FtcGxlciwgdXYpLnI7XFxuICAgIH1cXG4gIFwifShsKSxmPWZ1bmN0aW9uKHQpe3JldHVybiB0LnZlcnNpb24rXCJcXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgICBwcmVjaXNpb24gaGlnaHAgaW50O1xcbiAgICBwcmVjaXNpb24gaGlnaHAgc2FtcGxlcjJEO1xcbiAgICBcIit0LnZhcnlpbmdGcytcIiB2ZWMyIHJlc3VsdFVWO1xcbiAgICBcIit0LmRlZmluZU91dHB1dCtcIlxcbiAgICBjb25zdCB2ZWMyIGhhbGZDUiA9IHZlYzIoMC41LCAwLjUpO1xcblxcbiAgICBzdHJ1Y3QgaXZlYzVcXG4gICAge1xcbiAgICAgIGludCB4O1xcbiAgICAgIGludCB5O1xcbiAgICAgIGludCB6O1xcbiAgICAgIGludCB3O1xcbiAgICAgIGludCB1O1xcbiAgICB9O1xcblxcbiAgICBzdHJ1Y3QgaXZlYzZcXG4gICAge1xcbiAgICAgIGludCB4O1xcbiAgICAgIGludCB5O1xcbiAgICAgIGludCB6O1xcbiAgICAgIGludCB3O1xcbiAgICAgIGludCB1O1xcbiAgICAgIGludCB2O1xcbiAgICB9O1xcblxcbiAgICB1bmlmb3JtIGZsb2F0IE5BTjtcXG4gICAgXCIrdC5kZWZpbmVTcGVjaWFsTmFOK1wiXFxuICAgIFwiK3QuZGVmaW5lU3BlY2lhbEluZitcIlxcbiAgICBcIit0LmRlZmluZVJvdW5kK1wiXFxuXFxuICAgIGludCBpbW9kKGludCB4LCBpbnQgeSkge1xcbiAgICAgIHJldHVybiB4IC0geSAqICh4IC8geSk7XFxuICAgIH1cXG5cXG4gICAgaW50IGlkaXYoaW50IGEsIGludCBiLCBmbG9hdCBzaWduKSB7XFxuICAgICAgaW50IHJlcyA9IGEgLyBiO1xcbiAgICAgIGludCBtb2QgPSBpbW9kKGEsIGIpO1xcbiAgICAgIGlmIChzaWduIDwgMC4gJiYgbW9kICE9IDApIHtcXG4gICAgICAgIHJlcyAtPSAxO1xcbiAgICAgIH1cXG4gICAgICByZXR1cm4gcmVzO1xcbiAgICB9XFxuXFxuICAgIC8vQmFzZWQgb24gdGhlIHdvcmsgb2YgRGF2ZSBIb3NraW5zXFxuICAgIC8vaHR0cHM6Ly93d3cuc2hhZGVydG95LmNvbS92aWV3LzRkalNSV1xcbiAgICAjZGVmaW5lIEhBU0hTQ0FMRTEgNDQzLjg5NzVcXG4gICAgZmxvYXQgcmFuZG9tKGZsb2F0IHNlZWQpe1xcbiAgICAgIHZlYzIgcCA9IHJlc3VsdFVWICogc2VlZDtcXG4gICAgICB2ZWMzIHAzICA9IGZyYWN0KHZlYzMocC54eXgpICogSEFTSFNDQUxFMSk7XFxuICAgICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7XFxuICAgICAgcmV0dXJuIGZyYWN0KChwMy54ICsgcDMueSkgKiBwMy56KTtcXG4gICAgfVxcblxcbiAgICBcIituaStcIlxcbiAgICBcIityaStcIlxcbiAgICBcIitvaStcIlxcbiAgXCJ9KGwpO3JldHVybiBlLmlzUGFja2VkPyhhPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuXCJcXG4gICAgaW50IGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICByZXR1cm4gMDtcXG4gICAgfVxcbiAgXCI7Y2FzZSAxOnJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPVtNYXRoLmNlaWwoZVswXS8yKSxNYXRoLmNlaWwoZVsxXS8yKV07aWYoMT09PW5bMF0pcmV0dXJuXCJcXG4gICAgICBpbnQgZ2V0T3V0cHV0Q29vcmRzKCkge1xcbiAgICAgICAgcmV0dXJuIDIgKiBpbnQocmVzdWx0VVYueCAqIFwiK25bMV0rXCIuMCk7XFxuICAgICAgfVxcbiAgICBcIjtpZigxPT09blsxXSlyZXR1cm5cIlxcbiAgICAgIGludCBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgICByZXR1cm4gMiAqIGludChyZXN1bHRVVi55ICogXCIrblswXStcIi4wKTtcXG4gICAgICB9XFxuICAgIFwiO3JldHVyblwiXFxuICAgIGludCBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyKFwiK25bMF0rXCIsIFwiK25bMV0rXCIpKTtcXG4gICAgICByZXR1cm4gMiAqIChyZXNUZXhSQy54ICogXCIrblsxXStcIiArIHJlc1RleFJDLnkpO1xcbiAgICB9XFxuICBcIn0oMCxlKTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49W01hdGguY2VpbChlWzBdLzIpLE1hdGguY2VpbChlWzFdLzIpXTtpZihTKHQsZSkpcmV0dXJuXCJcXG4gICAgICBpdmVjMiBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgICByZXR1cm4gMiAqIGl2ZWMyKHJlc3VsdFVWLnl4ICogdmVjMihcIituWzBdK1wiLCBcIituWzFdK1wiKSk7XFxuICAgICAgfVxcbiAgICBcIjt2YXIgcj1NYXRoLmNlaWwodFsxXS8yKTtyZXR1cm5cIlxcbiAgICBpdmVjMiBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyKFwiK25bMF0rXCIsIFwiK25bMV0rXCIpKTtcXG5cXG4gICAgICBpbnQgaW5kZXggPSByZXNUZXhSQy54ICogXCIrblsxXStcIiArIHJlc1RleFJDLnk7XFxuICAgICAgaW50IHIgPSAyICogKGluZGV4IC8gXCIrcitcIik7XFxuICAgICAgaW50IGMgPSBpbW9kKGluZGV4LCBcIityK1wiKSAqIDI7XFxuXFxuICAgICAgcmV0dXJuIGl2ZWMyKHIsIGMpO1xcbiAgICB9XFxuICBcIn0odCxlKTtjYXNlIDM6cmV0dXJuIG49dCxyPWUsbz1bTWF0aC5jZWlsKHJbMF0vMiksTWF0aC5jZWlsKHJbMV0vMildLGE9TWF0aC5jZWlsKG5bMl0vMiksaT1hKk1hdGguY2VpbChuWzFdLzIpLFwiXFxuICAgIGl2ZWMzIGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKHJlc3VsdFVWLnl4ICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrb1swXStcIiwgXCIrb1sxXStcIikpO1xcbiAgICAgIGludCBpbmRleCA9IHJlc1RleFJDLnggKiBcIitvWzFdK1wiICsgcmVzVGV4UkMueTtcXG5cXG4gICAgICBpbnQgYiA9IGluZGV4IC8gXCIraStcIjtcXG4gICAgICBpbmRleCAtPSBiICogXCIraStcIjtcXG5cXG4gICAgICBpbnQgciA9IDIgKiAoaW5kZXggLyBcIithK1wiKTtcXG4gICAgICBpbnQgYyA9IGltb2QoaW5kZXgsIFwiK2ErXCIpICogMjtcXG5cXG4gICAgICByZXR1cm4gaXZlYzMoYiwgciwgYyk7XFxuICAgIH1cXG4gIFwiO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtNYXRoLmNlaWwoZVswXS8yKSxNYXRoLmNlaWwoZVsxXS8yKV0scj1NYXRoLmNlaWwodFt0Lmxlbmd0aC0xXS8yKSxvPXIqTWF0aC5jZWlsKHRbdC5sZW5ndGgtMl0vMiksYT1vLGk9XCJcIixzPVwiYiwgciwgY1wiLHU9Mjt1PHQubGVuZ3RoLTE7dSsrKWEqPXRbdC5sZW5ndGgtdS0xXSxpPVwiXFxuICAgICAgaW50IGJcIit1K1wiID0gaW5kZXggLyBcIithK1wiO1xcbiAgICAgIGluZGV4IC09IGJcIit1K1wiICogXCIrYStcIjtcXG4gICAgXCIraSxzPVwiYlwiK3UrXCIsIFwiK3M7cmV0dXJuXCJcXG4gICAgaXZlY1wiK3QubGVuZ3RoK1wiIGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKHJlc3VsdFVWLnl4ICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrblswXStcIiwgXCIrblsxXStcIikpO1xcbiAgICAgIGludCBpbmRleCA9IHJlc1RleFJDLnggKiBcIituWzFdK1wiICsgcmVzVGV4UkMueTtcXG5cXG4gICAgICBcIitpK1wiXFxuXFxuICAgICAgaW50IGIgPSBpbmRleCAvIFwiK28rXCI7XFxuICAgICAgaW5kZXggLT0gYiAqIFwiK28rXCI7XFxuXFxuICAgICAgaW50IHIgPSAyICogKGluZGV4IC8gXCIrcitcIik7XFxuICAgICAgaW50IGMgPSBpbW9kKGluZGV4LCBcIityK1wiKSAqIDI7XFxuXFxuICAgICAgcmV0dXJuIGl2ZWNcIit0Lmxlbmd0aCtcIihcIitzK1wiKTtcXG4gICAgfVxcbiAgXCJ9KHQsZSl9dmFyIG4scixvLGEsaX0oZS5sb2dpY2FsU2hhcGUsYyksaT1mdW5jdGlvbih0KXtyZXR1cm5cIlxcbiAgICB2b2lkIHNldE91dHB1dCh2ZWM0IHZhbCkge1xcbiAgICAgIFwiK3Qub3V0cHV0K1wiID0gdmFsO1xcbiAgICB9XFxuICBcIn0obCkpOihhPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuXCJcXG4gICAgaW50IGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICByZXR1cm4gMDtcXG4gICAgfVxcbiAgXCI7Y2FzZSAxOnJldHVybiBmdW5jdGlvbih0LGUpe2lmKDE9PT1lWzBdKXJldHVyblwiXFxuICAgICAgaW50IGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICAgIHJldHVybiBpbnQocmVzdWx0VVYueCAqIFwiK2VbMV0rXCIuMCk7XFxuICAgICAgfVxcbiAgICBcIjtpZigxPT09ZVsxXSlyZXR1cm5cIlxcbiAgICAgIGludCBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgICByZXR1cm4gaW50KHJlc3VsdFVWLnkgKiBcIitlWzBdK1wiLjApO1xcbiAgICAgIH1cXG4gICAgXCI7cmV0dXJuXCJcXG4gICAgaW50IGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKHJlc3VsdFVWLnl4ICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrZVswXStcIiwgXCIrZVsxXStcIikpO1xcbiAgICAgIHJldHVybiByZXNUZXhSQy54ICogXCIrZVsxXStcIiArIHJlc1RleFJDLnk7XFxuICAgIH1cXG4gIFwifSgwLGUpO2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihTKHQsZSkpcmV0dXJuXCJcXG4gICAgICBpdmVjMiBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgICByZXR1cm4gaXZlYzIocmVzdWx0VVYueXggKiB2ZWMyKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIpKTtcXG4gICAgICB9XFxuICAgIFwiO2lmKDE9PT10WzFdKXJldHVyblwiXFxuICAgICAgaXZlYzIgZ2V0T3V0cHV0Q29vcmRzKCkge1xcbiAgICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrZVswXStcIiwgXCIrZVsxXStcIikpO1xcbiAgICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueCAqIFwiK2VbMV0rXCIgKyByZXNUZXhSQy55O1xcbiAgICAgICAgcmV0dXJuIGl2ZWMyKGluZGV4LCAwKTtcXG4gICAgICB9XFxuICAgIFwiO2lmKDE9PT10WzBdKXJldHVyblwiXFxuICAgICAgaXZlYzIgZ2V0T3V0cHV0Q29vcmRzKCkge1xcbiAgICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrZVswXStcIiwgXCIrZVsxXStcIikpO1xcbiAgICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueCAqIFwiK2VbMV0rXCIgKyByZXNUZXhSQy55O1xcbiAgICAgICAgcmV0dXJuIGl2ZWMyKDAsIGluZGV4KTtcXG4gICAgICB9XFxuICAgIFwiO3JldHVyblwiXFxuICAgIGl2ZWMyIGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKHJlc3VsdFVWLnl4ICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrZVswXStcIiwgXCIrZVsxXStcIikpO1xcbiAgICAgIGludCBpbmRleCA9IHJlc1RleFJDLnggKiBcIitlWzFdK1wiICsgcmVzVGV4UkMueTtcXG4gICAgICBpbnQgciA9IGluZGV4IC8gXCIrdFsxXStcIjtcXG4gICAgICBpbnQgYyA9IGluZGV4IC0gciAqIFwiK3RbMV0rXCI7XFxuICAgICAgcmV0dXJuIGl2ZWMyKHIsIGMpO1xcbiAgICB9XFxuICBcIn0odCxlKTtjYXNlIDM6cmV0dXJuIG49ZSxyPSRhKFtcInJcIixcImNcIixcImRcIl0sdCksXCJcXG4gICAgaXZlYzMgZ2V0T3V0cHV0Q29vcmRzKCkge1xcbiAgICAgIGl2ZWMyIHJlc1RleFJDID0gaXZlYzIocmVzdWx0VVYueXggKlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjMihcIituWzBdK1wiLCBcIituWzFdK1wiKSk7XFxuICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueCAqIFwiK25bMV0rXCIgKyByZXNUZXhSQy55O1xcbiAgICAgIFwiK3IrXCJcXG4gICAgICByZXR1cm4gaXZlYzMociwgYywgZCk7XFxuICAgIH1cXG4gIFwiO2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj0kYShbXCJyXCIsXCJjXCIsXCJkXCIsXCJkMlwiXSx0KTtyZXR1cm5cIlxcbiAgICBpdmVjNCBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICB2ZWMyKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIpKTtcXG4gICAgICBpbnQgaW5kZXggPSByZXNUZXhSQy54ICogXCIrZVsxXStcIiArIHJlc1RleFJDLnk7XFxuICAgICAgXCIrbitcIlxcbiAgICAgIHJldHVybiBpdmVjNChyLCBjLCBkLCBkMik7XFxuICAgIH1cXG4gIFwifSh0LGUpO2Nhc2UgNTpyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj0kYShbXCJyXCIsXCJjXCIsXCJkXCIsXCJkMlwiLFwiZDNcIl0sdCk7cmV0dXJuXCJcXG4gICAgaXZlYzUgZ2V0T3V0cHV0Q29vcmRzKCkge1xcbiAgICAgIGl2ZWMyIHJlc1RleFJDID0gaXZlYzIocmVzdWx0VVYueXggKiB2ZWMyKFwiK2VbMF0rXCIsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIitlWzFdK1wiKSk7XFxuXFxuICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueCAqIFwiK2VbMV0rXCIgKyByZXNUZXhSQy55O1xcblxcbiAgICAgIFwiK24rXCJcXG5cXG4gICAgICBpdmVjNSBvdXRTaGFwZSA9IGl2ZWM1KHIsIGMsIGQsIGQyLCBkMyk7XFxuICAgICAgcmV0dXJuIG91dFNoYXBlO1xcbiAgICB9XFxuICBcIn0odCxlKTtjYXNlIDY6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49JGEoW1wiclwiLFwiY1wiLFwiZFwiLFwiZDJcIixcImQzXCIsXCJkNFwiXSx0KTtyZXR1cm5cIlxcbiAgICBpdmVjNiBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICB2ZWMyKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIpKTtcXG4gICAgICBpbnQgaW5kZXggPSByZXNUZXhSQy54ICogXCIrZVsxXStcIiArIHJlc1RleFJDLnk7XFxuXFxuICAgICAgXCIrbitcIlxcblxcbiAgICAgIGl2ZWM2IHJlc3VsdCA9IGl2ZWM2KHIsIGMsIGQsIGQyLCBkMywgZDQpO1xcbiAgICAgIHJldHVybiByZXN1bHQ7XFxuICAgIH1cXG4gIFwifSh0LGUpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKHQubGVuZ3RoK1wiLUQgb3V0cHV0IHNhbXBsaW5nIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpfXZhciBuLHJ9KGUubG9naWNhbFNoYXBlLGMpLGk9ZnVuY3Rpb24odCl7cmV0dXJuXCJcXG4gICAgdm9pZCBzZXRPdXRwdXQoZmxvYXQgdmFsKSB7XFxuICAgICAgXCIrdC5vdXRwdXQrXCIgPSB2ZWM0KHZhbCwgMCwgMCwgMCk7XFxuICAgIH1cXG4gIFwifShsKSksciYmKGYrPWFpKSxbZixoLGkscyxhLHUsbl0uam9pbihcIlxcblwiKX1mdW5jdGlvbiB0aSh0KXt2YXIgZT10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGU7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXQubmFtZSxuPVwiZ2V0XCIrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpO2lmKHQuc2hhcGVJbmZvLmlzVW5pZm9ybSlyZXR1cm5cImZsb2F0IFwiK24rXCIoKSB7cmV0dXJuIFwiK2UrXCI7fVwiO3ZhciByPXQuc2hhcGVJbmZvLnRleFNoYXBlLG89clswXSxhPXJbMV07aWYoMT09PW8mJjE9PT1hKXJldHVyblwiXFxuICAgICAgZmxvYXQgXCIrbitcIigpIHtcXG4gICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK2UrXCIsIGhhbGZDUik7XFxuICAgICAgfVxcbiAgICBcIjt2YXIgaT10LnNoYXBlSW5mby50ZXhTaGFwZSxzPWlbMF0sdT1pWzFdLGM9aWkoZSk7cmV0dXJuXCJcXG4gICAgZmxvYXQgXCIrbitcIigpIHtcXG4gICAgICB2ZWMyIHV2ID0gdXZGcm9tRmxhdChcIitzK1wiLCBcIit1K1wiLCBcIitjK1wiKTtcXG4gICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIitlK1wiLCB1dik7XFxuICAgIH1cXG4gIFwifSh0KTtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXQubmFtZSxuPVwiZ2V0XCIrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpO2lmKHQuc2hhcGVJbmZvLmlzVW5pZm9ybSlyZXR1cm5cIlxcbiAgICAgIGZsb2F0IFwiK24rXCIoaW50IGluZGV4KSB7XFxuICAgICAgICBcIitzaSh0KStcIlxcbiAgICAgIH1cXG4gICAgXCI7dmFyIHI9dC5zaGFwZUluZm8udGV4U2hhcGUsbz1yWzBdLGE9clsxXTtpZigxPT09YSYmMT09PW8pcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIituK1wiKGludCBpbmRleCkge1xcbiAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrZStcIiwgaGFsZkNSKTtcXG4gICAgICB9XFxuICAgIFwiO3ZhciBpPWlpKGUpO2lmKDE9PT1hKXJldHVyblwiXFxuICAgICAgZmxvYXQgXCIrbitcIihpbnQgaW5kZXgpIHtcXG4gICAgICAgIHZlYzIgdXYgPSB2ZWMyKDAuNSwgKGZsb2F0KGluZGV4ICsgXCIraStcIikgKyAwLjUpIC8gXCIrbytcIi4wKTtcXG4gICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK2UrXCIsIHV2KTtcXG4gICAgICB9XFxuICAgIFwiO2lmKDE9PT1vKXJldHVyblwiXFxuICAgICAgZmxvYXQgXCIrbitcIihpbnQgaW5kZXgpIHtcXG4gICAgICAgIHZlYzIgdXYgPSB2ZWMyKChmbG9hdChpbmRleCArIFwiK2krXCIpICsgMC41KSAvIFwiK2ErXCIuMCwgMC41KTtcXG4gICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK2UrXCIsIHV2KTtcXG4gICAgICB9XFxuICAgIFwiO3JldHVyblwiXFxuICAgIGZsb2F0IFwiK24rXCIoaW50IGluZGV4KSB7XFxuICAgICAgdmVjMiB1diA9IHV2RnJvbUZsYXQoXCIrbytcIiwgXCIrYStcIiwgaW5kZXggKyBcIitpK1wiKTtcXG4gICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIitlK1wiLCB1dik7XFxuICAgIH1cXG4gIFwifSh0KTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZSxuPXQubmFtZSxyPVwiZ2V0XCIrbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuLnNsaWNlKDEpLG89dC5zaGFwZUluZm8udGV4U2hhcGU7aWYobnVsbCE9byYmUyhlLG8pKXt2YXIgYT1vWzBdLGk9b1sxXTtyZXR1cm5cIlxcbiAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wpIHtcXG4gICAgICB2ZWMyIHV2ID0gKHZlYzIoY29sLCByb3cpICsgaGFsZkNSKSAvIHZlYzIoXCIraStcIi4wLCBcIithK1wiLjApO1xcbiAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK24rXCIsIHV2KTtcXG4gICAgfVxcbiAgXCJ9dmFyIHM9TShlKSx1PXMubmV3U2hhcGUsYz1zLmtlcHREaW1zLGw9dTtpZihsLmxlbmd0aDxlLmxlbmd0aCl7dmFyIGg9Y2kodCxsKTtyZXR1cm5cIlxcbiAgICAgIFwiK3RpKGgpK1wiXFxuICAgICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sKSB7XFxuICAgICAgICByZXR1cm4gXCIrcitcIihcIitsaShbXCJyb3dcIixcImNvbFwiXSxjKStcIik7XFxuICAgICAgfVxcbiAgICBcIn1pZih0LnNoYXBlSW5mby5pc1VuaWZvcm0pcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wpIHtcXG4gICAgICAgIGludCBpbmRleCA9IHJvdW5kKGRvdCh2ZWMyKHJvdywgY29sKSwgdmVjMihcIitlWzFdK1wiLCAxKSkpO1xcbiAgICAgICAgXCIrc2kodCkrXCJcXG4gICAgICB9XFxuICAgIFwiO3ZhciBmPW9bMF0sZD1vWzFdLHA9aWkobik7aWYoMT09PWQpcmV0dXJuXCJcXG4gICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sKSB7XFxuICAgICAgZmxvYXQgaW5kZXggPSBkb3QodmVjMyhyb3csIGNvbCwgXCIrcCtcIiksIHZlYzMoXCIrZVsxXStcIiwgMSwgMSkpO1xcbiAgICAgIHZlYzIgdXYgPSB2ZWMyKDAuNSwgKGluZGV4ICsgMC41KSAvIFwiK2YrXCIuMCk7XFxuICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICB9XFxuICBcIjtpZigxPT09ZilyZXR1cm5cIlxcbiAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wpIHtcXG4gICAgICBmbG9hdCBpbmRleCA9IGRvdCh2ZWMzKHJvdywgY29sLCBcIitwK1wiKSwgdmVjMyhcIitlWzFdK1wiLCAxLCAxKSk7XFxuICAgICAgdmVjMiB1diA9IHZlYzIoKGluZGV4ICsgMC41KSAvIFwiK2QrXCIuMCwgMC41KTtcXG4gICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIituK1wiLCB1dik7XFxuICAgIH1cXG4gIFwiO3JldHVyblwiXFxuICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wpIHtcXG4gICAgLy8gRXhwbGljaXRseSB1c2UgaW50ZWdlciBvcGVyYXRpb25zIGFzIGRvdCgpIG9ubHkgd29ya3Mgb24gZmxvYXRzLlxcbiAgICBpbnQgaW5kZXggPSByb3cgKiBcIitlWzFdK1wiICsgY29sICsgXCIrcCtcIjtcXG4gICAgdmVjMiB1diA9IHV2RnJvbUZsYXQoXCIrZitcIiwgXCIrZCtcIiwgaW5kZXgpO1xcbiAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIituK1wiLCB1dik7XFxuICB9XFxuXCJ9KHQpO2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dC5zaGFwZUluZm8ubG9naWNhbFNoYXBlLG49dC5uYW1lLHI9XCJnZXRcIituLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSksbz1lWzFdKmVbMl0sYT1lWzJdLGk9TShlKSxzPWkubmV3U2hhcGUsdT1pLmtlcHREaW1zLGM9cztpZihjLmxlbmd0aDxlLmxlbmd0aCl7dmFyIGw9Y2kodCxjKTtyZXR1cm5cIlxcbiAgICAgICAgXCIrdGkobCkrXCJcXG4gICAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoKSB7XFxuICAgICAgICAgIHJldHVybiBcIityK1wiKFwiK2xpKFtcInJvd1wiLFwiY29sXCIsXCJkZXB0aFwiXSx1KStcIik7XFxuICAgICAgICB9XFxuICAgICAgXCJ9aWYodC5zaGFwZUluZm8uaXNVbmlmb3JtKXJldHVyblwiXFxuICAgICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sLCBpbnQgZGVwdGgpIHtcXG4gICAgICAgIGludCBpbmRleCA9IHJvdW5kKGRvdCh2ZWMzKHJvdywgY29sLCBkZXB0aCksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMzKFwiK28rXCIsIFwiK2ErXCIsIDEpKSk7XFxuICAgICAgICBcIitzaSh0KStcIlxcbiAgICAgIH1cXG4gICAgXCI7dmFyIGg9dC5zaGFwZUluZm8udGV4U2hhcGUsZj1oWzBdLGQ9aFsxXSxwPXQuc2hhcGVJbmZvLmZsYXRPZmZzZXQ7aWYoZD09PW8mJm51bGw9PXApcmV0dXJuXCJcXG4gICAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoKSB7XFxuICAgICAgICAgIGZsb2F0IHRleFIgPSBmbG9hdChyb3cpO1xcbiAgICAgICAgICBmbG9hdCB0ZXhDID0gZG90KHZlYzIoY29sLCBkZXB0aCksIHZlYzIoXCIrYStcIiwgMSkpO1xcbiAgICAgICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC9cXG4gICAgICAgICAgICAgICAgICAgICB2ZWMyKFwiK2QrXCIuMCwgXCIrZitcIi4wKTtcXG4gICAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICAgICAgfVxcbiAgICAgIFwiO2lmKGQ9PT1hJiZudWxsPT1wKXJldHVyblwiXFxuICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoKSB7XFxuICAgICAgZmxvYXQgdGV4UiA9IGRvdCh2ZWMyKHJvdywgY29sKSwgdmVjMihcIitlWzFdK1wiLCAxKSk7XFxuICAgICAgZmxvYXQgdGV4QyA9IGZsb2F0KGRlcHRoKTtcXG4gICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC8gdmVjMihcIitkK1wiLjAsIFwiK2YrXCIuMCk7XFxuICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICB9XFxuICBcIjt2YXIgdj1paShuKTtyZXR1cm5cIlxcbiAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoKSB7XFxuICAgICAgICAvLyBFeHBsaWNpdGx5IHVzZSBpbnRlZ2VyIG9wZXJhdGlvbnMgYXMgZG90KCkgb25seSB3b3JrcyBvbiBmbG9hdHMuXFxuICAgICAgICBpbnQgaW5kZXggPSByb3cgKiBcIitvK1wiICsgY29sICogXCIrYStcIiArIGRlcHRoICsgXCIrditcIjtcXG4gICAgICAgIHZlYzIgdXYgPSB1dkZyb21GbGF0KFwiK2YrXCIsIFwiK2QrXCIsIGluZGV4KTtcXG4gICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK24rXCIsIHV2KTtcXG4gICAgICB9XFxuICBcIn0odCk7Y2FzZSA0OnJldHVybiBmdW5jdGlvbih0KXt2YXIgZT10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUsbj10Lm5hbWUscj1cImdldFwiK24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxvPWVbM10sYT1lWzJdKm8saT1lWzFdKmEscz1NKGUpLHU9cy5uZXdTaGFwZSxjPXMua2VwdERpbXM7aWYodS5sZW5ndGg8ZS5sZW5ndGgpe3ZhciBsPWNpKHQsdSk7cmV0dXJuXCJcXG4gICAgICBcIit0aShsKStcIlxcbiAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLCBpbnQgZGVwdGgyKSB7XFxuICAgICAgICByZXR1cm4gXCIrcitcIihcIitsaShbXCJyb3dcIixcImNvbFwiLFwiZGVwdGhcIixcImRlcHRoMlwiXSxjKStcIik7XFxuICAgICAgfVxcbiAgICBcIn1pZih0LnNoYXBlSW5mby5pc1VuaWZvcm0pcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwgaW50IGRlcHRoMikge1xcbiAgICAgICAgaW50IGluZGV4ID0gcm91bmQoZG90KHZlYzQocm93LCBjb2wsIGRlcHRoLCBkZXB0aDIpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjNChcIitpK1wiLCBcIithK1wiLCBcIitvK1wiLCAxKSkpO1xcbiAgICAgICAgXCIrc2kodCkrXCJcXG4gICAgICB9XFxuICAgIFwiO3ZhciBoPXQuc2hhcGVJbmZvLmZsYXRPZmZzZXQsZj10LnNoYXBlSW5mby50ZXhTaGFwZSxkPWZbMF0scD1mWzFdO2lmKHA9PT1pJiZudWxsPT1oKXJldHVyblwiXFxuICAgICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sLCBpbnQgZGVwdGgsIGludCBkZXB0aDIpIHtcXG4gICAgICAgIGZsb2F0IHRleFIgPSBmbG9hdChyb3cpO1xcbiAgICAgICAgZmxvYXQgdGV4QyA9XFxuICAgICAgICAgICAgZG90KHZlYzMoY29sLCBkZXB0aCwgZGVwdGgyKSxcXG4gICAgICAgICAgICAgICAgdmVjMyhcIithK1wiLCBcIitvK1wiLCAxKSk7XFxuICAgICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC9cXG4gICAgICAgICAgICAgICAgICAgdmVjMihcIitwK1wiLjAsIFwiK2QrXCIuMCk7XFxuICAgICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIituK1wiLCB1dik7XFxuICAgICAgfVxcbiAgICBcIjtpZihwPT09byYmbnVsbD09aClyZXR1cm5cIlxcbiAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLCBpbnQgZGVwdGgyKSB7XFxuICAgICAgICBmbG9hdCB0ZXhSID0gZG90KHZlYzMocm93LCBjb2wsIGRlcHRoKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgdmVjMyhcIitlWzFdKmVbMl0rXCIsIFwiK2VbMl0rXCIsIDEpKTtcXG4gICAgICAgIGZsb2F0IHRleEMgPSBmbG9hdChkZXB0aDIpO1xcbiAgICAgICAgdmVjMiB1diA9ICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvXFxuICAgICAgICAgICAgICAgICAgdmVjMihcIitwK1wiLjAsIFwiK2QrXCIuMCk7XFxuICAgICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIituK1wiLCB1dik7XFxuICAgICAgfVxcbiAgICBcIjt2YXIgdj1paShuKTtyZXR1cm5cIlxcbiAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwgaW50IGRlcHRoMikge1xcbiAgICAgIC8vIEV4cGxpY2l0bHkgdXNlIGludGVnZXIgb3BlcmF0aW9ucyBhcyBkb3QoKSBvbmx5IHdvcmtzIG9uIGZsb2F0cy5cXG4gICAgICBpbnQgaW5kZXggPSByb3cgKiBcIitpK1wiICsgY29sICogXCIrYStcIiArXFxuICAgICAgICAgIGRlcHRoICogXCIrbytcIiArIGRlcHRoMjtcXG4gICAgICB2ZWMyIHV2ID0gdXZGcm9tRmxhdChcIitkK1wiLCBcIitwK1wiLCBpbmRleCArIFwiK3YrXCIpO1xcbiAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK24rXCIsIHV2KTtcXG4gICAgfVxcbiAgXCJ9KHQpO2Nhc2UgNTpyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dC5zaGFwZUluZm8ubG9naWNhbFNoYXBlLG49dC5uYW1lLHI9XCJnZXRcIituLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSksbz1lWzRdLGE9ZVszXSpvLGk9ZVsyXSphLHM9ZVsxXSppLHU9TShlKSxjPXUubmV3U2hhcGUsbD11LmtlcHREaW1zO2lmKGMubGVuZ3RoPGUubGVuZ3RoKXt2YXIgaD1jaSh0LGMpO3JldHVyblwiXFxuICAgICAgXCIrdGkoaCkrXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwgaW50IGRlcHRoMiwgaW50IGRlcHRoMykge1xcbiAgICAgICAgcmV0dXJuIFwiK3IrXCIoXCIrbGkoW1wicm93XCIsXCJjb2xcIixcImRlcHRoXCIsXCJkZXB0aDJcIixcImRlcHRoM1wiXSxsKStcIik7XFxuICAgICAgfVxcbiAgICBcIn1pZih0LnNoYXBlSW5mby5pc1VuaWZvcm0pcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwgaW50IGRlcHRoMiwgaW50IGRlcHRoMykge1xcbiAgICAgICAgZmxvYXQgaW5kZXggPSBkb3QoXFxuICAgICAgICAgIHZlYzQocm93LCBjb2wsIGRlcHRoLCBkZXB0aDIpLFxcbiAgICAgICAgICB2ZWM0KFwiK3MrXCIsIFwiK2krXCIsIFwiK2ErXCIsIFwiK28rXCIpKSArXFxuICAgICAgICAgIGRlcHRoMztcXG4gICAgICAgIFwiK3NpKHQpK1wiXFxuICAgICAgfVxcbiAgICBcIjt2YXIgZj10LnNoYXBlSW5mby5mbGF0T2Zmc2V0LGQ9dC5zaGFwZUluZm8udGV4U2hhcGUscD1kWzBdLHY9ZFsxXTtpZih2PT09cyYmbnVsbD09ZilyZXR1cm5cIlxcbiAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLCBpbnQgZGVwdGgyLCBpbnQgZGVwdGgzKSB7XFxuICAgICAgICBpbnQgdGV4UiA9IHJvdztcXG4gICAgICAgIGZsb2F0IHRleEMgPSBkb3QodmVjNChjb2wsIGRlcHRoLCBkZXB0aDIsIGRlcHRoMyksXFxuICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzQoXCIraStcIiwgXCIrYStcIiwgXCIrbytcIiwgMSkpO1xcbiAgICAgICAgdmVjMiB1diA9ICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvXFxuICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrditcIi4wLCBcIitwK1wiLjApO1xcbiAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICAgIH1cXG4gICAgXCI7aWYodj09PW8mJm51bGw9PWYpcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwgaW50IGRlcHRoMiwgaW50IGRlcHRoMykge1xcbiAgICAgICAgZmxvYXQgdGV4UiA9IGRvdChcXG4gICAgICAgICAgdmVjNChyb3csIGNvbCwgZGVwdGgsIGRlcHRoMiksXFxuICAgICAgICAgIHZlYzQoXCIrZVsxXSplWzJdKmVbM10rXCIsXFxuICAgICAgICAgICAgICAgXCIrZVsyXSplWzNdK1wiLCBcIitlWzNdK1wiLCAxKSk7XFxuICAgICAgICBpbnQgdGV4QyA9IGRlcHRoMztcXG4gICAgICAgIHZlYzIgdXYgPSAodmVjMih0ZXhDLCB0ZXhSKSArIGhhbGZDUikgL1xcbiAgICAgICAgICAgICAgICAgIHZlYzIoXCIrditcIi4wLCBcIitwK1wiLjApO1xcbiAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICAgIH1cXG4gICAgXCI7dmFyIGc9aWkobik7cmV0dXJuXCJcXG4gICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sLCBpbnQgZGVwdGgsIGludCBkZXB0aDIsIGludCBkZXB0aDMpIHtcXG4gICAgICAvLyBFeHBsaWNpdGx5IHVzZSBpbnRlZ2VyIG9wZXJhdGlvbnMgYXMgZG90KCkgb25seSB3b3JrcyBvbiBmbG9hdHMuXFxuICAgICAgaW50IGluZGV4ID0gcm93ICogXCIrcytcIiArIGNvbCAqIFwiK2krXCIgKyBkZXB0aCAqIFwiK2ErXCIgK1xcbiAgICAgICAgICBkZXB0aDIgKiBcIitvK1wiICsgZGVwdGgzICsgXCIrZytcIjtcXG4gICAgICB2ZWMyIHV2ID0gdXZGcm9tRmxhdChcIitwK1wiLCBcIit2K1wiLCBpbmRleCk7XFxuICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICB9XFxuICBcIn0odCk7Y2FzZSA2OnJldHVybiBmdW5jdGlvbih0KXt2YXIgZT10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUsbj10Lm5hbWUscj1cImdldFwiK24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxvPU0oZSksYT1vLm5ld1NoYXBlLGk9by5rZXB0RGltcztpZihhLmxlbmd0aDxlLmxlbmd0aCl7dmFyIHM9Y2kodCxhKTtyZXR1cm5cIlxcbiAgICAgIFwiK3RpKHMpK1wiXFxuICAgICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sLCBpbnQgZGVwdGgsXFxuICAgICAgICAgICAgICAgICAgICBpbnQgZGVwdGgyLCBpbnQgZGVwdGgzLCBpbnQgZGVwdGg0KSB7XFxuICAgICAgICByZXR1cm4gXCIrcitcIihcIitsaShbXCJyb3dcIixcImNvbFwiLFwiZGVwdGhcIixcImRlcHRoMlwiLFwiZGVwdGgzXCIsXCJkZXB0aDRcIl0saSkrXCIpO1xcbiAgICAgIH1cXG4gICAgXCJ9dmFyIHU9ZVs1XSxjPWVbNF0qdSxsPWVbM10qYyxoPWVbMl0qbCxmPWVbMV0qaDtpZih0LnNoYXBlSW5mby5pc1VuaWZvcm0pcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCxcXG4gICAgICAgICAgICAgICAgICBpbnQgZGVwdGgyLCBpbnQgZGVwdGgzLCBpbnQgZGVwdGg0KSB7XFxuICAgICAgICBpbnQgaW5kZXggPSByb3VuZChkb3QoXFxuICAgICAgICAgIHZlYzQocm93LCBjb2wsIGRlcHRoLCBkZXB0aDIpLFxcbiAgICAgICAgICB2ZWM0KFwiK2YrXCIsIFwiK2grXCIsIFwiK2wrXCIsIFwiK2MrXCIpKSArXFxuICAgICAgICAgIGRvdChcXG4gICAgICAgICAgICB2ZWMyKGRlcHRoMywgZGVwdGg0KSxcXG4gICAgICAgICAgICB2ZWMyKFwiK3UrXCIsIDEpKSk7XFxuICAgICAgICBcIitzaSh0KStcIlxcbiAgICAgIH1cXG4gICAgXCI7dmFyIGQ9dC5zaGFwZUluZm8uZmxhdE9mZnNldCxwPXQuc2hhcGVJbmZvLnRleFNoYXBlLHY9cFswXSxnPXBbMV07aWYoZz09PWYmJm51bGw9PWQpcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCxcXG4gICAgICAgICAgICAgICAgICAgIGludCBkZXB0aDIsIGludCBkZXB0aDMsIGludCBkZXB0aDQpIHtcXG4gICAgICAgIGludCB0ZXhSID0gcm93O1xcbiAgICAgICAgZmxvYXQgdGV4QyA9IGRvdCh2ZWM0KGNvbCwgZGVwdGgsIGRlcHRoMiwgZGVwdGgzKSxcXG4gICAgICAgICAgdmVjNChcIitoK1wiLCBcIitsK1wiLCBcIitjK1wiLCBcIit1K1wiKSkgK1xcbiAgICAgICAgICAgICAgIGZsb2F0KGRlcHRoNCk7XFxuICAgICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC9cXG4gICAgICAgICAgICAgICAgICAgdmVjMihcIitnK1wiLjAsIFwiK3YrXCIuMCk7XFxuICAgICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIituK1wiLCB1dik7XFxuICAgICAgfVxcbiAgICBcIjtpZihnPT09dSYmbnVsbD09ZClyZXR1cm5cIlxcbiAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLFxcbiAgICAgICAgICAgICAgICAgICAgaW50IGRlcHRoMiwgaW50IGRlcHRoMywgaW50IGRlcHRoNCkge1xcbiAgICAgICAgZmxvYXQgdGV4UiA9IGRvdCh2ZWM0KHJvdywgY29sLCBkZXB0aCwgZGVwdGgyKSxcXG4gICAgICAgICAgdmVjNChcIitlWzFdKmVbMl0qZVszXSplWzRdK1wiLFxcbiAgICAgICAgICAgICAgIFwiK2VbMl0qZVszXSplWzRdK1wiLFxcbiAgICAgICAgICAgICAgIFwiK2VbM10qZVs0XStcIixcXG4gICAgICAgICAgICAgICBcIitlWzRdK1wiKSkgKyBmbG9hdChkZXB0aDMpO1xcbiAgICAgICAgaW50IHRleEMgPSBkZXB0aDQ7XFxuICAgICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC9cXG4gICAgICAgICAgICAgICAgICB2ZWMyKFwiK2crXCIuMCwgXCIrditcIi4wKTtcXG4gICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK24rXCIsIHV2KTtcXG4gICAgICB9XFxuICAgIFwiO3ZhciBtPWlpKG4pO3JldHVyblwiXFxuICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLFxcbiAgICAgICAgICAgICAgICAgIGludCBkZXB0aDIsIGludCBkZXB0aDMsIGludCBkZXB0aDQpIHtcXG4gICAgICAvLyBFeHBsaWNpdGx5IHVzZSBpbnRlZ2VyIG9wZXJhdGlvbnMgYXMgZG90KCkgb25seSB3b3JrcyBvbiBmbG9hdHMuXFxuICAgICAgaW50IGluZGV4ID0gcm93ICogXCIrZitcIiArIGNvbCAqIFwiK2grXCIgKyBkZXB0aCAqIFwiK2wrXCIgK1xcbiAgICAgICAgICBkZXB0aDIgKiBcIitjK1wiICsgZGVwdGgzICogXCIrdStcIiArIGRlcHRoNCArIFwiK20rXCI7XFxuICAgICAgdmVjMiB1diA9IHV2RnJvbUZsYXQoXCIrditcIiwgXCIrZytcIiwgaW5kZXgpO1xcbiAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK24rXCIsIHV2KTtcXG4gICAgfVxcbiAgXCJ9KHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGUubGVuZ3RoK1wiLUQgaW5wdXQgc2FtcGxpbmcgaXMgbm90IHlldCBzdXBwb3J0ZWRcIil9fWZ1bmN0aW9uIGVpKHQpe3ZhciBlLG4scjtzd2l0Y2godC5zaGFwZUluZm8ubG9naWNhbFNoYXBlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBlPXQubmFtZSxuPVwiZ2V0XCIrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLHI9WWEoKSxcIlxcbiAgICB2ZWM0IFwiK24rXCIoKSB7XFxuICAgICAgcmV0dXJuIFwiK3IudGV4dHVyZTJEK1wiKFwiK2UrXCIsIGhhbGZDUik7XFxuICAgIH1cXG4gIFwiO2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dC5uYW1lLG49XCJnZXRcIitlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSkscj10LnNoYXBlSW5mby50ZXhTaGFwZSxvPVtNYXRoLmNlaWwoclswXS8yKSxNYXRoLmNlaWwoclsxXS8yKV0sYT1ZYSgpO3JldHVyblwiXFxuICAgIHZlYzQgXCIrbitcIihpbnQgaW5kZXgpIHtcXG4gICAgICB2ZWMyIHV2ID0gcGFja2VkVVZmcm9tMUQoXFxuICAgICAgICBcIitvWzBdK1wiLCBcIitvWzFdK1wiLCBpbmRleCk7XFxuICAgICAgcmV0dXJuIFwiK2EudGV4dHVyZTJEK1wiKFwiK2UrXCIsIHV2KTtcXG4gICAgfVxcbiAgXCJ9KHQpO2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dC5zaGFwZUluZm8ubG9naWNhbFNoYXBlLG49dC5uYW1lLHI9XCJnZXRcIituLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSksbz10LnNoYXBlSW5mby50ZXhTaGFwZSxhPW9bMF0saT1vWzFdLHM9WWEoKTtpZihudWxsIT1vJiZTKGUsbykpcmV0dXJuXCJcXG4gICAgICB2ZWM0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCkge1xcbiAgICAgICAgdmVjMiB1diA9ICh2ZWMyKGNvbCwgcm93KSArIGhhbGZDUikgLyB2ZWMyKFwiK2krXCIuMCwgXCIrYStcIi4wKTtcXG5cXG4gICAgICAgIHJldHVybiBcIitzLnRleHR1cmUyRCtcIihcIituK1wiLCB1dik7XFxuICAgICAgfVxcbiAgICBcIjt2YXIgdT1bTWF0aC5jZWlsKG9bMF0vMiksTWF0aC5jZWlsKG9bMV0vMildLGM9TWF0aC5jZWlsKGVbMV0vMik7cmV0dXJuXCJcXG4gICAgdmVjNCBcIityK1wiKGludCByb3csIGludCBjb2wpIHtcXG4gICAgICB2ZWMyIHV2ID0gcGFja2VkVVZmcm9tMkQoXCIrYytcIiwgXCIrdVswXStcIiwgXCIrdVsxXStcIiwgcm93LCBjb2wpO1xcbiAgICAgIHJldHVybiBcIitzLnRleHR1cmUyRCtcIihcIituK1wiLCB1dik7XFxuICAgIH1cXG4gIFwifSh0KTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZSxuPXQubmFtZSxyPVwiZ2V0XCIrbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuLnNsaWNlKDEpLG89dC5zaGFwZUluZm8udGV4U2hhcGUsYT1bTWF0aC5jZWlsKG9bMF0vMiksTWF0aC5jZWlsKG9bMV0vMildO2lmKDE9PT1lWzBdKXt2YXIgaT1lLnNsaWNlKDEpLHM9Y2kodCxpKTtyZXR1cm5cIlxcbiAgICAgICAgXCIrZWkocykrXCJcXG4gICAgICAgIHZlYzQgXCIrcitcIihpbnQgYiwgaW50IHJvdywgaW50IGNvbCkge1xcbiAgICAgICAgICByZXR1cm4gXCIrcitcIihcIitsaShbXCJiXCIsXCJyb3dcIixcImNvbFwiXSxbMSwyXSkrXCIpO1xcbiAgICAgICAgfVxcbiAgICAgIFwifXZhciB1PWFbMF0sYz1hWzFdLGw9TWF0aC5jZWlsKGVbMl0vMiksaD1sKk1hdGguY2VpbChlWzFdLzIpLGY9WWEoKTtyZXR1cm5cIlxcbiAgICB2ZWM0IFwiK3IrXCIoaW50IGIsIGludCByb3csIGludCBjb2wpIHtcXG4gICAgICB2ZWMyIHV2ID0gcGFja2VkVVZmcm9tM0QoXFxuICAgICAgICBcIit1K1wiLCBcIitjK1wiLCBcIitoK1wiLCBcIitsK1wiLCBiLCByb3csIGNvbCk7XFxuICAgICAgcmV0dXJuIFwiK2YudGV4dHVyZTJEK1wiKFwiK24rXCIsIHV2KTtcXG4gICAgfVxcbiAgXCJ9KHQpO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUsbj1lLmxlbmd0aCxyPXQubmFtZSxvPVwiZ2V0XCIrci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStyLnNsaWNlKDEpLGE9dC5zaGFwZUluZm8udGV4U2hhcGUsaT1bTWF0aC5jZWlsKGFbMF0vMiksTWF0aC5jZWlsKGFbMV0vMildLHM9aVswXSx1PWlbMV0sYz1NYXRoLmNlaWwoZVtuLTFdLzIpLGw9YypNYXRoLmNlaWwoZVtuLTJdLzIpLGg9XCJpbnQgYiwgaW50IHJvdywgaW50IGNvbFwiLGY9XCJiICogXCIrbCtcIiArIChyb3cgLyAyKSAqIFwiK2MrXCIgKyAoY29sIC8gMilcIixkPTI7ZDxuLTE7ZCsrKWg9XCJpbnQgYlwiK2QrXCIsIFwiK2gsbCo9ZVtuLWQtMV0sZj1cImJcIitkK1wiICogXCIrbCtcIiArIFwiK2Y7dmFyIHA9WWEoKTtyZXR1cm5cIlxcbiAgICB2ZWM0IFwiK28rXCIoXCIraCtcIikge1xcbiAgICAgIGludCBpbmRleCA9IFwiK2YrXCI7XFxuICAgICAgaW50IHRleFIgPSBpbmRleCAvIFwiK3UrXCI7XFxuICAgICAgaW50IHRleEMgPSBpbmRleCAtIHRleFIgKiBcIit1K1wiO1xcbiAgICAgIHZlYzIgdXYgPSAodmVjMih0ZXhDLCB0ZXhSKSArIGhhbGZDUikgLyB2ZWMyKFwiK3UrXCIsIFwiK3MrXCIpO1xcbiAgICAgIHJldHVybiBcIitwLnRleHR1cmUyRCtcIihcIityK1wiLCB1dik7XFxuICAgIH1cXG4gIFwifSh0KX19dmFyIG5pPVwiXFxudmVjMiB1dkZyb21GbGF0KGludCB0ZXhOdW1SLCBpbnQgdGV4TnVtQywgaW50IGluZGV4KSB7XFxuICBpbnQgdGV4UiA9IGluZGV4IC8gdGV4TnVtQztcXG4gIGludCB0ZXhDID0gaW5kZXggLSB0ZXhSICogdGV4TnVtQztcXG4gIHJldHVybiAodmVjMih0ZXhDLCB0ZXhSKSArIGhhbGZDUikgLyB2ZWMyKHRleE51bUMsIHRleE51bVIpO1xcbn1cXG52ZWMyIHBhY2tlZFVWZnJvbTFEKGludCB0ZXhOdW1SLCBpbnQgdGV4TnVtQywgaW50IGluZGV4KSB7XFxuICBpbnQgdGV4ZWxJbmRleCA9IGluZGV4IC8gMjtcXG4gIGludCB0ZXhSID0gdGV4ZWxJbmRleCAvIHRleE51bUM7XFxuICBpbnQgdGV4QyA9IHRleGVsSW5kZXggLSB0ZXhSICogdGV4TnVtQztcXG4gIHJldHVybiAodmVjMih0ZXhDLCB0ZXhSKSArIGhhbGZDUikgLyB2ZWMyKHRleE51bUMsIHRleE51bVIpO1xcbn1cXG5cIixyaT1cIlxcbnZlYzIgcGFja2VkVVZmcm9tMkQoaW50IHRleGVsc0luTG9naWNhbFJvdywgaW50IHRleE51bVIsXFxuICBpbnQgdGV4TnVtQywgaW50IHJvdywgaW50IGNvbCkge1xcbiAgaW50IHRleGVsSW5kZXggPSAocm93IC8gMikgKiB0ZXhlbHNJbkxvZ2ljYWxSb3cgKyAoY29sIC8gMik7XFxuICBpbnQgdGV4UiA9IHRleGVsSW5kZXggLyB0ZXhOdW1DO1xcbiAgaW50IHRleEMgPSB0ZXhlbEluZGV4IC0gdGV4UiAqIHRleE51bUM7XFxuICByZXR1cm4gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC8gdmVjMih0ZXhOdW1DLCB0ZXhOdW1SKTtcXG59XFxuXCIsb2k9XCJcXG52ZWMyIHBhY2tlZFVWZnJvbTNEKGludCB0ZXhOdW1SLCBpbnQgdGV4TnVtQyxcXG4gICAgaW50IHRleGVsc0luQmF0Y2gsIGludCB0ZXhlbHNJbkxvZ2ljYWxSb3csIGludCBiLFxcbiAgICBpbnQgcm93LCBpbnQgY29sKSB7XFxuICBpbnQgaW5kZXggPSBiICogdGV4ZWxzSW5CYXRjaCArIChyb3cgLyAyKSAqIHRleGVsc0luTG9naWNhbFJvdyArIChjb2wgLyAyKTtcXG4gIGludCB0ZXhSID0gaW5kZXggLyB0ZXhOdW1DO1xcbiAgaW50IHRleEMgPSBpbmRleCAtIHRleFIgKiB0ZXhOdW1DO1xcbiAgcmV0dXJuICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvIHZlYzIodGV4TnVtQywgdGV4TnVtUik7XFxufVxcblwiLGFpPVwiXFxuICBmbG9hdCBnZXRDaGFubmVsKHZlYzQgZnJhZywgdmVjMiBpbm5lckRpbXMpIHtcXG4gICAgdmVjMiBtb2RDb29yZCA9IG1vZChpbm5lckRpbXMsIDIuKTtcXG4gICAgcmV0dXJuIG1vZENvb3JkLnggPT0gMC4gP1xcbiAgICAgIChtb2RDb29yZC55ID09IDAuID8gZnJhZy5yIDogZnJhZy5nKSA6XFxuICAgICAgKG1vZENvb3JkLnkgPT0gMC4gPyBmcmFnLmIgOiBmcmFnLmEpO1xcbiAgfVxcbiAgZmxvYXQgZ2V0Q2hhbm5lbCh2ZWM0IGZyYWcsIGludCBkaW0pIHtcXG4gICAgZmxvYXQgbW9kQ29vcmQgPSBtb2QoZmxvYXQoZGltKSwgMi4pO1xcbiAgICByZXR1cm4gbW9kQ29vcmQgPT0gMC4gPyBmcmFnLnIgOiBmcmFnLmc7XFxuICB9XFxuXCI7ZnVuY3Rpb24gaWkodCl7cmV0dXJuXCJvZmZzZXRcIit0fWZ1bmN0aW9uIHNpKHQpe3ZhciBlPXQubmFtZSxuPWsodC5zaGFwZUluZm8ubG9naWNhbFNoYXBlKTtyZXR1cm4gbjwyP1wicmV0dXJuIFwiK2UrXCI7XCI6XCJcXG4gICAgZm9yIChpbnQgaSA9IDA7IGkgPCBcIituK1wiOyBpKyspIHtcXG4gICAgICBpZiAoaSA9PSBpbmRleCkge1xcbiAgICAgICAgcmV0dXJuIFwiK2UrXCJbaV07XFxuICAgICAgfVxcbiAgICB9XFxuICBcIn1mdW5jdGlvbiB1aSh0KXtpZih0PD0xKXJldHVyblwiaW50XCI7aWYoMj09PXQpcmV0dXJuXCJpdmVjMlwiO2lmKDM9PT10KXJldHVyblwiaXZlYzNcIjtpZig0PT09dClyZXR1cm5cIml2ZWM0XCI7aWYoNT09PXQpcmV0dXJuXCJpdmVjNVwiO2lmKDY9PT10KXJldHVyblwiaXZlYzZcIjt0aHJvdyBFcnJvcihcIkdQVSBmb3IgcmFuayBcIit0K1wiIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpfWZ1bmN0aW9uIGNpKHQsZSl7dmFyIG49SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSk7cmV0dXJuIG4uc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZT1lLG59ZnVuY3Rpb24gbGkodCxlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfSkpLmpvaW4oXCIsIFwiKX12YXIgaGk9ZnVuY3Rpb24odCxlLG4scil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsQyh0Lmxlbmd0aD4yLChmdW5jdGlvbigpe3JldHVyblwiUGFja2VkIGFyZ1wiKyhuLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSkpK1wiIHN1cHBvcnRzIG9ubHkgaW5wdXRzIHdpdGggcmFuayBhYm92ZSAyLlwifSkpO3ZhciBvPXRbdC5sZW5ndGgtMV0sYT1NYXRoLmNlaWwoby9lKTt0aGlzLm91dHB1dFNoYXBlPXQuc2xpY2UoMCwtMSksYT4xJiZ0aGlzLm91dHB1dFNoYXBlLnB1c2goYSkscnx8dGhpcy52YXJpYWJsZU5hbWVzLnB1c2goXCJiZXN0SW5kaWNlc0FcIik7dmFyIGkscyx1PXRoaXMub3V0cHV0U2hhcGUsYz11Lmxlbmd0aCxsPXVpKGMpLGg9WGEoXCJjb29yZHNcIixjKTtpZigxPT09YSl7dmFyIGY9dWkocz1jKzEpO2k9XCJcXG4gICAgICAgIFwiK2YrXCIgc291cmNlTG9jUiA9IFwiK2YrXCIoXCIraC5qb2luKCkrXCIsIDApO1xcbiAgICAgICAgKytcIitoW2MtMV0rXCI7XFxuICAgICAgICBcIitmK1wiIHNvdXJjZUxvY0cgPSBcIitmK1wiKFwiK2guam9pbigpK1wiLCAwKTtcXG4gICAgICAgICsrXCIraFtjLTJdK1wiO1xcbiAgICAgICAgXCIrZitcIiBzb3VyY2VMb2NBID0gXCIrZitcIihcIitoLmpvaW4oKStcIiwgMCk7XFxuICAgICAgICAtLVwiK2hbYy0xXStcIjtcXG4gICAgICAgIFwiK2YrXCIgc291cmNlTG9jQiA9IFwiK2YrXCIoXCIraC5qb2luKCkrXCIsIDApO1xcbiAgICAgICAgLS1cIitoW2MtMl0rXCI7XCJ9ZWxzZSBzPWMsaT1cIlxcbiAgICAgICAgXCIrbCtcIiBzb3VyY2VMb2NSID0gY29vcmRzO1xcbiAgICAgICAgKytcIitoW2MtMV0rXCI7XFxuICAgICAgICBcIitsK1wiIHNvdXJjZUxvY0cgPSBjb29yZHM7XFxuICAgICAgICArK1wiK2hbYy0yXStcIjtcXG4gICAgICAgIFwiK2wrXCIgc291cmNlTG9jQSA9IGNvb3JkcztcXG4gICAgICAgIC0tXCIraFtjLTFdK1wiO1xcbiAgICAgICAgXCIrbCtcIiBzb3VyY2VMb2NCID0gY29vcmRzO1xcbiAgICAgICAgLS1cIitoW2MtMl0rXCI7XCI7dmFyIGQ9W1wieFwiLFwieVwiLFwielwiLFwid1wiLFwidVwiLFwidlwiXS5zbGljZSgwLHMpLHA9XCIuXCIrZFtzLTFdLHY9ZC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiaW50IFwiK3R9KSksZz1YYShcInNvdXJjZUxvY1JcIixzLTEpLmNvbmNhdChcImluSWR4LnJcIiksbT1YYShcInNvdXJjZUxvY0dcIixzLTEpLmNvbmNhdChcImluSWR4LmdcIikseT1YYShcInNvdXJjZUxvY0JcIixzLTEpLmNvbmNhdChcImluSWR4LmJcIikseD1YYShcInNvdXJjZUxvY0FcIixzLTEpLmNvbmNhdChcImluSWR4LmFcIiksYj1cIm1heFwiPT09bj9cImdyZWF0ZXJUaGFuXCI6XCJsZXNzVGhhblwiLHc9cj9cIlwiOlwiXFxuICAgICAgICAgIGluSWR4ID0gcm91bmQodmVjNChnZXRCZXN0SW5kaWNlc0FDaGFubmVsKFwiK2cuam9pbigpK1wiKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEJlc3RJbmRpY2VzQUNoYW5uZWwoXCIrbS5qb2luKCkrXCIpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0QmVzdEluZGljZXNBQ2hhbm5lbChcIit5LmpvaW4oKStcIiksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRCZXN0SW5kaWNlc0FDaGFubmVsKFwiK3guam9pbigpK1wiKSkpO1wiLEU9XCJ2ZWM0KFxcbiAgICAgICAgICAgIGdldEFDaGFubmVsKFwiK2cuam9pbigpK1wiKSxcXG4gICAgICAgICAgICBoYXNOZXh0Q29sID8gZ2V0QUNoYW5uZWwoXCIrbS5qb2luKCkrXCIpIDogMC4sXFxuICAgICAgICAgICAgaGFzTmV4dFJvdyA/IGdldEFDaGFubmVsKFwiK3kuam9pbigpK1wiKSA6IDAuLFxcbiAgICAgICAgICAgIGhhc05leHRSb3cgJiYgaGFzTmV4dENvbCA/IGdldEFDaGFubmVsKFwiK3guam9pbigpK1wiKSA6IDAuKVwiLFI9cj9cIlwiOlwiXFxuICAgICAgZmxvYXQgZ2V0QmVzdEluZGljZXNBQ2hhbm5lbChcIit2LmpvaW4oKStcIikge1xcbiAgICAgICAgcmV0dXJuIGdldENoYW5uZWwoZ2V0QmVzdEluZGljZXNBKFwiK2Quam9pbigpK1wiKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyKFwiK2Quc2xpY2UoLTIpLmpvaW4oKStcIikpO1xcbiAgICAgIH1cIjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgZmxvYXQgZ2V0QUNoYW5uZWwoXCIrdi5qb2luKCkrXCIpIHtcXG4gICAgICAgIHJldHVybiBnZXRDaGFubmVsKGdldEEoXCIrZC5qb2luKCkrXCIpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyKFwiK2Quc2xpY2UoLTIpLmpvaW4oKStcIikpO1xcbiAgICAgIH1cXG4gICAgICBcIitSK1wiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbCtcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGJvb2wgaGFzTmV4dENvbCA9IFwiK2hbYy0xXStcIiA8IFwiKyh1W2MtMV0tMSkrXCI7XFxuICAgICAgICBib29sIGhhc05leHRSb3cgPSBcIitoW2MtMl0rXCIgPCBcIisodVtjLTJdLTEpK1wiO1xcbiAgICAgICAgXCIraStcIlxcbiAgICAgICAgaXZlYzQgc3JjSWR4ID0gaXZlYzQoc291cmNlTG9jUlwiK3ArXCIsIHNvdXJjZUxvY0dcIitwK1wiLFxcbiAgICAgICAgICBzb3VyY2VMb2NCXCIrcCtcIiwgc291cmNlTG9jQVwiK3ArXCIpICogXCIrZStcIjtcXG4gICAgICAgIGl2ZWM0IGluSWR4ID0gc3JjSWR4O1xcbiAgICAgICAgdmVjNCBiZXN0SW5kZXggPSB2ZWM0KGluSWR4KTtcXG4gICAgICAgIHZlYzQgYmVzdFZhbHVlID0gXCIrRStcIjtcXG5cXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgXCIrZStcIjsgaSsrKSB7XFxuICAgICAgICAgIGluSWR4ID0gc3JjSWR4O1xcbiAgICAgICAgICBcIit3K1wiXFxuICAgICAgICAgIHZlYzQgY2FuZGlkYXRlID0gXCIrRStcIjtcXG4gICAgICAgICAgYnZlYzQgbmFuID0gaXNuYW4oY2FuZGlkYXRlKTtcXG4gICAgICAgICAgYnZlYzQgcmVwbGFjZSA9IGJ2ZWM0KFxcbiAgICAgICAgICAgIHZlYzQoXCIrYitcIihjYW5kaWRhdGUsIGJlc3RWYWx1ZSkpICogKHZlYzQoMS4wKSAtIHZlYzQobmFuKSkpO1xcblxcbiAgICAgICAgICBiZXN0VmFsdWUgPSB2ZWM0KHJlcGxhY2UueCAgPyBjYW5kaWRhdGUueCA6IGJlc3RWYWx1ZS54LFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UueSAgPyBjYW5kaWRhdGUueSA6IGJlc3RWYWx1ZS55LFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UueiAgPyBjYW5kaWRhdGUueiA6IGJlc3RWYWx1ZS56LFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UudyAgPyBjYW5kaWRhdGUudyA6IGJlc3RWYWx1ZS53KTtcXG4gICAgICAgICAgYmVzdEluZGV4ID0gbWl4KGJlc3RJbmRleCwgdmVjNChpbklkeCksIHZlYzQocmVwbGFjZSkpO1xcbiAgICAgICAgICBzcmNJZHgrKztcXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChiZXN0SW5kZXgpO1xcbiAgICAgIH1cXG4gICAgXCJ9LGZpPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJkeVwiXSx0aGlzLm91dHB1dFNoYXBlPXQuaW5TaGFwZTt2YXIgZT10LmZpbHRlckhlaWdodCxuPXQuZmlsdGVyV2lkdGgscj10LnN0cmlkZUhlaWdodCxvPXQuc3RyaWRlV2lkdGgsYT10LmRpbGF0aW9uSGVpZ2h0LGk9dC5kaWxhdGlvbldpZHRoLHM9dC5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQsdT10LmVmZmVjdGl2ZUZpbHRlcldpZHRoLGM9cy0xLXQucGFkSW5mby50b3AsbD11LTEtdC5wYWRJbmZvLmxlZnQsaD0xLyhlKm4pO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCBpdmVjMiBwYWRzID0gaXZlYzIoXCIrYytcIiwgXCIrbCtcIik7XFxuICAgICAgY29uc3QgZmxvYXQgYXZnTXVsdGlwbGllciA9IGZsb2F0KFwiK2grXCIpO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGIgPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgZCA9IGNvb3Jkc1szXTtcXG5cXG4gICAgICAgIGl2ZWMyIGR5UkNDb3JuZXIgPSBjb29yZHMueXogLSBwYWRzO1xcbiAgICAgICAgaW50IGR5UkNvcm5lciA9IGR5UkNDb3JuZXIueDtcXG4gICAgICAgIGludCBkeUNDb3JuZXIgPSBkeVJDQ29ybmVyLnk7XFxuXFxuICAgICAgICAvLyBDb252b2x2ZSBkeSg/LCA/LCBkKSB3aXRoIHBvcyBtYXNrKDosIDosIGQpIHRvIGdldCBkeCh4UiwgeEMsIGQpLlxcbiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcbiAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK3MrXCI7XFxuICAgICAgICAgICAgd1IgKz0gXCIrYStcIikge1xcbiAgICAgICAgICBmbG9hdCBkeVIgPSBmbG9hdChkeVJDb3JuZXIgKyB3UikgLyBcIityK1wiLjA7XFxuXFxuICAgICAgICAgIGlmIChkeVIgPCAwLjAgfHwgZHlSID49IFwiK3Qub3V0SGVpZ2h0K1wiLjAgfHwgZnJhY3QoZHlSKSA+IDAuMCkge1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIGludCBpZHlSID0gaW50KGR5Uik7XFxuXFxuICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIit1K1wiO1xcbiAgICAgICAgICAgIHdDKz0gXCIraStcIikge1xcbiAgICAgICAgICAgIGZsb2F0IGR5QyA9IGZsb2F0KGR5Q0Nvcm5lciArIHdDKSAvIFwiK28rXCIuMDtcXG5cXG4gICAgICAgICAgICBpZiAoZHlDIDwgMC4wIHx8IGR5QyA+PSBcIit0Lm91dFdpZHRoK1wiLjAgfHxcXG4gICAgICAgICAgICAgICAgZnJhY3QoZHlDKSA+IDAuMCkge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGludCBpZHlDID0gaW50KGR5Qyk7XFxuXFxuICAgICAgICAgICAgZmxvYXQgZHlWYWx1ZSA9IGdldER5KGIsIGlkeVIsIGlkeUMsIGQpO1xcblxcbiAgICAgICAgICAgIGRvdFByb2QgKz0gZHlWYWx1ZSAqIGF2Z011bHRpcGxpZXI7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChkb3RQcm9kKTtcXG4gICAgICB9XFxuICAgIFwifSxkaT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiZHlcIl0sdGhpcy5vdXRwdXRTaGFwZT10LmluU2hhcGU7dmFyIGU9dC5maWx0ZXJEZXB0aCxuPXQuZmlsdGVySGVpZ2h0LHI9dC5maWx0ZXJXaWR0aCxvPXQuc3RyaWRlRGVwdGgsYT10LnN0cmlkZUhlaWdodCxpPXQuc3RyaWRlV2lkdGgscz10LmRpbGF0aW9uRGVwdGgsdT10LmRpbGF0aW9uSGVpZ2h0LGM9dC5kaWxhdGlvbldpZHRoLGw9dC5lZmZlY3RpdmVGaWx0ZXJEZXB0aCxoPXQuZWZmZWN0aXZlRmlsdGVySGVpZ2h0LGY9dC5lZmZlY3RpdmVGaWx0ZXJXaWR0aCxkPWwtMS10LnBhZEluZm8uZnJvbnQscD1oLTEtdC5wYWRJbmZvLnRvcCx2PWYtMS10LnBhZEluZm8ubGVmdCxnPTEvKGUqbipyKTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgaXZlYzMgcGFkcyA9IGl2ZWMzKFwiK2QrXCIsIFwiK3ArXCIsIFwiK3YrXCIpO1xcbiAgICAgIGNvbnN0IGZsb2F0IGF2Z011bHRpcGxpZXIgPSBmbG9hdChcIitnK1wiKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNSBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkcy54O1xcbiAgICAgICAgaW50IGNoID0gY29vcmRzLnU7XFxuXFxuICAgICAgICBpdmVjMyBkeUNvcm5lciA9IGl2ZWMzKGNvb3Jkcy55LCBjb29yZHMueiwgY29vcmRzLncpIC0gcGFkcztcXG4gICAgICAgIGludCBkeURDb3JuZXIgPSBkeUNvcm5lci54O1xcbiAgICAgICAgaW50IGR5UkNvcm5lciA9IGR5Q29ybmVyLnk7XFxuICAgICAgICBpbnQgZHlDQ29ybmVyID0gZHlDb3JuZXIuejtcXG5cXG4gICAgICAgIC8vIENvbnZvbHZlIGR5KD8sID8sID8sIGQpIHdpdGggcG9zIG1hc2soOiwgOiwgOiwgY2gpIHRvIGdldFxcbiAgICAgICAgLy8gZHgoeEQsIHhSLCB4QywgY2gpLlxcbiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcblxcbiAgICAgICAgZm9yIChpbnQgd0QgPSAwOyB3RCA8IFwiK2wrXCI7XFxuICAgICAgICAgICAgd0QgKz0gXCIrcytcIikge1xcbiAgICAgICAgICBmbG9hdCBkeUQgPSBmbG9hdChkeURDb3JuZXIgKyB3RCkgLyBcIitvK1wiLjA7XFxuXFxuICAgICAgICAgIGlmIChkeUQgPCAwLjAgfHwgZHlEID49IFwiK3Qub3V0RGVwdGgrXCIuMCB8fCBmcmFjdChkeUQpID4gMC4wKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgaW50IGlkeUQgPSBpbnQoZHlEKTtcXG5cXG4gICAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK2grXCI7XFxuICAgICAgICAgICAgICB3UiArPSBcIit1K1wiKSB7XFxuICAgICAgICAgICAgZmxvYXQgZHlSID0gZmxvYXQoZHlSQ29ybmVyICsgd1IpIC8gXCIrYStcIi4wO1xcblxcbiAgICAgICAgICAgIGlmIChkeVIgPCAwLjAgfHwgZHlSID49IFwiK3Qub3V0SGVpZ2h0K1wiLjAgfHxcXG4gICAgICAgICAgICAgICAgZnJhY3QoZHlSKSA+IDAuMCkge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGludCBpZHlSID0gaW50KGR5Uik7XFxuXFxuICAgICAgICAgICAgZm9yIChpbnQgd0MgPSAwOyB3QyA8IFwiK2YrXCI7XFxuICAgICAgICAgICAgICAgIHdDICs9IFwiK2MrXCIpIHtcXG4gICAgICAgICAgICAgIGZsb2F0IGR5QyA9IGZsb2F0KGR5Q0Nvcm5lciArIHdDKSAvIFwiK2krXCIuMDtcXG5cXG4gICAgICAgICAgICAgIGlmIChkeUMgPCAwLjAgfHwgZHlDID49IFwiK3Qub3V0V2lkdGgrXCIuMCB8fFxcbiAgICAgICAgICAgICAgICAgIGZyYWN0KGR5QykgPiAwLjApIHtcXG4gICAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICBpbnQgaWR5QyA9IGludChkeUMpO1xcblxcbiAgICAgICAgICAgICAgZmxvYXQgZHlWYWx1ZSA9IGdldER5KGJhdGNoLCBpZHlELCBpZHlSLCBpZHlDLCBjaCk7XFxuXFxuICAgICAgICAgICAgICBkb3RQcm9kICs9IGR5VmFsdWUgKiBhdmdNdWx0aXBsaWVyO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KGRvdFByb2QpO1xcbiAgICAgIH1cXG4gICAgXCJ9LHBpPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt0aGlzLm91dHB1dFNoYXBlPVtdLHRoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCIsXCJtZWFuXCIsXCJ2YXJpYW5jZVwiXSxQcih0LGUpLFByKHQsbik7dmFyIGk9XCIwLjBcIjtudWxsIT1yJiYoUHIodCxyKSx0aGlzLnZhcmlhYmxlTmFtZXMucHVzaChcIm9mZnNldFwiKSxpPVwiZ2V0T2Zmc2V0QXRPdXRDb29yZHMoKVwiKTt2YXIgcz1cIjEuMFwiO251bGwhPW8mJihQcih0LG8pLHRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwic2NhbGVcIikscz1cImdldFNjYWxlQXRPdXRDb29yZHMoKVwiKSx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGZsb2F0IHggPSBnZXRYQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIGZsb2F0IG1lYW4gPSBnZXRNZWFuQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIGZsb2F0IHZhcmlhbmNlID0gZ2V0VmFyaWFuY2VBdE91dENvb3JkcygpO1xcbiAgICAgICAgZmxvYXQgb2Zmc2V0ID0gXCIraStcIjtcXG4gICAgICAgIGZsb2F0IHNjYWxlID0gXCIrcytcIjtcXG4gICAgICAgIGZsb2F0IGludiA9IHNjYWxlICogaW52ZXJzZXNxcnQodmFyaWFuY2UgKyBmbG9hdChcIithK1wiKSk7XFxuICAgICAgICBzZXRPdXRwdXQoZG90KHZlYzMoeCwgLW1lYW4sIG9mZnNldCksIHZlYzMoaW52LCBpbnYsIDEpKSk7XFxuICAgICAgfVxcbiAgICBcIn0sdmk9ZnVuY3Rpb24odCxlLG4scixvLGEpe3RoaXMucGFja2VkSW5wdXRzPSEwLHRoaXMucGFja2VkT3V0cHV0PSEwLHRoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCIsXCJtZWFuXCIsXCJ2YXJpYW5jZVwiXSxQcih0LGUpLFByKHQsbik7dmFyIGk9XCJ2ZWM0KDAuMClcIjtudWxsIT1yJiYoUHIodCxyKSx0aGlzLnZhcmlhYmxlTmFtZXMucHVzaChcIm9mZnNldFwiKSxpPVwiZ2V0T2Zmc2V0QXRPdXRDb29yZHMoKVwiKTt2YXIgcz1cInZlYzQoMS4wKVwiO251bGwhPW8mJihQcih0LG8pLHRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwic2NhbGVcIikscz1cImdldFNjYWxlQXRPdXRDb29yZHMoKVwiKSx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIHZlYzQgb2Zmc2V0ID0gXCIraStcIjtcXG4gICAgICAgIHZlYzQgc2NhbGUgPSBcIitzK1wiO1xcblxcbiAgICAgICAgdmVjNCB4ID0gZ2V0WEF0T3V0Q29vcmRzKCk7XFxuICAgICAgICB2ZWM0IG1lYW4gPSBnZXRNZWFuQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIHZlYzQgdmFyaWFuY2UgPSBnZXRWYXJpYW5jZUF0T3V0Q29vcmRzKCk7XFxuXFxuICAgICAgICB2ZWM0IGludiA9IHNjYWxlICogaW52ZXJzZXNxcnQodmFyaWFuY2UgKyB2ZWM0KFwiK2ErXCIpKTtcXG5cXG4gICAgICAgIHNldE91dHB1dCgoeCAtIG1lYW4pICogaW52ICsgb2Zmc2V0KTtcXG4gICAgICB9XFxuICAgIFwifSxnaT1cInJldHVybiBhcmVhbCAqIGJyZWFsIC0gYWltYWcgKiBiaW1hZztcIixtaT1cInJldHVybiBhcmVhbCAqIGJpbWFnICsgYWltYWcgKiBicmVhbDtcIix5aT1mdW5jdGlvbih0LGUsbil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFSZWFsXCIsXCJBSW1hZ1wiLFwiQlJlYWxcIixcIkJJbWFnXCJdLHRoaXMub3V0cHV0U2hhcGU9UHIoZSxuKSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgZmxvYXQgYmluYXJ5T3BDb21wbGV4KFxcbiAgICAgICAgICBmbG9hdCBhcmVhbCwgZmxvYXQgYWltYWcsIGZsb2F0IGJyZWFsLCBmbG9hdCBiaW1hZykge1xcbiAgICAgICAgXCIrdCtcIlxcbiAgICAgIH1cXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBmbG9hdCBhcmVhbCA9IGdldEFSZWFsQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIGZsb2F0IGFpbWFnID0gZ2V0QUltYWdBdE91dENvb3JkcygpO1xcbiAgICAgICAgZmxvYXQgYnJlYWwgPSBnZXRCUmVhbEF0T3V0Q29vcmRzKCk7XFxuICAgICAgICBmbG9hdCBiaW1hZyA9IGdldEJJbWFnQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIHNldE91dHB1dChiaW5hcnlPcENvbXBsZXgoYXJlYWwsIGFpbWFnLCBicmVhbCwgYmltYWcpKTtcXG4gICAgICB9XFxuICAgIFwifSx4aT1cInJldHVybiBhICsgYjtcIixiaT1cInJldHVybiBhIC0gYjtcIix3aT1cInJldHVybiBhICogYjtcIixDaT1cIlxcbmlmIChhID09IGIpIHtcXG4gIHJldHVybiAxLjA7XFxufTtcXG5yZXR1cm4gYSAvIGI7XCIsRWk9XCJyZXR1cm4gKGEgPCAwLikgPyBiICogYSA6IGE7XCIsUmk9ZnVuY3Rpb24odCxlLG4pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCIsXCJCXCJdLHRoaXMub3V0cHV0U2hhcGU9UHIoZSxuKSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgZmxvYXQgYmluYXJ5T3BlcmF0aW9uKGZsb2F0IGEsIGZsb2F0IGIpIHtcXG4gICAgICAgIFwiK3QrXCJcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgZmxvYXQgYSA9IGdldEFBdE91dENvb3JkcygpO1xcbiAgICAgICAgZmxvYXQgYiA9IGdldEJBdE91dENvb3JkcygpO1xcbiAgICAgICAgc2V0T3V0cHV0KGJpbmFyeU9wZXJhdGlvbihhLCBiKSk7XFxuICAgICAgfVxcbiAgICBcIn0sSWk9XCJcXG4gIC8vIHZlYzQgb25lID0gdmVjNChlcXVhbChhLCBiKSk7XFxuICAvLyByZXR1cm4gb25lICsgKHZlYzQoMS4wKSAtIG9uZSkgKiBhIC8gYjtcXG4gIHZlYzQgcmVzdWx0ID0gYSAvIGI7XFxuICBpZihhLnggPT0gYi54KSB7XFxuICAgIHJlc3VsdC54ID0gMS47XFxuICB9XFxuICBpZihhLnkgPT0gYi55KSB7XFxuICAgIHJlc3VsdC55ID0gMS47XFxuICB9XFxuICBpZihhLnogPT0gYi56KSB7XFxuICAgIHJlc3VsdC56ID0gMS47XFxuICB9XFxuICBpZihhLncgPT0gYi53KSB7XFxuICAgIHJlc3VsdC53ID0gMS47XFxuICB9XFxuXFxuICByZXR1cm4gcmVzdWx0O1xcblwiLGtpPVwiXFxuICB2ZWM0IGFMZXNzVGhhblplcm8gPSB2ZWM0KGxlc3NUaGFuKGEsIHZlYzQoMC4pKSk7XFxuICByZXR1cm4gKGFMZXNzVGhhblplcm8gKiAoYiAqIGEpKSArICgodmVjNCgxLjApIC0gYUxlc3NUaGFuWmVybykgKiBhKTtcXG5cIixTaT1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj0hMSksdGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIixcIkJcIl0sdGhpcy5zdXBwb3J0c0Jyb2FkY2FzdGluZz0hMCx0aGlzLnBhY2tlZElucHV0cz0hMCx0aGlzLnBhY2tlZE91dHB1dD0hMCx0aGlzLm91dHB1dFNoYXBlPVByKGUsbik7dmFyIG89dGhpcy5vdXRwdXRTaGFwZS5sZW5ndGgsYT1cIlwiO2lmKHIpaWYoMD09PW98fDE9PT1rKHRoaXMub3V0cHV0U2hhcGUpKWE9XCJcXG4gICAgICAgICAgcmVzdWx0LnkgPSAwLjtcXG4gICAgICAgICAgcmVzdWx0LnogPSAwLjtcXG4gICAgICAgICAgcmVzdWx0LncgPSAwLjtcXG4gICAgICAgIFwiO2Vsc2UgaWYoYT1cIlxcbiAgICAgICAgICBcIit1aShvKStcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIFwiLDE9PT1vKWErPVwiXFxuICAgICAgICAgICAgcmVzdWx0LnkgPSAoY29vcmRzICsgMSkgPj0gXCIrdGhpcy5vdXRwdXRTaGFwZVswXStcIiA/IDAuIDogcmVzdWx0Lnk7XFxuICAgICAgICAgICAgcmVzdWx0LnogPSAwLjtcXG4gICAgICAgICAgICByZXN1bHQudyA9IDAuO1xcbiAgICAgICAgICBcIjtlbHNle3ZhciBpPVhhKFwiY29vcmRzXCIsbyk7YSs9XCJcXG4gICAgICAgICAgICBib29sIG5leHRSb3dPdXRPZkJvdW5kcyA9XFxuICAgICAgICAgICAgICAoXCIraVtvLTJdK1wiICsgMSkgPj0gXCIrdGhpcy5vdXRwdXRTaGFwZVtvLTJdK1wiO1xcbiAgICAgICAgICAgIGJvb2wgbmV4dENvbE91dE9mQm91bmRzID1cXG4gICAgICAgICAgICAgIChcIitpW28tMV0rXCIgKyAxKSA+PSBcIit0aGlzLm91dHB1dFNoYXBlW28tMV0rXCI7XFxuICAgICAgICAgICAgcmVzdWx0LnkgPSBuZXh0Q29sT3V0T2ZCb3VuZHMgPyAwLiA6IHJlc3VsdC55O1xcbiAgICAgICAgICAgIHJlc3VsdC56ID0gbmV4dFJvd091dE9mQm91bmRzID8gMC4gOiByZXN1bHQuejtcXG4gICAgICAgICAgICByZXN1bHQudyA9IG5leHRDb2xPdXRPZkJvdW5kcyB8fCBuZXh0Um93T3V0T2ZCb3VuZHMgPyAwLiA6IHJlc3VsdC53O1xcbiAgICAgICAgICBcIn10aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdmVjNCBiaW5hcnlPcGVyYXRpb24odmVjNCBhLCB2ZWM0IGIpIHtcXG4gICAgICAgIFwiK3QrXCJcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgdmVjNCBhID0gZ2V0QUF0T3V0Q29vcmRzKCk7XFxuICAgICAgICB2ZWM0IGIgPSBnZXRCQXRPdXRDb29yZHMoKTtcXG5cXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gYmluYXJ5T3BlcmF0aW9uKGEsIGIpO1xcbiAgICAgICAgXCIrYStcIlxcblxcbiAgICAgICAgc2V0T3V0cHV0KHJlc3VsdCk7XFxuICAgICAgfVxcbiAgICBcIn0sQWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdLHRoaXMub3V0cHV0U2hhcGU9dCx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdW5pZm9ybSBmbG9hdCBtaW5WYWw7XFxuICAgICAgdW5pZm9ybSBmbG9hdCBtYXhWYWw7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgZmxvYXQgdmFsdWUgPSBnZXRBQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIGlmIChpc25hbih2YWx1ZSkpIHtcXG4gICAgICAgICAgc2V0T3V0cHV0KHZhbHVlKTtcXG4gICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgc2V0T3V0cHV0KGNsYW1wKHZhbHVlLCBtaW5WYWwsIG1heFZhbCkpO1xcbiAgICAgIH1cXG4gICAgXCJ9cmV0dXJuIHQucHJvdG90eXBlLmdldEN1c3RvbVNldHVwRnVuYz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIsbyl7bnVsbD09bi5taW5Mb2MmJihuLm1pbkxvYz1yLmdldFVuaWZvcm1Mb2NhdGlvbk5vVGhyb3cobyxcIm1pblZhbFwiKSxuLm1heExvYz1yLmdldFVuaWZvcm1Mb2NhdGlvbk5vVGhyb3cobyxcIm1heFZhbFwiKSksci5nbC51bmlmb3JtMWYobi5taW5Mb2MsdCksci5nbC51bmlmb3JtMWYobi5tYXhMb2MsZSl9fSx0fSgpLFRpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMCx0aGlzLnBhY2tlZE91dHB1dD0hMCx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHVuaWZvcm0gZmxvYXQgbWluVmFsO1xcbiAgICAgIHVuaWZvcm0gZmxvYXQgbWF4VmFsO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIHZlYzQgdmFsdWUgPSBnZXRBQXRPdXRDb29yZHMoKTtcXG5cXG4gICAgICAgIGlmIChhbnkoaXNuYW4odmFsdWUpKSkge1xcbiAgICAgICAgICBzZXRPdXRwdXQodmFsdWUpO1xcbiAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgICBzZXRPdXRwdXQoY2xhbXAodmFsdWUsIHZlYzQobWluVmFsKSwgdmVjNChtYXhWYWwpKSk7XFxuICAgICAgfVxcbiAgICBcIn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0Q3VzdG9tU2V0dXBGdW5jPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24ocixvKXtudWxsPT1uLm1pbkxvYyYmKG4ubWluTG9jPXIuZ2V0VW5pZm9ybUxvY2F0aW9uTm9UaHJvdyhvLFwibWluVmFsXCIpLG4ubWF4TG9jPXIuZ2V0VW5pZm9ybUxvY2F0aW9uTm9UaHJvdyhvLFwibWF4VmFsXCIpKSxyLmdsLnVuaWZvcm0xZihuLm1pbkxvYyx0KSxyLmdsLnVuaWZvcm0xZihuLm1heExvYyxlKX19LHR9KCksRGk9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInJlYWxcIixcImltYWdcIl0sdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBmbG9hdCByZSA9IGFicyhnZXRSZWFsQXRPdXRDb29yZHMoKSk7XFxuICAgICAgICBmbG9hdCBpbSA9IGFicyhnZXRJbWFnQXRPdXRDb29yZHMoKSk7XFxuICAgICAgICBmbG9hdCBteCA9IG1heChyZSwgaW0pO1xcblxcbiAgICAgICAgLy8gc2FkbHkgdGhlIGxlbmd0aCBmdW5jdGlvbiBpbiBnbHNsIGlzIG5vdCB1bmRlcmZsb3ctc2FmZVxcbiAgICAgICAgLy8gKGF0IGxlYXN0IG5vdCBvbiBJbnRlbCBHUFVzKS4gU28gdGhlIHNhZmUgc29sdXRpb24gaXNcXG4gICAgICAgIC8vIHRvIGVuc3VyZSB1bmRlcmZsb3ctc2FmZXR5IGluIGFsbCBjYXNlcy5cXG4gICAgICAgIHNldE91dHB1dChcXG4gICAgICAgICAgbXggPT0gMC4wID8gMC4wIDogbXggKiBsZW5ndGgodmVjMigxLCBtaW4ocmUsIGltKS9teCkpXFxuICAgICAgICApO1xcbiAgICAgIH1cXG4gICAgXCJ9LE5pPWZ1bmN0aW9uKHQpe3RoaXMub3V0cHV0U2hhcGU9W10sdGhpcy5vdXRwdXRTaGFwZT1Tbih0LDEpLHRoaXMudmFyaWFibGVOYW1lcz10Lm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm5cIlRcIitlfSkpO3ZhciBlPW5ldyBBcnJheSh0Lmxlbmd0aC0xKTtlWzBdPXRbMF1bMV07Zm9yKHZhciBuPTE7bjxlLmxlbmd0aDtuKyspZVtuXT1lW24tMV0rdFtuXVsxXTt2YXIgcj1bXCJpZiAoeUMgPCBcIitlWzBdK1wiKSBzZXRPdXRwdXQoZ2V0VDAoeVIsIHlDKSk7XCJdO2ZvcihuPTE7bjxlLmxlbmd0aDtuKyspe3ZhciBvPWVbbi0xXTtyLnB1c2goXCJlbHNlIGlmICh5QyA8IFwiK2Vbbl0rXCIpIHNldE91dHB1dChnZXRUXCIrbitcIih5UiwgeUMtXCIrbytcIikpO1wiKX12YXIgYT1lLmxlbmd0aCxpPWVbZS5sZW5ndGgtMV07ci5wdXNoKFwiZWxzZSBzZXRPdXRwdXQoZ2V0VFwiK2ErXCIoeVIsIHlDLVwiK2krXCIpKTtcIiksdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMyIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IHlSID0gY29vcmRzLng7XFxuICAgICAgICBpbnQgeUMgPSBjb29yZHMueTtcXG5cXG4gICAgICAgIFwiK3Iuam9pbihcIlxcbiAgICAgICAgXCIpK1wiXFxuICAgICAgfVxcbiAgICBcIn0sRmk9ZnVuY3Rpb24odCxlKXt0aGlzLnBhY2tlZElucHV0cz0hMCx0aGlzLnBhY2tlZE91dHB1dD0hMCx0aGlzLm91dHB1dFNoYXBlPVtdLHRoaXMub3V0cHV0U2hhcGU9U24odCxlKTt2YXIgbj10aGlzLm91dHB1dFNoYXBlLHI9bi5sZW5ndGgsbz11aShyKSxhPVhhKFwiY29vcmRzXCIsciksaT1bXCJ4XCIsXCJ5XCIsXCJ6XCIsXCJ3XCIsXCJ1XCIsXCJ2XCJdLnNsaWNlKDAscik7dGhpcy52YXJpYWJsZU5hbWVzPXQubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwiVFwiK2V9KSk7dmFyIHM9bmV3IEFycmF5KHQubGVuZ3RoLTEpO3NbMF09dFswXVtlXTtmb3IodmFyIHU9MTt1PHMubGVuZ3RoO3UrKylzW3VdPXNbdS0xXSt0W3VdW2VdO3ZhciBjPWlbZV0sbD1pLnNsaWNlKC0yKSxoPWkuam9pbigpLGY9XCJpZiAoXCIrYytcIiA8IFwiK3NbMF0rXCIpIHtcXG4gICAgICAgIHJldHVybiBnZXRDaGFubmVsKFxcbiAgICAgICAgICAgIGdldFQwKFwiK2grXCIpLCB2ZWMyKFwiK2wuam9pbigpK1wiKSk7XFxuICAgICAgICB9XCI7Zm9yKHU9MTt1PHMubGVuZ3RoO3UrKyl7dmFyIGQ9c1t1LTFdO2YrPVwiXFxuICAgICAgICBpZiAoXCIrYytcIiA8IFwiK3NbdV0rXCIgICYmIFwiK2MrXCIgPj0gXCIrc1t1LTFdK1wiKSB7XFxuICAgICAgICAgIHJldHVybiBnZXRDaGFubmVsKFxcbiAgICAgICAgICAgIGdldFRcIit1K1wiKFwiK19pKGksYyxkKStcIiksXFxuICAgICAgICAgICAgdmVjMihcIitfaShsLGMsZCkrXCIpKTtcXG4gICAgICAgIH1cIn12YXIgcD1zLmxlbmd0aCx2PXNbcy5sZW5ndGgtMV07Zis9XCJcXG4gICAgICAgIHJldHVybiBnZXRDaGFubmVsKFxcbiAgICAgICAgICBnZXRUXCIrcCtcIihcIitfaShpLGMsdikrXCIpLFxcbiAgICAgICAgICB2ZWMyKFwiK19pKGwsYyx2KStcIikpO1wiLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICBmbG9hdCBnZXRWYWx1ZShcIitpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJpbnQgXCIrdH0pKStcIikge1xcbiAgICAgICAgXCIrZitcIlxcbiAgICAgIH1cXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBcIitvK1wiIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KGdldFZhbHVlKFwiK2ErXCIpLCAwLiwgMC4sIDAuKTtcXG5cXG4gICAgICAgIFwiK2Fbci0xXStcIiA9IFwiK2Fbci0xXStcIiArIDE7XFxuICAgICAgICBpZiAoXCIrYVtyLTFdK1wiIDwgXCIrbltyLTFdK1wiKSB7XFxuICAgICAgICAgIHJlc3VsdC5nID0gZ2V0VmFsdWUoXCIrYStcIik7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBcIithW3ItMl0rXCIgPSBcIithW3ItMl0rXCIgKyAxO1xcbiAgICAgICAgaWYgKFwiK2Fbci0yXStcIiA8IFwiK25bci0yXStcIikge1xcbiAgICAgICAgICByZXN1bHQuYSA9IGdldFZhbHVlKFwiK2ErXCIpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgXCIrYVtyLTFdK1wiID0gXCIrYVtyLTFdK1wiIC0gMTtcXG4gICAgICAgIGlmIChcIithW3ItMl0rXCIgPCBcIituW3ItMl0rXCIgJiZcXG4gICAgICAgICAgICBcIithW3ItMV0rXCIgPCBcIituW3ItMV0rXCIpIHtcXG4gICAgICAgICAgcmVzdWx0LmIgPSBnZXRWYWx1ZShcIithK1wiKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9O2Z1bmN0aW9uIF9pKHQsZSxuKXt2YXIgcj10LmluZGV4T2YoZSk7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBlPT09cj90K1wiIC0gXCIrbjp0fSkpLmpvaW4oKX12YXIgT2k9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIixcImR5XCJdLHRoaXMub3V0cHV0U2hhcGU9dC5maWx0ZXJTaGFwZTt2YXIgZT10LnN0cmlkZUhlaWdodCxuPXQuc3RyaWRlV2lkdGgscj10LnBhZEluZm8udG9wLG89dC5wYWRJbmZvLmxlZnQsYT1cImNoYW5uZWxzTGFzdFwiPT09dC5kYXRhRm9ybWF0O3RoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCB3UiA9IGNvb3Jkcy54O1xcbiAgICAgICAgaW50IHdDID0gY29vcmRzLnk7XFxuICAgICAgICBpbnQgZDEgPSBjb29yZHMuejtcXG4gICAgICAgIGludCBkMiA9IGNvb3Jkcy53O1xcblxcbiAgICAgICAgLy8gQ29udm9sdmUgeCg/LCA/LCBkMSkgd2l0aCBkeSg6LCA6LCBkMikgdG8gZ2V0IGR3KHdSLCB3QywgZDEsIGQyKS5cXG4gICAgICAgIC8vID8gPSB0byBiZSBkZXRlcm1pbmVkLiA6ID0gYWNyb3NzIGFsbCB2YWx1ZXMgaW4gdGhhdCBheGlzLlxcbiAgICAgICAgZmxvYXQgZG90UHJvZCA9IDAuMDtcXG5cXG4gICAgICAgIGZvciAoaW50IGIgPSAwOyBiIDwgXCIrdC5iYXRjaFNpemUrXCI7IGIrKykge1xcbiAgICAgICAgICBmb3IgKGludCB5UiA9IDA7IHlSIDwgXCIrdC5vdXRIZWlnaHQrXCI7IHlSKyspIHtcXG4gICAgICAgICAgICBpbnQgeFIgPSB3UiArIHlSICogXCIrZStcIiAtIFwiK3IrXCI7XFxuXFxuICAgICAgICAgICAgaWYgKHhSIDwgMCB8fCB4UiA+PSBcIit0LmluSGVpZ2h0K1wiKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgZm9yIChpbnQgeUMgPSAwOyB5QyA8IFwiK3Qub3V0V2lkdGgrXCI7IHlDKyspIHtcXG4gICAgICAgICAgICAgIGludCB4QyA9IHdDICsgeUMgKiBcIituK1wiIC0gXCIrbytcIjtcXG5cXG4gICAgICAgICAgICAgIGlmICh4QyA8IDAgfHwgeEMgPj0gXCIrdC5pbldpZHRoK1wiKSB7XFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgaWYgKFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgZmxvYXQgZHlWYWx1ZSA9IGdldER5KGIsIHlSLCB5QywgZDIpO1xcbiAgICAgICAgICAgICAgICBmbG9hdCB4VmFsdWUgPSBnZXRYKGIsIHhSLCB4QywgZDEpO1xcbiAgICAgICAgICAgICAgICBkb3RQcm9kICs9ICh4VmFsdWUgKiBkeVZhbHVlKTtcXG4gICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIGZsb2F0IGR5VmFsdWUgPSBnZXREeShiLCBkMiwgeVIsIHlDKTtcXG4gICAgICAgICAgICAgICAgZmxvYXQgeFZhbHVlID0gZ2V0WChiLCBkMSwgeFIsIHhDKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSAoeFZhbHVlICogZHlWYWx1ZSk7XFxuICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQoZG90UHJvZCk7XFxuICAgICAgfVxcbiAgICBcIn0sTWk9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcImR5XCIsXCJXXCJdLHRoaXMub3V0cHV0U2hhcGU9dC5pblNoYXBlO3ZhciBlPXQuZmlsdGVySGVpZ2h0LG49dC5maWx0ZXJXaWR0aCxyPXQuc3RyaWRlSGVpZ2h0LG89dC5zdHJpZGVXaWR0aCxhPVwiY2hhbm5lbHNMYXN0XCI9PT10LmRhdGFGb3JtYXQsaT1lLTEtdC5wYWRJbmZvLnRvcCxzPW4tMS10LnBhZEluZm8ubGVmdCx1PWE/MToyLGM9YT8yOjMsbD1hPzM6MTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgaXZlYzIgcGFkcyA9IGl2ZWMyKFwiK2krXCIsIFwiK3MrXCIpO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGJhdGNoID0gY29vcmRzWzBdO1xcbiAgICAgICAgaW50IGQxID0gY29vcmRzW1wiK2wrXCJdO1xcblxcbiAgICAgICAgaXZlYzIgZHlDb3JuZXIgPSBpdmVjMihjb29yZHNbXCIrdStcIl0sIGNvb3Jkc1tcIitjK1wiXSkgLSBwYWRzO1xcbiAgICAgICAgaW50IGR5UkNvcm5lciA9IGR5Q29ybmVyLng7XFxuICAgICAgICBpbnQgZHlDQ29ybmVyID0gZHlDb3JuZXIueTtcXG5cXG4gICAgICAgIC8vIENvbnZvbHZlIGR5KD8sID8sIGQyKSB3aXRoIHcoOiwgOiwgZDEsIGQyKSB0byBjb21wdXRlIGR4KHhSLCB4QywgZDEpLlxcbiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcbiAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK2UrXCI7IHdSKyspIHtcXG4gICAgICAgICAgZmxvYXQgZHlSID0gZmxvYXQoZHlSQ29ybmVyICsgd1IpIC8gXCIrcitcIi4wO1xcblxcbiAgICAgICAgICBpZiAoZHlSIDwgMC4wIHx8IGR5UiA+PSBcIit0Lm91dEhlaWdodCtcIi4wIHx8IGZyYWN0KGR5UikgPiAwLjApIHtcXG4gICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBpbnQgaWR5UiA9IGludChkeVIpO1xcblxcbiAgICAgICAgICBpbnQgd1JQZXJtID0gXCIrZStcIiAtIDEgLSB3UjtcXG5cXG4gICAgICAgICAgZm9yIChpbnQgd0MgPSAwOyB3QyA8IFwiK24rXCI7IHdDKyspIHtcXG4gICAgICAgICAgICBmbG9hdCBkeUMgPSBmbG9hdChkeUNDb3JuZXIgKyB3QykgLyBcIitvK1wiLjA7XFxuXFxuICAgICAgICAgICAgaWYgKGR5QyA8IDAuMCB8fCBkeUMgPj0gXCIrdC5vdXRXaWR0aCtcIi4wIHx8XFxuICAgICAgICAgICAgICAgIGZyYWN0KGR5QykgPiAwLjApIHtcXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpbnQgaWR5QyA9IGludChkeUMpO1xcblxcbiAgICAgICAgICAgIGludCB3Q1Blcm0gPSBcIituK1wiIC0gMSAtIHdDO1xcblxcbiAgICAgICAgICAgIGZvciAoaW50IGQyID0gMDsgZDIgPCBcIit0Lm91dENoYW5uZWxzK1wiOyBkMisrKSB7XFxuXFxuICAgICAgICAgICAgICBpZiAoXCIrYStcIikge1xcbiAgICAgICAgICAgICAgICBmbG9hdCB4VmFsdWUgPSBnZXREeShiYXRjaCwgaWR5UiwgaWR5QywgZDIpO1xcbiAgICAgICAgICAgICAgICBmbG9hdCB3VmFsdWUgPSBnZXRXKHdSUGVybSwgd0NQZXJtLCBkMSwgZDIpO1xcbiAgICAgICAgICAgICAgICBkb3RQcm9kICs9IHhWYWx1ZSAqIHdWYWx1ZTtcXG4gICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIGZsb2F0IHhWYWx1ZSA9IGdldER5KGJhdGNoLCBkMiwgaWR5UiwgaWR5Qyk7XFxuICAgICAgICAgICAgICAgIGZsb2F0IHdWYWx1ZSA9IGdldFcod1JQZXJtLCB3Q1Blcm0sIGQxLCBkMik7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0geFZhbHVlICogd1ZhbHVlO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KGRvdFByb2QpO1xcbiAgICAgIH1cXG4gICAgXCJ9LEJpPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCIsXCJkeVwiXSx0aGlzLm91dHB1dFNoYXBlPXQuZmlsdGVyU2hhcGU7dmFyIGU9dC5zdHJpZGVEZXB0aCxuPXQuc3RyaWRlSGVpZ2h0LHI9dC5zdHJpZGVXaWR0aCxvPXQucGFkSW5mby5mcm9udCxhPXQucGFkSW5mby50b3AsaT10LnBhZEluZm8ubGVmdDt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzUgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgd0YgPSBjb29yZHMueDtcXG4gICAgICAgIGludCB3UiA9IGNvb3Jkcy55O1xcbiAgICAgICAgaW50IHdDID0gY29vcmRzLno7XFxuICAgICAgICBpbnQgZDEgPSBjb29yZHMudztcXG4gICAgICAgIGludCBkMiA9IGNvb3Jkcy51O1xcblxcbiAgICAgICAgZmxvYXQgZG90UHJvZCA9IDAuMDtcXG5cXG4gICAgICAgIGZvciAoaW50IGIgPSAwOyBiIDwgXCIrdC5iYXRjaFNpemUrXCI7IGIrKykge1xcbiAgICAgICAgICBmb3IgKGludCB5RiA9IDA7IHlGIDwgXCIrdC5vdXREZXB0aCtcIjsgeUYrKykge1xcbiAgICAgICAgICAgIGludCB4RiA9IHdGICsgeUYgKiBcIitlK1wiIC0gXCIrbytcIjtcXG5cXG4gICAgICAgICAgICBpZiAoeEYgPCAwIHx8IHhGID49IFwiK3QuaW5EZXB0aCtcIikge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGZvciAoaW50IHlSID0gMDsgeVIgPCBcIit0Lm91dEhlaWdodCtcIjsgeVIrKykge1xcbiAgICAgICAgICAgICAgaW50IHhSID0gd1IgKyB5UiAqIFwiK24rXCIgLSBcIithK1wiO1xcblxcbiAgICAgICAgICAgICAgaWYgKHhSIDwgMCB8fCB4UiA+PSBcIit0LmluSGVpZ2h0K1wiKSB7XFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgZm9yIChpbnQgeUMgPSAwOyB5QyA8IFwiK3Qub3V0V2lkdGgrXCI7IHlDKyspIHtcXG4gICAgICAgICAgICAgICAgaW50IHhDID0gd0MgKyB5QyAqIFwiK3IrXCIgLSBcIitpK1wiO1xcblxcbiAgICAgICAgICAgICAgICBpZiAoeEMgPCAwIHx8IHhDID49IFwiK3QuaW5XaWR0aCtcIikge1xcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIGZsb2F0IGR5VmFsdWUgPSBnZXREeShiLCB5RiwgeVIsIHlDLCBkMik7XFxuICAgICAgICAgICAgICAgIGZsb2F0IHhWYWx1ZSA9IGdldFgoYiwgeEYsIHhSLCB4QywgZDEpO1xcbiAgICAgICAgICAgICAgICBkb3RQcm9kICs9ICh4VmFsdWUgKiBkeVZhbHVlKTtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChkb3RQcm9kKTtcXG4gICAgICB9XFxuICAgIFwifSxQaT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiZHlcIixcIldcIl0sdGhpcy5vdXRwdXRTaGFwZT10LmluU2hhcGU7dmFyIGU9dC5maWx0ZXJEZXB0aCxuPXQuZmlsdGVySGVpZ2h0LHI9dC5maWx0ZXJXaWR0aCxvPXQuc3RyaWRlRGVwdGgsYT10LnN0cmlkZUhlaWdodCxpPXQuc3RyaWRlV2lkdGgscz1lLTEtdC5wYWRJbmZvLmZyb250LHU9bi0xLXQucGFkSW5mby50b3AsYz1yLTEtdC5wYWRJbmZvLmxlZnQ7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGNvbnN0IGl2ZWMzIHBhZHMgPSBpdmVjMyhcIitzK1wiLCBcIit1K1wiLCBcIitjK1wiKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNSBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkcy54O1xcbiAgICAgICAgaW50IGQxID0gY29vcmRzLnU7XFxuXFxuXFxuICAgICAgICBpdmVjMyBkeUNvcm5lciA9IGl2ZWMzKGNvb3Jkcy55LCBjb29yZHMueiwgY29vcmRzLncpIC0gcGFkcztcXG4gICAgICAgIGludCBkeUZDb3JuZXIgPSBkeUNvcm5lci54O1xcbiAgICAgICAgaW50IGR5UkNvcm5lciA9IGR5Q29ybmVyLnk7XFxuICAgICAgICBpbnQgZHlDQ29ybmVyID0gZHlDb3JuZXIuejtcXG5cXG4gICAgICAgIGZsb2F0IGRvdFByb2QgPSAwLjA7XFxuICAgICAgICBmb3IgKGludCB3RiA9IDA7IHdGIDwgXCIrZStcIjsgd0YrKykge1xcbiAgICAgICAgICBmbG9hdCBkeUYgPSBmbG9hdChkeUZDb3JuZXIgKyB3RikgLyBcIitvK1wiLjA7XFxuXFxuICAgICAgICAgIGlmIChkeUYgPCAwLjAgfHwgZHlGID49IFwiK3Qub3V0RGVwdGgrXCIuMCB8fCBmcmFjdChkeUYpID4gMC4wKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgaW50IGlkeUYgPSBpbnQoZHlGKTtcXG5cXG4gICAgICAgICAgaW50IHdGUGVybSA9IFwiK2UrXCIgLSAxIC0gd0Y7XFxuXFxuICAgICAgICAgIGZvciAoaW50IHdSID0gMDsgd1IgPCBcIituK1wiOyB3UisrKSB7XFxuICAgICAgICAgICAgZmxvYXQgZHlSID0gZmxvYXQoZHlSQ29ybmVyICsgd1IpIC8gXCIrYStcIi4wO1xcblxcbiAgICAgICAgICAgIGlmIChkeVIgPCAwLjAgfHwgZHlSID49IFwiK3Qub3V0SGVpZ2h0K1wiLjAgfHxcXG4gICAgICAgICAgICAgIGZyYWN0KGR5UikgPiAwLjApIHtcXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpbnQgaWR5UiA9IGludChkeVIpO1xcblxcbiAgICAgICAgICAgIGludCB3UlBlcm0gPSBcIituK1wiIC0gMSAtIHdSO1xcblxcbiAgICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIityK1wiOyB3QysrKSB7XFxuICAgICAgICAgICAgICBmbG9hdCBkeUMgPSBmbG9hdChkeUNDb3JuZXIgKyB3QykgLyBcIitpK1wiLjA7XFxuXFxuICAgICAgICAgICAgICBpZiAoZHlDIDwgMC4wIHx8IGR5QyA+PSBcIit0Lm91dFdpZHRoK1wiLjAgfHxcXG4gICAgICAgICAgICAgICAgICBmcmFjdChkeUMpID4gMC4wKSB7XFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgaW50IGlkeUMgPSBpbnQoZHlDKTtcXG5cXG4gICAgICAgICAgICAgIGludCB3Q1Blcm0gPSBcIityK1wiIC0gMSAtIHdDO1xcblxcbiAgICAgICAgICAgICAgZm9yIChpbnQgZDIgPSAwOyBkMiA8IFwiK3Qub3V0Q2hhbm5lbHMrXCI7IGQyKyspIHtcXG4gICAgICAgICAgICAgICAgZmxvYXQgeFZhbHVlID0gZ2V0RHkoYmF0Y2gsIGlkeUYsIGlkeVIsIGlkeUMsIGQyKTtcXG4gICAgICAgICAgICAgICAgZmxvYXQgd1ZhbHVlID0gZ2V0Vyh3RlBlcm0sIHdSUGVybSwgd0NQZXJtLCBkMSwgZDIpO1xcbiAgICAgICAgICAgICAgICBkb3RQcm9kICs9IHhWYWx1ZSAqIHdWYWx1ZTtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChkb3RQcm9kKTtcXG4gICAgICB9XFxuICAgIFwifSxMaT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiLFwiZHlcIl0sdGhpcy5vdXRwdXRTaGFwZT10LmZpbHRlclNoYXBlO3ZhciBlPXQuc3RyaWRlSGVpZ2h0LG49dC5zdHJpZGVXaWR0aCxyPXQucGFkSW5mby50b3Asbz10LnBhZEluZm8ubGVmdCxhPXQub3V0Q2hhbm5lbHMvdC5pbkNoYW5uZWxzO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCB3UiA9IGNvb3Jkcy54O1xcbiAgICAgICAgaW50IHdDID0gY29vcmRzLnk7XFxuICAgICAgICBpbnQgZDEgPSBjb29yZHMuejtcXG4gICAgICAgIGludCBkbSA9IGNvb3Jkcy53O1xcbiAgICAgICAgaW50IGQyID0gZDEgKiBcIithK1wiICsgZG07XFxuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcblxcbiAgICAgICAgLy8gVE8gRE86IFZlYzQgb3ZlciB0aGUgYmF0Y2ggc2l6ZVxcbiAgICAgICAgZm9yIChpbnQgYiA9IDA7IGIgPCBcIit0LmJhdGNoU2l6ZStcIjsgYisrKSB7XFxuICAgICAgICAgIGZvciAoaW50IHlSID0gMDsgeVIgPCBcIit0Lm91dEhlaWdodCtcIjsgeVIrKykge1xcbiAgICAgICAgICAgIGludCB4UiA9IHdSICsgeVIgKiBcIitlK1wiIC0gXCIrcitcIjtcXG5cXG4gICAgICAgICAgICBpZiAoeFIgPCAwIHx8IHhSID49IFwiK3QuaW5IZWlnaHQrXCIpIHtcXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBmb3IgKGludCB5QyA9IDA7IHlDIDwgXCIrdC5vdXRXaWR0aCtcIjsgeUMrKykge1xcbiAgICAgICAgICAgICAgaW50IHhDID0gd0MgKyB5QyAqIFwiK24rXCIgLSBcIitvK1wiO1xcblxcbiAgICAgICAgICAgICAgaWYgKHhDIDwgMCB8fCB4QyA+PSBcIit0LmluV2lkdGgrXCIpIHtcXG4gICAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICBmbG9hdCBkeVZhbHVlID0gZ2V0RHkoYiwgeVIsIHlDLCBkMik7XFxuICAgICAgICAgICAgICBmbG9hdCB4VmFsdWUgPSBnZXRYKGIsIHhSLCB4QywgZDEpO1xcbiAgICAgICAgICAgICAgZG90UHJvZCArPSAoeFZhbHVlICogZHlWYWx1ZSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQoZG90UHJvZCk7XFxuICAgICAgfVxcbiAgICBcIn0sV2k9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcImR5XCIsXCJXXCJdLHRoaXMub3V0cHV0U2hhcGU9dC5pblNoYXBlO3ZhciBlPXQuZmlsdGVySGVpZ2h0LG49dC5maWx0ZXJXaWR0aCxyPXQuc3RyaWRlSGVpZ2h0LG89dC5zdHJpZGVXaWR0aCxhPWUtMS10LnBhZEluZm8udG9wLGk9bi0xLXQucGFkSW5mby5sZWZ0LHM9dC5vdXRDaGFubmVscy90LmluQ2hhbm5lbHM7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGNvbnN0IGl2ZWMyIHBhZHMgPSBpdmVjMihcIithK1wiLCBcIitpK1wiKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBkMSA9IGNvb3Jkc1szXTtcXG4gICAgICAgIGl2ZWMyIGR5Q29ybmVyID0gY29vcmRzLnl6IC0gcGFkcztcXG4gICAgICAgIGludCBkeVJDb3JuZXIgPSBkeUNvcm5lci54O1xcbiAgICAgICAgaW50IGR5Q0Nvcm5lciA9IGR5Q29ybmVyLnk7XFxuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcblxcbiAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK2UrXCI7IHdSKyspIHtcXG4gICAgICAgICAgZmxvYXQgZHlSID0gZmxvYXQoZHlSQ29ybmVyICsgd1IpIC8gXCIrcitcIi4wO1xcblxcbiAgICAgICAgICBpZiAoZHlSIDwgMC4wIHx8IGR5UiA+PSBcIit0Lm91dEhlaWdodCtcIi4wIHx8IGZyYWN0KGR5UikgPiAwLjApIHtcXG4gICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBpbnQgaWR5UiA9IGludChkeVIpO1xcblxcbiAgICAgICAgICBpbnQgd1JQZXJtID0gXCIrZStcIiAtIDEgLSB3UjtcXG5cXG4gICAgICAgICAgZm9yIChpbnQgd0MgPSAwOyB3QyA8IFwiK24rXCI7IHdDKyspIHtcXG4gICAgICAgICAgICBmbG9hdCBkeUMgPSBmbG9hdChkeUNDb3JuZXIgKyB3QykgLyBcIitvK1wiLjA7XFxuXFxuICAgICAgICAgICAgaWYgKGR5QyA8IDAuMCB8fCBkeUMgPj0gXCIrdC5vdXRXaWR0aCtcIi4wIHx8XFxuICAgICAgICAgICAgICAgIGZyYWN0KGR5QykgPiAwLjApIHtcXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpbnQgaWR5QyA9IGludChkeUMpO1xcblxcbiAgICAgICAgICAgIGludCB3Q1Blcm0gPSBcIituK1wiIC0gMSAtIHdDO1xcblxcbiAgICAgICAgICAgIC8vIFRPIERPOiBWZWM0IG92ZXIgdGhlIGNoYW5uZWxNdWxcXG4gICAgICAgICAgICBmb3IgKGludCBkbSA9IDA7IGRtIDwgXCIrcytcIjsgZG0rKykge1xcbiAgICAgICAgICAgICAgaW50IGQyID0gZDEgKiBcIitzK1wiICsgZG07XFxuICAgICAgICAgICAgICBmbG9hdCB4VmFsdWUgPSBnZXREeShiYXRjaCwgaWR5UiwgaWR5QywgZDIpO1xcbiAgICAgICAgICAgICAgZmxvYXQgd1ZhbHVlID0gZ2V0Vyh3UlBlcm0sIHdDUGVybSwgZDEsIGRtKTtcXG4gICAgICAgICAgICAgIGRvdFByb2QgKz0geFZhbHVlICogd1ZhbHVlO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KGRvdFByb2QpO1xcbiAgICAgIH1cXG4gICAgXCJ9LFVpPWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1yJiYocj0hMSksdGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIixcIldcIl0sdGhpcy5vdXRwdXRTaGFwZT10Lm91dFNoYXBlO3ZhciBvPXQucGFkSW5mby50b3AsYT10LnBhZEluZm8ubGVmdCxpPXQuc3RyaWRlSGVpZ2h0LHM9dC5zdHJpZGVXaWR0aCx1PXQuZGlsYXRpb25IZWlnaHQsYz10LmRpbGF0aW9uV2lkdGgsbD10LmZpbHRlckhlaWdodCxoPXQuZmlsdGVyV2lkdGgsZj00Kk1hdGguZmxvb3IodC5pbkNoYW5uZWxzLzQpLGQ9dC5pbkNoYW5uZWxzJTQscD1cImNoYW5uZWxzTGFzdFwiPT09dC5kYXRhRm9ybWF0LHY9cD8xOjIsZz1wPzI6MyxtPXA/MzoxLHk9XCJcIix4PVwiXCI7biYmKHk9cj9cImZsb2F0IGFjdGl2YXRpb24oZmxvYXQgYSkge1xcbiAgICAgICAgICBmbG9hdCBiID0gZ2V0UHJlbHVBY3RpdmF0aW9uV2VpZ2h0c0F0T3V0Q29vcmRzKCk7XFxuICAgICAgICAgIFwiK24rXCJcXG4gICAgICAgIH1cIjpcIlxcbiAgICAgICAgICBmbG9hdCBhY3RpdmF0aW9uKGZsb2F0IHgpIHtcXG4gICAgICAgICAgICBcIituK1wiXFxuICAgICAgICAgIH1cXG4gICAgICAgIFwiLHg9XCJyZXN1bHQgPSBhY3RpdmF0aW9uKHJlc3VsdCk7XCIpO3ZhciBiPWU/XCJyZXN1bHQgKz0gZ2V0Qmlhc0F0T3V0Q29vcmRzKCk7XCI6XCJcIjtlJiZ0aGlzLnZhcmlhYmxlTmFtZXMucHVzaChcImJpYXNcIiksciYmdGhpcy52YXJpYWJsZU5hbWVzLnB1c2goXCJwcmVsdUFjdGl2YXRpb25XZWlnaHRzXCIpLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICBcIit5K1wiXFxuXFxuICAgICAgY29uc3QgaXZlYzIgc3RyaWRlcyA9IGl2ZWMyKFwiK2krXCIsIFwiK3MrXCIpO1xcbiAgICAgIGNvbnN0IGl2ZWMyIHBhZHMgPSBpdmVjMihcIitvK1wiLCBcIithK1wiKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBkMiA9IGNvb3Jkc1tcIittK1wiXTtcXG5cXG4gICAgICAgIGl2ZWMyIHhSQ0Nvcm5lciA9XFxuICAgICAgICAgICAgaXZlYzIoY29vcmRzW1wiK3YrXCJdLCBjb29yZHNbXCIrZytcIl0pICogc3RyaWRlcyAtIHBhZHM7XFxuICAgICAgICBpbnQgeFJDb3JuZXIgPSB4UkNDb3JuZXIueDtcXG4gICAgICAgIGludCB4Q0Nvcm5lciA9IHhSQ0Nvcm5lci55O1xcblxcbiAgICAgICAgLy8gQ29udm9sdmUgeCg/LCA/LCBkMSkgd2l0aCB3KDosIDosIGQxLCBkMikgdG8gZ2V0IHkoeVIsIHlDLCBkMikuXFxuICAgICAgICAvLyA/ID0gdG8gYmUgZGV0ZXJtaW5lZC4gOiA9IGFjcm9zcyBhbGwgdmFsdWVzIGluIHRoYXQgYXhpcy5cXG4gICAgICAgIGZsb2F0IGRvdFByb2QgPSAwLjA7XFxuICAgICAgICBmb3IgKGludCB3UiA9IDA7IHdSIDwgXCIrbCtcIjsgd1IrKykge1xcbiAgICAgICAgICBpbnQgeFIgPSB4UkNvcm5lciArIHdSICogXCIrdStcIjtcXG5cXG4gICAgICAgICAgaWYgKHhSIDwgMCB8fCB4UiA+PSBcIit0LmluSGVpZ2h0K1wiKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgZm9yIChpbnQgd0MgPSAwOyB3QyA8IFwiK2grXCI7IHdDKyspIHtcXG4gICAgICAgICAgICBpbnQgeEMgPSB4Q0Nvcm5lciArIHdDICogXCIrYytcIjtcXG5cXG4gICAgICAgICAgICBpZiAoeEMgPCAwIHx8IHhDID49IFwiK3QuaW5XaWR0aCtcIikge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGZvciAoaW50IGQxID0gMDsgZDEgPCBcIitmK1wiOyBkMSArPSA0KSB7XFxuICAgICAgICAgICAgICB2ZWM0IHdWYWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgICBnZXRXKHdSLCB3QywgZDEsIGQyKSxcXG4gICAgICAgICAgICAgICAgZ2V0Vyh3Uiwgd0MsIGQxICsgMSwgZDIpLFxcbiAgICAgICAgICAgICAgICBnZXRXKHdSLCB3QywgZDEgKyAyLCBkMiksXFxuICAgICAgICAgICAgICAgIGdldFcod1IsIHdDLCBkMSArIDMsIGQyKVxcbiAgICAgICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgICAgIGlmIChcIitwK1wiKSB7XFxuICAgICAgICAgICAgICAgIHZlYzQgeFZhbHVlcyA9IHZlYzQoXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeFIsIHhDLCBkMSksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeFIsIHhDLCBkMSArIDEpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhSLCB4QywgZDEgKyAyKSxcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCB4UiwgeEMsIGQxICsgMylcXG4gICAgICAgICAgICAgICAgKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSBkb3QoeFZhbHVlcywgd1ZhbHVlcyk7XFxuICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICB2ZWM0IHhWYWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIGQxLCB4UiwgeEMpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIGQxICsgMSwgeFIsIHhDKSxcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCBkMSArIDIsIHhSLCB4QyksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgZDEgKyAzLCB4UiwgeEMpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0gZG90KHhWYWx1ZXMsIHdWYWx1ZXMpO1xcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBpZiAoXCIrKDE9PT1kKStcIikge1xcblxcbiAgICAgICAgICAgICAgaWYgKFwiK3ArXCIpIHtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPVxcbiAgICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeFIsIHhDLCBcIitmK1wiKSAqXFxuICAgICAgICAgICAgICAgICAgICBnZXRXKHdSLCB3QywgXCIrZitcIiwgZDIpO1xcbiAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPVxcbiAgICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgXCIrZitcIiwgeFIsIHhDKSAqXFxuICAgICAgICAgICAgICAgICAgICBnZXRXKHdSLCB3QywgXCIrZitcIiwgZDIpO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXCIrKDI9PT1kKStcIikge1xcbiAgICAgICAgICAgICAgdmVjMiB3VmFsdWVzID0gdmVjMihcXG4gICAgICAgICAgICAgICAgZ2V0Vyh3Uiwgd0MsIFwiK2YrXCIsIGQyKSxcXG4gICAgICAgICAgICAgICAgZ2V0Vyh3Uiwgd0MsIFwiK2YrXCIgKyAxLCBkMilcXG4gICAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgICBpZiAoXCIrcCtcIikge1xcbiAgICAgICAgICAgICAgICB2ZWMyIHhWYWx1ZXMgPSB2ZWMyKFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhSLCB4QywgXCIrZitcIiksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeFIsIHhDLCBcIitmK1wiICsgMSlcXG4gICAgICAgICAgICAgICAgKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSBkb3QoeFZhbHVlcywgd1ZhbHVlcyk7XFxuICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICB2ZWMyIHhWYWx1ZXMgPSB2ZWMyKFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIFwiK2YrXCIsIHhSLCB4QyksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgXCIrZitcIiArIDEsIHhSLCB4QylcXG4gICAgICAgICAgICAgICAgKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSBkb3QoeFZhbHVlcywgd1ZhbHVlcyk7XFxuICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgfSBlbHNlIGlmIChcIisoMz09PWQpK1wiKSB7XFxuICAgICAgICAgICAgICB2ZWMzIHdWYWx1ZXMgPSB2ZWMzKFxcbiAgICAgICAgICAgICAgICBnZXRXKHdSLCB3QywgXCIrZitcIiwgZDIpLFxcbiAgICAgICAgICAgICAgICBnZXRXKHdSLCB3QywgXCIrZitcIiArIDEsIGQyKSxcXG4gICAgICAgICAgICAgICAgZ2V0Vyh3Uiwgd0MsIFwiK2YrXCIgKyAyLCBkMilcXG4gICAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgICBpZiAoXCIrcCtcIikge1xcbiAgICAgICAgICAgICAgICB2ZWMzIHhWYWx1ZXMgPSB2ZWMzKFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhSLCB4QywgXCIrZitcIiksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeFIsIHhDLCBcIitmK1wiICsgMSksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeFIsIHhDLCBcIitmK1wiICsgMilcXG4gICAgICAgICAgICAgICAgKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSBkb3QoeFZhbHVlcywgd1ZhbHVlcyk7XFxuICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICB2ZWMzIHhWYWx1ZXMgPSB2ZWMzKFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIFwiK2YrXCIsIHhSLCB4QyksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgXCIrZitcIiArIDEsIHhSLCB4QyksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgXCIrZitcIiArIDIsIHhSLCB4QylcXG4gICAgICAgICAgICAgICAgKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSBkb3QoeFZhbHVlcywgd1ZhbHVlcyk7XFxuICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICBmbG9hdCByZXN1bHQgPSBkb3RQcm9kO1xcbiAgICAgICAgXCIrYitcIlxcbiAgICAgICAgXCIreCtcIlxcbiAgICAgICAgc2V0T3V0cHV0KHJlc3VsdCk7XFxuICAgICAgfVxcbiAgICBcIn0sVmk9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIixcIldcIl0sdGhpcy5vdXRwdXRTaGFwZT10Lm91dFNoYXBlO3ZhciBlPXQucGFkSW5mby5mcm9udCxuPXQucGFkSW5mby50b3Ascj10LnBhZEluZm8ubGVmdCxvPXQuc3RyaWRlRGVwdGgsYT10LnN0cmlkZUhlaWdodCxpPXQuc3RyaWRlV2lkdGgscz10LmRpbGF0aW9uRGVwdGgsdT10LmRpbGF0aW9uSGVpZ2h0LGM9dC5kaWxhdGlvbldpZHRoLGw9dC5maWx0ZXJEZXB0aCxoPXQuZmlsdGVySGVpZ2h0LGY9dC5maWx0ZXJXaWR0aCxkPTQqTWF0aC5mbG9vcih0LmluQ2hhbm5lbHMvNCkscD10LmluQ2hhbm5lbHMlNDt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgaXZlYzMgc3RyaWRlcyA9IGl2ZWMzKFwiK28rXCIsIFwiK2ErXCIsIFwiK2krXCIpO1xcbiAgICAgIGNvbnN0IGl2ZWMzIHBhZHMgPSBpdmVjMyhcIitlK1wiLCBcIituK1wiLCBcIityK1wiKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNSBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkcy54O1xcbiAgICAgICAgaW50IGQyID0gY29vcmRzLnU7XFxuXFxuICAgICAgICBpdmVjMyB4RlJDQ29ybmVyID0gaXZlYzMoY29vcmRzLnksIGNvb3Jkcy56LCBjb29yZHMudykgKiBzdHJpZGVzIC0gcGFkcztcXG4gICAgICAgIGludCB4RkNvcm5lciA9IHhGUkNDb3JuZXIueDtcXG4gICAgICAgIGludCB4UkNvcm5lciA9IHhGUkNDb3JuZXIueTtcXG4gICAgICAgIGludCB4Q0Nvcm5lciA9IHhGUkNDb3JuZXIuejtcXG5cXG4gICAgICAgIC8vIENvbnZvbHZlIHgoPywgPywgPywgZDEpIHdpdGggdyg6LCA6LCA6LCBkMSwgZDIpIHRvIGdldFxcbiAgICAgICAgLy8geSh5RiwgeVIsIHlDLCBkMikuID8gPSB0byBiZSBkZXRlcm1pbmVkLiA6ID0gYWNyb3NzIGFsbFxcbiAgICAgICAgLy8gdmFsdWVzIGluIHRoYXQgYXhpcy5cXG4gICAgICAgIGZsb2F0IGRvdFByb2QgPSAwLjA7XFxuICAgICAgICBmb3IgKGludCB3RiA9IDA7IHdGIDwgXCIrbCtcIjsgd0YrKykge1xcbiAgICAgICAgICBpbnQgeEYgPSB4RkNvcm5lciArIHdGICogXCIrcytcIjtcXG5cXG4gICAgICAgICAgaWYgKHhGIDwgMCB8fCB4RiA+PSBcIit0LmluRGVwdGgrXCIpIHtcXG4gICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgfVxcblxcbiAgICAgICAgICBmb3IgKGludCB3UiA9IDA7IHdSIDwgXCIraCtcIjsgd1IrKykge1xcbiAgICAgICAgICAgIGludCB4UiA9IHhSQ29ybmVyICsgd1IgKiBcIit1K1wiO1xcblxcbiAgICAgICAgICAgIGlmICh4UiA8IDAgfHwgeFIgPj0gXCIrdC5pbkhlaWdodCtcIikge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIitmK1wiOyB3QysrKSB7XFxuICAgICAgICAgICAgICBpbnQgeEMgPSB4Q0Nvcm5lciArIHdDICogXCIrYytcIjtcXG5cXG4gICAgICAgICAgICAgIGlmICh4QyA8IDAgfHwgeEMgPj0gXCIrdC5pbldpZHRoK1wiKSB7XFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgZm9yIChpbnQgZDEgPSAwOyBkMSA8IFwiK2QrXCI7IGQxICs9IDQpIHtcXG4gICAgICAgICAgICAgICAgdmVjNCB4VmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCB4RiwgeFIsIHhDLCBkMSksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeEYsIHhSLCB4QywgZDEgKyAxKSxcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCB4RiwgeFIsIHhDLCBkMSArIDIpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhGLCB4UiwgeEMsIGQxICsgMylcXG4gICAgICAgICAgICAgICAgKTtcXG4gICAgICAgICAgICAgICAgdmVjNCB3VmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICAgICAgICBnZXRXKHdGLCB3Uiwgd0MsIGQxLCBkMiksXFxuICAgICAgICAgICAgICAgICAgZ2V0Vyh3Riwgd1IsIHdDLCBkMSArIDEsIGQyKSxcXG4gICAgICAgICAgICAgICAgICBnZXRXKHdGLCB3Uiwgd0MsIGQxICsgMiwgZDIpLFxcbiAgICAgICAgICAgICAgICAgIGdldFcod0YsIHdSLCB3QywgZDEgKyAzLCBkMilcXG4gICAgICAgICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSBkb3QoeFZhbHVlcywgd1ZhbHVlcyk7XFxuICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICBpZiAoXCIrKDE9PT1wKStcIikge1xcbiAgICAgICAgICAgICAgICBkb3RQcm9kICs9XFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeEYsIHhSLCB4QywgXCIrZCtcIikgKlxcbiAgICAgICAgICAgICAgICAgIGdldFcod0YsIHdSLCB3QywgXCIrZCtcIiwgZDIpO1xcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcIisoMj09PXApK1wiKSB7XFxuICAgICAgICAgICAgICAgIHZlYzIgeFZhbHVlcyA9IHZlYzIoXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeEYsIHhSLCB4QywgXCIrZCtcIiksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeEYsIHhSLCB4QywgXCIrZCtcIiArIDEpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIHZlYzIgd1ZhbHVlcyA9IHZlYzIoXFxuICAgICAgICAgICAgICAgICAgZ2V0Vyh3Riwgd1IsIHdDLCBcIitkK1wiLCBkMiksXFxuICAgICAgICAgICAgICAgICAgZ2V0Vyh3Riwgd1IsIHdDLCBcIitkK1wiICsgMSwgZDIpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0gZG90KHhWYWx1ZXMsIHdWYWx1ZXMpO1xcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcIisoMz09PXApK1wiKSB7XFxuICAgICAgICAgICAgICAgIHZlYzMgeFZhbHVlcyA9IHZlYzMoXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeEYsIHhSLCB4QywgXCIrZCtcIiksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeEYsIHhSLCB4QywgXCIrZCtcIiArIDEpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhGLCB4UiwgeEMsIFwiK2QrXCIgKyAyKVxcbiAgICAgICAgICAgICAgICApO1xcbiAgICAgICAgICAgICAgICB2ZWMzIHdWYWx1ZXMgPSB2ZWMzKFxcbiAgICAgICAgICAgICAgICAgIGdldFcod0YsIHdSLCB3QywgXCIrZCtcIiwgZDIpLFxcbiAgICAgICAgICAgICAgICAgIGdldFcod0YsIHdSLCB3QywgXCIrZCtcIiArIDEsIGQyKSxcXG4gICAgICAgICAgICAgICAgICBnZXRXKHdGLCB3Uiwgd0MsIFwiK2QrXCIgKyAyLCBkMilcXG4gICAgICAgICAgICAgICAgKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSBkb3QoeFZhbHVlcywgd1ZhbHVlcyk7XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQoZG90UHJvZCk7XFxuICAgICAgfVxcbiAgICBcIn0semk9ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPW51bGwpLHZvaWQgMD09PXImJihyPSExKSx0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiLFwiV1wiXSx0aGlzLm91dHB1dFNoYXBlPXQub3V0U2hhcGU7dmFyIG89dC5pbkhlaWdodCxhPXQuaW5XaWR0aCxpPXQucGFkSW5mby50b3Ascz10LnBhZEluZm8ubGVmdCx1PXQuc3RyaWRlSGVpZ2h0LGM9dC5zdHJpZGVXaWR0aCxsPXQuZGlsYXRpb25IZWlnaHQsaD10LmRpbGF0aW9uV2lkdGgsZj10LmZpbHRlckhlaWdodCxkPXQuZmlsdGVyV2lkdGgscD10Lm91dENoYW5uZWxzL3QuaW5DaGFubmVscyx2PVwiXCIsZz1cIlwiO24mJih2PXI/XCJmbG9hdCBhY3RpdmF0aW9uKGZsb2F0IGEpIHtcXG4gICAgICAgICAgZmxvYXQgYiA9IGdldFByZWx1QWN0aXZhdGlvbldlaWdodHNBdE91dENvb3JkcygpO1xcbiAgICAgICAgICBcIituK1wiXFxuICAgICAgICB9XCI6XCJcXG4gICAgICAgICAgZmxvYXQgYWN0aXZhdGlvbihmbG9hdCB4KSB7XFxuICAgICAgICAgICAgXCIrbitcIlxcbiAgICAgICAgICB9XFxuICAgICAgICBcIixnPVwicmVzdWx0ID0gYWN0aXZhdGlvbihyZXN1bHQpO1wiKTt2YXIgbT1lP1wicmVzdWx0ICs9IGdldEJpYXNBdE91dENvb3JkcygpO1wiOlwiXCI7ZSYmdGhpcy52YXJpYWJsZU5hbWVzLnB1c2goXCJiaWFzXCIpLHImJnRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwicHJlbHVBY3RpdmF0aW9uV2VpZ2h0c1wiKSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgXCIrditcIlxcblxcbiAgICAgIGNvbnN0IGl2ZWMyIHN0cmlkZXMgPSBpdmVjMihcIit1K1wiLCBcIitjK1wiKTtcXG4gICAgICBjb25zdCBpdmVjMiBwYWRzID0gaXZlYzIoXCIraStcIiwgXCIrcytcIik7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHMueDtcXG4gICAgICAgIGl2ZWMyIHhSQ0Nvcm5lciA9IGNvb3Jkcy55eiAqIHN0cmlkZXMgLSBwYWRzO1xcbiAgICAgICAgaW50IGQyID0gY29vcmRzLnc7XFxuICAgICAgICBpbnQgZDEgPSBkMiAvIFwiK3ArXCI7XFxuICAgICAgICBpbnQgcSA9IGQyIC0gZDEgKiBcIitwK1wiO1xcblxcbiAgICAgICAgaW50IHhSQ29ybmVyID0geFJDQ29ybmVyLng7XFxuICAgICAgICBpbnQgeENDb3JuZXIgPSB4UkNDb3JuZXIueTtcXG5cXG4gICAgICAgIC8vIENvbnZvbHZlIHgoPywgPywgZDEpIHdpdGggdyg6LCA6LCBkMSwgcSkgdG8gZ2V0IHkoeVIsIHlDLCBkMikuXFxuICAgICAgICAvLyA/ID0gdG8gYmUgZGV0ZXJtaW5lZC4gOiA9IGFjcm9zcyBhbGwgdmFsdWVzIGluIHRoYXQgYXhpcy5cXG4gICAgICAgIGZsb2F0IGRvdFByb2QgPSAwLjA7XFxuICAgICAgICAvLyBUTyBETyhkc21pbGtvdik6IEZsYXR0ZW4gdGhlIHR3byBmb3IgbG9vcHMgYW5kIHZlYzQgdGhlIG9wZXJhdGlvbnMuXFxuICAgICAgICBmb3IgKGludCB3UiA9IDA7IHdSIDwgXCIrZitcIjsgd1IrKykge1xcbiAgICAgICAgICBpbnQgeFIgPSB4UkNvcm5lciArIHdSICogXCIrbCtcIjtcXG5cXG4gICAgICAgICAgaWYgKHhSIDwgMCB8fCB4UiA+PSBcIitvK1wiKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgZm9yIChpbnQgd0MgPSAwOyB3QyA8IFwiK2QrXCI7IHdDKyspIHtcXG4gICAgICAgICAgICBpbnQgeEMgPSB4Q0Nvcm5lciArIHdDICogXCIraCtcIjtcXG5cXG4gICAgICAgICAgICBpZiAoeEMgPCAwIHx8IHhDID49IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBmbG9hdCB4VmFsID0gZ2V0WChiYXRjaCwgeFIsIHhDLCBkMSk7XFxuICAgICAgICAgICAgZmxvYXQgd1ZhbCA9IGdldFcod1IsIHdDLCBkMSwgcSk7XFxuICAgICAgICAgICAgZG90UHJvZCArPSB4VmFsICogd1ZhbDtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgZmxvYXQgcmVzdWx0ID0gZG90UHJvZDtcXG4gICAgICAgIFwiK20rXCJcXG4gICAgICAgIFwiK2crXCJcXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9LEdpPWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1yJiYocj0hMSksdGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIixcIldcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT10Lm91dFNoYXBlO2Zvcih2YXIgbz10LmluSGVpZ2h0LGE9dC5pbldpZHRoLGk9dC5wYWRJbmZvLnRvcCxzPXQucGFkSW5mby5sZWZ0LHU9dC5zdHJpZGVIZWlnaHQsYz10LnN0cmlkZVdpZHRoLGw9dC5kaWxhdGlvbkhlaWdodCxoPXQuZGlsYXRpb25XaWR0aCxmPXQuZmlsdGVySGVpZ2h0LGQ9dC5maWx0ZXJXaWR0aCxwPWQsdj1cImludCB4UjsgaW50IHhDOyBpbnQgeENPZmZzZXQ7XCIsZz0wO2c8ZjtnKyspZm9yKHZhciBtPTA7bTxkO20rKyl2Kz1cIlxcbiAgICAgICAgICB2ZWM0IHhUZXhlbFJcIitnK1wiQ1wiKzIqbStcIiA9IHZlYzQoMC4pO1xcbiAgICAgICAgICB2ZWM0IHdSXCIrZytcIkNcIittK1wiID0gdmVjNCgwLik7XFxuICAgICAgICAgIHZlYzQgeFJcIitnK1wiQ1wiK20rXCIgPSB2ZWM0KDAuKTtcIjtmb3IoZz0wO2c8ZjtnKyspZm9yKHZhciB5PTA7eTxwO3krKyl7aWYodis9XCJcXG4gICAgICAgICAgeFIgPSB4UkNvcm5lciArIFwiK2cqbCtcIjtcXG4gICAgICAgICAgeEMgPSB4Q0Nvcm5lciArIFwiKyhtPTIqeSkqaCtcIjtcXG4gICAgICAgIFwiLDE9PT1jKXtpZihtPGQmJih2Kz1zJTI9PTE/XCJcXG4gICAgICAgICAgICAgICAgeENPZmZzZXQgPSB4QyArIDE7XFxuICAgICAgICAgICAgICAgIGlmKHhSID49IDAgJiYgeFIgPCBcIitvK1wiICYmIHhDT2Zmc2V0ID49IDAgJiYgeENPZmZzZXQgPCBcIithK1wiKSB7XFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK2crXCJDXCIrbStcIiA9IGdldFgoYmF0Y2gsIHhSLCB4Q09mZnNldCwgZDEpO1xcblxcbiAgICAgICAgICAgICAgICAgIC8vIE5lZWQgdG8gbWFudWFsbHkgY2xlYXIgdW51c2VkIGNoYW5uZWxzIGluIGNhc2VcXG4gICAgICAgICAgICAgICAgICAvLyB3ZSdyZSByZWFkaW5nIGZyb20gcmVjeWNsZWQgdGV4dHVyZS5cXG4gICAgICAgICAgICAgICAgICBpZih4Q09mZnNldCArIDEgPj0gXCIrYStcIikge1xcbiAgICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK2crXCJDXCIrbStcIi56dyA9IHZlYzIoMC4pO1xcbiAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrZytcIkNcIittK1wiID0gdmVjNCgwLik7XFxuICAgICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgICAgeENPZmZzZXQgPSB4QyArIDEgLSAyO1xcbiAgICAgICAgICAgICAgICBpZih4UiA+PSAwICYmIHhSIDwgXCIrbytcIiAmJiB4Q09mZnNldCA+PSAwICYmIHhDT2Zmc2V0IDwgXCIrYStcIikge1xcbiAgICAgICAgICAgICAgICAgIHZlYzQgcHJldmlvdXMgPSBnZXRYKGJhdGNoLCB4UiwgeENPZmZzZXQsIGQxKTtcXG5cXG4gICAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIG1hbnVhbGx5IGNsZWFyIHVudXNlZCBjaGFubmVscyBpbiBjYXNlXFxuICAgICAgICAgICAgICAgICAgLy8gd2UncmUgcmVhZGluZyBmcm9tIHJlY3ljbGVkIHRleHR1cmUuXFxuICAgICAgICAgICAgICAgICAgaWYoeENPZmZzZXQgKyAxID49IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzLnp3ID0gdmVjMigwLik7XFxuICAgICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICAgIHhSXCIrZytcIkNcIittK1wiID0gdmVjNChwcmV2aW91cy56dywgeFRleGVsUlwiK2crXCJDXCIrbStcIi54eSk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgeFJcIitnK1wiQ1wiK20rXCIgPSB2ZWM0KDAsIDAsIHhUZXhlbFJcIitnK1wiQ1wiK20rXCIueHkpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICBcIjpcIlxcbiAgICAgICAgICAgICAgICBpZih4UiA+PSAwICYmIHhSIDwgXCIrbytcIiAmJiB4QyA+PSAwICYmIHhDIDwgXCIrYStcIikge1xcbiAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIitnK1wiQ1wiK20rXCIgPSBnZXRYKGJhdGNoLCB4UiwgeEMsIGQxKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrZytcIkNcIittK1wiID0gdmVjNCgwLik7XFxuICAgICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgICAgeFJcIitnK1wiQ1wiK20rXCIgPSB4VGV4ZWxSXCIrZytcIkNcIittK1wiO1xcbiAgICAgICAgICAgICAgXCIsbSsxPGQpKXt2YXIgeD1zJTI9PTA/YihoKTpoO2glMj09MCYmcyUyPT0xfHxoJTIhPTAmJnMlMiE9MT8odis9XCJcXG4gICAgICAgICAgICAgICAgICB4Q09mZnNldCA9IHhDICsgXCIrcyUyK1wiICsgXCIreCtcIjtcXG5cXG4gICAgICAgICAgICAgICAgICBpZih4UiA+PSAwICYmIHhSIDwgXCIrbytcIiAmJlxcbiAgICAgICAgICAgICAgICAgICAgeENPZmZzZXQgPj0gMCAmJiB4Q09mZnNldCA8IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIitnK1wiQ1wiKyhtKzIpK1wiID0gZ2V0WChiYXRjaCwgeFIsIHhDT2Zmc2V0LCBkMSk7XFxuICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBcIixoPjEmJih2Kz1cIlxcbiAgICAgICAgICAgICAgICAgICAgeENPZmZzZXQgLT0gMjtcXG4gICAgICAgICAgICAgICAgICAgIGlmKHhSID49IDAgJiYgeFIgPCBcIitvK1wiICYmXFxuICAgICAgICAgICAgICAgICAgICAgIHhDT2Zmc2V0ID49IDAgJiYgeENPZmZzZXQgPCBcIithK1wiKSB7XFxuICAgICAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIitnK1wiQ1wiK20rXCIgPSBnZXRYKGJhdGNoLCB4UiwgeENPZmZzZXQsIGQxKTtcXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIitnK1wiQ1wiK20rXCIgPSB2ZWM0KDAuKTtcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICBcIiksdis9XCJcXG4gICAgICAgICAgICAgICAgICB4UlwiK2crXCJDXCIrKG0rMSkrXCIgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK2crXCJDXCIrbStcIi56dywgeFRleGVsUlwiK2crXCJDXCIrKG0rMikrXCIueHkpO1xcbiAgICAgICAgICAgICAgICBcIik6dis9XCJcXG4gICAgICAgICAgICAgICAgICB4Q09mZnNldCA9IHhDICsgXCIreCtcIjtcXG5cXG4gICAgICAgICAgICAgICAgICBpZih4UiA+PSAwICYmIHhSIDwgXCIrbytcIiAmJlxcbiAgICAgICAgICAgICAgICAgICAgeENPZmZzZXQgPj0gMCAmJiB4Q09mZnNldCA8IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIitnK1wiQ1wiKyhtKzIpK1wiID0gZ2V0WChiYXRjaCwgeFIsIHhDT2Zmc2V0LCBkMSk7XFxuICAgICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICAgIHhSXCIrZytcIkNcIisobSsxKStcIiA9IHhUZXhlbFJcIitnK1wiQ1wiKyhtKzIpK1wiO1xcbiAgICAgICAgICAgICAgICBcIn19ZWxzZSBtPGQmJih2Kz1cIlxcbiAgICAgICAgICAgICAgaWYoeFIgPj0gMCAmJiB4UiA8IFwiK28rXCIpIHtcXG4gICAgICAgICAgICBcIixzJTI9PTE/KHYrPVwiXFxuICAgICAgICAgICAgICAgIHhDT2Zmc2V0ID0geEMgKyAxIC0gXCIrYytcIjtcXG4gICAgICAgICAgICAgICAgaWYoeENPZmZzZXQgPj0gMCAmJiB4Q09mZnNldCA8IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrZytcIkNcIittK1wiID0gZ2V0WChiYXRjaCwgeFIsIHhDT2Zmc2V0LCBkMSk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK2crXCJDXCIrbStcIiA9IHZlYzQoMC4pO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIGlmKHhDICsgMSA+PSAwICYmIHhDICsgMSA8IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrZytcIkNcIisobSsyKStcIiA9IGdldFgoYmF0Y2gsIHhSLCB4QyArIDEsIGQxKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrZytcIkNcIisobSsyKStcIiA9IHZlYzQoMC4pO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIHhSXCIrZytcIkNcIittK1wiID0gdmVjNChcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrZytcIkNcIittK1wiLnp3LCB4VGV4ZWxSXCIrZytcIkNcIisobSsyKStcIi56dyk7XFxuICAgICAgICAgICAgICBcIixtKzE8ZCYmKHYrPVwiXFxuICAgICAgICAgICAgICAgICAgdmVjNCBmaW5hbCA9IHZlYzQoMC4pO1xcbiAgICAgICAgICAgICAgICAgIHhDT2Zmc2V0ID0geEMgKyAxICsgXCIrYytcIjtcXG4gICAgICAgICAgICAgICAgICBpZih4Q09mZnNldCA+PSAwICYmIHhDT2Zmc2V0IDwgXCIrYStcIikge1xcbiAgICAgICAgICAgICAgICAgICAgZmluYWwgPSBnZXRYKGJhdGNoLCB4UiwgeENPZmZzZXQsIGQxKTtcXG4gICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgeFJcIitnK1wiQ1wiKyhtKzEpK1wiID0gdmVjNCh4VGV4ZWxSXCIrZytcIkNcIisobSsyKStcIi54eSwgZmluYWwueHkpO1xcbiAgICAgICAgICAgICAgICBcIikpOih2Kz1cIlxcbiAgICAgICAgICAgICAgICBpZih4QyA+PSAwICYmIHhDIDwgXCIrYStcIikge1xcbiAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIitnK1wiQ1wiK20rXCIgPSBnZXRYKGJhdGNoLCB4UiwgeEMsIGQxKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrZytcIkNcIittK1wiID0gdmVjNCgwLik7XFxuICAgICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgICAgeENPZmZzZXQgPSB4QyArIFwiK2MrXCI7XFxuICAgICAgICAgICAgICAgIGlmKHhDT2Zmc2V0ID49IDAgJiYgeENPZmZzZXQgPCBcIithK1wiKSB7XFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK2crXCJDXCIrKG0rMikrXCIgPSBnZXRYKGJhdGNoLCB4UiwgeENPZmZzZXQsIGQxKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrZytcIkNcIisobSsyKStcIiA9IHZlYzQoMC4pO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIHhSXCIrZytcIkNcIittK1wiID0gdmVjNChcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrZytcIkNcIittK1wiLnh5LCB4VGV4ZWxSXCIrZytcIkNcIisobSsyKStcIi54eSk7XFxuICAgICAgICAgICAgICBcIixtKzE8ZCYmKHYrPVwiXFxuICAgICAgICAgICAgICAgICAgeFJcIitnK1wiQ1wiKyhtKzEpK1wiID0gdmVjNChcXG4gICAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIitnK1wiQ1wiK20rXCIuencsIHhUZXhlbFJcIitnK1wiQ1wiKyhtKzIpK1wiLnp3KTtcXG4gICAgICAgICAgICAgICAgXCIpKSx2Kz1cIn1cIik7bTxkJiYodis9XCJcXG4gICAgICAgICAgICB2ZWM0IHdUZXhlbFJcIitnK1wiQ1wiK20rXCIgPSBnZXRXKFwiK2crXCIsIFwiK20rXCIsIGQxLCBxKTtcXG4gICAgICAgICAgICB3UlwiK2crXCJDXCIrbStcIiA9IHZlYzQod1RleGVsUlwiK2crXCJDXCIrbStcIi54eiwgd1RleGVsUlwiK2crXCJDXCIrbStcIi54eik7XFxuICAgICAgICAgIFwiLG0rMTxkJiYodis9XCJcXG4gICAgICAgICAgICAgIHZlYzQgd1RleGVsUlwiK2crXCJDXCIrKG0rMSkrXCIgPSBnZXRXKFwiK2crXCIsIFwiKyhtKzEpK1wiLCBkMSwgcSk7XFxuICAgICAgICAgICAgICB3UlwiK2crXCJDXCIrKG0rMSkrXCIgPVxcbiAgICAgICAgICAgICAgICB2ZWM0KHdUZXhlbFJcIitnK1wiQ1wiKyhtKzEpK1wiLnh6LCB3VGV4ZWxSXCIrZytcIkNcIisobSsxKStcIi54eik7XCIpKX1mb3IoZz0wO2c8ZjtnKyspZm9yKG09MDttPGQ7bSsrKXYrPVwiZG90UHJvZCArPSB4UlwiK2crXCJDXCIrbStcIiAqIHdSXCIrZytcIkNcIittK1wiO1wiO3ZhciB3PVwiXCIsQz1cIlwiO24mJih3PXI/XCJ2ZWM0IGFjdGl2YXRpb24odmVjNCBhKSB7XFxuICAgICAgICAgIHZlYzQgYiA9IGdldFByZWx1QWN0aXZhdGlvbldlaWdodHNBdE91dENvb3JkcygpO1xcbiAgICAgICAgICBcIituK1wiXFxuICAgICAgICB9XCI6XCJ2ZWM0IGFjdGl2YXRpb24odmVjNCB4KSB7XFxuICAgICAgICAgIFwiK24rXCJcXG4gICAgICAgIH1cIixDPVwicmVzdWx0ID0gYWN0aXZhdGlvbihyZXN1bHQpO1wiKTt2YXIgRT1lP1wicmVzdWx0ICs9IGdldEJpYXNBdE91dENvb3JkcygpO1wiOlwiXCI7ZSYmdGhpcy52YXJpYWJsZU5hbWVzLnB1c2goXCJiaWFzXCIpLHImJnRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwicHJlbHVBY3RpdmF0aW9uV2VpZ2h0c1wiKSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgXCIrdytcIlxcblxcbiAgICAgIGNvbnN0IGl2ZWMyIHN0cmlkZXMgPSBpdmVjMihcIit1K1wiLCBcIitjK1wiKTtcXG4gICAgICBjb25zdCBpdmVjMiBwYWRzID0gaXZlYzIoXCIraStcIiwgXCIrcytcIik7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcblxcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHMueDtcXG4gICAgICAgIGl2ZWMyIHhSQ0Nvcm5lciA9IGNvb3Jkcy55eiAqIHN0cmlkZXMgLSBwYWRzO1xcbiAgICAgICAgaW50IGQyID0gY29vcmRzLnc7XFxuICAgICAgICBpbnQgZDEgPSBkMjtcXG4gICAgICAgIGludCBxID0gMDtcXG4gICAgICAgIGludCB4UkNvcm5lciA9IHhSQ0Nvcm5lci54O1xcbiAgICAgICAgaW50IHhDQ29ybmVyID0geFJDQ29ybmVyLnk7XFxuXFxuICAgICAgICB2ZWM0IGRvdFByb2QgPSB2ZWM0KDAuKTtcXG5cXG4gICAgICAgIFwiK3YrXCJcXG5cXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gZG90UHJvZDtcXG4gICAgICAgIFwiK0UrXCJcXG4gICAgICAgIFwiK0MrXCJcXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9LEhpPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkltYWdlXCIsXCJCb3hlc1wiLFwiQm94SW5kXCJdLHRoaXMub3V0cHV0U2hhcGU9W107dmFyIGE9dFswXSxpPXRbMV0scz10WzJdLHU9dFszXSxjPWVbMF0sbD1uWzBdLGg9blsxXTt0aGlzLm91dHB1dFNoYXBlPVtjLGwsaCx1XTt2YXIgZj1cImJpbGluZWFyXCI9PT1yPzE6MCxkPVtpLTErXCIuMFwiLHMtMStcIi4wXCJdLHA9ZFswXSx2PWRbMV0sZz1sPjE/W1wiXCIrKGktMSkvKGwtMSksXCIoeTIteTEpICogaGVpZ2h0X3JhdGlvXCIsXCJ5MSpcIitwK1wiICsgZmxvYXQoeSkqKGhlaWdodF9zY2FsZSlcIl06W1wiMC4wXCIsXCIwLjBcIixcIjAuNSAqICh5MSt5MikgKiBcIitwXSxtPWdbMF0seT1nWzFdLHg9Z1syXSxiPWg+MT9bXCJcIisocy0xKS8oaC0xKSxcIih4Mi14MSkgKiB3aWR0aF9yYXRpb1wiLFwieDEqXCIrditcIiArIGZsb2F0KHgpKih3aWR0aF9zY2FsZSlcIl06W1wiMC4wXCIsXCIwLjBcIixcIjAuNSAqICh4MSt4MikgKiBcIit2XSx3PWJbMF0sQz1iWzFdLEU9YlsyXTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgZmxvYXQgaGVpZ2h0X3JhdGlvID0gZmxvYXQoXCIrbStcIik7XFxuICAgICAgY29uc3QgZmxvYXQgd2lkdGhfcmF0aW8gPSBmbG9hdChcIit3K1wiKTtcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiID0gY29vcmRzWzBdO1xcbiAgICAgICAgaW50IHkgPSBjb29yZHNbMV07XFxuICAgICAgICBpbnQgeCA9IGNvb3Jkc1syXTtcXG4gICAgICAgIGludCBkID0gY29vcmRzWzNdO1xcblxcbiAgICAgICAgLy8gZ2V0IGJveCB2YWxzXFxuICAgICAgICBmbG9hdCB5MSA9IGdldEJveGVzKGIsMCk7XFxuICAgICAgICBmbG9hdCB4MSA9IGdldEJveGVzKGIsMSk7XFxuICAgICAgICBmbG9hdCB5MiA9IGdldEJveGVzKGIsMik7XFxuICAgICAgICBmbG9hdCB4MiA9IGdldEJveGVzKGIsMyk7XFxuXFxuICAgICAgICAvLyBnZXQgaW1hZ2UgaW4gYmF0Y2ggaW5kZXhcXG4gICAgICAgIGludCBiSW5kID0gcm91bmQoZ2V0Qm94SW5kKGIpKTtcXG4gICAgICAgIGlmKGJJbmQgPCAwIHx8IGJJbmQgPj0gXCIrYStcIikge1xcbiAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgICBmbG9hdCBoZWlnaHRfc2NhbGUgPSBcIit5K1wiO1xcbiAgICAgICAgZmxvYXQgd2lkdGhfc2NhbGUgPSBcIitDK1wiO1xcblxcbiAgICAgICAgZmxvYXQgaW5feSA9IFwiK3grXCI7XFxuICAgICAgICBpZiggaW5feSA8IDAuMCB8fCBpbl95ID4gXCIrcCtcIiApIHtcXG4gICAgICAgICAgc2V0T3V0cHV0KGZsb2F0KFwiK28rXCIpKTtcXG4gICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgICAgZmxvYXQgaW5feCA9IFwiK0UrXCI7XFxuICAgICAgICBpZiggaW5feCA8IDAuMCB8fCBpbl94ID4gXCIrditcIiApIHtcXG4gICAgICAgICAgc2V0T3V0cHV0KGZsb2F0KFwiK28rXCIpKTtcXG4gICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgdmVjMiBzb3VyY2VGcmFjSW5kZXhDUiA9IHZlYzIoaW5feCxpbl95KTtcXG4gICAgICAgIGlmKFwiK2YrXCIgPT0gMSkge1xcbiAgICAgICAgICAvLyBDb21wdXRlIHRoZSBmb3VyIGludGVnZXIgaW5kaWNlcy5cXG4gICAgICAgICAgaXZlYzIgc291cmNlRmxvb3JDUiA9IGl2ZWMyKHNvdXJjZUZyYWNJbmRleENSKTtcXG4gICAgICAgICAgaXZlYzIgc291cmNlQ2VpbENSID0gaXZlYzIoY2VpbChzb3VyY2VGcmFjSW5kZXhDUikpO1xcblxcbiAgICAgICAgICBmbG9hdCB0b3BMZWZ0ID0gZ2V0SW1hZ2UoYiwgc291cmNlRmxvb3JDUi55LCBzb3VyY2VGbG9vckNSLngsIGQpO1xcbiAgICAgICAgICBmbG9hdCBib3R0b21MZWZ0ID0gZ2V0SW1hZ2UoYiwgc291cmNlQ2VpbENSLnksIHNvdXJjZUZsb29yQ1IueCwgZCk7XFxuICAgICAgICAgIGZsb2F0IHRvcFJpZ2h0ID0gZ2V0SW1hZ2UoYiwgc291cmNlRmxvb3JDUi55LCBzb3VyY2VDZWlsQ1IueCwgZCk7XFxuICAgICAgICAgIGZsb2F0IGJvdHRvbVJpZ2h0ID0gZ2V0SW1hZ2UoYiwgc291cmNlQ2VpbENSLnksIHNvdXJjZUNlaWxDUi54LCBkKTtcXG5cXG4gICAgICAgICAgdmVjMiBmcmFjQ1IgPSBzb3VyY2VGcmFjSW5kZXhDUiAtIHZlYzIoc291cmNlRmxvb3JDUik7XFxuXFxuICAgICAgICAgIGZsb2F0IHRvcCA9IHRvcExlZnQgKyAodG9wUmlnaHQgLSB0b3BMZWZ0KSAqIGZyYWNDUi54O1xcbiAgICAgICAgICBmbG9hdCBib3R0b20gPSBib3R0b21MZWZ0ICsgKGJvdHRvbVJpZ2h0IC0gYm90dG9tTGVmdCkgKiBmcmFjQ1IueDtcXG4gICAgICAgICAgZmxvYXQgbmV3VmFsdWUgPSB0b3AgKyAoYm90dG9tIC0gdG9wKSAqIGZyYWNDUi55O1xcbiAgICAgICAgICBzZXRPdXRwdXQobmV3VmFsdWUpO1xcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgY29vcmRpbmF0b3JzIG9mIG5lYXJlc3QgbmVpZ2hib3IgcG9pbnQuXFxuICAgICAgICAgIGl2ZWMyIHNvdXJjZU5lYXJlc3RDUiA9IGl2ZWMyKGZsb29yKFxcbiAgICAgICAgICAgIHNvdXJjZUZyYWNJbmRleENSICsgdmVjMigwLjUsMC41KSkpO1xcbiAgICAgICAgICBmbG9hdCBuZXdWYWx1ZSA9IGdldEltYWdlKGIsIHNvdXJjZU5lYXJlc3RDUi55LCBzb3VyY2VOZWFyZXN0Q1IueCwgZCk7XFxuICAgICAgICAgIHNldE91dHB1dChuZXdWYWx1ZSk7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICBcIn0scWk9ZnVuY3Rpb24odCxlLG4pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCJdLHRoaXMub3V0cHV0U2hhcGU9dDt2YXIgcj10Lmxlbmd0aCxvPXRbdC5sZW5ndGgtMV0sYT1uP1wiPFwiOlwiPlwiO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICBpbnQgZ2V0SW5kZXgoaW50IGkpIHtcXG4gICAgICAgIFwiKyhuP1wicmV0dXJuIFwiK28rXCIgLWkgLSAxO1wiOlwicmV0dXJuIGk7XCIpK1wiXFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIFwiK3VpKHIpK1wiIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGVuZCA9IFwiK0tpKHIsXCJjb29yZHNcIikrXCI7XFxuICAgICAgICBmbG9hdCB2YWwgPSAwLjA7XFxuICAgICAgICBmb3IgKGludCBpID0gXCIrbytcIiAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XFxuICAgICAgICAgIGludCBpZHggPSBnZXRJbmRleChpKTtcXG4gICAgICAgICAgaWYgKGlkeCBcIithK1wiIGVuZCkge1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIGlmIChpZHggPT0gZW5kICYmIFwiK2UrXCIpIHtcXG4gICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBcIitLaShyLFwiY29vcmRzXCIpK1wiID0gaWR4O1xcbiAgICAgICAgICB2YWwgKz0gZ2V0WChcIitmdW5jdGlvbih0LGUpe2lmKDE9PT10KXJldHVyblwiXCIrZTtpZigyPT09dClyZXR1cm4gZStcIi54LCBcIitlK1wiLnlcIjtpZigzPT09dClyZXR1cm4gZStcIi54LCBcIitlK1wiLnksIFwiK2UrXCIuelwiO2lmKDQ9PT10KXJldHVybiBlK1wiLngsIFwiK2UrXCIueSwgXCIrZStcIi56LCBcIitlK1wiLndcIjt0aHJvdyBFcnJvcihcIkN1bXVsYXRpdmUgc3VtIGZvciByYW5rIFwiK3QrXCIgaXMgbm90IHlldCBzdXBwb3J0ZWRcIil9KHIsXCJjb29yZHNcIikrXCIpO1xcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KHZhbCk7XFxuICAgICAgfVxcbiAgICBcIn07ZnVuY3Rpb24gS2kodCxlKXtpZigxPT09dClyZXR1cm5cIlwiK2U7aWYoMj09PXQpcmV0dXJuIGUrXCIueVwiO2lmKDM9PT10KXJldHVybiBlK1wiLnpcIjtpZig0PT09dClyZXR1cm4gZStcIi53XCI7dGhyb3cgRXJyb3IoXCJDdW11bGF0aXZlIHN1bSBmb3IgcmFuayBcIit0K1wiIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpfXZhciBqaT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMSx0aGlzLnBhY2tlZE91dHB1dD0hMCx0aGlzLm91dFBhY2tpbmdTY2hlbWU9VnQuREVOU0U7dmFyIGU9WXQodCksbj1ZYSgpO3RoaXMub3V0cHV0U2hhcGU9dCx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgaXZlYzMgb3V0Q29vcmRzRnJvbUZsYXRJbmRleChpbnQgaW5kZXgpIHtcXG4gICAgICAgIFwiKyRhKFtcInJcIixcImNcIixcImRcIl0sdCkrXCJcXG4gICAgICAgIHJldHVybiBpdmVjMyhyLCBjLCBkKTtcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICAgIHZlYzIoXCIrZVswXStcIiwgXCIrZVsxXStcIikpO1xcbiAgICAgICAgaW50IGluZGV4ID0gNCAqIChyZXNUZXhSQy54ICogXCIrZVsxXStcIiArIHJlc1RleFJDLnkpO1xcblxcbiAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDAuKTtcXG5cXG4gICAgICAgIGZvciAoaW50IGk9MDsgaTw0OyBpKyspIHtcXG4gICAgICAgICAgaW50IGZsYXRJbmRleCA9IGluZGV4ICsgaTtcXG4gICAgICAgICAgaXZlYzMgcmMgPSBvdXRDb29yZHNGcm9tRmxhdEluZGV4KGZsYXRJbmRleCk7XFxuICAgICAgICAgIHJlc3VsdFtpXSA9IGdldEEocmMueCwgcmMueSwgcmMueik7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBcIituLm91dHB1dCtcIiA9IHJlc3VsdDtcXG4gICAgICB9XFxuICAgIFwifSxYaT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMCx0aGlzLnBhY2tlZE91dHB1dD0hMCx0aGlzLm91dFBhY2tpbmdTY2hlbWU9VnQuREVOU0U7dmFyIGU9WXQodCksbj1ZYSgpO3RoaXMub3V0cHV0U2hhcGU9dCx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgaXZlYzMgb3V0Q29vcmRzRnJvbUZsYXRJbmRleChpbnQgaW5kZXgpIHtcXG4gICAgICAgIFwiKyRhKFtcInJcIixcImNcIixcImRcIl0sdCkrXCJcXG4gICAgICAgIHJldHVybiBpdmVjMyhyLCBjLCBkKTtcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICAgIHZlYzIoXCIrZVswXStcIiwgXCIrZVsxXStcIikpO1xcbiAgICAgICAgaW50IGluZGV4ID0gNCAqIChyZXNUZXhSQy54ICogXCIrZVsxXStcIiArIHJlc1RleFJDLnkpO1xcblxcbiAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDAuKTtcXG5cXG4gICAgICAgIGZvciAoaW50IGk9MDsgaTw0OyBpKyspIHtcXG4gICAgICAgICAgaW50IGZsYXRJbmRleCA9IGluZGV4ICsgaTtcXG4gICAgICAgICAgaXZlYzMgcmMgPSBvdXRDb29yZHNGcm9tRmxhdEluZGV4KGZsYXRJbmRleCk7XFxuICAgICAgICAgIHJlc3VsdFtpXSA9IGdldENoYW5uZWwoZ2V0QShyYy54LCByYy55LCByYy56KSwgdmVjMihyYy55LCByYy56KSk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBcIituLm91dHB1dCtcIiA9IHJlc3VsdDtcXG4gICAgICB9XFxuICAgIFwifSxZaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCJdLHRoaXMub3V0cHV0U2hhcGU9W10sdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMuYmxvY2tTaXplPWUsdGhpcy5kYXRhRm9ybWF0PW4sdGhpcy51c2VyQ29kZT1cIlxcbiAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgaW50IGIgPSBjb29yZHNbMF07XFxuICAgICAgaW50IGggPSBcIit0aGlzLmdldEhlaWdodENvb3JkU3RyaW5nKCkrXCI7XFxuICAgICAgaW50IHcgPSBcIit0aGlzLmdldFdpZHRoQ29vcmRTdHJpbmcoKStcIjtcXG4gICAgICBpbnQgZCA9IFwiK3RoaXMuZ2V0RGVwdGhDb29yZFN0cmluZygpK1wiO1xcblxcbiAgICAgIGludCBpbl9oID0gaCAvIFwiK2UrXCI7XFxuICAgICAgaW50IG9mZnNldF9oID0gaW1vZChoLCBcIitlK1wiKTtcXG4gICAgICBpbnQgaW5fdyA9IHcgLyBcIitlK1wiO1xcbiAgICAgIGludCBvZmZzZXRfdyA9IGltb2QodywgXCIrZStcIik7XFxuICAgICAgaW50IG9mZnNldF9kID0gKG9mZnNldF9oICogXCIrZStcIiArIG9mZnNldF93KSAqXFxuICAgICAgICBcIit0aGlzLmdldE91dHB1dERlcHRoU2l6ZSgpK1wiO1xcbiAgICAgIGludCBpbl9kID0gZCArIG9mZnNldF9kO1xcblxcbiAgICAgIGZsb2F0IHJlc3VsdCA9IFwiK3RoaXMuZ2V0SW5wdXRTYW1wbGluZ1N0cmluZygpK1wiO1xcbiAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICB9XFxuICBcIn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0SGVpZ2h0Q29vcmRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk5IV0NcIj09PXRoaXMuZGF0YUZvcm1hdD9cImNvb3Jkc1sxXVwiOlwiY29vcmRzWzJdXCJ9LHQucHJvdG90eXBlLmdldFdpZHRoQ29vcmRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk5IV0NcIj09PXRoaXMuZGF0YUZvcm1hdD9cImNvb3Jkc1syXVwiOlwiY29vcmRzWzNdXCJ9LHQucHJvdG90eXBlLmdldERlcHRoQ29vcmRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk5IV0NcIj09PXRoaXMuZGF0YUZvcm1hdD9cImNvb3Jkc1szXVwiOlwiY29vcmRzWzFdXCJ9LHQucHJvdG90eXBlLmdldE91dHB1dERlcHRoU2l6ZT1mdW5jdGlvbigpe3JldHVyblwiTkhXQ1wiPT09dGhpcy5kYXRhRm9ybWF0P3RoaXMub3V0cHV0U2hhcGVbM106dGhpcy5vdXRwdXRTaGFwZVsxXX0sdC5wcm90b3R5cGUuZ2V0SW5wdXRTYW1wbGluZ1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiTkhXQ1wiPT09dGhpcy5kYXRhRm9ybWF0P1wiZ2V0WChiLCBpbl9oLCBpbl93LCBpbl9kKVwiOlwiZ2V0WChiLCBpbl9kLCBpbl9oLCBpbl93KVwifSx0fSgpLCRpPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJYXCJdLHRoaXMub3V0cHV0U2hhcGU9W3QsdF0sdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgaXZlYzIgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICAgIGZsb2F0IHZhbCA9IGNvb3Jkc1swXSA9PSBjb29yZHNbMV0gPyBnZXRYKGNvb3Jkc1swXSkgOiAwLjA7XFxuICAgICAgICAgIHNldE91dHB1dCh2YWwpO1xcbiAgICAgIH1cXG4gICAgXCJ9LFFpPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdLHRoaXMub3V0VGV4VXNhZ2U9enQuRE9XTkxPQUQ7dmFyIGU9WWEoKTt0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIFwiK0phK1wiXFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgZmxvYXQgeCA9IGdldEFBdE91dENvb3JkcygpO1xcbiAgICAgICAgXCIrZS5vdXRwdXQrXCIgPSBlbmNvZGVfZmxvYXQoeCk7XFxuICAgICAgfVxcbiAgICBcIn0sSmk9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITEsdGhpcy5vdXRUZXhVc2FnZT16dC5ET1dOTE9BRDt2YXIgZT1ZYSgpO3RoaXMub3V0cHV0U2hhcGU9dCx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgXCIrSmErXCJcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjMyBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGZsb2F0IHggPSBnZXRDaGFubmVsKGdldEFBdE91dENvb3JkcygpLCB2ZWMyKGNvb3Jkcy55LCBjb29yZHMueikpO1xcbiAgICAgICAgXCIrZS5vdXRwdXQrXCIgPSBlbmNvZGVfZmxvYXQoeCk7XFxuICAgICAgfVxcbiAgICBcIn0sWmk9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPSExKSx0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXTt2YXIgcj1ZYSgpLG89ZVswXSxhPWVbMV07dGhpcy5vdXRwdXRTaGFwZT10O3ZhciBpPVwicmVzdWx0XCI7biYmKGk9XCJmbG9vcihyZXN1bHQgKiAyNTUuICsgMC41KVwiKSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgXCIrUWEodCkrXCJcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjMyBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG5cXG4gICAgICAgIGludCBmbGF0SW5kZXggPSBnZXRGbGF0SW5kZXgoY29vcmRzKTtcXG4gICAgICAgIGludCBvZmZzZXQgPSBpbW9kKGZsYXRJbmRleCwgNCk7XFxuXFxuICAgICAgICBmbGF0SW5kZXggPSBpZGl2KGZsYXRJbmRleCwgNCwgMS4pO1xcbiAgICAgICAgXFxuICAgICAgICBpbnQgciA9IGZsYXRJbmRleCAvIFwiK2ErXCI7XFxuICAgICAgICBpbnQgYyA9IGltb2QoZmxhdEluZGV4LCBcIithK1wiKTtcXG4gICAgICAgIHZlYzIgdXYgPSAodmVjMihjLCByKSArIGhhbGZDUikgLyB2ZWMyKFwiK2ErXCIuMCwgXCIrbytcIi4wKTtcXG4gICAgICAgIHZlYzQgdmFsdWVzID0gXCIrci50ZXh0dXJlMkQrXCIoQSwgdXYpO1xcblxcbiAgICAgICAgZmxvYXQgcmVzdWx0O1xcblxcbiAgICAgICAgaWYob2Zmc2V0ID09IDApIHtcXG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWVzWzBdO1xcbiAgICAgICAgfSBlbHNlIGlmKG9mZnNldCA9PSAxKSB7XFxuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlc1sxXTtcXG4gICAgICAgIH0gZWxzZSBpZihvZmZzZXQgPT0gMikge1xcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZXNbMl07XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZXNbM107XFxuICAgICAgICB9XFxuXFxuICAgICAgICBcIityLm91dHB1dCtcIiA9IHZlYzQoXCIraStcIiwgMC4sIDAuLCAwLik7XFxuICAgICAgfVxcbiAgICBcIn0sdHM9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPSExKSx0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMSx0aGlzLnBhY2tlZE91dHB1dD0hMDt2YXIgcj1ZYSgpLG89ZVswXSxhPWVbMV07dGhpcy5vdXRwdXRTaGFwZT10O3ZhciBpPVwiXCIscz1cInJlc3VsdFwiO24mJihzPVwiZmxvb3IocmVzdWx0ICogMjU1LiArIDAuNSlcIik7Zm9yKHZhciB1PTA7dTw9MTt1KyspZm9yKHZhciBjPTA7Yzw9MTtjKyspe3ZhciBsPTIqdStjO2krPVwiXFxuICAgICAgICAgIGxvY2FsQ29vcmRzID0gY29vcmRzO1xcbiAgICAgICAgICBpZihsb2NhbENvb3Jkc1syXSArIFwiK2MrXCIgPCBcIit0WzJdK1wiKSB7XFxuICAgICAgICAgICAgbG9jYWxDb29yZHNbMl0gKz0gXCIrYytcIjtcXG4gICAgICAgICAgICBpZihsb2NhbENvb3Jkc1sxXSArIFwiK3UrXCIgPCBcIit0WzFdK1wiKSB7XFxuICAgICAgICAgICAgICBsb2NhbENvb3Jkc1sxXSArPSBcIit1K1wiO1xcblxcbiAgICAgICAgICAgICAgZmxhdEluZGV4ID0gZ2V0RmxhdEluZGV4KGxvY2FsQ29vcmRzKTtcXG4gICAgICAgICAgICAgIG9mZnNldCA9IGltb2QoZmxhdEluZGV4LCA0KTtcXG5cXG4gICAgICAgICAgICAgIGZsYXRJbmRleCA9IGlkaXYoZmxhdEluZGV4LCA0LCAxLik7XFxuXFxuICAgICAgICAgICAgICByID0gZmxhdEluZGV4IC8gXCIrYStcIjtcXG4gICAgICAgICAgICAgIGMgPSBpbW9kKGZsYXRJbmRleCwgXCIrYStcIik7XFxuICAgICAgICAgICAgICB1diA9ICh2ZWMyKGMsIHIpICsgaGFsZkNSKSAvIHZlYzIoXCIrYStcIi4wLCBcIitvK1wiLjApO1xcbiAgICAgICAgICAgICAgdmFsdWVzID0gXCIrci50ZXh0dXJlMkQrXCIoQSwgdXYpO1xcblxcbiAgICAgICAgICAgICAgaWYob2Zmc2V0ID09IDApIHtcXG4gICAgICAgICAgICAgICAgcmVzdWx0W1wiK2wrXCJdID0gdmFsdWVzWzBdO1xcbiAgICAgICAgICAgICAgfSBlbHNlIGlmKG9mZnNldCA9PSAxKSB7XFxuICAgICAgICAgICAgICAgIHJlc3VsdFtcIitsK1wiXSA9IHZhbHVlc1sxXTtcXG4gICAgICAgICAgICAgIH0gZWxzZSBpZihvZmZzZXQgPT0gMikge1xcbiAgICAgICAgICAgICAgICByZXN1bHRbXCIrbCtcIl0gPSB2YWx1ZXNbMl07XFxuICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICByZXN1bHRbXCIrbCtcIl0gPSB2YWx1ZXNbM107XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICBcIn10aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgXCIrUWEodCkrXCJcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjMyBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG5cXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gdmVjNCgwLik7XFxuICAgICAgICBpbnQgZmxhdEluZGV4LCByLCBjLCBvZmZzZXQ7XFxuICAgICAgICBpdmVjMyBsb2NhbENvb3JkcztcXG4gICAgICAgIHZlYzIgdXY7XFxuICAgICAgICB2ZWM0IHZhbHVlcztcXG5cXG4gICAgICAgIFwiK2krXCJcXG5cXG4gICAgICAgIFwiK3Iub3V0cHV0K1wiID0gXCIrcytcIjtcXG4gICAgICB9XFxuICAgIFwifSxlcz1cInJldHVybiByZWFsICogZXhwUiAtIGltYWcgKiBleHBJO1wiLG5zPVwicmV0dXJuIHJlYWwgKiBleHBJICsgaW1hZyAqIGV4cFI7XCIscnM9ZnVuY3Rpb24odCxlLG4pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJyZWFsXCIsXCJpbWFnXCJdO3ZhciByPWVbMV07dGhpcy5vdXRwdXRTaGFwZT1lO3ZhciBvPW4/XCIyLjAgKiBcIitNYXRoLlBJOlwiLTIuMCAqIFwiK01hdGguUEksYT1uP3IrXCIuMFwiOlwiMS4wXCI7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGNvbnN0IGZsb2F0IGV4cG9uZW50TXVsdGlwbGllciA9IFwiK28rXCI7XFxuXFxuICAgICAgZmxvYXQgdW5hcnlPcENvbXBsZXgoZmxvYXQgcmVhbCwgZmxvYXQgZXhwUiwgZmxvYXQgaW1hZywgZmxvYXQgZXhwSSkge1xcbiAgICAgICAgXCIrdCtcIlxcbiAgICAgIH1cXG5cXG4gICAgICBmbG9hdCBtdWxNYXRERlQoaW50IGJhdGNoLCBpbnQgaW5kZXgpIHtcXG4gICAgICAgIGZsb2F0IGluZGV4UmF0aW8gPSBmbG9hdChpbmRleCkgLyBmbG9hdChcIityK1wiKTtcXG4gICAgICAgIGZsb2F0IGV4cG9uZW50TXVsdGlwbGllclRpbWVzSW5kZXhSYXRpbyA9XFxuICAgICAgICAgICAgZXhwb25lbnRNdWx0aXBsaWVyICogaW5kZXhSYXRpbztcXG5cXG4gICAgICAgIGZsb2F0IHJlc3VsdCA9IDAuMDtcXG5cXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgXCIrcitcIjsgaSsrKSB7XFxuICAgICAgICAgIC8vIHggPSAoLTJ8MiAqIFBJIC8gTikgKiBpbmRleCAqIGk7XFxuICAgICAgICAgIGZsb2F0IHggPSBleHBvbmVudE11bHRpcGxpZXJUaW1lc0luZGV4UmF0aW8gKiBmbG9hdChpKTtcXG4gICAgICAgICAgZmxvYXQgZXhwUiA9IGNvcyh4KTtcXG4gICAgICAgICAgZmxvYXQgZXhwSSA9IHNpbih4KTtcXG4gICAgICAgICAgZmxvYXQgcmVhbCA9IGdldFJlYWwoYmF0Y2gsIGkpO1xcbiAgICAgICAgICBmbG9hdCBpbWFnID0gZ2V0SW1hZyhiYXRjaCwgaSk7XFxuXFxuICAgICAgICAgIHJlc3VsdCArPVxcbiAgICAgICAgICAgICAgdW5hcnlPcENvbXBsZXgocmVhbCwgZXhwUiwgaW1hZywgZXhwSSkgLyBcIithK1wiO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzIgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBzZXRPdXRwdXQobXVsTWF0REZUKGNvb3Jkc1swXSwgY29vcmRzWzFdKSk7XFxuICAgICAgfVxcbiAgICBcIn0sb3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5vdXRwdXRTaGFwZT1bXSx0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiXSx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHVuaWZvcm0gZmxvYXQgdmFsdWU7XFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgLy8gSW5wdXQgY2FuIGJlIG9idGFpbmVkIGZyb20gdW5pZm9ybSB2YWx1ZS5cXG4gICAgICAgIHNldE91dHB1dCh2YWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0Q3VzdG9tU2V0dXBGdW5jPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4scil7bnVsbD09ZS52YWx1ZUxvYyYmKGUudmFsdWVMb2M9bi5nZXRVbmlmb3JtTG9jYXRpb25Ob1Rocm93KHIsXCJ2YWx1ZVwiKSksbi5nbC51bmlmb3JtMWYoZS52YWx1ZUxvYyx0KX19LHR9KCksYXM9ZnVuY3Rpb24odCxlLG4pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCIsXCJpbmRpY2VzXCJdO3ZhciByPXQuc2xpY2UoKTtyW25dPWUsdGhpcy5vdXRwdXRTaGFwZT1yLHRoaXMucmFuaz1yLmxlbmd0aDt2YXIgbz11aSh0aGlzLnJhbmspLGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aDtpZihuPjQpdGhyb3cgRXJyb3IoXCJHYXRoZXIgZm9yIHJhbmsgXCIrbitcIiBpcyBub3QgeWV0IHN1cHBvcnRlZFwiKTtpZigxPT09bilyZXR1cm5cImludChnZXRJbmRpY2VzKHJlc1JDKSlcIjtmb3IodmFyIHI9W1wicmVzUkMueFwiLFwicmVzUkMueVwiLFwicmVzUkMuelwiLFwicmVzUkMud1wiXSxvPVtdLGE9MDthPHQubGVuZ3RoO2ErKylhPT09ZT9vLnB1c2goXCJpbnQoZ2V0SW5kaWNlcyhcIityW2FdK1wiKSlcIik6by5wdXNoKFwiXCIrclthXSk7cmV0dXJuIG8uam9pbigpfSh0LG4pO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBcIitvK1wiIHJlc1JDID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBzZXRPdXRwdXQoZ2V0QShcIithK1wiKSk7XFxuICAgICAgfVxcbiAgICBcIn07dmFyIGlzPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnNsaWNlRGltPXQsdGhpcy5zdHJpZGVzPWUsdGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIixcImluZGljZXNcIl0sdGhpcy5vdXRwdXRTaGFwZT1uO3ZhciByPXVpKGUubGVuZ3RoKSxvPXVpKG4ubGVuZ3RoKSxhPXRoaXMuc2xpY2VEaW0+MT9cInN0cmlkZXNbal1cIjpcInN0cmlkZXNcIjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgICBcIityK1wiIHN0cmlkZXMgPSBcIityK1wiKFwiK3RoaXMuc3RyaWRlcytcIik7XFxuICAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICBcIitvK1wiIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICBpbnQgZmxhdHRlbkluZGV4ID0gMDtcXG4gICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBcIit0aGlzLnNsaWNlRGltK1wiOyBqKyspIHtcXG4gICAgICAgICAgICBpbnQgaW5kZXggPSByb3VuZChnZXRJbmRpY2VzKGNvb3Jkc1swXSwgaikpO1xcbiAgICAgICAgICAgIGZsYXR0ZW5JbmRleCArPSBpbmRleCAqIFwiK2ErXCI7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgc2V0T3V0cHV0KGdldFgoZmxhdHRlbkluZGV4LCBjb29yZHNbMV0pKTtcXG4gICAgICAgIH1cXG4gICAgICBcIn07ZnVuY3Rpb24gc3ModCxlKXt2YXIgbj1ZYSgpO3JldHVybiBvZSh0LGUsbi52ZXJzaW9uK1wiXFxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4gICAgXCIrbi5hdHRyaWJ1dGUrXCIgdmVjMyBjbGlwU3BhY2VQb3M7XFxuICAgIFwiK24uYXR0cmlidXRlK1wiIHZlYzIgdXY7XFxuICAgIFwiK24udmFyeWluZ1ZzK1wiIHZlYzIgcmVzdWx0VVY7XFxuXFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoY2xpcFNwYWNlUG9zLCAxKTtcXG4gICAgICByZXN1bHRVViA9IHV2O1xcbiAgICB9XCIpfWZ1bmN0aW9uIHVzKHQsZSl7cmV0dXJuIGZlKHQsZSxuZXcgRmxvYXQzMkFycmF5KFstMSwxLDAsMCwxLC0xLC0xLDAsMCwwLDEsMSwwLDEsMSwxLC0xLDAsMSwwXSkpfWZ1bmN0aW9uIGNzKHQsZSl7cmV0dXJuIGRlKHQsZSxuZXcgVWludDE2QXJyYXkoWzAsMSwyLDIsMSwzXSkpfWZ1bmN0aW9uIGxzKHQsZSxuLHIsbyxhLGkpe3ZlKG4scik7dmFyIHM9cGUodCxlKSx1PXQuVEVYVFVSRV8yRDtyZXR1cm4gSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRUZXh0dXJlKHUscyl9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnRleFBhcmFtZXRlcmkodSx0LlRFWFRVUkVfV1JBUF9TLHQuQ0xBTVBfVE9fRURHRSl9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnRleFBhcmFtZXRlcmkodSx0LlRFWFRVUkVfV1JBUF9ULHQuQ0xBTVBfVE9fRURHRSl9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnRleFBhcmFtZXRlcmkodSx0LlRFWFRVUkVfTUlOX0ZJTFRFUix0Lk5FQVJFU1QpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC50ZXhQYXJhbWV0ZXJpKHUsdC5URVhUVVJFX01BR19GSUxURVIsdC5ORUFSRVNUKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQudGV4SW1hZ2UyRCh1LDAsbyxuLHIsMCxhLGksbnVsbCl9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxudWxsKX0pKSxzfWZ1bmN0aW9uIGhzKHQsZSxuLHIsbyl7dmFyIGE9WHQobixyKTtyZXR1cm4gbHModCxlLGFbMF0sYVsxXSxvLmludGVybmFsRm9ybWF0RmxvYXQsby50ZXh0dXJlRm9ybWF0RmxvYXQsdC5GTE9BVCl9ZnVuY3Rpb24gZnModCxlLG4scixvKXt2YXIgYT1YdChuLHIpO3JldHVybiBscyh0LGUsYVswXSxhWzFdLG8uaW50ZXJuYWxGb3JtYXRIYWxmRmxvYXQsby50ZXh0dXJlRm9ybWF0RmxvYXQsby50ZXh0dXJlVHlwZUhhbGZGbG9hdCl9ZnVuY3Rpb24gZHModCxlLG4scixvKXt2YXIgYT1YdChuLHIpO3JldHVybiBscyh0LGUsYVswXSxhWzFdLHQuUkdCQSx0LlJHQkEsdC5VTlNJR05FRF9CWVRFKX1mdW5jdGlvbiBwcyh0LGUsbixyLG8pe3ZhciBhPSR0KG4scik7cmV0dXJuIGxzKHQsZSxhWzBdLGFbMV0sby5pbnRlcm5hbEZvcm1hdFBhY2tlZEZsb2F0LHQuUkdCQSx0LkZMT0FUKX1mdW5jdGlvbiB2cyh0LGUsbixyLG8pe3ZhciBhPSR0KG4scik7cmV0dXJuIGxzKHQsZSxhWzBdLGFbMV0sby5pbnRlcm5hbEZvcm1hdFBhY2tlZEhhbGZGbG9hdCx0LlJHQkEsby50ZXh0dXJlVHlwZUhhbGZGbG9hdCl9ZnVuY3Rpb24gZ3ModCxlLG4scil7cmV0dXJuIEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLHIpfSkpLG1lKHQsZSxuLFwiY2xpcFNwYWNlUG9zXCIsciwzLDIwLDApJiZtZSh0LGUsbixcInV2XCIsciwyLDIwLDEyKX1mdW5jdGlvbiBtcyh0LGUsbixyLG8sYSxpKXt2YXIgcyx1LGM7SnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxuKX0pKSxhIGluc3RhbmNlb2YgVWludDhBcnJheT8ocz1uZXcgVWludDhBcnJheShyKm8qNCksdT10LlVOU0lHTkVEX0JZVEUsYz10LlJHQkEpOihzPW5ldyBGbG9hdDMyQXJyYXkocipvKjQpLHU9dC5GTE9BVCxjPWkuaW50ZXJuYWxGb3JtYXRQYWNrZWRGbG9hdCkscy5zZXQoYSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsYyxyLG8sMCx0LlJHQkEsdSxzKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELG51bGwpfSkpfWZ1bmN0aW9uIHlzKHQsZSxuLHIpe0p0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbil9KSksci5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheT9KdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0LlJHQkEsci53aWR0aCxyLmhlaWdodCwwLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsci5kYXRhKX0pKTpKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0LlJHQkEsdC5SR0JBLHQuVU5TSUdORURfQllURSxyKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELG51bGwpfSkpfWZ1bmN0aW9uIHhzKHQsZSxuLHIsbyl7dmFyIGE9dC5jcmVhdGVCdWZmZXIoKTtKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYmluZEJ1ZmZlcih0LlBJWEVMX1BBQ0tfQlVGRkVSLGEpfSkpO3ZhciBpPTE2Km4qcjtyZXR1cm4gSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJ1ZmZlckRhdGEodC5QSVhFTF9QQUNLX0JVRkZFUixpLHQuU1RSRUFNX1JFQUQpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5yZWFkUGl4ZWxzKDAsMCxyLG4sdC5SR0JBLHQuRkxPQVQsMCl9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRCdWZmZXIodC5QSVhFTF9QQUNLX0JVRkZFUixudWxsKX0pKSxhfWZ1bmN0aW9uIGJzKHQsZSxuKXt2YXIgcj10LG89bmV3IEZsb2F0MzJBcnJheShuKTtyZXR1cm4gci5iaW5kQnVmZmVyKHIuUElYRUxfUEFDS19CVUZGRVIsZSksci5nZXRCdWZmZXJTdWJEYXRhKHIuUElYRUxfUEFDS19CVUZGRVIsMCxvKSxyLmJpbmRCdWZmZXIoci5QSVhFTF9QQUNLX0JVRkZFUixudWxsKSxvfWZ1bmN0aW9uIHdzKHQsZSxuLHIsbyl7dmFyIGE9WHQobixyKSxpPWFbMF0scz1hWzFdLHU9bmV3IFVpbnQ4QXJyYXkobipyKjQpO3JldHVybiBKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQucmVhZFBpeGVscygwLDAsaSxzLG8uZG93bmxvYWRUZXh0dXJlRm9ybWF0LHQuVU5TSUdORURfQllURSx1KX0pKSxuZXcgRmxvYXQzMkFycmF5KHUuYnVmZmVyKX1mdW5jdGlvbiBDcyh0LGUsbixyLG8sYSxpLHMpe3ZhciB1PXQsYz1uZXcgRmxvYXQzMkFycmF5KGZ1bmN0aW9uKHQsZSl7dmFyIG49JHQodCxlKTtyZXR1cm4gblswXSpuWzFdKjR9KGEsaSkpO3JldHVybiB1LmJpbmRCdWZmZXIodS5QSVhFTF9QQUNLX0JVRkZFUixlKSx1LmdldEJ1ZmZlclN1YkRhdGEodS5QSVhFTF9QQUNLX0JVRkZFUiwwLGMpLHUuYmluZEJ1ZmZlcih1LlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpLGN9ZnVuY3Rpb24gRXModCxlLG4scil7dmFyIG89bmV3IEZsb2F0MzJBcnJheShuKnIqNCk7cmV0dXJuIEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5yZWFkUGl4ZWxzKDAsMCxyLG4sdC5SR0JBLHQuRkxPQVQsbyl9KSksb312YXIgUnM9T2JqZWN0LmZyZWV6ZSh7Y3JlYXRlVmVydGV4U2hhZGVyOnNzLGNyZWF0ZVZlcnRleEJ1ZmZlcjp1cyxjcmVhdGVJbmRleEJ1ZmZlcjpjcyxjcmVhdGVGbG9hdDMyTWF0cml4VGV4dHVyZTpocyxjcmVhdGVGbG9hdDE2TWF0cml4VGV4dHVyZTpmcyxjcmVhdGVVbnNpZ25lZEJ5dGVzTWF0cml4VGV4dHVyZTpkcyxjcmVhdGVQYWNrZWRNYXRyaXhUZXh0dXJlOnBzLGNyZWF0ZUZsb2F0MTZQYWNrZWRNYXRyaXhUZXh0dXJlOnZzLGJpbmRWZXJ0ZXhQcm9ncmFtQXR0cmlidXRlU3RyZWFtczpncyx1cGxvYWREZW5zZU1hdHJpeFRvVGV4dHVyZTptcyx1cGxvYWRQaXhlbERhdGFUb1RleHR1cmU6eXMsY3JlYXRlQnVmZmVyRnJvbU91dHB1dFRleHR1cmU6eHMsZG93bmxvYWRGbG9hdDMyTWF0cml4RnJvbUJ1ZmZlcjpicyxkb3dubG9hZEJ5dGVFbmNvZGVkRmxvYXRNYXRyaXhGcm9tT3V0cHV0VGV4dHVyZTp3cyxkb3dubG9hZFBhY2tlZE1hdHJpeEZyb21CdWZmZXI6Q3MsZG93bmxvYWRNYXRyaXhGcm9tUGFja2VkT3V0cHV0VGV4dHVyZTpFc30pLElzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm91dHB1dFRleHR1cmU9bnVsbCx0aGlzLnByb2dyYW09bnVsbCx0aGlzLmRpc3Bvc2VkPSExLHRoaXMudmVydGV4QXR0cnNBcmVCb3VuZD0hMSx0aGlzLml0ZW1zVG9Qb2xsPVtdO3ZhciBlPWkoKS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpO251bGwhPXQ/KHRoaXMuZ2w9dCxLdChlLHQpKTp0aGlzLmdsPWp0KGUpO3ZhciBuPVwiV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0XCI7aWYoMT09PWkoKS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpKXtpZih0aGlzLnRleHR1cmVGbG9hdEV4dGVuc2lvbj1yZSh0aGlzLmdsLHRoaXMuZGVidWcsXCJPRVNfdGV4dHVyZV9mbG9hdFwiKSxQZSh0aGlzLmdsLFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiKSl0aGlzLnRleHR1cmVIYWxmRmxvYXRFeHRlbnNpb249cmUodGhpcy5nbCx0aGlzLmRlYnVnLFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiKTtlbHNlIGlmKGkoKS5nZXQoXCJXRUJHTF9GT1JDRV9GMTZfVEVYVFVSRVNcIikpdGhyb3cgbmV3IEVycm9yKFwiR0wgY29udGV4dCBkb2VzIG5vdCBzdXBwb3J0IGhhbGYgZmxvYXQgdGV4dHVyZXMsIHlldCB0aGUgZW52aXJvbm1lbnQgZmxhZyBXRUJHTF9GT1JDRV9GMTZfVEVYVFVSRVMgaXMgc2V0IHRvIHRydWUuXCIpO2lmKHRoaXMuY29sb3JCdWZmZXJGbG9hdEV4dGVuc2lvbj10aGlzLmdsLmdldEV4dGVuc2lvbihuKSxQZSh0aGlzLmdsLFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpKXRoaXMuY29sb3JCdWZmZXJIYWxmRmxvYXRFeHRlbnNpb249cmUodGhpcy5nbCx0aGlzLmRlYnVnLFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpO2Vsc2UgaWYoaSgpLmdldChcIldFQkdMX0ZPUkNFX0YxNl9URVhUVVJFU1wiKSl0aHJvdyBuZXcgRXJyb3IoXCJHTCBjb250ZXh0IGRvZXMgbm90IHN1cHBvcnQgY29sb3IgcmVuZGVyYWJsZSBoYWxmIGZsb2F0cywgeWV0IHRoZSBlbnZpcm9ubWVudCBmbGFnIFdFQkdMX0ZPUkNFX0YxNl9URVhUVVJFUyBpcyBzZXQgdG8gdHJ1ZS5cIil9ZWxzZSBpZihuPVwiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdFwiLFBlKHRoaXMuZ2wsbikpdGhpcy5jb2xvckJ1ZmZlckZsb2F0RXh0ZW5zaW9uPXRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKG4pO2Vsc2V7aWYoIVBlKHRoaXMuZ2wsXCJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXRcIikpdGhyb3cgbmV3IEVycm9yKFwiR0wgY29udGV4dCBkb2VzIG5vdCBzdXBwb3J0IGNvbG9yIHJlbmRlcmFibGUgZmxvYXRzXCIpO3RoaXMuY29sb3JCdWZmZXJIYWxmRmxvYXRFeHRlbnNpb249dGhpcy5nbC5nZXRFeHRlbnNpb24oXCJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXRcIil9dGhpcy52ZXJ0ZXhCdWZmZXI9dXModGhpcy5nbCx0aGlzLmRlYnVnKSx0aGlzLmluZGV4QnVmZmVyPWNzKHRoaXMuZ2wsdGhpcy5kZWJ1ZyksdGhpcy5mcmFtZWJ1ZmZlcj1nZSh0aGlzLmdsLHRoaXMuZGVidWcpLHRoaXMudGV4dHVyZUNvbmZpZz1RdCh0aGlzLmdsLHRoaXMudGV4dHVyZUhhbGZGbG9hdEV4dGVuc2lvbil9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRlYnVnXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBpKCkuZ2V0Qm9vbChcIkRFQlVHXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKCF0aGlzLmRpc3Bvc2VkKXtudWxsIT10aGlzLnByb2dyYW0mJmNvbnNvbGUud2FybihcIkRpc3Bvc2luZyBhIEdQR1BVQ29udGV4dCB0aGF0IHN0aWxsIGhhcyBhIGJvdW5kIFdlYkdMUHJvZ3JhbS4gVGhpcyBpcyBwcm9iYWJseSBhIHJlc291cmNlIGxlYWssIGRlbGV0ZSB0aGUgcHJvZ3JhbSB3aXRoIEdQR1BVQ29udGV4dC5kZWxldGVQcm9ncmFtIGJlZm9yZSBkaXNwb3NpbmcuXCIpLG51bGwhPXRoaXMub3V0cHV0VGV4dHVyZSYmY29uc29sZS53YXJuKFwiRGlzcG9zaW5nIGEgR1BHUFVDb250ZXh0IHRoYXQgc3RpbGwgaGFzIGEgYm91bmQgb3V0cHV0IG1hdHJpeCB0ZXh0dXJlLiAgVGhpcyBpcyBwcm9iYWJseSBhIHJlc291cmNlIGxlYWssIGRlbGV0ZSB0aGUgb3V0cHV0IG1hdHJpeCB0ZXh0dXJlIHdpdGggR1BHUFVDb250ZXh0LmRlbGV0ZU1hdHJpeFRleHR1cmUgYmVmb3JlIGRpc3Bvc2luZy5cIik7dmFyIGU9dGhpcy5nbDtKdChlLHRoaXMuZGVidWcsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZmluaXNoKCl9KSksSnQoZSx0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiBlLmJpbmRGcmFtZWJ1ZmZlcihlLkZSQU1FQlVGRkVSLG51bGwpfSkpLEp0KGUsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWxldGVGcmFtZWJ1ZmZlcih0LmZyYW1lYnVmZmVyKX0pKSxKdChlLHRoaXMuZGVidWcsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUixudWxsKX0pKSxKdChlLHRoaXMuZGVidWcsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuYmluZEJ1ZmZlcihlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLG51bGwpfSkpLEp0KGUsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWxldGVCdWZmZXIodC5pbmRleEJ1ZmZlcil9KSksdGhpcy5kaXNwb3NlZD0hMH19LHQucHJvdG90eXBlLmNyZWF0ZUZsb2F0MzJNYXRyaXhUZXh0dXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksaHModGhpcy5nbCx0aGlzLmRlYnVnLHQsZSx0aGlzLnRleHR1cmVDb25maWcpfSx0LnByb3RvdHlwZS5jcmVhdGVGbG9hdDE2TWF0cml4VGV4dHVyZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLGZzKHRoaXMuZ2wsdGhpcy5kZWJ1Zyx0LGUsdGhpcy50ZXh0dXJlQ29uZmlnKX0sdC5wcm90b3R5cGUuY3JlYXRlVW5zaWduZWRCeXRlc01hdHJpeFRleHR1cmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSxkcyh0aGlzLmdsLHRoaXMuZGVidWcsdCxlLHRoaXMudGV4dHVyZUNvbmZpZyl9LHQucHJvdG90eXBlLnVwbG9hZFBpeGVsRGF0YVRvVGV4dHVyZT1mdW5jdGlvbih0LGUpe3RoaXMudGhyb3dJZkRpc3Bvc2VkKCkseXModGhpcy5nbCx0aGlzLmRlYnVnLHQsZSl9LHQucHJvdG90eXBlLnVwbG9hZERlbnNlTWF0cml4VG9UZXh0dXJlPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMudGhyb3dJZkRpc3Bvc2VkKCksbXModGhpcy5nbCx0aGlzLmRlYnVnLHQsZSxuLHIsdGhpcy50ZXh0dXJlQ29uZmlnKX0sdC5wcm90b3R5cGUuY3JlYXRlRmxvYXQxNlBhY2tlZE1hdHJpeFRleHR1cmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx2cyh0aGlzLmdsLHRoaXMuZGVidWcsdCxlLHRoaXMudGV4dHVyZUNvbmZpZyl9LHQucHJvdG90eXBlLmNyZWF0ZVBhY2tlZE1hdHJpeFRleHR1cmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSxwcyh0aGlzLmdsLHRoaXMuZGVidWcsdCxlLHRoaXMudGV4dHVyZUNvbmZpZyl9LHQucHJvdG90eXBlLmRlbGV0ZU1hdHJpeFRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnRocm93SWZEaXNwb3NlZCgpLHRoaXMub3V0cHV0VGV4dHVyZT09PXQmJihFZSh0aGlzLmdsLHRoaXMuZGVidWcsdGhpcy5mcmFtZWJ1ZmZlciksdGhpcy5vdXRwdXRUZXh0dXJlPW51bGwpLEp0KHRoaXMuZ2wsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gZS5nbC5kZWxldGVUZXh0dXJlKHQpfSkpfSx0LnByb3RvdHlwZS5kb3dubG9hZEJ5dGVFbmNvZGVkRmxvYXRNYXRyaXhGcm9tT3V0cHV0VGV4dHVyZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5kb3dubG9hZE1hdHJpeERyaXZlcih0LChmdW5jdGlvbigpe3JldHVybiB3cyhyLmdsLHIuZGVidWcsZSxuLHIudGV4dHVyZUNvbmZpZyl9KSl9LHQucHJvdG90eXBlLmRvd25sb2FkUGFja2VkTWF0cml4RnJvbUJ1ZmZlcj1mdW5jdGlvbih0LGUsbixyLG8sYSl7cmV0dXJuIENzKHRoaXMuZ2wsdCwwLDAsMCxvLGEsdGhpcy50ZXh0dXJlQ29uZmlnKX0sdC5wcm90b3R5cGUuZG93bmxvYWRGbG9hdDMyTWF0cml4RnJvbUJ1ZmZlcj1mdW5jdGlvbih0LGUpe3JldHVybiBicyh0aGlzLmdsLHQsZSl9LHQucHJvdG90eXBlLmNyZWF0ZUJ1ZmZlckZyb21UZXh0dXJlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmJpbmRUZXh0dXJlVG9GcmFtZUJ1ZmZlcih0KTt2YXIgcj14cyh0aGlzLmdsLHRoaXMuZGVidWcsZSxuLHRoaXMudGV4dHVyZUNvbmZpZyk7cmV0dXJuIHRoaXMudW5iaW5kVGV4dHVyZVRvRnJhbWVCdWZmZXIoKSxyfSx0LnByb3RvdHlwZS5jcmVhdGVBbmRXYWl0Rm9yRmVuY2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNyZWF0ZUZlbmNlKHRoaXMuZ2wpO3JldHVybiB0aGlzLnBvbGxGZW5jZSh0KX0sdC5wcm90b3R5cGUuY3JlYXRlRmVuY2U9ZnVuY3Rpb24odCl7dmFyIGUsbixyPXRoaXM7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9GRU5DRV9BUElfRU5BQkxFRFwiKSl7dmFyIG89dCxhPW8uZmVuY2VTeW5jKG8uU1lOQ19HUFVfQ09NTUFORFNfQ09NUExFVEUsMCk7dC5mbHVzaCgpLG49ZnVuY3Rpb24oKXt2YXIgdD1vLmNsaWVudFdhaXRTeW5jKGEsMCwwKTtyZXR1cm4gdD09PW8uQUxSRUFEWV9TSUdOQUxFRHx8dD09PW8uQ09ORElUSU9OX1NBVElTRklFRH0sZT1hfWVsc2UgaSgpLmdldE51bWJlcihcIldFQkdMX0RJU0pPSU5UX1FVRVJZX1RJTUVSX0VYVEVOU0lPTl9WRVJTSU9OXCIpPjA/KGU9dGhpcy5iZWdpblF1ZXJ5KCksdGhpcy5lbmRRdWVyeSgpLG49ZnVuY3Rpb24oKXtyZXR1cm4gci5pc1F1ZXJ5QXZhaWxhYmxlKGUsaSgpLmdldE51bWJlcihcIldFQkdMX0RJU0pPSU5UX1FVRVJZX1RJTUVSX0VYVEVOU0lPTl9WRVJTSU9OXCIpKX0pOm49ZnVuY3Rpb24oKXtyZXR1cm4hMH07cmV0dXJue3F1ZXJ5OmUsaXNGZW5jZVBhc3NlZDpufX0sdC5wcm90b3R5cGUuZG93bmxvYWRNYXRyaXhGcm9tUGFja2VkVGV4dHVyZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5kb3dubG9hZE1hdHJpeERyaXZlcih0LChmdW5jdGlvbigpe3JldHVybiBFcyhyLmdsLHIuZGVidWcsZSxuKX0pKX0sdC5wcm90b3R5cGUuY3JlYXRlUHJvZ3JhbT1mdW5jdGlvbih0KXt0aGlzLnRocm93SWZEaXNwb3NlZCgpO3ZhciBlPXRoaXMuZ2wsbj1hZShlLHRoaXMuZGVidWcsdCkscj1zcyhlLHRoaXMuZGVidWcpLG89Y2UoZSx0aGlzLmRlYnVnKTtyZXR1cm4gSnQoZSx0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiBlLmF0dGFjaFNoYWRlcihvLHIpfSkpLEp0KGUsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gZS5hdHRhY2hTaGFkZXIobyxuKX0pKSxsZShlLHRoaXMuZGVidWcsbyksdGhpcy5kZWJ1ZyYmaGUoZSx0aGlzLmRlYnVnLG8pLHRoaXMudmVydGV4QXR0cnNBcmVCb3VuZHx8KHRoaXMuc2V0UHJvZ3JhbShvKSx0aGlzLnZlcnRleEF0dHJzQXJlQm91bmQ9Z3MoZSx0aGlzLmRlYnVnLHRoaXMucHJvZ3JhbSx0aGlzLnZlcnRleEJ1ZmZlcikpLG99LHQucHJvdG90eXBlLmRlbGV0ZVByb2dyYW09ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnRocm93SWZEaXNwb3NlZCgpLHQ9PT10aGlzLnByb2dyYW0mJih0aGlzLnByb2dyYW09bnVsbCksbnVsbCE9dCYmSnQodGhpcy5nbCx0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiBlLmdsLmRlbGV0ZVByb2dyYW0odCl9KSl9LHQucHJvdG90eXBlLnNldFByb2dyYW09ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnRocm93SWZEaXNwb3NlZCgpLHRoaXMucHJvZ3JhbT10LG51bGwhPXRoaXMucHJvZ3JhbSYmdGhpcy5kZWJ1ZyYmaGUodGhpcy5nbCx0aGlzLmRlYnVnLHRoaXMucHJvZ3JhbSksSnQodGhpcy5nbCx0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiBlLmdsLnVzZVByb2dyYW0odCl9KSl9LHQucHJvdG90eXBlLmdldFVuaWZvcm1Mb2NhdGlvbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPSEwKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLG4/eGUodGhpcy5nbCx0aGlzLmRlYnVnLHQsZSk6YmUodGhpcy5nbCx0LGUpfSx0LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVMb2NhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksSnQodGhpcy5nbCx0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiBuLmdsLmdldEF0dHJpYkxvY2F0aW9uKHQsZSl9KSl9LHQucHJvdG90eXBlLmdldFVuaWZvcm1Mb2NhdGlvbk5vVGhyb3c9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbih0LGUpfSx0LnByb3RvdHlwZS5zZXRJbnB1dE1hdHJpeFRleHR1cmU9ZnVuY3Rpb24odCxlLG4pe3RoaXMudGhyb3dJZkRpc3Bvc2VkKCksdGhpcy50aHJvd0lmTm9Qcm9ncmFtKCksd2UodGhpcy5nbCx0aGlzLmRlYnVnLHRoaXMucHJvZ3JhbSx0LGUsbil9LHQucHJvdG90eXBlLnNldE91dHB1dE1hdHJpeFRleHR1cmU9ZnVuY3Rpb24odCxlLG4pe3RoaXMuc2V0T3V0cHV0TWF0cml4VGV4dHVyZURyaXZlcih0LG4sZSl9LHQucHJvdG90eXBlLnNldE91dHB1dFBhY2tlZE1hdHJpeFRleHR1cmU9ZnVuY3Rpb24odCxlLG4pe3RoaXMudGhyb3dJZkRpc3Bvc2VkKCk7dmFyIHI9JHQoZSxuKSxvPXJbMF0sYT1yWzFdO3RoaXMuc2V0T3V0cHV0TWF0cml4VGV4dHVyZURyaXZlcih0LG8sYSl9LHQucHJvdG90eXBlLnNldE91dHB1dE1hdHJpeFdyaXRlUmVnaW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMuc2V0T3V0cHV0TWF0cml4V3JpdGVSZWdpb25Ecml2ZXIobix0LHIsZSl9LHQucHJvdG90eXBlLnNldE91dHB1dFBhY2tlZE1hdHJpeFdyaXRlUmVnaW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3Rocm93IG5ldyBFcnJvcihcInNldE91dHB1dFBhY2tlZE1hdHJpeFdyaXRlUmVnaW9uIG5vdCBpbXBsZW1lbnRlZC5cIil9LHQucHJvdG90eXBlLmRlYnVnVmFsaWRhdGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnByb2dyYW0mJmhlKHRoaXMuZ2wsdGhpcy5kZWJ1Zyx0aGlzLnByb2dyYW0pLFJlKHRoaXMuZ2wpfSx0LnByb3RvdHlwZS5leGVjdXRlUHJvZ3JhbT1mdW5jdGlvbigpe3RoaXMudGhyb3dJZkRpc3Bvc2VkKCksdGhpcy50aHJvd0lmTm9Qcm9ncmFtKCk7dmFyIHQ9dGhpcy5nbDt0aGlzLmRlYnVnJiZ0aGlzLmRlYnVnVmFsaWRhdGUoKSxKdCh0LHRoaXMuZGVidWcsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZHJhd0VsZW1lbnRzKHQuVFJJQU5HTEVTLDYsdC5VTlNJR05FRF9TSE9SVCwwKX0pKX0sdC5wcm90b3R5cGUuYmxvY2tVbnRpbEFsbFByb2dyYW1zQ29tcGxldGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnRocm93SWZEaXNwb3NlZCgpLEp0KHRoaXMuZ2wsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gdC5nbC5maW5pc2goKX0pKX0sdC5wcm90b3R5cGUuZ2V0UXVlcnlUaW1lckV4dGVuc2lvbj1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLmRpc2pvaW50UXVlcnlUaW1lckV4dGVuc2lvbiYmKHRoaXMuZGlzam9pbnRRdWVyeVRpbWVyRXh0ZW5zaW9uPXJlKHRoaXMuZ2wsdGhpcy5kZWJ1ZywyPT09aSgpLmdldE51bWJlcihcIldFQkdMX0RJU0pPSU5UX1FVRVJZX1RJTUVSX0VYVEVOU0lPTl9WRVJTSU9OXCIpP1wiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMlwiOlwiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5XCIpKSx0aGlzLmRpc2pvaW50UXVlcnlUaW1lckV4dGVuc2lvbn0sdC5wcm90b3R5cGUuZ2V0UXVlcnlUaW1lckV4dGVuc2lvbldlYkdMMj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFF1ZXJ5VGltZXJFeHRlbnNpb24oKX0sdC5wcm90b3R5cGUuZ2V0UXVlcnlUaW1lckV4dGVuc2lvbldlYkdMMT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFF1ZXJ5VGltZXJFeHRlbnNpb24oKX0sdC5wcm90b3R5cGUuYmVnaW5RdWVyeT1mdW5jdGlvbigpe2lmKDI9PT1pKCkuZ2V0TnVtYmVyKFwiV0VCR0xfRElTSk9JTlRfUVVFUllfVElNRVJfRVhURU5TSU9OX1ZFUlNJT05cIikpe3ZhciB0PXRoaXMuZ2wsZT10aGlzLmdldFF1ZXJ5VGltZXJFeHRlbnNpb25XZWJHTDIoKSxuPXQuY3JlYXRlUXVlcnkoKTtyZXR1cm4gdC5iZWdpblF1ZXJ5KGUuVElNRV9FTEFQU0VEX0VYVCxuKSxufXZhciByPXRoaXMuZ2V0UXVlcnlUaW1lckV4dGVuc2lvbldlYkdMMSgpLG89ci5jcmVhdGVRdWVyeUVYVCgpO3JldHVybiByLmJlZ2luUXVlcnlFWFQoci5USU1FX0VMQVBTRURfRVhULG8pLG99LHQucHJvdG90eXBlLmVuZFF1ZXJ5PWZ1bmN0aW9uKCl7aWYoMiE9PWkoKS5nZXROdW1iZXIoXCJXRUJHTF9ESVNKT0lOVF9RVUVSWV9USU1FUl9FWFRFTlNJT05fVkVSU0lPTlwiKSl7dmFyIHQ9dGhpcy5nZXRRdWVyeVRpbWVyRXh0ZW5zaW9uV2ViR0wxKCk7dC5lbmRRdWVyeUVYVCh0LlRJTUVfRUxBUFNFRF9FWFQpfWVsc2V7dmFyIGU9dGhpcy5nbCxuPXRoaXMuZ2V0UXVlcnlUaW1lckV4dGVuc2lvbldlYkdMMigpO2UuZW5kUXVlcnkobi5USU1FX0VMQVBTRURfRVhUKX19LHQucHJvdG90eXBlLndhaXRGb3JRdWVyeUFuZEdldFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxGKChmdW5jdGlvbigpe3JldHVybiBlLmRpc3Bvc2VkfHxlLmlzUXVlcnlBdmFpbGFibGUodCxpKCkuZ2V0TnVtYmVyKFwiV0VCR0xfRElTSk9JTlRfUVVFUllfVElNRVJfRVhURU5TSU9OX1ZFUlNJT05cIikpfSkpXTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLFsyLHRoaXMuZ2V0UXVlcnlUaW1lKHQsaSgpLmdldE51bWJlcihcIldFQkdMX0RJU0pPSU5UX1FVRVJZX1RJTUVSX0VYVEVOU0lPTl9WRVJTSU9OXCIpKV19fSkpfSkpfSx0LnByb3RvdHlwZS5nZXRRdWVyeVRpbWU9ZnVuY3Rpb24odCxlKXtpZigwPT09ZSlyZXR1cm4gbnVsbDtpZigyPT09ZSl7dmFyIG49dGhpcy5nbDtyZXR1cm4gbi5nZXRRdWVyeVBhcmFtZXRlcih0LG4uUVVFUllfUkVTVUxUKS8xZTZ9dmFyIHI9dGhpcy5nZXRRdWVyeVRpbWVyRXh0ZW5zaW9uV2ViR0wxKCk7cmV0dXJuIHIuZ2V0UXVlcnlPYmplY3RFWFQodCxyLlFVRVJZX1JFU1VMVF9FWFQpLzFlNn0sdC5wcm90b3R5cGUuaXNRdWVyeUF2YWlsYWJsZT1mdW5jdGlvbih0LGUpe2lmKDA9PT1lKXJldHVybiEwO2lmKDI9PT1lKXt2YXIgbj10aGlzLmdsLHI9dGhpcy5nZXRRdWVyeVRpbWVyRXh0ZW5zaW9uV2ViR0wyKCksbz1uLmdldFF1ZXJ5UGFyYW1ldGVyKHQsbi5RVUVSWV9SRVNVTFRfQVZBSUxBQkxFKTtyZXR1cm4gbnVsbD09dGhpcy5kaXNqb2ludCYmKHRoaXMuZGlzam9pbnQ9dGhpcy5nbC5nZXRQYXJhbWV0ZXIoci5HUFVfRElTSk9JTlRfRVhUKSksbyYmIXRoaXMuZGlzam9pbnR9bz0ocj10aGlzLmdldFF1ZXJ5VGltZXJFeHRlbnNpb25XZWJHTDEoKSkuZ2V0UXVlcnlPYmplY3RFWFQodCxyLlFVRVJZX1JFU1VMVF9BVkFJTEFCTEVfRVhUKTtyZXR1cm4gbnVsbD09dGhpcy5kaXNqb2ludCYmKHRoaXMuZGlzam9pbnQ9dGhpcy5nbC5nZXRQYXJhbWV0ZXIoci5HUFVfRElTSk9JTlRfRVhUKSksbyYmIXRoaXMuZGlzam9pbnR9LHQucHJvdG90eXBlLnBvbGxGZW5jZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7ZS5hZGRJdGVtVG9Qb2xsKChmdW5jdGlvbigpe3JldHVybiB0LmlzRmVuY2VQYXNzZWQoKX0pLChmdW5jdGlvbigpe3JldHVybiBuKCl9KSl9KSl9LHQucHJvdG90eXBlLnBvbGxJdGVtcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoOysrZSl7aWYoIXRbZV0oKSlicmVha31yZXR1cm4gZS0xfSh0aGlzLml0ZW1zVG9Qb2xsLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNEb25lRm59KSkpLGU9MDtlPD10OysrZSl7KDAsdGhpcy5pdGVtc1RvUG9sbFtlXS5yZXNvbHZlRm4pKCl9dGhpcy5pdGVtc1RvUG9sbD10aGlzLml0ZW1zVG9Qb2xsLnNsaWNlKHQrMSl9LHQucHJvdG90eXBlLmFkZEl0ZW1Ub1BvbGw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuaXRlbXNUb1BvbGwucHVzaCh7aXNEb25lRm46dCxyZXNvbHZlRm46ZX0pLHRoaXMuaXRlbXNUb1BvbGwubGVuZ3RoPjF8fEYoKGZ1bmN0aW9uKCl7cmV0dXJuIG4ucG9sbEl0ZW1zKCksMD09PW4uaXRlbXNUb1BvbGwubGVuZ3RofSkpfSx0LnByb3RvdHlwZS5iaW5kVGV4dHVyZVRvRnJhbWVCdWZmZXI9ZnVuY3Rpb24odCl7dGhpcy50aHJvd0lmRGlzcG9zZWQoKSxDZSh0aGlzLmdsLHRoaXMuZGVidWcsdCx0aGlzLmZyYW1lYnVmZmVyKSx0aGlzLmRlYnVnJiZSZSh0aGlzLmdsKX0sdC5wcm90b3R5cGUudW5iaW5kVGV4dHVyZVRvRnJhbWVCdWZmZXI9ZnVuY3Rpb24oKXtudWxsIT10aGlzLm91dHB1dFRleHR1cmU/KENlKHRoaXMuZ2wsdGhpcy5kZWJ1Zyx0aGlzLm91dHB1dFRleHR1cmUsdGhpcy5mcmFtZWJ1ZmZlciksdGhpcy5kZWJ1ZyYmUmUodGhpcy5nbCkpOkVlKHRoaXMuZ2wsdGhpcy5kZWJ1Zyx0aGlzLmZyYW1lYnVmZmVyKX0sdC5wcm90b3R5cGUuZG93bmxvYWRNYXRyaXhEcml2ZXI9ZnVuY3Rpb24odCxlKXt0aGlzLmJpbmRUZXh0dXJlVG9GcmFtZUJ1ZmZlcih0KTt2YXIgbj1lKCk7cmV0dXJuIHRoaXMudW5iaW5kVGV4dHVyZVRvRnJhbWVCdWZmZXIoKSxufSx0LnByb3RvdHlwZS5zZXRPdXRwdXRNYXRyaXhUZXh0dXJlRHJpdmVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnRocm93SWZEaXNwb3NlZCgpO3ZhciByPXRoaXMuZ2w7Q2Uocix0aGlzLmRlYnVnLHQsdGhpcy5mcmFtZWJ1ZmZlciksdGhpcy5kZWJ1ZyYmUmUociksdGhpcy5vdXRwdXRUZXh0dXJlPXQsSnQocix0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiByLnZpZXdwb3J0KDAsMCxlLG4pfSkpLEp0KHIsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gci5zY2lzc29yKDAsMCxlLG4pfSkpfSx0LnByb3RvdHlwZS5zZXRPdXRwdXRNYXRyaXhXcml0ZVJlZ2lvbkRyaXZlcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzO3RoaXMudGhyb3dJZkRpc3Bvc2VkKCksSnQodGhpcy5nbCx0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiBvLmdsLnNjaXNzb3IodCxlLG4scil9KSl9LHQucHJvdG90eXBlLnRocm93SWZEaXNwb3NlZD1mdW5jdGlvbigpe2lmKHRoaXMuZGlzcG9zZWQpdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIHVzZSBkaXNwb3NlZCBHUEdQVUNvbnRleHQuXCIpfSx0LnByb3RvdHlwZS50aHJvd0lmTm9Qcm9ncmFtPWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5wcm9ncmFtKXRocm93IG5ldyBFcnJvcihcIk5vIEdQVSBwcm9ncmFtIGlzIGN1cnJlbnRseSBzZXQuXCIpfSx0fSgpO2Z1bmN0aW9uIGtzKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBFcnJvcihcIkJpbmFyeSB3YXMgY29tcGlsZWQgd2l0aCBcIit0Lmxlbmd0aCtcIiBpbnB1dHMsIGJ1dCB3YXMgZXhlY3V0ZWQgd2l0aCBcIitlLmxlbmd0aCtcIiBpbnB1dHNcIik7dC5mb3JFYWNoKChmdW5jdGlvbih0LG4pe3ZhciByPXQubG9naWNhbFNoYXBlLG89ZVtuXSxhPW8uc2hhcGU7aWYoIVMocixhKSl0aHJvdyBFcnJvcihcIkJpbmFyeSB3YXMgY29tcGlsZWQgd2l0aCBkaWZmZXJlbnQgc2hhcGVzIHRoYW4gdGhlIGN1cnJlbnQgYXJncy4gU2hhcGVzIFwiK3IrXCIgYW5kIFwiK2ErXCIgbXVzdCBtYXRjaFwiKTtpZighdC5pc1VuaWZvcm18fCFvLmlzVW5pZm9ybSl7dmFyIGk9dC50ZXhTaGFwZSxzPW8uaXNVbmlmb3JtP251bGw6by50ZXhEYXRhLnRleFNoYXBlO2lmKCFTKGkscykpdGhyb3cgRXJyb3IoXCJCaW5hcnkgd2FzIGNvbXBpbGVkIHdpdGggZGlmZmVyZW50IHRleHR1cmUgc2hhcGVzIHRoYW4gdGhlIGN1cnJlbnQgYXJncy4gU2hhcGUgXCIraStcIiBhbmQgXCIrcytcIiBtdXN0IG1hdGNoXCIpfX0pKX12YXIgU3M9ZnVuY3Rpb24odCxlLG4pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdLHRoaXMucGFja2VkSW5wdXRzPSEwLHRoaXMucGFja2VkT3V0cHV0PSEwLHRoaXMub3V0cHV0U2hhcGU9dDtmb3IodmFyIHI9bi5maWx0ZXJXaWR0aCxvPW4uaW5DaGFubmVscyxhPW4uc3RyaWRlV2lkdGgsaT1uLnN0cmlkZUhlaWdodCxzPW4ucGFkSW5mbyx1PW4ub3V0V2lkdGgsYz1uLmRpbGF0aW9uV2lkdGgsbD1uLmRpbGF0aW9uSGVpZ2h0LGg9bi5kYXRhRm9ybWF0LGY9cy5sZWZ0LGQ9cy50b3AscD1vKnIsdj1ZYSgpLGc9XCJjaGFubmVsc0xhc3RcIj09PWgsbT1nPzA6MSx5PWc/MToyLHg9XCJcIixiPTA7Yjw9MTtiKyspZm9yKHZhciB3PTA7dzw9MTt3KyspeCs9XCJcXG4gICAgICAgICAgYmxvY2tJbmRleCA9IHJjLnkgKyBcIit3K1wiO1xcbiAgICAgICAgICBwb3MgPSByYy54ICsgXCIrYitcIjtcXG5cXG4gICAgICAgICAgaWYoYmxvY2tJbmRleCA8IFwiK3RbMV0rXCIgJiYgcG9zIDwgXCIrdFswXStcIikge1xcbiAgICAgICAgICAgIG9mZnNldFkgPSBpbnQoYmxvY2tJbmRleCAvIChcIit1K1wiKSkgKiBcIitpK1wiIC0gXCIrZCtcIjtcXG4gICAgICAgICAgICBkMCA9IG9mZnNldFkgKyBcIitsK1wiICogKHBvcyAvIFwiK3ArXCIpO1xcblxcbiAgICAgICAgICAgIGlmKGQwIDwgXCIrZVttXStcIiAmJiBkMCA+PSAwKSB7XFxuXFxuICAgICAgICAgICAgICBvZmZzZXRYID0gaW50KG1vZChmbG9hdChibG9ja0luZGV4KSwgXCIrdStcIi4pICogXCIrYStcIi4gLSBcIitmK1wiLik7XFxuICAgICAgICAgICAgICBkMSA9IG9mZnNldFggKyBcIitjK1wiICogKGludChtb2QoZmxvYXQocG9zKSwgXCIrcCtcIi4pIC8gXCIrbytcIi4pKTtcXG5cXG4gICAgICAgICAgICAgIGlmKGQxIDwgXCIrZVt5XStcIiAmJiBkMSA+PSAwKSB7XFxuXFxuICAgICAgICAgICAgICAgIGNoID0gaW50KG1vZChmbG9hdChwb3MpLCBcIitvK1wiLikpO1xcblxcbiAgICAgICAgICAgICAgICBpZiAoXCIrZytcIikge1xcbiAgICAgICAgICAgICAgICAgIGlubmVyRGltcyA9IHZlYzIoZDEsIGNoKTtcXG4gICAgICAgICAgICAgICAgICByZXN1bHRbXCIrKDIqYit3KStcIl0gPSBnZXRDaGFubmVsKFxcbiAgICAgICAgICAgICAgICAgICAgZ2V0QShkMCwgaW50KGlubmVyRGltcy54KSxcXG4gICAgICAgICAgICAgICAgICAgIGludChpbm5lckRpbXMueSkpLCBpbm5lckRpbXMpO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgIGlubmVyRGltcyA9IHZlYzIoZDAsIGQxKTtcXG4gICAgICAgICAgICAgICAgICByZXN1bHRbXCIrKDIqYit3KStcIl0gPSBnZXRDaGFubmVsKFxcbiAgICAgICAgICAgICAgICAgICAgZ2V0QShjaCwgaW50KGlubmVyRGltcy54KSxcXG4gICAgICAgICAgICAgICAgICAgIGludChpbm5lckRpbXMueSkpLCBpbm5lckRpbXMpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICBcIjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzIgcmMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG5cXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gdmVjNCgwKTtcXG5cXG4gICAgICAgIGludCBibG9ja0luZGV4LCBwb3MsIG9mZnNldFksIGQwLCBvZmZzZXRYLCBkMSwgY2g7XFxuICAgICAgICB2ZWMyIGlubmVyRGltcztcXG5cXG4gICAgICAgIFwiK3grXCJcXG5cXG4gICAgICAgIFwiK3Yub3V0cHV0K1wiID0gcmVzdWx0O1xcbiAgICAgIH1cXG4gICAgXCJ9LEFzPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIl0sdGhpcy5vdXRwdXRTaGFwZT1bXTt2YXIgYSxpPWUscz10WzNdLTE7dGhpcy5vdXRwdXRTaGFwZT10O3ZhciB1PVwiZmxvYXQoXCIrbitcIikgKyBmbG9hdChcIityK1wiKSAqIHN1bVwiO2E9LjU9PT1vP1wiaW52ZXJzZXNxcnQoXCIrdStcIilcIjoxPT09bz9cIjEuMC8oXCIrdStcIilcIjpcImV4cChsb2coXCIrdStcIikgKiBmbG9hdCgtXCIrbytcIikpO1wiLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiID0gY29vcmRzWzBdO1xcbiAgICAgICAgaW50IHIgPSBjb29yZHNbMV07XFxuICAgICAgICBpbnQgYyA9IGNvb3Jkc1syXTtcXG4gICAgICAgIGludCBkID0gY29vcmRzWzNdO1xcbiAgICAgICAgZmxvYXQgeCA9IGdldFgoYiwgciwgYywgZCk7XFxuICAgICAgICBmbG9hdCBzdW0gPSAwLjA7XFxuICAgICAgICBmb3IgKGludCBqID0gLVwiK2krXCI7IGogPD0gXCIraStcIjsgaisrKSB7XFxuICAgICAgICAgIGludCBpZHggPSBkICsgajtcXG4gICAgICAgICAgaWYgKGlkeCA+PSAwICYmIGlkeCA8PSAgXCIrcytcIikge1xcbiAgICAgICAgICAgIGZsb2F0IHogPSBnZXRYKGIsIHIsIGMsIGlkeCk7XFxuICAgICAgICAgICAgc3VtICs9IHogKiB6O1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBmbG9hdCB2YWwgPSB4ICogXCIrYStcIjtcXG4gICAgICAgIHNldE91dHB1dCh2YWwpO1xcbiAgICAgIH1cXG4gICAgXCJ9LFRzPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy52YXJpYWJsZU5hbWVzPVtcImlucHV0SW1hZ2VcIixcIm91dHB1dEltYWdlXCIsXCJkeVwiXSx0aGlzLm91dHB1dFNoYXBlPVtdLHRoaXMub3V0cHV0U2hhcGU9dCx0aGlzLmRlcHRoPXRbM10sdGhpcy5kZXB0aFJhZGl1cz1lLHRoaXMuYmlhcz1uLHRoaXMuYWxwaGE9cix0aGlzLmJldGE9byx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYiA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCByID0gY29vcmRzWzFdO1xcbiAgICAgICAgaW50IGMgPSBjb29yZHNbMl07XFxuXFxuICAgICAgICBmbG9hdCByZXN1bHQgPSAwLjA7XFxuICAgICAgICBmb3IgKGludCBkID0gMDsgZCA8IFwiK3RoaXMuZGVwdGgrXCI7ICsrZCkge1xcbiAgICAgICAgICBpbnQgZGVwdGhCZWdpbiA9IGludChtYXgoMC4wLCBmbG9hdChkIC0gXCIrZStcIikpKTtcXG4gICAgICAgICAgaW50IGRlcHRoRW5kID0gaW50KG1pbihmbG9hdChcIit0aGlzLmRlcHRoK1wiKSxcXG4gICAgICAgICAgICAgIGZsb2F0KGQgKyBcIitlK1wiICsgMSkpKTtcXG5cXG4gICAgICAgICAgY29uc3QgaW50IE1JTl9ERVBUSF9CRUdJTiA9IDA7XFxuICAgICAgICAgIGNvbnN0IGludCBNQVhfREVQVEhfRU5EID0gXCIrdGhpcy5kZXB0aCtcIjtcXG5cXG4gICAgICAgICAgZmxvYXQgbm9ybSA9IDAuMDtcXG4gICAgICAgICAgZm9yIChpbnQgayA9IE1JTl9ERVBUSF9CRUdJTjsgayA8IE1BWF9ERVBUSF9FTkQ7ICsraykge1xcbiAgICAgICAgICAgIGlmIChrIDwgZGVwdGhCZWdpbil7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgZWxzZSBpZiAoayA+PSBkZXB0aEJlZ2luICYmIGsgPCBkZXB0aEVuZCkge1xcbiAgICAgICAgICAgICAgbm9ybSArPSBnZXRJbnB1dEltYWdlKGIsIHIsIGMsIGspICogZ2V0SW5wdXRJbWFnZShiLCByLCBjLCBrKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgZWxzZSB7XFxuICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgbm9ybSA9IGZsb2F0KFwiK3IrXCIpICogbm9ybSArIGZsb2F0KFwiK24rXCIpO1xcblxcbiAgICAgICAgICBmb3IoaW50IGsgPSBNSU5fREVQVEhfQkVHSU47IGsgPCBNQVhfREVQVEhfRU5EOyArK2spe1xcbiAgICAgICAgICAgIGlmIChrIDwgZGVwdGhCZWdpbil7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgZWxzZSBpZiAoayA+PSBkZXB0aEJlZ2luICYmIGsgPCBkZXB0aEVuZCl7XFxuICAgICAgICAgICAgICBmbG9hdCBkeWkgPSAtMi4wICogZmxvYXQoXCIrcitcIilcXG4gICAgICAgICAgICAgICAgKiBmbG9hdChcIitvK1wiKVxcbiAgICAgICAgICAgICAgICAqIGdldElucHV0SW1hZ2UoYiAsciAsYywgaykgKiBnZXRPdXRwdXRJbWFnZShiLCByLCBjLCBkKVxcbiAgICAgICAgICAgICAgICAvIG5vcm07XFxuICAgICAgICAgICAgICBpZiAoayA9PSBkKSB7XFxuICAgICAgICAgICAgICAgIGR5aSArPSBwb3cobm9ybSwgLTEuMCAqIFwiK28rXCIpO1xcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgaWYgKGsgPT0gY29vcmRzWzNdKSB7XFxuICAgICAgICAgICAgICAgIGR5aSAqPSBnZXREeShiLCByLCBjLCBkKTtcXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGR5aTtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgZWxzZSB7XFxuICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgc2V0T3V0cHV0KHJlc3VsdCk7XFxuICAgICAgfVxcbiAgICBcIn0sRHM9ZnVuY3Rpb24odCxlLG4scixvKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiXSx0aGlzLm91dHB1dFNoYXBlPVtdLHRoaXMucGFja2VkSW5wdXRzPSEwLHRoaXMucGFja2VkT3V0cHV0PSEwO3ZhciBhLGk9ZSxzPXRbM10tMTt0aGlzLm91dHB1dFNoYXBlPXQ7dmFyIHU9XCJmbG9hdChcIituK1wiKSArIGZsb2F0KFwiK3IrXCIpICogc3VtXCI7YT0uNT09PW8/XCJpbnZlcnNlc3FydChcIit1K1wiKVwiOjE9PT1vP1wiMS4wLyhcIit1K1wiKVwiOlwiZXhwKGxvZyhcIit1K1wiKSAqIGZsb2F0KC1cIitvK1wiKSk7XCIsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGIgPSBjb29yZHMueDtcXG4gICAgICAgIGludCByID0gY29vcmRzLnk7XFxuICAgICAgICBpbnQgYyA9IGNvb3Jkcy56O1xcbiAgICAgICAgaW50IGQgPSBjb29yZHMudztcXG5cXG4gICAgICAgIGJvb2wgaGFzTmV4dENvbCA9IGQgPCBcIit0aGlzLm91dHB1dFNoYXBlWzNdK1wiO1xcbiAgICAgICAgYm9vbCBoYXNOZXh0Um93ID0gYyA8IFwiK3RoaXMub3V0cHV0U2hhcGVbMl0rXCI7XFxuXFxuICAgICAgICB2ZWM0IHN1bSA9IHZlYzQoMC4pO1xcbiAgICAgICAgdmVjNCB4RnJhZ0F0T3V0cHV0Q29vcmRzID0gZ2V0WChiLCByLCBjLCBkKTtcXG5cXG4gICAgICAgIHZlYzQgeEF0T3V0cHV0Q29vcmRzID0gdmVjNChcXG4gICAgICAgICAgZ2V0Q2hhbm5lbCh4RnJhZ0F0T3V0cHV0Q29vcmRzLCB2ZWMyKGMsIGQpKSxcXG4gICAgICAgICAgaGFzTmV4dENvbCA/XFxuICAgICAgICAgICAgZ2V0Q2hhbm5lbCh4RnJhZ0F0T3V0cHV0Q29vcmRzLCB2ZWMyKGMsIGQgKyAxKSkgOiAwLjAsXFxuICAgICAgICAgIGhhc05leHRSb3cgP1xcbiAgICAgICAgICAgIGdldENoYW5uZWwoeEZyYWdBdE91dHB1dENvb3JkcyAsIHZlYzIoYyArIDEsIGQpKSA6IDAuMCxcXG4gICAgICAgICAgKGhhc05leHRSb3cgJiYgaGFzTmV4dENvbCkgP1xcbiAgICAgICAgICAgIGdldENoYW5uZWwoeEZyYWdBdE91dHB1dENvb3JkcywgdmVjMihjICsgMSwgZCArIDEpKSA6IDAuMFxcbiAgICAgICAgKTtcXG5cXG4gICAgICAgIGludCBmaXJzdENoYW5uZWwgPSBkIC0gXCIraStcIjtcXG4gICAgICAgIHZlYzIgY2FjaGUgPSB2ZWMyKDAuKTtcXG4gICAgICAgIGlmKGZpcnN0Q2hhbm5lbCA+PSAwKXtcXG4gICAgICAgICAgdmVjNCBmaXJzdENoYW5uZWxGcmFnID0gZ2V0WChiLCByLCBjLCBmaXJzdENoYW5uZWwpO1xcbiAgICAgICAgICBjYWNoZS54ID0gZ2V0Q2hhbm5lbChmaXJzdENoYW5uZWxGcmFnLCB2ZWMyKGMsIGZpcnN0Q2hhbm5lbCkpO1xcbiAgICAgICAgICAgIGlmKGhhc05leHRSb3cpe1xcbiAgICAgICAgICAgICAgY2FjaGUueSA9IGdldENoYW5uZWwoZmlyc3RDaGFubmVsRnJhZywgdmVjMihjICsgMSwgZmlyc3RDaGFubmVsKSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgaXZlYzIgZGVwdGggPSBpdmVjMihkLCBkICsgMSk7XFxuICAgICAgICBmb3IgKGludCBqID0gLSBcIitpK1wiOyBqIDw9IFwiK2krXCI7IGorKykge1xcbiAgICAgICAgICBpdmVjMiBpZHggPSBkZXB0aCArIGo7XFxuICAgICAgICAgIGJ2ZWMyIGFib3ZlTG93ZXJCb3VuZCA9IGdyZWF0ZXJUaGFuRXF1YWwoaWR4LCBpdmVjMigwKSk7XFxuICAgICAgICAgIGJ2ZWMyIGJlbG93VXBwZXJCb3VuZCA9IGxlc3NUaGFuRXF1YWwoaWR4LCBpdmVjMihcIitzK1wiKSk7XFxuXFxuICAgICAgICAgIGJvb2wgZGVwdGhJblJhbmdlID0gYWJvdmVMb3dlckJvdW5kLnggJiYgYmVsb3dVcHBlckJvdW5kLng7XFxuICAgICAgICAgIGJvb2wgZGVwdGhQbHVzT25lSW5SYW5nZSA9IGFib3ZlTG93ZXJCb3VuZC55ICYmIGJlbG93VXBwZXJCb3VuZC55O1xcblxcbiAgICAgICAgICBpZihkZXB0aEluUmFuZ2UgfHwgZGVwdGhQbHVzT25lSW5SYW5nZSl7XFxuICAgICAgICAgICAgdmVjNCB6ID0gdmVjNCgwLik7XFxuICAgICAgICAgICAgdmVjNCB4RnJhZ0F0Q3VycmVudERlcHRoO1xcbiAgICAgICAgICAgIHoueHogPSBjYWNoZS54eTtcXG4gICAgICAgICAgICBpZihkZXB0aFBsdXNPbmVJblJhbmdlICYmIGhhc05leHRDb2wpe1xcbiAgICAgICAgICAgICAgeEZyYWdBdEN1cnJlbnREZXB0aCA9IGlkeC55ICE9IGQgP1xcbiAgICAgICAgICAgICAgICBnZXRYKGIsIHIsIGMsIGlkeC55KSA6IHhGcmFnQXRPdXRwdXRDb29yZHM7XFxuICAgICAgICAgICAgICB6LnkgPSBnZXRDaGFubmVsKHhGcmFnQXRDdXJyZW50RGVwdGgsIHZlYzIoYywgaWR4LnkpKTtcXG4gICAgICAgICAgICAgIGlmKGhhc05leHRSb3cpe1xcbiAgICAgICAgICAgICAgICB6LncgPSBnZXRDaGFubmVsKHhGcmFnQXRDdXJyZW50RGVwdGgsIHZlYzIoYyArIDEsIGlkeC55KSk7XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGNhY2hlLnh5ID0gei55dztcXG4gICAgICAgICAgICBzdW0gKz0geiAqIHo7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIHZlYzQgcmVzdWx0ID0geEF0T3V0cHV0Q29vcmRzICogXCIrYStcIjtcXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9LE5zPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJkeVwiLFwibWF4UG9zXCJdLHRoaXMub3V0cHV0U2hhcGU9dC5pblNoYXBlO3ZhciBlPXQuc3RyaWRlSGVpZ2h0LG49dC5zdHJpZGVXaWR0aCxyPXQuZGlsYXRpb25IZWlnaHQsbz10LmVmZmVjdGl2ZUZpbHRlckhlaWdodCxhPXQuZWZmZWN0aXZlRmlsdGVyV2lkdGgsaT1vLTEtdC5wYWRJbmZvLnRvcCxzPWEtMS10LnBhZEluZm8ubGVmdCx1PW8qYS0xO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCBpdmVjMiBwYWRzID0gaXZlYzIoXCIraStcIiwgXCIrcytcIik7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYiA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBkID0gY29vcmRzWzNdO1xcblxcbiAgICAgICAgaXZlYzIgZHlSQ0Nvcm5lciA9IGNvb3Jkcy55eiAtIHBhZHM7XFxuICAgICAgICBpbnQgZHlSQ29ybmVyID0gZHlSQ0Nvcm5lci54O1xcbiAgICAgICAgaW50IGR5Q0Nvcm5lciA9IGR5UkNDb3JuZXIueTtcXG5cXG4gICAgICAgIC8vIENvbnZvbHZlIGR5KD8sID8sIGQpIHdpdGggcG9zIG1hc2soOiwgOiwgZCkgdG8gZ2V0IGR4KHhSLCB4QywgZCkuXFxuICAgICAgICAvLyA/ID0gdG8gYmUgZGV0ZXJtaW5lZC4gOiA9IGFjcm9zcyBhbGwgdmFsdWVzIGluIHRoYXQgYXhpcy5cXG4gICAgICAgIGZsb2F0IGRvdFByb2QgPSAwLjA7XFxuICAgICAgICBmb3IgKGludCB3UiA9IDA7IHdSIDwgXCIrbytcIjtcXG4gICAgICAgICAgd1IgKz0gXCIrcitcIikge1xcbiAgICAgICAgICBmbG9hdCBkeVIgPSBmbG9hdChkeVJDb3JuZXIgKyB3UikgLyBcIitlK1wiLjA7XFxuXFxuICAgICAgICAgIGlmIChkeVIgPCAwLjAgfHwgZHlSID49IFwiK3Qub3V0SGVpZ2h0K1wiLjAgfHwgZnJhY3QoZHlSKSA+IDAuMCkge1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIGludCBpZHlSID0gaW50KGR5Uik7XFxuXFxuICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIithK1wiOyB3QysrKSB7XFxuICAgICAgICAgICAgZmxvYXQgZHlDID0gZmxvYXQoZHlDQ29ybmVyICsgd0MpIC8gXCIrbitcIi4wO1xcblxcbiAgICAgICAgICAgIGlmIChkeUMgPCAwLjAgfHwgZHlDID49IFwiK3Qub3V0V2lkdGgrXCIuMCB8fFxcbiAgICAgICAgICAgICAgICBmcmFjdChkeUMpID4gMC4wKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaW50IGlkeUMgPSBpbnQoZHlDKTtcXG5cXG4gICAgICAgICAgICBmbG9hdCBkeVZhbHVlID0gZ2V0RHkoYiwgaWR5UiwgaWR5QywgZCk7XFxuICAgICAgICAgICAgaW50IG1heFBvc1ZhbHVlID0gXCIrdStcIiAtIGludChnZXRNYXhQb3MoYiwgaWR5UiwgaWR5QywgZCkpO1xcblxcbiAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCB2YWx1ZSwgY2hlY2sgaXQgYWdhaW5zdCB0aGUgdmFsdWUgZnJvbSB0aGVcXG4gICAgICAgICAgICAvLyBwb3NpdGlvbiBtYXRyaXguXFxuICAgICAgICAgICAgaW50IGN1clBvc1ZhbHVlID0gd1IgKiBcIithK1wiICsgd0M7XFxuICAgICAgICAgICAgZmxvYXQgbWFzayA9IGZsb2F0KG1heFBvc1ZhbHVlID09IGN1clBvc1ZhbHVlID8gMS4wIDogMC4wKTtcXG5cXG4gICAgICAgICAgICBkb3RQcm9kICs9IGR5VmFsdWUgKiBtYXNrO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQoZG90UHJvZCk7XFxuICAgICAgfVxcbiAgICBcIn0sRnM9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcImR5XCIsXCJtYXhQb3NcIl0sdGhpcy5vdXRwdXRTaGFwZT10LmluU2hhcGU7dmFyIGU9dC5zdHJpZGVEZXB0aCxuPXQuc3RyaWRlSGVpZ2h0LHI9dC5zdHJpZGVXaWR0aCxvPXQuZGlsYXRpb25EZXB0aCxhPXQuZGlsYXRpb25IZWlnaHQsaT10LmRpbGF0aW9uV2lkdGgscz10LmVmZmVjdGl2ZUZpbHRlckRlcHRoLHU9dC5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQsYz10LmVmZmVjdGl2ZUZpbHRlcldpZHRoLGw9cy0xLXQucGFkSW5mby5mcm9udCxoPXUtMS10LnBhZEluZm8udG9wLGY9Yy0xLXQucGFkSW5mby5sZWZ0LGQ9cyp1KmMtMTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgaXZlYzMgcGFkcyA9IGl2ZWMzKFwiK2wrXCIsIFwiK2grXCIsIFwiK2YrXCIpO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM1IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGJhdGNoID0gY29vcmRzLng7XFxuICAgICAgICBpbnQgY2ggPSBjb29yZHMudTtcXG5cXG4gICAgICAgIGl2ZWMzIGR5Q29ybmVyID0gaXZlYzMoY29vcmRzLnksIGNvb3Jkcy56LCBjb29yZHMudykgLSBwYWRzO1xcbiAgICAgICAgaW50IGR5RENvcm5lciA9IGR5Q29ybmVyLng7XFxuICAgICAgICBpbnQgZHlSQ29ybmVyID0gZHlDb3JuZXIueTtcXG4gICAgICAgIGludCBkeUNDb3JuZXIgPSBkeUNvcm5lci56O1xcblxcbiAgICAgICAgLy8gQ29udm9sdmUgZHkoPywgPywgPywgY2gpIHdpdGggcG9zIG1hc2soOiwgOiwgOiwgZCkgdG8gZ2V0XFxuICAgICAgICAvLyBkeCh4RCwgeFIsIHhDLCBjaCkuXFxuICAgICAgICAvLyA/ID0gdG8gYmUgZGV0ZXJtaW5lZC4gOiA9IGFjcm9zcyBhbGwgdmFsdWVzIGluIHRoYXQgYXhpcy5cXG4gICAgICAgIGZsb2F0IGRvdFByb2QgPSAwLjA7XFxuXFxuICAgICAgICBmb3IgKGludCB3RCA9IDA7IHdEIDwgXCIrcytcIjtcXG4gICAgICAgICAgIHdEICs9IFwiK28rXCIpIHtcXG4gICAgICAgICAgZmxvYXQgZHlEID0gZmxvYXQoZHlEQ29ybmVyICsgd0QpIC8gXCIrZStcIi4wO1xcblxcbiAgICAgICAgICBpZiAoZHlEIDwgMC4wIHx8IGR5RCA+PSBcIit0Lm91dERlcHRoK1wiLjAgfHwgZnJhY3QoZHlEKSA+IDAuMCkge1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIGludCBpZHlEID0gaW50KGR5RCk7XFxuXFxuICAgICAgICAgIGZvciAoaW50IHdSID0gMDsgd1IgPCBcIit1K1wiO1xcbiAgICAgICAgICAgICAgd1IgKz0gXCIrYStcIikge1xcbiAgICAgICAgICAgIGZsb2F0IGR5UiA9IGZsb2F0KGR5UkNvcm5lciArIHdSKSAvIFwiK24rXCIuMDtcXG5cXG4gICAgICAgICAgICBpZiAoZHlSIDwgMC4wIHx8IGR5UiA+PSBcIit0Lm91dEhlaWdodCtcIi4wIHx8XFxuICAgICAgICAgICAgICAgIGZyYWN0KGR5UikgPiAwLjApIHtcXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpbnQgaWR5UiA9IGludChkeVIpO1xcblxcbiAgICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIitjK1wiO1xcbiAgICAgICAgICAgICAgICB3QyArPSBcIitpK1wiKSB7XFxuICAgICAgICAgICAgICBmbG9hdCBkeUMgPSBmbG9hdChkeUNDb3JuZXIgKyB3QykgLyBcIityK1wiLjA7XFxuXFxuICAgICAgICAgICAgICBpZiAoZHlDIDwgMC4wIHx8IGR5QyA+PSBcIit0Lm91dFdpZHRoK1wiLjAgfHxcXG4gICAgICAgICAgICAgICAgICBmcmFjdChkeUMpID4gMC4wKSB7XFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgaW50IGlkeUMgPSBpbnQoZHlDKTtcXG5cXG4gICAgICAgICAgICAgIGZsb2F0IGR5VmFsdWUgPSBnZXREeShiYXRjaCwgaWR5RCwgaWR5UiwgaWR5QywgY2gpO1xcbiAgICAgICAgICAgICAgaW50IG1heFBvc1ZhbHVlID0gXCIrZCtcIiAtXFxuICAgICAgICAgICAgICAgICAgaW50KGdldE1heFBvcyhiYXRjaCwgaWR5RCwgaWR5UiwgaWR5QywgY2gpKTtcXG5cXG4gICAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCB2YWx1ZSwgY2hlY2sgaXQgYWdhaW5zdCB0aGUgdmFsdWUgZnJvbSB0aGVcXG4gICAgICAgICAgICAgIC8vIHBvc2l0aW9uIG1hdHJpeC5cXG4gICAgICAgICAgICAgIGludCBjdXJQb3NWYWx1ZSA9XFxuICAgICAgICAgICAgICAgICAgd0QgKiBcIit1K1wiICogXCIrYytcIiArXFxuICAgICAgICAgICAgICAgICAgd1IgKiBcIitjK1wiICsgd0M7XFxuICAgICAgICAgICAgICBmbG9hdCBtYXNrID0gZmxvYXQobWF4UG9zVmFsdWUgPT0gY3VyUG9zVmFsdWUgPyAxLjAgOiAwLjApO1xcblxcbiAgICAgICAgICAgICAgZG90UHJvZCArPSBkeVZhbHVlICogbWFzaztcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChkb3RQcm9kKTtcXG4gICAgICB9XFxuICAgIFwifSxfcz1mdW5jdGlvbih0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09ciYmKHI9ITEpLHZvaWQgMD09PW8mJihvPSExKSx2b2lkIDA9PT1hJiYoYT1udWxsKSx2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy52YXJpYWJsZU5hbWVzPVtcIm1hdHJpeEFcIixcIm1hdHJpeEJcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT1lO3ZhciBzPW4/dFsxXTp0WzJdLHU9TWF0aC5jZWlsKHMvMiksYz1uP1wiaSAqIDIsIHJjLnlcIjpcInJjLnksIGkgKiAyXCIsbD1yP1wicmMueiwgaSAqIDJcIjpcImkgKiAyLCByYy56XCIsaD1uP1tcImEueHh5eVwiLFwiYS56end3XCJdOltcImEueHh6elwiLFwiYS55eXd3XCJdLGY9cj9bXCJiLnh6eHpcIixcImIueXd5d1wiXTpbXCJiLnh5eHlcIixcImIuend6d1wiXSxkPVwiXCIscD1cIlwiO2EmJihkPWk/XCJ2ZWM0IGFjdGl2YXRpb24odmVjNCBhKSB7XFxuICAgICAgICAgIHZlYzQgYiA9IGdldFByZWx1QWN0aXZhdGlvbldlaWdodHNBdE91dENvb3JkcygpO1xcbiAgICAgICAgICBcIithK1wiXFxuICAgICAgICB9XCI6XCJ2ZWM0IGFjdGl2YXRpb24odmVjNCB4KSB7XFxuICAgICAgICAgIFwiK2ErXCJcXG4gICAgICAgIH1cIixwPVwicmVzdWx0ID0gYWN0aXZhdGlvbihyZXN1bHQpO1wiKTt2YXIgdj1vP1wicmVzdWx0ICs9IGdldEJpYXNBdE91dENvb3JkcygpO1wiOlwiXCI7byYmdGhpcy52YXJpYWJsZU5hbWVzLnB1c2goXCJiaWFzXCIpLGkmJnRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwicHJlbHVBY3RpdmF0aW9uV2VpZ2h0c1wiKSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgXCIrZCtcIlxcblxcbiAgICAgIGNvbnN0IGZsb2F0IHNoYXJlZERpbWVuc2lvbiA9IFwiK3UrXCIuMDtcXG5cXG4gICAgICB2ZWM0IGRvdDJ4MkFSb3dCQ29sKGl2ZWMzIHJjKSB7XFxuICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMCk7XFxuICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IFwiK3UrXCI7IGkrKykge1xcbiAgICAgICAgICB2ZWM0IGEgPSBnZXRNYXRyaXhBKHJjLngsIFwiK2MrXCIpO1xcbiAgICAgICAgICB2ZWM0IGIgPSBnZXRNYXRyaXhCKHJjLngsIFwiK2wrXCIpO1xcblxcbiAgICAgICAgICAvLyBUaGVzZSBzd2l6emxlZCBwcm9kdWN0cyBuZWVkIHRvIGJlIHNlcGFyYXRlbHkgYWRkZWQuXFxuICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3RlbnNvcmZsb3cvdGZqcy9pc3N1ZXMvMTczNVxcbiAgICAgICAgICByZXN1bHQgKz0gKFwiK2hbMF0rXCIgKiBcIitmWzBdK1wiKTtcXG4gICAgICAgICAgcmVzdWx0ICs9IChcIitoWzFdK1wiICogXCIrZlsxXStcIik7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xcbiAgICAgIH1cXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjMyByYyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgdmVjNCByZXN1bHQgPSBkb3QyeDJBUm93QkNvbChyYyk7XFxuXFxuICAgICAgICBcIit2K1wiXFxuXFxuICAgICAgICBcIitwK1wiXFxuXFxuICAgICAgICBzZXRPdXRwdXQocmVzdWx0KTtcXG4gICAgICB9XFxuICAgIFwifSxPcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJwcm9ic1wiXSx0aGlzLm91dHB1dFNoYXBlPVt0LG5dLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB1bmlmb3JtIGZsb2F0IHNlZWQ7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzIgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHNbMF07XFxuXFxuICAgICAgICBmbG9hdCByID0gcmFuZG9tKHNlZWQpO1xcbiAgICAgICAgZmxvYXQgY2RmID0gMC4wO1xcblxcbiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBcIisoZS0xKStcIjsgaSsrKSB7XFxuICAgICAgICAgIGNkZiArPSBnZXRQcm9icyhiYXRjaCwgaSk7XFxuXFxuICAgICAgICAgIGlmIChyIDwgY2RmKSB7XFxuICAgICAgICAgICAgc2V0T3V0cHV0KGZsb2F0KGkpKTtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC8vIElmIG5vIG90aGVyIGV2ZW50IGhhcHBlbmVkLCBsYXN0IGV2ZW50IGhhcHBlbmVkLlxcbiAgICAgICAgc2V0T3V0cHV0KGZsb2F0KFwiKyhlLTEpK1wiKSk7XFxuICAgICAgfVxcbiAgICBcIn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0Q3VzdG9tU2V0dXBGdW5jPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4scil7bnVsbD09ZS5zZWVkTG9jJiYoZS5zZWVkTG9jPW4uZ2V0VW5pZm9ybUxvY2F0aW9uKHIsXCJzZWVkXCIpKSxuLmdsLnVuaWZvcm0xZihlLnNlZWRMb2MsdCl9fSx0fSgpLE1zPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJpbmRpY2VzXCJdLHRoaXMub3V0cHV0U2hhcGU9W3QsZV0sdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMyIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGluZGV4ID0gcm91bmQoZ2V0SW5kaWNlcyhjb29yZHMueCkpO1xcbiAgICAgICAgc2V0T3V0cHV0KG1peChmbG9hdChcIityK1wiKSwgZmxvYXQoXCIrbitcIiksXFxuICAgICAgICAgICAgICAgICAgICAgIGZsb2F0KGluZGV4ID09IGNvb3Jkcy55KSkpO1xcbiAgICAgIH1cXG4gICAgXCJ9LEJzPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdLHRoaXMucGFja2VkSW5wdXRzPSExLHRoaXMucGFja2VkT3V0cHV0PSEwLHRoaXMub3V0cHV0U2hhcGU9dDt2YXIgZT10Lmxlbmd0aDtpZigwPT09ZSl0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIHNldE91dHB1dCh2ZWM0KGdldEEoKSwgMC4sIDAuLCAwLikpO1xcbiAgICAgICAgfVxcbiAgICAgIFwiO2Vsc2V7dmFyIG49WGEoXCJyY1wiLGUpLHI9dWkoZSksbz1mdW5jdGlvbih0LGUsbil7aWYoMT09PXQpcmV0dXJuXCJyYyA+IFwiK2VbMF07Zm9yKHZhciByPVwiXCIsbz10LTI7bzx0O28rKylyKz1uW29dK1wiID49IFwiK2Vbb10sbzx0LTEmJihyKz1cInx8XCIpO3JldHVybiByfShlLHQsbiksYT1mdW5jdGlvbih0LGUsbixyKXtpZigxPT09dClyZXR1cm5cIlwiO3ZhciBvPXIuc2xpY2UoLTIpO3JldHVyblwiXFxuICAgIGludCByID0gXCIrb1swXStcIjtcXG4gICAgaW50IGMgPSBcIitvWzFdK1wiO1xcbiAgICBpbnQgcnAxID0gciArIDE7XFxuICAgIGludCBjcDEgPSBjICsgMTtcXG5cXG4gICAgYm9vbCBjRWRnZSA9IGNwMSA+PSBcIitlK1wiO1xcbiAgICBib29sIHJFZGdlID0gcnAxID49IFwiK24rXCI7XFxuICBcIn0oZSx0W3QubGVuZ3RoLTFdLHRbdC5sZW5ndGgtMl0sbiksaT1mdW5jdGlvbih0LGUpe3ZhciBuPXQubGVuZ3RoLHI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj0wO3I8PTE7cisrKWZvcih2YXIgbz0wO288PTE7bysrKXtmb3IodmFyIGE9KDA9PT1yP1wiclwiOlwicnAxXCIpK1wiLCBcIisoMD09PW8/XCJjXCI6XCJjcDFcIiksaT0yO2k8dDtpKyspYT1lW2UubGVuZ3RoLTEtaV0rXCIsXCIrYTtuLnB1c2goYSl9cmV0dXJuIG59KG4sZSk7cmV0dXJuIDE9PT1uP1wiZ2V0QShyYyksXFxuICAgICAgICAgICAgcmMgKyAxID49IFwiK3RbMF0rXCIgPyAwLiA6IGdldEEocmMgKyAxKSxcXG4gICAgICAgICAgICAwLCAwXCI6XCJnZXRBKFwiK3JbMF0rXCIpLFxcbiAgICAgICAgICBjRWRnZSA/IDAuIDogZ2V0QShcIityWzFdK1wiKSxcXG4gICAgICAgICAgckVkZ2UgPyAwLiA6IGdldEEoXCIrclsyXStcIiksXFxuICAgICAgICAgIHJFZGdlIHx8IGNFZGdlID8gMC4gOiBnZXRBKFwiK3JbM10rXCIpXCJ9KHQsbik7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICBcIityK1wiIHJjID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuXFxuICAgICAgICAgIGlmKFwiK28rXCIpIHtcXG4gICAgICAgICAgICBzZXRPdXRwdXQodmVjNCgwKSk7XFxuICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgXCIrYStcIlxcblxcbiAgICAgICAgICAgIHNldE91dHB1dCh2ZWM0KFwiK2krXCIpKTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgIFwifX07dmFyIFBzPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiXSx0aGlzLm91dHB1dFNoYXBlPWUubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiBlWzBdK3Rbbl0rZVsxXX0pKTt2YXIgcj10Lmxlbmd0aCxvPXVpKHIpLGE9ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpLmpvaW4oXCIsXCIpLGk9ZS5tYXAoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGVbMF0rdFtuXX0pKS5qb2luKFwiLFwiKSxzPVtcImNvb3Jkc1swXVwiLFwiY29vcmRzWzFdXCIsXCJjb29yZHNbMl1cIixcImNvb3Jkc1szXVwiXS5zbGljZSgwLHIpO3RoaXMudXNlckNvZGU9MSE9PXI/XCJcXG4gICAgICBcIitvK1wiIHN0YXJ0ID0gXCIrbytcIihcIithK1wiKTtcXG4gICAgICBcIitvK1wiIGVuZCA9IFwiK28rXCIoXCIraStcIik7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbytcIiBvdXRDID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpZiAoYW55KGxlc3NUaGFuKG91dEMsIHN0YXJ0KSkgfHwgYW55KGdyZWF0ZXJUaGFuRXF1YWwob3V0QywgZW5kKSkpIHtcXG4gICAgICAgICAgc2V0T3V0cHV0KGZsb2F0KFwiK24rXCIpKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgIFwiK28rXCIgY29vcmRzID0gb3V0QyAtIHN0YXJ0O1xcbiAgICAgICAgICBzZXRPdXRwdXQoZ2V0WChcIitzK1wiKSk7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICBcIjpcIlxcbiAgICAgICAgaW50IHN0YXJ0ID0gXCIrYStcIjtcXG4gICAgICAgIGludCBlbmQgPSBcIitpK1wiO1xcblxcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICBpbnQgb3V0QyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICBpZiAob3V0QyA8IHN0YXJ0IHx8IG91dEMgPj0gZW5kKSB7XFxuICAgICAgICAgICAgc2V0T3V0cHV0KGZsb2F0KFwiK24rXCIpKTtcXG4gICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICBzZXRPdXRwdXQoZ2V0WChvdXRDIC0gc3RhcnQpKTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgIFwifSxMcz1mdW5jdGlvbih0LGUsbil7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT1lLm1hcCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZVswXSt0W25dK2VbMV19KSk7Zm9yKHZhciByPXQubGVuZ3RoLG89dWkociksYT1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSkuam9pbihcIixcIiksaT1lLm1hcCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZVswXSt0W25dfSkpLmpvaW4oXCIsXCIpLHM9WGEoXCJyY1wiLHIpLHU9WGEoXCJzb3VyY2VcIixyKSxjPXNbci0xXStcIiA8IFwiK3RoaXMub3V0cHV0U2hhcGVbci0xXSxsPTE9PT1yP1wic291cmNlXCI6XCJ2ZWMyKFwiK3Uuc2xpY2UoLTIpLmpvaW4oKStcIilcIixoPVtvK1wiIHJjID0gb3V0cHV0TG9jO1wiLHNbci0xXStcIiArPSAxO1xcbiAgICAgICBpZihcIitjK1wiKSB7XFxuICAgICAgXCIsMT09PXI/XCJcIjpcIn1cXG4gICAgICAgcmMgPSBvdXRwdXRMb2M7XFxuICAgICAgIFwiK3Nbci0yXStcIiArPSAxO1xcbiAgICAgICBpZihcIitzW3ItMl0rXCIgPCBcIit0aGlzLm91dHB1dFNoYXBlW3ItMl0rXCIpIHtcIiwxPT09cj9cIlwiOlwiICBcIitzW3ItMV0rXCIgKz0gMTtcXG4gICAgICAgICBpZihcIitjK1wiKSB7XCJdLGY9MT09PXI/XCJyYyA8IHN0YXJ0IHx8IHJjID49IGVuZFwiOlwiYW55KGxlc3NUaGFuKHJjLCBzdGFydCkpIHx8IGFueShncmVhdGVyVGhhbkVxdWFsKHJjLCBlbmQpKVwiLGQ9XCJcIixwPTAsdj0xPT09cj8yOjQ7cDx2O3ArKylkKz1cIlxcbiAgICAgICAgXCIraFtwXStcIlxcbiAgICAgICAgaWYgKFwiK2YrXCIpIHtcXG4gICAgICAgICAgcmVzdWx0W1wiK3ArXCJdID0gZmxvYXQoXCIrbitcIik7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBcIitvK1wiIHNvdXJjZSA9IHJjIC0gc3RhcnQ7XFxuICAgICAgICAgIHJlc3VsdFtcIitwK1wiXSA9IGdldENoYW5uZWwoZ2V0WChcIit1LmpvaW4oKStcIiksIFwiK2wrXCIpO1xcbiAgICAgICAgfVxcbiAgICAgIFwiO2QrPTE9PT1yP1wifSBcIjpcIn19XCIsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGNvbnN0IFwiK28rXCIgc3RhcnQgPSBcIitvK1wiKFwiK2ErXCIpO1xcbiAgICAgIGNvbnN0IFwiK28rXCIgZW5kID0gXCIrbytcIihcIitpK1wiKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBcIitvK1wiIG91dHB1dExvYyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDAuKTtcXG4gICAgICAgIFwiK2QrXCJcXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9LFdzPWZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYodm9pZCAwPT09ciYmKHI9ITEpLHZvaWQgMD09PW8mJihvPSExKSx0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiXSxcImF2Z1wiPT09ZSYmbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tcHV0ZSBwb3NpdGlvbnMgZm9yIGF2ZXJhZ2UgcG9vbC5cIik7dmFyIGE9dC5maWx0ZXJXaWR0aCxpPXQuc3RyaWRlSGVpZ2h0LHM9dC5zdHJpZGVXaWR0aCx1PXQuZGlsYXRpb25IZWlnaHQsYz10LmRpbGF0aW9uV2lkdGgsbD10LmVmZmVjdGl2ZUZpbHRlckhlaWdodCxoPXQuZWZmZWN0aXZlRmlsdGVyV2lkdGgsZj10LnBhZEluZm8udG9wLGQ9dC5wYWRJbmZvLmxlZnQ7dGhpcy5vdXRwdXRTaGFwZT10Lm91dFNoYXBlO3ZhciBwPVwiYXZnXCI9PT1lLHY9XCIoKGJhdGNoICAqIFwiK3QuaW5IZWlnaHQrXCIgKyB4UikgKiBcIit0LmluV2lkdGgrXCIgKyB4QykgKiBcIit0LmluQ2hhbm5lbHMrXCIgKyBkXCIsZz1cIih4UiAqIFwiK3QuaW5XaWR0aCtcIiArIHhDKSAqIFwiK3QuaW5DaGFubmVscytcIiArIGRcIixtPVwiMC4wXCI7aWYocHx8KG09XCItMS4wIC8gMWUtMjBcIiksbil0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgICBjb25zdCBpdmVjMiBzdHJpZGVzID0gaXZlYzIoXCIraStcIiwgXCIrcytcIik7XFxuICAgICAgICBjb25zdCBpdmVjMiBwYWRzID0gaXZlYzIoXCIrZitcIiwgXCIrZCtcIik7XFxuXFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHNbMF07XFxuICAgICAgICAgIGludCBkID0gY29vcmRzWzNdO1xcblxcbiAgICAgICAgICBpdmVjMiB4UkNDb3JuZXIgPSBjb29yZHMueXogKiBzdHJpZGVzIC0gcGFkcztcXG4gICAgICAgICAgaW50IHhSQ29ybmVyID0geFJDQ29ybmVyLng7XFxuICAgICAgICAgIGludCB4Q0Nvcm5lciA9IHhSQ0Nvcm5lci55O1xcblxcbiAgICAgICAgICAvLyBtYXgvbWluIHgoPywgPywgZCkgdG8gZ2V0IHkoeVIsIHlDLCBkKS5cXG4gICAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWRcXG4gICAgICAgICAgZmxvYXQgbWluTWF4VmFsdWUgPSAwLjA7XFxuICAgICAgICAgIGZsb2F0IG1pbk1heFZhbHVlRm91bmQgPSAwLjA7XFxuICAgICAgICAgIGludCBtaW5NYXhQb3NpdGlvbiA9IDA7XFxuICAgICAgICAgIGZsb2F0IGF2Z1ZhbHVlID0gMC4wO1xcblxcbiAgICAgICAgICBmb3IgKGludCB3UiA9IDA7IHdSIDwgXCIrbCtcIjtcXG4gICAgICAgICAgICAgIHdSICs9IFwiK3UrXCIpIHtcXG4gICAgICAgICAgICBpbnQgeFIgPSB4UkNvcm5lciArIHdSO1xcblxcbiAgICAgICAgICAgIGlmICh4UiA8IDAgfHwgeFIgPj0gXCIrdC5pbkhlaWdodCtcIikge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIitoK1wiO1xcbiAgICAgICAgICAgICAgICB3QyArPSBcIitjK1wiKSB7XFxuICAgICAgICAgICAgICBpbnQgeEMgPSB4Q0Nvcm5lciArIHdDO1xcblxcbiAgICAgICAgICAgICAgaWYgKHhDIDwgMCB8fCB4QyA+PSBcIit0LmluV2lkdGgrXCIpIHtcXG4gICAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICBmbG9hdCB2YWx1ZSA9IGdldFgoYmF0Y2gsIHhSLCB4QywgZCk7XFxuXFxuICAgICAgICAgICAgICAvLyBJZiBhIG1pbiAvIG1heCB2YWx1ZSBoYXMgYWxyZWFkeSBiZWVuIGZvdW5kLCB1c2UgaXQuIElmIG5vdCxcXG4gICAgICAgICAgICAgIC8vIHVzZSB0aGUgY3VycmVudCB2YWx1ZS5cXG4gICAgICAgICAgICAgIGZsb2F0IGN1cnJNaW5NYXhWYWx1ZSA9IG1peChcXG4gICAgICAgICAgICAgICAgICB2YWx1ZSwgbWluTWF4VmFsdWUsIG1pbk1heFZhbHVlRm91bmQpO1xcbiAgICAgICAgICAgICAgaWYgKHZhbHVlID49IGN1cnJNaW5NYXhWYWx1ZSkge1xcbiAgICAgICAgICAgICAgICBtaW5NYXhWYWx1ZSA9IHZhbHVlO1xcbiAgICAgICAgICAgICAgICBtaW5NYXhWYWx1ZUZvdW5kID0gMS4wO1xcbiAgICAgICAgICAgICAgICBtaW5NYXhQb3NpdGlvbiA9IFwiKyhyP28/djpnOlwid1IgKiBcIitoK1wiICsgd0NcIikrXCI7XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICAgIHNldE91dHB1dChmbG9hdChtaW5NYXhQb3NpdGlvbikpO1xcbiAgICAgICAgfVxcbiAgICAgIFwiO2Vsc2V7dmFyIHk9ZStcIihcIitlK1wiKFwiK2UrXCIobWluTWF4VmFsdWVbMF0sIG1pbk1heFZhbHVlWzFdKSwgbWluTWF4VmFsdWVbMl0pLCBtaW5NYXhWYWx1ZVszXSlcIjtcImF2Z1wiPT09ZSYmKHk9XCJhdmdWYWx1ZSAvIGNvdW50XCIpO3ZhciB4PTQqTWF0aC5mbG9vcihhLzQpLGI9YSU0LHc9XCJcXG4gICAgICBpZiAoXCIrcCtcIikge1xcbiAgICAgICAgYXZnVmFsdWUgKz0gZG90KHZhbHVlcywgb25lcyk7XFxuICAgICAgfSBlbHNlIHtcXG4gICAgICAgIG1pbk1heFZhbHVlID0gbWF4KHZhbHVlcywgbWluTWF4VmFsdWUpO1xcbiAgICAgIH1cXG4gICAgXCI7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGNvbnN0IGl2ZWMyIHN0cmlkZXMgPSBpdmVjMihcIitpK1wiLCBcIitzK1wiKTtcXG4gICAgICBjb25zdCBpdmVjMiBwYWRzID0gaXZlYzIoXCIrZitcIiwgXCIrZCtcIik7XFxuICAgICAgY29uc3QgZmxvYXQgaW5pdGlhbGl6YXRpb25WYWx1ZSA9IFwiK20rXCI7XFxuICAgICAgY29uc3QgdmVjNCBvbmVzID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAxLjApO1xcblxcbiAgICAgIGZsb2F0IGNvdW50ID0gMC4wO1xcblxcbiAgICAgIGZsb2F0IGdldFZhbHVlKGludCBiYXRjaCwgaW50IHhSLCBpbnQgeEMsIGludCBkKSB7XFxuICAgICAgICBpZiAoeEMgPCAwIHx8IHhDID49IFwiK3QuaW5XaWR0aCtcIikge1xcbiAgICAgICAgICByZXR1cm4gaW5pdGlhbGl6YXRpb25WYWx1ZTtcXG4gICAgICAgIH1cXG4gICAgICAgIGNvdW50ICs9IDEuMDtcXG4gICAgICAgIHJldHVybiBnZXRYKGJhdGNoLCB4UiwgeEMsIGQpO1xcbiAgICAgIH1cXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBkID0gY29vcmRzWzNdO1xcblxcbiAgICAgICAgaXZlYzIgeFJDQ29ybmVyID0gY29vcmRzLnl6ICogc3RyaWRlcyAtIHBhZHM7XFxuICAgICAgICBpbnQgeFJDb3JuZXIgPSB4UkNDb3JuZXIueDtcXG4gICAgICAgIGludCB4Q0Nvcm5lciA9IHhSQ0Nvcm5lci55O1xcblxcbiAgICAgICAgLy8gbWF4L21pbiB4KD8sID8sIGQpIHRvIGdldCB5KHlSLCB5QywgZCkuXFxuICAgICAgICAvLyA/ID0gdG8gYmUgZGV0ZXJtaW5lZFxcbiAgICAgICAgdmVjNCBtaW5NYXhWYWx1ZSA9IHZlYzQoXCIrbStcIik7XFxuICAgICAgICBmbG9hdCBhdmdWYWx1ZSA9IDAuMDtcXG4gICAgICAgIGNvdW50ID0gMC4wO1xcblxcbiAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK2wrXCI7XFxuICAgICAgICAgICAgd1IgKz0gXCIrdStcIikge1xcbiAgICAgICAgICBpbnQgeFIgPSB4UkNvcm5lciArIHdSO1xcblxcbiAgICAgICAgICBpZiAoeFIgPCAwIHx8IHhSID49IFwiK3QuaW5IZWlnaHQrXCIpIHtcXG4gICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgfVxcblxcbiAgICAgICAgICBmb3IgKGludCB3QyA9IDA7IHdDIDwgXCIreCtcIjsgd0MgKz0gNCkge1xcbiAgICAgICAgICAgIGludCB4QyA9IHhDQ29ybmVyICsgd0MgKiBcIitjK1wiO1xcblxcbiAgICAgICAgICAgIHZlYzQgdmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCB4UiwgeEMsIGQpLFxcbiAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhSLCB4QyArIFwiK2MrXCIsIGQpLFxcbiAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhSLCB4QyArIDIgKiBcIitjK1wiLCBkKSxcXG4gICAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCB4UiwgeEMgKyAzICogXCIrYytcIiwgZClcXG4gICAgICAgICAgICApO1xcblxcbiAgICAgICAgICAgIFwiK3crXCJcXG4gICAgICAgICAgfVxcblxcbiAgICAgICAgICBpbnQgeEMgPSB4Q0Nvcm5lciArIFwiK3grXCI7XFxuICAgICAgICAgIGlmIChcIisoMT09PWIpK1wiKSB7XFxuICAgICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhSLCB4QywgZCksXFxuICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlLFxcbiAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICAgIGluaXRpYWxpemF0aW9uVmFsdWVcXG4gICAgICAgICAgICApO1xcblxcbiAgICAgICAgICAgIFwiK3crXCJcXG4gICAgICAgICAgfSBlbHNlIGlmIChcIisoMj09PWIpK1wiKSB7XFxuICAgICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhSLCB4QywgZCksXFxuICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeFIsIHhDICsgXCIrYytcIiwgZCksXFxuICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlLFxcbiAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgXCIrdytcIlxcbiAgICAgICAgICB9IGVsc2UgaWYgKFwiKygzPT09YikrXCIpIHtcXG4gICAgICAgICAgICB2ZWM0IHZhbHVlcyA9IHZlYzQoXFxuICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeFIsIHhDLCBkKSxcXG4gICAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCB4UiwgeEMgKyBcIitjK1wiLCBkKSxcXG4gICAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCB4UiwgeEMgKyAyICogXCIrYytcIiwgZCksXFxuICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlXFxuICAgICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgICBcIit3K1wiXFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChcIit5K1wiKTtcXG4gICAgICB9XFxuICAgIFwifX0sVXM9ZnVuY3Rpb24odCxlLG4scixvKXtpZih2b2lkIDA9PT1yJiYocj0hMSksdm9pZCAwPT09byYmKG89ITEpLHRoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCJdLFwiYXZnXCI9PT1lJiZuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb21wdXRlIHBvc2l0aW9ucyBmb3IgYXZlcmFnZSBwb29sLlwiKTt2YXIgYT10LmZpbHRlcldpZHRoLGk9dC5zdHJpZGVEZXB0aCxzPXQuc3RyaWRlSGVpZ2h0LHU9dC5zdHJpZGVXaWR0aCxjPXQuZGlsYXRpb25EZXB0aCxsPXQuZGlsYXRpb25IZWlnaHQsaD10LmRpbGF0aW9uV2lkdGgsZj10LmVmZmVjdGl2ZUZpbHRlckRlcHRoLGQ9dC5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQscD10LmVmZmVjdGl2ZUZpbHRlcldpZHRoLHY9dC5wYWRJbmZvLmZyb250LGc9dC5wYWRJbmZvLnRvcCxtPXQucGFkSW5mby5sZWZ0O3RoaXMub3V0cHV0U2hhcGU9dC5vdXRTaGFwZTt2YXIgeT1cImF2Z1wiPT09ZSx4PVwiMC4wXCI7aWYoeXx8KHg9XCItMS4wIC8gMWUtMjBcIiksbil0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgICBjb25zdCBpdmVjMyBzdHJpZGVzID1cXG4gICAgICAgICAgICBpdmVjMyhcIitpK1wiLCBcIitzK1wiLCBcIit1K1wiKTtcXG4gICAgICAgIGNvbnN0IGl2ZWMzIHBhZHMgPSBpdmVjMyhcIit2K1wiLCBcIitnK1wiLCBcIittK1wiKTtcXG5cXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgaXZlYzUgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICAgIGludCBiYXRjaCA9IGNvb3Jkcy54O1xcbiAgICAgICAgICBpbnQgY2ggPSBjb29yZHMudTtcXG5cXG4gICAgICAgICAgaXZlYzMgeENvcm5lciA9IGl2ZWMzKGNvb3Jkcy55LCBjb29yZHMueiwgY29vcmRzLncpICogc3RyaWRlcyAtIHBhZHM7XFxuICAgICAgICAgIGludCB4RENvcm5lciA9IHhDb3JuZXIueDtcXG4gICAgICAgICAgaW50IHhSQ29ybmVyID0geENvcm5lci55O1xcbiAgICAgICAgICBpbnQgeENDb3JuZXIgPSB4Q29ybmVyLno7XFxuXFxuICAgICAgICAgIC8vIG1heC9taW4geCg/LCA/LCA/LCBjaCkgdG8gZ2V0IHkoeUQsIHlSLCB5QywgY2gpLlxcbiAgICAgICAgICAvLyA/ID0gdG8gYmUgZGV0ZXJtaW5lZFxcbiAgICAgICAgICBmbG9hdCBtaW5NYXhWYWx1ZSA9IDAuMDtcXG4gICAgICAgICAgZmxvYXQgbWluTWF4VmFsdWVGb3VuZCA9IDAuMDtcXG4gICAgICAgICAgaW50IG1pbk1heFBvc2l0aW9uID0gMDtcXG5cXG4gICAgICAgICAgZm9yIChpbnQgd0QgPSAwOyB3RCA8IFwiK2YrXCI7XFxuICAgICAgICAgICAgICB3RCArPSBcIitjK1wiKSB7XFxuICAgICAgICAgICAgaW50IHhEID0geERDb3JuZXIgKyB3RDtcXG5cXG4gICAgICAgICAgICBpZiAoeEQgPCAwIHx8IHhEID49IFwiK3QuaW5EZXB0aCtcIikge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGZvciAoaW50IHdSID0gMDsgd1IgPCBcIitkK1wiO1xcbiAgICAgICAgICAgICAgICB3UiArPSBcIitsK1wiKSB7XFxuICAgICAgICAgICAgICBpbnQgeFIgPSB4UkNvcm5lciArIHdSO1xcblxcbiAgICAgICAgICAgICAgaWYgKHhSIDwgMCB8fCB4UiA+PSBcIit0LmluSGVpZ2h0K1wiKSB7XFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgZm9yIChpbnQgd0MgPSAwOyB3QyA8IFwiK3ArXCI7XFxuICAgICAgICAgICAgICAgICAgd0MgKz0gXCIraCtcIikge1xcbiAgICAgICAgICAgICAgICBpbnQgeEMgPSB4Q0Nvcm5lciArIHdDO1xcblxcbiAgICAgICAgICAgICAgICBpZiAoeEMgPCAwIHx8IHhDID49IFwiK3QuaW5XaWR0aCtcIikge1xcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIGZsb2F0IHZhbHVlID0gZ2V0WChiYXRjaCwgeEQsIHhSLCB4QywgY2gpO1xcblxcbiAgICAgICAgICAgICAgICAvLyBJZiBhIG1pbiAvIG1heCB2YWx1ZSBoYXMgYWxyZWFkeSBiZWVuIGZvdW5kLCB1c2UgaXQuIElmIG5vdCxcXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBjdXJyZW50IHZhbHVlLlxcbiAgICAgICAgICAgICAgICBmbG9hdCBjdXJyTWluTWF4VmFsdWUgPSBtaXgoXFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSwgbWluTWF4VmFsdWUsIG1pbk1heFZhbHVlRm91bmQpO1xcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPj0gY3Vyck1pbk1heFZhbHVlKSB7XFxuICAgICAgICAgICAgICAgICAgbWluTWF4VmFsdWUgPSB2YWx1ZTtcXG4gICAgICAgICAgICAgICAgICBtaW5NYXhWYWx1ZUZvdW5kID0gMS4wO1xcbiAgICAgICAgICAgICAgICAgIG1pbk1heFBvc2l0aW9uID0gXCIrKHI/bz9cIigoKGJhdGNoICogXCIrdC5pbkRlcHRoK1wiICsgeEQpICogXCIrdC5pbkhlaWdodCtcIiArIHhSKSAqIFwiK3QuaW5XaWR0aCtcIiArIHhDKSAqIFwiK3QuaW5DaGFubmVscytcIiArIGNoXCI6XCIoKHhEICogXCIrdC5pbkhlaWdodCtcIiArIHhSKSAqIFwiK3QuaW5XaWR0aCtcIiArIHhDKSAqIFwiK3QuaW5DaGFubmVscytcIiArIGNoXCI6XCJ3RCAqIFwiK2QrXCIgKiBcIitwK1wiICtcXG4gICAgICAgICAgICAgICAgICAgICAgd1IgKiBcIitwK1wiICsgd0NcIikrXCI7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgc2V0T3V0cHV0KGZsb2F0KG1pbk1heFBvc2l0aW9uKSk7XFxuICAgICAgICB9XFxuICAgICAgXCI7ZWxzZXt2YXIgYj1lK1wiKFwiK2UrXCIoXCIrZStcIihtaW5NYXhWYWx1ZVswXSwgbWluTWF4VmFsdWVbMV0pLCBtaW5NYXhWYWx1ZVsyXSksIG1pbk1heFZhbHVlWzNdKVwiO1wiYXZnXCI9PT1lJiYoYj1cImF2Z1ZhbHVlIC8gY291bnRcIik7dmFyIHc9NCpNYXRoLmZsb29yKGEvNCksQz1hJTQsRT1cIlxcbiAgICAgIGlmIChcIit5K1wiKSB7XFxuICAgICAgICBhdmdWYWx1ZSArPSBkb3QodmFsdWVzLCBvbmVzKTtcXG4gICAgICB9IGVsc2Uge1xcbiAgICAgICAgbWluTWF4VmFsdWUgPSBtYXgodmFsdWVzLCBtaW5NYXhWYWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgaXZlYzMgc3RyaWRlcyA9XFxuICAgICAgICBpdmVjMyhcIitpK1wiLCBcIitzK1wiLCBcIit1K1wiKTtcXG4gICAgICBjb25zdCBpdmVjMyBwYWRzID0gaXZlYzMoXCIrditcIiwgXCIrZytcIiwgXCIrbStcIik7XFxuICAgICAgY29uc3QgZmxvYXQgaW5pdGlhbGl6YXRpb25WYWx1ZSA9IFwiK3grXCI7XFxuICAgICAgY29uc3QgdmVjNCBvbmVzID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAxLjApO1xcblxcbiAgICAgIGZsb2F0IGNvdW50ID0gMC4wO1xcblxcbiAgICAgIGZsb2F0IGdldFZhbHVlKGludCBiYXRjaCwgaW50IHhELCBpbnQgeFIsIGludCB4QywgaW50IGNoKSB7XFxuICAgICAgICBpZiAoeEMgPCAwIHx8IHhDID49IFwiK3QuaW5XaWR0aCtcIikge1xcbiAgICAgICAgICByZXR1cm4gaW5pdGlhbGl6YXRpb25WYWx1ZTtcXG4gICAgICAgIH1cXG4gICAgICAgIGNvdW50ICs9IDEuMDtcXG4gICAgICAgIHJldHVybiBnZXRYKGJhdGNoLCB4RCwgeFIsIHhDLCBjaCk7XFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM1IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGJhdGNoID0gY29vcmRzLng7XFxuICAgICAgICBpbnQgY2ggPSBjb29yZHMudTtcXG5cXG4gICAgICAgIGl2ZWMzIHhDb3JuZXIgPSBpdmVjMyhjb29yZHMueSwgY29vcmRzLnosIGNvb3Jkcy53KSAqIHN0cmlkZXMgLSBwYWRzO1xcbiAgICAgICAgaW50IHhEQ29ybmVyID0geENvcm5lci54O1xcbiAgICAgICAgaW50IHhSQ29ybmVyID0geENvcm5lci55O1xcbiAgICAgICAgaW50IHhDQ29ybmVyID0geENvcm5lci56O1xcblxcbiAgICAgICAgLy8gbWF4L21pbiB4KD8sID8sID8sIGQpIHRvIGdldCB5KHlELCB5UiwgeUMsIGNoKS5cXG4gICAgICAgIC8vID8gPSB0byBiZSBkZXRlcm1pbmVkXFxuICAgICAgICB2ZWM0IG1pbk1heFZhbHVlID0gdmVjNChcIit4K1wiKTtcXG4gICAgICAgIGZsb2F0IGF2Z1ZhbHVlID0gMC4wO1xcbiAgICAgICAgY291bnQgPSAwLjA7XFxuXFxuICAgICAgICBmb3IgKGludCB3RCA9IDA7IHdEIDwgXCIrZitcIjtcXG4gICAgICAgICAgICB3RCArPSBcIitjK1wiKSB7XFxuICAgICAgICAgIGludCB4RCA9IHhEQ29ybmVyICsgd0Q7XFxuXFxuICAgICAgICAgIGlmICh4RCA8IDAgfHwgeEQgPj0gXCIrdC5pbkRlcHRoK1wiKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK2QrXCI7XFxuICAgICAgICAgICAgd1IgKz0gXCIrbCtcIikge1xcbiAgICAgICAgICAgIGludCB4UiA9IHhSQ29ybmVyICsgd1I7XFxuXFxuICAgICAgICAgICAgaWYgKHhSIDwgMCB8fCB4UiA+PSBcIit0LmluSGVpZ2h0K1wiKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgZm9yIChpbnQgd0MgPSAwOyB3QyA8IFwiK3crXCI7IHdDICs9IDQpIHtcXG4gICAgICAgICAgICAgIGludCB4QyA9IHhDQ29ybmVyICsgd0MgKiBcIitoK1wiO1xcblxcbiAgICAgICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QywgY2gpLFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QyArIFwiK2grXCIsIGNoKSxcXG4gICAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhELCB4UiwgeEMgKyAyICogXCIraCtcIiwgY2gpLFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QyArIDMgKiBcIitoK1wiLCBjaClcXG4gICAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgICBcIitFK1wiXFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGludCB4QyA9IHhDQ29ybmVyICsgXCIrdytcIjtcXG4gICAgICAgICAgICBpZiAoXCIrKDE9PT1DKStcIikge1xcbiAgICAgICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QywgY2gpLFxcbiAgICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlLFxcbiAgICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlLFxcbiAgICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlXFxuICAgICAgICAgICAgICApO1xcblxcbiAgICAgICAgICAgICAgXCIrRStcIlxcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXCIrKDI9PT1DKStcIikge1xcbiAgICAgICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QywgY2gpLFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QyArIFwiK2grXCIsIGNoKSxcXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgICAgIFwiK0UrXCJcXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFwiKygzPT09QykrXCIpIHtcXG4gICAgICAgICAgICAgIHZlYzQgdmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhELCB4UiwgeEMsIGNoKSxcXG4gICAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhELCB4UiwgeEMgKyBcIitoK1wiLCBjaCksXFxuICAgICAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCB4RCwgeFIsIHhDICsgMiAqIFwiK2grXCIsIGNoKSxcXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgICAgIFwiK0UrXCJcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgc2V0T3V0cHV0KFwiK2IrXCIpO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgXCJ9fSxWcz1mdW5jdGlvbih0LGUpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCJdO3ZhciBuPXQud2luZG93U2l6ZSxyPXQuYmF0Y2hTaXplLG89dC5pblNpemUsYT1NYXRoLmNlaWwoby9uKTt0aGlzLm91dHB1dFNoYXBlPVtyLGFdO3ZhciBpPVwiMC4wXCIscz1cIlwiO1wicHJvZFwiPT09ZT9pPVwiMS4wXCI6XCJtaW5cIj09PWU/KGk9XCIxLjAgLyAxZS0yMFwiLHM9XCJtaW5cIik6XCJtYXhcIj09PWUmJihpPVwiLTEuMCAvIDFlLTIwXCIscz1cIm1heFwiKTt2YXIgdT1lK1wiKFwiK2UrXCIoXCIrZStcIihtaW5NYXhWYWx1ZVswXSwgbWluTWF4VmFsdWVbMV0pLCBtaW5NYXhWYWx1ZVsyXSksIG1pbk1heFZhbHVlWzNdKVwiO1wic3VtXCI9PT1lP3U9XCJzdW1WYWx1ZVwiOlwicHJvZFwiPT09ZT91PVwicHJvZFZhbHVlXCI6XCJhbGxcIj09PWU/dT1cImFsbFZhbHVlXCI6XCJhbnlcIj09PWUmJih1PVwiYW55VmFsdWVcIik7dmFyIGM9NCpNYXRoLmZsb29yKG4vNCksbD1uJTQsaD1cIlxcbiAgICAgIGlmIChcIisoXCJzdW1cIj09PWUpK1wiKSB7XFxuICAgICAgICBzdW1WYWx1ZSArPSBkb3QodmFsdWVzLCBvbmVzKTtcXG4gICAgICB9IGVsc2UgaWYgKFwiKyhcInByb2RcIj09PWUpK1wiKSB7XFxuICAgICAgICB2ZWMyIHRtcCA9IHZlYzIodmFsdWVzWzBdLCB2YWx1ZXNbMV0pICogdmVjMih2YWx1ZXNbMl0sIHZhbHVlc1szXSk7XFxuICAgICAgICBwcm9kVmFsdWUgKj0gdG1wWzBdICogdG1wWzFdO1xcbiAgICAgIH0gZWxzZSB7XFxuICAgICAgICBtaW5NYXhWYWx1ZSA9IFwiK3MrXCIodmFsdWVzLCBtaW5NYXhWYWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIixmPVwidmVjNFwiO1wiYWxsXCI9PT1lPyhpPVwiMS4wXCIsaD1cIlxcbiAgICAgICAgYm9vbCByZWR1Y2VkQWxsVmFsdWUgPSBhbGwodmFsdWVzKTtcXG4gICAgICAgIGZsb2F0IGZsb2F0ZWRSZWR1Y2VkQWxsVmFsdWUgPSBmbG9hdChyZWR1Y2VkQWxsVmFsdWUpO1xcbiAgICAgICAgYWxsVmFsdWUgPSBmbG9hdChhbGxWYWx1ZSA+PSAxLjAgJiYgZmxvYXRlZFJlZHVjZWRBbGxWYWx1ZSA+PSAxLjApO1xcbiAgICAgIFwiLGY9XCJidmVjNFwiKTpcImFueVwiPT09ZSYmKGk9XCIwLjBcIixoPVwiXFxuICAgICAgICBib29sIHJlZHVjZWRBbnlWYWx1ZSA9IGFueSh2YWx1ZXMpO1xcbiAgICAgICAgZmxvYXQgZmxvYXRlZFJlZHVjZWRBbnlWYWx1ZSA9IGZsb2F0KHJlZHVjZWRBbnlWYWx1ZSk7XFxuICAgICAgICBhbnlWYWx1ZSA9IGZsb2F0KGFueVZhbHVlID49IDEuMCB8fCBmbG9hdGVkUmVkdWNlZEFueVZhbHVlID49IDEuMCk7XFxuICAgICAgXCIsZj1cImJ2ZWM0XCIpO3ZhciBkPVwiXCI7byVuPjAmJihkPVwiXFxuICAgICAgICBpZiAoaW5JZHggPCAwIHx8IGluSWR4ID49IFwiK28rXCIpIHtcXG4gICAgICAgICAgcmV0dXJuIGluaXRpYWxpemF0aW9uVmFsdWU7XFxuICAgICAgICB9XFxuICAgICAgXCIpLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCBmbG9hdCBpbml0aWFsaXphdGlvblZhbHVlID0gXCIraStcIjtcXG4gICAgICBjb25zdCB2ZWM0IG9uZXMgPSB2ZWM0KDEuMCwgMS4wLCAxLjAsIDEuMCk7XFxuXFxuICAgICAgZmxvYXQgZ2V0VmFsdWUoaW50IGJhdGNoLCBpbnQgaW5JZHgpIHtcXG4gICAgICAgIFwiK2QrXCJcXG4gICAgICAgIHJldHVybiBnZXRYKGJhdGNoLCBpbklkeCk7XFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMyIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGJhdGNoID0gY29vcmRzWzBdO1xcbiAgICAgICAgaW50IG91dElkeCA9IGNvb3Jkc1sxXTtcXG4gICAgICAgIGludCBpbk9mZnNldCA9IG91dElkeCAqIFwiK24rXCI7XFxuXFxuICAgICAgICB2ZWM0IG1pbk1heFZhbHVlID0gdmVjNChcIitpK1wiKTtcXG4gICAgICAgIGZsb2F0IHByb2RWYWx1ZSA9IDEuMDtcXG4gICAgICAgIGZsb2F0IHN1bVZhbHVlID0gMC4wO1xcbiAgICAgICAgZmxvYXQgYWxsVmFsdWUgPSAxLjA7XFxuICAgICAgICBmbG9hdCBhbnlWYWx1ZSA9IDAuMDtcXG5cXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgXCIrYytcIjsgaSArPSA0KSB7XFxuICAgICAgICAgIGludCBpbklkeCA9IGluT2Zmc2V0ICsgaTtcXG4gICAgICAgICAgXCIrZitcIiB2YWx1ZXMgPSBcIitmK1wiKFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMSksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMiksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMylcXG4gICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgXCIraCtcIlxcbiAgICAgICAgfVxcblxcbiAgICAgICAgaW50IGluSWR4ID0gaW5PZmZzZXQgKyBcIitjK1wiO1xcbiAgICAgICAgaWYgKFwiKygxPT09bCkrXCIpIHtcXG4gICAgICAgICAgXCIrZitcIiB2YWx1ZXMgPSBcIitmK1wiKFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlLFxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uVmFsdWVcXG4gICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgXCIraCtcIlxcbiAgICAgICAgfSBlbHNlIGlmIChcIisoMj09PWwpK1wiKSB7XFxuICAgICAgICAgIFwiK2YrXCIgdmFsdWVzID0gXCIrZitcIihcXG4gICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgaW5JZHgpLFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCArIDEpLFxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uVmFsdWUsXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgICBcIitoK1wiXFxuICAgICAgICB9IGVsc2UgaWYgKFwiKygzPT09bCkrXCIpIHtcXG4gICAgICAgICAgXCIrZitcIiB2YWx1ZXMgPSBcIitmK1wiKFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMSksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMiksXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgICBcIitoK1wiXFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQoXCIrdStcIik7XFxuICAgICAgfVxcbiAgICBcIn0senM9ZnVuY3Rpb24odCxlKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMCx0aGlzLnBhY2tlZE91dHB1dD0hMCx0aGlzLm91dHB1dFNoYXBlPXQ7Zm9yKHZhciBuPVwiXCIscj0wO3I8NDtyKyspe3ZhciBvPVwidGhpc1JDID0gcmM7XCI7ciUyPT0xJiYobys9XCJ0aGlzUkMueiArPSAxO1wiKSxyPjEmJihvKz1cInRoaXNSQy55ICs9IDE7XCIpLG4rPVwiXFxuICAgICAgICBcIitvK1wiXFxuICAgICAgICBcIisocj4wP1wiaWYodGhpc1JDLnkgPCByb3dzICYmIHRoaXNSQy56IDwgY29scyl7XCI6XCJcIikrXCJcXG4gICAgICAgICAgaW50IGZsYXRJbmRleCA9IGdldEZsYXRJbmRleCh0aGlzUkMpO1xcblxcbiAgICAgICAgICBpdmVjMyBpbnB1dFJDID0gaW5wdXRDb29yZHNGcm9tUmVzaGFwZWRPdXRDb29yZHMoZmxhdEluZGV4KTtcXG4gICAgICAgICAgdmVjMiBpbnB1dFJDSW5uZXJEaW1zID0gdmVjMihmbG9hdChpbnB1dFJDLnkpLGZsb2F0KGlucHV0UkMueikpO1xcblxcbiAgICAgICAgICByZXN1bHRbXCIrcitcIl0gPVxcbiAgICAgICAgICAgIGdldENoYW5uZWwoZ2V0QShpbnB1dFJDLngsIGlucHV0UkMueSwgaW5wdXRSQy56KSwgaW5wdXRSQ0lubmVyRGltcyk7XFxuICAgICAgICBcIisocj4wP1wifVwiOlwiXCIpK1wiXFxuICAgICAgXCJ9dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIFxcbiAgICBpdmVjMyBpbnB1dENvb3Jkc0Zyb21SZXNoYXBlZE91dENvb3JkcyhpbnQgaW5kZXgpIHtcXG4gICAgICBcIiskYShbXCJyXCIsXCJjXCIsXCJkXCJdLGUpK1wiXFxuICAgICAgcmV0dXJuIGl2ZWMzKHIsIGMsIGQpO1xcbiAgICB9XFxuICBcXG4gICAgICBcIitRYSh0KStcIlxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMzIHJjID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuXFxuICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMC4pO1xcblxcbiAgICAgICAgaXZlYzMgdGhpc1JDO1xcbiAgICAgICAgaW50IHJvd3MgPSBcIit0WzFdK1wiO1xcbiAgICAgICAgaW50IGNvbHMgPSBcIit0WzJdK1wiO1xcblxcbiAgICAgICAgXCIrbitcIlxcblxcbiAgICAgICAgc2V0T3V0cHV0KHJlc3VsdCk7XFxuICAgICAgfVxcbiAgICBcIn07dmFyIEdzPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiZHlcIl0sdGhpcy5vdXRwdXRTaGFwZT1bXSx0aGlzLm91dHB1dFNoYXBlPWUuc2hhcGU7dmFyIHI9ZS5zaGFwZSxvPXJbMV0sYT1yWzJdLGk9dC5zaGFwZSxzPWlbMV0sdT1pWzJdLGM9W24mJnM+MT9vLTE6byxuJiZ1PjE/YS0xOmFdLGw9W24mJnM+MT9zLTE6cyxuJiZ1PjE/dS0xOnVdLGg9Y1swXS9sWzBdLGY9Y1sxXS9sWzFdLGQ9MS9oLHA9MS9mLHY9MipNYXRoLmNlaWwoZCkrMixnPTIqTWF0aC5jZWlsKHApKzI7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGIgPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgZCA9IGNvb3Jkc1szXTtcXG4gICAgICAgIGludCByID0gY29vcmRzWzFdO1xcbiAgICAgICAgaW50IGMgPSBjb29yZHNbMl07XFxuXFxuICAgICAgICBmbG9hdCBhY2N1bXVsYXRvciA9IDAuMDtcXG5cXG4gICAgICAgIGNvbnN0IGZsb2F0IGhlaWdodFNjYWxlID0gZmxvYXQoXCIraCtcIik7XFxuICAgICAgICBjb25zdCBmbG9hdCB3aWR0aFNjYWxlID0gZmxvYXQoXCIrZitcIik7XFxuXFxuICAgICAgICBjb25zdCBmbG9hdCBpbnZIZWlnaHRTY2FsZSA9IGZsb2F0KFwiK2QrXCIpO1xcbiAgICAgICAgY29uc3QgZmxvYXQgaW52V2lkdGhTY2FsZSA9IGZsb2F0KFwiK3ArXCIpO1xcblxcbiAgICAgICAgY29uc3QgaW50IHdpbkhlaWdodCA9IGludChcIit2K1wiKTtcXG4gICAgICAgIGNvbnN0IGludCB3aW5XaWR0aCA9IGludChcIitnK1wiKTtcXG5cXG4gICAgICAgIC8vIENvbXB1dGUgYm91bmRzIGZvciB3aGVyZSBpbiBkeSB3ZSB3aWxsIGxvb2tcXG4gICAgICAgIGZsb2F0IHN0YXJ0UkxlcnAgPSBmbG9vcihmbG9hdChyKSAqIGludkhlaWdodFNjYWxlKTtcXG4gICAgICAgIGludCBzdGFydER5UiA9IGludChzdGFydFJMZXJwIC0gZmxvYXQod2luSGVpZ2h0IC8gMikpO1xcblxcbiAgICAgICAgZmxvYXQgc3RhcnRDTGVycCA9IGZsb29yKGZsb2F0KGMpICogaW52V2lkdGhTY2FsZSk7XFxuICAgICAgICBpbnQgc3RhcnREeUMgPSBpbnQoc3RhcnRDTGVycCAtIGZsb2F0KHdpbldpZHRoIC8gMikpO1xcblxcbiAgICAgICAgLy8gTG9vcCBvdmVyIGR5XFxuICAgICAgICBmb3IgKGludCBkeVJPZmZzZXQgPSAwOyBkeVJPZmZzZXQgPCB3aW5IZWlnaHQ7IGR5Uk9mZnNldCsrKSB7XFxuICAgICAgICAgIGludCBkeVIgPSBkeVJPZmZzZXQgKyBzdGFydER5UjtcXG5cXG4gICAgICAgICAgLy8gR3VhcmQgYWdhaW5zdCB0aGUgd2luZG93IGV4Y2VlZGluZyB0aGUgYm91bmRzIG9mIGR5XFxuICAgICAgICAgIGlmIChkeVIgPCAwIHx8IGR5UiA+PSBcIitzK1wiKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgZm9yIChpbnQgZHlDT2Zmc2V0ID0gMDsgZHlDT2Zmc2V0IDwgd2luV2lkdGg7IGR5Q09mZnNldCsrKSB7XFxuICAgICAgICAgICAgaW50IGR5QyA9IGR5Q09mZnNldCArIHN0YXJ0RHlDO1xcblxcbiAgICAgICAgICAgIC8vIEd1YXJkIGFnYWluc3QgdGhlIHdpbmRvdyBleGNlZWRpbmcgdGhlIGJvdW5kcyBvZiBkeVxcbiAgICAgICAgICAgIGlmIChkeUMgPCAwIHx8IGR5QyA+PSBcIit1K1wiKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgZmxvYXQgZHhSID0gZmxvYXQoZHlSKSAqIGhlaWdodFNjYWxlO1xcbiAgICAgICAgICAgIGludCB0b3BEeFJJbmRleCA9IGludChmbG9vcihkeFIpKTtcXG4gICAgICAgICAgICBpbnQgYm90dG9tRHhSSW5kZXggPSBpbnQobWluKGNlaWwoZHhSKSwgXCIrKG8tMSkrXCIuMCkpO1xcbiAgICAgICAgICAgIGZsb2F0IGR4UkxlcnAgPSBkeFIgLSBmbG9hdCh0b3BEeFJJbmRleCk7XFxuICAgICAgICAgICAgZmxvYXQgaW52ZXJzZUR4UkxlcnAgPSAxLjAgLSBkeFJMZXJwO1xcblxcbiAgICAgICAgICAgIGZsb2F0IGR4QyA9IGZsb2F0KGR5QykgKiB3aWR0aFNjYWxlO1xcbiAgICAgICAgICAgIGludCBsZWZ0RHhDSW5kZXggPSBpbnQoZmxvb3IoZHhDKSk7XFxuICAgICAgICAgICAgaW50IHJpZ2h0RHhDSW5kZXggPSBpbnQobWluKGNlaWwoZHhDKSwgXCIrKGEtMSkrXCIuMCkpO1xcbiAgICAgICAgICAgIGZsb2F0IGR4Q0xlcnAgPSBkeEMgLSBmbG9hdChsZWZ0RHhDSW5kZXgpO1xcbiAgICAgICAgICAgIGZsb2F0IGludmVyc2VEeENMZXJwID0gMS4wIC0gZHhDTGVycDtcXG5cXG4gICAgICAgICAgICBpZiAociA9PSB0b3BEeFJJbmRleCAmJiBjID09IGxlZnREeENJbmRleCkge1xcbiAgICAgICAgICAgICAgLy8gdG9wTGVmdFxcbiAgICAgICAgICAgICAgYWNjdW11bGF0b3IgKz1cXG4gICAgICAgICAgICAgICAgZ2V0RHkoYiwgZHlSLCBkeUMsIGQpICogaW52ZXJzZUR4UkxlcnAgKiBpbnZlcnNlRHhDTGVycDtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgaWYgKHIgPT0gdG9wRHhSSW5kZXggJiYgYyA9PSByaWdodER4Q0luZGV4KSB7XFxuICAgICAgICAgICAgICAvLyB0b3BSaWdodFxcbiAgICAgICAgICAgICAgYWNjdW11bGF0b3IgKz0gZ2V0RHkoYiwgZHlSLCBkeUMsIGQpICogaW52ZXJzZUR4UkxlcnAgKiBkeENMZXJwO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBpZiAociA9PSBib3R0b21EeFJJbmRleCAmJiBjID09IGxlZnREeENJbmRleCkge1xcbiAgICAgICAgICAgICAgLy8gYm90dG9tTGVmdFxcbiAgICAgICAgICAgICAgYWNjdW11bGF0b3IgKz0gZ2V0RHkoYiwgZHlSLCBkeUMsIGQpICogZHhSTGVycCAqIGludmVyc2VEeENMZXJwO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBpZiAociA9PSBib3R0b21EeFJJbmRleCAmJiBjID09IHJpZ2h0RHhDSW5kZXgpIHtcXG4gICAgICAgICAgICAgIC8vIGJvdHRvbVJpZ2h0XFxuICAgICAgICAgICAgICBhY2N1bXVsYXRvciArPSBnZXREeShiLCBkeVIsIGR5QywgZCkgKiBkeFJMZXJwICogZHhDTGVycDtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIC8vIEVuZCBsb29wIG92ZXIgZHlcXG5cXG4gICAgICAgIHNldE91dHB1dChhY2N1bXVsYXRvcik7XFxuICAgICAgfVxcbiAgICBcIn0sSHM9ZnVuY3Rpb24odCxlLG4scil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5vdXRwdXRTaGFwZT1bXTt2YXIgbz10WzBdLGE9dFsxXSxpPXRbMl0scz10WzNdO3RoaXMub3V0cHV0U2hhcGU9W28sZSxuLHNdO3ZhciB1PVtyJiZlPjE/YS0xOmEsciYmbj4xP2ktMTppXSxjPVtyJiZlPjE/ZS0xOmUsciYmbj4xP24tMTpuXTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgdmVjMiBlZmZlY3RpdmVJbnB1dE92ZXJPdXRwdXRSYXRpb1JDID0gdmVjMihcXG4gICAgICAgICAgXCIrdVswXS9jWzBdK1wiLFxcbiAgICAgICAgICBcIit1WzFdL2NbMV0rXCIpO1xcbiAgICAgIGNvbnN0IHZlYzIgaW5wdXRTaGFwZVJDID0gdmVjMihcIithK1wiLjAsIFwiK2krXCIuMCk7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYiA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBkID0gY29vcmRzWzNdO1xcbiAgICAgICAgaXZlYzIgeVJDID0gY29vcmRzLnl6O1xcblxcbiAgICAgICAgLy8gRnJhY3Rpb25hbCBzb3VyY2UgaW5kZXguXFxuICAgICAgICB2ZWMyIHNvdXJjZUZyYWNJbmRleFJDID0gdmVjMih5UkMpICogZWZmZWN0aXZlSW5wdXRPdmVyT3V0cHV0UmF0aW9SQztcXG5cXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIGZvdXIgaW50ZWdlciBpbmRpY2VzLlxcbiAgICAgICAgaXZlYzIgc291cmNlRmxvb3JSQyA9IGl2ZWMyKHNvdXJjZUZyYWNJbmRleFJDKTtcXG4gICAgICAgIGl2ZWMyIHNvdXJjZUNlaWxSQyA9IGl2ZWMyKFxcbiAgICAgICAgICBtaW4oaW5wdXRTaGFwZVJDIC0gMS4wLCBjZWlsKHNvdXJjZUZyYWNJbmRleFJDKSkpO1xcblxcbiAgICAgICAgZmxvYXQgdG9wTGVmdCA9IGdldEEoYiwgc291cmNlRmxvb3JSQy54LCBzb3VyY2VGbG9vclJDLnksIGQpO1xcbiAgICAgICAgZmxvYXQgYm90dG9tTGVmdCA9IGdldEEoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUZsb29yUkMueSwgZCk7XFxuICAgICAgICBmbG9hdCB0b3BSaWdodCA9IGdldEEoYiwgc291cmNlRmxvb3JSQy54LCBzb3VyY2VDZWlsUkMueSwgZCk7XFxuICAgICAgICBmbG9hdCBib3R0b21SaWdodCA9IGdldEEoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUNlaWxSQy55LCBkKTtcXG5cXG4gICAgICAgIHZlYzIgZnJhY1JDID0gc291cmNlRnJhY0luZGV4UkMgLSB2ZWMyKHNvdXJjZUZsb29yUkMpO1xcblxcbiAgICAgICAgZmxvYXQgdG9wID0gdG9wTGVmdCArICh0b3BSaWdodCAtIHRvcExlZnQpICogZnJhY1JDLnk7XFxuICAgICAgICBmbG9hdCBib3R0b20gPSBib3R0b21MZWZ0ICsgKGJvdHRvbVJpZ2h0IC0gYm90dG9tTGVmdCkgKiBmcmFjUkMueTtcXG4gICAgICAgIGZsb2F0IG5ld1ZhbHVlID0gdG9wICsgKGJvdHRvbSAtIHRvcCkgKiBmcmFjUkMueDtcXG5cXG4gICAgICAgIHNldE91dHB1dChuZXdWYWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIn0scXM9ZnVuY3Rpb24odCxlLG4scil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT1bXTt2YXIgbz10WzBdLGE9dFsxXSxpPXRbMl0scz10WzNdO3RoaXMub3V0cHV0U2hhcGU9W28sZSxuLHNdO3ZhciB1PVtyJiZlPjE/YS0xOmEsciYmbj4xP2ktMTppXSxjPVtyJiZlPjE/ZS0xOmUsciYmbj4xP24tMTpuXTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgdmVjMyBlZmZlY3RpdmVJbnB1dE92ZXJPdXRwdXRSYXRpb1JDID0gdmVjMyhcXG4gICAgICAgICAgXCIrdVswXS9jWzBdK1wiLFxcbiAgICAgICAgICBcIit1WzFdL2NbMV0rXCIsXFxuICAgICAgICAgIFwiK3VbMV0vY1sxXStcIik7XFxuICAgICAgY29uc3QgdmVjMyBpbnB1dFNoYXBlUkMgPSB2ZWMzKFwiK2ErXCIuMCwgXCIraStcIi4wLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIitpK1wiLjApO1xcblxcbiAgICAgIGZsb2F0IGdldEFWYWx1ZShpbnQgYiwgaW50IHIsIGludCBjLCBpbnQgZCkge1xcbiAgICAgICAgcmV0dXJuIGdldENoYW5uZWwoZ2V0QShiLCByLCBjLCBkKSwgdmVjMihjLCBkKSk7XFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGIgPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgZCA9IGNvb3Jkc1szXTtcXG4gICAgICAgIC8vIENhbGN1bGF0ZSB2YWx1ZXMgZm9yIG5leHQgY29sdW1uIGluIHlSQy56LlxcbiAgICAgICAgaXZlYzMgeVJDID0gY29vcmRzLnl6eiArIGl2ZWMzKDAsIDAsIDEpO1xcblxcbiAgICAgICAgLy8gRnJhY3Rpb25hbCBzb3VyY2UgaW5kZXguXFxuICAgICAgICB2ZWMzIHNvdXJjZUZyYWNJbmRleFJDID0gdmVjMyh5UkMpICogZWZmZWN0aXZlSW5wdXRPdmVyT3V0cHV0UmF0aW9SQztcXG5cXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIGZvdXIgaW50ZWdlciBpbmRpY2VzLlxcbiAgICAgICAgaXZlYzMgc291cmNlRmxvb3JSQyA9IGl2ZWMzKHNvdXJjZUZyYWNJbmRleFJDKTtcXG4gICAgICAgIGl2ZWMzIHNvdXJjZUNlaWxSQyA9IGl2ZWMzKFxcbiAgICAgICAgICBtaW4oaW5wdXRTaGFwZVJDIC0gMS4wLCBjZWlsKHNvdXJjZUZyYWNJbmRleFJDKSkpO1xcblxcbiAgICAgICAgLy8gU2hvdWxkIHdlIGNhbGN1bGF0ZSBuZXh0IGNvbHVtbiBhbmQgcm93IGVsZW1lbnRzIGluIDJ4MiBwYWNrZWQgY2VsbC5cXG4gICAgICAgIGJvb2wgaGFzTmV4dENvbCA9IGQgPCBcIisocy0xKStcIjtcXG4gICAgICAgIGJvb2wgaGFzTmV4dFJvdyA9IGNvb3Jkcy56IDwgXCIrKG4tMSkrXCI7XFxuXFxuICAgICAgICAvLyBJbiBwYXJhbGxlbCwgY29uc3RydWN0IGZvdXIgY29ybmVycyBmb3IgYWxsIGZvdXIgY29tcG9uZW50cyBpblxcbiAgICAgICAgLy8gcGFja2VkIDJ4MiBjZWxsLlxcbiAgICAgICAgdmVjNCB0b3BMZWZ0ID0gdmVjNChcXG4gICAgICAgICAgZ2V0QVZhbHVlKGIsIHNvdXJjZUZsb29yUkMueCwgc291cmNlRmxvb3JSQy55LCBkKSxcXG4gICAgICAgICAgaGFzTmV4dENvbCA/IGdldEFWYWx1ZShiLCBzb3VyY2VGbG9vclJDLngsIHNvdXJjZUZsb29yUkMueSwgZCArIDEpXFxuICAgICAgICAgICAgICAgICAgICAgOiAwLjAsXFxuICAgICAgICAgIGhhc05leHRSb3cgPyBnZXRBVmFsdWUoYiwgc291cmNlRmxvb3JSQy54LCBzb3VyY2VGbG9vclJDLnosIGQpXFxuICAgICAgICAgICAgICAgICAgICAgOiAwLjAsXFxuICAgICAgICAgIChoYXNOZXh0Um93ICYmIGhhc05leHRDb2wpID9cXG4gICAgICAgICAgICBnZXRBVmFsdWUoYiwgc291cmNlRmxvb3JSQy54LCBzb3VyY2VGbG9vclJDLnosIGQgKyAxKSA6IDAuMCk7XFxuXFxuICAgICAgICB2ZWM0IGJvdHRvbUxlZnQgPSB2ZWM0KFxcbiAgICAgICAgICBnZXRBVmFsdWUoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUZsb29yUkMueSwgZCksXFxuICAgICAgICAgIGhhc05leHRDb2wgPyBnZXRBVmFsdWUoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUZsb29yUkMueSwgZCArIDEpXFxuICAgICAgICAgICAgICAgICAgICAgOiAwLjAsXFxuICAgICAgICAgIGhhc05leHRSb3cgPyBnZXRBVmFsdWUoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUZsb29yUkMueiwgZClcXG4gICAgICAgICAgICAgICAgICAgICA6IDAuMCxcXG4gICAgICAgICAgKGhhc05leHRSb3cgJiYgaGFzTmV4dENvbCkgP1xcbiAgICAgICAgICAgIGdldEFWYWx1ZShiLCBzb3VyY2VDZWlsUkMueCwgc291cmNlRmxvb3JSQy56LCBkICsgMSkgOiAwLjApO1xcblxcbiAgICAgICAgdmVjNCB0b3BSaWdodCA9IHZlYzQoXFxuICAgICAgICAgIGdldEFWYWx1ZShiLCBzb3VyY2VGbG9vclJDLngsIHNvdXJjZUNlaWxSQy55LCBkKSxcXG4gICAgICAgICAgaGFzTmV4dENvbCA/IGdldEFWYWx1ZShiLCBzb3VyY2VGbG9vclJDLngsIHNvdXJjZUNlaWxSQy55LCBkICsgMSlcXG4gICAgICAgICAgICAgICAgICAgICA6IDAuMCxcXG4gICAgICAgICAgaGFzTmV4dFJvdyA/IGdldEFWYWx1ZShiLCBzb3VyY2VGbG9vclJDLngsIHNvdXJjZUNlaWxSQy56LCBkKVxcbiAgICAgICAgICAgICAgICAgICAgIDogMC4wLFxcbiAgICAgICAgICAoaGFzTmV4dFJvdyAmJiBoYXNOZXh0Q29sKSA/XFxuICAgICAgICAgICAgZ2V0QVZhbHVlKGIsIHNvdXJjZUZsb29yUkMueCwgc291cmNlQ2VpbFJDLnosIGQgKyAxKSA6IDAuMCk7XFxuXFxuICAgICAgICB2ZWM0IGJvdHRvbVJpZ2h0ID0gdmVjNChcXG4gICAgICAgICAgZ2V0QVZhbHVlKGIsIHNvdXJjZUNlaWxSQy54LCBzb3VyY2VDZWlsUkMueSwgZCksXFxuICAgICAgICAgIGhhc05leHRDb2wgPyBnZXRBVmFsdWUoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUNlaWxSQy55LCBkICsgMSlcXG4gICAgICAgICAgICAgICAgICAgICA6IDAuMCxcXG4gICAgICAgICAgaGFzTmV4dFJvdyA/IGdldEFWYWx1ZShiLCBzb3VyY2VDZWlsUkMueCwgc291cmNlQ2VpbFJDLnosIGQpXFxuICAgICAgICAgICAgICAgICAgICAgOiAwLjAsXFxuICAgICAgICAgIChoYXNOZXh0Um93ICYmIGhhc05leHRDb2wpID9cXG4gICAgICAgICAgICBnZXRBVmFsdWUoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUNlaWxSQy56LCBkICsgMSkgOiAwLjApO1xcblxcbiAgICAgICAgdmVjMyBmcmFjUkMgPSBzb3VyY2VGcmFjSW5kZXhSQyAtIHZlYzMoc291cmNlRmxvb3JSQyk7XFxuXFxuICAgICAgICB2ZWM0IHRvcCA9IG1peCh0b3BMZWZ0LCB0b3BSaWdodCwgZnJhY1JDLnl5enopO1xcbiAgICAgICAgdmVjNCBib3R0b20gPSBtaXgoYm90dG9tTGVmdCwgYm90dG9tUmlnaHQsIGZyYWNSQy55eXp6KTtcXG4gICAgICAgIHZlYzQgbmV3VmFsdWUgPSBtaXgodG9wLCBib3R0b20sIGZyYWNSQy54KTtcXG5cXG4gICAgICAgIHNldE91dHB1dChuZXdWYWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIn0sS3M9ZnVuY3Rpb24odCxlLG4pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJkeVwiXSx0aGlzLm91dHB1dFNoYXBlPVtdLHRoaXMub3V0cHV0U2hhcGU9ZS5zaGFwZTt2YXIgcj1lLnNoYXBlLG89clsxXSxhPXJbMl0saT10LnNoYXBlLHM9aVsxXSx1PWlbMl0sYz1bbiYmcz4xP28tMTpvLG4mJnU+MT9hLTE6YV0sbD1bbiYmcz4xP3MtMTpzLG4mJnU+MT91LTE6dV0saD1jWzBdL2xbMF0sZj1jWzFdL2xbMV0sZD0xL2gscD0xL2Ysdj0yKk1hdGguY2VpbChkKSsyLGc9MipNYXRoLmNlaWwocCkrMjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYiA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBkID0gY29vcmRzWzNdO1xcbiAgICAgICAgaW50IHIgPSBjb29yZHNbMV07XFxuICAgICAgICBpbnQgYyA9IGNvb3Jkc1syXTtcXG5cXG4gICAgICAgIGZsb2F0IGFjY3VtdWxhdG9yID0gMC4wO1xcblxcbiAgICAgICAgY29uc3QgZmxvYXQgaGVpZ2h0U2NhbGUgPSBmbG9hdChcIitoK1wiKTtcXG4gICAgICAgIGNvbnN0IGZsb2F0IHdpZHRoU2NhbGUgPSBmbG9hdChcIitmK1wiKTtcXG5cXG4gICAgICAgIGNvbnN0IGZsb2F0IGludkhlaWdodFNjYWxlID0gZmxvYXQoXCIrZCtcIik7XFxuICAgICAgICBjb25zdCBmbG9hdCBpbnZXaWR0aFNjYWxlID0gZmxvYXQoXCIrcCtcIik7XFxuXFxuICAgICAgICBjb25zdCBpbnQgd2luSGVpZ2h0ID0gaW50KFwiK3YrXCIpO1xcbiAgICAgICAgY29uc3QgaW50IHdpbldpZHRoID0gaW50KFwiK2crXCIpO1xcblxcbiAgICAgICAgLy8gQ29tcHV0ZSBib3VuZHMgZm9yIHdoZXJlIGluIGR5IHdlIHdpbGwgbG9va1xcbiAgICAgICAgZmxvYXQgc3RhcnRSTGVycCA9IGZsb29yKGZsb2F0KHIpICogaW52SGVpZ2h0U2NhbGUpO1xcbiAgICAgICAgaW50IHN0YXJ0RHlSID0gaW50KGZsb29yKHN0YXJ0UkxlcnAgLSBmbG9hdCh3aW5IZWlnaHQgLyAyKSkpO1xcblxcbiAgICAgICAgZmxvYXQgc3RhcnRDTGVycCA9IGZsb29yKGZsb2F0KGMpICogaW52V2lkdGhTY2FsZSk7XFxuICAgICAgICBpbnQgc3RhcnREeUMgPSBpbnQoZmxvb3Ioc3RhcnRDTGVycCAtIGZsb2F0KHdpbldpZHRoIC8gMikpKTtcXG5cXG4gICAgICAgIC8vIExvb3Agb3ZlciBkeVxcbiAgICAgICAgZm9yIChpbnQgZHlST2Zmc2V0ID0gMDsgZHlST2Zmc2V0IDwgd2luSGVpZ2h0OyBkeVJPZmZzZXQrKykge1xcbiAgICAgICAgICBpbnQgZHlSID0gZHlST2Zmc2V0ICsgc3RhcnREeVI7XFxuXFxuICAgICAgICAgIC8vIEd1YXJkIGFnYWluc3QgdGhlIHdpbmRvdyBleGNlZWRpbmcgdGhlIGJvdW5kcyBvZiBkeVxcbiAgICAgICAgICBpZiAoZHlSIDwgMCB8fCBkeVIgPj0gXCIrcytcIikge1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIGZvciAoaW50IGR5Q09mZnNldCA9IDA7IGR5Q09mZnNldCA8IHdpbldpZHRoOyBkeUNPZmZzZXQrKykge1xcbiAgICAgICAgICAgIGludCBkeUMgPSBkeUNPZmZzZXQgKyBzdGFydER5QztcXG5cXG4gICAgICAgICAgICAvLyBHdWFyZCBhZ2FpbnN0IHRoZSB3aW5kb3cgZXhjZWVkaW5nIHRoZSBib3VuZHMgb2YgZHlcXG4gICAgICAgICAgICBpZiAoZHlDIDwgMCB8fCBkeUMgPj0gXCIrdStcIikge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGZsb2F0IHNvdXJjZUZyYWNSb3cgPVxcbiAgICAgICAgICAgICAgZmxvYXQoXCIrY1swXStcIikgKlxcbiAgICAgICAgICAgICAgICAoZmxvYXQoZHlSKSAvIGZsb2F0KFwiK2xbMF0rXCIpKTtcXG5cXG4gICAgICAgICAgICBmbG9hdCBzb3VyY2VGcmFjQ29sID1cXG4gICAgICAgICAgICAgICAgZmxvYXQoXCIrY1sxXStcIikgKlxcbiAgICAgICAgICAgICAgICAgIChmbG9hdChkeUMpIC8gZmxvYXQoXCIrbFsxXStcIikpO1xcblxcbiAgICAgICAgICAgIGludCBzb3VyY2VOZWFyZXN0Um93ID0gaW50KG1pbihcXG4gICAgICAgICAgICAgICAgZmxvYXQoaW50KFwiK28rXCIpIC0gMSksXFxuICAgICAgICAgICAgICAgIFwiK24rXCIgPyBmbG9hdChyb3VuZChzb3VyY2VGcmFjUm93KSkgOlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdChmbG9vcihzb3VyY2VGcmFjUm93KSkpKTtcXG5cXG4gICAgICAgICAgICBpbnQgc291cmNlTmVhcmVzdENvbCA9IGludChtaW4oXFxuICAgICAgICAgICAgICAgIGZsb2F0KGludChcIithK1wiKSAtIDEpLFxcbiAgICAgICAgICAgICAgICBcIituK1wiID8gZmxvYXQocm91bmQoc291cmNlRnJhY0NvbCkpIDpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQoZmxvb3Ioc291cmNlRnJhY0NvbCkpKSk7XFxuXFxuICAgICAgICAgICAgaWYgKHIgPT0gc291cmNlTmVhcmVzdFJvdyAmJiBjID09IHNvdXJjZU5lYXJlc3RDb2wpIHtcXG4gICAgICAgICAgICAgIGFjY3VtdWxhdG9yICs9IGdldER5KGIsIGR5UiwgZHlDLCBkKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIC8vIEVuZCBsb29wIG92ZXIgZHlcXG5cXG4gICAgICAgIHNldE91dHB1dChhY2N1bXVsYXRvcik7XFxuICAgICAgfVxcbiAgICBcIn0sanM9ZnVuY3Rpb24odCxlLG4scil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5vdXRwdXRTaGFwZT1bXTt2YXIgbz10WzBdLGE9dFsxXSxpPXRbMl0scz10WzNdO3RoaXMub3V0cHV0U2hhcGU9W28sZSxuLHNdO3ZhciB1PVtyJiZlPjE/YS0xOmEsciYmbj4xP2ktMTppXSxjPVtyJiZlPjE/ZS0xOmUsciYmbj4xP24tMTpuXSxsPXI/XCIwLjVcIjpcIjAuMFwiO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCB2ZWMyIGVmZmVjdGl2ZUlucHV0T3Zlck91dHB1dFJhdGlvUkMgPSB2ZWMyKFxcbiAgICAgICAgICBcIit1WzBdL2NbMF0rXCIsXFxuICAgICAgICAgIFwiK3VbMV0vY1sxXStcIik7XFxuICAgICAgY29uc3QgdmVjMiBpbnB1dFNoYXBlUkMgPSB2ZWMyKFwiK2ErXCIuMCwgXCIraStcIi4wKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiID0gY29vcmRzWzBdO1xcbiAgICAgICAgaW50IGQgPSBjb29yZHNbM107XFxuICAgICAgICBpdmVjMiB5UkMgPSBjb29yZHMueXo7XFxuXFxuICAgICAgICAvLyBGcmFjdGlvbmFsIHNvdXJjZSBpbmRleC5cXG4gICAgICAgIHZlYzIgc291cmNlRnJhY0luZGV4UkMgPSB2ZWMyKHlSQykgKiBlZmZlY3RpdmVJbnB1dE92ZXJPdXRwdXRSYXRpb1JDO1xcblxcbiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgY29vcmRpbmF0b3JzIG9mIG5lYXJlc3QgbmVpZ2hib3IgcG9pbnQuXFxuICAgICAgICBpdmVjMiBzb3VyY2VOZWFyZXN0UkMgPSBpdmVjMihcXG4gICAgICAgICAgbWluKGlucHV0U2hhcGVSQyAtIDEuMCwgZmxvb3Ioc291cmNlRnJhY0luZGV4UkMgKyBcIitsK1wiKSkpO1xcblxcbiAgICAgICAgZmxvYXQgbmV3VmFsdWUgPSBnZXRBKGIsIHNvdXJjZU5lYXJlc3RSQy54LCBzb3VyY2VOZWFyZXN0UkMueSwgZCk7XFxuXFxuICAgICAgICBzZXRPdXRwdXQobmV3VmFsdWUpO1xcbiAgICAgIH1cXG4gICAgXCJ9LFhzPWZ1bmN0aW9uKHQsZSl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIl07dmFyIG49dC5sZW5ndGg7aWYobj40KXRocm93IG5ldyBFcnJvcihcIldlYkdMIGJhY2tlbmQ6IFJldmVyc2Ugb2YgcmFuay1cIituK1wiIHRlbnNvciBpcyBub3QgeWV0IHN1cHBvcnRlZFwiKTtpZih0aGlzLm91dHB1dFNoYXBlPXQsMSE9PW4pe3ZhciByPXQubWFwKChmdW5jdGlvbihuLHIpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihuKSYmMSE9PXRbbl0/dFtuXStcIiAtIGNvb3Jkc1tcIituK1wiXSAtIDFcIjpcImNvb3Jkc1tcIituK1wiXVwifShyKX0pKS5qb2luKFwiLFwiKSxvPXVpKG4pO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBcIitvK1wiIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgc2V0T3V0cHV0KGdldFgoXCIrcitcIikpO1xcbiAgICAgIH1cXG4gICAgXCJ9ZWxzZSB0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIGludCBjb29yZCA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICBzZXRPdXRwdXQoZ2V0WChcIit0WzBdK1wiIC0gY29vcmQgLSAxKSk7XFxuICAgICAgICB9XFxuICAgICAgXCJ9LFlzPWZ1bmN0aW9uKHQsZSl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITA7dmFyIG49dC5sZW5ndGg7aWYobj40KXRocm93IG5ldyBFcnJvcihcIldlYkdMIGJhY2tlbmQ6IFJldmVyc2Ugb2YgcmFuay1cIituK1wiIHRlbnNvciBpcyBub3QgeWV0IHN1cHBvcnRlZFwiKTt0aGlzLm91dHB1dFNoYXBlPXQ7dmFyIHI9WGEoXCJyY1wiLG4pLG89cltuLTFdK1wiICsgMSA8IFwiK3RoaXMub3V0cHV0U2hhcGVbbi0xXSxhPXJbbi0yXStcIiArIDEgPCBcIit0aGlzLm91dHB1dFNoYXBlW24tMl0saT11aShuKTtmdW5jdGlvbiBzKG4pe3ZhciByPXQubWFwKChmdW5jdGlvbihyLG8pe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybi0xIT09ZS5pbmRleE9mKG4pJiYxIT09dFtuXT90W25dK1wiIC0gXCIrcltuXStcIiAtIDFcIjpcIlwiK3Jbbl19KG8sbil9KSk7cmV0dXJuXCJnZXRDaGFubmVsKGdldFgoXCIrci5qb2luKFwiLFwiKStcIiksIHZlYzIoXCIrci5zbGljZSgtMikuam9pbihcIixcIikrXCIpKVwifXRoaXMudXNlckNvZGU9MT09PW4/XCJcXG4gICAgICAgIHZvaWQgbWFpbigpe1xcbiAgICAgICAgICBpbnQgcmMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDAuKTtcXG4gICAgICAgICAgcmVzdWx0LnIgPSBnZXRDaGFubmVsKGdldFgoXCIrdFswXStcIiAtIHJjIC0gMSksXFxuICAgICAgICAgICAgXCIrdFswXStcIiAtIHJjIC0gMSk7XFxuICAgICAgICAgIGlmKFwiK28rXCIpe1xcbiAgICAgICAgICAgICAgcmVzdWx0LmcgPSBnZXRDaGFubmVsKGdldFgoXCIrdFswXStcIiAtIChyYyAgKyAxKSAtIDEpLFxcbiAgICAgICAgICAgICAgICBcIit0WzBdK1wiIC0gKHJjICArIDEpIC0gMSk7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgc2V0T3V0cHV0KHJlc3VsdCk7XFxuICAgICAgICB9XFxuICAgICAgXCI6XCJcXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgXCIraStcIiByYyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMC4pO1xcbiAgICAgICAgICByZXN1bHQuciA9IFwiK2Z1bmN0aW9uKHQpe3JldHVybiBzKHQpfShyLnNsaWNlKCkpK1wiO1xcbiAgICAgICAgICBpZihcIitvK1wiKXtcXG4gICAgICAgICAgICByZXN1bHQuZyA9IFwiK2Z1bmN0aW9uKHQpe3JldHVybiB0W24tMV09XCIoXCIrdFtuLTFdK1wiICsgMSlcIixzKHQpfShyLnNsaWNlKCkpK1wiO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIGlmKFwiK2ErXCIpIHtcXG4gICAgICAgICAgICByZXN1bHQuYiA9IFwiK2Z1bmN0aW9uKHQpe3JldHVybiB0W24tMl09XCIoXCIrdFtuLTJdK1wiICsgMSlcIixzKHQpfShyLnNsaWNlKCkpK1wiO1xcbiAgICAgICAgICAgIGlmKFwiK28rXCIpIHtcXG4gICAgICAgICAgICAgIHJlc3VsdC5hID0gXCIrZnVuY3Rpb24odCl7cmV0dXJuIHRbbi0xXT1cIihcIit0W24tMV0rXCIgKyAxKVwiLHRbbi0yXT1cIihcIit0W24tMl0rXCIgKyAxKVwiLHModCl9KHIuc2xpY2UoKSkrXCI7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgICAgfVxcbiAgICBcIn0sJHM9ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7dm9pZCAwPT09aSYmKGk9ITApLHRoaXMudmFyaWFibGVOYW1lcz1bXCJ1cGRhdGVzXCIsXCJpbmRpY2VzXCIsXCJkZWZhdWx0VmFsdWVcIl0sdGhpcy5vdXRwdXRTaGFwZT1hO3ZhciBzPXVpKG8ubGVuZ3RoKSx1PXVpKGEubGVuZ3RoKSxjPVwiXCI7MT09PW4/Yz1cImlcIjoyPT09biYmKGM9XCJpLCBqXCIpO3ZhciBsPVwiZ2V0SW5kaWNlcyhcIitjK1wiKVwiLGg9XCJcIjsxPT09cj9oPVwiaVwiOjI9PT1yJiYoaD1cImksIGNvb3Jkc1sxXVwiKTt2YXIgZj1cImdldFVwZGF0ZXMoXCIraCtcIilcIixkPWU+MT9cInN0cmlkZXNbal1cIjpcInN0cmlkZXNcIjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgICBcIitzK1wiIHN0cmlkZXMgPSBcIitzK1wiKFwiK28rXCIpO1xcblxcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICBcIit1K1wiIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICBmbG9hdCBzdW0gPSAwLjA7XFxuICAgICAgICAgIGJvb2wgZm91bmQgPSBmYWxzZTtcXG4gICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBcIit0K1wiOyBpKyspIHtcXG4gICAgICAgICAgICBpbnQgZmxhdHRlbmVkSW5kZXggPSAwO1xcbiAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgXCIrZStcIjsgaisrKSB7XFxuICAgICAgICAgICAgICBpbnQgaW5kZXggPSByb3VuZChcIitsK1wiKTtcXG4gICAgICAgICAgICAgIGZsYXR0ZW5lZEluZGV4ICs9IGluZGV4ICogXCIrZCtcIjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYgKGZsYXR0ZW5lZEluZGV4ID09IGNvb3Jkc1swXSkge1xcbiAgICAgICAgICAgICAgc3VtICs9IFwiK2YrXCI7XFxuICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICAgIHNldE91dHB1dChtaXgoZ2V0RGVmYXVsdFZhbHVlKCksIHN1bSwgZmxvYXQoZm91bmQpKSk7XFxuICAgICAgICB9XFxuICAgICAgXCJ9LFFzPWZ1bmN0aW9uKHQsZSl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIixcInNlZ21lbnRJZHNcIl07dmFyIG49dC53aW5kb3dTaXplLHI9dC5iYXRjaFNpemUsbz10LmluU2l6ZSxhPXQubnVtU2VnbWVudHMsaT1hKk1hdGguY2VpbChvL24pO3RoaXMub3V0cHV0U2hhcGU9W3IsaV07dmFyIHM9NCpNYXRoLmZsb29yKG4vNCksdT1uJTQsYz1cIlxcbiAgICAgICAgc3VtVmFsdWUgKz0gZG90KHZhbHVlcywgc2VnRmlsdGVyKTtcXG4gICAgXCIsbD1cIlwiO28lbj4wJiYobD1cIlxcbiAgICAgICAgaWYgKGluSWR4IDwgMCB8fCBpbklkeCA+PSBcIitvK1wiKSB7XFxuICAgICAgICAgIHJldHVybiBpbml0aWFsaXphdGlvblZhbHVlO1xcbiAgICAgICAgfVxcbiAgICAgIFwiKTt2YXIgaD1cIlwiO28lbj4wJiYoaD1cIlxcbiAgICAgICAgaWYgKGluSWR4IDwgMCB8fCBpbklkeCA+PSBcIitvK1wiKSB7XFxuICAgICAgICAgIHJldHVybiAtMS4wO1xcbiAgICAgICAgfVxcbiAgICAgIFwiKSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgZmxvYXQgaW5pdGlhbGl6YXRpb25WYWx1ZSA9IDAuMDtcXG5cXG4gICAgICBmbG9hdCBnZXRWYWx1ZShpbnQgYmF0Y2gsIGludCBpbklkeCkge1xcbiAgICAgICAgXCIrbCtcIlxcbiAgICAgICAgcmV0dXJuIGdldFgoYmF0Y2gsIGluSWR4KTtcXG4gICAgICB9XFxuXFxuICAgICAgZmxvYXQgZ2V0U2VnbWVudElkQXRJbmRleChpbnQgaW5JZHgpIHtcXG4gICAgICAgIFwiK2grXCJcXG4gICAgICAgIHJldHVybiBnZXRTZWdtZW50SWRzKGluSWR4KTtcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzIgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgb3V0SWR4ID0gY29vcmRzWzFdO1xcbiAgICAgICAgaW50IGluT2Zmc2V0ID0gaW50KGZsb29yKGZsb2F0KG91dElkeCkgLyBmbG9hdChcXG4gICAgICAgICAgXCIrYStcIikpICogZmxvYXQoXCIrbitcIikpO1xcbiAgICAgICAgaW50IGN1cnJlbnRTZWcgPSBpbnQobW9kKGZsb2F0KG91dElkeCksIGZsb2F0KFwiK2ErXCIpKSk7XFxuXFxuICAgICAgICBmbG9hdCBzdW1WYWx1ZSA9IDAuMDtcXG5cXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgXCIrcytcIjsgaSArPSA0KSB7XFxuICAgICAgICAgIGludCBpbklkeCA9IGluT2Zmc2V0ICsgaTtcXG4gICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMSksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMiksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMylcXG4gICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgdmVjNCBzZWdGaWx0ZXIgPSB2ZWM0KFxcbiAgICAgICAgICAgIGludChnZXRTZWdtZW50SWRBdEluZGV4KGluSWR4KSkgPT0gY3VycmVudFNlZyA/IDEgOiAwLFxcbiAgICAgICAgICAgIGludChnZXRTZWdtZW50SWRBdEluZGV4KGluSWR4ICsgMSkpID09IGN1cnJlbnRTZWcgPyAxIDogMCxcXG4gICAgICAgICAgICBpbnQoZ2V0U2VnbWVudElkQXRJbmRleChpbklkeCArIDIpKSA9PSBjdXJyZW50U2VnID8gMSA6IDAsXFxuICAgICAgICAgICAgaW50KGdldFNlZ21lbnRJZEF0SW5kZXgoaW5JZHggKyAzKSkgPT0gY3VycmVudFNlZyA/IDEgOiAwXFxuICAgICAgICAgICk7XFxuXFxuICAgICAgICAgIFwiK2MrXCJcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGludCBpbklkeCA9IGluT2Zmc2V0ICsgXCIrcytcIjtcXG4gICAgICAgIGlmIChcIisoMT09PXUpK1wiKSB7XFxuICAgICAgICAgIHZlYzQgdmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgaW5JZHgpLFxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uVmFsdWUsXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlXFxuICAgICAgICAgICk7XFxuXFxuICAgICAgICAgIGludCBpbklkeFNlZyA9IGludChnZXRTZWdtZW50SWRBdEluZGV4KGluSWR4KSk7XFxuXFxuICAgICAgICAgIHZlYzQgc2VnRmlsdGVyID0gdmVjNChcXG4gICAgICAgICAgICBpbnQoZ2V0U2VnbWVudElkQXRJbmRleChpbklkeCkpID09IGN1cnJlbnRTZWcgPyAxIDogMCxcXG4gICAgICAgICAgICAwLFxcbiAgICAgICAgICAgIDAsXFxuICAgICAgICAgICAgMFxcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgICBcIitjK1wiXFxuICAgICAgICB9IGVsc2UgaWYgKFwiKygyPT09dSkrXCIpIHtcXG4gICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMSksXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlXFxuICAgICAgICAgICk7XFxuXFxuICAgICAgICAgIHZlYzQgc2VnRmlsdGVyID0gdmVjNChcXG4gICAgICAgICAgICBpbnQoZ2V0U2VnbWVudElkQXRJbmRleChpbklkeCkpID09IGN1cnJlbnRTZWcgPyAxIDogMCxcXG4gICAgICAgICAgICBpbnQoZ2V0U2VnbWVudElkQXRJbmRleChpbklkeCArIDEpKSA9PSBjdXJyZW50U2VnID8gMSA6IDAsXFxuICAgICAgICAgICAgICAwLFxcbiAgICAgICAgICAgICAgMFxcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgICBcIitjK1wiXFxuICAgICAgICB9IGVsc2UgaWYgKFwiKygzPT09dSkrXCIpIHtcXG4gICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMSksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMiksXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgICB2ZWM0IHNlZ0ZpbHRlciA9IHZlYzQoXFxuICAgICAgICAgICAgaW50KGdldFNlZ21lbnRJZEF0SW5kZXgoaW5JZHgpKSA9PSBjdXJyZW50U2VnID8gMSA6IDAsXFxuICAgICAgICAgICAgaW50KGdldFNlZ21lbnRJZEF0SW5kZXgoaW5JZHggKyAxKSkgPT0gY3VycmVudFNlZyA/IDEgOiAwLFxcbiAgICAgICAgICAgIGludChnZXRTZWdtZW50SWRBdEluZGV4KGluSWR4ICsgMikpID09IGN1cnJlbnRTZWcgPyAxIDogMCxcXG4gICAgICAgICAgICAwXFxuICAgICAgICAgICk7XFxuXFxuICAgICAgICAgIFwiK2MrXCJcXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChzdW1WYWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIn0sSnM9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG87aWYodGhpcy52YXJpYWJsZU5hbWVzPVtcImNcIixcImFcIixcImJcIl0sdGhpcy5vdXRwdXRTaGFwZT1lLG4+NCl0aHJvdyBFcnJvcihcIldoZXJlIGZvciByYW5rIFwiK24rXCIgaXMgbm90IHlldCBzdXBwb3J0ZWRcIik7aWYoMT09PW4pbz1cInJlc1JDXCIscj1cInJlc1JDXCI7ZWxzZXtmb3IodmFyIGE9W1wicmVzUkMueFwiLFwicmVzUkMueVwiLFwicmVzUkMuelwiLFwicmVzUkMud1wiXSxpPVtdLHM9W10sdT0wO3U8ZS5sZW5ndGg7dSsrKXMucHVzaChcIlwiK2FbdV0pLHU8dCYmaS5wdXNoKFwiXCIrYVt1XSk7cj1pLmpvaW4oKSxvPXMuam9pbigpfXZhciBjPXVpKG4pO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBcIitjK1wiIHJlc1JDID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBmbG9hdCBjVmFsID0gZ2V0QyhcIityK1wiKTtcXG4gICAgICAgIGlmIChjVmFsID49IDEuMCkge1xcbiAgICAgICAgICBzZXRPdXRwdXQoZ2V0QShcIitvK1wiKSk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBzZXRPdXRwdXQoZ2V0QihcIitvK1wiKSk7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICBcIn0sWnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJzb3VyY2VcIl0sdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMucmFuaz10Lmxlbmd0aDt2YXIgZSxuPXVpKHRoaXMucmFuaykscj1cInVuaWZvcm0gaW50IHN0YXJ0W1wiK3RoaXMucmFuaytcIl07XCIsbz1mdW5jdGlvbih0KXtpZigxPT09dClyZXR1cm5cInNvdXJjZUxvY1wiO2lmKHQ8PTYpcmV0dXJuIHR1LnNsaWNlKDAsdCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm5cInNvdXJjZUxvYy5cIit0fSkpLmpvaW4oXCIsXCIpO3Rocm93IEVycm9yKFwiU2xpY2luZyBmb3IgcmFuayBcIit0K1wiIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpfSh0aGlzLnJhbmspO2U9XCJcXG4gICAgICAgIFwiK24rXCIgc291cmNlTG9jO1xcbiAgICAgICAgXCIrbitcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIFwiK3QubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwic291cmNlTG9jLlwiK3R1W2VdK1wiID0gc3RhcnRbXCIrZStcIl0gKyBjb29yZHMuXCIrdHVbZV0rXCI7XCJ9KSkuam9pbihcIlxcblwiKStcIlxcbiAgICAgIFwiLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICBcIityK1wiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrZStcIlxcbiAgICAgICAgc2V0T3V0cHV0KGdldFNvdXJjZShcIitvK1wiKSk7XFxuICAgICAgfVxcbiAgICBcIn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0Q3VzdG9tU2V0dXBGdW5jPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodC5sZW5ndGghPT10aGlzLnJhbmspdGhyb3cgRXJyb3IoXCJUaGUgcmFuayAoXCIrdGhpcy5yYW5rK1wiKSBvZiB0aGUgcHJvZ3JhbSBtdXN0IG1hdGNoIHRoZSBsZW5ndGggb2Ygc3RhcnQgKFwiK3QubGVuZ3RoK1wiKVwiKTtyZXR1cm4gZnVuY3Rpb24obixyKXtudWxsPT1lLnN0YXJ0TG9jJiYoZS5zdGFydExvYz1uLmdldFVuaWZvcm1Mb2NhdGlvbk5vVGhyb3cocixcInN0YXJ0XCIpLG51bGw9PWUuc3RhcnRMb2MpfHxuLmdsLnVuaWZvcm0xaXYoZS5zdGFydExvYyx0KX19LHR9KCksdHU9W1wieFwiLFwieVwiLFwielwiLFwid1wiLFwidVwiLFwidlwiXTt2YXIgZXU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJzb3VyY2VcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMucmFuaz10Lmxlbmd0aDt2YXIgZT11aSh0aGlzLnJhbmspLG49WGEoXCJjb29yZHNcIix0aGlzLnJhbmspLHI9WGEoXCJzb3VyY2VMb2NcIix0aGlzLnJhbmspLG89MT09PXRoaXMucmFuaz9cInNvdXJjZUxvY1wiOlwidmVjMihcIityLnNsaWNlKC0yKS5qb2luKCkrXCIpXCIsYT1cImdldENoYW5uZWwoZ2V0U291cmNlKFwiK3Iuam9pbigpK1wiKSwgXCIrbytcIilcIixpPVwiXFxuICAgICAgcmVzdWx0LnggPSBcIithK1wiO1xcbiAgICAgIGlmICgrK1wiK25bdGhpcy5yYW5rLTFdK1wiIDwgXCIrdFt0aGlzLnJhbmstMV0rXCIpIHtcXG4gICAgICAgICsrXCIrclt0aGlzLnJhbmstMV0rXCI7XFxuICAgICAgICByZXN1bHQueSA9IFwiK2ErXCI7XFxuICAgICAgICAtLVwiK3JbdGhpcy5yYW5rLTFdK1wiO1xcbiAgICAgIH1cXG4gICAgXCIscz0xPT09dGhpcy5yYW5rP1wiXCI6XCJcXG4gICAgICAtLVwiK25bdGhpcy5yYW5rLTFdK1wiO1xcbiAgICAgIGlmICgrK1wiK25bdGhpcy5yYW5rLTJdK1wiIDwgXCIrdFt0aGlzLnJhbmstMl0rXCIpIHtcXG4gICAgICAgICsrXCIrclt0aGlzLnJhbmstMl0rXCI7XFxuICAgICAgICByZXN1bHQueiA9IFwiK2ErXCI7XFxuICAgICAgICBpZiAoKytcIituW3RoaXMucmFuay0xXStcIiA8IFwiK3RbdGhpcy5yYW5rLTFdK1wiKSB7XFxuICAgICAgICAgICsrXCIrclt0aGlzLnJhbmstMV0rXCI7XFxuICAgICAgICAgIHJlc3VsdC53ID0gXCIrYStcIjtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIFwiLHU9dGhpcy5yYW5rPD00P1wic291cmNlTG9jID0gY29vcmRzICtcXG4gICAgICAgICAgICBcIitlK1wiKFwiK3QubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwic3RhcnRbXCIrZStcIl1cIn0pKS5qb2luKCkrXCIpO1wiOnQubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiByW2VdK1wiID0gXCIrbltlXStcIiArIHN0YXJ0W1wiK2UrXCJdO1wifSkpLmpvaW4oXCJcXG5cIik7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHVuaWZvcm0gaW50IHN0YXJ0W1wiK3RoaXMucmFuaytcIl07XFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrZStcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIFwiK2UrXCIgc291cmNlTG9jO1xcbiAgICAgICAgXCIrdStcIlxcbiAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDAuKTtcXG4gICAgICAgIFwiK2krXCJcXG4gICAgICAgIFwiK3MrXCJcXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9cmV0dXJuIHQucHJvdG90eXBlLmdldEN1c3RvbVNldHVwRnVuYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHQubGVuZ3RoIT09dGhpcy5yYW5rKXRocm93IEVycm9yKFwiVGhlIHJhbmsgKFwiK3RoaXMucmFuaytcIikgb2YgdGhlIHByb2dyYW0gbXVzdCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHN0YXJ0IChcIit0Lmxlbmd0aCtcIilcIik7cmV0dXJuIGZ1bmN0aW9uKG4scil7bnVsbD09ZS5zdGFydExvYyYmKGUuc3RhcnRMb2M9bi5nZXRVbmlmb3JtTG9jYXRpb25Ob1Rocm93KHIsXCJzdGFydFwiKSxudWxsPT1lLnN0YXJ0TG9jKXx8bi5nbC51bmlmb3JtMWl2KGUuc3RhcnRMb2MsdCl9fSx0fSgpLG51PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiXSx0aGlzLm91dHB1dFNoYXBlPW47dmFyIHI9bi5sZW5ndGgsbz11aShuLmxlbmd0aCksYT11aShuLmxlbmd0aCksaT1cIlwiO2lmKDE9PT1yKWk9XCJjb29yZHMgKiBzdHJpZGVzICsgYmVnaW5cIjtlbHNle3ZhciBzPTA7aT1uLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gcysrLDE9PT1uLmxlbmd0aD9cImNvb3JkcyAqIHN0cmlkZXNbXCIrZStcIl0gKyBiZWdpbltcIitlK1wiXVwiOlwiY29vcmRzW1wiKyhzLTEpK1wiXSAqIHN0cmlkZXNbXCIrZStcIl0gKyBiZWdpbltcIitlK1wiXVwifSkpLmpvaW4oXCIsXCIpfXRoaXMudXNlckNvZGU9XCJcXG4gICAgICBcIitvK1wiIGJlZ2luID0gXCIrbytcIihcIit0K1wiKTtcXG4gICAgICBcIitvK1wiIHN0cmlkZXMgPSBcIitvK1wiKFwiK2UrXCIpO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIFwiK2ErXCIgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBzZXRPdXRwdXQoZ2V0WChcIitpK1wiKSk7XFxuICAgICAgfVxcbiAgICBcIn0scnU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZ3BncHU9dCx0aGlzLm51bVVzZWRUZXh0dXJlcz0wLHRoaXMubnVtRnJlZVRleHR1cmVzPTAsdGhpcy5mcmVlVGV4dHVyZXM9e30sdGhpcy5sb2dFbmFibGVkPSExLHRoaXMudXNlZFRleHR1cmVzPXt9fXJldHVybiB0LnByb3RvdHlwZS5hY3F1aXJlVGV4dHVyZT1mdW5jdGlvbih0LGUsbil7dmFyIHIsbz1vdShlLG4pLGE9YXUodCxvLG4pO2lmKGEgaW4gdGhpcy5mcmVlVGV4dHVyZXN8fCh0aGlzLmZyZWVUZXh0dXJlc1thXT1bXSksYSBpbiB0aGlzLnVzZWRUZXh0dXJlc3x8KHRoaXMudXNlZFRleHR1cmVzW2FdPVtdKSx0aGlzLmZyZWVUZXh0dXJlc1thXS5sZW5ndGg+MCl7dGhpcy5udW1GcmVlVGV4dHVyZXMtLSx0aGlzLm51bVVzZWRUZXh0dXJlcysrLHRoaXMubG9nKCk7dmFyIGk9dGhpcy5mcmVlVGV4dHVyZXNbYV0uc2hpZnQoKTtyZXR1cm4gdGhpcy51c2VkVGV4dHVyZXNbYV0ucHVzaChpKSxpfXJldHVybiB0aGlzLm51bVVzZWRUZXh0dXJlcysrLHRoaXMubG9nKCksbz09PUd0LlBBQ0tFRF8yWDJfRkxPQVQzMj9yPXRoaXMuZ3BncHUuY3JlYXRlUGFja2VkTWF0cml4VGV4dHVyZSh0WzBdLHRbMV0pOm89PT1HdC5QQUNLRURfMlgyX0ZMT0FUMTY/cj10aGlzLmdwZ3B1LmNyZWF0ZUZsb2F0MTZQYWNrZWRNYXRyaXhUZXh0dXJlKHRbMF0sdFsxXSk6bz09PUd0LlVOUEFDS0VEX0ZMT0FUMzI/cj10aGlzLmdwZ3B1LmNyZWF0ZUZsb2F0MzJNYXRyaXhUZXh0dXJlKHRbMF0sdFsxXSk6bz09PUd0LlVOUEFDS0VEX0ZMT0FUMTY/cj10aGlzLmdwZ3B1LmNyZWF0ZUZsb2F0MTZNYXRyaXhUZXh0dXJlKHRbMF0sdFsxXSk6bz09PUd0LlBBQ0tFRF80WDFfVU5TSUdORURfQllURSYmKHI9dGhpcy5ncGdwdS5jcmVhdGVVbnNpZ25lZEJ5dGVzTWF0cml4VGV4dHVyZSh0WzBdLHRbMV0pKSx0aGlzLnVzZWRUZXh0dXJlc1thXS5wdXNoKHIpLHJ9LHQucHJvdG90eXBlLnJlbGVhc2VUZXh0dXJlPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKG51bGwhPXRoaXMuZnJlZVRleHR1cmVzKXt2YXIgbz1hdShlLG91KG4scikscik7byBpbiB0aGlzLmZyZWVUZXh0dXJlc3x8KHRoaXMuZnJlZVRleHR1cmVzW29dPVtdKSx0aGlzLmZyZWVUZXh0dXJlc1tvXS5wdXNoKHQpLHRoaXMubnVtRnJlZVRleHR1cmVzKyssdGhpcy5udW1Vc2VkVGV4dHVyZXMtLTt2YXIgYT10aGlzLnVzZWRUZXh0dXJlc1tvXSxpPWEuaW5kZXhPZih0KTtpZihpPDApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlbGVhc2UgYSB0ZXh0dXJlIHRoYXQgd2FzIG5ldmVyIHByb3ZpZGVkIGJ5IHRoaXMgdGV4dHVyZSBtYW5hZ2VyXCIpO2Euc3BsaWNlKGksMSksdGhpcy5sb2coKX19LHQucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe2lmKHRoaXMubG9nRW5hYmxlZCl7dmFyIHQ9dGhpcy5udW1GcmVlVGV4dHVyZXMrdGhpcy5udW1Vc2VkVGV4dHVyZXM7Y29uc29sZS5sb2coXCJGcmVlL1VzZWRcIix0aGlzLm51bUZyZWVUZXh0dXJlcytcIiAvIFwiK3RoaXMubnVtVXNlZFRleHR1cmVzLFwiKFwiK3QrXCIpXCIpfX0sdC5wcm90b3R5cGUuZ2V0TnVtVXNlZFRleHR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubnVtVXNlZFRleHR1cmVzfSx0LnByb3RvdHlwZS5nZXROdW1GcmVlVGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5udW1GcmVlVGV4dHVyZXN9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKG51bGwhPXRoaXMuZnJlZVRleHR1cmVzKXtmb3IodmFyIGUgaW4gdGhpcy5mcmVlVGV4dHVyZXMpdGhpcy5mcmVlVGV4dHVyZXNbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5ncGdwdS5kZWxldGVNYXRyaXhUZXh0dXJlKGUpfSkpO2Zvcih2YXIgZSBpbiB0aGlzLnVzZWRUZXh0dXJlcyl0aGlzLnVzZWRUZXh0dXJlc1tlXS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmdwZ3B1LmRlbGV0ZU1hdHJpeFRleHR1cmUoZSl9KSk7dGhpcy5mcmVlVGV4dHVyZXM9bnVsbCx0aGlzLnVzZWRUZXh0dXJlcz1udWxsLHRoaXMubnVtVXNlZFRleHR1cmVzPTAsdGhpcy5udW1GcmVlVGV4dHVyZXM9MH19LHR9KCk7ZnVuY3Rpb24gb3UodCxlKXtpZih0PT09enQuVVBMT0FEKXJldHVybiBHdC5QQUNLRURfMlgyX0ZMT0FUMzI7aWYodD09PXp0LlJFTkRFUnx8bnVsbD09dClyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGkoKS5nZXRCb29sKFwiV0VCR0xfUkVOREVSX0ZMT0FUMzJfRU5BQkxFRFwiKT90P0d0LlBBQ0tFRF8yWDJfRkxPQVQzMjpHdC5VTlBBQ0tFRF9GTE9BVDMyOnQ/R3QuUEFDS0VEXzJYMl9GTE9BVDE2Okd0LlVOUEFDS0VEX0ZMT0FUMTZ9KGUpO2lmKHQ9PT16dC5ET1dOTE9BRHx8dD09PXp0LlBJWEVMUylyZXR1cm4gR3QuUEFDS0VEXzRYMV9VTlNJR05FRF9CWVRFO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gbG9naWNhbCB0ZXh0dXJlIHR5cGUgXCIrdCl9ZnVuY3Rpb24gYXUodCxlLG4pe3JldHVybiB0WzBdK1wiX1wiK3RbMV0rXCJfXCIrZStcIl9cIitufXZhciBpdT1mdW5jdGlvbih0LGUpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdO2Zvcih2YXIgbj1uZXcgQXJyYXkodC5sZW5ndGgpLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdPXRbcl0qZVtyXTt0aGlzLm91dHB1dFNoYXBlPW4sdGhpcy5yYW5rPW4ubGVuZ3RoO3ZhciBvPXVpKHRoaXMucmFuayksYT1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDtpZihlPjUpdGhyb3cgRXJyb3IoXCJUaWxlIGZvciByYW5rIFwiK2UrXCIgaXMgbm90IHlldCBzdXBwb3J0ZWRcIik7aWYoMT09PWUpcmV0dXJuXCJpbW9kKHJlc1JDLCBcIit0WzBdK1wiKVwiO2Zvcih2YXIgbj1bXCJyZXNSQy54XCIsXCJyZXNSQy55XCIsXCJyZXNSQy56XCIsXCJyZXNSQy53XCIsXCJyZXNSQy51XCJdLHI9W10sbz0wO288dC5sZW5ndGg7bysrKXIucHVzaChcImltb2QoXCIrbltvXStcIiwgXCIrdFtvXStcIilcIik7cmV0dXJuIHIuam9pbigpfSh0KTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbytcIiByZXNSQyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgc2V0T3V0cHV0KGdldEEoXCIrYStcIikpO1xcbiAgICAgIH1cXG4gICAgXCJ9O3ZhciBzdT0xLjc1ODA5OTM0MDg0NzM3NjgsdXU9MS4wNTA3MDA5ODczNTU0ODA1LGN1PWZ1bmN0aW9uKHQsZSl7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMudXNlckNvZGU9XCJcXG4gICAgICBmbG9hdCB1bmFyeU9wZXJhdGlvbihmbG9hdCB4KSB7XFxuICAgICAgICBcIitlK1wiXFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGZsb2F0IHggPSBnZXRBQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIGZsb2F0IHkgPSB1bmFyeU9wZXJhdGlvbih4KTtcXG5cXG4gICAgICAgIHNldE91dHB1dCh5KTtcXG4gICAgICB9XFxuICAgIFwifSxsdT1cImlmIChpc25hbih4KSkgcmV0dXJuIHg7XCIsaHU9XCJyZXR1cm4geDtcIixmdT1cInJldHVybiBhYnMoeCk7XCIsZHU9bHUrXCJcXG4gIHJldHVybiAoeCA8IDAuMCkgPyAwLjAgOiB4O1xcblwiLHB1PWx1K1wiXFxuICByZXR1cm4gKHggPCAwLjApID8gMC4wIDogbWluKDYuMCwgeCk7XFxuXCIsdnU9XCJyZXR1cm4gKHggPj0gMC4wKSA/IHggOiAoZXhwKHgpIC0gMS4wKTtcIixndT1cIlxcbiAgLy8gU3RhYmxlIGFuZCBBdHRyYWN0aW5nIEZpeGVkIFBvaW50ICgwLCAxKSBmb3IgTm9ybWFsaXplZCBXZWlnaHRzLlxcbiAgLy8gc2VlOiBodHRwczovL2FyeGl2Lm9yZy9hYnMvMTcwNi4wMjUxNVxcbiAgZmxvYXQgc2NhbGVBbHBoYSA9IFwiK3N1K1wiO1xcbiAgZmxvYXQgc2NhbGUgPSBcIit1dStcIjtcXG4gIHJldHVybiAoeCA+PSAwLjApID8gc2NhbGUgKiB4IDogc2NhbGVBbHBoYSAqIChleHAoeCkgLSAxLjApO1xcblwiO3ZhciBtdT1cInJldHVybiAteDtcIix5dT1cInJldHVybiBjZWlsKHgpO1wiLHh1PVwicmV0dXJuIGZsb29yKHgpO1wiLGJ1PVwicmV0dXJuIGV4cCh4KTtcIix3dT1cInJldHVybiBleHAoeCkgLSAxLjA7XCIsQ3U9bHUrXCJcXG4gIHJldHVybiBzaW4oeCk7XFxuXCIsRXU9bHUrXCJcXG4gIHJldHVybiBjb3MoeCk7XFxuXCIsUnU9bHUrXCJcXG4gIGlmIChhYnMoeCkgPiAxLikge1xcbiAgICByZXR1cm4gTkFOO1xcbiAgfVxcbiAgcmV0dXJuIGFzaW4oeCk7XFxuXCIsSXU9bHUrXCJcXG4gIGlmIChhYnMoeCkgPiAxLikge1xcbiAgICByZXR1cm4gTkFOO1xcbiAgfVxcbiAgcmV0dXJuIGFjb3MoeCk7XFxuXCIsa3U9bHUrXCJcXG4gIHJldHVybiBhdGFuKHgpO1xcblwiLFN1PWx1K1wicmV0dXJuIGxvZyh4ICsgc3FydCh4ICogeCArIDEuMCkpO1wiLEF1PWx1K1wiXFxuICBpZiAoeCA8IDEuMCkgcmV0dXJuIE5BTjtcXG4gIHJldHVybiBsb2coeCArIHNxcnQoeCAqIHggLSAxLjApKTtcIixUdT1sdStcIlxcbiAgaWYgKCh4IDwgLTEuMCkgfHwgKHggPiAxLjApKSByZXR1cm4gTkFOO1xcbiAgcmV0dXJuIChsb2coMS4wICsgeCkgLSBsb2coMS4wIC0geCkpIC8gMi4wO1wiLER1PVwicmV0dXJuIHg7XCIsTnU9XCJyZXR1cm4geDtcIixGdT1cIlxcbiAgdmVjNCByZXN1bHQgPSB4ICogdmVjNChncmVhdGVyVGhhbkVxdWFsKHgsIHZlYzQoMC4wKSkpO1xcbiAgYnZlYzQgaXNOYU4gPSBpc25hbih4KTtcXG5cXG4gIHJlc3VsdC5yID0gaXNOYU4uciA/IHguciA6IHJlc3VsdC5yO1xcbiAgcmVzdWx0LmcgPSBpc05hTi5nID8geC5nIDogcmVzdWx0Lmc7XFxuICByZXN1bHQuYiA9IGlzTmFOLmIgPyB4LmIgOiByZXN1bHQuYjtcXG4gIHJlc3VsdC5hID0gaXNOYU4uYSA/IHguYSA6IHJlc3VsdC5hO1xcblxcbiAgcmV0dXJuIHJlc3VsdDtcXG5cIixfdT1cIlxcbiAgdmVjNCByZXN1bHQgPSBtaW4oeCwgdmVjNCg2LikpICogdmVjNChncmVhdGVyVGhhbkVxdWFsKHgsIHZlYzQoMC4wKSkpO1xcbiAgYnZlYzQgaXNOYU4gPSBpc25hbih4KTtcXG5cXG4gIHJlc3VsdC5yID0gaXNOYU4uciA/IHguciA6IHJlc3VsdC5yO1xcbiAgcmVzdWx0LmcgPSBpc05hTi5nID8geC5nIDogcmVzdWx0Lmc7XFxuICByZXN1bHQuYiA9IGlzTmFOLmIgPyB4LmIgOiByZXN1bHQuYjtcXG4gIHJlc3VsdC5hID0gaXNOYU4uYSA/IHguYSA6IHJlc3VsdC5hO1xcblxcbiAgcmV0dXJuIHJlc3VsdDtcXG5cIixPdT1cIlxcbiAgdmVjNCByZXN1bHQ7XFxuXFxuICByZXN1bHQuciA9ICh4LnIgPj0gMC4wKSA/IHguciA6IChleHAoeC5yKSAtIDEuMCk7XFxuICByZXN1bHQuZyA9ICh4LmcgPj0gMC4wKSA/IHguZyA6IChleHAoeC5nKSAtIDEuMCk7XFxuICByZXN1bHQuYiA9ICh4LmIgPj0gMC4wKSA/IHguYiA6IChleHAoeC5iKSAtIDEuMCk7XFxuICByZXN1bHQuYSA9ICh4LmEgPj0gMC4wKSA/IHguYSA6IChleHAoeC5hKSAtIDEuMCk7XFxuXFxuICByZXR1cm4gcmVzdWx0O1xcblwiLE11PWZ1bmN0aW9uKHQsZSl7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB2ZWM0IHVuYXJ5T3BlcmF0aW9uKHZlYzQgeCkge1xcbiAgICAgICAgXCIrZStcIlxcbiAgICAgIH1cXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICB2ZWM0IHggPSBnZXRBQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIHZlYzQgeSA9IHVuYXJ5T3BlcmF0aW9uKHgpO1xcblxcbiAgICAgICAgc2V0T3V0cHV0KHkpO1xcbiAgICAgIH1cXG4gICAgXCJ9LEJ1PWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdLHRoaXMucGFja2VkSW5wdXRzPSEwLHRoaXMucGFja2VkT3V0cHV0PSExLHRoaXMub3V0cHV0U2hhcGU9dDt2YXIgZT10Lmxlbmd0aCxuPVhhKFwicmNcIixlKSxyPXVpKGUpLG89ZnVuY3Rpb24odCxlKXtpZigxPT09dClyZXR1cm5cInJjXCI7Zm9yKHZhciBuPVwiXCIscj0wO3I8dDtyKyspbis9ZVtyXSxyPHQtMSYmKG4rPVwiLFwiKTtyZXR1cm4gbn0oZSxuKSxhPW4uc2xpY2UoLTIpLGk9ZTw9MT9cInJjXCI6XCJ2ZWMyKFwiK2Euam9pbihcIixcIikrXCIpXCI7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIFwiK3IrXCIgcmMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIHZlYzQgcGFja2VkSW5wdXQgPSBnZXRBKFwiK28rXCIpO1xcblxcbiAgICAgICAgc2V0T3V0cHV0KGdldENoYW5uZWwocGFja2VkSW5wdXQsIFwiK2krXCIpKTtcXG4gICAgICB9XFxuICAgIFwifSxQdT17fTtmdW5jdGlvbiBMdSh0LGUpe2lmKHZvaWQgMD09PWUmJihlPSExKSxcImxpbmVhclwiPT09dClyZXR1cm4gZT9OdTpodTtpZihcInJlbHVcIj09PXQpcmV0dXJuIGU/RnU6ZHU7aWYoXCJlbHVcIj09PXQpcmV0dXJuIGU/T3U6dnU7aWYoXCJyZWx1NlwiPT09dClyZXR1cm4gZT9fdTpwdTtpZihcInByZWx1XCI9PT10KXJldHVybiBlP2tpOkVpO3Rocm93IG5ldyBFcnJvcihcIkFjdGl2YXRpb24gXCIrdCtcIiBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBXZWJHTCBiYWNrZW5kLlwiKX12YXIgV3U9NjAwO3ZhciBVdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKGUpe3ZhciBuLHI9dC5jYWxsKHRoaXMpfHx0aGlzO2lmKHIucGVuZGluZ1JlYWQ9bmV3IFdlYWtNYXAsci5wZW5kaW5nRGlzcG9zYWw9bmV3IFdlYWtTZXQsci5kYXRhUmVmQ291bnQ9bmV3IFdlYWtNYXAsci5udW1CeXRlc0luR1BVPTAsci51cGxvYWRXYWl0TXM9MCxyLmRvd25sb2FkV2FpdE1zPTAsci53YXJuZWRBYm91dE1lbW9yeT0hMSxyLnBlbmRpbmdEZWxldGVzPTAsci5kaXNwb3NlZD0hMSwhaSgpLmdldEJvb2woXCJIQVNfV0VCR0xcIikpdGhyb3cgbmV3IEVycm9yKFwiV2ViR0wgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZVwiKTtpZihudWxsPT1lKXt2YXIgbz1qdChpKCkuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKSk7ci5iaW5hcnlDYWNoZT0obj1pKCkuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKSlpbiBQdT9QdVtuXTooUHVbbl09e30sUHVbbl0pLHIuZ3BncHU9bmV3IElzKG8pLHIuY2FudmFzPW8uY2FudmFzLHIuZ3BncHVDcmVhdGVkTG9jYWxseT0hMH1lbHNlIHIuZ3BncHU9ZSxyLmJpbmFyeUNhY2hlPXt9LHIuZ3BncHVDcmVhdGVkTG9jYWxseT0hMSxyLmNhbnZhcz1lLmdsLmNhbnZhcztyZXR1cm4gci50ZXh0dXJlTWFuYWdlcj1uZXcgcnUoci5ncGdwdSksci5udW1NQkJlZm9yZVdhcm5pbmc9bnVsbD09aSgpLmdsb2JhbC5zY3JlZW4/MTAyNDppKCkuZ2xvYmFsLnNjcmVlbi5oZWlnaHQqaSgpLmdsb2JhbC5zY3JlZW4ud2lkdGgqd2luZG93LmRldmljZVBpeGVsUmF0aW8qV3UvMTAyNC8xMDI0LHIudGV4RGF0YT1uZXcgY2EocixMdCkscn1yZXR1cm4gZShvLHQpLG8ucHJvdG90eXBlLm51bURhdGFJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXhEYXRhLm51bURhdGFJZHMoKSsodGhpcy5jcHVCYWNrZW5kP3RoaXMuY3B1QmFja2VuZC5udW1EYXRhSWRzKCk6MCktdGhpcy5wZW5kaW5nRGVsZXRlc30sby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlLG4pe2lmKGkoKS5nZXRCb29sKFwiREVCVUdcIikmJnRoaXMuY2hlY2tOdW1lcmljYWxQcm9ibGVtcyh0KSxcImNvbXBsZXg2NFwiPT09biYmbnVsbCE9dCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgd3JpdGUgdG8gYSBjb21wbGV4NjQgZHR5cGUuIFBsZWFzZSB1c2UgdGYuY29tcGxleChyZWFsLCBpbWFnKS5cIik7dmFyIHI9e307cmV0dXJuIHRoaXMudGV4RGF0YS5zZXQocix7c2hhcGU6ZSxkdHlwZTpuLHZhbHVlczp0LHVzYWdlOnp0LlVQTE9BRH0pLHJ9LG8ucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24odCxlLG4scil7aWYoaSgpLmdldEJvb2woXCJERUJVR1wiKSYmdGhpcy5jaGVja051bWVyaWNhbFByb2JsZW1zKGUpLFwiY29tcGxleDY0XCI9PT1yKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB3cml0ZSB0byBhIGNvbXBsZXg2NCBkdHlwZS4gUGxlYXNlIHVzZSB0Zi5jb21wbGV4KHJlYWwsIGltYWcpLlwiKTt0aGlzLnRleERhdGEuc2V0KHQse3NoYXBlOm4sZHR5cGU6cix2YWx1ZXM6ZSx1c2FnZTp6dC5VUExPQUR9KX0sby5wcm90b3R5cGUucmVhZFN5bmM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50ZXhEYXRhLmdldCh0KSxuPWUudmFsdWVzLHI9ZS5kdHlwZSxvPWUuY29tcGxleFRlbnNvcnMsYT1lLnNsaWNlLGk9ZS5zaGFwZSxzPWUuaXNQYWNrZWQ7aWYobnVsbCE9YSl7dmFyIHU9dm9pZCAwO3U9cz9uZXcgTXUoaSxEdSk6bmV3IGN1KGksRHUpO3ZhciBjPXRoaXMucnVuV2ViR0xQcm9ncmFtKHUsW3tkYXRhSWQ6dCxzaGFwZTppLGR0eXBlOnJ9XSxyKSxsPXRoaXMucmVhZFN5bmMoYy5kYXRhSWQpO3JldHVybiB0aGlzLmRpc3Bvc2VEYXRhKGMuZGF0YUlkKSxsfWlmKG51bGwhPW4pcmV0dXJuIHRoaXMuY29udmVydEFuZENhY2hlT25DUFUodCk7aWYoXCJzdHJpbmdcIj09PXIpcmV0dXJuIG47dmFyIGgsZixkPW51bGwhPXRoaXMuYWN0aXZlVGltZXJzOyhkJiYoaD1ldCgpKSxcImNvbXBsZXg2NFwiPT09cik/Zj1BYShvLnJlYWwuZGF0YVN5bmMoKSxvLmltYWcuZGF0YVN5bmMoKSk6Zj10aGlzLmdldFZhbHVlc0Zyb21UZXh0dXJlKHQpO3JldHVybiBkJiYodGhpcy5kb3dubG9hZFdhaXRNcys9ZXQoKS1oKSx0aGlzLmNvbnZlcnRBbmRDYWNoZU9uQ1BVKHQsZil9LG8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4sbyxhLHMsdSxjLGwsaCxmLGQscCx2LGcsbSx5LHgsYix3LEMsRSxSO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6aWYodGhpcy5wZW5kaW5nUmVhZC5oYXModCkpcmV0dXJuIGU9dGhpcy5wZW5kaW5nUmVhZC5nZXQodCksWzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnB1c2godCl9KSldO2lmKG49dGhpcy50ZXhEYXRhLmdldCh0KSxvPW4udmFsdWVzLGE9bi5zaGFwZSxzPW4uc2xpY2UsdT1uLmR0eXBlLGM9bi5jb21wbGV4VGVuc29ycyxsPW4uaXNQYWNrZWQsbnVsbCE9cylyZXR1cm4gaD12b2lkIDAsaD1sP25ldyBNdShhLER1KTpuZXcgY3UoYSxEdSksZj10aGlzLnJ1bldlYkdMUHJvZ3JhbShoLFt7ZGF0YUlkOnQsc2hhcGU6YSxkdHlwZTp1fV0sdSksZD10aGlzLnJlYWQoZi5kYXRhSWQpLHRoaXMuZGlzcG9zZURhdGEoZi5kYXRhSWQpLFsyLGRdO2lmKG51bGwhPW8pcmV0dXJuWzIsdGhpcy5jb252ZXJ0QW5kQ2FjaGVPbkNQVSh0KV07aWYoIWkoKS5nZXRCb29sKFwiV0VCR0xfRE9XTkxPQURfRkxPQVRfRU5BQkxFRFwiKSYmMj09PWkoKS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpKXRocm93IG5ldyBFcnJvcihcInRlbnNvci5kYXRhKCkgd2l0aCBXRUJHTF9ET1dOTE9BRF9GTE9BVF9FTkFCTEVEPWZhbHNlIGFuZCBXRUJHTF9WRVJTSU9OPTIgbm90IHlldCBzdXBwb3J0ZWQuXCIpO3JldHVybiBwPW51bGwsXCJjb21wbGV4NjRcIiE9PXUmJmkoKS5nZXQoXCJXRUJHTF9CVUZGRVJfU1VQUE9SVEVEXCIpJiYodj10aGlzLmRlY29kZSh0KSxnPXRoaXMudGV4RGF0YS5nZXQodi5kYXRhSWQpLHA9KFI9dGhpcy5ncGdwdSkuY3JlYXRlQnVmZmVyRnJvbVRleHR1cmUuYXBwbHkoUixbZy50ZXh0dXJlXS5jb25jYXQoWXQoYSkpKSksdGhpcy5wZW5kaW5nUmVhZC5zZXQodCxbXSksXCJjb21wbGV4NjRcIj09PXU/WzMsMl06WzQsdGhpcy5ncGdwdS5jcmVhdGVBbmRXYWl0Rm9yRmVuY2UoKV07Y2FzZSAxOnIuc2VudCgpLHIubGFiZWw9MjtjYXNlIDI6cmV0dXJuXCJjb21wbGV4NjRcIiE9PXU/WzMsNF06WzQsUHJvbWlzZS5hbGwoW2MucmVhbC5kYXRhKCksYy5pbWFnLmRhdGEoKV0pXTtjYXNlIDM6cmV0dXJuIHk9ci5zZW50KCkseD15WzBdLGI9eVsxXSxtPUFhKHgsYiksWzMsNV07Y2FzZSA0Om51bGw9PXA/bT10aGlzLmdldFZhbHVlc0Zyb21UZXh0dXJlKHQpOih3PWsoYSksbT10aGlzLmdwZ3B1LmRvd25sb2FkRmxvYXQzMk1hdHJpeEZyb21CdWZmZXIocCx3KSksci5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gbnVsbCE9diYmdGhpcy5kaXNwb3NlRGF0YSh2LmRhdGFJZCksQz10aGlzLmNvbnZlcnRBbmRDYWNoZU9uQ1BVKHQsbSksRT10aGlzLnBlbmRpbmdSZWFkLmdldCh0KSx0aGlzLnBlbmRpbmdSZWFkLmRlbGV0ZSh0KSxFLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0KEMpfSkpLHRoaXMucGVuZGluZ0Rpc3Bvc2FsLmhhcyh0KSYmKHRoaXMucGVuZGluZ0Rpc3Bvc2FsLmRlbGV0ZSh0KSx0aGlzLmRpc3Bvc2VEYXRhKHQpLHRoaXMucGVuZGluZ0RlbGV0ZXMtLSksWzIsQ119fSkpfSkpfSxvLnByb3RvdHlwZS5jaGVja051bWVyaWNhbFByb2JsZW1zPWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpZm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV07aWYoIWVlKG4pKXtpZihpKCkuZ2V0Qm9vbChcIldFQkdMX1JFTkRFUl9GTE9BVDMyX0NBUEFCTEVcIikpdGhyb3cgRXJyb3IoXCJUaGUgdmFsdWUgXCIrbitcIiBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgd2l0aCB5b3VyIGN1cnJlbnQgc2V0dGluZ3MuIENvbnNpZGVyIGVuYWJsaW5nIGZsb2F0MzIgcmVuZGVyaW5nOiAndGYuZW52KCkuc2V0KCdXRUJHTF9SRU5ERVJfRkxPQVQzMl9FTkFCTEVEJywgdHJ1ZSk7J1wiKTt0aHJvdyBFcnJvcihcIlRoZSB2YWx1ZSBcIituK1wiIGNhbm5vdCBiZSByZXByZXNlbnRlZCBvbiB0aGlzIGRldmljZS5cIil9fX0sby5wcm90b3R5cGUuZ2V0VmFsdWVzRnJvbVRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLnRleERhdGEuZ2V0KHQpLHI9bi5zaGFwZSxvPW4uZHR5cGUsYT1uLmlzUGFja2VkLHM9ayhyKTtpZihpKCkuZ2V0Qm9vbChcIldFQkdMX0RPV05MT0FEX0ZMT0FUX0VOQUJMRURcIikpe3ZhciB1PXRoaXMuZGVjb2RlKHQpLGM9dGhpcy50ZXhEYXRhLmdldCh1LmRhdGFJZCksbD0oZT10aGlzLmdwZ3B1KS5kb3dubG9hZE1hdHJpeEZyb21QYWNrZWRUZXh0dXJlLmFwcGx5KGUsW2MudGV4dHVyZV0uY29uY2F0KFl0KHIpKSkuc3ViYXJyYXkoMCxzKTtyZXR1cm4gdGhpcy5kaXNwb3NlRGF0YSh1LmRhdGFJZCksbH12YXIgaD1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tcIikmJiEwPT09YSxmPWg/RGUocik6cixkPWg/bmV3IEppKGYpOm5ldyBRaShmKSxwPXRoaXMucnVuV2ViR0xQcm9ncmFtKGQsW3tzaGFwZTpmLGR0eXBlOm8sZGF0YUlkOnR9XSxcImZsb2F0MzJcIiksdj10aGlzLnRleERhdGEuZ2V0KHAuZGF0YUlkKSxnPXRoaXMuZ3BncHUuZG93bmxvYWRCeXRlRW5jb2RlZEZsb2F0TWF0cml4RnJvbU91dHB1dFRleHR1cmUodi50ZXh0dXJlLHYudGV4U2hhcGVbMF0sdi50ZXhTaGFwZVsxXSkuc3ViYXJyYXkoMCxzKTtyZXR1cm4gdGhpcy5kaXNwb3NlRGF0YShwLmRhdGFJZCksZ30sby5wcm90b3R5cGUudGltZT1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixvLGEscyx1LGM7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT10aGlzLmFjdGl2ZVRpbWVycyxuPVtdLG89ITEsbnVsbD09dGhpcy5wcm9ncmFtVGltZXJzU3RhY2s/KHRoaXMucHJvZ3JhbVRpbWVyc1N0YWNrPW4sbz0hMCk6dGhpcy5hY3RpdmVUaW1lcnMucHVzaChuKSx0aGlzLmFjdGl2ZVRpbWVycz1uLHQoKSxhPUkodGhpcy5hY3RpdmVUaW1lcnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5xdWVyeX0pKSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dH0pKSxzPUkodGhpcy5hY3RpdmVUaW1lcnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10fSkpLHRoaXMuYWN0aXZlVGltZXJzPWUsbyYmKHRoaXMucHJvZ3JhbVRpbWVyc1N0YWNrPW51bGwpLHU9e3VwbG9hZFdhaXRNczp0aGlzLnVwbG9hZFdhaXRNcyxkb3dubG9hZFdhaXRNczp0aGlzLmRvd25sb2FkV2FpdE1zLGtlcm5lbE1zOm51bGwsd2FsbE1zOm51bGx9LGkoKS5nZXROdW1iZXIoXCJXRUJHTF9ESVNKT0lOVF9RVUVSWV9USU1FUl9FWFRFTlNJT05fUkVMSUFCTEVcIik+MD9bNCxQcm9taXNlLmFsbChhKV06WzMsMl07Y2FzZSAxOnJldHVybiBjPXIuc2VudCgpLHUua2VybmVsTXM9dyhjKSx1LmdldEV4dHJhUHJvZmlsZUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gYy5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJue25hbWU6c1tlXSxtczp0fX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWUrXCI6IFwiK3QubXN9KSkuam9pbihcIiwgXCIpfSxbMywzXTtjYXNlIDI6dS5rZXJuZWxNcz17ZXJyb3I6XCJXZWJHTCBxdWVyeSB0aW1lcnMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC5cIn0sci5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gdGhpcy51cGxvYWRXYWl0TXM9MCx0aGlzLmRvd25sb2FkV2FpdE1zPTAsWzIsdV19fSkpfSkpfSxvLnByb3RvdHlwZS5tZW1vcnk9ZnVuY3Rpb24oKXtyZXR1cm57dW5yZWxpYWJsZTohMSxudW1CeXRlc0luR1BVOnRoaXMubnVtQnl0ZXNJbkdQVX19LG8ucHJvdG90eXBlLnN0YXJ0VGltZXI9ZnVuY3Rpb24oKXtyZXR1cm4gaSgpLmdldE51bWJlcihcIldFQkdMX0RJU0pPSU5UX1FVRVJZX1RJTUVSX0VYVEVOU0lPTl9SRUxJQUJMRVwiKT4wP3RoaXMuZ3BncHUuYmVnaW5RdWVyeSgpOntzdGFydE1zOmV0KCksZW5kTXM6bnVsbH19LG8ucHJvdG90eXBlLmVuZFRpbWVyPWZ1bmN0aW9uKHQpe3JldHVybiBpKCkuZ2V0TnVtYmVyKFwiV0VCR0xfRElTSk9JTlRfUVVFUllfVElNRVJfRVhURU5TSU9OX1JFTElBQkxFXCIpPjA/KHRoaXMuZ3BncHUuZW5kUXVlcnkoKSx0KToodC5lbmRNcz1ldCgpLHQpfSxvLnByb3RvdHlwZS5nZXRRdWVyeVRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKG4pe3JldHVybiBpKCkuZ2V0TnVtYmVyKFwiV0VCR0xfRElTSk9JTlRfUVVFUllfVElNRVJfRVhURU5TSU9OX1JFTElBQkxFXCIpPjA/WzIsdGhpcy5ncGdwdS53YWl0Rm9yUXVlcnlBbmRHZXRUaW1lKHQpXTpbMiwoZT10KS5lbmRNcy1lLnN0YXJ0TXNdfSkpfSkpfSxvLnByb3RvdHlwZS5kaXNwb3NlRGF0YT1mdW5jdGlvbih0KXtpZighdGhpcy5wZW5kaW5nRGlzcG9zYWwuaGFzKHQpKXtpZih0aGlzLnBlbmRpbmdSZWFkLmhhcyh0KSlyZXR1cm4gdGhpcy5wZW5kaW5nRGlzcG9zYWwuYWRkKHQpLHZvaWQgdGhpcy5wZW5kaW5nRGVsZXRlcysrO2lmKHRoaXMudGV4RGF0YS5oYXModCkpe3RoaXMucmVsZWFzZUdQVURhdGEodCk7dmFyIGU9dGhpcy50ZXhEYXRhLmdldCh0KS5jb21wbGV4VGVuc29ycztudWxsIT1lJiYoZS5yZWFsLmRpc3Bvc2UoKSxlLmltYWcuZGlzcG9zZSgpKSx0aGlzLnRleERhdGEuZGVsZXRlKHQpfX19LG8ucHJvdG90eXBlLnJlbGVhc2VHUFVEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudGV4RGF0YS5nZXQodCksbj1lLnRleHR1cmUscj1lLmR0eXBlLG89ZS50ZXhTaGFwZSxhPWUudXNhZ2UsaT1lLmlzUGFja2VkLHM9ZS5zbGljZSx1PXMmJnMub3JpZ0RhdGFJZHx8dCxjPXRoaXMuZGF0YVJlZkNvdW50LmdldCh1KTtjPjE/dGhpcy5kYXRhUmVmQ291bnQuc2V0KHUsYy0xKToodGhpcy5kYXRhUmVmQ291bnQuZGVsZXRlKHUpLG51bGwhPW4mJih0aGlzLm51bUJ5dGVzSW5HUFUtPXRoaXMuY29tcHV0ZUJ5dGVzKG8sciksdGhpcy50ZXh0dXJlTWFuYWdlci5yZWxlYXNlVGV4dHVyZShuLG8sYSxpKSkpO3ZhciBsPXRoaXMudGV4RGF0YS5nZXQodCk7bC50ZXh0dXJlPW51bGwsbC50ZXhTaGFwZT1udWxsLGwuaXNQYWNrZWQ9ITEsbC5zbGljZT1udWxsfSxvLnByb3RvdHlwZS5nZXRUZXh0dXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnVwbG9hZFRvR1BVKHQpLHRoaXMudGV4RGF0YS5nZXQodCkudGV4dHVyZX0sby5wcm90b3R5cGUuZ2V0RGF0YUluZm89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4RGF0YS5nZXQodCl9LG8ucHJvdG90eXBlLmdldENQVUJhY2tlbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gaSgpLmdldEJvb2woXCJXRUJHTF9DUFVfRk9SV0FSRFwiKT8obnVsbD09dGhpcy5jcHVCYWNrZW5kJiYodGhpcy5jcHVCYWNrZW5kPUx0LmZpbmRCYWNrZW5kKFwiY3B1XCIpKSx0aGlzLmNwdUJhY2tlbmQpOm51bGx9LG8ucHJvdG90eXBlLnNob3VsZEV4ZWN1dGVPbkNQVT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEyOCksbnVsbCE9dGhpcy5nZXRDUFVCYWNrZW5kKCkmJnQuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT1uLnRleERhdGEuZ2V0KHQuZGF0YUlkKS50ZXh0dXJlJiZrKHQuc2hhcGUpPGV9KSl9LG8ucHJvdG90eXBlLmdldEdQR1BVQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdwZ3B1fSxvLnByb3RvdHlwZS5jb21wbGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5tYWtlT3V0cHV0KHQuc2hhcGUsXCJjb21wbGV4NjRcIik7cmV0dXJuIHRoaXMudGV4RGF0YS5nZXQobi5kYXRhSWQpLmNvbXBsZXhUZW5zb3JzPXtyZWFsOkx0LmtlZXAodC5jbG9uZSgpKSxpbWFnOkx0LmtlZXAoZS5jbG9uZSgpKX0sbn0sby5wcm90b3R5cGUucmVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50ZXhEYXRhLmdldCh0LmRhdGFJZCkuY29tcGxleFRlbnNvcnMucmVhbC5jbG9uZSgpfSxvLnByb3RvdHlwZS5pbWFnPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRleERhdGEuZ2V0KHQuZGF0YUlkKS5jb21wbGV4VGVuc29ycy5pbWFnLmNsb25lKCl9LG8ucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdF0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQuc2xpY2UodCxlLG4pO2lmKDA9PT1rKG4pKXJldHVybiBGbihbXSxuLHQuZHR5cGUpO3ZhciByPXRoaXMudGV4RGF0YS5nZXQodC5kYXRhSWQpLmlzUGFja2VkLG89JG8odC5zaGFwZSxlLG4pO2lmKHJ8fCFvKXt2YXIgYT1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQVJSQVlfT1BFUkFUSU9OU1wiKT9uZXcgZXUobik6bmV3IFpzKG4pLHM9YS5nZXRDdXN0b21TZXR1cEZ1bmMoZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihhLFt0XSxudWxsLHMpfXJldHVybiB0aGlzLnVwbG9hZFRvR1BVKHQuZGF0YUlkKSx0aGlzLnNoYWxsb3dTbGljZSh0LGUsbil9LG8ucHJvdG90eXBlLnNoYWxsb3dTbGljZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy50ZXhEYXRhLmdldCh0LmRhdGFJZCksbz10aGlzLm1ha2VPdXRwdXQobix0LmR0eXBlKSxhPXRoaXMudGV4RGF0YS5nZXQoby5kYXRhSWQpO09iamVjdC5hc3NpZ24oYSxyKSxhLnNoYXBlPW4sYS5kdHlwZT10LmR0eXBlO3ZhciBpPVFvKGUsdC5zdHJpZGVzKTtyLnNsaWNlJiYoaSs9ci5zbGljZS5mbGF0T2Zmc2V0KSxhLnNsaWNlPXtmbGF0T2Zmc2V0Omksb3JpZ0RhdGFJZDpyLnNsaWNlJiZyLnNsaWNlLm9yaWdEYXRhSWR8fHQuZGF0YUlkfTt2YXIgcz10aGlzLmRhdGFSZWZDb3VudC5nZXQoYS5zbGljZS5vcmlnRGF0YUlkKXx8MTtyZXR1cm4gdGhpcy5kYXRhUmVmQ291bnQuc2V0KGEuc2xpY2Uub3JpZ0RhdGFJZCxzKzEpLG99LG8ucHJvdG90eXBlLnN0cmlkZWRTbGljZT1mdW5jdGlvbih0LGUsbixyKXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdF0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQuc3RyaWRlZFNsaWNlKHQsZSxuLHIpO3ZhciBvPWpvKGUsbixyKTtpZihvLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dH0pKSlyZXR1cm4gRm4oW10sbyk7dmFyIGE9bmV3IG51KGUscixvKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGEsW3RdKX0sby5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbih0LGUpe3ZhciBuPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19BUlJBWV9PUEVSQVRJT05TXCIpP25ldyBZcyh0LnNoYXBlLGUpOm5ldyBYcyh0LnNoYXBlLGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdF0pfSxvLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24odCxlKXtpZihcImNvbXBsZXg2NFwiPT09dFswXS5kdHlwZSl7dmFyIG49dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBEbih0KX0pKSxyPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gTm4odCl9KSk7cmV0dXJuIFRuKHRoaXMuY29uY2F0KG4sZSksdGhpcy5jb25jYXQocixlKSl9aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUodCkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5jb25jYXQodCxlKTtpZigxPT09dC5sZW5ndGgpcmV0dXJuIHRbMF07aWYodC5sZW5ndGg+aSgpLmdldE51bWJlcihcIldFQkdMX01BWF9URVhUVVJFU19JTl9TSEFERVJcIikpe3ZhciBvPU1hdGguZmxvb3IodC5sZW5ndGgvMiksYT10aGlzLmNvbmNhdCh0LnNsaWNlKDAsbyksZSkscz10aGlzLmNvbmNhdCh0LnNsaWNlKG8pLGUpO3JldHVybiB0aGlzLmNvbmNhdChbYSxzXSxlKX1pZihpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQVJSQVlfT1BFUkFUSU9OU1wiKSYmdFswXS5yYW5rPjEpe3ZhciB1PW5ldyBGaSh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hhcGV9KSksZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bih1LHQpfXZhciBjPVNuKHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGFwZX0pKSxlKSxsPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hczJEKC0xLGsodC5zaGFwZS5zbGljZShlKSkpfSkpLGg9bmV3IE5pKGwubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGFwZX0pKSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihoLGwpLnJlc2hhcGUoYyl9LG8ucHJvdG90eXBlLm5lZz1mdW5jdGlvbih0KXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdF0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQubmVnKHQpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19VTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZFVuYXJ5T3AodCxtdSx0LmR0eXBlKTt2YXIgZT1uZXcgY3UodC5zaGFwZSxtdSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmJhdGNoTWF0TXVsPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPW4/dC5zaGFwZVsyXTp0LnNoYXBlWzFdLGE9cj9lLnNoYXBlWzFdOmUuc2hhcGVbMl0saT1uP3Quc2hhcGVbMV06dC5zaGFwZVsyXSxzPXQuc2hhcGVbMF07aWYoKDE9PT1vfHwxPT09YSkmJmk+MWUzKXtuJiYodD11YSh0LFswLDIsMV0pKSxyJiYoZT11YShlLFswLDIsMV0pKTt2YXIgdT0xPT09YT90OnQuYXMzRChzLGksMSksYz0xPT09YT8yOjEsbD0xPT09YT9lLmFzM0QocywxLGkpOmU7cmV0dXJuIHRoaXMubXVsdGlwbHkodSxsKS5zdW0oYywhMCl9dmFyIGg9VHQodC5kdHlwZSxlLmR0eXBlKSxmPW5ldyBfcyh0LnNoYXBlLFtzLG8sYV0sbixyKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGYsW3QsZV0saCl9LG8ucHJvdG90eXBlLmZ1c2VkQmF0Y2hNYXRNdWw9ZnVuY3Rpb24odCl7dmFyIGU9dC5hLG49dC5iLHI9dC50cmFuc3Bvc2VBLG89dC50cmFuc3Bvc2VCLGE9dC5iaWFzLGk9dC5hY3RpdmF0aW9uLHM9dC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzLHU9cj9lLnNoYXBlWzJdOmUuc2hhcGVbMV0sYz1vP24uc2hhcGVbMV06bi5zaGFwZVsyXSxsPWUuc2hhcGVbMF0saD1UdChlLmR0eXBlLG4uZHR5cGUpLGY9bnVsbCE9YSxkPW51bGwhPXMscD1pP0x1KGksITApOm51bGwsdj1uZXcgX3MoZS5zaGFwZSxbbCx1LGNdLHIsbyxmLHAsZCksZz1bZSxuXTtyZXR1cm4gYSYmZy5wdXNoKGEpLHMmJmcucHVzaChzKSx0aGlzLmNvbXBpbGVBbmRSdW4odixnLGgpfSxvLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbih0LGUpe2lmKFwiY29tcGxleDY0XCI9PT10LmR0eXBlKXt2YXIgbj10aGlzLnRleERhdGEuZ2V0KHQuZGF0YUlkKSxyPXRoaXMudGV4RGF0YS5nZXQoZS5kYXRhSWQpLG89bmV3IHlpKGdpLHQuc2hhcGUsZS5zaGFwZSksYT1uZXcgeWkobWksdC5zaGFwZSxlLnNoYXBlKSxzPVt0aGlzLm1ha2VDb21wbGV4Q29tcG9uZW50VGVuc29ySW5mbyh0LG4uY29tcGxleFRlbnNvcnMucmVhbCksdGhpcy5tYWtlQ29tcGxleENvbXBvbmVudFRlbnNvckluZm8odCxuLmNvbXBsZXhUZW5zb3JzLmltYWcpLHRoaXMubWFrZUNvbXBsZXhDb21wb25lbnRUZW5zb3JJbmZvKGUsci5jb21wbGV4VGVuc29ycy5yZWFsKSx0aGlzLm1ha2VDb21wbGV4Q29tcG9uZW50VGVuc29ySW5mbyhlLHIuY29tcGxleFRlbnNvcnMuaW1hZyldLHU9dGhpcy5jb21waWxlQW5kUnVuKG8scyksYz10aGlzLmNvbXBpbGVBbmRSdW4oYSxzKSxsPXRoaXMuY29tcGxleCh1LGMpO3JldHVybiB1LmRpc3Bvc2UoKSxjLmRpc3Bvc2UoKSxsfWlmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0LGVdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLm11bHRpcGx5KHQsZSk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZEJpbmFyeU9wKHQsZSx3aSx0LmR0eXBlKTt2YXIgaD1uZXcgUmkod2ksdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGgsW3QsZV0sdC5kdHlwZSl9LG8ucHJvdG90eXBlLmJhdGNoTm9ybWFsaXphdGlvbj1mdW5jdGlvbih0LGUsbixyLG8sYSl7dmFyIHM9W3QsZSxuXSx1PW51bGw7bnVsbCE9YSYmKHU9YS5zaGFwZSxzLnB1c2goYSkpO3ZhciBjPW51bGw7aWYobnVsbCE9byYmKGM9by5zaGFwZSxzLnB1c2gobykpLGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19OT1JNQUxJWkFUSU9OXCIpKXt2YXIgbD1uZXcgdmkodC5zaGFwZSxlLnNoYXBlLG4uc2hhcGUsdSxjLHIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obCxzKX12YXIgaD1uZXcgcGkodC5zaGFwZSxlLnNoYXBlLG4uc2hhcGUsdSxjLHIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oaCxzKX0sby5wcm90b3R5cGUubG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb240RD1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBhPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19OT1JNQUxJWkFUSU9OXCIpP25ldyBEcyh0LnNoYXBlLGUsbixyLG8pOm5ldyBBcyh0LnNoYXBlLGUsbixyLG8pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oYSxbdF0pfSxvLnByb3RvdHlwZS5MUk5HcmFkPWZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkpe3ZhciBzPW5ldyBUcyhlLnNoYXBlLHIsbyxhLGkpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocyxbZSxuLHRdKX0sby5wcm90b3R5cGUudGlsZT1mdW5jdGlvbih0LGUpe2lmKFwic3RyaW5nXCI9PT10LmR0eXBlKXt2YXIgbj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBvdCh0KX0pKTtyZXR1cm4gVmEoZXIodC5zaGFwZSx0LmR0eXBlLG4pLGUpfXZhciByPW5ldyBpdSh0LnNoYXBlLGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdF0pfSxvLnByb3RvdHlwZS5wYWQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19BUlJBWV9PUEVSQVRJT05TXCIpP25ldyBMcyh0LnNoYXBlLGUsbik6bmV3IFBzKHQuc2hhcGUsZSxuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3RdKX0sby5wcm90b3R5cGUuZ2F0aGVyPWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdCxlXSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5nYXRoZXIodCxlLG4pO3ZhciByPW5ldyBhcyh0LnNoYXBlLGUuc2l6ZSxuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3QsZV0pfSxvLnByb3RvdHlwZS5iYXRjaFRvU3BhY2VORD1mdW5jdGlvbih0LGUsbil7Qyh0LnJhbms8PTQsKGZ1bmN0aW9uKCl7cmV0dXJuXCJiYXRjaFRvU3BhY2VORCBmb3IgcmFuayA+IDQgd2l0aCBhIFdlYkdMIGJhY2tlbmQgbm90IGltcGxlbWVudGVkIHlldFwifSkpO3ZhciByPWUucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0KmV9KSksbz1wcih0LnNoYXBlLGUsciksYT12cihvLmxlbmd0aCxlLmxlbmd0aCksaT1ncih0LnNoYXBlLGUscikscz1tcihuLGUubGVuZ3RoKSx1PXlyKGksbixlLmxlbmd0aCk7cmV0dXJuIHVhKHQucmVzaGFwZShvKSxhKS5yZXNoYXBlKGkpLnNsaWNlKHMsdSl9LG8ucHJvdG90eXBlLnNwYWNlVG9CYXRjaE5EPWZ1bmN0aW9uKHQsZSxuKXtDKHQucmFuazw9NCwoZnVuY3Rpb24oKXtyZXR1cm5cInNwYWNlVG9CYXRjaE5EIGZvciByYW5rID4gNCB3aXRoIGEgV2ViR0wgYmFja2VuZCBub3QgaW1wbGVtZW50ZWQgeWV0XCJ9KSk7dmFyIHI9ZS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZX0pKSxvPVtbMCwwXV07by5wdXNoLmFwcGx5KG8sbik7Zm9yKHZhciBhPTErZS5sZW5ndGg7YTx0LnNoYXBlLmxlbmd0aDsrK2Epby5wdXNoKFswLDBdKTt2YXIgaT10LnBhZChvKSxzPXByKGkuc2hhcGUsZSxyLCExKSx1PXZyKHMubGVuZ3RoLGUubGVuZ3RoLCExKSxjPWdyKGkuc2hhcGUsZSxyLCExKTtyZXR1cm4gdWEoaS5yZXNoYXBlKHMpLHUpLnJlc2hhcGUoYyl9LG8ucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5zaGFwZVswXSxvPXQuc2hhcGVbMV0sYT1VbyhvKSxpPW5ldyBWcyh7d2luZG93U2l6ZTphLGluU2l6ZTpvLGJhdGNoU2l6ZTpyfSxlKSxzPXRoaXMuY29tcGlsZUFuZFJ1bihpLFt0XSxuKTtyZXR1cm4gMT09PXMuc2hhcGVbMV0/czp0aGlzLnJlZHVjZShzLGUsbil9LG8ucHJvdG90eXBlLmFyZ1JlZHVjZT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49bnVsbCk7dmFyIHI9dC5zaGFwZVswXSxvPXQuc2hhcGVbMV07bnVsbCE9biYmKHI9bi5zaGFwZVswXSxvPW4uc2hhcGVbMV0pO3ZhciBhPVVvKG8pLGk9bmV3IEthKHt3aW5kb3dTaXplOmEsaW5TaXplOm8sYmF0Y2hTaXplOnJ9LGUsbnVsbD09bikscz1bdF07bnVsbCE9biYmcy5wdXNoKG4pO3ZhciB1PXRoaXMuY29tcGlsZUFuZFJ1bihpLHMsXCJpbnQzMlwiKTtyZXR1cm4gMT09PXUuc2hhcGVbMV0/dTp0aGlzLmFyZ1JlZHVjZSh0LGUsdSl9LG8ucHJvdG90eXBlLmFyZ1JlZHVjZVBhY2tlZD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49bnVsbCk7dmFyIHI9bnVsbCE9bj9uLnNoYXBlOnQuc2hhcGUsbz1VbyhyW3IubGVuZ3RoLTFdKSxhPW5ldyBoaShyLG8sZSxudWxsPT1uKSxpPW51bGw9PW4/W3RdOlt0LG5dLHM9dGhpcy5jb21waWxlQW5kUnVuKGEsaSxcImludDMyXCIpO3JldHVybiBzLnJhbms9PT10LnJhbms/dGhpcy5hcmdSZWR1Y2VQYWNrZWQodCxlLHMpOnN9LG8ucHJvdG90eXBlLnN1bT1mdW5jdGlvbih0LGUpe0NuKFwic3VtXCIsZSx0LnJhbmspO3ZhciBuPWJuKHQuc2hhcGUsZSkscj1uWzBdLG89ayhuWzFdKSxhPXQuYXMyRCgtMSxvKSxpPUR0KHQuZHR5cGUpO3JldHVybiB0aGlzLnJlZHVjZShhLFwic3VtXCIsaSkucmVzaGFwZShyKX0sby5wcm90b3R5cGUucHJvZD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0XSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5wcm9kKHQsZSk7dmFyIG49Ym4odC5zaGFwZSxlKSxyPW5bMF0sbz1rKG5bMV0pLGE9dC5hczJEKC0xLG8pLGk9RHQodC5kdHlwZSk7cmV0dXJuIHRoaXMucmVkdWNlKGEsXCJwcm9kXCIsaSkucmVzaGFwZShyKX0sby5wcm90b3R5cGUudW5zb3J0ZWRTZWdtZW50U3VtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0wLG89RW4oW3JdLHQucmFuayksYT10O251bGwhPW8mJihhPXVhKHQsbykscj1JbigxLHQucmFuaylbMF0pO3ZhciBpPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9W10sbz10Lmxlbmd0aCxhPTA7YTxvO2ErKylhIT09ZT9yLnB1c2godFthXSk6ci5wdXNoKG4pO3JldHVybiByfShhLnNoYXBlLHIsbikscz1rKFthLnNoYXBlW3JdXSksdT1hLmFzMkQoLTEscyksYz1EdCh0LmR0eXBlKSxsPXRoaXMuc2VnT3BDb21wdXRlKHUsXCJ1bnNvcnRlZFNlZ21lbnRTdW1cIixlLGMsbikucmVzaGFwZShpKTtyZXR1cm4gbnVsbCE9byYmKGw9dWEobCxSbihvKSkpLGx9LG8ucHJvdG90eXBlLnNlZ09wQ29tcHV0ZT1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBhPXQuc2hhcGVbMF0saT10LnNoYXBlWzFdLHM9ZnVuY3Rpb24odCxlKXt2YXIgbixyPSExO2Zvcih0PD1Xbz8obj10LHI9ITApOm49WSh0LE1hdGguZmxvb3IoTWF0aC5zcXJ0KHQpKSk7IXI7KW4+ZXx8bj09PXQ/cj0hMDpuPVkodCxuKzEpO3JldHVybiBufShpLG8pLHU9bmV3IFFzKHt3aW5kb3dTaXplOnMsaW5TaXplOmksYmF0Y2hTaXplOmEsbnVtU2VnbWVudHM6b30sZSksYz10aGlzLmNvbXBpbGVBbmRSdW4odSxbdCxuXSxyKTtyZXR1cm4gYy5zaGFwZVsxXT09PW8/Yzoobj1LbigwLG8pLnRpbGUoW2kvc10pLHRoaXMuc2VnT3BDb21wdXRlKGMsZSxuLHIsbykpfSxvLnByb3RvdHlwZS5hcmdNaW5NYXhSZWR1Y2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVtlXTtpZihDbihcImFyZ1wiK24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxyLHQucmFuayksIWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19SRURVQ0VcIil8fHQucmFuazw9Mil7dmFyIG89Ym4odC5zaGFwZSxyKSxhPW9bMF0scz1rKG9bMV0pLHU9dC5hczJEKC0xLHMpO3JldHVybiB0aGlzLmFyZ1JlZHVjZSh1LG4pLnJlc2hhcGUoYSl9cmV0dXJuIHRoaXMuYXJnUmVkdWNlUGFja2VkKHQsbil9LG8ucHJvdG90eXBlLmFyZ01pbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFyZ01pbk1heFJlZHVjZSh0LGUsXCJtaW5cIil9LG8ucHJvdG90eXBlLmFyZ01heD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFyZ01pbk1heFJlZHVjZSh0LGUsXCJtYXhcIil9LG8ucHJvdG90eXBlLmN1bXN1bT1mdW5jdGlvbih0LGUsbixyKXtpZihlIT09dC5yYW5rLTEpdGhyb3cgbmV3IEVycm9yKFwiV2ViR0wgY3Vtc3VtIHNoYWRlciBleHBlY3RzIGFuIGlubmVyLW1vc3QgYXhpcz1cIisodC5yYW5rLTEpK1wiIGJ1dCBnb3QgYXhpcz1cIitlKTt2YXIgbz1uZXcgcWkodC5zaGFwZSxuLHIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obyxbdF0pfSxvLnByb3RvdHlwZS5lcXVhbD1mdW5jdGlvbih0LGUpe2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsXCJcXG4gIHJldHVybiB2ZWM0KGVxdWFsKGEsIGIpKTtcXG5cIixcImJvb2xcIik7dmFyIG49bmV3IFJpKFwicmV0dXJuIGZsb2F0KGEgPT0gYik7XCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0sXCJib29sXCIpfSxvLnByb3RvdHlwZS5ub3RFcXVhbD1mdW5jdGlvbih0LGUpe2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsXCJcXG4gIHJldHVybiB2ZWM0KG5vdEVxdWFsKGEsIGIpKTtcXG5cIixcImJvb2xcIik7dmFyIG49bmV3IFJpKFwicmV0dXJuIGZsb2F0KGEgIT0gYik7XCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0sXCJib29sXCIpfSxvLnByb3RvdHlwZS5sZXNzPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3QsZV0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQubGVzcyh0LGUpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsXCJcXG4gIHJldHVybiB2ZWM0KGxlc3NUaGFuKGEsIGIpKTtcXG5cIixcImJvb2xcIik7dmFyIG49bmV3IFJpKFwicmV0dXJuIGZsb2F0KGEgPCBiKTtcIix0LnNoYXBlLGUuc2hhcGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdCxlXSxcImJvb2xcIil9LG8ucHJvdG90eXBlLmxlc3NFcXVhbD1mdW5jdGlvbih0LGUpe2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsXCJcXG4gIHJldHVybiB2ZWM0KGxlc3NUaGFuRXF1YWwoYSwgYikpO1xcblwiLFwiYm9vbFwiKTt2YXIgbj1uZXcgUmkoXCJyZXR1cm4gZmxvYXQoYSA8PSBiKTtcIix0LnNoYXBlLGUuc2hhcGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdCxlXSxcImJvb2xcIil9LG8ucHJvdG90eXBlLmdyZWF0ZXI9ZnVuY3Rpb24odCxlKXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdCxlXSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5ncmVhdGVyKHQsZSk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZEJpbmFyeU9wKHQsZSxcIlxcbiAgcmV0dXJuIHZlYzQoZ3JlYXRlclRoYW4oYSwgYikpO1xcblwiLFwiYm9vbFwiKTt2YXIgbj1uZXcgUmkoXCJyZXR1cm4gZmxvYXQoYSA+IGIpO1wiLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdLFwiYm9vbFwiKX0sby5wcm90b3R5cGUuZ3JlYXRlckVxdWFsPWZ1bmN0aW9uKHQsZSl7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZEJpbmFyeU9wKHQsZSxcIlxcbiAgcmV0dXJuIHZlYzQoZ3JlYXRlclRoYW5FcXVhbChhLCBiKSk7XFxuXCIsXCJib29sXCIpO3ZhciBuPW5ldyBSaShcInJldHVybiBmbG9hdChhID49IGIpO1wiLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdLFwiYm9vbFwiKX0sby5wcm90b3R5cGUubG9naWNhbE5vdD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgY3UodC5zaGFwZSxcInJldHVybiBmbG9hdCghKHggPj0gMS4wKSk7XCIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5sb2dpY2FsQW5kPWZ1bmN0aW9uKHQsZSl7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZEJpbmFyeU9wKHQsZSxcIlxcbiAgcmV0dXJuIHZlYzQoXFxuICAgIHZlYzQoZ3JlYXRlclRoYW5FcXVhbChhLCB2ZWM0KDEuMCkpKSAqXFxuICAgIHZlYzQoZ3JlYXRlclRoYW5FcXVhbChiLCB2ZWM0KDEuMCkpKSk7XFxuXCIsXCJib29sXCIpO3ZhciBuPW5ldyBSaShcInJldHVybiBmbG9hdChhID49IDEuMCAmJiBiID49IDEuMCk7XCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0sXCJib29sXCIpfSxvLnByb3RvdHlwZS5sb2dpY2FsT3I9ZnVuY3Rpb24odCxlKXtpZihpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQklOQVJZX09QRVJBVElPTlNcIikpcmV0dXJuIHRoaXMucGFja2VkQmluYXJ5T3AodCxlLFwiXFxuICByZXR1cm4gbWluKFxcbiAgICB2ZWM0KGdyZWF0ZXJUaGFuRXF1YWwoYSwgdmVjNCgxLjApKSkgK1xcbiAgICB2ZWM0KGdyZWF0ZXJUaGFuRXF1YWwoYiwgdmVjNCgxLjApKSksXFxuICAgIHZlYzQoMS4wKSk7XFxuXCIsXCJib29sXCIpO3ZhciBuPW5ldyBSaShcInJldHVybiBmbG9hdChhID49IDEuMCB8fCBiID49IDEuMCk7XCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0sXCJib29sXCIpfSxvLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBKcyh0LnJhbmssZS5zaGFwZSxlLnJhbmspO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlLG5dLFR0KGUuZHR5cGUsbi5kdHlwZSkpfSxvLnByb3RvdHlwZS53aGVyZT1mdW5jdGlvbih0KXtkbihcInRmLndoZXJlKCkgaW4gd2ViZ2wgbG9ja3MgdGhlIFVJIHRocmVhZC4gQ2FsbCB0Zi53aGVyZUFzeW5jKCkgaW5zdGVhZFwiKTt2YXIgZT10LmRhdGFTeW5jKCk7cmV0dXJuIEdhKHQuc2hhcGUsZSl9LG8ucHJvdG90eXBlLnRvcGs9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB6YSh0LmRhdGFTeW5jKCksdC5zaGFwZSx0LmR0eXBlLGUpfSxvLnByb3RvdHlwZS5taW49ZnVuY3Rpb24odCxlKXtDbihcIm1pblwiLGUsdC5yYW5rKTt2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPWsoblsxXSksYT10LmFzMkQoLTEsbyk7cmV0dXJuIHRoaXMucmVkdWNlKGEsXCJtaW5cIixhLmR0eXBlKS5yZXNoYXBlKHIpfSxvLnByb3RvdHlwZS5taW5pbXVtPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3QsZV0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQubWluaW11bSh0LGUpO3ZhciBuPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKT9uZXcgU2koXCJcXG4gIHZlYzQgcmVzdWx0ID0gdmVjNChtaW4oYSwgYikpO1xcbiAgdmVjNCBpc05hTiA9IG1pbih2ZWM0KGlzbmFuKGEpKSArIHZlYzQoaXNuYW4oYikpLCB2ZWM0KDEuMCkpO1xcbiAgXFxuICByZXN1bHQuciA9IGlzTmFOLnIgPiAwLiA/IE5BTiA6IHJlc3VsdC5yO1xcbiAgcmVzdWx0LmcgPSBpc05hTi5nID4gMC4gPyBOQU4gOiByZXN1bHQuZztcXG4gIHJlc3VsdC5iID0gaXNOYU4uYiA+IDAuID8gTkFOIDogcmVzdWx0LmI7XFxuICByZXN1bHQuYSA9IGlzTmFOLmEgPiAwLiA/IE5BTiA6IHJlc3VsdC5hO1xcblxcbiAgcmV0dXJuIHJlc3VsdDtcXG5cIix0LnNoYXBlLGUuc2hhcGUpOm5ldyBSaShcIlxcbiAgaWYgKGlzbmFuKGEpKSByZXR1cm4gYTtcXG4gIGlmIChpc25hbihiKSkgcmV0dXJuIGI7XFxuXFxuICByZXR1cm4gbWluKGEsIGIpO1xcblwiLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdKX0sby5wcm90b3R5cGUubW9kPWZ1bmN0aW9uKHQsZSl7dmFyIG49aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpP25ldyBTaShcIlxcbiAgdmVjNCByZXN1bHQgPSBtb2QoYSwgYik7XFxuICB2ZWM0IGlzTmFOID0gdmVjNChlcXVhbChiLCB2ZWM0KDAuMCkpKTtcXG4gIFxcbiAgcmVzdWx0LnIgPSBpc05hTi5yID4gMC4gPyBOQU4gOiByZXN1bHQucjtcXG4gIHJlc3VsdC5nID0gaXNOYU4uZyA+IDAuID8gTkFOIDogcmVzdWx0Lmc7XFxuICByZXN1bHQuYiA9IGlzTmFOLmIgPiAwLiA/IE5BTiA6IHJlc3VsdC5iO1xcbiAgcmVzdWx0LmEgPSBpc05hTi5hID4gMC4gPyBOQU4gOiByZXN1bHQuYTtcXG5cXG4gIHJldHVybiByZXN1bHQ7XFxuXCIsdC5zaGFwZSxlLnNoYXBlKTpuZXcgUmkoXCJpZiAoYiA9PSAwLjApIHJldHVybiBOQU47XFxuICByZXR1cm4gbW9kKGEsIGIpO1wiLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdKX0sby5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLm1heCh0LGUpO0NuKFwibWF4XCIsZSx0LnJhbmspO3ZhciBuPWJuKHQuc2hhcGUsZSkscj1uWzBdLG89ayhuWzFdKSxhPXQuYXMyRCgtMSxvKTtyZXR1cm4gdGhpcy5yZWR1Y2UoYSxcIm1heFwiLGEuZHR5cGUpLnJlc2hhcGUocil9LG8ucHJvdG90eXBlLm1heGltdW09ZnVuY3Rpb24odCxlKXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdCxlXSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5tYXhpbXVtKHQsZSk7dmFyIG49aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpP25ldyBTaShcIlxcbiAgdmVjNCByZXN1bHQgPSB2ZWM0KG1heChhLCBiKSk7XFxuICB2ZWM0IGlzTmFOID0gbWluKHZlYzQoaXNuYW4oYSkpICsgdmVjNChpc25hbihiKSksIHZlYzQoMS4wKSk7XFxuICBcXG4gIHJlc3VsdC5yID0gaXNOYU4uciA+IDAuID8gTkFOIDogcmVzdWx0LnI7XFxuICByZXN1bHQuZyA9IGlzTmFOLmcgPiAwLiA/IE5BTiA6IHJlc3VsdC5nO1xcbiAgcmVzdWx0LmIgPSBpc05hTi5iID4gMC4gPyBOQU4gOiByZXN1bHQuYjtcXG4gIHJlc3VsdC5hID0gaXNOYU4uYSA+IDAuID8gTkFOIDogcmVzdWx0LmE7XFxuXFxuICByZXR1cm4gcmVzdWx0O1xcblwiLHQuc2hhcGUsZS5zaGFwZSk6bmV3IFJpKFwiXFxuICBpZiAoaXNuYW4oYSkpIHJldHVybiBhO1xcbiAgaWYgKGlzbmFuKGIpKSByZXR1cm4gYjtcXG5cXG4gIHJldHVybiBtYXgoYSwgYik7XFxuXCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0pfSxvLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24odCxlKXtDbihcImFsbFwiLGUsdC5yYW5rKTt2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPWsoblsxXSksYT10LmFzMkQoLTEsbyk7cmV0dXJuIHRoaXMucmVkdWNlKGEsXCJhbGxcIixhLmR0eXBlKS5yZXNoYXBlKHIpfSxvLnByb3RvdHlwZS5hbnk9ZnVuY3Rpb24odCxlKXtDbihcImFueVwiLGUsdC5yYW5rKTt2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPWsoblsxXSksYT10LmFzMkQoLTEsbyk7cmV0dXJuIHRoaXMucmVkdWNlKGEsXCJhbnlcIixhLmR0eXBlKS5yZXNoYXBlKHIpfSxvLnByb3RvdHlwZS5mbG9vckRpdj1mdW5jdGlvbih0LGUpe2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsXCJcXG4gIGl2ZWM0IGlhID0gcm91bmQoYSk7XFxuICBpdmVjNCBpYiA9IHJvdW5kKGIpO1xcbiAgYnZlYzQgY29uZCA9IG5vdEVxdWFsKGliLCBpdmVjNCgwKSk7XFxuICBpdmVjNCByZXN1bHQgPSBpdmVjNCgwKTtcXG4gIHZlYzQgcyA9IHNpZ24oYSkgKiBzaWduKGIpO1xcblxcbiAgLy8gV2luZG93cyAoRDNEKSB3YW50cyBndWFyYW50ZWVkIG5vbi16ZXJvIGludCBkaXZpc2lvbiBhdCBjb21waWxlLXRpbWUuXFxuICBpZiAoY29uZFswXSkge1xcbiAgICByZXN1bHRbMF0gPSBpZGl2KGlhWzBdLCBpYlswXSwgc1swXSk7XFxuICB9XFxuICBpZiAoY29uZFsxXSkge1xcbiAgICByZXN1bHRbMV0gPSBpZGl2KGlhWzFdLCBpYlsxXSwgc1sxXSk7XFxuICB9XFxuICBpZiAoY29uZFsyXSkge1xcbiAgICByZXN1bHRbMl0gPSBpZGl2KGlhWzJdLCBpYlsyXSwgc1syXSk7XFxuICB9XFxuICBpZiAoY29uZFszXSkge1xcbiAgICByZXN1bHRbM10gPSBpZGl2KGlhWzNdLCBpYlszXSwgc1szXSk7XFxuICB9XFxuICByZXR1cm4gdmVjNChyZXN1bHQpO1xcblwiLFwiaW50MzJcIik7dmFyIG49bmV3IFJpKFwiXFxuICBmbG9hdCBzID0gc2lnbihhKSAqIHNpZ24oYik7XFxuICBpbnQgaWEgPSByb3VuZChhKTtcXG4gIGludCBpYiA9IHJvdW5kKGIpO1xcbiAgaWYgKGliICE9IDApIHtcXG4gICAgLy8gV2luZG93cyAoRDNEKSB3YW50cyBndWFyYW50ZWVkIG5vbi16ZXJvIGludCBkaXZpc2lvbiBhdCBjb21waWxlLXRpbWUuXFxuICAgIHJldHVybiBmbG9hdChpZGl2KGlhLCBpYiwgcykpO1xcbiAgfSBlbHNlIHtcXG4gICAgcmV0dXJuIE5BTjtcXG4gIH1cXG5cIix0LnNoYXBlLGUuc2hhcGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdCxlXSxcImludDMyXCIpfSxvLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXtpZihcImNvbXBsZXg2NFwiPT09dC5kdHlwZSYmXCJjb21wbGV4NjRcIj09PWUuZHR5cGUpcmV0dXJuIHRoaXMuY29tcGxleFNlcGFyYWJsZUJpbmFyeU9wKHQsZSx4aSk7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3QsZV0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQuYWRkKHQsZSk7dmFyIG49VHQodC5kdHlwZSxlLmR0eXBlKTtpZihpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQklOQVJZX09QRVJBVElPTlNcIikpcmV0dXJuIHRoaXMucGFja2VkQmluYXJ5T3AodCxlLHhpLG4pO3ZhciByPW5ldyBSaSh4aSx0LnNoYXBlLGUuc2hhcGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlXSxuKX0sby5wcm90b3R5cGUucGFja2VkVW5hcnlPcD1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IE11KHQuc2hhcGUsZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0XSxuKX0sby5wcm90b3R5cGUucGFja2VkQmluYXJ5T3A9ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1vJiYobz0hMSk7dmFyIGE9bmV3IFNpKG4sdC5zaGFwZSxlLnNoYXBlLG8pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oYSxbdCxlXSxyKX0sby5wcm90b3R5cGUuY29tcGxleFNlcGFyYWJsZUJpbmFyeU9wPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLG89dGhpcy50ZXhEYXRhLmdldCh0LmRhdGFJZCksYT10aGlzLnRleERhdGEuZ2V0KGUuZGF0YUlkKSxpPVtbby5jb21wbGV4VGVuc29ycy5yZWFsLGEuY29tcGxleFRlbnNvcnMucmVhbF0sW28uY29tcGxleFRlbnNvcnMuaW1hZyxhLmNvbXBsZXhUZW5zb3JzLmltYWddXS5tYXAoKGZ1bmN0aW9uKG8pe3ZhciBhPW9bMF0saT1vWzFdLHM9ci5tYWtlQ29tcGxleENvbXBvbmVudFRlbnNvckluZm8odCxhKSx1PXIubWFrZUNvbXBsZXhDb21wb25lbnRUZW5zb3JJbmZvKGUsaSksYz1uZXcgUmkobix0LnNoYXBlLGUuc2hhcGUpO3JldHVybiByLmNvbXBpbGVBbmRSdW4oYyxbcyx1XSxUdChhLmR0eXBlLGkuZHR5cGUpKX0pKSxzPWlbMF0sdT1pWzFdLGM9dGhpcy5jb21wbGV4KHMsdSk7cmV0dXJuIHMuZGlzcG9zZSgpLHUuZGlzcG9zZSgpLGN9LG8ucHJvdG90eXBlLm1ha2VDb21wbGV4Q29tcG9uZW50VGVuc29ySW5mbz1mdW5jdGlvbih0LGUpe3JldHVybntkYXRhSWQ6ZS5kYXRhSWQsZHR5cGU6ZS5kdHlwZSxzaGFwZTp0LnNoYXBlfX0sby5wcm90b3R5cGUuYWRkTj1mdW5jdGlvbih0KXtpZigxPT09dC5sZW5ndGgpcmV0dXJuIHRbMF07aWYodC5sZW5ndGg+aSgpLmdldChcIldFQkdMX01BWF9URVhUVVJFU19JTl9TSEFERVJcIikpe3ZhciBlPU1hdGguZmxvb3IodC5sZW5ndGgvMiksbj10aGlzLmFkZE4odC5zbGljZSgwLGUpKSxyPXRoaXMuYWRkTih0LnNsaWNlKGUpKTtyZXR1cm4gdGhpcy5hZGROKFtuLHJdKX12YXIgbz10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZHR5cGV9KSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiBUdCh0LGUpfSkpLGE9dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoYXBlfSkpLHM9aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLXCIpP25ldyBxYSh0WzBdLnNoYXBlLGEpOm5ldyBIYSh0WzBdLnNoYXBlLGEpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocyx0LG8pfSxvLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbih0LGUpe2lmKFwiY29tcGxleDY0XCI9PT10LmR0eXBlJiZcImNvbXBsZXg2NFwiPT09ZS5kdHlwZSlyZXR1cm4gdGhpcy5jb21wbGV4U2VwYXJhYmxlQmluYXJ5T3AodCxlLGJpKTtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdCxlXSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5zdWJ0cmFjdCh0LGUpO3ZhciBuPVR0KHQuZHR5cGUsZS5kdHlwZSk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZEJpbmFyeU9wKHQsZSxiaSx0LmR0eXBlKTt2YXIgcj1uZXcgUmkoYmksdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3QsZV0sbil9LG8ucHJvdG90eXBlLnBvdz1mdW5jdGlvbih0LGUpe3ZhciBuPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKT9uZXcgU2koXCJcXG4gIC8vIGlzTW9kUm91bmQxIGhhcyAxIGZvciBjb21wb25lbnRzIHdpdGggcm91bmQobW9kKGIsIDIuMCkpID09IDEsIDAgb3RoZXJ3aXNlLlxcbiAgdmVjNCBpc01vZFJvdW5kMSA9IHZlYzQoZXF1YWwocm91bmQobW9kKGIsIDIuMCkpLCBpdmVjNCgxKSkpO1xcbiAgdmVjNCBtdWx0aXBsaWVyID0gc2lnbihhKSAqIGlzTW9kUm91bmQxICsgKHZlYzQoMS4wKSAtIGlzTW9kUm91bmQxKTtcXG4gIHZlYzQgcmVzdWx0ID0gbXVsdGlwbGllciAqIHBvdyhhYnMoYSksIGIpO1xcblxcbiAgLy8gRW5zdXJlIHRoYXQgYV4wID0gMSwgaW5jbHVkaW5nIDBeMCA9IDEgYXMgdGhpcyBjb3JyZXNwb25kIHRvIFRGIGFuZCBKU1xcbiAgYnZlYzQgaXNFeHBaZXJvID0gZXF1YWwoYiwgdmVjNCgwLjApKTtcXG4gIHJlc3VsdC5yID0gaXNFeHBaZXJvLnIgPyAxLjAgOiByZXN1bHQucjtcXG4gIHJlc3VsdC5nID0gaXNFeHBaZXJvLmcgPyAxLjAgOiByZXN1bHQuZztcXG4gIHJlc3VsdC5iID0gaXNFeHBaZXJvLmIgPyAxLjAgOiByZXN1bHQuYjtcXG4gIHJlc3VsdC5hID0gaXNFeHBaZXJvLmEgPyAxLjAgOiByZXN1bHQuYTtcXG5cXG4gIHZlYzQgaXNOYU4gPSB2ZWM0KGxlc3NUaGFuKGEsIHZlYzQoMC4wKSkpICogdmVjNChsZXNzVGhhbihmbG9vcihiKSwgYikpO1xcbiAgXFxuICByZXN1bHQuciA9IGlzTmFOLnIgPiAwLiA/IE5BTiA6IHJlc3VsdC5yO1xcbiAgcmVzdWx0LmcgPSBpc05hTi5nID4gMC4gPyBOQU4gOiByZXN1bHQuZztcXG4gIHJlc3VsdC5iID0gaXNOYU4uYiA+IDAuID8gTkFOIDogcmVzdWx0LmI7XFxuICByZXN1bHQuYSA9IGlzTmFOLmEgPiAwLiA/IE5BTiA6IHJlc3VsdC5hO1xcblxcbiAgcmV0dXJuIHJlc3VsdDtcXG5cIix0LnNoYXBlLGUuc2hhcGUpOm5ldyBSaShcIlxcbmlmKGEgPCAwLjAgJiYgZmxvb3IoYikgPCBiKXtcXG4gIHJldHVybiBOQU47XFxufVxcbmlmIChiID09IDAuMCkge1xcbiAgcmV0dXJuIDEuMDtcXG59XFxucmV0dXJuIChyb3VuZChtb2QoYiwgMi4wKSkgIT0gMSkgP1xcbiAgICBwb3coYWJzKGEpLCBiKSA6IHNpZ24oYSkgKiBwb3coYWJzKGEpLCBiKTtcXG5cIix0LnNoYXBlLGUuc2hhcGUpLHI9VHQodC5kdHlwZSxlLmR0eXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0scil9LG8ucHJvdG90eXBlLmNlaWw9ZnVuY3Rpb24odCl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLmNlaWwodCk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX1VOQVJZX09QRVJBVElPTlNcIikpcmV0dXJuIHRoaXMucGFja2VkVW5hcnlPcCh0LHl1LHQuZHR5cGUpO3ZhciBlPW5ldyBjdSh0LnNoYXBlLHl1KTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuZmxvb3I9ZnVuY3Rpb24odCl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLmZsb29yKHQpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19VTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZFVuYXJ5T3AodCx4dSx0LmR0eXBlKTt2YXIgZT1uZXcgY3UodC5zaGFwZSx4dSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLnNpZ249ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGN1KHQuc2hhcGUsXCJcXG4gIGlmIChpc25hbih4KSkgeyByZXR1cm4gMC4wOyB9XFxuICByZXR1cm4gc2lnbih4KTtcXG5cIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmlzTmFOPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLFwicmV0dXJuIGZsb2F0KGlzbmFuKHgpKTtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSxcImJvb2xcIil9LG8ucHJvdG90eXBlLmlzSW5mPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLFwicmV0dXJuIGZsb2F0KGlzaW5mKHgpKTtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSxcImJvb2xcIil9LG8ucHJvdG90eXBlLmlzRmluaXRlPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLFwicmV0dXJuIGZsb2F0KCFpc25hbih4KSAmJiAhaXNpbmYoeCkpO1wiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdLFwiYm9vbFwiKX0sby5wcm90b3R5cGUucm91bmQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGN1KHQuc2hhcGUsXCJcXG4gIC8vIE9wZW5HTCBFUyBkb2VzIG5vdCBzdXBwb3J0IHJvdW5kIGZ1bmN0aW9uLlxcbiAgLy8gVGhlIGFsZ29yaXRobSBpcyBiYXNlZCBvbiBiYW5rZXIncyByb3VuZGluZy5cXG4gIGZsb2F0IGJhc2UgPSBmbG9vcih4KTtcXG4gIGlmICgoeCAtIGJhc2UpIDwgMC41KSB7XFxuICAgIHJldHVybiBmbG9vcih4KTtcXG4gIH0gZWxzZSBpZiAoKHggLSBiYXNlKSA+IDAuNSkge1xcbiAgICByZXR1cm4gY2VpbCh4KTtcXG4gIH0gZWxzZSB7XFxuICAgIGlmIChtb2QoYmFzZSwgMi4wKSA9PSAwLjApIHtcXG4gICAgICByZXR1cm4gYmFzZTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICByZXR1cm4gYmFzZSArIDEuMDtcXG4gICAgfVxcbiAgfVxcblwiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuZXhwPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0XSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5leHAodCk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX1VOQVJZX09QRVJBVElPTlNcIikpcmV0dXJuIHRoaXMucGFja2VkVW5hcnlPcCh0LGJ1LHQuZHR5cGUpO3ZhciBlPW5ldyBjdSh0LnNoYXBlLGJ1KTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuZXhwbTE9ZnVuY3Rpb24odCl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLmV4cG0xKHQpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19VTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZFVuYXJ5T3AodCx3dSx0LmR0eXBlKTt2YXIgZT1uZXcgY3UodC5zaGFwZSx3dSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLnNvZnRtYXg9ZnVuY3Rpb24odCxlKXt2YXIgbj1PKFtlXSx0LnNoYXBlKSxyPXRoaXMubWF4KHQsbiksbz13bihyLnNoYXBlLG4pLGE9dGhpcy5zdWJ0cmFjdCh0LHIucmVzaGFwZShvKSksaT10aGlzLmV4cChhKSxzPXRoaXMuc3VtKGksbikucmVzaGFwZShvKTtyZXR1cm4gQm8oaSxzKX0sby5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0XSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5sb2codCk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX1VOQVJZX09QRVJBVElPTlNcIikpcmV0dXJuIHRoaXMucGFja2VkVW5hcnlPcCh0LFwiXFxuICB2ZWM0IHJlc3VsdCA9IGxvZyh4KTtcXG4gIHZlYzQgaXNOYU4gPSB2ZWM0KGxlc3NUaGFuKHgsIHZlYzQoMC4wKSkpO1xcbiAgcmVzdWx0LnIgPSBpc05hTi5yID09IDEuMCA/IE5BTiA6IHJlc3VsdC5yO1xcbiAgcmVzdWx0LmcgPSBpc05hTi5nID09IDEuMCA/IE5BTiA6IHJlc3VsdC5nO1xcbiAgcmVzdWx0LmIgPSBpc05hTi5iID09IDEuMCA/IE5BTiA6IHJlc3VsdC5iO1xcbiAgcmVzdWx0LmEgPSBpc05hTi5hID09IDEuMCA/IE5BTiA6IHJlc3VsdC5hO1xcblxcbiAgcmV0dXJuIHJlc3VsdDtcXG5cIix0LmR0eXBlKTt2YXIgZT1uZXcgY3UodC5zaGFwZSxcImlmICh4IDwgMC4wKSByZXR1cm4gTkFOO1xcbiAgcmV0dXJuIGxvZyh4KTtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmxvZzFwPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLFwicmV0dXJuIGxvZygxLjAgKyB4KTtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLnNxcnQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGN1KHQuc2hhcGUsXCJyZXR1cm4gc3FydCh4KTtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLnJzcXJ0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0XSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5yc3FydCh0KTt2YXIgZT1uZXcgY3UodC5zaGFwZSxcInJldHVybiBpbnZlcnNlc3FydCh4KTtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLnJlY2lwcm9jYWw9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGN1KHQuc2hhcGUsXCJyZXR1cm4gMS4wIC8geDtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLnJlbHU9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLXCIpP25ldyBNdSh0LnNoYXBlLEZ1KTpuZXcgY3UodC5zaGFwZSxkdSksdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUucmVsdTY9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLXCIpP25ldyBNdSh0LnNoYXBlLF91KTpuZXcgY3UodC5zaGFwZSxwdSksdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUucHJlbHU9ZnVuY3Rpb24odCxlKXt2YXIgbj1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQklOQVJZX09QRVJBVElPTlNcIik/bmV3IFNpKGtpLHQuc2hhcGUsZS5zaGFwZSk6bmV3IFJpKEVpLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdKX0sby5wcm90b3R5cGUuZWx1PWZ1bmN0aW9uKHQpe2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19VTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZFVuYXJ5T3AodCxPdSx0LmR0eXBlKTt2YXIgZT1uZXcgY3UodC5zaGFwZSx2dSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmVsdURlcj1mdW5jdGlvbih0LGUpe3ZhciBuPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKT9uZXcgU2koXCJcXG4gIHZlYzQgYkdURVplcm8gPSB2ZWM0KGdyZWF0ZXJUaGFuRXF1YWwoYiwgdmVjNCgwLikpKTtcXG4gIHJldHVybiAoYkdURVplcm8gKiBhKSArICgodmVjNCgxLjApIC0gYkdURVplcm8pICogKGEgKiAoYiArIHZlYzQoMS4wKSkpKTtcXG5cIix0LnNoYXBlLGUuc2hhcGUpOm5ldyBSaShcInJldHVybiAoYiA+PSAxLjApID8gYSA6IGEgKiAoYiArIDEuMCk7XCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0pfSxvLnByb3RvdHlwZS5zZWx1PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLGd1KTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuaW50PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLFwicmV0dXJuIGZsb2F0KGludCh4KSk7XCIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0sXCJpbnQzMlwiKX0sby5wcm90b3R5cGUuY2xpcD1mdW5jdGlvbih0LGUsbil7dmFyIHIsbz0ocj1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQ0xJUFwiKT9uZXcgVGkodC5zaGFwZSk6bmV3IEFpKHQuc2hhcGUpKS5nZXRDdXN0b21TZXR1cEZ1bmMoZSxuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3RdLG51bGwsbyl9LG8ucHJvdG90eXBlLmFicz1mdW5jdGlvbih0KXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdF0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQuYWJzKHQpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19VTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZFVuYXJ5T3AodCxmdSx0LmR0eXBlKTt2YXIgZT1uZXcgY3UodC5zaGFwZSxmdSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmNvbXBsZXhBYnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50ZXhEYXRhLmdldCh0LmRhdGFJZCksbj1uZXcgRGkodC5zaGFwZSkscj1bdGhpcy5tYWtlQ29tcGxleENvbXBvbmVudFRlbnNvckluZm8odCxlLmNvbXBsZXhUZW5zb3JzLnJlYWwpLHRoaXMubWFrZUNvbXBsZXhDb21wb25lbnRUZW5zb3JJbmZvKHQsZS5jb21wbGV4VGVuc29ycy5pbWFnKV07cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLHIpfSxvLnByb3RvdHlwZS5zaWdtb2lkPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLFwicmV0dXJuIDEuMCAvICgxLjAgKyBleHAoLTEuMCAqIHgpKTtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLnNvZnRwbHVzPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLFwiXFxuICBmbG9hdCBlcHNpbG9uID0gMS4xOTIwOTI4OTU1MDc4MTI1ZS03O1xcbiAgZmxvYXQgdGhyZXNob2xkID0gbG9nKGVwc2lsb24pICsgMi4wO1xcblxcbiAgYm9vbCB0b29fbGFyZ2UgPSB4ID4gLXRocmVzaG9sZDtcXG4gIGJvb2wgdG9vX3NtYWxsID0geCA8IHRocmVzaG9sZDtcXG5cXG4gIGZsb2F0IHJlc3VsdDtcXG4gIGZsb2F0IGV4cF94ID0gZXhwKHgpO1xcblxcbiAgaWYgKHRvb19sYXJnZSl7XFxuICAgIHJlc3VsdCA9IHg7XFxuICB9XFxuICBlbHNlIGlmICh0b29fc21hbGwpe1xcbiAgICByZXN1bHQgPSBleHBfeDtcXG4gIH1cXG4gIGVsc2V7XFxuICAgIHJlc3VsdCA9IGxvZyhleHBfeCArIDEuMCk7XFxuICB9XFxuICByZXR1cm4gcmVzdWx0O1xcblwiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuc2luPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLEN1KTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuY29zPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLEV1KTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUudGFuPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLFwicmV0dXJuIHRhbih4KTtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmFzaW49ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGN1KHQuc2hhcGUsUnUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5hY29zPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLEl1KTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuYXRhbj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgY3UodC5zaGFwZSxrdSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmF0YW4yPWZ1bmN0aW9uKHQsZSl7dmFyIG49aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpP25ldyBTaShcIlxcbiAgdmVjNCByZXN1bHQgPSBhdGFuKGEsIGIpO1xcbiAgdmVjNCBpc05hTiA9IG1pbih2ZWM0KGlzbmFuKGEpKSArIHZlYzQoaXNuYW4oYikpLCB2ZWM0KDEuMCkpO1xcbiAgXFxuICByZXN1bHQuciA9IGlzTmFOLnIgPiAwLiA/IE5BTiA6IHJlc3VsdC5yO1xcbiAgcmVzdWx0LmcgPSBpc05hTi5nID4gMC4gPyBOQU4gOiByZXN1bHQuZztcXG4gIHJlc3VsdC5iID0gaXNOYU4uYiA+IDAuID8gTkFOIDogcmVzdWx0LmI7XFxuICByZXN1bHQuYSA9IGlzTmFOLmEgPiAwLiA/IE5BTiA6IHJlc3VsdC5hO1xcblxcbiAgcmV0dXJuIHJlc3VsdDtcXG5cIix0LnNoYXBlLGUuc2hhcGUpOm5ldyBSaShcIlxcbiAgaWYgKGlzbmFuKGEpKSByZXR1cm4gYTtcXG4gIGlmIChpc25hbihiKSkgcmV0dXJuIGI7XFxuXFxuICByZXR1cm4gYXRhbihhLCBiKTtcXG5cIix0LnNoYXBlLGUuc2hhcGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdCxlXSl9LG8ucHJvdG90eXBlLnNpbmg9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGN1KHQuc2hhcGUsXCJcXG4gIGZsb2F0IGUyeCA9IGV4cCh4KTtcXG4gIHJldHVybiAoZTJ4IC0gMS4wIC8gZTJ4KSAvIDIuMDtcXG5cIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmNvc2g9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGN1KHQuc2hhcGUsXCJcXG4gIGZsb2F0IGUyeCA9IGV4cCgteCk7XFxuICByZXR1cm4gKGUyeCArIDEuMCAvIGUyeCkgLyAyLjA7XFxuXCIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS50YW5oPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLFwiXFxuICBmbG9hdCBlMnggPSBleHAoLTIuMCAqIGFicyh4KSk7XFxuICByZXR1cm4gc2lnbih4KSAqICgxLjAgLSBlMngpIC8gKDEuMCArIGUyeCk7XFxuXCIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5hc2luaD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgY3UodC5zaGFwZSxTdSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmFjb3NoPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdSh0LnNoYXBlLEF1KTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuYXRhbmg9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGN1KHQuc2hhcGUsVHUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5lcmY9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGN1KHQuc2hhcGUsJ1xcbiAgLy8gRXJyb3IgZnVuY3Rpb24gaXMgY2FsY3VsYXRlZCBhcHByb3hpbWF0ZWx5IHdpdGggZWxlbWVudGFyeSBmdW5jdGlvbi5cXG4gIC8vIFNlZSBcIkhhbmRib29rIG9mIE1hdGhlbWF0aWNhbCBGdW5jdGlvbnMgd2l0aCBGb3JtdWxhcyxcXG4gIC8vIEdyYXBocywgYW5kIE1hdGhlbWF0aWNhbCBUYWJsZXNcIiwgQWJyYW1vd2l0eiBhbmQgU3RlZ3VuLlxcbiAgZmxvYXQgcCA9IDAuMzI3NTkxMTtcXG4gIGZsb2F0IGExID0gMC4yNTQ4Mjk1OTI7XFxuICBmbG9hdCBhMiA9IC0wLjI4NDQ5NjczNjtcXG4gIGZsb2F0IGEzID0gMS40MjE0MTM3NDE7XFxuICBmbG9hdCBhNCA9IC0xLjQ1MzE1MjAyNztcXG4gIGZsb2F0IGE1ID0gMS4wNjE0MDU0Mjk7XFxuXFxuICBmbG9hdCBzaWduID0gc2lnbih4KTtcXG4gIHggPSBhYnMoeCk7XFxuICBmbG9hdCB0ID0gMS4wIC8gKDEuMCArIHAgKiB4KTtcXG4gIHJldHVybiBzaWduICogKDEuMCAtICgoKCgoYTUqdCArIGE0KSp0KSArIGEzKSp0ICsgYTIpKnQgKyBhMSkqdCpleHAoLXgqeCkpO1xcbicpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IGN1KHQuc2hhcGUsZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLGx1K1wiXFxuICAgIHJldHVybiB4ID4gMC4wID8gMS4wIDogZmxvYXQoXCIrdCtcIik7XFxuICBcIn0oZSkpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdF0pfSxvLnByb3RvdHlwZS5jb252MmRCeU1hdE11bD1mdW5jdGlvbih0LGUsbixyLG8sYSl7dmFyIHM9dC5zaGFwZSx1PXRoaXMudGV4RGF0YS5nZXQodC5kYXRhSWQpLGM9bi5pbkNoYW5uZWxzLGw9c1swXSpzWzFdKnNbMl0saD1uLm91dENoYW5uZWxzLGY9XCJjaGFubmVsc0xhc3RcIj09PW4uZGF0YUZvcm1hdCxkPSgxPT09bHx8MT09PWgpJiZjPjFlMyxwPXNbMl0lMiE9MCYmISF1LmlzUGFja2VkO2lmKGR8fCFpKCkuZ2V0Qm9vbChcIldFQkdMX0xBWklMWV9VTlBBQ0tcIil8fCFpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQklOQVJZX09QRVJBVElPTlNcIil8fCFwKXt2YXIgdj1mP3NbMF0qc1sxXSpzWzJdOnNbMF0qc1syXSpzWzNdLGc9dGhpcy5yZXNoYXBlKHQsWzEsdixuLmluQ2hhbm5lbHNdKSxtPXRoaXMucmVzaGFwZShlLFsxLG4uaW5DaGFubmVscyxuLm91dENoYW5uZWxzXSk7cmV0dXJuIHRoaXMucmVzaGFwZSh0aGlzLmZ1c2VkQmF0Y2hNYXRNdWwoe2E6ZyxiOm0sdHJhbnNwb3NlQTohMSx0cmFuc3Bvc2VCOiExLGJpYXM6cixhY3RpdmF0aW9uOm8scHJlbHVBY3RpdmF0aW9uV2VpZ2h0czphfSksbi5vdXRTaGFwZSl9dmFyIHk9Zj9zWzBdKnNbMV0qKHNbMl0rMSk6c1swXSpzWzJdKihzWzNdKzEpLHg9e2RhdGFJZDp0LmRhdGFJZCxzaGFwZTpbMSx5LG4uaW5DaGFubmVsc10sZHR5cGU6dC5kdHlwZX0sYj11LnNoYXBlO3Uuc2hhcGU9dS5zaGFwZS5zbGljZSgpLHUuc2hhcGVbdS5zaGFwZS5sZW5ndGgtMl0rKyxDKF9lKHUuc2hhcGUseC5zaGFwZSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJwYWNrZWQgcmVzaGFwZSBcIit1LnNoYXBlK1wiIHRvIFwiK3guc2hhcGUrXCIgaXNuJ3QgZnJlZVwifSkpO3ZhciB3PXRoaXMucmVzaGFwZShlLFsxLG4uaW5DaGFubmVscyxuLm91dENoYW5uZWxzXSksRT10aGlzLmZ1c2VkQmF0Y2hNYXRNdWwoe2E6eCxiOncsdHJhbnNwb3NlQTohMSx0cmFuc3Bvc2VCOiExLGJpYXM6cixhY3RpdmF0aW9uOm8scHJlbHVBY3RpdmF0aW9uV2VpZ2h0czphfSksUj10aGlzLnRleERhdGEuZ2V0KEUuZGF0YUlkKTtyZXR1cm4gQyhSLmlzUGFja2VkLChmdW5jdGlvbigpe3JldHVyblwiYmF0Y2hNYXRNdWwgcmVzdWx0IGlzIGV4cGVjdGVkIHRvIGJlIHBhY2tlZFwifSkpLHUuc2hhcGU9YixSLnNoYXBlPW4ub3V0U2hhcGUsTHQubWFrZVRlbnNvckZyb21EYXRhSWQoRS5kYXRhSWQsbi5vdXRTaGFwZSxFLmR0eXBlKX0sby5wcm90b3R5cGUuY29udjJkV2l0aEltMlJvdz1mdW5jdGlvbih0LGUsbixyLG8sYSl7dmFyIGk9bi5maWx0ZXJXaWR0aCxzPW4uZmlsdGVySGVpZ2h0LHU9bi5pbkNoYW5uZWxzLGM9bi5vdXRXaWR0aCxsPW4ub3V0SGVpZ2h0LGg9XCJjaGFubmVsc0xhc3RcIj09PW4uZGF0YUZvcm1hdCxmPWkqcyp1LGQ9bCpjLHA9W2YsZF0sdj10LnNxdWVlemUoWzBdKSxnPWUucmVzaGFwZShbMSxmLC0xXSksbT1uZXcgU3MocCx2LnNoYXBlLG4pLHk9dGhpcy5jb21waWxlQW5kUnVuKG0sW3ZdKS5yZXNoYXBlKFsxLHBbMF0scFsxXV0pLHg9bnVsbCE9cixiPW51bGwhPWEsdz1vP0x1KG8sITApOm51bGwsQz1uZXcgX3MoeS5zaGFwZSxbMSxkLG4ub3V0Q2hhbm5lbHNdLCEwLCExLHgsdyxiKSxFPVt5LGddO3ImJkUucHVzaChyKSxiJiZFLnB1c2goYSk7dmFyIFI9dGhpcy5jb21waWxlQW5kUnVuKEMsRSk7cmV0dXJuIGg/Ui5yZXNoYXBlKFsxLGwsYyxuLm91dENoYW5uZWxzXSk6Ui5yZXNoYXBlKFsxLG4ub3V0Q2hhbm5lbHMsbCxjXSl9LG8ucHJvdG90eXBlLmZ1c2VkQ29udjJkPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXQsbj10LmZpbHRlcixyPXQuY29udkluZm8sbz10LmJpYXMsYT10LmFjdGl2YXRpb24scz10LnByZWx1QWN0aXZhdGlvbldlaWdodHM7aWYoMT09PXIuZmlsdGVySGVpZ2h0JiYxPT09ci5maWx0ZXJXaWR0aCYmMT09PXIuZGlsYXRpb25IZWlnaHQmJjE9PT1yLmRpbGF0aW9uV2lkdGgmJjE9PT1yLnN0cmlkZUhlaWdodCYmMT09PXIuc3RyaWRlV2lkdGgmJihcIlNBTUVcIj09PXIucGFkSW5mby50eXBlfHxcIlZBTElEXCI9PT1yLnBhZEluZm8udHlwZSkpcmV0dXJuIHRoaXMuY29udjJkQnlNYXRNdWwoZSxuLHIsbyxhLHMpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfQ09OVl9JTTJDT0xcIikmJjE9PT1lLnNoYXBlWzBdKXJldHVybiB0aGlzLmNvbnYyZFdpdGhJbTJSb3coZSxuLHIsbyxhLHMpO3ZhciB1PW51bGwhPW8sYz1udWxsIT1zLGw9YT9MdShhLCExKTpudWxsLGg9bmV3IFVpKHIsdSxsLGMpLGY9W2Usbl07cmV0dXJuIG8mJmYucHVzaChvKSxzJiZmLnB1c2gocyksdGhpcy5jb21waWxlQW5kUnVuKGgsZil9LG8ucHJvdG90eXBlLmNvbnYyZD1mdW5jdGlvbih0LGUsbil7aWYoMT09PW4uZmlsdGVySGVpZ2h0JiYxPT09bi5maWx0ZXJXaWR0aCYmMT09PW4uZGlsYXRpb25IZWlnaHQmJjE9PT1uLmRpbGF0aW9uV2lkdGgmJjE9PT1uLnN0cmlkZUhlaWdodCYmMT09PW4uc3RyaWRlV2lkdGgmJihcIlNBTUVcIj09PW4ucGFkSW5mby50eXBlfHxcIlZBTElEXCI9PT1uLnBhZEluZm8udHlwZSkpcmV0dXJuIHRoaXMuY29udjJkQnlNYXRNdWwodCxlLG4pO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfQ09OVl9JTTJDT0xcIikmJjE9PT10LnNoYXBlWzBdKXJldHVybiB0aGlzLmNvbnYyZFdpdGhJbTJSb3codCxlLG4pO3ZhciByPW5ldyBVaShuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3QsZV0pfSxvLnByb3RvdHlwZS5jb252MmREZXJJbnB1dD1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IE1pKG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlXSl9LG8ucHJvdG90eXBlLmNvbnYyZERlckZpbHRlcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IE9pKG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlXSl9LG8ucHJvdG90eXBlLmZ1c2VkRGVwdGh3aXNlQ29udjJEPWZ1bmN0aW9uKHQpe3ZhciBlLG49dC5pbnB1dCxyPXQuZmlsdGVyLG89dC5jb252SW5mbyxhPXQuYmlhcyxzPXQuYWN0aXZhdGlvbix1PXQucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cyxjPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19ERVBUSFdJU0VDT05WXCIpJiZvLnN0cmlkZVdpZHRoPD0yJiZvLm91dENoYW5uZWxzL28uaW5DaGFubmVscz09MSxsPXM/THUocyxjKTpudWxsLGg9W24scl0sZj1udWxsIT1hLGQ9bnVsbCE9dTtyZXR1cm4gZiYmaC5wdXNoKGEpLGQmJmgucHVzaCh1KSxjPyhlPW5ldyBHaShvLGYsbCxkKSx0aGlzLmNvbXBpbGVBbmRSdW4oZSxoKSk6KGU9bmV3IHppKG8sZixsLGQpLHRoaXMuY29tcGlsZUFuZFJ1bihlLGgpKX0sby5wcm90b3R5cGUuZGVwdGh3aXNlQ29udjJEPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtyZXR1cm4gaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0RFUFRIV0lTRUNPTlZcIikmJm4uc3RyaWRlV2lkdGg8PTImJm4ub3V0Q2hhbm5lbHMvbi5pbkNoYW5uZWxzPT0xPyhyPW5ldyBHaShuKSx0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlXSkpOihyPW5ldyB6aShuKSx0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlXSkpfSxvLnByb3RvdHlwZS5kZXB0aHdpc2VDb252MkREZXJJbnB1dD1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IFdpKG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlXSl9LG8ucHJvdG90eXBlLmRlcHRod2lzZUNvbnYyRERlckZpbHRlcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IExpKG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlXSl9LG8ucHJvdG90eXBlLmNvbnYzZD1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IFZpKG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlXSl9LG8ucHJvdG90eXBlLmNvbnYzZERlcklucHV0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgUGkobik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0LGVdKX0sby5wcm90b3R5cGUuY29udjNkRGVyRmlsdGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgQmkobik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0LGVdKX0sby5wcm90b3R5cGUubWF4UG9vbD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBXcyhlLFwibWF4XCIsITEpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdF0pfSxvLnByb3RvdHlwZS5hdmdQb29sPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IFdzKGUsXCJhdmdcIiwhMSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0XSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLm1heFBvb2xCYWNrcHJvcD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1uZXcgV3MocixcIm1heFwiLCEwKSxhPXRoaXMuY29tcGlsZUFuZFJ1bihvLFtlXSksaT1uZXcgTnMocikscz10aGlzLmNvbXBpbGVBbmRSdW4oaSxbdCxhXSxlLmR0eXBlKTtyZXR1cm4gYS5kaXNwb3NlKCksc30sby5wcm90b3R5cGUuYXZnUG9vbEJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgZmkobik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0XSxlLmR0eXBlKX0sby5wcm90b3R5cGUuY2FzdD1mdW5jdGlvbih0LGUpe3JldHVybiBSYSh0LGUsdGhpcyl9LG8ucHJvdG90eXBlLnVuc3RhY2s9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5zaGFwZVtlXSxyPW5ldyBBcnJheSh0LnJhbmstMSksbz0wLGE9MDthPHQucmFuazthKyspYSE9PWUmJihyW28rK109dC5zaGFwZVthXSk7dmFyIGk9bmV3IEFycmF5KHQucmFuaykuZmlsbCgwKSxzPXQuc2hhcGUuc2xpY2UoKTtzW2VdPTE7dmFyIHU9bmV3IEFycmF5KG4pO2ZvcihhPTA7YTx1Lmxlbmd0aDthKyspaVtlXT1hLHVbYV09dGhpcy5zbGljZSh0LGkscykucmVzaGFwZShyKTtyZXR1cm4gdX0sby5wcm90b3R5cGUuYXZnUG9vbDNkPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IFVzKGUsXCJhdmdcIiwhMSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0XSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmF2Z1Bvb2wzZEJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgZGkobik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0XSxlLmR0eXBlKX0sby5wcm90b3R5cGUubWF4UG9vbDNkPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IFVzKGUsXCJtYXhcIiwhMSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0XSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLm1heFBvb2wzZEJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPW5ldyBVcyhyLFwibWF4XCIsITApLGE9dGhpcy5jb21waWxlQW5kUnVuKG8sW2VdKSxpPW5ldyBGcyhyKSxzPXRoaXMuY29tcGlsZUFuZFJ1bihpLFt0LGFdLGUuZHR5cGUpO3JldHVybiBhLmRpc3Bvc2UoKSxzfSxvLnByb3RvdHlwZS5yZXNoYXBlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50ZXhEYXRhLmdldCh0LmRhdGFJZCk7aWYobi5pc1BhY2tlZCYmIV9lKHQuc2hhcGUsZSkmJihudWxsPT09bi50ZXh0dXJlfHwhX2Uobi5zaGFwZSxlKSkpe3ZhciByPXRoaXMucGFja2VkUmVzaGFwZSh0LGUpO3JldHVybiBMdC5tYWtlVGVuc29yRnJvbURhdGFJZChyLmRhdGFJZCxyLnNoYXBlLHIuZHR5cGUpfXJldHVybiBJYSh0LGUpfSxvLnByb3RvdHlwZS5yZXNpemVCaWxpbmVhcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfSU1BR0VfT1BFUkFUSU9OU1wiKT9uZXcgcXModC5zaGFwZSxlLG4scik6bmV3IEhzKHQuc2hhcGUsZSxuLHIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obyxbdF0sXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5yZXNpemVCaWxpbmVhckJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgR3ModCxlLG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdF0pfSxvLnByb3RvdHlwZS5yZXNpemVOZWFyZXN0TmVpZ2hib3I9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89bmV3IGpzKHQuc2hhcGUsZSxuLHIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obyxbdF0pfSxvLnByb3RvdHlwZS5yZXNpemVOZWFyZXN0TmVpZ2hib3JCYWNrcHJvcD1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IEtzKHQsZSxuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3RdKX0sby5wcm90b3R5cGUubXVsdGlub21pYWw9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89ZT90OmlhKHQpLGE9by5zaGFwZVswXSxpPW8uc2hhcGVbMV0scz1uZXcgT3MoYSxpLG4pLHU9cy5nZXRDdXN0b21TZXR1cEZ1bmMocik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihzLFtvXSxcImludDMyXCIsdSl9LG8ucHJvdG90eXBlLm9uZUhvdD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1uZXcgTXModC5zaXplLGUsbixyKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG8sW3RdKX0sby5wcm90b3R5cGUuZGlhZz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgJGkodC5zaXplKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUubm9uTWF4U3VwcHJlc3Npb249ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gZG4oXCJ0Zi5ub25NYXhTdXBwcmVzc2lvbigpIGluIHdlYmdsIGxvY2tzIHRoZSBVSSB0aHJlYWQuIENhbGwgdGYubm9uTWF4U3VwcHJlc3Npb25Bc3luYygpIGluc3RlYWRcIiksT2EodC5kYXRhU3luYygpLGUuZGF0YVN5bmMoKSxuLHIsbyl9LG8ucHJvdG90eXBlLmNyb3BBbmRSZXNpemU9ZnVuY3Rpb24odCxlLG4scixvLGEpe3ZhciBpPW5ldyBIaSh0LnNoYXBlLGUuc2hhcGUscixvLGEpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oaSxbdCxlLG5dLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuZGVwdGhUb1NwYWNlPWZ1bmN0aW9uKHQsZSxuKXtDKGU+MSwoZnVuY3Rpb24oKXtyZXR1cm5cImJsb2NrU2l6ZSBzaG91bGQgYmUgPiAxIGZvciBkZXB0aFRvU3BhY2UsIGJ1dCB3YXM6IFwiK2V9KSk7dmFyIHI9dC5zaGFwZVswXSxvPVwiTkhXQ1wiPT09bj90LnNoYXBlWzFdOnQuc2hhcGVbMl0sYT1cIk5IV0NcIj09PW4/dC5zaGFwZVsyXTp0LnNoYXBlWzNdLGk9XCJOSFdDXCI9PT1uP3Quc2hhcGVbM106dC5zaGFwZVsxXSxzPW8qZSx1PWEqZSxjPWkvKGUqZSksbD1uZXcgWWkoXCJOSFdDXCI9PT1uP1tyLHMsdSxjXTpbcixjLHMsdV0sZSxuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGwsW3RdKX0sby5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBVYSh0LGUsbil9LG8ucHJvdG90eXBlLnNjYXR0ZXJORD1mdW5jdGlvbih0LGUsbil7dmFyIHI9R28oMCx0LG4pLG89ci5zbGljZVJhbmssYT1yLm51bVVwZGF0ZXMsaT1yLnNsaWNlU2l6ZSxzPXIuc3RyaWRlcyx1PXIub3V0cHV0U2l6ZSxjPVt1L2ksaV0sbD10LnJlc2hhcGUoW2Esb10pLGg9ZS5yZXNoYXBlKFthLGldKTtpZigwPT09dSlyZXR1cm4gSWEoRm4oW10pLG4pO3ZhciBmPU9uKDApLGQ9bmV3ICRzKGEsbyxsLnJhbmssaC5yYW5rLHMsYyk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihkLFtoLGwsZl0pLnJlc2hhcGUobil9LG8ucHJvdG90eXBlLnNwYXJzZVRvRGVuc2U9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89R28oMCx0LG4pLGE9by5zbGljZVJhbmssaT1vLm51bVVwZGF0ZXMscz1vLnN0cmlkZXMsdT1vLm91dHB1dFNpemUsYz1uZXcgJHMoaSxhLHQucmFuayxlLnJhbmsscyxbdSwxXSwhMSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihjLFtlLHQscl0pLnJlc2hhcGUobil9LG8ucHJvdG90eXBlLmZmdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mZnRJbXBsKHQsITEpfSxvLnByb3RvdHlwZS5pZmZ0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZmdEltcGwodCwhMCl9LG8ucHJvdG90eXBlLmZmdEltcGw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnRleERhdGEuZ2V0KHQuZGF0YUlkKSxyPW5ldyBycyhlcyx0LnNoYXBlLGUpLG89bmV3IHJzKG5zLHQuc2hhcGUsZSksYT1bdGhpcy5tYWtlQ29tcGxleENvbXBvbmVudFRlbnNvckluZm8odCxuLmNvbXBsZXhUZW5zb3JzLnJlYWwpLHRoaXMubWFrZUNvbXBsZXhDb21wb25lbnRUZW5zb3JJbmZvKHQsbi5jb21wbGV4VGVuc29ycy5pbWFnKV0saT10aGlzLmNvbXBpbGVBbmRSdW4ocixhKSxzPXRoaXMuY29tcGlsZUFuZFJ1bihvLGEpLHU9dGhpcy5jb21wbGV4KGkscykuYXMyRCh0LnNoYXBlWzBdLHQuc2hhcGVbMV0pO3JldHVybiBpLmRpc3Bvc2UoKSxzLmRpc3Bvc2UoKSx1fSxvLnByb3RvdHlwZS5nYXRoZXJORD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuc2hhcGUscj1uW24ubGVuZ3RoLTFdLG89UG8odCxlKSxhPW9bMF0saT1vWzFdLHM9b1syXSx1PW9bM10sYz1lLnJlc2hhcGUoW2kscl0pLGw9dC5yZXNoYXBlKFt0LnNpemUvcyxzXSksaD1uZXcgaXMocix1LFtpLHNdKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGgsW2wsY10pLnJlc2hhcGUoYSl9LG8ucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCxlLG4pe2lmKFwic3RyaW5nXCI9PT0obj1ufHxqKGUpKSl7dmFyIHI9UChuLGsodCkpO3JldHVybiByLmZpbGwoZSksTHQubWFrZVRlbnNvcihyLHQsbix0aGlzKX12YXIgbz1uZXcgb3ModCxlKSxhPW8uZ2V0Q3VzdG9tU2V0dXBGdW5jKGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obyxbXSxuLGEpfSxvLnByb3RvdHlwZS5vbmVzTGlrZT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT09dC5kdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJvbmVzTGlrZSBpcyBub3Qgc3VwcG9ydGVkIHVuZGVyIHN0cmluZyBkdHlwZVwiKTtyZXR1cm4gdGhpcy5maWxsKHQuc2hhcGUsMSx0LmR0eXBlKX0sby5wcm90b3R5cGUuemVyb3NMaWtlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpbGwodC5zaGFwZSxcInN0cmluZ1wiPT09dC5kdHlwZT9cIlwiOjAsdC5kdHlwZSl9LG8ucHJvdG90eXBlLmxpbnNwYWNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4ga2EodCxlLG4pfSxvLnByb3RvdHlwZS5tYWtlVGVuc29ySW5mbz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMud3JpdGUobnVsbCx0LGUpO3JldHVybiB0aGlzLnRleERhdGEuZ2V0KG4pLnVzYWdlPW51bGwse2RhdGFJZDpuLHNoYXBlOnQsZHR5cGU6ZX19LG8ucHJvdG90eXBlLm1ha2VPdXRwdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm1ha2VUZW5zb3JJbmZvKHQsZSkuZGF0YUlkO3JldHVybiBMdC5tYWtlVGVuc29yRnJvbURhdGFJZChuLHQsZSx0aGlzKX0sby5wcm90b3R5cGUudW5wYWNrVGVuc29yPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBCdSh0LnNoYXBlKTtyZXR1cm4gdGhpcy5ydW5XZWJHTFByb2dyYW0oZSxbdF0sdC5kdHlwZSl9LG8ucHJvdG90eXBlLnBhY2tUZW5zb3I9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEJzKHQuc2hhcGUpO3JldHVybiB0aGlzLnJ1bldlYkdMUHJvZ3JhbShlLFt0XSx0LmR0eXBlLG51bGwsITApfSxvLnByb3RvdHlwZS5wYWNrZWRSZXNoYXBlPWZ1bmN0aW9uKHQsZSl7dmFyIG49W0FlKHQuc2hhcGUpXS5jb25jYXQoVGUodC5zaGFwZSkpLHI9e2R0eXBlOnQuZHR5cGUsc2hhcGU6bixkYXRhSWQ6dC5kYXRhSWR9LG89W0FlKGUpXS5jb25jYXQoVGUoZSkpLGE9bmV3IHpzKG8sbiksaT10aGlzLnJ1bldlYkdMUHJvZ3JhbShhLFtyXSx0LmR0eXBlLG51bGwsITApO3JldHVybntkYXRhSWQ6aS5kYXRhSWQsc2hhcGU6ZSxkdHlwZTppLmR0eXBlfX0sby5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy50ZXhEYXRhLmdldCh0KSxyPW4uaXNQYWNrZWQsbz1uLnNoYXBlLGE9bi5kdHlwZSxpPURlKG8pO2U9cj9uZXcgWGkoaSk6bmV3IGppKGkpO3JldHVybntkdHlwZTphLHNoYXBlOm8sZGF0YUlkOnRoaXMucnVuV2ViR0xQcm9ncmFtKGUsW3tzaGFwZTppLGR0eXBlOmEsZGF0YUlkOnR9XSxhLG51bGwsITApLmRhdGFJZH19LG8ucHJvdG90eXBlLnJ1bldlYkdMUHJvZ3JhbT1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBhPXRoaXM7dm9pZCAwPT09byYmKG89ITEpO3ZhciBzPXRoaXMubWFrZVRlbnNvckluZm8odC5vdXRwdXRTaGFwZSxuKSx1PXRoaXMudGV4RGF0YS5nZXQocy5kYXRhSWQpO2lmKHQucGFja2VkT3V0cHV0JiYodS5pc1BhY2tlZD0hMCksdC5vdXRQYWNraW5nU2NoZW1lPT09VnQuREVOU0Upe3ZhciBjPVl0KHQub3V0cHV0U2hhcGUpO3UudGV4U2hhcGU9Yy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAyKnR9KSl9aWYobnVsbCE9dC5vdXRUZXhVc2FnZSYmKHUudXNhZ2U9dC5vdXRUZXhVc2FnZSksMD09PWsocy5zaGFwZSkpcmV0dXJuIHUudmFsdWVzPUIocy5kdHlwZSwwKSxzO3ZhciBsPVtdLGg9ZS5tYXAoKGZ1bmN0aW9uKGUpe2lmKFwiY29tcGxleDY0XCI9PT1lLmR0eXBlKXRocm93IG5ldyBFcnJvcihcIkdQR1BVUHJvZ3JhbSBkb2VzIG5vdCBzdXBwb3J0IGNvbXBsZXg2NCBpbnB1dC4gRm9yIGNvbXBsZXg2NCBkdHlwZXMsIHBsZWFzZSBzZXBhcmF0ZSB0aGUgcHJvZ3JhbSBpbnRvIHJlYWwgYW5kIGltYWdpbmFyeSBwYXJ0cy5cIik7dmFyIG49YS50ZXhEYXRhLmdldChlLmRhdGFJZCk7aWYobnVsbD09bi50ZXh0dXJlKXtpZighdC5wYWNrZWRJbnB1dHMmJmsoZS5zaGFwZSk8PWkoKS5nZXROdW1iZXIoXCJXRUJHTF9TSVpFX1VQTE9BRF9VTklGT1JNXCIpKXJldHVybntzaGFwZTplLnNoYXBlLHRleERhdGE6bnVsbCxpc1VuaWZvcm06ITAsdW5pZm9ybVZhbHVlczpuLnZhbHVlc307dC5wYWNrZWRJbnB1dHMmJihuLmlzUGFja2VkPSEwLG4uc2hhcGU9ZS5zaGFwZSl9ZWxzZSBpZighIW4uaXNQYWNrZWQhPSEhdC5wYWNrZWRJbnB1dHMpZT1uLmlzUGFja2VkP2EudW5wYWNrVGVuc29yKGUpOmEucGFja1RlbnNvcihlKSxsLnB1c2goZSksbj1hLnRleERhdGEuZ2V0KGUuZGF0YUlkKTtlbHNlIGlmKG4uaXNQYWNrZWQmJiFfZShuLnNoYXBlLGUuc2hhcGUpKXt2YXIgcj1lLG89ZS5zaGFwZTtlLnNoYXBlPW4uc2hhcGUsZT1hLnBhY2tlZFJlc2hhcGUoZSxvKSxsLnB1c2goZSksbj1hLnRleERhdGEuZ2V0KGUuZGF0YUlkKSxyLnNoYXBlPW99cmV0dXJuIGEudXBsb2FkVG9HUFUoZS5kYXRhSWQpLHtzaGFwZTplLnNoYXBlLHRleERhdGE6bixpc1VuaWZvcm06ITF9fSkpO3RoaXMudXBsb2FkVG9HUFUocy5kYXRhSWQpO3ZhciBmLGQ9e3NoYXBlOnMuc2hhcGUsdGV4RGF0YTp1LGlzVW5pZm9ybTohMX0scD1mdW5jdGlvbih0LGUsbil7dmFyIHI9XCJcIjtlLmNvbmNhdChuKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1udWxsIT10LnRleERhdGEmJm51bGwhPXQudGV4RGF0YS5zbGljZSYmdC50ZXhEYXRhLnNsaWNlLmZsYXRPZmZzZXQ+MCxuPXQuaXNVbmlmb3JtP1widW5pZm9ybVwiOnQudGV4RGF0YS50ZXhTaGFwZTtyKz10LnNoYXBlK1wiX1wiK24rXCJfXCIrZX0pKTt2YXIgbz10LnVzZXJDb2RlLGE9dC5jb25zdHJ1Y3Rvci5uYW1lO3JldHVybiBhKz1cIl9cIityK1wiX1wiK299KHQsaCxkKSx2PXRoaXMuZ2V0QW5kU2F2ZUJpbmFyeShwLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUsbixyKXt2YXIgbz1lLnVzZXJDb2RlLGE9bi5tYXAoKGZ1bmN0aW9uKHQsbil7dmFyIHI9e2xvZ2ljYWxTaGFwZTp0LnNoYXBlLHRleFNoYXBlOnQuaXNVbmlmb3JtP251bGw6dC50ZXhEYXRhLnRleFNoYXBlLGlzVW5pZm9ybTp0LmlzVW5pZm9ybSxpc1BhY2tlZDohdC5pc1VuaWZvcm0mJnQudGV4RGF0YS5pc1BhY2tlZCxmbGF0T2Zmc2V0Om51bGx9O3JldHVybiBudWxsIT10LnRleERhdGEmJm51bGwhPXQudGV4RGF0YS5zbGljZSYmdC50ZXhEYXRhLnNsaWNlLmZsYXRPZmZzZXQ+MCYmKHIuZmxhdE9mZnNldD10LnRleERhdGEuc2xpY2UuZmxhdE9mZnNldCkse25hbWU6ZS52YXJpYWJsZU5hbWVzW25dLHNoYXBlSW5mbzpyfX0pKSxzPWEubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGFwZUluZm99KSksdT17bG9naWNhbFNoYXBlOnIuc2hhcGUsdGV4U2hhcGU6ci50ZXhEYXRhLnRleFNoYXBlLGlzVW5pZm9ybTohMSxpc1BhY2tlZDpyLnRleERhdGEuaXNQYWNrZWQsZmxhdE9mZnNldDpudWxsfSxjPVphKGEsdSxvLGUucGFja2VkSW5wdXRzKSxsPXQuY3JlYXRlUHJvZ3JhbShjKSxoPW51bGwsZj10LmdldFVuaWZvcm1Mb2NhdGlvbihsLFwiTkFOXCIsITEpOzE9PT1pKCkuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKSYmKGg9dC5nZXRVbmlmb3JtTG9jYXRpb24obCxcIklORklOSVRZXCIsITEpKTtmb3IodmFyIGQ9e30scD0wO3A8ZS52YXJpYWJsZU5hbWVzLmxlbmd0aDtwKyspe3ZhciB2PWUudmFyaWFibGVOYW1lc1twXTtkW3ZdPXQuZ2V0VW5pZm9ybUxvY2F0aW9uKGwsdiwhMSksZFtcIm9mZnNldFwiK3ZdPXQuZ2V0VW5pZm9ybUxvY2F0aW9uKGwsXCJvZmZzZXRcIit2LCExKX1yZXR1cm57cHJvZ3JhbTplLHNvdXJjZTpjLHdlYkdMUHJvZ3JhbTpsLHVuaWZvcm1Mb2NhdGlvbnM6ZCxpblNoYXBlSW5mb3M6cyxvdXRTaGFwZUluZm86dSxpbmZMb2M6aCxuYW5Mb2M6Zn19KGEuZ3BncHUsdCxoLGQpfSkpLGc9bnVsbCE9dGhpcy5hY3RpdmVUaW1lcnM7aWYoZyYmKGY9dGhpcy5zdGFydFRpbWVyKCkpLGZ1bmN0aW9uKHQsZSxuLHIsbyl7a3MoZS5pblNoYXBlSW5mb3Msbiksa3MoW2Uub3V0U2hhcGVJbmZvXSxbcl0pO3ZhciBhPXIudGV4RGF0YS50ZXh0dXJlLHM9ci50ZXhEYXRhLnRleFNoYXBlO3IudGV4RGF0YS5pc1BhY2tlZD90LnNldE91dHB1dFBhY2tlZE1hdHJpeFRleHR1cmUoYSxzWzBdLHNbMV0pOnQuc2V0T3V0cHV0TWF0cml4VGV4dHVyZShhLHNbMF0sc1sxXSksdC5zZXRQcm9ncmFtKGUud2ViR0xQcm9ncmFtKSwxPT09aSgpLmdldE51bWJlcihcIldFQkdMX1ZFUlNJT05cIikmJm51bGwhPT1lLmluZkxvYyYmdC5nbC51bmlmb3JtMWYoZS5pbmZMb2MsMS8wKSxudWxsIT09ZS5uYW5Mb2MmJnQuZ2wudW5pZm9ybTFmKGUubmFuTG9jLE5hTiksbi5mb3JFYWNoKChmdW5jdGlvbihuLHIpe3ZhciBvPWUucHJvZ3JhbS52YXJpYWJsZU5hbWVzW3JdLGE9ZS51bmlmb3JtTG9jYXRpb25zW29dLGk9ZS51bmlmb3JtTG9jYXRpb25zW1wib2Zmc2V0XCIrb107aWYobnVsbCE9YSlpZihuLmlzVW5pZm9ybSlpZihrKG4uc2hhcGUpPDIpdC5nbC51bmlmb3JtMWYoYSxuLnVuaWZvcm1WYWx1ZXNbMF0pO2Vsc2V7dmFyIHM9bi51bmlmb3JtVmFsdWVzO3MgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fChzPW5ldyBGbG9hdDMyQXJyYXkocykpLHQuZ2wudW5pZm9ybTFmdihhLHMpfWVsc2UgbnVsbCE9bi50ZXhEYXRhLnNsaWNlJiZudWxsIT1pJiZ0LmdsLnVuaWZvcm0xaShpLG4udGV4RGF0YS5zbGljZS5mbGF0T2Zmc2V0KSx0LnNldElucHV0TWF0cml4VGV4dHVyZShuLnRleERhdGEudGV4dHVyZSxhLHIpfSkpLG51bGwhPW8mJm8odCxlLndlYkdMUHJvZ3JhbSksdC5leGVjdXRlUHJvZ3JhbSgpfSh0aGlzLmdwZ3B1LHYsaCxkLHIpLGwuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGEuZGlzcG9zZURhdGEodC5kYXRhSWQpfSkpLGcmJihmPXRoaXMuZW5kVGltZXIoZiksdGhpcy5hY3RpdmVUaW1lcnMucHVzaCh7bmFtZTp0LmNvbnN0cnVjdG9yLm5hbWUscXVlcnk6dGhpcy5nZXRRdWVyeVRpbWUoZil9KSksIWkoKS5nZXRCb29sKFwiV0VCR0xfTEFaSUxZX1VOUEFDS1wiKSYmdS5pc1BhY2tlZCYmITE9PT1vKXt2YXIgbT10aGlzLnVucGFja1RlbnNvcihzKTtyZXR1cm4gdGhpcy5kaXNwb3NlRGF0YShzLmRhdGFJZCksbX1yZXR1cm4gc30sby5wcm90b3R5cGUuY29tcGlsZUFuZFJ1bj1mdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PW8mJihvPSExKSxuPW58fGVbMF0uZHR5cGU7dmFyIGE9dGhpcy5ydW5XZWJHTFByb2dyYW0odCxlLG4scixvKTtyZXR1cm4gTHQubWFrZVRlbnNvckZyb21EYXRhSWQoYS5kYXRhSWQsYS5zaGFwZSxhLmR0eXBlKX0sby5wcm90b3R5cGUuZ2V0QW5kU2F2ZUJpbmFyeT1mdW5jdGlvbih0LGUpe3JldHVybiB0IGluIHRoaXMuYmluYXJ5Q2FjaGV8fCh0aGlzLmJpbmFyeUNhY2hlW3RdPWUoKSksdGhpcy5iaW5hcnlDYWNoZVt0XX0sby5wcm90b3R5cGUuZ2V0VGV4dHVyZU1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0dXJlTWFuYWdlcn0sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoIXRoaXMuZGlzcG9zZWQpe2lmKCFpKCkuZ2V0Qm9vbChcIklTX1RFU1RcIikpT2JqZWN0LmtleXModGhpcy5iaW5hcnlDYWNoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5ncGdwdS5kZWxldGVQcm9ncmFtKHQuYmluYXJ5Q2FjaGVbZV0ud2ViR0xQcm9ncmFtKSxkZWxldGUgdC5iaW5hcnlDYWNoZVtlXX0pKTt0aGlzLnRleHR1cmVNYW5hZ2VyLmRpc3Bvc2UoKSxudWxsIT10aGlzLmNhbnZhcyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50JiZ0aGlzLmNhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50P3RoaXMuY2FudmFzLnJlbW92ZSgpOnRoaXMuY2FudmFzPW51bGwsdGhpcy5ncGdwdUNyZWF0ZWRMb2NhbGx5JiYodGhpcy5ncGdwdS5wcm9ncmFtPW51bGwsdGhpcy5ncGdwdS5kaXNwb3NlKCkpLHRoaXMuZGlzcG9zZWQ9ITB9fSxvLnByb3RvdHlwZS5mbG9hdFByZWNpc2lvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIG51bGw9PXRoaXMuZmxvYXRQcmVjaXNpb25WYWx1ZSYmKHRoaXMuZmxvYXRQcmVjaXNpb25WYWx1ZT1aZSgoZnVuY3Rpb24oKXtpZighaSgpLmdldChcIldFQkdMX1JFTkRFUl9GTE9BVDMyX0VOQUJMRURcIikpe3ZhciBlPWkoKS5nZXRCb29sKFwiREVCVUdcIik7aSgpLnNldChcIkRFQlVHXCIsITEpO3ZhciBuPXQuYWJzKE9uKDFlLTgpKS5kYXRhU3luYygpWzBdO2lmKGkoKS5zZXQoXCJERUJVR1wiLGUpLG4+MClyZXR1cm4gMzJ9cmV0dXJuIDE2fSkpKSx0aGlzLmZsb2F0UHJlY2lzaW9uVmFsdWV9LG8ucHJvdG90eXBlLmVwc2lsb249ZnVuY3Rpb24oKXtyZXR1cm4gMzI9PT10aGlzLmZsb2F0UHJlY2lzaW9uKCk/MWUtNzoxZS00fSxvLnByb3RvdHlwZS51cGxvYWRUb0dQVT1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMudGV4RGF0YS5nZXQodCkscj1uLnNoYXBlLG89bi5kdHlwZSxhPW4udmFsdWVzLGk9bi50ZXh0dXJlLHM9bi51c2FnZSx1PW4uaXNQYWNrZWQ7aWYobnVsbD09aSl7dmFyIGMsbD1udWxsIT10aGlzLmFjdGl2ZVRpbWVycztsJiYoYz1ldCgpKTt2YXIgaD1uLnRleFNoYXBlO2lmKG51bGw9PWgmJihoPU5lKHIsdSksbi50ZXhTaGFwZT1oKSxudWxsIT1hKXt2YXIgZj1EZShyKSxkPXZvaWQgMCxwPWhbMV0sdj1oWzBdLGc9YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk7dT8ocD0oZT0kdChoWzBdLGhbMV0pKVswXSx2PWVbMV0sZD1uZXcgdHMoZixbdixwXSxnKSk6ZD1uZXcgWmkoZixbdixwXSxnKTt2YXIgbT10aGlzLm1ha2VUZW5zb3JJbmZvKFt2LHBdLG8pO3RoaXMudGV4RGF0YS5nZXQobS5kYXRhSWQpLnVzYWdlPWc/enQuUElYRUxTOnp0LlVQTE9BRCx0aGlzLmdwZ3B1LnVwbG9hZERlbnNlTWF0cml4VG9UZXh0dXJlKHRoaXMuZ2V0VGV4dHVyZShtLmRhdGFJZCkscCx2LGEpO3ZhciB5PXRoaXMucnVuV2ViR0xQcm9ncmFtKGQsW21dLG8sbnVsbCwhMCkseD10aGlzLnRleERhdGEuZ2V0KHkuZGF0YUlkKTtuLnRleHR1cmU9eC50ZXh0dXJlLG4udGV4U2hhcGU9eC50ZXhTaGFwZSxuLmlzUGFja2VkPXguaXNQYWNrZWQsbi51c2FnZT14LnVzYWdlLHRoaXMuZGlzcG9zZURhdGEobS5kYXRhSWQpLHRoaXMudGV4RGF0YS5kZWxldGUoeS5kYXRhSWQpLG4udmFsdWVzPW51bGwsbCYmKHRoaXMudXBsb2FkV2FpdE1zKz1ldCgpLWMpfWVsc2V7dmFyIGI9dGhpcy5hY3F1aXJlVGV4dHVyZShoLHMsbyx1KTtuLnRleHR1cmU9Yn19fSxvLnByb3RvdHlwZS5jb252ZXJ0QW5kQ2FjaGVPbkNQVT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudGV4RGF0YS5nZXQodCkscj1uLmR0eXBlO3JldHVybiB0aGlzLnJlbGVhc2VHUFVEYXRhKHQpLG51bGwhPWUmJihuLnZhbHVlcz1mdW5jdGlvbih0LGUpe2lmKFwiZmxvYXQzMlwiPT09ZXx8XCJjb21wbGV4NjRcIj09PWUpcmV0dXJuIHQ7aWYoXCJpbnQzMlwiPT09ZXx8XCJib29sXCI9PT1lKXtmb3IodmFyIG49XCJpbnQzMlwiPT09ZT9uZXcgSW50MzJBcnJheSh0Lmxlbmd0aCk6bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpLHI9MDtyPG4ubGVuZ3RoOysrciluW3JdPU1hdGgucm91bmQodFtyXSk7cmV0dXJuIG59dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkdHlwZSBcIitlKX0oZSxyKSksbi52YWx1ZXN9LG8ucHJvdG90eXBlLmFjcXVpcmVUZXh0dXJlPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHRoaXMubnVtQnl0ZXNJbkdQVSs9dGhpcy5jb21wdXRlQnl0ZXModCxuKSwhdGhpcy53YXJuZWRBYm91dE1lbW9yeSYmdGhpcy5udW1CeXRlc0luR1BVPjEwMjQqdGhpcy5udW1NQkJlZm9yZVdhcm5pbmcqMTAyNCl7dmFyIG89KHRoaXMubnVtQnl0ZXNJbkdQVS8xMDI0LzEwMjQpLnRvRml4ZWQoMik7dGhpcy53YXJuZWRBYm91dE1lbW9yeT0hMCxjb25zb2xlLndhcm4oXCJIaWdoIG1lbW9yeSB1c2FnZSBpbiBHUFU6IFwiK28rXCIgTUIsIG1vc3QgbGlrZWx5IGR1ZSB0byBhIG1lbW9yeSBsZWFrXCIpfXJldHVybiB0aGlzLnRleHR1cmVNYW5hZ2VyLmFjcXVpcmVUZXh0dXJlKHQsZSxyKX0sby5wcm90b3R5cGUuY29tcHV0ZUJ5dGVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF0qdFsxXSp6KGUpfSxvfShsYSk7V3QoKSYmTHQucmVnaXN0ZXJCYWNrZW5kKFwid2ViZ2xcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFV1fSksMik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZjtmdW5jdGlvbiBWdSh0LGUpe3JldHVybiB0KGU9e2V4cG9ydHM6e319LGUuZXhwb3J0cyksZS5leHBvcnRzfXZhciB6dT1WdSgoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlLG49dGhpcyxyPShlPTQwMjI4NzExOTcsZnVuY3Rpb24odCl7dD10LnRvU3RyaW5nKCk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPS4wMjUxOTYwMzI4MjQxNjkzOCooZSs9dC5jaGFyQ29kZUF0KG4pKTtyLT1lPXI+Pj4wLGU9KHIqPWUpPj4+MCxlKz00Mjk0OTY3Mjk2KihyLT1lKX1yZXR1cm4gMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMCooZT4+PjApfSk7bi5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9MjA5MTYzOSpuLnMwKzIuMzI4MzA2NDM2NTM4Njk2M2UtMTAqbi5jO3JldHVybiBuLnMwPW4uczEsbi5zMT1uLnMyLG4uczI9dC0obi5jPTB8dCl9LG4uYz0xLG4uczA9cihcIiBcIiksbi5zMT1yKFwiIFwiKSxuLnMyPXIoXCIgXCIpLG4uczAtPXIodCksbi5zMDwwJiYobi5zMCs9MSksbi5zMS09cih0KSxuLnMxPDAmJihuLnMxKz0xKSxuLnMyLT1yKHQpLG4uczI8MCYmKG4uczIrPTEpLHI9bnVsbH1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGUuYz10LmMsZS5zMD10LnMwLGUuczE9dC5zMSxlLnMyPXQuczIsZX1mdW5jdGlvbiBhKHQsZSl7dmFyIG49bmV3IHIodCksYT1lJiZlLnN0YXRlLGk9bi5uZXh0O3JldHVybiBpLmludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5NjcyOTYqbi5uZXh0KCl8MH0saS5kb3VibGU9ZnVuY3Rpb24oKXtyZXR1cm4gaSgpKzExMTAyMjMwMjQ2MjUxNTY1ZS0zMiooMjA5NzE1MippKCl8MCl9LGkucXVpY2s9aSxhJiYoXCJvYmplY3RcIj09dHlwZW9mIGEmJm8oYSxuKSxpLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG8obix7fSl9KSxpfWUmJmUuZXhwb3J0cz9lLmV4cG9ydHM9YTpuJiZuLmFtZD9uKChmdW5jdGlvbigpe3JldHVybiBhfSkpOnRoaXMuYWxlYT1hfSgwLHQsITEpfSkpLEd1PVZ1KChmdW5jdGlvbih0KXshZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIGU9dGhpcyxuPVwiXCI7ZS54PTAsZS55PTAsZS56PTAsZS53PTAsZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9ZS54XmUueDw8MTE7cmV0dXJuIGUueD1lLnksZS55PWUueixlLno9ZS53LGUud149ZS53Pj4+MTledF50Pj4+OH0sdD09PSgwfHQpP2UueD10Om4rPXQ7Zm9yKHZhciByPTA7cjxuLmxlbmd0aCs2NDtyKyspZS54Xj0wfG4uY2hhckNvZGVBdChyKSxlLm5leHQoKX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGUueD10LngsZS55PXQueSxlLno9dC56LGUudz10LncsZX1mdW5jdGlvbiBhKHQsZSl7dmFyIG49bmV3IHIodCksYT1lJiZlLnN0YXRlLGk9ZnVuY3Rpb24oKXtyZXR1cm4obi5uZXh0KCk+Pj4wKS80Mjk0OTY3Mjk2fTtyZXR1cm4gaS5kb3VibGU9ZnVuY3Rpb24oKXtkb3t2YXIgdD0oKG4ubmV4dCgpPj4+MTEpKyhuLm5leHQoKT4+PjApLzQyOTQ5NjcyOTYpLygxPDwyMSl9d2hpbGUoMD09PXQpO3JldHVybiB0fSxpLmludDMyPW4ubmV4dCxpLnF1aWNrPWksYSYmKFwib2JqZWN0XCI9PXR5cGVvZiBhJiZvKGEsbiksaS5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBvKG4se30pfSksaX1lJiZlLmV4cG9ydHM/ZS5leHBvcnRzPWE6biYmbi5hbWQ/bigoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTp0aGlzLnhvcjEyOD1hfSgwLHQsITEpfSkpLEh1PVZ1KChmdW5jdGlvbih0KXshZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIGU9dGhpcyxuPVwiXCI7ZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9ZS54XmUueD4+PjI7cmV0dXJuIGUueD1lLnksZS55PWUueixlLno9ZS53LGUudz1lLnYsKGUuZD1lLmQrMzYyNDM3fDApKyhlLnY9ZS52XmUudjw8NF50XnQ8PDEpfDB9LGUueD0wLGUueT0wLGUuej0wLGUudz0wLGUudj0wLHQ9PT0oMHx0KT9lLng9dDpuKz10O2Zvcih2YXIgcj0wO3I8bi5sZW5ndGgrNjQ7cisrKWUueF49MHxuLmNoYXJDb2RlQXQocikscj09bi5sZW5ndGgmJihlLmQ9ZS54PDwxMF5lLng+Pj40KSxlLm5leHQoKX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGUueD10LngsZS55PXQueSxlLno9dC56LGUudz10LncsZS52PXQudixlLmQ9dC5kLGV9ZnVuY3Rpb24gYSh0LGUpe3ZhciBuPW5ldyByKHQpLGE9ZSYmZS5zdGF0ZSxpPWZ1bmN0aW9uKCl7cmV0dXJuKG4ubmV4dCgpPj4+MCkvNDI5NDk2NzI5Nn07cmV0dXJuIGkuZG91YmxlPWZ1bmN0aW9uKCl7ZG97dmFyIHQ9KChuLm5leHQoKT4+PjExKSsobi5uZXh0KCk+Pj4wKS80Mjk0OTY3Mjk2KS8oMTw8MjEpfXdoaWxlKDA9PT10KTtyZXR1cm4gdH0saS5pbnQzMj1uLm5leHQsaS5xdWljaz1pLGEmJihcIm9iamVjdFwiPT10eXBlb2YgYSYmbyhhLG4pLGkuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbyhuLHt9KX0pLGl9ZSYmZS5leHBvcnRzP2UuZXhwb3J0cz1hOm4mJm4uYW1kP24oKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk6dGhpcy54b3J3b3c9YX0oMCx0LCExKX0pKSxxdT1WdSgoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPXRoaXM7ZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQsbixyPWUueCxvPWUuaTtyZXR1cm4gdD1yW29dLG49KHRePXQ+Pj43KV50PDwyNCxuXj0odD1yW28rMSY3XSledD4+PjEwLG5ePSh0PXJbbyszJjddKV50Pj4+MyxuXj0odD1yW28rNCY3XSledDw8Nyx0PXJbbys3JjddLG5ePSh0Xj10PDwxMyledDw8OSxyW29dPW4sZS5pPW8rMSY3LG59LGZ1bmN0aW9uKHQsZSl7dmFyIG4scj1bXTtpZihlPT09KDB8ZSkpclswXT1lO2Vsc2UgZm9yKGU9XCJcIitlLG49MDtuPGUubGVuZ3RoOysrbilyWzcmbl09cls3Jm5dPDwxNV5lLmNoYXJDb2RlQXQobikrcltuKzEmN108PDEzO2Zvcig7ci5sZW5ndGg8ODspci5wdXNoKDApO2ZvcihuPTA7bjw4JiYwPT09cltuXTsrK24pO2Zvcig4PT1uP3JbN109LTE6cltuXSx0Lng9cix0Lmk9MCxuPTI1NjtuPjA7LS1uKXQubmV4dCgpfShlLHQpfWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gZS54PXQueC5zbGljZSgpLGUuaT10LmksZX1mdW5jdGlvbiBhKHQsZSl7bnVsbD09dCYmKHQ9K25ldyBEYXRlKTt2YXIgbj1uZXcgcih0KSxhPWUmJmUuc3RhdGUsaT1mdW5jdGlvbigpe3JldHVybihuLm5leHQoKT4+PjApLzQyOTQ5NjcyOTZ9O3JldHVybiBpLmRvdWJsZT1mdW5jdGlvbigpe2Rve3ZhciB0PSgobi5uZXh0KCk+Pj4xMSkrKG4ubmV4dCgpPj4+MCkvNDI5NDk2NzI5NikvKDE8PDIxKX13aGlsZSgwPT09dCk7cmV0dXJuIHR9LGkuaW50MzI9bi5uZXh0LGkucXVpY2s9aSxhJiYoYS54JiZvKGEsbiksaS5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBvKG4se30pfSksaX1lJiZlLmV4cG9ydHM/ZS5leHBvcnRzPWE6biYmbi5hbWQ/bigoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTp0aGlzLnhvcnNoaWZ0Nz1hfSgwLHQsITEpfSkpLEt1PVZ1KChmdW5jdGlvbih0KXshZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIGU9dGhpcztlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgdCxuLHI9ZS53LG89ZS5YLGE9ZS5pO3JldHVybiBlLnc9cj1yKzE2NDA1MzE1Mjd8MCxuPW9bYSszNCYxMjddLHQ9b1thPWErMSYxMjddLG5ePW48PDEzLHRePXQ8PDE3LG5ePW4+Pj4xNSx0Xj10Pj4+MTIsbj1vW2FdPW5edCxlLmk9YSxuKyhyXnI+Pj4xNil8MH0sZnVuY3Rpb24odCxlKXt2YXIgbixyLG8sYSxpLHM9W10sdT0xMjg7Zm9yKGU9PT0oMHxlKT8ocj1lLGU9bnVsbCk6KGUrPVwiXFwwXCIscj0wLHU9TWF0aC5tYXgodSxlLmxlbmd0aCkpLG89MCxhPS0zMjthPHU7KythKWUmJihyXj1lLmNoYXJDb2RlQXQoKGErMzIpJWUubGVuZ3RoKSksMD09PWEmJihpPXIpLHJePXI8PDEwLHJePXI+Pj4xNSxyXj1yPDw0LHJePXI+Pj4xMyxhPj0wJiYoaT1pKzE2NDA1MzE1Mjd8MCxvPTA9PShuPXNbMTI3JmFdXj1yK2kpP28rMTowKTtmb3Iobz49MTI4JiYoc1sxMjcmKGUmJmUubGVuZ3RofHwwKV09LTEpLG89MTI3LGE9NTEyO2E+MDstLWEpcj1zW28rMzQmMTI3XSxuPXNbbz1vKzEmMTI3XSxyXj1yPDwxMyxuXj1uPDwxNyxyXj1yPj4+MTUsbl49bj4+PjEyLHNbb109cl5uO3Qudz1pLHQuWD1zLHQuaT1vfShlLHQpfWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gZS5pPXQuaSxlLnc9dC53LGUuWD10Llguc2xpY2UoKSxlfWZ1bmN0aW9uIGEodCxlKXtudWxsPT10JiYodD0rbmV3IERhdGUpO3ZhciBuPW5ldyByKHQpLGE9ZSYmZS5zdGF0ZSxpPWZ1bmN0aW9uKCl7cmV0dXJuKG4ubmV4dCgpPj4+MCkvNDI5NDk2NzI5Nn07cmV0dXJuIGkuZG91YmxlPWZ1bmN0aW9uKCl7ZG97dmFyIHQ9KChuLm5leHQoKT4+PjExKSsobi5uZXh0KCk+Pj4wKS80Mjk0OTY3Mjk2KS8oMTw8MjEpfXdoaWxlKDA9PT10KTtyZXR1cm4gdH0saS5pbnQzMj1uLm5leHQsaS5xdWljaz1pLGEmJihhLlgmJm8oYSxuKSxpLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG8obix7fSl9KSxpfWUmJmUuZXhwb3J0cz9lLmV4cG9ydHM9YTpuJiZuLmFtZD9uKChmdW5jdGlvbigpe3JldHVybiBhfSkpOnRoaXMueG9yNDA5Nj1hfSgwLHQsITEpfSkpLGp1PVZ1KChmdW5jdGlvbih0KXshZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIGU9dGhpcyxuPVwiXCI7ZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9ZS5iLG49ZS5jLHI9ZS5kLG89ZS5hO3JldHVybiB0PXQ8PDI1XnQ+Pj43Xm4sbj1uLXJ8MCxyPXI8PDI0XnI+Pj44Xm8sbz1vLXR8MCxlLmI9dD10PDwyMF50Pj4+MTJebixlLmM9bj1uLXJ8MCxlLmQ9cjw8MTZebj4+PjE2Xm8sZS5hPW8tdHwwfSxlLmE9MCxlLmI9MCxlLmM9LTE2NDA1MzE1MjcsZS5kPTEzNjcxMzA1NTEsdD09PU1hdGguZmxvb3IodCk/KGUuYT10LzQyOTQ5NjcyOTZ8MCxlLmI9MHx0KTpuKz10O2Zvcih2YXIgcj0wO3I8bi5sZW5ndGgrMjA7cisrKWUuYl49MHxuLmNoYXJDb2RlQXQociksZS5uZXh0KCl9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBlLmE9dC5hLGUuYj10LmIsZS5jPXQuYyxlLmQ9dC5kLGV9ZnVuY3Rpb24gYSh0LGUpe3ZhciBuPW5ldyByKHQpLGE9ZSYmZS5zdGF0ZSxpPWZ1bmN0aW9uKCl7cmV0dXJuKG4ubmV4dCgpPj4+MCkvNDI5NDk2NzI5Nn07cmV0dXJuIGkuZG91YmxlPWZ1bmN0aW9uKCl7ZG97dmFyIHQ9KChuLm5leHQoKT4+PjExKSsobi5uZXh0KCk+Pj4wKS80Mjk0OTY3Mjk2KS8oMTw8MjEpfXdoaWxlKDA9PT10KTtyZXR1cm4gdH0saS5pbnQzMj1uLm5leHQsaS5xdWljaz1pLGEmJihcIm9iamVjdFwiPT10eXBlb2YgYSYmbyhhLG4pLGkuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbyhuLHt9KX0pLGl9ZSYmZS5leHBvcnRzP2UuZXhwb3J0cz1hOm4mJm4uYW1kP24oKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk6dGhpcy50eWNoZWk9YX0oMCx0LCExKX0pKSxYdT1WdSgoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKGUsbil7dmFyIHIsbz10aGlzLGE9MjU2LGk9NixzPVwicmFuZG9tXCIsdT1uLnBvdyhhLGkpLGM9bi5wb3coMiw1MiksbD0yKmMsaD1hLTE7ZnVuY3Rpb24gZih0LGgsZil7dmFyIG09W10seT12KGZ1bmN0aW9uIHQoZSxuKXt2YXIgcixvPVtdLGE9dHlwZW9mIGU7aWYobiYmXCJvYmplY3RcIj09YSlmb3IociBpbiBlKXRyeXtvLnB1c2godChlW3JdLG4tMSkpfWNhdGNoKHQpe31yZXR1cm4gby5sZW5ndGg/bzpcInN0cmluZ1wiPT1hP2U6ZStcIlxcMFwifSgoaD0xPT1oP3tlbnRyb3B5OiEwfTpofHx7fSkuZW50cm9weT9bdCxnKGUpXTpudWxsPT10P2Z1bmN0aW9uKCl7dHJ5e3ZhciB0O3JldHVybiByJiYodD1yLnJhbmRvbUJ5dGVzKT90PXQoYSk6KHQ9bmV3IFVpbnQ4QXJyYXkoYSksKG8uY3J5cHRvfHxvLm1zQ3J5cHRvKS5nZXRSYW5kb21WYWx1ZXModCkpLGcodCl9Y2F0Y2godCl7dmFyIG49by5uYXZpZ2F0b3IsaT1uJiZuLnBsdWdpbnM7cmV0dXJuWytuZXcgRGF0ZSxvLGksby5zY3JlZW4sZyhlKV19fSgpOnQsMyksbSkseD1uZXcgZChtKSxiPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXguZyhpKSxlPXUsbj0wO3Q8YzspdD0odCtuKSphLGUqPWEsbj14LmcoMSk7Zm9yKDt0Pj1sOyl0Lz0yLGUvPTIsbj4+Pj0xO3JldHVybih0K24pL2V9O3JldHVybiBiLmludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIDB8eC5nKDQpfSxiLnF1aWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHguZyg0KS80Mjk0OTY3Mjk2fSxiLmRvdWJsZT1iLHYoZyh4LlMpLGUpLChoLnBhc3N8fGZ8fGZ1bmN0aW9uKHQsZSxyLG8pe3JldHVybiBvJiYoby5TJiZwKG8seCksdC5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBwKHgse30pfSkscj8obltzXT10LGUpOnR9KShiLHksXCJnbG9iYWxcImluIGg/aC5nbG9iYWw6dGhpcz09bixoLnN0YXRlKX1mdW5jdGlvbiBkKHQpe3ZhciBlLG49dC5sZW5ndGgscj10aGlzLG89MCxpPXIuaT1yLmo9MCxzPXIuUz1bXTtmb3Iobnx8KHQ9W24rK10pO288YTspc1tvXT1vKys7Zm9yKG89MDtvPGE7bysrKXNbb109c1tpPWgmaSt0W28lbl0rKGU9c1tvXSldLHNbaV09ZTsoci5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPTAsbz1yLmksaT1yLmoscz1yLlM7dC0tOyllPXNbbz1oJm8rMV0sbj1uKmErc1toJihzW29dPXNbaT1oJmkrZV0pKyhzW2ldPWUpXTtyZXR1cm4gci5pPW8sci5qPWksbn0pKGEpfWZ1bmN0aW9uIHAodCxlKXtyZXR1cm4gZS5pPXQuaSxlLmo9dC5qLGUuUz10LlMuc2xpY2UoKSxlfWZ1bmN0aW9uIHYodCxlKXtmb3IodmFyIG4scj10K1wiXCIsbz0wO288ci5sZW5ndGg7KWVbaCZvXT1oJihuXj0xOSplW2gmb10pK3IuY2hhckNvZGVBdChvKyspO3JldHVybiBnKGUpfWZ1bmN0aW9uIGcodCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoMCx0KX1pZihuW1wic2VlZFwiK3NdPWYsdihuLnJhbmRvbSgpLGUpLHQuZXhwb3J0cyl7dC5leHBvcnRzPWY7dHJ5e3I9cmVxdWlyZShcImNyeXB0b1wiKX1jYXRjaCh0KXt9fX0oW10sTWF0aCl9KSk7WHUuYWxlYT16dSxYdS54b3IxMjg9R3UsWHUueG9yd293PUh1LFh1LnhvcnNoaWZ0Nz1xdSxYdS54b3I0MDk2PUt1LFh1LnR5Y2hlaT1qdTt2YXIgWXU9WHUuYWxlYTt2YXIgJHU9QW4oe2FkZE5fOmZ1bmN0aW9uKHQpe0MoQXJyYXkuaXNBcnJheSh0KSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGYuYWRkTigpIG11c3QgYmUgYSBsaXN0IG9mIHRlbnNvcnNcIn0pKSxDKHQubGVuZ3RoPj0xLChmdW5jdGlvbigpe3JldHVyblwiTXVzdCBwYXNzIGF0IGxlYXN0IG9uZSB0ZW5zb3IgdG8gdGYuYWRkTigpLCBidXQgZ290IFwiK3QubGVuZ3RofSkpO3ZhciBlPXQubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBnbih0LFwidGVuc29yc1wiK2UsXCJhZGROXCIpfSkpLG49ZVswXTtlLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKHQuZHR5cGUhPT1uLmR0eXBlKXRocm93IG5ldyBFcnJvcihcIkFsbCB0ZW5zb3JzIHBhc3NlZCB0byB0Zi5hZGROKCkgbXVzdCBoYXZlIHRoZSBzYW1lIGR0eXBlXCIpfSkpLGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoIVModC5zaGFwZSxuLnNoYXBlKSl0aHJvdyBuZXcgRXJyb3IoXCJBbGwgdGVuc29ycyBwYXNzZWQgdG8gdGYuYWRkTigpIG11c3QgaGF2ZSB0aGUgc2FtZSBzaGFwZVwiKX0pKTt2YXIgcj1lO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3JldHVybiB0LmFkZE4oZSl9KSxyLG51bGwsXCJBZGROXCIpfX0pO2Z1bmN0aW9uIFF1KCl7WGUoXCJ0Zi5iYXRjaE5vcm1hbGl6YXRpb24oKSBpcyBnb2luZyBhd2F5LiBVc2UgdGYuYmF0Y2hOb3JtKCkgaW5zdGVhZCwgYW5kIG5vdGUgdGhlIHBvc2l0aW9uYWwgYXJndW1lbnQgY2hhbmdlIG9mIHNjYWxlLCBvZmZzZXQsIGFuZCB2YXJpYW5jZUVwc2lsb25cIil9ZnVuY3Rpb24gSnUodCl7cmV0dXJuIDA9PT10LnJhbmt8fDE9PT10LnJhbms/dC5hczREKDEsMSwxLHQuc2l6ZSk6Mj09PXQucmFuaz90LmFzNEQoMSwxLHQuc2hhcGVbMF0sdC5zaGFwZVsxXSk6Mz09PXQucmFuaz90LmFzNEQoMSx0LnNoYXBlWzBdLHQuc2hhcGVbMV0sdC5zaGFwZVsyXSk6dH1mdW5jdGlvbiBadSh0LGUsbixyLG8sYSl7bnVsbD09YSYmKGE9LjAwMSk7dmFyIGkscyx1PWduKHQsXCJ4XCIsXCJiYXRjaE5vcm1cIiksYz1nbihlLFwibWVhblwiLFwiYmF0Y2hOb3JtXCIpLGw9Z24obixcInZhcmlhbmNlXCIsXCJiYXRjaE5vcm1cIik7bnVsbCE9byYmKGk9Z24obyxcInNjYWxlXCIsXCJiYXRjaE5vcm1cIikpLG51bGwhPXImJihzPWduKHIsXCJvZmZzZXRcIixcImJhdGNoTm9ybVwiKSksQyhjLnJhbms9PT1sLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJCYXRjaCBub3JtYWxpemF0aW9uIGdyYWRpZW50IHJlcXVpcmVzIG1lYW4gYW5kIHZhcmlhbmNlIHRvIGhhdmUgZXF1YWwgcmFua3MuXCJ9KSksQyhudWxsPT1zfHxjLnJhbms9PT1zLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJCYXRjaCBub3JtYWxpemF0aW9uIGdyYWRpZW50IHJlcXVpcmVzIG1lYW4gYW5kIG9mZnNldCB0byBoYXZlIGVxdWFsIHJhbmtzLlwifSkpLEMobnVsbD09aXx8Yy5yYW5rPT09aS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiQmF0Y2ggbm9ybWFsaXphdGlvbiBncmFkaWVudCByZXF1aXJlcyBtZWFuIGFuZCBzY2FsZSB0byBoYXZlIGVxdWFsIHJhbmtzLlwifSkpO3ZhciBoPXt4OnUsc2NhbGU6aSxvZmZzZXQ6cyxtZWFuOmMsdmFyaWFuY2U6bH0sZj17dmFyaWFuY2VFcHNpbG9uOmF9O3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPUp1KHUpLHI9dC5iYXRjaE5vcm1hbGl6YXRpb24obix0YyhjKSx0YyhsKSxhLHRjKGkpLHRjKHMpKTtyZXR1cm4gZShbdSxjLGwsaV0pLHJ9KSxoLG51bGwsXCJGdXNlZEJhdGNoTm9ybVwiLGYpLnJlc2hhcGUodS5zaGFwZSl9ZnVuY3Rpb24gdGModCl7cmV0dXJuIG51bGw9PXQ/bnVsbDowPT09dC5yYW5rP3QuYXMxRCgpOjE9PT10LnJhbms/dDoyPT09dC5yYW5rP3QuYXM0RCgxLDEsdC5zaGFwZVswXSx0LnNoYXBlWzFdKTozPT09dC5yYW5rP3QuYXM0RCgxLHQuc2hhcGVbMF0sdC5zaGFwZVsxXSx0LnNoYXBlWzJdKTp0fXZhciBlYz1Bbih7YmF0Y2hOb3JtYWxpemF0aW9uXzpmdW5jdGlvbih0LGUsbixyLG8sYSl7cmV0dXJuIHZvaWQgMD09PXImJihyPS4wMDEpLFF1KCksWnUodCxlLG4sYSxvLHIpfX0pLG5jPUFuKHtiYXRjaE5vcm1fOlp1fSk7ZnVuY3Rpb24gcmModCxlLG4scixvLGEpe3ZhciBpLHMsdT1nbih0LFwieFwiLFwiYmF0Y2hOb3JtXCIpLGM9Z24oZSxcIm1lYW5cIixcImJhdGNoTm9ybVwiKSxsPWduKG4sXCJ2YXJpYW5jZVwiLFwiYmF0Y2hOb3JtXCIpO3JldHVybiBudWxsIT1vJiYoaT1nbihvLFwic2NhbGVcIixcImJhdGNoTm9ybVwiKSksbnVsbCE9ciYmKHM9Z24ocixcIm9mZnNldFwiLFwiYmF0Y2hOb3JtXCIpKSxDKDI9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm0zRDogeCBtdXN0IGJlIHJhbmsgMyBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLEMoMj09PWMucmFua3x8MT09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTJEOiBtZWFuIG11c3QgYmUgcmFuayAyIG9yIHJhbmsgMSBidXQgZ290IHJhbmsgXCIrYy5yYW5rK1wiLlwifSkpLEMoMj09PWwucmFua3x8MT09PWwucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTJEOiB2YXJpYW5jZSBtdXN0IGJlIHJhbmsgMiBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK2wucmFuaytcIi5cIn0pKSxudWxsIT1pJiZDKDI9PT1pLnJhbmt8fDE9PT1pLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm0yRDogc2NhbGUgbXVzdCBiZSByYW5rIDIgb3IgcmFuayAxIGJ1dCBnb3QgcmFuayBcIitpLnJhbmsrXCIuXCJ9KSksbnVsbCE9cyYmQygyPT09cy5yYW5rfHwxPT09cy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gYmF0Y2hOb3JtMkQ6IG9mZnNldCBtdXN0IGJlIHJhbmsgMiBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK3MucmFuaytcIi5cIn0pKSxuYyh1LGMsbCxzLGksYSl9dmFyIG9jPUFuKHtiYXRjaE5vcm1hbGl6YXRpb24yZF86ZnVuY3Rpb24odCxlLG4scixvLGEpe3JldHVybiB2b2lkIDA9PT1yJiYocj0uMDAxKSxRdSgpLHJjKHQsZSxuLGEsbyxyKX19KSxhYz1Bbih7YmF0Y2hOb3JtMmRfOnJjfSk7ZnVuY3Rpb24gaWModCxlLG4scixvLGEpe3ZhciBpLHMsdT1nbih0LFwieFwiLFwiYmF0Y2hOb3JtXCIpLGM9Z24oZSxcIm1lYW5cIixcImJhdGNoTm9ybVwiKSxsPWduKG4sXCJ2YXJpYW5jZVwiLFwiYmF0Y2hOb3JtXCIpO3JldHVybiBudWxsIT1vJiYoaT1nbihvLFwic2NhbGVcIixcImJhdGNoTm9ybVwiKSksbnVsbCE9ciYmKHM9Z24ocixcIm9mZnNldFwiLFwiYmF0Y2hOb3JtXCIpKSxDKDM9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm0zRDogeCBtdXN0IGJlIHJhbmsgMyBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLEMoMz09PWMucmFua3x8MT09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTNEOiBtZWFuIG11c3QgYmUgcmFuayAzIG9yIHJhbmsgMSBidXQgZ290IHJhbmsgXCIrYy5yYW5rK1wiLlwifSkpLEMoMz09PWwucmFua3x8MT09PWwucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTNEOiB2YXJpYW5jZSBtdXN0IGJlIHJhbmsgMyBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK2wucmFuaytcIi5cIn0pKSxudWxsIT1pJiZDKDM9PT1pLnJhbmt8fDE9PT1pLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm0zRDogc2NhbGUgbXVzdCBiZSByYW5rIDMgb3IgcmFuayAxIGJ1dCBnb3QgcmFuayBcIitpLnJhbmsrXCIuXCJ9KSksbnVsbCE9cyYmQygzPT09cy5yYW5rfHwxPT09cy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gYmF0Y2hOb3JtM0Q6IG9mZnNldCBtdXN0IGJlIHJhbmsgMyBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK3MucmFuaytcIi5cIn0pKSxuYyh1LGMsbCxzLGksYSl9dmFyIHNjPUFuKHtiYXRjaE5vcm1hbGl6YXRpb24zZF86ZnVuY3Rpb24odCxlLG4scixvLGEpe3JldHVybiB2b2lkIDA9PT1yJiYocj0uMDAxKSxRdSgpLGljKHQsZSxuLGEsbyxyKX19KSx1Yz1Bbih7YmF0Y2hOb3JtM2RfOmljfSk7ZnVuY3Rpb24gY2ModCxlLG4scixvLGEpe3ZhciBpLHMsdT1nbih0LFwieFwiLFwiYmF0Y2hOb3JtXCIpLGM9Z24oZSxcIm1lYW5cIixcImJhdGNoTm9ybVwiKSxsPWduKG4sXCJ2YXJpYW5jZVwiLFwiYmF0Y2hOb3JtXCIpO3JldHVybiBudWxsIT1vJiYoaT1nbihvLFwic2NhbGVcIixcImJhdGNoTm9ybVwiKSksbnVsbCE9ciYmKHM9Z24ocixcIm9mZnNldFwiLFwiYmF0Y2hOb3JtXCIpKSxDKDQ9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm00RDogeCBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLEMoND09PWMucmFua3x8MT09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTREOiBtZWFuIG11c3QgYmUgcmFuayA0IG9yIHJhbmsgMSBidXQgZ290IHJhbmsgXCIrYy5yYW5rK1wiLlwifSkpLEMoND09PWwucmFua3x8MT09PWwucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTREOiB2YXJpYW5jZSBtdXN0IGJlIHJhbmsgNCBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK2wucmFuaytcIi5cIn0pKSxudWxsIT1pJiZDKDQ9PT1pLnJhbmt8fDE9PT1pLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm00RDogc2NhbGUgbXVzdCBiZSByYW5rIDQgb3IgcmFuayAxIGJ1dCBnb3QgcmFuayBcIitpLnJhbmsrXCIuXCJ9KSksbnVsbCE9cyYmQyg0PT09cy5yYW5rfHwxPT09cy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gYmF0Y2hOb3JtNEQ6IG9mZnNldCBtdXN0IGJlIHJhbmsgNCBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK3MucmFuaytcIi5cIn0pKSxuYyh1LGMsbCxzLGksYSl9dmFyIGxjPUFuKHtiYXRjaE5vcm1hbGl6YXRpb240ZF86ZnVuY3Rpb24odCxlLG4scixvLGEpe3JldHVybiB2b2lkIDA9PT1yJiYocj0uMDAxKSxRdSgpLGNjKHQsZSxuLGEsbyxyKX19KSxoYz1Bbih7YmF0Y2hOb3JtNGRfOmNjfSk7dmFyIGZjPUFuKHticm9hZGNhc3RUb186ZnVuY3Rpb24odCxlKXt2YXIgbj1nbih0LFwiYnJvYWRjYXN0VG9cIixcInhcIikscj1uLnNoYXBlO2lmKGUuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuISh0PjApfHx0JTEhPTB9KSkpdGhyb3cgbmV3IEVycm9yKFwiYnJvYWRjYXN0VG8oKTogSW52YWxpZCBicm9hZGNhc3Qgc2hhcGUgW1wiK2UrXCJdLlwiKTtpZihlLmxlbmd0aDxuLnJhbmspdGhyb3cgbmV3IEVycm9yKFwiYnJvYWRjYXN0VG8oKTogc2hhcGUubGVuZ3RoPVwiK2UubGVuZ3RoK1wiIDwgaW5wdXQucmFuaz1cIituLnJhbmsrXCIuXCIpO2lmKGUubGVuZ3RoPm4ucmFuayl7Zm9yKHZhciBvPW4uc2hhcGUuc2xpY2UoKTtvLmxlbmd0aDxlLmxlbmd0aDspby51bnNoaWZ0KDEpO249bi5yZXNoYXBlKG8pfWZvcih2YXIgYT1uLnNoYXBlLGk9QXJyYXkuZnJvbShlKSxzPWUubGVuZ3RoLTE7cz49MDtzLS0paWYoYVtzXT09PWVbc10paVtzXT0xO2Vsc2UgaWYoMSE9PW4uc2hhcGVbc10pdGhyb3cgbmV3IEVycm9yKFwiYnJvYWRjYXN0VG8oKTogW1wiK3IrXCJdIGNhbm5vdCBiZSBicm9hZGNhc3QgdG8gW1wiK2UrXCJdLlwiKTt2YXIgdT1pLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4xP2U6LTF9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdD49MH0pKTtpZigwPT09dS5sZW5ndGgpcmV0dXJuIG4uY2xvbmUoKTt2YXIgYz17eDpufSxsPXtzaGFwZTplLGlucHV0U2hhcGU6YX07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbGUobixpKX0pLGMsKGZ1bmN0aW9uKHQpe3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuc3VtKHUsITApfX19KSxTcixsKX19KTt2YXIgZGM9QW4oe2Nsb25lXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiY2xvbmVcIixudWxsKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24oKXtyZXR1cm4gTHQubWFrZVRlbnNvckZyb21EYXRhSWQoZS5kYXRhSWQsZS5zaGFwZSxlLmR0eXBlKX0pLHt4OmV9LG51bGwsVHIpfX0pO3ZhciBwYz1Bbih7bG9naWNhbEFuZF86ZnVuY3Rpb24odCxlKXt2YXIgbj1nbih0LFwiYVwiLFwibG9naWNhbEFuZFwiLFwiYm9vbFwiKSxyPWduKGUsXCJiXCIsXCJsb2dpY2FsQW5kXCIsXCJib29sXCIpO3JldHVybiBQcihuLnNoYXBlLHIuc2hhcGUpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxvZ2ljYWxBbmQobixyKX0pLHthOm4sYjpyfSxudWxsLFwiTG9naWNhbEFuZFwiKX19KSx2Yz1Bbih7bG9naWNhbE5vdF86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcImxvZ2ljYWxOb3RcIixcImJvb2xcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxvZ2ljYWxOb3QoZSl9KSx7JHg6ZX0pfX0pLGdjPUFuKHtsb2dpY2FsT3JfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcImxvZ2ljYWxPclwiLFwiYm9vbFwiKSxyPWduKGUsXCJiXCIsXCJsb2dpY2FsT3JcIixcImJvb2xcIik7cmV0dXJuIFByKG4uc2hhcGUsci5zaGFwZSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQubG9naWNhbE9yKG4scil9KSx7JGE6biwkYjpyfSl9fSksbWM9QW4oe2xvZ2ljYWxYb3JfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcImxvZ2ljYWxYb3JcIixcImJvb2xcIikscj1nbihlLFwiYlwiLFwibG9naWNhbFhvclwiLFwiYm9vbFwiKTtyZXR1cm4gUHIobi5zaGFwZSxyLnNoYXBlKSxnYyh0LGUpLmxvZ2ljYWxBbmQocGModCxlKS5sb2dpY2FsTm90KCkpfX0pLHljPUFuKHt3aGVyZV86ZnVuY3Rpb24odCxlLG4pe3ZhciByPWduKGUsXCJhXCIsXCJ3aGVyZVwiKSxvPWduKG4sXCJiXCIsXCJ3aGVyZVwiKSxhPWduKHQsXCJjb25kaXRpb25cIixcIndoZXJlXCIsXCJib29sXCIpO3JldHVybiBFKHIuc2hhcGUsby5zaGFwZSxcIkVycm9yIGluIHdoZXJlOiBcIiksMT09PWEucmFuaz9DKGEuc2hhcGVbMF09PT1yLnNoYXBlWzBdLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGZpcnN0IGRpbWVuc2lvbiBvZiBgYWAgbXVzdCBtYXRjaCB0aGUgc2l6ZSBvZiBgY29uZGl0aW9uYC5cIn0pKTpFKGEuc2hhcGUsby5zaGFwZSxcIkVycm9yIGluIHdoZXJlOiBcIiksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10LnNlbGVjdChhLHIsbyk7cmV0dXJuIGUoW2FdKSxufSkseyRjb25kaXRpb246YSwkYTpyLCRiOm99LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyRjb25kaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gWG4obikudG9GbG9hdCgpfSwkYTpmdW5jdGlvbigpe3JldHVybiB0Lm11bChuLmNhc3QodC5kdHlwZSkpfSwkYjpmdW5jdGlvbigpe3JldHVybiB0Lm11bChuLmxvZ2ljYWxOb3QoKS5jYXN0KHQuZHR5cGUpKX19fSkpfX0pLHhjPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLG87cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCwoZT1nbih0LFwiY29uZGl0aW9uXCIsXCJ3aGVyZUFzeW5jXCIsXCJib29sXCIpKS5kYXRhKCldO2Nhc2UgMTpyZXR1cm4gbj1yLnNlbnQoKSxvPUdhKGUuc2hhcGUsbiksdCE9PWUmJmUuZGlzcG9zZSgpLFsyLG9dfX0pKX0pKX07dmFyIGJjPUFuKHtkaXZOb05hbl86ZnVuY3Rpb24odCxlKXt2YXIgbixyPWduKHQsXCJhXCIsXCJkaXZcIiksbz1nbihlLFwiYlwiLFwiZGl2XCIpO3I9KG49TnQocixvKSlbMF0sbz1uWzFdO3ZhciBhPUJvKHIsbyksaT1YbihhKSxzPW8uZXF1YWwoaSk7cmV0dXJuIHljKHMsaSxhKX19KTt2YXIgd2M9QW4oe3RpbGVfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcInhcIixcInRpbGVcIixudWxsKTtDKG4ucmFuaz09PWUubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gdHJhbnNwb3NlOiByYW5rIG9mIGlucHV0IFwiK24ucmFuaytcIiBtdXN0IG1hdGNoIGxlbmd0aCBvZiByZXBzIFwiK2UrXCIuXCJ9KSk7dmFyIHI9W25dLG89e3g6bn0sYT17cmVwczplfTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxyKXt2YXIgbz10LnRpbGUobixlKTtyZXR1cm4gcihbbl0pLG99KSxvLG51bGwsRHIsYSxyKX19KTt2YXIgQ2M9QW4oe2V5ZV86ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ciYmKHI9XCJmbG9hdDMyXCIpLG51bGw9PWUmJihlPXQpO2Zvcih2YXIgbz1lcihbdCxlXSxyKSxhPXQ8PWU/dDplLGk9MDtpPGE7KytpKW8uc2V0KDEsaSxpKTt2YXIgcz1vLnRvVGVuc29yKCkuYXMyRCh0LGUpO2lmKG51bGw9PW4pcmV0dXJuIHM7aWYoMT09PW4ubGVuZ3RoKXJldHVybiB3YyhzcihzLDApLFtuWzBdLDEsMV0pO2lmKDI9PT1uLmxlbmd0aClyZXR1cm4gd2Moc3Ioc3IocywwKSwwKSxbblswXSxuWzFdLDEsMV0pO2lmKDM9PT1uLmxlbmd0aClyZXR1cm4gd2Moc3Ioc3Ioc3IocywwKSwwKSwwKSxbblswXSxuWzFdLG5bMl0sMSwxXSk7dGhyb3cgbmV3IEVycm9yKFwiZXllKCkgY3VycmVudGx5IHN1cHBvcnRzIG9ubHkgMUQgYW5kIDJEIGJhdGNoU2hhcGVzLCBidXQgcmVjZWl2ZWQgXCIrbi5sZW5ndGgrXCJELlwiKX19KTt2YXIgRWM9QW4oe211bHRpbm9taWFsXzpmdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj0hMSk7dmFyIG89Z24odCxcImxvZ2l0c1wiLFwibXVsdGlub21pYWxcIiksYT1vLnNpemUsaT1vLnJhbms7aWYoYTwyKXRocm93IG5ldyBFcnJvcihcIkVycm9yIGluIG11bHRpbm9taWFsOiB5b3UgbmVlZCBhdCBsZWFzdCAyIG91dGNvbWVzLCBidXQgZ290IFwiK2ErXCIuXCIpO2lmKGk+Mil0aHJvdyBuZXcgRXJyb3IoXCJSYW5rIG9mIHByb2JhYmlsaXRpZXMgbXVzdCBiZSAxIG9yIDIsIGJ1dCBpcyBcIitpKTtuPW58fE1hdGgucmFuZG9tKCk7dmFyIHM9MT09PWk/by5hczJEKDEsLTEpOm8sdT1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5tdWx0aW5vbWlhbChzLHIsZSxuKX0pLHtsb2dpdHMyRDpzfSk7cmV0dXJuIDE9PT1pP3UuYXMxRCgpOnV9fSk7dmFyIFJjPUFuKHtvbmVIb3RfOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PXImJihyPTApLGU8Mil0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbiBvbmVIb3Q6IGRlcHRoIG11c3QgYmUgPj0yLCBidXQgaXQgaXMgXCIrZSk7dmFyIG89Z24odCxcImluZGljZXNcIixcIm9uZUhvdFwiLFwiaW50MzJcIiksYT1vLnNoYXBlLmNvbmNhdChbZV0pLGk9e2luZGljZXM6bz1vLmZsYXR0ZW4oKX0scz17ZGVwdGg6ZSxvblZhbHVlOm4sb2ZmVmFsdWU6cn07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsYSl7cmV0dXJuIGEoW29dKSx0Lm9uZUhvdChvLGUsbixyKX0pLGksbnVsbCxBcixzKS5yZXNoYXBlKGEpfX0pO3ZhciBJYz1Bbih7cGFkXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49MCk7dmFyIHI9Z24odCxcInhcIixcInBhZFwiKTtpZigwPT09ci5yYW5rKXRocm93IG5ldyBFcnJvcihcInBhZChzY2FsYXIpIGlzIG5vdCBkZWZpbmVkLiBQYXNzIG5vbi1zY2FsYXIgdG8gcGFkXCIpO3ZhciBvPXtwYWRkaW5nczplLGNvbnN0YW50VmFsdWU6bn0sYT17eDpyfTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxvKXtyZXR1cm4gbyhbcl0pLHQucGFkKHIsZSxuKX0pLGEsbnVsbCxOcixvKX19KTt2YXIga2M9QW4oe3BhZDFkXzpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPTApLEMoMj09PWUubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiSW52YWxpZCBudW1iZXIgb2YgcGFkZGluZ3MuIE11c3QgYmUgbGVuZ3RoIG9mIDIuXCJ9KSksSWModCxbZV0sbil9fSk7dmFyIFNjPUFuKHtwYWQyZF86ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0wKSxDKDI9PT1lLmxlbmd0aCYmMj09PWVbMF0ubGVuZ3RoJiYyPT09ZVsxXS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJJbnZhbGlkIG51bWJlciBvZiBwYWRkaW5ncy4gTXVzdCBiZSBsZW5ndGggb2YgMiBlYWNoLlwifSkpLEljKHQsZSxuKX19KTt2YXIgQWM9QW4oe3BhZDNkXzpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPTApLEMoMz09PWUubGVuZ3RoJiYyPT09ZVswXS5sZW5ndGgmJjI9PT1lWzFdLmxlbmd0aCYmMj09PWVbMl0ubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiSW52YWxpZCBudW1iZXIgb2YgcGFkZGluZ3MuIE11c3QgYmUgbGVuZ3RoIG9mIDIgZWFjaC5cIn0pKSxJYyh0LGUsbil9fSk7dmFyIFRjPUFuKHtwYWQ0ZF86ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0wKSxDKDQ9PT1lLmxlbmd0aCYmMj09PWVbMF0ubGVuZ3RoJiYyPT09ZVsxXS5sZW5ndGgmJjI9PT1lWzJdLmxlbmd0aCYmMj09PWVbM10ubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiSW52YWxpZCBudW1iZXIgb2YgcGFkZGluZ3MuIE11c3QgYmUgbGVuZ3RoIG9mIDIgZWFjaC5cIn0pKSxJYyh0LGUsbil9fSk7dmFyIERjPUFuKHtyYW5kXzpmdW5jdGlvbih0LGUsbil7dmFyIHI9ayh0KSxvPW51bGw7aWYobnVsbD09bnx8XCJmbG9hdDMyXCI9PT1uKW89bmV3IEZsb2F0MzJBcnJheShyKTtlbHNlIGlmKFwiaW50MzJcIj09PW4pbz1uZXcgSW50MzJBcnJheShyKTtlbHNle2lmKFwiYm9vbFwiIT09bil0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGEgdHlwZSBcIituKTtvPW5ldyBVaW50OEFycmF5KHIpfWZvcih2YXIgYT0wO2E8cjthKyspb1thXT1lKCk7cmV0dXJuIEx0Lm1ha2VUZW5zb3Iobyx0LG4pfX0pLE5jPS4wMDEsRmM9LjE7ZnVuY3Rpb24gX2MoKXtyZXR1cm4gMzI9PT1MdC5iYWNrZW5kLmZsb2F0UHJlY2lzaW9uKCk/TmM6RmN9ZnVuY3Rpb24gT2ModCxlLG4pe3ZhciByPSEwO2lmKChWKHQpfHxWKGUpKSYmKHI9ITEpLFYodCkmJlYoZSkmJihyPSEwKSxyKXt2YXIgbz10LmNvbnN0cnVjdG9yLm5hbWUsYT1lLmNvbnN0cnVjdG9yLm5hbWU7aWYobyE9PWEpdGhyb3cgbmV3IEVycm9yKFwiQXJyYXlzIGFyZSBvZiBkaWZmZXJlbnQgdHlwZS4gQWN0dWFsOiBcIitvK1wiLiBFeHBlY3RlZDogXCIrYSl9aWYoQXJyYXkuaXNBcnJheSh0KSYmQXJyYXkuaXNBcnJheShlKSl7dmFyIGk9cG4odCkscz1wbihlKTtpZighUyhpLHMpKXRocm93IG5ldyBFcnJvcihcIkFycmF5cyBoYXZlIGRpZmZlcmVudCBzaGFwZXMuIEFjdHVhbDogW1wiK2krXCJdLiBFeHBlY3RlZDogW1wiK3MrXCJdXCIpfXZhciB1PVYodCk/dDpJKHQpLGM9VihlKT9lOkkoZSk7aWYodS5sZW5ndGghPT1jLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJBcnJheXMgaGF2ZSBkaWZmZXJlbnQgbGVuZ3RocyBhY3R1YWw6IFwiK3UubGVuZ3RoK1wiIHZzIGV4cGVjdGVkOiBcIitjLmxlbmd0aCtcIi5cXG5BY3R1YWw6ICAgXCIrdStcIi5cXG5FeHBlY3RlZDogXCIrYytcIi5cIik7Zm9yKHZhciBsPTA7bDxjLmxlbmd0aDsrK2wpe3ZhciBoPXVbbF0sZj1jW2xdO2lmKCFuKGgsZikpdGhyb3cgbmV3IEVycm9yKFwiQXJyYXlzIGRpZmZlcjogYWN0dWFsW1wiK2wrXCJdID0gXCIraCtcIiwgZXhwZWN0ZWRbXCIrbCtcIl0gPSBcIitmK1wiLlxcbkFjdHVhbDogICBcIit1K1wiLlxcbkV4cGVjdGVkOiBcIitjK1wiLlwiKX19ZnVuY3Rpb24gTWModCxlLG4pe3JldHVybiFpc0Zpbml0ZSh0KSYmIWlzRmluaXRlKGUpfHwhKGlzTmFOKHQpfHxpc05hTihlKXx8TWF0aC5hYnModC1lKT5uKX12YXIgQmM9T2JqZWN0LmZyZWV6ZSh7VEVTVF9FUFNJTE9OX0ZMT0FUMTY6RmMsZXhwZWN0QXJyYXlzQ2xvc2U6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsPT1uJiYobj1fYygpKSxPYyh0LGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1jKHQsZSxuKX0pKX0sdGVzdEVwc2lsb246X2MsZXhwZWN0UHJvbWlzZVRvRmFpbDpmdW5jdGlvbih0LGUpe3QoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLmZhaWwoKX0pLChmdW5jdGlvbigpe3JldHVybiBlKCl9KSl9LGV4cGVjdEFycmF5c0VxdWFsOmZ1bmN0aW9uKHQsZSl7dmFyIG49XCJzdHJpbmdcIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcImJvb2xlYW5cIj09dHlwZW9mIGU/W2VdOmU7cmV0dXJuIEgodCl8fEgodFswXSl8fEgoZSl8fEgoZVswXSk/T2ModCxuLChmdW5jdGlvbih0LGUpe3JldHVybiB0PT1lfSkpOk9jKHQsZSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gTWModCxlLDApfSkpfSxleHBlY3ROdW1iZXJzQ2xvc2U6ZnVuY3Rpb24odCxlLG4pe2lmKG51bGw9PW4mJihuPV9jKCkpLCFNYyh0LGUsbikpdGhyb3cgbmV3IEVycm9yKFwiTnVtYmVycyBkaWZmZXI6IGFjdHVhbCA9PT0gXCIrdCtcIiwgZXhwZWN0ZWQgPT09IFwiK2UpfSxleHBlY3RWYWx1ZXNJblJhbmdlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdPGV8fHRbcl0+bil0aHJvdyBuZXcgRXJyb3IoXCJWYWx1ZSBvdXQgb2YgcmFuZ2U6XCIrdFtyXStcIiBsb3c6IFwiK2UrXCIsIGhpZ2g6IFwiK24pfSxleHBlY3RBcnJheUJ1ZmZlcnNFcXVhbDpmdW5jdGlvbih0LGUpe2V4cGVjdChuZXcgRmxvYXQzMkFycmF5KHQpKS50b0VxdWFsKG5ldyBGbG9hdDMyQXJyYXkoZSkpfX0pLFBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLG8pe3RoaXMubWVhbj10LHRoaXMuc3RkRGV2PWUsdGhpcy5kdHlwZT1uLHRoaXMubmV4dFZhbD1OYU4sdGhpcy50cnVuY2F0ZWQ9cix0aGlzLnRydW5jYXRlZCYmKHRoaXMudXBwZXI9dGhpcy5tZWFuKzIqdGhpcy5zdGREZXYsdGhpcy5sb3dlcj10aGlzLm1lYW4tMip0aGlzLnN0ZERldik7dmFyIGE9b3x8TWF0aC5yYW5kb20oKTt0aGlzLnJhbmRvbT1ZdShhLnRvU3RyaW5nKCkpfXJldHVybiB0LnByb3RvdHlwZS5uZXh0VmFsdWU9ZnVuY3Rpb24oKXtpZighaXNOYU4odGhpcy5uZXh0VmFsKSl7dmFyIHQ9dGhpcy5uZXh0VmFsO3JldHVybiB0aGlzLm5leHRWYWw9TmFOLHR9Zm9yKHZhciBlLG4scj0hMTshcjspe3ZhciBvPXZvaWQgMCxhPXZvaWQgMCxpPXZvaWQgMDtkb3tpPShvPTIqdGhpcy5yYW5kb20oKS0xKSpvKyhhPTIqdGhpcy5yYW5kb20oKS0xKSphfXdoaWxlKGk+PTF8fDA9PT1pKTt2YXIgcz1NYXRoLnNxcnQoLTIqTWF0aC5sb2coaSkvaSk7ZT10aGlzLm1lYW4rdGhpcy5zdGREZXYqbypzLG49dGhpcy5tZWFuK3RoaXMuc3RkRGV2KmEqcyx0aGlzLnRydW5jYXRlZCYmIXRoaXMuaXNWYWxpZFRydW5jYXRlZChlKXx8KHI9ITApfXJldHVybiB0aGlzLnRydW5jYXRlZCYmIXRoaXMuaXNWYWxpZFRydW5jYXRlZChuKXx8KHRoaXMubmV4dFZhbD10aGlzLmNvbnZlcnRWYWx1ZShuKSksdGhpcy5jb252ZXJ0VmFsdWUoZSl9LHQucHJvdG90eXBlLmNvbnZlcnRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dGhpcy5kdHlwZXx8XCJmbG9hdDMyXCI9PT10aGlzLmR0eXBlP3Q6TWF0aC5yb3VuZCh0KX0sdC5wcm90b3R5cGUuaXNWYWxpZFRydW5jYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdDw9dGhpcy51cHBlciYmdD49dGhpcy5sb3dlcn0sdH0oKSxMYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5hbHBoYT10LHRoaXMuYmV0YT0xL2UsdGhpcy5kdHlwZT1uO3ZhciBvPXJ8fE1hdGgucmFuZG9tKCk7dGhpcy5yYW5kdT1ZdShvLnRvU3RyaW5nKCkpLHRoaXMucmFuZG49bmV3IFBjKDAsMSxuLCExLHRoaXMucmFuZHUoKSksdGhpcy5kPXQ8MT90KzIvMzp0LTEvMyx0aGlzLmM9MS9NYXRoLnNxcnQoOSp0aGlzLmQpfXJldHVybiB0LnByb3RvdHlwZS5uZXh0VmFsdWU9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxuLHIsbyxhOzspe2Rve3I9dGhpcy5yYW5kbi5uZXh0VmFsdWUoKSxhPTErdGhpcy5jKnJ9d2hpbGUoYTw9MCk7aWYoYSo9YSphLGU9MS0uMzMxKih0PXIqcikqdCxuPS41KnQrdGhpcy5kKigxLWErTWF0aC5sb2coYSkpLChvPXRoaXMucmFuZHUoKSk8ZXx8TWF0aC5sb2cobyk8bilicmVha31yZXR1cm4gYT0xL3RoaXMuYmV0YSp0aGlzLmQqYSx0aGlzLmFscGhhPDEmJihhKj1NYXRoLnBvdyh0aGlzLnJhbmR1KCksMS90aGlzLmFscGhhKSksdGhpcy5jb252ZXJ0VmFsdWUoYSl9LHQucHJvdG90eXBlLmNvbnZlcnRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm5cImZsb2F0MzJcIj09PXRoaXMuZHR5cGU/dDpNYXRoLnJvdW5kKHQpfSx0fSgpLFdjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt2YXIgbz10aGlzO2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTEpLHRoaXMuY2FuUmV0dXJuRmxvYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09by5kdHlwZXx8XCJmbG9hdDMyXCI9PT1vLmR0eXBlfSx0aGlzLm1pbj10LHRoaXMucmFuZ2U9ZS10LHRoaXMuZHR5cGU9bixudWxsPT1yJiYocj1NYXRoLnJhbmRvbSgpKSxcIm51bWJlclwiPT10eXBlb2YgciYmKHI9ci50b1N0cmluZygpKSwhdGhpcy5jYW5SZXR1cm5GbG9hdCgpJiZ0aGlzLnJhbmdlPD0xKXRocm93IG5ldyBFcnJvcihcIlRoZSBkaWZmZXJlbmNlIGJldHdlZW4gXCIrdCtcIiAtIFwiK2UrXCIgPD0gMSBhbmQgZHR5cGUgaXMgbm90IGZsb2F0XCIpO3RoaXMucmFuZG9tPVl1KHIpfXJldHVybiB0LnByb3RvdHlwZS5jb252ZXJ0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FuUmV0dXJuRmxvYXQoKT90Ok1hdGgucm91bmQodCl9LHQucHJvdG90eXBlLm5leHRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnZlcnRWYWx1ZSh0aGlzLm1pbit0aGlzLnJhbmdlKnRoaXMucmFuZG9tKCkpfSx0fSgpO3ZhciBVYz1Bbih7cmFuZG9tR2FtbWFfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYodm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09ciYmKHI9XCJmbG9hdDMyXCIpLG51bGw9PW4mJihuPTEpLG51bGw9PXImJihyPVwiZmxvYXQzMlwiKSxcImZsb2F0MzJcIiE9PXImJlwiaW50MzJcIiE9PXIpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZGF0YSB0eXBlIFwiK3IpO2Zvcih2YXIgYT1uZXcgTGMoZSxuLHIsbyksaT1lcih0LHIpLHM9MDtzPGkudmFsdWVzLmxlbmd0aDtzKyspaS52YWx1ZXNbc109YS5uZXh0VmFsdWUoKTtyZXR1cm4gaS50b1RlbnNvcigpfX0pO3ZhciBWYz1Bbih7cmFuZG9tTm9ybWFsXzpmdW5jdGlvbih0LGUsbixyLG8pe2lmKHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPTEpLG51bGwhPXImJlwiYm9vbFwiPT09cil0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBkYXRhIHR5cGUgXCIrcik7Zm9yKHZhciBhPW5ldyBQYyhlLG4sciwhMSxvKSxpPWVyKHQscikscz0wO3M8aS52YWx1ZXMubGVuZ3RoO3MrKylpLnZhbHVlc1tzXT1hLm5leHRWYWx1ZSgpO3JldHVybiBpLnRvVGVuc29yKCl9fSk7dmFyIHpjPUFuKHtyYW5kb21Vbmlmb3JtXzpmdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PXImJihyPVwiZmxvYXQzMlwiKTtmb3IodmFyIGE9ZXIodCxyKSxpPW5ldyBXYyhlLG4sbnVsbCxvKSxzPTA7czxhLnZhbHVlcy5sZW5ndGg7cysrKWEudmFsdWVzW3NdPWkubmV4dFZhbHVlKCk7cmV0dXJuIGEudG9UZW5zb3IoKX19KTt2YXIgR2M9QW4oe3NxdWFyZV86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcInNxdWFyZVwiKSxuPVtlXTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXtyZXR1cm4gbihbZV0pLHQuc3F1YXJlKGUpfSkse3g6ZX0sbnVsbCxcIlNxdWFyZVwiLHt9LG4sW10pfX0pO3ZhciBIYz1Bbih7c3F1YXJlZERpZmZlcmVuY2VfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1nbih0LFwiYVwiLFwic3F1YXJlZERpZmZlcmVuY2VcIiksbz1nbihlLFwiYlwiLFwic3F1YXJlZERpZmZlcmVuY2VcIik7bj1OdChyLG8pLHI9blswXSxvPW5bMV0sUHIoci5zaGFwZSxvLnNoYXBlKTt2YXIgYT17YTpyLGI6b30saT1bcixvXTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10LnNxdWFyZWREaWZmZXJlbmNlKHIsbyk7cmV0dXJuIGUoW3Isb10pLG59KSxhLChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF0scj1lWzFdLG89T24oMik7cmV0dXJue2E6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWwobi5zdWIocikubXVsKG8pKX0sYjpmdW5jdGlvbigpe3JldHVybiB0Lm11bChyLnN1YihuKS5tdWwobykpfX19KSxFcix7fSxpLFtdKX19KTt2YXIgcWM9QW4oe3RydW5jYXRlZE5vcm1hbF86ZnVuY3Rpb24odCxlLG4scixvKXtpZih2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj0xKSxudWxsIT1yJiZcImJvb2xcIj09PXIpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZGF0YSB0eXBlICQgeyBkdHlwZSB9XCIpO2Zvcih2YXIgYT1uZXcgUGMoZSxuLHIsITAsbyksaT1lcih0LHIpLHM9MDtzPGkudmFsdWVzLmxlbmd0aDtzKyspaS52YWx1ZXNbc109YS5uZXh0VmFsdWUoKTtyZXR1cm4gaS50b1RlbnNvcigpfX0pO3ZhciBLYz1Bbih7ZXF1YWxfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1nbih0LFwiYVwiLFwiZXF1YWxcIiksbz1nbihlLFwiYlwiLFwiZXF1YWxcIik7cmV0dXJuIG49TnQocixvKSxyPW5bMF0sbz1uWzFdLFByKHIuc2hhcGUsby5zaGFwZSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuZXF1YWwocixvKX0pLHskYTpyLCRiOm99KX19KSxqYz1Bbih7ZXF1YWxTdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcImVxdWFsU3RyaWN0XCIpLHI9Z24oZSxcImJcIixcImVxdWFsU3RyaWN0XCIpO3JldHVybiBFKG4uc2hhcGUsci5zaGFwZSxcIkVycm9yIGluIGVxdWFsU3RyaWN0OiBcIiksbi5lcXVhbChyKX19KSxYYz1Bbih7Z3JlYXRlcl86ZnVuY3Rpb24odCxlKXt2YXIgbixyPWduKHQsXCJhXCIsXCJncmVhdGVyXCIpLG89Z24oZSxcImJcIixcImdyZWF0ZXJcIik7cmV0dXJuIG49TnQocixvKSxyPW5bMF0sbz1uWzFdLFByKHIuc2hhcGUsby5zaGFwZSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ3JlYXRlcihyLG8pfSkse2E6cixiOm99LG51bGwsXCJHcmVhdGVyXCIpfX0pLFljPUFuKHtncmVhdGVyRXF1YWxfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1nbih0LFwiYVwiLFwiZ3JlYXRlckVxdWFsXCIpLG89Z24oZSxcImJcIixcImdyZWF0ZXJFcXVhbFwiKTtyZXR1cm4gbj1OdChyLG8pLHI9blswXSxvPW5bMV0sUHIoci5zaGFwZSxvLnNoYXBlKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ3JlYXRlckVxdWFsKHIsbyk7cmV0dXJuIGUoW3Isb10pLG59KSx7YTpyLGI6b30sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV07cmV0dXJue2E6ZnVuY3Rpb24oKXtyZXR1cm4gWG4obil9LGI6ZnVuY3Rpb24oKXtyZXR1cm4gWG4ocil9fX0pLFwiR3JlYXRlckVxdWFsXCIpfX0pLCRjPUFuKHtncmVhdGVyRXF1YWxTdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcImdyZWF0ZXJFcXVhbFN0cmljdFwiKSxyPWduKGUsXCJiXCIsXCJncmVhdGVyRXF1YWxTdHJpY3RcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwiRXJyb3IgaW4gZ3JlYXRlckVxdWFsU3RyaWN0OiBcIiksbi5ncmVhdGVyRXF1YWwocil9fSksUWM9QW4oe2dyZWF0ZXJTdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcImdyZWF0ZXJTdHJpY3RcIikscj1nbihlLFwiYlwiLFwiZ3JlYXRlclN0cmljdFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBncmVhdGVyU3RyaWN0OiBcIiksbi5ncmVhdGVyKHIpfX0pLEpjPUFuKHtsZXNzXzpmdW5jdGlvbih0LGUpe3ZhciBuLHI9Z24odCxcImFcIixcImxlc3NcIiksbz1nbihlLFwiYlwiLFwibGVzc1wiKTtyZXR1cm4gbj1OdChyLG8pLHI9blswXSxvPW5bMV0sUHIoci5zaGFwZSxvLnNoYXBlKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5sZXNzKHIsbyl9KSx7YTpyLGI6b30sbnVsbCxcIkxlc3NcIil9fSksWmM9QW4oe2xlc3NFcXVhbF86ZnVuY3Rpb24odCxlKXt2YXIgbixyPWduKHQsXCJhXCIsXCJsZXNzRXF1YWxcIiksbz1nbihlLFwiYlwiLFwibGVzc0VxdWFsXCIpO3JldHVybiBuPU50KHIsbykscj1uWzBdLG89blsxXSxQcihyLnNoYXBlLG8uc2hhcGUpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZXNzRXF1YWwocixvKTtyZXR1cm4gZShbcixvXSksbn0pLHthOnIsYjpvfSxudWxsLFwiTGVzc0VxdWFsXCIpfX0pLHRsPUFuKHtsZXNzRXF1YWxTdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcImxlc3NFcXVhbFN0cmljdFwiKSxyPWduKGUsXCJiXCIsXCJsZXNzRXF1YWxTdHJpY3RcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwiRXJyb3IgaW4gbGVzc0VxdWFsU3RyaWN0OiBcIiksbi5sZXNzRXF1YWwocil9fSksZWw9QW4oe2xlc3NTdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcImxlc3NTdHJpY3RcIikscj1nbihlLFwiYlwiLFwibGVzc1N0cmljdFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBsZXNzU3RyaWN0OiBcIiksbi5sZXNzKHIpfX0pLG5sPUFuKHtub3RFcXVhbF86ZnVuY3Rpb24odCxlKXt2YXIgbixyPWduKHQsXCJhXCIsXCJub3RFcXVhbFwiKSxvPWduKGUsXCJiXCIsXCJub3RFcXVhbFwiKTtyZXR1cm4gbj1OdChyLG8pLHI9blswXSxvPW5bMV0sUHIoci5zaGFwZSxvLnNoYXBlKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5ub3RFcXVhbChyLG8pfSkse2E6cixiOm99LG51bGwsXCJOb3RFcXVhbFwiKX19KSxybD1Bbih7bm90RXF1YWxTdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcImFcIixcIm5vdEVxdWFsU3RyaWN0XCIpLHI9Z24oZSxcImJcIixcIm5vdEVxdWFsU3RyaWN0XCIpO3JldHVybiBFKG4uc2hhcGUsci5zaGFwZSxcIkVycm9yIGluIG5vdEVxdWFsU3RyaWN0OiBcIiksbi5ub3RFcXVhbChyKX19KTtmdW5jdGlvbiBvbCh0LGUpe2Zvcih2YXIgbj1bXSxyPXQ7cjxlOysrciluLnB1c2gocik7cmV0dXJuIG59ZnVuY3Rpb24gYWwodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoOysrbilmb3IodmFyIHI9MDtyPHRbbl0ubGVuZ3RoOysrcillLnB1c2godFtuXVtyXSk7cmV0dXJuIGV9dmFyIGlsPUFuKHtnYXRoZXJfOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0wKTt2YXIgcj1nbih0LFwieFwiLFwiZ2F0aGVyXCIpLG89Z24oZSxcImluZGljZXNcIixcImdhdGhlclwiLFwiaW50MzJcIik7bj1PKG4sci5zaGFwZSlbMF07dmFyIGE9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10LnNoYXBlW25dLG89W10sYT0xLGk9MSxzPTA7czxuO3MrKylvLnB1c2godC5zaGFwZVtzXSksYSo9dC5zaGFwZVtzXTtmb3Iocz0wO3M8ZS5yYW5rO3MrKylvLnB1c2goZS5zaGFwZVtzXSk7Zm9yKHM9bisxO3M8dC5yYW5rO3MrKylvLnB1c2godC5zaGFwZVtzXSksaSo9dC5zaGFwZVtzXTtyZXR1cm57YmF0Y2hTaXplOmEsc2xpY2VTaXplOmksZGltU2l6ZTpyLG91dHB1dFNoYXBlOm99fShyLG8sbik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIGE9dC5nYXRoZXIocixvLmZsYXR0ZW4oKSxuKTtyZXR1cm4gZShbb10pLGF9KSx7eDpyLGluZGljZXM6b30sKGZ1bmN0aW9uKHQsZSl7dmFyIG89ZVswXTtyZXR1cm57eDpmdW5jdGlvbigpe3ZhciBlPXIuc2hhcGUsYT1vLnNpemUsaT1lLnNsaWNlKDAsbikscz1pLmxlbmd0aCx1PWUuc2xpY2UobixlLmxlbmd0aCkuc2xpY2UoMSksYz11Lmxlbmd0aCxsPW9sKDAscyksaD1vbChzKzEscysxK2MpLGY9YWwoW2ksW2FdLHVdKSxkPXQucmVzaGFwZShmKSxwPW8ucmVzaGFwZShbYV0pLHY9YWwoW1tzXSxsLGhdKSxnPWQudHJhbnNwb3NlKHYpLG09c2woZyxwLHIuc2hhcGVbbl0pLHk9Um4odik7cmV0dXJuIG09bS50cmFuc3Bvc2UoeSl9LGluZGljZXM6ZnVuY3Rpb24oKXtyZXR1cm4gb319fSksXCJHYXRoZXJcIix7YXhpczpufSkucmVzaGFwZShhLm91dHB1dFNoYXBlKX19KSxzbD1Bbih7dW5zb3J0ZWRTZWdtZW50U3VtXzpmdW5jdGlvbih0LGUsbil7dmFyIHI9Z24odCxcInhcIixcInVuc29ydGVkU2VnbWVudFN1bVwiKSxvPWduKGUsXCJzZWdtZW50SWRzXCIsXCJ1bnNvcnRlZFNlZ21lbnRTdW1cIixcImludDMyXCIpO3JldHVybiBDKEEobiksKGZ1bmN0aW9uKCl7cmV0dXJuXCJudW1TZWdtZW50cyBtdXN0IGJlIG9mIGR0eXBlIGludFwifSkpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIGE9dC51bnNvcnRlZFNlZ21lbnRTdW0ocixvLG4pO3JldHVybiBlKFtvXSksYX0pLHskeDpyfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1FbyhlLFhuKGUpKSxyPWlsKHQsbiksbz1ZYyhlLE9uKDAsXCJpbnQzMlwiKSksYT1yLnJhbmstby5yYW5rLGk9MDtpPGE7KytpKW89c3IobyxpKzEpO289cGMobyx6bihyLnNoYXBlLFwiYm9vbFwiKSk7dmFyIHM9WG4ocik7cmV0dXJuIHljKG8scixzKX0odCxuKX19fSkpfX0pO3ZhciB1bD1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLGEsaSxzLHUsYyxsLGgsZixkLHAsdixnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6Zm9yKG49Z24odCxcInRlbnNvclwiLFwiYm9vbE1hc2tcIiksYT1nbihlLFwibWFza1wiLFwiYm9vbE1hc2tcIixcImJvb2xcIiksaT1udWxsPT1vPzA6byxzPWEucmFuayx1PW4uc2hhcGUsQyhzPjAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJtYXNrIGNhbm5vdCBiZSBzY2FsYXJcIn0pKSxFKHUuc2xpY2UoaSxpK3MpLGEuc2hhcGUsXCJtYXNrJ3Mgc2hhcGUgbXVzdCBtYXRjaCB0aGUgZmlyc3QgSyBkaW1lbnNpb25zIG9mIHRlbnNvcidzIHNoYXBlLFwiKSxjPTEsbD1pO2w8aStzO2wrKyljKj11W2xdO3JldHVybiBoPXUuc2xpY2UoMCxpKS5jb25jYXQoW2NdLHUuc2xpY2UoaStzKSksZj1uLnJlc2hhcGUoaCksZD1hLnJlc2hhcGUoWy0xXSksWzQseGMoZCldO2Nhc2UgMTpyZXR1cm4gcD1yLnNlbnQoKSx2PXAuc3F1ZWV6ZShbMV0pLGc9aWwoZix2LGkpLHQhPT1uJiZuLmRpc3Bvc2UoKSxlIT09YSYmYS5kaXNwb3NlKCksdi5kaXNwb3NlKCksZi5kaXNwb3NlKCksZC5kaXNwb3NlKCkscC5kaXNwb3NlKCksWzIsZ119fSkpfSkpfTtmdW5jdGlvbiBjbCh0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1hJiYoYT1cIk5IV0NcIiksQyh0Lmxlbmd0aD09PWUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkxlbmd0aCBvZiBpblNoYXBlIChcIit0Lmxlbmd0aCtcIikgYW5kIHJhbmsgb2YgZHkgKFwiK2UucmFuaytcIikgbXVzdCBtYXRjaFwifSkpO3ZhciBzPXQsdT1lLGM9ITE7Mz09PWUucmFuayYmKGM9ITAsdT1lLmFzNEQoMSxlLnNoYXBlWzBdLGUuc2hhcGVbMV0sZS5zaGFwZVsyXSkscz1bMSx0WzBdLHRbMV0sdFsyXV0pLEMoND09PXMubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkRGVySW5wdXQ6IGluU2hhcGUgbXVzdCBiZSBsZW5ndGggNCwgYnV0IGdvdCBsZW5ndGggXCIrcy5sZW5ndGgrXCIuXCJ9KSksQyg0PT09dS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkRGVySW5wdXQ6IGR5IG11c3QgYmUgcmFuayA0LCBidXQgZ290IHJhbmsgXCIrdS5yYW5rfSkpLEMoND09PW4ucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZERlcklucHV0OiBmaWx0ZXIgbXVzdCBiZSByYW5rIDQsIGJ1dCBnb3QgcmFuayBcIituLnJhbmt9KSk7dmFyIGw9XCJOSFdDXCI9PT1hP3NbM106c1sxXSxoPVwiTkhXQ1wiPT09YT91LnNoYXBlWzNdOnUuc2hhcGVbMV07QyhsPT09bi5zaGFwZVsyXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZERlcklucHV0OiBkZXB0aCBvZiBpbnB1dCAoXCIrbCtcIikgbXVzdCBtYXRjaCBpbnB1dCBkZXB0aCBmb3IgZmlsdGVyIFwiK24uc2hhcGVbMl0rXCIuXCJ9KSksQyhoPT09bi5zaGFwZVszXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZERlcklucHV0OiBkZXB0aCBvZiBvdXRwdXQgKFwiK2grXCIpIG11c3QgbWF0Y2ggb3V0cHV0IGRlcHRoIGZvciBmaWx0ZXIgXCIrbi5zaGFwZVszXStcIi5cIn0pKSxudWxsIT1pJiZDKEEobyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmREZXJJbnB1dDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBkaW1Sb3VuZGluZ01vZGUgXCIraStcIiBidXQgZ290IHBhZCBcIitvK1wiLlwifSkpO3ZhciBmPUVhKGEpLGQ9cGEocyxuLnNoYXBlLHIsMSxvLGksITEsZikscD1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciByPXQuY29udjJkRGVySW5wdXQodSxuLGQpO3JldHVybiBlKFtuLHVdKSxyfSkse2R5NEQ6dSxmaWx0ZXI6bn0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxzPWVbMV07cmV0dXJue2R5NEQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGwodCxuLHIsbyxhLDEsaSl9LGZpbHRlcjpmdW5jdGlvbigpe3JldHVybiB2bCh0LHMsbi5zaGFwZSxyLG8sYSxpKX19fSkpO3JldHVybiBjP3AuYXMzRChwLnNoYXBlWzFdLHAuc2hhcGVbMl0scC5zaGFwZVszXSk6cH1mdW5jdGlvbiBsbCh0KXt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD9bdCx0LHRdOjI9PT10Lmxlbmd0aD9bdFswXSx0WzFdLDFdOnR9KHQpLG49ZVswXSxyPWVbMV0sbz1lWzJdO3JldHVybiAxPT09biYmMT09PXImJjE9PT1vfWZ1bmN0aW9uIGhsKHQsZSxuLHIsbyl7Qyh0Lmxlbmd0aD09PWUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkxlbmd0aCBvZiBpblNoYXBlIChcIit0Lmxlbmd0aCtcIikgYW5kIHJhbmsgb2YgZHkgKFwiK2UucmFuaytcIikgbXVzdCBtYXRjaFwifSkpO3ZhciBhPXQsaT1lLHM9ITE7ND09PWUucmFuayYmKHM9ITAsaT1lLmFzNUQoMSxlLnNoYXBlWzBdLGUuc2hhcGVbMV0sZS5zaGFwZVsyXSxlLnNoYXBlWzNdKSxhPVsxLHRbMF0sdFsxXSx0WzJdLHRbM11dKTt2YXIgdT1hWzRdLGM9aS5zaGFwZVs0XTtDKDU9PT1hLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYzZERlcklucHV0OiBpblNoYXBlIG11c3QgYmUgbGVuZ3RoIDUsIGJ1dCBnb3QgbGVuZ3RoIFwiK2EubGVuZ3RoK1wiLlwifSkpLEMoNT09PWkucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYzZERlcklucHV0OiBkeSBtdXN0IGJlIHJhbmsgNSwgYnV0IGdvdCByYW5rIFwiK2kucmFua30pKSxDKDU9PT1uLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2REZXJJbnB1dDogZmlsdGVyIG11c3QgYmUgcmFuayA1LCBidXQgZ290IHJhbmsgXCIrbi5yYW5rfSkpLEModT09PW4uc2hhcGVbM10sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2REZXJJbnB1dDogZGVwdGggb2YgaW5wdXQgKFwiK3UrXCIpIG11c3QgbWF0Y2ggaW5wdXQgZGVwdGggZm9yIGZpbHRlciBcIituLnNoYXBlWzNdK1wiLlwifSkpLEMoYz09PW4uc2hhcGVbNF0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2REZXJJbnB1dDogZGVwdGggb2Ygb3V0cHV0IChcIitjK1wiKSBtdXN0IG1hdGNoIG91dHB1dCBkZXB0aCBmb3IgZmlsdGVyIFwiK24uc2hhcGVbNF0rXCIuXCJ9KSk7dmFyIGw9dmEoYSxuLnNoYXBlLHIsMSxvKSxoPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnYzZERlcklucHV0KGksbixsKX0pLHtkeTVEOml9KTtyZXR1cm4gcz9oLmFzNEQoaC5zaGFwZVsxXSxoLnNoYXBlWzJdLGguc2hhcGVbM10saC5zaGFwZVs0XSk6aH12YXIgZmw9QW4oe2NvbnYxZF86ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7dm9pZCAwPT09byYmKG89XCJOV0NcIiksdm9pZCAwPT09YSYmKGE9MSk7dmFyIHM9Z24odCxcInhcIixcImNvbnYxZFwiKSx1PWduKGUsXCJmaWx0ZXJcIixcImNvbnYxZFwiKSxjPXMsbD0hMTsyPT09cy5yYW5rJiYobD0hMCxjPXMuYXMzRCgxLHMuc2hhcGVbMF0scy5zaGFwZVsxXSkpLEMoMz09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYxZDogaW5wdXQgbXVzdCBiZSByYW5rIDMsIGJ1dCBnb3QgcmFuayBcIitjLnJhbmsrXCIuXCJ9KSksQygzPT09dS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjFkOiBmaWx0ZXIgbXVzdCBiZSByYW5rIDMsIGJ1dCBnb3QgcmFuayBcIit1LnJhbmsrXCIuXCJ9KSksbnVsbCE9aSYmQyhBKHIpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjFkOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSBcIitpK1wiIGJ1dCBnb3QgcGFkIFwiK3IrXCIuXCJ9KSksQyhjLnNoYXBlWzJdPT09dS5zaGFwZVsxXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYxZDogZGVwdGggb2YgaW5wdXQgKFwiK2Muc2hhcGVbMl0rXCIpIG11c3QgbWF0Y2ggaW5wdXQgZGVwdGggZm9yIGZpbHRlciBcIit1LnNoYXBlWzFdK1wiLlwifSkpLEMoQ2EobixhKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYxRDogRWl0aGVyIHN0cmlkZSBvciBkaWxhdGlvbiBtdXN0IGJlIDEuIEdvdCBzdHJpZGUgXCIrbitcIiBhbmQgZGlsYXRpb24gJ1wiK2ErXCInXCJ9KSksQyhcIk5XQ1wiPT09bywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYxZDogZ290IGRhdGFGb3JtYXQgb2YgXCIrbytcIiBidXQgb25seSBOV0MgaXMgY3VycmVudGx5IHN1cHBvcnRlZC5cIn0pKTt2YXIgaD11LmFzNEQoMSx1LnNoYXBlWzBdLHUuc2hhcGVbMV0sdS5zaGFwZVsyXSksZj1jLmFzNEQoYy5zaGFwZVswXSwxLGMuc2hhcGVbMV0sYy5zaGFwZVsyXSksZD1kbChmLGgsWzEsbl0scixcIk5IV0NcIixbMSxhXSxpKTtyZXR1cm4gbD9kLmFzMkQoZC5zaGFwZVsyXSxkLnNoYXBlWzNdKTpkLmFzM0QoZC5zaGFwZVswXSxkLnNoYXBlWzJdLGQuc2hhcGVbM10pfX0pLGRsPUFuKHtjb252MmRfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkpe3ZvaWQgMD09PW8mJihvPVwiTkhXQ1wiKSx2b2lkIDA9PT1hJiYoYT1bMSwxXSk7dmFyIHM9Z24odCxcInhcIixcImNvbnYyZFwiKSx1PWduKGUsXCJmaWx0ZXJcIixcImNvbnYyZFwiKSxjPXMsbD0hMTszPT09cy5yYW5rJiYobD0hMCxjPXMuYXM0RCgxLHMuc2hhcGVbMF0scy5zaGFwZVsxXSxzLnNoYXBlWzJdKSksQyg0PT09Yy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK2MucmFuaytcIi5cIn0pKSxDKDQ9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmQ6IGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK3UucmFuaytcIi5cIn0pKSxudWxsIT1pJiZDKEEociksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmQ6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgZGltUm91bmRpbmdNb2RlIFwiK2krXCIgYnV0IGdvdCBwYWQgXCIrcitcIi5cIn0pKTt2YXIgaD1cIk5IV0NcIj09PW8/Yy5zaGFwZVszXTpjLnNoYXBlWzFdO0MoaD09PXUuc2hhcGVbMl0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmQ6IGRlcHRoIG9mIGlucHV0IChcIitoK1wiKSBtdXN0IG1hdGNoIGlucHV0IGRlcHRoIGZvciBmaWx0ZXIgXCIrdS5zaGFwZVsyXStcIi5cIn0pKSxDKENhKG4sYSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MkQ6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK24rXCIgYW5kIGRpbGF0aW9ucyAnXCIrYStcIidcIn0pKTt2YXIgZj1FYShvKSxkPXBhKGMuc2hhcGUsdS5zaGFwZSxuLGEscixpLCExLGYpLHA9W3UsY10sdj1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQuY29udjJkKGMsdSxkKTtyZXR1cm4gZShbdSxjXSksbn0pLHt4OmMsZmlsdGVyOnV9LChmdW5jdGlvbih0LGUpe3ZhciBpPWUscz1pWzBdLHU9aVsxXTtyZXR1cm4gQyh3YShhKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGdyYWRpZW50IG9mIGNvbnYyRDogZGlsYXRpb24gcmF0ZXMgZ3JlYXRlciB0aGFuIDEgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIGluIGdyYWRpZW50cy4gR290IGRpbGF0aW9ucyAnXCIrYStcIidcIn0pKSx7eDpmdW5jdGlvbigpe3JldHVybiBnbCh1LnNoYXBlLHQscyxuLHIsbyl9LGZpbHRlcjpmdW5jdGlvbigpe3JldHVybiB2bCh1LHQscy5zaGFwZSxuLHIsbyl9fX0pLFwiQ29udjJEXCIsZCxwKTtyZXR1cm4gbD92LmFzM0Qodi5zaGFwZVsxXSx2LnNoYXBlWzJdLHYuc2hhcGVbM10pOnZ9fSkscGw9QW4oe2NvbnYzZF86ZnVuY3Rpb24odCxlLG4scixvLGEpe3ZvaWQgMD09PW8mJihvPVwiTkRIV0NcIiksdm9pZCAwPT09YSYmKGE9WzEsMSwxXSk7dmFyIGk9Z24odCxcInhcIixcImNvbnYzZFwiKSxzPWduKGUsXCJmaWx0ZXJcIixcImNvbnYzZFwiKSx1PWksYz0hMTs0PT09aS5yYW5rJiYoYz0hMCx1PWkuYXM1RCgxLGkuc2hhcGVbMF0saS5zaGFwZVsxXSxpLnNoYXBlWzJdLGkuc2hhcGVbM10pKSxDKDU9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2Q6IGlucHV0IG11c3QgYmUgcmFuayA1LCBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLEMoNT09PXMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYzZDogZmlsdGVyIG11c3QgYmUgcmFuayA1LCBidXQgZ290IHJhbmsgXCIrcy5yYW5rK1wiLlwifSkpLEModS5zaGFwZVs0XT09PXMuc2hhcGVbM10sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2Q6IGRlcHRoIG9mIGlucHV0IChcIit1LnNoYXBlWzRdK1wiKSBtdXN0IG1hdGNoIGlucHV0IGRlcHRoIGZvciBmaWx0ZXIgXCIrcy5zaGFwZVszXStcIi5cIn0pKSxDKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGxsKHQpfHxsbChlKX0obixhKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYzRDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gR290IHN0cmlkZXMgXCIrbitcIiBhbmQgZGlsYXRpb25zICdcIithK1wiJ1wifSkpLEMoXCJOREhXQ1wiPT09bywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYzZDogZ290IGRhdGFGb3JtYXQgb2YgXCIrbytcIiBidXQgb25seSBOREhXQyBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlwifSkpO3ZhciBsPXZhKHUuc2hhcGUscy5zaGFwZSxuLGEsciksaD1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQuY29udjNkKHUscyxsKTtyZXR1cm4gZShbdSxzXSksbn0pLHt4OnUsJGZpbHRlcjpzfSwoZnVuY3Rpb24odCxlKXtDKGxsKGEpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZ3JhZGllbnQgb2YgY29udjNEOiBkaWxhdGlvbiByYXRlcyBncmVhdGVyIHRoYW4gMSBhcmUgbm90IHlldCBzdXBwb3J0ZWQgaW4gZ3JhZGllbnRzLiBHb3QgZGlsYXRpb25zICdcIithK1wiJ1wifSkpO3ZhciBvPWVbMF0saT1lWzFdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIGhsKG8uc2hhcGUsdCxpLG4scil9LCRmaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scixvKXt2YXIgYT10OzQ9PT10LnJhbmsmJihhPXQuYXM1RCgxLHQuc2hhcGVbMF0sdC5zaGFwZVsxXSx0LnNoYXBlWzJdLHQuc2hhcGVbM10pKTt2YXIgaT1lOzQ9PT1pLnJhbmsmJihpPWUuYXM1RCgxLGUuc2hhcGVbMF0sZS5zaGFwZVsxXSxlLnNoYXBlWzJdLGUuc2hhcGVbM10pKTtDKDU9PT1hLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2REZXJGaWx0ZXI6IGlucHV0IG11c3QgYmUgcmFuayA1LCBidXQgZ290IHNoYXBlIFwiK2Euc2hhcGUrXCIuXCJ9KSksQyg1PT09aS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjNkRGVyRmlsdGVyOiBkeSBtdXN0IGJlIHJhbmsgNSwgYnV0IGdvdCBzaGFwZSBcIitpLnNoYXBlK1wiLlwifSkpLEMoNT09PW4ubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjNkRGVyRmlsdGVyOiBmaWx0ZXJTaGFwZSBtdXN0IGJlIGxlbmd0aCA1LCBidXQgZ290IFwiK24rXCIuXCJ9KSksQyhhLnNoYXBlWzRdPT09blszXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYzZERlckZpbHRlcjogZGVwdGggb2YgaW5wdXQgXCIrYS5zaGFwZVs0XStcIikgbXVzdCBtYXRjaCBpbnB1dCBkZXB0aCBpbiBmaWx0ZXIgKFwiK25bM10rXCIuXCJ9KSksQyhpLnNoYXBlWzRdPT09bls0XSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYzZERlckZpbHRlcjogZGVwdGggb2YgZHkgKFwiK2kuc2hhcGVbNF0rXCIpIG11c3QgbWF0Y2ggb3V0cHV0IGRlcHRoIGZvciBmaWx0ZXIgKFwiK25bNF0rXCIpLlwifSkpO3ZhciBzPXZhKGEuc2hhcGUsbixyLDEsbyk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnYzZERlckZpbHRlcihhLGkscyl9KSx7eDVEOmEsZHk1RDppfSl9KG8sdCxpLnNoYXBlLG4scil9fX0pKTtyZXR1cm4gYz9oLmFzNEQoaC5zaGFwZVsxXSxoLnNoYXBlWzJdLGguc2hhcGVbM10saC5zaGFwZVs0XSk6aH19KSx2bD1Bbih7Y29udjJkRGVyRmlsdGVyXzpmdW5jdGlvbih0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1hJiYoYT1cIk5IV0NcIik7dmFyIHM9dDszPT09dC5yYW5rJiYocz10LmFzNEQoMSx0LnNoYXBlWzBdLHQuc2hhcGVbMV0sdC5zaGFwZVsyXSkpO3ZhciB1PWU7Mz09PXUucmFuayYmKHU9ZS5hczREKDEsZS5zaGFwZVswXSxlLnNoYXBlWzFdLGUuc2hhcGVbMl0pKSxDKDQ9PT1zLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmREZXJGaWx0ZXI6IGlucHV0IG11c3QgYmUgcmFuayA0LCBidXQgZ290IHNoYXBlIFwiK3Muc2hhcGUrXCIuXCJ9KSksQyg0PT09dS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkRGVyRmlsdGVyOiBkeSBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCBzaGFwZSBcIit1LnNoYXBlK1wiLlwifSkpLEMoND09PW4ubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkRGVyRmlsdGVyOiBmaWx0ZXJTaGFwZSBtdXN0IGJlIGxlbmd0aCA0LCBidXQgZ290IFwiK24rXCIuXCJ9KSk7dmFyIGM9XCJOSFdDXCI9PT1hP3Muc2hhcGVbM106cy5zaGFwZVsxXSxsPVwiTkhXQ1wiPT09YT91LnNoYXBlWzNdOnUuc2hhcGVbMV07QyhjPT09blsyXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZERlckZpbHRlcjogZGVwdGggb2YgaW5wdXQgXCIrYytcIikgbXVzdCBtYXRjaCBpbnB1dCBkZXB0aCBpbiBmaWx0ZXIgKFwiK25bMl0rXCIuXCJ9KSksQyhsPT09blszXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZERlckZpbHRlcjogZGVwdGggb2YgZHkgKFwiK2wrXCIpIG11c3QgbWF0Y2ggb3V0cHV0IGRlcHRoIGZvciBmaWx0ZXIgKFwiK25bM10rXCIpLlwifSkpLG51bGwhPWkmJkMoQShvKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZERlckZpbHRlcjogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBkaW1Sb3VuZGluZ01vZGUgXCIraStcIiBidXQgZ290IHBhZCBcIitvK1wiLlwifSkpO3ZhciBoPUVhKGEpLGY9cGEocy5zaGFwZSxuLHIsMSxvLGksITEsaCk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnYyZERlckZpbHRlcihzLHUsZil9KSx7eDREOnMsZHk0RDp1fSl9fSksZ2w9QW4oe2NvbnYyZERlcklucHV0XzpjbH0pLG1sPUFuKHtkZXB0aHdpc2VDb252MmRfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkpe3ZvaWQgMD09PW8mJihvPVwiTkhXQ1wiKSx2b2lkIDA9PT1hJiYoYT1bMSwxXSk7dmFyIHM9Z24odCxcInhcIixcImRlcHRod2lzZUNvbnYyZFwiKSx1PWduKGUsXCJmaWx0ZXJcIixcImRlcHRod2lzZUNvbnYyZFwiKSxjPXMsbD0hMTszPT09cy5yYW5rJiYobD0hMCxjPXMuYXM0RCgxLHMuc2hhcGVbMF0scy5zaGFwZVsxXSxzLnNoYXBlWzJdKSksQyg0PT09Yy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZGVwdGh3aXNlQ29udjJkOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK2MucmFuaytcIi5cIn0pKSxDKDQ9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBkZXB0aHdpc2VDb252MmQ6IGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK3UucmFuaytcIi5cIn0pKSxDKGMuc2hhcGVbM109PT11LnNoYXBlWzJdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZGVwdGh3aXNlQ29udjJkOiBudW1iZXIgb2YgaW5wdXQgY2hhbm5lbHMgKFwiK2Muc2hhcGVbM10rXCIpIG11c3QgbWF0Y2ggdGhlIGluQ2hhbm5lbHMgZGltZW5zaW9uIGluIGZpbHRlciBcIit1LnNoYXBlWzJdK1wiLlwifSkpLG51bGw9PWEmJihhPVsxLDFdKSxDKENhKG4sYSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBkZXB0aHdpc2VDb252MmQ6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK24rXCIgYW5kIGRpbGF0aW9ucyAnXCIrYStcIidcIn0pKSxudWxsIT1pJiZDKEEociksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBkZXB0aHdpc2VDb252MmQ6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgZGltUm91bmRpbmdNb2RlIFwiK2krXCIgYnV0IGdvdCBwYWQgXCIrcitcIi5cIn0pKTt2YXIgaD1wYShjLnNoYXBlLHUuc2hhcGUsbixhLHIsaSwhMCksZj1bYyx1XSxkPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5kZXB0aHdpc2VDb252MkQoYyx1LGgpO3JldHVybiBlKFtjLHVdKSxufSkse3g6YyxmaWx0ZXI6dX0sKGZ1bmN0aW9uKHQsZSl7Qyh3YShhKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGdyYWRpZW50IG9mIGRlcHRod2lzZUNvbnYyZDogZGlsYXRpb24gcmF0ZXMgZ3JlYXRlciB0aGFuIDEgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkLiBHb3QgZGlsYXRpb25zICdcIithK1wiJ1wifSkpO3ZhciBuPWVbMF0scj1lWzFdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHlsKG4uc2hhcGUsdCxyLGgpfSxmaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4geGwobix0LHIuc2hhcGUsaCl9fX0pLFwiRGVwdGh3aXNlQ29udjJkTmF0aXZlXCIsaCxmKTtyZXR1cm4gbD9kLmFzM0QoZC5zaGFwZVsxXSxkLnNoYXBlWzJdLGQuc2hhcGVbM10pOmR9fSkseWw9QW4oe2RlcHRod2lzZUNvbnYyZERlcklucHV0XzpmdW5jdGlvbih0LGUsbixyKXt2YXIgbz1lLGE9ITE7Mz09PWUucmFuayYmKGE9ITAsbz1lLmFzNEQoMSxlLnNoYXBlWzBdLGUuc2hhcGVbMV0sZS5zaGFwZVsyXSkpO3ZhciBpPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRlcHRod2lzZUNvbnYyRERlcklucHV0KG8sbixyKX0pLHtkeTREOm99KTtyZXR1cm4gYT9pLmFzM0QoaS5zaGFwZVsxXSxpLnNoYXBlWzJdLGkuc2hhcGVbM10pOml9fSkseGw9QW4oe2RlcHRod2lzZUNvbnYyZERlckZpbHRlcl86ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dDszPT09dC5yYW5rJiYobz10LmFzNEQoMSx0LnNoYXBlWzBdLHQuc2hhcGVbMV0sdC5zaGFwZVsyXSkpO3ZhciBhPWU7cmV0dXJuIDM9PT1hLnJhbmsmJihhPWUuYXM0RCgxLGUuc2hhcGVbMF0sZS5zaGFwZVsxXSxlLnNoYXBlWzJdKSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVwdGh3aXNlQ29udjJERGVyRmlsdGVyKG8sYSxyKX0pLHt4NEQ6byxkeTREOmF9KX19KSxibD1Bbih7c2VwYXJhYmxlQ29udjJkXzpmdW5jdGlvbih0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1hJiYoYT1bMSwxXSksdm9pZCAwPT09aSYmKGk9XCJOSFdDXCIpO3ZhciBzPWduKHQsXCJ4XCIsXCJzZXBhcmFibGVDb252MmRcIiksdT1nbihlLFwiZGVwdGh3aXNlRmlsdGVyXCIsXCJzZXBhcmFibGVDb252MmRcIiksYz1nbihuLFwicG9pbnR3aXNlRmlsdGVyXCIsXCJzZXBhcmFibGVDb252MmRcIiksbD1zLGg9ITE7aWYoMz09PXMucmFuayYmKGg9ITAsbD1zLmFzNEQoMSxzLnNoYXBlWzBdLHMuc2hhcGVbMV0scy5zaGFwZVsyXSkpLFwiTkNIV1wiPT09aSl0aHJvdyBuZXcgRXJyb3IoXCJzZXBhcmFibGVDb252MmQgY3VycmVudGx5IGRvZXMgbm90IHN1cHBvcnQgZGF0YUZvcm1hdCBOQ0hXOyBvbmx5IE5IV0MgaXMgc3VwcG9ydGVkXCIpO0MoND09PWwucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHNlcGFyYWJsZUNvbnYyZDogaW5wdXQgbXVzdCBiZSByYW5rIDQsIGJ1dCBnb3QgcmFuayBcIitsLnJhbmsrXCIuXCJ9KSksQyg0PT09dS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gc2VwYXJhYmxlQ29udjJkOiBkZXB0aHdpc2UgZmlsdGVyIG11c3QgYmUgcmFuayA0LCBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLEMoND09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHNlcGFyYWJsZUNvbnYyZDogcG9pbnR3aXNlIGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK3UucmFuaytcIi5cIn0pKSxDKDE9PT1jLnNoYXBlWzBdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gc2VwYXJhYmxlQ29udjJkOiB0aGUgZmlyc3QgZGltZW5zaW9uIG9mIHBvaW50d2lzZSBmaWx0ZXIgIG11c3QgYmUgMSwgYnV0IGdvdCBcIitjLnNoYXBlWzBdK1wiLlwifSkpLEMoMT09PWMuc2hhcGVbMV0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBzZXBhcmFibGVDb252MmQ6IHRoZSBzZWNvbmQgZGltZW5zaW9uIG9mIHBvaW50d2lzZSBmaWx0ZXIgbXVzdCBiZSAxLCBidXQgZ290IFwiK2Muc2hhcGVbMV0rXCIuXCJ9KSk7dmFyIGY9dS5zaGFwZVsyXSxkPXUuc2hhcGVbM107QyhjLnNoYXBlWzJdPT09ZipkLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gc2VwYXJhYmxlQ29udjJkOiB0aGUgdGhpcmQgZGltZW5zaW9uIG9mIHBvaW50d2lzZSBmaWx0ZXIgbXVzdCBiZSBcIitmKmQrXCIsIGJ1dCBnb3QgXCIrYy5zaGFwZVsyXStcIi5cIn0pKTt2YXIgcD1tbChsLHUscixvLGksYSksdj1kbChwLGMsMSxcInZhbGlkXCIsaSk7cmV0dXJuIGg/di5hczNEKHYuc2hhcGVbMV0sdi5zaGFwZVsyXSx2LnNoYXBlWzNdKTp2fX0pLHdsPUFuKHtjb252MmRUcmFuc3Bvc2VfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtyZXR1cm4gY2wobixnbih0LFwieFwiLFwiY29udjJkVHJhbnNwb3NlXCIpLGduKGUsXCJmaWx0ZXJcIixcImNvbnYyZFRyYW5zcG9zZVwiKSxyLG8sXCJOSFdDXCIsYSl9fSksQ2w9QW4oe2NvbnYzZFRyYW5zcG9zZV86ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gaGwobixnbih0LFwieFwiLFwiY29udjNkVHJhbnNwb3NlXCIpLGduKGUsXCJmaWx0ZXJcIixcImNvbnYzZFRyYW5zcG9zZVwiKSxyLG8pfX0pO3ZhciBFbD1Bbih7bWF0TXVsXzpmdW5jdGlvbih0LGUsbixyKXt2YXIgbzt2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09ciYmKHI9ITEpO3ZhciBhPWduKHQsXCJhXCIsXCJtYXRNdWxcIiksaT1nbihlLFwiYlwiLFwibWF0TXVsXCIpO289TnQoYSxpKSxhPW9bMF0saT1vWzFdO3ZhciBzPW4/YS5zaGFwZVthLnJhbmstMl06YS5zaGFwZVthLnJhbmstMV0sdT1yP2kuc2hhcGVbaS5yYW5rLTFdOmkuc2hhcGVbaS5yYW5rLTJdLGM9bj9hLnNoYXBlW2EucmFuay0xXTphLnNoYXBlW2EucmFuay0yXSxsPXI/aS5zaGFwZVtpLnJhbmstMl06aS5zaGFwZVtpLnJhbmstMV0saD1hLnNoYXBlLnNsaWNlKDAsLTIpLGY9aS5zaGFwZS5zbGljZSgwLC0yKSxkPWsoaCkscD1rKGYpO0MoYS5yYW5rPj0yJiZpLnJhbms+PTImJmEucmFuaz09PWkucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1hdE11bDogaW5wdXRzIG11c3QgaGF2ZSB0aGUgc2FtZSByYW5rIG9mIGF0IGxlYXN0IDIsIGdvdCByYW5rcyBcIithLnJhbmsrXCIgYW5kIFwiK2kucmFuaytcIi5cIn0pKSxDKFMoaCxmKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1hdE11bDogb3V0ZXIgZGltZW5zaW9ucyAoXCIraCtcIikgYW5kIChcIitmK1wiKSBvZiBUZW5zb3JzIHdpdGggc2hhcGVzIFwiK2Euc2hhcGUrXCIgYW5kIFwiK2kuc2hhcGUrXCIgbXVzdCBtYXRjaC5cIn0pKSxDKHM9PT11LChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF0TXVsOiBpbm5lciBzaGFwZXMgKFwiK3MrXCIpIGFuZCAoXCIrdStcIikgb2YgVGVuc29ycyB3aXRoIHNoYXBlcyBcIithLnNoYXBlK1wiIGFuZCBcIitpLnNoYXBlK1wiIGFuZCB0cmFuc3Bvc2VBPVwiK24rXCIgYW5kIHRyYW5zcG9zZUI9XCIrcitcIiBtdXN0IG1hdGNoLlwifSkpO3ZhciB2PWEuc2hhcGUuc2xpY2UoMCwtMikuY29uY2F0KFtjLGxdKSxnPW4/YS5hczNEKGQscyxjKTphLmFzM0QoZCxjLHMpLG09cj9pLmFzM0QocCxsLHUpOmkuYXMzRChwLHUsbCkseT17dHJhbnNwb3NlQTpuLHRyYW5zcG9zZUI6cn07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG89dC5iYXRjaE1hdE11bChnLG0sbixyKTtyZXR1cm4gZShbZyxtXSksb30pLHthOmcsYjptfSwoZnVuY3Rpb24odCxlKXt2YXIgbz1lLGE9b1swXSxpPW9bMV07cmV0dXJuIG58fHI/IW4mJnI/e2E6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tYXRNdWwoaSwhMSwhMSl9LGI6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tYXRNdWwoYSwhMCwhMSl9fTpuJiYhcj97YTpmdW5jdGlvbigpe3JldHVybiBpLm1hdE11bCh0LCExLCEwKX0sYjpmdW5jdGlvbigpe3JldHVybiBhLm1hdE11bCh0LCExLCExKX19OnthOmZ1bmN0aW9uKCl7cmV0dXJuIGkubWF0TXVsKHQsITAsITApfSxiOmZ1bmN0aW9uKCl7cmV0dXJuIHQubWF0TXVsKGEsITAsITApfX06e2E6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tYXRNdWwoaSwhMSwhMCl9LGI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tYXRNdWwodCwhMCwhMSl9fX0pLFwiQmF0Y2hNYXRNdWxcIix5KS5yZXNoYXBlKHYpfX0pLFJsPUFuKHtkb3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcInQxXCIsXCJkb3RcIikscj1nbihlLFwidDJcIixcImRvdFwiKTtDKCEoMSE9PW4ucmFuayYmMiE9PW4ucmFua3x8MSE9PXIucmFuayYmMiE9PXIucmFuayksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBkb3Q6IGlucHV0cyBtdXN0IGFsbCBiZSByYW5rIDEgb3IgMiwgYnV0IGdvdCByYW5rcyBcIituLnJhbmsrXCIgYW5kIFwiK3IucmFuaytcIi5cIn0pKTt2YXIgbz0xPT09bi5yYW5rP24uc2l6ZTpuLnNoYXBlWzFdLGE9MT09PXIucmFuaz9yLnNpemU6ci5zaGFwZVswXTtyZXR1cm4gQyhvPT09YSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGRvdDogaW5uZXIgZGltZW5zaW9ucyBvZiBpbnB1dHMgbXVzdCBtYXRjaCwgYnV0IGdvdCBcIitvK1wiIGFuZCBcIithK1wiLlwifSkpLDE9PT1uLnJhbmsmJjE9PT1yLnJhbms/bi5hczJEKDEsLTEpLm1hdE11bChyLmFzMkQoLTEsMSkpLmFzU2NhbGFyKCk6MT09PW4ucmFuayYmMj09PXIucmFuaz9uLmFzMkQoMSwtMSkubWF0TXVsKHIuYXMyRChyLnNoYXBlWzBdLHIuc2hhcGVbMV0pKS5hczFEKCk6Mj09PW4ucmFuayYmMT09PXIucmFuaz9uLm1hdE11bChyLmFzMkQoLTEsMSkpLmFzMUQoKTpuLm1hdE11bChyLmFzMkQoci5zaGFwZVswXSxyLnNoYXBlWzFdKSl9fSksSWw9QW4oe291dGVyUHJvZHVjdF86ZnVuY3Rpb24odCxlKXt2YXIgbj1nbih0LFwidjFcIixcIm91dGVyUHJvZHVjdFwiKSxyPWduKGUsXCJ2MlwiLFwib3V0ZXJQcm9kdWN0XCIpO3JldHVybiBDKDE9PT1uLnJhbmsmJjE9PT1yLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBvdXRlclByb2R1Y3Q6IGlucHV0cyBtdXN0IGJlIHJhbmsgMSwgYnV0IGdvdCByYW5rcyBcIituLnJhbmsrXCIgYW5kIFwiK3IucmFuaytcIi5cIn0pKSxuLmFzMkQoLTEsMSkubWF0TXVsKHIuYXMyRCgxLC0xKSl9fSk7dmFyIGtsPUFuKHtyZXZlcnNlXzpmdW5jdGlvbih0LGUpe3ZhciBuPWduKHQsXCJ4XCIsXCJyZXZlcnNlXCIpO2lmKDA9PT1uLnJhbmspcmV0dXJuIG4uY2xvbmUoKTt2YXIgcj1PKGUsbi5zaGFwZSk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJldmVyc2UobixyKX0pLHskeDpufSwoZnVuY3Rpb24odCl7cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIHQucmV2ZXJzZShyKX19fSkpLnJlc2hhcGVBcyhuKX19KSxTbD1Bbih7cmV2ZXJzZTFkXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwicmV2ZXJzZVwiKTtyZXR1cm4gQygxPT09ZS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gcmV2ZXJzZTFEOiB4IG11c3QgYmUgcmFuayAxIGJ1dCBnb3QgcmFuayBcIitlLnJhbmsrXCIuXCJ9KSksa2woZSwwKX19KSxBbD1Bbih7cmV2ZXJzZTJkXzpmdW5jdGlvbih0LGUpe3ZhciBuPWduKHQsXCJ4XCIsXCJyZXZlcnNlXCIpO3JldHVybiBDKDI9PT1uLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiByZXZlcnNlMkQ6IHggbXVzdCBiZSByYW5rIDIgYnV0IGdvdCByYW5rIFwiK24ucmFuaytcIi5cIn0pKSxrbChuLGUpfX0pLFRsPUFuKHtyZXZlcnNlM2RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24odCxcInhcIixcInJldmVyc2VcIik7cmV0dXJuIEMoMz09PW4ucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHJldmVyc2UzRDogeCBtdXN0IGJlIHJhbmsgMyBidXQgZ290IHJhbmsgXCIrbi5yYW5rK1wiLlwifSkpLGtsKG4sZSl9fSksRGw9QW4oe3JldmVyc2U0ZF86ZnVuY3Rpb24odCxlKXt2YXIgbj1nbih0LFwieFwiLFwicmV2ZXJzZVwiKTtyZXR1cm4gQyg0PT09bi5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gcmV2ZXJzZTREOiB4IG11c3QgYmUgcmFuayA0IGJ1dCBnb3QgcmFuayBcIituLnJhbmsrXCIuXCJ9KSksa2wobixlKX19KTtmdW5jdGlvbiBObCh0LGUsbixyLG8sYSl7dmFyIGk9Z24odCxcInhcIixcIm1heFBvb2xcIikscz1pLHU9ITE7Mz09PWkucmFuayYmKHU9ITAscz1pLmFzNEQoMSxpLnNoYXBlWzBdLGkuc2hhcGVbMV0saS5zaGFwZVsyXSkpLG51bGw9PXImJihyPVsxLDFdKSxDKDQ9PT1zLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXhQb29sOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgXCIrcy5yYW5rK1wiLlwifSkpLEMoQ2EobixyKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2w6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK24rXCIgYW5kIGRpbGF0aW9ucyAnXCIrcitcIidcIn0pKSxudWxsIT1hJiZDKEEobyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXhQb29sOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSBcIithK1wiIGJ1dCBnb3QgcGFkIFwiK28rXCIuXCJ9KSk7dmFyIGM9ZmEocy5zaGFwZSxlLG4scixvLGEpO2lmKDE9PT1jLmZpbHRlcldpZHRoJiYxPT09Yy5maWx0ZXJIZWlnaHQmJlMoYy5pblNoYXBlLGMub3V0U2hhcGUpKXJldHVybiBpLmNsb25lKCk7dmFyIGw9W3NdLGg9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1heFBvb2wocyxjKTtyZXR1cm4gZShbcyxuXSksbn0pLHt4OnN9LChmdW5jdGlvbih0LGEpe3ZhciBpPWFbMF0scz1hWzFdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkscyl7dmFyIHU9Z24odCxcImR5XCIsXCJtYXhQb29sQmFja3Byb3BcIiksYz1nbihlLFwiaW5wdXRcIixcIm1heFBvb2xCYWNrcHJvcFwiKSxsPWduKG4sXCJvdXRwdXRcIixcIm1heFBvb2xCYWNrcHJvcFwiKTtDKGMucmFuaz09PXUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIlJhbmsgb2YgaW5wdXQgKFwiK2MucmFuaytcIikgZG9lcyBub3QgbWF0Y2ggcmFuayBvZiBkeSAoXCIrdS5yYW5rK1wiKVwifSkpLG51bGw9PWEmJihhPVsxLDFdKTtDKENhKG8sYSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXhQb29sQmFja1Byb3A6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK28rXCIgYW5kIGRpbGF0aW9ucyAnXCIrYStcIidcIn0pKSxDKDQ9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXhQb29sQmFja3Byb3A6IGR5IG11c3QgYmUgcmFuayA0IGJ1dCBnb3QgcmFuayBcIit1LnJhbmsrXCIuXCJ9KSksQyg0PT09Yy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbEJhY2twcm9wOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgXCIrYy5yYW5rK1wiLlwifSkpLG51bGwhPXMmJkMoQShpKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2xCYWNrcHJvcDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBkaW1Sb3VuZGluZ01vZGUgXCIrcytcIiBidXQgZ290IHBhZCBcIitpK1wiLlwifSkpO3ZhciBoPWZhKGMuc2hhcGUscixvLGEsaSxzKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQubWF4UG9vbEJhY2twcm9wKHUsYyxsLGgpfSkseyRkeTp1LCRpbnB1dDpjfSl9KHQsaSxzLGUsbixyLG8pfX19KSxcIk1heFBvb2xcIixjLGwpO3JldHVybiB1P2guYXMzRChoLnNoYXBlWzFdLGguc2hhcGVbMl0saC5zaGFwZVszXSk6aH1mdW5jdGlvbiBGbCh0LGUsbixyLG8sYSl7dmFyIGk9Z24odCxcInhcIixcImF2Z1Bvb2xcIixcImZsb2F0MzJcIik7bnVsbD09ciYmKHI9WzEsMV0pLEMoQ2EobixyKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGF2Z1Bvb2w6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK24rXCIgYW5kIGRpbGF0aW9ucyAnXCIrcitcIidcIn0pKTt2YXIgcz1pLHU9ITE7Mz09PWkucmFuayYmKHU9ITAscz1pLmFzNEQoMSxpLnNoYXBlWzBdLGkuc2hhcGVbMV0saS5zaGFwZVsyXSkpLEMoND09PXMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGF2Z1Bvb2w6IHggbXVzdCBiZSByYW5rIDQgYnV0IGdvdCByYW5rIFwiK3MucmFuaytcIi5cIn0pKSxudWxsIT1hJiZDKEEobyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSBcIithK1wiIGJ1dCBnb3QgcGFkIFwiK28rXCIuXCJ9KSk7dmFyIGM9ZmEocy5zaGFwZSxlLG4scixvLGEpO2lmKDE9PT1jLmZpbHRlcldpZHRoJiYxPT09Yy5maWx0ZXJIZWlnaHQmJlMoYy5pblNoYXBlLGMub3V0U2hhcGUpKXJldHVybiBpLmNsb25lKCk7dmFyIGw9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuYXZnUG9vbChzLGMpfSkse3g6c30sKGZ1bmN0aW9uKHQpe3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2YXIgaT1nbih0LFwiZHlcIixcImF2Z1Bvb2xCYWNrcHJvcFwiKSxzPWduKGUsXCJpbnB1dFwiLFwiYXZnUG9vbEJhY2twcm9wXCIpO0Mocy5yYW5rPT09aS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiUmFuayBvZiBpbnB1dCAoXCIrcy5yYW5rK1wiKSBkb2VzIG5vdCBtYXRjaCByYW5rIG9mIGR5IChcIitpLnJhbmsrXCIpXCJ9KSksbnVsbD09byYmKG89WzEsMV0pO0MoQ2EocixvKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGF2Z1Bvb2xCYWNrcHJvcDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gR290IHN0cmlkZXMgXCIrcitcIiBhbmQgZGlsYXRpb25zICdcIitvK1wiJ1wifSkpO3ZhciB1PXMsYz1pLGw9ITE7Mz09PXMucmFuayYmKGw9ITAsdT1zLmFzNEQoMSxzLnNoYXBlWzBdLHMuc2hhcGVbMV0scy5zaGFwZVsyXSksYz1pLmFzNEQoMSxpLnNoYXBlWzBdLGkuc2hhcGVbMV0saS5zaGFwZVsyXSkpO0MoND09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGF2Z1Bvb2xCYWNrcHJvcDogZHkgbXVzdCBiZSByYW5rIDQgYnV0IGdvdCByYW5rIFwiK2MucmFuaytcIi5cIn0pKSxDKDQ9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sQmFja3Byb3A6IGlucHV0IG11c3QgYmUgcmFuayA0IGJ1dCBnb3QgcmFuayBcIit1LnJhbmsrXCIuXCJ9KSk7dmFyIGg9ZmEodS5zaGFwZSxuLHIsbyxhKSxmPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmF2Z1Bvb2xCYWNrcHJvcChjLHUsaCl9KSx7ZHk0RDpjLGlucHV0NEQ6dX0pO2lmKGwpcmV0dXJuIGYuYXMzRChmLnNoYXBlWzFdLGYuc2hhcGVbMl0sZi5zaGFwZVszXSk7cmV0dXJuIGZ9KHQscyxlLG4scixvKX19fSksXCJBdmdQb29sXCIsYyk7cmV0dXJuIGw9bC5jYXN0KGkuZHR5cGUpLHU/bC5hczNEKGwuc2hhcGVbMV0sbC5zaGFwZVsyXSxsLnNoYXBlWzNdKTpsfXZhciBfbD1Bbih7bWF4UG9vbF86ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gTmwodCxlLG4sMSxyLG8pfX0pLE9sPUFuKHthdmdQb29sXzpmdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiBGbCh0LGUsbiwxLHIsbyl9fSksTWw9QW4oe3Bvb2xfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtudWxsPT1vJiYobz1bMSwxXSksbnVsbD09YSYmKGE9MSksMD09PXImJihyPVwidmFsaWRcIik7dmFyIGk9Z24odCxcInhcIixcIm1heFBvb2xcIikscz1pLHU9ITE7Mz09PWkucmFuayYmKHU9ITAscz1pLmFzNEQoMSxpLnNoYXBlWzBdLGkuc2hhcGVbMV0saS5zaGFwZVsyXSkpLEMoQ2EoYSxvKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHBvb2w6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK2ErXCIgYW5kIGRpbGF0aW9ucyAnXCIrbytcIidcIn0pKTt2YXIgYyxsPWZhKHMuc2hhcGUsZSxhLG8sciksaD1bbC5kaWxhdGlvbkhlaWdodCxsLmRpbGF0aW9uV2lkdGhdO2M9XCJzYW1lXCI9PT1yP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXAoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQrKHQtMSkqKGVbbl0tMSl9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC0xfSkpLHI9bi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmZsb29yKHQvMil9KSksbz1uLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1yW2VdfSkpO3JldHVybiBuLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm5bcltlXSxvW2VdXX0pKX0oW2wuZmlsdGVySGVpZ2h0LGwuZmlsdGVyV2lkdGhdLGgpOltbMCwwXSxbMCwwXV07dmFyIGY9MT09PWhbMF0mJjE9PT1oWzFdLGQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxvPW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxhPXQuY29uY2F0KHIsbyksaT1lLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4odC1hW2VdJXQpJXR9KSkscz1vLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtpW2VdfSkpLHU9ZS5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuW3JbZV0sc1tlXV19KSksYz1lLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm5bMCxpW2VdXX0pKTtyZXR1cm5bdSxjXX0oW2wuaW5IZWlnaHQsbC5pbldpZHRoXSxoLGMpLHA9ZFswXSx2PWRbMV0sZz1mP3I6XCJ2YWxpZFwiLG09Zj9zOmNyKHMsaCxwKSx5PShcImF2Z1wiPT09bj9mdW5jdGlvbigpe3JldHVybiBGbChtLGUsYSwxLGcpfTpmdW5jdGlvbigpe3JldHVybiBObChtLGUsYSwxLGcpfSkoKSx4PWY/eTpycih5LGgsdik7cmV0dXJuIHU/eC5hczNEKHguc2hhcGVbMV0seC5zaGFwZVsyXSx4LnNoYXBlWzNdKTp4fX0pLEJsPUFuKHttYXhQb29sM2RfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkpe3ZvaWQgMD09PWEmJihhPVwiTkRIV0NcIik7dmFyIHM9Z24odCxcInhcIixcIm1heFBvb2wzZFwiKSx1PXMsYz0hMTs0PT09cy5yYW5rJiYoYz0hMCx1PXMuYXM1RCgxLHMuc2hhcGVbMF0scy5zaGFwZVsxXSxzLnNoYXBlWzJdLHMuc2hhcGVbM10pKSxudWxsPT1pJiYoaT1bMSwxLDFdKSxDKDU9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXhQb29sM2Q6IHggbXVzdCBiZSByYW5rIDUgYnV0IGdvdCByYW5rIFwiK3UucmFuaytcIi5cIn0pKSxDKFwiTkRIV0NcIj09PWEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXhQb29sM2Q6IE9ubHkgTkRIV0MgaXMgY3VycmVudGx5IHN1cHBvcnRlZCwgYnV0IGdvdCBkYXRhRm9ybWF0IG9mIFwiK2F9KSksQyhDYShuLGkpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDNkOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIituK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK2krXCInXCJ9KSksbnVsbCE9byYmQyhBKHIpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDNkOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSBcIitvK1wiIGJ1dCBnb3QgcGFkIFwiK3IrXCIuXCJ9KSk7dmFyIGw9ZGEodS5zaGFwZSxlLG4saSxyLG8sYSksaD1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQubWF4UG9vbDNkKHUsbCk7cmV0dXJuIGUoW3Usbl0pLG59KSx7eDp1fSwoZnVuY3Rpb24odCxhKXt2YXIgcz1hWzBdLHU9YVsxXTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUsbixyLG8sYSxpLHMpe3ZhciB1PWduKHQsXCJkeVwiLFwibWF4UG9vbDNkQmFja3Byb3BcIiksYz1nbihlLFwiaW5wdXRcIixcIm1heFBvb2wzZEJhY2twcm9wXCIpLGw9Z24obixcIm91dHB1dFwiLFwibWF4UG9vbDNkQmFja3Byb3BcIiksaD11LGY9YyxkPWwscD0hMTs0PT09Yy5yYW5rJiYocD0hMCxoPXUuYXM1RCgxLHUuc2hhcGVbMF0sdS5zaGFwZVsxXSx1LnNoYXBlWzJdLHUuc2hhcGVbM10pLGY9Yy5hczVEKDEsYy5zaGFwZVswXSxjLnNoYXBlWzFdLGMuc2hhcGVbMl0sYy5zaGFwZVszXSksZD1sLmFzNUQoMSxsLnNoYXBlWzBdLGwuc2hhcGVbMV0sbC5zaGFwZVsyXSxsLnNoYXBlWzNdKSk7Qyg1PT09aC5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDNkQmFja3Byb3A6IGR5IG11c3QgYmUgcmFuayA1IGJ1dCBnb3QgcmFuayBcIitoLnJhbmsrXCIuXCJ9KSksQyg1PT09Zi5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDNkQmFja3Byb3A6IGlucHV0IG11c3QgYmUgcmFuayA1IGJ1dCBnb3QgcmFuayBcIitmLnJhbmsrXCIuXCJ9KSksQyg1PT09ZC5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDNkQmFja3Byb3A6IG91dHB1dCBtdXN0IGJlIHJhbmsgNSBidXQgZ290IHJhbmsgXCIrZC5yYW5rK1wiLlwifSkpLG51bGw9PWEmJihhPVsxLDEsMV0pO0MoQ2EobyxhKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2wzZEJhY2twcm9wOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIitvK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK2ErXCInXCJ9KSksbnVsbCE9cyYmQyhBKGkpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDNkQmFja3Byb3A6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgZGltUm91bmRpbmdNb2RlIFwiK3MrXCIgYnV0IGdvdCBwYWQgXCIraStcIi5cIn0pKTt2YXIgdj1kYShmLnNoYXBlLHIsbyxhLGkscyksZz1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXhQb29sM2RCYWNrcHJvcChoLGYsZCx2KX0pLHtkeTVEOmgsaW5wdXQ1RDpmfSk7aWYocClyZXR1cm4gZy5hczREKGcuc2hhcGVbMV0sZy5zaGFwZVsyXSxnLnNoYXBlWzNdLGcuc2hhcGVbNF0pO3JldHVybiBnfSh0LHMsdSxlLG4saSxyLG8pfX19KSk7cmV0dXJuIGM/aC5hczREKGguc2hhcGVbMV0saC5zaGFwZVsyXSxoLnNoYXBlWzNdLGguc2hhcGVbNF0pOmh9fSksUGw9QW4oe2F2Z1Bvb2wzZF86ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7dm9pZCAwPT09YSYmKGE9XCJOREhXQ1wiKTt2YXIgcz1nbih0LFwieFwiLFwiYXZnUG9vbDNkXCIsXCJmbG9hdDMyXCIpLHU9cyxjPSExOzQ9PT1zLnJhbmsmJihjPSEwLHU9cy5hczVEKDEscy5zaGFwZVswXSxzLnNoYXBlWzFdLHMuc2hhcGVbMl0scy5zaGFwZVszXSkpLG51bGw9PWkmJihpPVsxLDEsMV0pLEMoNT09PXUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGF2Z1Bvb2wzZDogeCBtdXN0IGJlIHJhbmsgNSBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLEMoXCJOREhXQ1wiPT09YSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGF2Z1Bvb2wzZDogT25seSBOREhXQyBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLCBidXQgZ290IGRhdGFGb3JtYXQgb2YgXCIrYX0pKSxDKENhKG4saSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sM2Q6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK24rXCIgYW5kIGRpbGF0aW9ucyAnXCIraStcIidcIn0pKSxudWxsIT1vJiZDKEEociksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sM2Q6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgZGltUm91bmRpbmdNb2RlIFwiK28rXCIgYnV0IGdvdCBwYWQgXCIrcitcIi5cIn0pKTt2YXIgbD1kYSh1LnNoYXBlLGUsbixpLHIsbyxhKSxoPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmF2Z1Bvb2wzZCh1LGwpfSkse3g6dX0sKGZ1bmN0aW9uKHQpe3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkpe3ZhciBzPWduKHQsXCJkeVwiLFwiYXZnUG9vbDNkQmFja3Byb3BcIiksdT1nbihlLFwiaW5wdXRcIixcImF2Z1Bvb2wzZEJhY2twcm9wXCIpLGM9cyxsPXUsaD0hMTs0PT09dS5yYW5rJiYoaD0hMCxjPXMuYXM1RCgxLHMuc2hhcGVbMF0scy5zaGFwZVsxXSxzLnNoYXBlWzJdLHMuc2hhcGVbM10pLGw9dS5hczVEKDEsdS5zaGFwZVswXSx1LnNoYXBlWzFdLHUuc2hhcGVbMl0sdS5zaGFwZVszXSkpO0MoNT09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGF2Z1Bvb2wzZEJhY2twcm9wOiBkeSBtdXN0IGJlIHJhbmsgNSBidXQgZ290IHJhbmsgXCIrYy5yYW5rK1wiLlwifSkpLEMoNT09PWwucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGF2Z1Bvb2wzZEJhY2twcm9wOiBpbnB1dCBtdXN0IGJlIHJhbmsgNSBidXQgZ290IHJhbmsgXCIrbC5yYW5rK1wiLlwifSkpLG51bGw9PW8mJihvPVsxLDEsMV0pO0MoQ2EocixvKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGF2Z1Bvb2wzZEJhY2twcm9wOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIityK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK28rXCInXCJ9KSksbnVsbCE9aSYmQyhBKGEpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDNkQmFja3Byb3A6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgZGltUm91bmRpbmdNb2RlIFwiK2krXCIgYnV0IGdvdCBwYWQgXCIrYStcIi5cIn0pKTt2YXIgZj1kYShsLnNoYXBlLG4scixvLGEsaSksZD1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hdmdQb29sM2RCYWNrcHJvcChjLGwsZil9KSx7ZHk1RDpjLGlucHV0NUQ6bH0pO2lmKGgpcmV0dXJuIGQuYXM0RChkLnNoYXBlWzFdLGQuc2hhcGVbMl0sZC5zaGFwZVszXSxkLnNoYXBlWzRdKTtyZXR1cm4gZH0odCx1LGUsbixpLHIsbyl9fX0pKTtyZXR1cm4gaD1oLmNhc3QodS5kdHlwZSksYz9oLmFzNEQoaC5zaGFwZVsxXSxoLnNoYXBlWzJdLGguc2hhcGVbM10saC5zaGFwZVs0XSk6aH19KSxMbD1Bbih7bWF4UG9vbFdpdGhBcmdtYXhfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09byYmKG89ITEpO3ZhciBhPWduKHQsXCJ4XCIsXCJtYXhQb29sV2l0aEFyZ21heFwiKSxpPXtmaWx0ZXJTaXplOmUsc3RyaWRlczpuLHBhZDpyLGluY2x1ZGVCYXRjaEluSW5kZXg6b30scz1MdC5ydW5LZXJuZWwoXCJNYXhQb29sV2l0aEFyZ21heFwiLHt4OmF9LGkpO3JldHVybntyZXN1bHQ6c1swXSxpbmRleGVzOnNbMV19fX0pO3ZhciBXbD1Bbih7c2xpY2VfOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvLGE9Z24odCxcInhcIixcInNsaWNlXCIpO2lmKDA9PT1hLnJhbmspdGhyb3cgbmV3IEVycm9yKFwiU2xpY2luZyBzY2FsYXIgaXMgbm90IHBvc3NpYmxlXCIpOyhyPVwibnVtYmVyXCI9PXR5cGVvZiBlP1tlXS5jb25jYXQobmV3IEFycmF5KGEucmFuay0xKS5maWxsKDApKTplLmxlbmd0aDxhLnJhbms/ZS5jb25jYXQobmV3IEFycmF5KGEucmFuay1lLmxlbmd0aCkuZmlsbCgwKSk6ZS5zbGljZSgpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtDKC0xIT09dCwoZnVuY3Rpb24oKXtyZXR1cm5cInNsaWNlKCkgZG9lcyBub3Qgc3VwcG9ydCBuZWdhdGl2ZSBiZWdpbiBpbmRleGluZy5cIn0pKX0pKSxvPShvPW51bGw9PW4/bmV3IEFycmF5KGEucmFuaykuZmlsbCgtMSk6XCJudW1iZXJcIj09dHlwZW9mIG4/W25dLmNvbmNhdChuZXcgQXJyYXkoYS5yYW5rLTEpLmZpbGwoLTEpKTpuLmxlbmd0aDxhLnJhbms/bi5jb25jYXQobmV3IEFycmF5KGEucmFuay1uLmxlbmd0aCkuZmlsbCgtMSkpOm4pLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdD49MD90OihDKC0xPT09dCwoZnVuY3Rpb24oKXtyZXR1cm5cIk5lZ2F0aXZlIHNpemUgdmFsdWVzIHNob3VsZCBiZSBleGFjdGx5IC0xIGJ1dCBnb3QgXCIrdCtcIiBmb3IgdGhlIHNsaWNlKCkgc2l6ZSBhdCBpbmRleCBcIitlK1wiLlwifSkpLGEuc2hhcGVbZV0tcltlXSl9KSkscW8oYSxyLG8pO3ZhciBpPWEuc2hhcGUscz17YmVnaW46cixzaXplOm99O3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zbGljZShhLHIsbyl9KSx7eDphfSwoZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQucmFuaztuKyspZS5wdXNoKFtyW25dLGlbbl0tcltuXS1vW25dXSk7cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gSWModCxlKX19fSksXCJTbGljZVwiLHMpfX0pLFVsPUFuKHtzbGljZTFkXzpmdW5jdGlvbih0LGUsbil7dmFyIHI9Z24odCxcInhcIixcInNsaWNlMWRcIik7cmV0dXJuIEMoMT09PXIucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cInNsaWNlMWQgZXhwZWN0cyBhIHJhbmstMSB0ZW5zb3IsIGJ1dCBnb3QgYSByYW5rLVwiK3IucmFuaytcIiB0ZW5zb3JcIn0pKSxXbChyLFtlXSxbbl0pfX0pLFZsPUFuKHtzbGljZTJkXzpmdW5jdGlvbih0LGUsbil7dmFyIHI9Z24odCxcInhcIixcInNsaWNlMmRcIik7cmV0dXJuIEMoMj09PXIucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cInNsaWNlMmQgZXhwZWN0cyBhIHJhbmstMiB0ZW5zb3IsIGJ1dCBnb3QgYSByYW5rLVwiK3IucmFuaytcIiB0ZW5zb3JcIn0pKSxXbChyLGUsbil9fSksemw9QW4oe3NsaWNlM2RfOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1nbih0LFwieFwiLFwic2xpY2UzZFwiKTtyZXR1cm4gQygzPT09ci5yYW5rLChmdW5jdGlvbigpe3JldHVyblwic2xpY2UzZCBleHBlY3RzIGEgcmFuay0zIHRlbnNvciwgYnV0IGdvdCBhIHJhbmstXCIrci5yYW5rK1wiIHRlbnNvclwifSkpLFdsKHIsZSxuKX19KSxHbD1Bbih7c2xpY2U0ZF86ZnVuY3Rpb24odCxlLG4pe3ZhciByPWduKHQsXCJ4XCIsXCJzbGljZTRkXCIpO3JldHVybiBDKDQ9PT1yLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJzbGljZTRkIGV4cGVjdHMgYSByYW5rLTQgdGVuc29yLCBidXQgZ290IGEgcmFuay1cIityLnJhbmsrXCIgdGVuc29yXCJ9KSksV2wocixlLG4pfX0pO2Z1bmN0aW9uIEhsKHQsZSxuLHIsbyl7cmV0dXJuIGUucmFuazxuLnJhbmsmJihlPWUucmVzaGFwZSh3bihlLnNoYXBlLHIpKSksdC5yYW5rPG4ucmFuayYmKHQ9dC5yZXNoYXBlKHduKHQuc2hhcGUscikpKSx7eDpmdW5jdGlvbigpe3ZhciByPXQubXVsKG4uZXF1YWwoZSkuY2FzdCh0LmR0eXBlKSk7cmV0dXJuIG51bGw9PW8/cjpyLnRyYW5zcG9zZShvKX19fXZhciBxbD1Bbih7YWxsXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPWduKHQsXCJ4XCIsXCJhbGxcIixcImJvb2xcIiksbz1PKGUsci5zaGFwZSksYT1vLGk9RW4oYSxyLnJhbmspO251bGwhPWkmJihyPXIudHJhbnNwb3NlKGkpLGE9SW4oYS5sZW5ndGgsci5yYW5rKSk7dmFyIHM9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWxsKHIsYSl9KSx7JHg6cn0pO2lmKG4pe3ZhciB1PXduKHMuc2hhcGUsbyk7cmV0dXJuIHMucmVzaGFwZSh1KX1yZXR1cm4gc319KSxLbD1Bbih7YW55XzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPWduKHQsXCJ4XCIsXCJhbnlcIixcImJvb2xcIiksbz1PKGUsci5zaGFwZSksYT1vLGk9RW4oYSxyLnJhbmspO251bGwhPWkmJihyPXIudHJhbnNwb3NlKGkpLGE9SW4oYS5sZW5ndGgsci5yYW5rKSk7dmFyIHM9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuYW55KHIsYSl9KSx7JHg6cn0pO2lmKG4pe3ZhciB1PXduKHMuc2hhcGUsbyk7cmV0dXJuIHMucmVzaGFwZSh1KX1yZXR1cm4gc319KSxqbD1Bbih7YXJnTWF4XzpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciBuPWduKHQsXCJ4XCIsXCJhcmdNYXhcIik7bnVsbD09ZSYmKGU9MCk7dmFyIHI9TyhlLG4uc2hhcGUpLG89RW4ocixuLnJhbmspO251bGwhPW8mJihuPW4udHJhbnNwb3NlKG8pLHI9SW4oci5sZW5ndGgsbi5yYW5rKSk7dmFyIGE9e2F4aXM6clswXX0saT1bbl07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG89dC5hcmdNYXgobixyWzBdKTtyZXR1cm4gZShbbl0pLG99KSx7eDpufSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIFhuKG4pfX19KSxcIkFyZ01heFwiLGEsaSl9fSksWGw9QW4oe2FyZ01pbl86ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTt2YXIgbj1nbih0LFwieFwiLFwiYXJnTWluXCIpO251bGw9PWUmJihlPTApO3ZhciByPU8oZSxuLnNoYXBlKSxvPUVuKHIsbi5yYW5rKTtyZXR1cm4gbnVsbCE9byYmKG49bi50cmFuc3Bvc2Uobykscj1JbihyLmxlbmd0aCxuLnJhbmspKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBvPXQuYXJnTWluKG4sclswXSk7cmV0dXJuIGUoW25dKSxvfSkseyR4Om59LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIFhuKG4pfX19KSl9fSksWWw9QW4oe2xvZ1N1bUV4cF86ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PW4mJihuPSExKTt2YXIgcj1nbih0LFwieFwiLFwibG9nU3VtRXhwXCIpLG89TyhlLHIuc2hhcGUpLGE9ci5tYXgobywhMCksaT1yLnN1YihhKS5leHAoKS5zdW0obykubG9nKCkscz1hLnJlc2hhcGUoaS5zaGFwZSkuYWRkKGkpO2lmKG4pe3ZhciB1PXduKHMuc2hhcGUsbyk7cmV0dXJuIHMucmVzaGFwZSh1KX1yZXR1cm4gc319KSwkbD1Bbih7bWF4XzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPWduKHQsXCJ4XCIsXCJtYXhcIiksbz1yLGE9TyhlLHIuc2hhcGUpLGk9YSxzPUVuKGksci5yYW5rKTtudWxsIT1zJiYocj1yLnRyYW5zcG9zZShzKSxpPUluKGkubGVuZ3RoLHIucmFuaykpO3ZhciB1PVtyXSxjPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXgocixpKTtyZXR1cm4gZShbbyxuXSksbn0pLHt4OnJ9LChmdW5jdGlvbih0LGUpe3JldHVybiBIbCh0LGVbMV0sZVswXSxhLHMpfSksXCJNYXhcIix7YXhlczppfSx1LFshMF0pO2lmKG4pe3ZhciBsPXduKGMuc2hhcGUsYSk7Yz1jLnJlc2hhcGUobCl9cmV0dXJuIGN9fSksUWw9QW4oe21lYW5fOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1uJiYobj0hMSk7dmFyIHI9Z24odCxcInhcIixcIm1lYW5cIiksbz1PKGUsci5zaGFwZSksYT1rKGJuKHIuc2hhcGUsbylbMV0pO3JldHVybiBvYSgoZnVuY3Rpb24odCl7dmFyIHI9T24oYSk7cmV0dXJue3ZhbHVlOihyLmR0eXBlPT09dC5kdHlwZT90OnQuY2FzdChyLmR0eXBlKSkuZGl2KHIpLnN1bShlLG4pLGdyYWRGdW5jOmZ1bmN0aW9uKGUpe3ZhciBuPXQuc2hhcGUuc2xpY2UoKTtyZXR1cm4gby5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdPTF9KSksZS5yZXNoYXBlKG4pLm11bCh6bih0LnNoYXBlLFwiZmxvYXQzMlwiKSkuZGl2KGEpfX19KSkocil9fSksSmw9QW4oe21pbl86ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PW4mJihuPSExKTt2YXIgcj1nbih0LFwieFwiLFwibWluXCIpLG89cixhPU8oZSxyLnNoYXBlKSxpPWEscz1FbihpLHIucmFuayk7bnVsbCE9cyYmKHI9ci50cmFuc3Bvc2UocyksaT1JbihpLmxlbmd0aCxyLnJhbmspKTt2YXIgdT1bcl0sYz1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQubWluKHIsaSk7cmV0dXJuIGUoW28sbl0pLG59KSx7eDpyfSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gSGwodCxlWzFdLGVbMF0sYSxzKX0pLFwiTWluXCIse2F4ZXM6aX0sdSxbITBdKTtpZihuKXt2YXIgbD13bihjLnNoYXBlLGEpO2M9Yy5yZXNoYXBlKGwpfXJldHVybiBjfX0pLFpsPUFuKHttb21lbnRzXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPU8oZSwodD1nbih0LFwieFwiLFwibW9tZW50c1wiKSkuc2hhcGUpLG89dC5tZWFuKHIsbiksYT1vLnNoYXBlO258fChhPXduKG8uc2hhcGUscikpO3ZhciBpPXQudG9GbG9hdCgpLnN1YihvLnJlc2hhcGUoYSkpLnNxdWFyZSgpO3JldHVybnttZWFuOm8sdmFyaWFuY2U6aS5tZWFuKHIsbil9fX0pLHRoPUFuKHtzdW1fOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1uJiYobj0hMSk7dmFyIHI9Z24odCxcInhcIixcInN1bVwiKTtcImJvb2xcIj09PXIuZHR5cGUmJihyPXIudG9JbnQoKSk7dmFyIG89TyhlLHIuc2hhcGUpO3JldHVybiBvYSgoZnVuY3Rpb24odCl7dmFyIGU9RW4obyx0LnJhbmspLHI9byxhPXQ7bnVsbCE9ZSYmKGE9dC50cmFuc3Bvc2UoZSkscj1JbihyLmxlbmd0aCx0LnJhbmspKTt2YXIgaT1mdW5jdGlvbihlKXt2YXIgbj10LnNoYXBlLnNsaWNlKCk7cmV0dXJuIG8uZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0XT0xfSkpLGUucmVzaGFwZShuKS5tdWwoem4odC5zaGFwZSxcImZsb2F0MzJcIikpfSxzPXtheGVzOnJ9LHU9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3VtKGEscil9KSx7eDphfSwoZnVuY3Rpb24odCl7cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gaSh0KX19fSksXCJTdW1cIixzKTtpZihuKXt2YXIgYz13bih1LnNoYXBlLG8pO3U9dS5yZXNoYXBlKGMpfXJldHVybnt2YWx1ZTp1LGdyYWRGdW5jOml9fSkpKHIpfX0pLGVoPUFuKHtwcm9kXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPWduKHQsXCJ4XCIsXCJwcm9kXCIpO1wiYm9vbFwiPT09ci5kdHlwZSYmKHI9ci50b0ludCgpKTt2YXIgbz1PKGUsci5zaGFwZSksYT1FbihvLHIucmFuayksaT1vLHM9cjtudWxsIT1hJiYocz1yLnRyYW5zcG9zZShhKSxpPUluKGkubGVuZ3RoLHIucmFuaykpO3ZhciB1PUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb2QocyxpKX0pLHtwZXJtdXRlZFg6c30pO2lmKG4pe3ZhciBjPXduKHUuc2hhcGUsbyk7dT11LnJlc2hhcGUoYyl9cmV0dXJuIHV9fSk7dmFyIG5oPUFuKHtlbHVfOmZ1bmN0aW9uKHQpe3ZhciBlPWduKHQsXCJ4XCIsXCJlbHVcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5lbHUoZSk7cmV0dXJuIG4oW3JdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVsdURlcih0LG4pfSkse2R5OnQseTpufSl9fX0pKX19KSxyaD1Bbih7bGVha3lSZWx1XzpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPS4yKTt2YXIgbj1nbih0LFwieFwiLFwibGVha3lSZWx1XCIpO3JldHVybiBFbyhPbihlKS5tdWwobiksbil9fSksb2g9QW4oe3ByZWx1XzpmdW5jdGlvbih0LGUpe3ZhciBuPWduKHQsXCJ4XCIsXCJwcmVsdVwiKSxyPWduKGUsXCJhbHBoYVwiLFwicHJlbHVcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG89dC5wcmVsdShuLHIpO3JldHVybiBlKFtuLHJdKSxvfSkse3g6bixhbHBoYTpyfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxvPW4uZ3JlYXRlcigwKTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB5YyhvLHQsdC5tdWwocikpfSxhbHBoYTpmdW5jdGlvbigpe3ZhciBlPXljKG8sWG4odCksdC5tdWwobikpLGE9QnIoci5zaGFwZSx0LnNoYXBlKTtyZXR1cm4gYS5sZW5ndGg+MCYmKGU9ZS5zdW0oYSkpLGUucmVzaGFwZShyLnNoYXBlKX19fSksXCJQcmVsdVwiKX19KSxhaD1Bbih7cmVsdV86ZnVuY3Rpb24odCl7dmFyIGU9Z24odCxcInhcIixcInJlbHVcIik7cmV0dXJuXCJib29sXCI9PT1lLmR0eXBlP2UudG9JbnQoKTpMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQucmVsdShlKTtyZXR1cm4gbihbZV0pLHJ9KSx7eDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsU3RyaWN0KG4uc3RlcCgpLnRvRmxvYXQoKSl9fX0pLFwiUmVsdVwiKX19KSxpaD1Bbih7cmVsdTZfOmZ1bmN0aW9uKHQpe3ZhciBlPWduKHQsXCJ4XCIsXCJyZWx1NlwiKTtyZXR1cm5cImJvb2xcIj09PWUuZHR5cGU/ZS50b0ludCgpOkx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5yZWx1NihlKTtyZXR1cm4gbihbZV0pLHJ9KSx7eDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9bi5sZXNzRXF1YWwoNikubXVsKG4uc3RlcCgpKTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB0Lm11bFN0cmljdChyLnRvRmxvYXQoKSl9fX0pLFwiUmVsdTZcIil9fSksc2g9QW4oe3NlbHVfOmZ1bmN0aW9uKHQpe3ZhciBlPWduKHQsXCJ4XCIsXCJzZWx1XCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuc2VsdShlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXt2YXIgZT1uLmdyZWF0ZXIoT24oMCkpLHI9T24oc3UpLG89T24odXUpLGE9dC5tdWwobyksaT10Lm11bChyKS5tdWwobi50b0Zsb2F0KCkuZXhwKCkpO3JldHVybiB5YyhlLGEsaSl9fX0pKX19KTt2YXIgdWg9QW4oe2xvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uXzpmdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PWUmJihlPTUpLHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PXImJihyPTEpLHZvaWQgMD09PW8mJihvPS41KTt2YXIgYT1nbih0LFwieFwiLFwibG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb25cIik7Qyg0PT09YS5yYW5rfHwzPT09YS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb246IHggbXVzdCBiZSByYW5rIDMgb3IgNCBidXQgZ290XFxuICAgICAgICAgICAgICAgcmFuayBcIithLnJhbmsrXCIuXCJ9KSksQyhBKGUpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb246IGRlcHRoUmFkaXVzIG11c3QgYmUgYW4gaW50ZWdlciBidXQgZ290IGRlcHRoUmFkaXVzIFwiK2UrXCIuXCJ9KSk7dmFyIGk9YSxzPSExOzM9PT1hLnJhbmsmJihzPSEwLGk9YS5hczREKDEsYS5zaGFwZVswXSxhLnNoYXBlWzFdLGEuc2hhcGVbMl0pKTt2YXIgdT1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGEpe3ZhciBzPXQubG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb240RChpLGUsbixyLG8pO3JldHVybiBhKFtpLHNdKSxzfSkse3g0RDppfSwoZnVuY3Rpb24odCxhKXt2YXIgaT1hWzBdLHM9YVsxXTtyZXR1cm57eDREOmZ1bmN0aW9uKCl7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKGEpe3JldHVybiBhLkxSTkdyYWQodCxpLHMsZSxuLHIsbyl9KSx7fSl9fX0pKTtyZXR1cm4gcz91LmFzM0QodS5zaGFwZVsxXSx1LnNoYXBlWzJdLHUuc2hhcGVbM10pOnV9fSk7dmFyIGNoPUFuKHtub3JtXzpmdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1lJiYoZT1cImV1Y2xpZGVhblwiKSx2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1yJiYocj0hMSk7dmFyIG89ZnVuY3Rpb24gdChlLG4scil7dm9pZCAwPT09ciYmKHI9bnVsbCk7aWYoMD09PWUucmFuaylyZXR1cm4gZS5hYnMoKTtpZigxIT09ZS5yYW5rJiZudWxsPT09cilyZXR1cm4gdChlLnJlc2hhcGUoWy0xXSksbixyKTtpZigxPT09ZS5yYW5rfHxcIm51bWJlclwiPT10eXBlb2Ygcnx8QXJyYXkuaXNBcnJheShyKSYmMT09PXIubGVuZ3RoKXtpZigxPT09bilyZXR1cm4gZS5hYnMoKS5zdW0ocik7aWYobj09PTEvMClyZXR1cm4gZS5hYnMoKS5tYXgocik7aWYobj09PS0xLzApcmV0dXJuIGUuYWJzKCkubWluKHIpO2lmKFwiZXVjbGlkZWFuXCI9PT1ufHwyPT09bilyZXR1cm4gZS5hYnMoKS5wb3coT24oMixcImludDMyXCIpKS5zdW0ocikuc3FydCgpO3Rocm93IG5ldyBFcnJvcihcIkVycm9yIGluIG5vcm06IGludmFsaWQgb3JkIHZhbHVlOiBcIituKX1pZihBcnJheS5pc0FycmF5KHIpJiYyPT09ci5sZW5ndGgpe2lmKDE9PT1uKXJldHVybiBlLmFicygpLnN1bShyWzBdKS5tYXgoclsxXS0xKTtpZihuPT09MS8wKXJldHVybiBlLmFicygpLnN1bShyWzFdKS5tYXgoclswXSk7aWYobj09PS0xLzApcmV0dXJuIGUuYWJzKCkuc3VtKHJbMV0pLm1pbihyWzBdKTtpZihcImZyb1wiPT09bnx8XCJldWNsaWRlYW5cIj09PW4pcmV0dXJuIGUuc3F1YXJlKCkuc3VtKHIpLnNxcnQoKTt0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbiBub3JtOiBpbnZhbGlkIG9yZCB2YWx1ZTogXCIrbil9dGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgaW4gbm9ybTogaW52YWxpZCBheGlzOiBcIityKX0odD1nbih0LFwieFwiLFwibm9ybVwiKSxlLG4pLGE9by5zaGFwZTtpZihyKXt2YXIgaT1PKG4sdC5zaGFwZSk7YT13bihvLnNoYXBlLGkpfXJldHVybiBvLnJlc2hhcGUoYSl9fSk7dmFyIGxoPUFuKHtiYXNpY0xTVE1DZWxsXzpmdW5jdGlvbih0LGUsbixyLG8sYSl7dmFyIGk9Z24odCxcImZvcmdldEJpYXNcIixcImJhc2ljTFNUTUNlbGxcIikscz1nbihlLFwibHN0bUtlcm5lbFwiLFwiYmFzaWNMU1RNQ2VsbFwiKSx1PWduKG4sXCJsc3RtQmlhc1wiLFwiYmFzaWNMU1RNQ2VsbFwiKSxjPWduKHIsXCJkYXRhXCIsXCJiYXNpY0xTVE1DZWxsXCIpLGw9Z24obyxcImNcIixcImJhc2ljTFNUTUNlbGxcIiksaD1nbihhLFwiaFwiLFwiYmFzaWNMU1RNQ2VsbFwiKSxmPWMuY29uY2F0KGgsMSkubWF0TXVsKHMpLmFkZCh1KSxkPWYuc2hhcGVbMF0scD1mLnNoYXBlWzFdLzQsdj1bZCxwXSxnPWYuc2xpY2UoWzAsMF0sdiksbT1mLnNsaWNlKFswLHBdLHYpLHk9Zi5zbGljZShbMCwyKnBdLHYpLHg9Zi5zbGljZShbMCwzKnBdLHYpLGI9Zy5zaWdtb2lkKCkubXVsU3RyaWN0KG0udGFuaCgpKS5hZGRTdHJpY3QobC5tdWxTdHJpY3QoaS5hZGQoeSkuc2lnbW9pZCgpKSksdz1iLnRhbmgoKS5tdWxTdHJpY3QoeC5zaWdtb2lkKCkpO3JldHVybltiLHddfX0pLGhoPUFuKHttdWx0aVJOTkNlbGxfOmZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz1nbihlLFwiZGF0YVwiLFwibXVsdGlSTk5DZWxsXCIpLGE9bW4obixcImNcIixcIm11bHRpUk5OQ2VsbFwiKSxpPW1uKHIsXCJoXCIsXCJtdWx0aVJOTkNlbGxcIikscz1vLHU9W10sYz0wO2M8dC5sZW5ndGg7YysrKXt2YXIgbD10W2NdKHMsYVtjXSxpW2NdKTt1LnB1c2gobFswXSksdS5wdXNoKGxbMV0pLHM9bFsxXX12YXIgaD1bXSxmPVtdO2ZvcihjPTA7Yzx1Lmxlbmd0aDtjKz0yKWgucHVzaCh1W2NdKSxmLnB1c2godVtjKzFdKTtyZXR1cm5baCxmXX19KTt2YXIgZmg9QW4oe21vdmluZ0F2ZXJhZ2VfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09byYmKG89ITApO3ZhciBhPWduKHQsXCJ2XCIsXCJtb3ZpbmdBdmVyYWdlXCIpLGk9Z24oZSxcInhcIixcIm1vdmluZ0F2ZXJhZ2VcIikscz1nbihuLFwiZGVjYXlcIixcIm1vdmluZ0F2ZXJhZ2VcIik7RnQoYSxpKSxDKFMoYS5zaGFwZSxpLnNoYXBlKSwoZnVuY3Rpb24oKXtyZXR1cm5cIlNoYXBlIG1pc21hdGNoIGluIHYgYW5kIHhcIn0pKTt2YXIgdT1PbigxKSxjPXUuc3ViKHMpLGw9aS5zdWIoYSkubXVsKGMpO2lmKG8pe0MobnVsbCE9ciwoZnVuY3Rpb24oKXtyZXR1cm5cIldoZW4gdXNpbmcgemVyb0RlYmlhczogdHJ1ZSwgc3RlcCBpcyByZXF1aXJlZC5cIn0pKTt2YXIgaD1nbihyLFwic3RlcFwiLFwibW92aW5nQXZlcmFnZVwiKTtsPWwuZGl2KHUuc3ViKE5vKHMsaCkpKX1yZXR1cm4gYS5hZGQobCl9fSk7dmFyIGRoPUFuKHtzdHJpZGVkU2xpY2VfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkscyx1KXtpZih2b2lkIDA9PT1vJiYobz0wKSx2b2lkIDA9PT1hJiYoYT0wKSx2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1zJiYocz0wKSx2b2lkIDA9PT11JiYodT0wKSxudWxsPT1yJiYocj1uZXcgQXJyYXkoZS5sZW5ndGgpKSwwIT09aSl0aHJvdyBuZXcgRXJyb3IoXCJlbGxpcHNpcyBtYXNrIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpO3ZhciBjPWduKHQsXCJ4XCIsXCJzdHJpZGVkU2xpY2VcIiksbD1LbyhzKSxoPWMuc2hhcGUuc2xpY2UoKTtsLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF09MCxuW3RdPTEsaC5zcGxpY2UodCwwLDEpfSkpLGM9Yy5yZXNoYXBlKGgpO2Zvcih2YXIgZj0wO2Y8Yy5yYW5rO2YrKyllW2ZdPVhvKG8sZSxyLGMuc2hhcGUsZiksbltmXT1ZbyhhLG4scixjLnNoYXBlLGYpLHJbZl09cltmXXx8MTt2YXIgZD1Lbyh1KTtkLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF09ZVt0XSsxLHJbdF09MX0pKTt2YXIgcD1qbyhlLG4sciksdj1wLmZpbHRlcigoZnVuY3Rpb24odCxlKXtyZXR1cm4tMT09PWQuaW5kZXhPZihlKX0pKTtyZXR1cm4gci5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10fSkpP1dsKGMsZSxwKS5yZXNoYXBlKHYpOkx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0cmlkZWRTbGljZShjLGUsbixyKX0pLHskeDpjfSkucmVzaGFwZSh2KX19KTt2YXIgcGg9QW4oe3RvcGtfOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1uJiYobj0hMCk7dmFyIHI9Z24odCxcInhcIixcInRvcGtcIik7aWYoMD09PXIucmFuayl0aHJvdyBuZXcgRXJyb3IoXCJ0b3BrKCkgZXhwZWN0cyB0aGUgaW5wdXQgdG8gYmUgb2YgcmFuayAxIG9yIGhpZ2hlclwiKTt2YXIgbz1yLnNoYXBlW3Iuc2hhcGUubGVuZ3RoLTFdO2lmKGU+byl0aHJvdyBuZXcgRXJyb3IoXCInaycgcGFzc2VkIHRvIHRvcGsoKSBtdXN0IGJlIDw9IHRoZSBsYXN0IGRpbWVuc2lvbiAoXCIrbytcIikgYnV0IGdvdCBcIitlKTt2YXIgYT1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b3BrKHIsZSxuKX0pLHskeDpyfSk7cmV0dXJue3ZhbHVlczphWzBdLGluZGljZXM6YVsxXX19fSk7dmFyIHZoPUFuKHtzY2F0dGVyTkRfOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1nbih0LFwiaW5kaWNlc1wiLFwic2NhdHRlck5EXCIsXCJpbnQzMlwiKSxvPWduKGUsXCJ1cGRhdGVzXCIsXCJzY2F0dGVyTkRcIik7cmV0dXJuIHpvKG8scixuKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zY2F0dGVyTkQocixvLG4pfSkse2luZGljZXM6cix1cGRhdGVzOm99LG51bGwsXCJTY2F0dGVyTmRcIix7c2hhcGU6bn0pfX0pO3ZhciBnaD1Bbih7ZmZ0XzpmdW5jdGlvbih0KXtDKFwiY29tcGxleDY0XCI9PT10LmR0eXBlLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGR0eXBlIGZvciB0Zi5zcGVjdHJhbC5mZnQoKSBtdXN0IGJlIGNvbXBsZXg2NCBidXQgZ290IFwiK3QuZHR5cGUrXCIuXCJ9KSk7dmFyIGU9dC5zaGFwZVt0LnNoYXBlLmxlbmd0aC0xXSxuPXQuc2l6ZS9lLHI9dC5hczJEKG4sZSk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmZmdChyKX0pLHtpbnB1dDp0fSkucmVzaGFwZSh0LnNoYXBlKX19KSxtaD1Bbih7aWZmdF86ZnVuY3Rpb24odCl7QyhcImNvbXBsZXg2NFwiPT09dC5kdHlwZSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBkdHlwZSBmb3IgdGYuc3BlY3RyYWwuaWZmdCgpIG11c3QgYmUgY29tcGxleDY0IGJ1dCBnb3QgXCIrdC5kdHlwZStcIi5cIn0pKTt2YXIgZT10LnNoYXBlW3Quc2hhcGUubGVuZ3RoLTFdLG49dC5zaXplL2Uscj10LmFzMkQobixlKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWZmdChyKX0pLHtpbnB1dDp0fSkucmVzaGFwZSh0LnNoYXBlKX19KSx5aD1Bbih7cmZmdF86ZnVuY3Rpb24odCxlKXtDKFwiZmxvYXQzMlwiPT09dC5kdHlwZSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBkdHlwZSBmb3IgcmZmdCgpIG11c3QgYmUgcmVhbCB2YWx1ZSBidXQgZ290IFwiK3QuZHR5cGV9KSk7dmFyIG4scj10LnNoYXBlW3Quc2hhcGUubGVuZ3RoLTFdLG89dC5zaXplL3I7aWYobnVsbCE9ZSYmZTxyKXt2YXIgYT10LnNoYXBlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIDB9KSksaT10LnNoYXBlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSk7aVt0LnNoYXBlLmxlbmd0aC0xXT1lLG49dC5zbGljZShhLGkpLHI9ZX1lbHNlIGlmKG51bGwhPWUmJmU+cil7dmFyIHM9dC5zaGFwZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpO3NbdC5zaGFwZS5sZW5ndGgtMV09ZS1yLG49dC5jb25jYXQoR24ocyksdC5zaGFwZS5sZW5ndGgtMSkscj1lfWVsc2Ugbj10O3ZhciB1PW4uemVyb3NMaWtlKCksYz1UbihuLHUpLmFzMkQobyxyKSxsPWdoKGMpLGg9TWF0aC5mbG9vcihyLzIpKzEsZj1EbihsKSxkPU5uKGwpLHA9Zi5zcGxpdChbaCxyLWhdLGYuc2hhcGUubGVuZ3RoLTEpLHY9ZC5zcGxpdChbaCxyLWhdLGQuc2hhcGUubGVuZ3RoLTEpLGc9bi5zaGFwZS5zbGljZSgpO3JldHVybiBnW24uc2hhcGUubGVuZ3RoLTFdPWgsVG4ocFswXSx2WzBdKS5yZXNoYXBlKGcpfX0pLHhoPUFuKHtpcmZmdF86ZnVuY3Rpb24odCl7dmFyIGU9dC5zaGFwZVt0LnNoYXBlLmxlbmd0aC0xXSxuPXQuc2l6ZS9lO2lmKGU8PTIpe3ZhciByPXQuYXMyRChuLGUpLG89bWgocik7cmV0dXJuIERuKG8pfXZhciBhPVtuLDIqKGUtMSldLGk9RG4odCkuYXMyRChuLGUpLHM9Tm4odCkuYXMyRChuLGUpLHU9aS5zbGljZShbMCwxXSxbbixlLTJdKS5yZXZlcnNlKDEpLGM9cy5zbGljZShbMCwxXSxbbixlLTJdKS5yZXZlcnNlKDEpLm11bChPbigtMSkpLGw9aS5jb25jYXQodSwxKSxoPXMuY29uY2F0KGMsMSk7cmV0dXJuIHI9VG4obCxoKS5hczJEKGFbMF0sYVsxXSksbz1taChyKSxEbihvKX19KSxiaD1PYmplY3QuZnJlZXplKHtmZnQ6Z2gsaWZmdDptaCxyZmZ0OnloLGlyZmZ0OnhofSk7dmFyIHdoPUFuKHtzcGFyc2VUb0RlbnNlXzpmdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj0wKTt2YXIgbz1nbih0LFwic3BhcnNlSW5kaWNlc1wiLFwic3BhcnNlVG9EZW5zZVwiLFwiaW50MzJcIiksYT1nbihlLFwic3BhcnNlVmFsdWVzXCIsXCJzcGFyc2VUb0RlbnNlXCIpLGk9Z24ocixcImRlZmF1bHRWYWx1ZVwiLFwic3BhcnNlVG9EZW5zZVwiLGEuZHR5cGUpO3JldHVybiBmdW5jdGlvbih0LGUsbixyKXtpZihcImludDMyXCIhPT10LmR0eXBlKXRocm93IG5ldyBFcnJvcihcInRmLnNwYXJzZVRvRGVuc2UoKSBleHBlY3RzIHRoZSBpbmRpY2VzIHRvIGJlIGludDMyIHR5cGUsIGJ1dCB0aGUgZHR5cGUgd2FzIFwiK3QuZHR5cGUrXCIuXCIpO2lmKHQucmFuaz4yKXRocm93IG5ldyBFcnJvcihcInNwYXJzZUluZGljZXMgc2hvdWxkIGJlIGEgc2NhbGFyLCB2ZWN0b3IsIG9yIG1hdHJpeCwgYnV0IGdvdCBzaGFwZSBcIit0LnNoYXBlK1wiLlwiKTt2YXIgbz10LnJhbms+MD90LnNoYXBlWzBdOjEsYT10LnJhbms+MT90LnNoYXBlWzFdOjE7aWYobi5sZW5ndGghPT1hKXRocm93IG5ldyBFcnJvcihcIm91dHB1dFNoYXBlIGhhcyBpbmNvcnJlY3QgbnVtYmVyIG9mIGVsZW1lbnRzOiwgXCIrbi5sZW5ndGgrXCIsIHNob3VsZCBiZTogXCIrYStcIi5cIik7dmFyIGk9ZS5zaXplO2lmKDAhPT1lLnJhbmsmJigxIT09ZS5yYW5rfHxpIT09bykpdGhyb3cgbmV3IEVycm9yKFwic3BhcnNlVmFsdWVzIGhhcyBpbmNvcnJlY3Qgc2hhcGUgXCIrZS5zaGFwZStcIiwgc2hvdWxkIGJlIFtdIG9yIFtcIitvK1wiXVwiKTtpZihlLmR0eXBlIT09ci5kdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJzcGFyc2VWYWx1ZXMuZHR5cGUgbXVzdCBtYXRjaCBkZWZhdWx0VmFsdWVzLmR0eXBlXCIpfShvLGEsbixpKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zcGFyc2VUb0RlbnNlKG8sYSxuLGkpfSkseyRzcGFyc2VJbmRpY2VzOm8sJHNwYXJzZVZhbHVlczphLCRkZWZhdWx0VmFsdWU6aX0pfX0pO3ZhciBDaD1Bbih7Z2F0aGVyTkRfOmZ1bmN0aW9uKHQsZSl7dmFyIG49Z24oZSxcImluZGljZXNcIixcImdhdGhlck5EXCIsXCJpbnQzMlwiKSxyPWduKHQsXCJ4XCIsXCJnYXRoZXJORFwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2F0aGVyTkQocixuKX0pLHt4OnIsaW5kaWNlczpufSxudWxsLFwiR2F0aGVyTmRcIil9fSk7dmFyIEVoPUFuKHtkaWFnXzpmdW5jdGlvbih0KXt2YXIgZT1nbih0LFwieFwiLFwiZGlhZ1wiKS5mbGF0dGVuKCksbj10LnNoYXBlLmNvbmNhdCh0LnNoYXBlKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGlhZyhlKX0pLHskeDplfSkucmVzaGFwZShuKX19KTt2YXIgUmg9QW4oe2Ryb3BvdXRfOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPWduKHQsXCJ4XCIsXCJkcm9wb3V0XCIpO2lmKEMoXCJmbG9hdDMyXCI9PT1vLmR0eXBlLChmdW5jdGlvbigpe3JldHVyblwieCBoYXMgdG8gYmUgYSBmbG9hdGluZyBwb2ludCB0ZW5zb3Igc2luY2UgaXQncyBnb2luZyB0byBiZSBzY2FsZWQsIGJ1dCBnb3QgYSBcIitvLmR0eXBlK1wiIHRlbnNvciBpbnN0ZWFkLlwifSkpLEMoZT49MCYmZTwxLChmdW5jdGlvbigpe3JldHVyblwicmF0ZSBtdXN0IGJlIGEgZmxvYXQgaW4gdGhlIHJhbmdlIFswLCAxKSwgYnV0IGdvdCBcIitlK1wiLlwifSkpLDA9PT1lKXJldHVybiB0IGluc3RhbmNlb2Ygd3Q/by5jbG9uZSgpOm87dmFyIGE9ZnVuY3Rpb24odCxlKXtpZihudWxsPT1lKXJldHVybiB0LnNoYXBlLnNsaWNlKCk7aWYoUyh0LnNoYXBlLGUpKXJldHVybiBlO2lmKHQuc2hhcGUubGVuZ3RoPT09ZS5sZW5ndGgpe2Zvcih2YXIgbj1bXSxyPTA7cjx0LnNoYXBlLmxlbmd0aDtyKyspbnVsbD09ZVtyXSYmbnVsbCE9dC5zaGFwZVtyXT9uLnB1c2godC5zaGFwZVtyXSk6bi5wdXNoKGVbcl0pO3JldHVybiBufXJldHVybiBlfShvLG4pLGk9MS1lLHM9emMoYSwwLDEsXCJmbG9hdDMyXCIscikuYWRkKGkpLmZsb29yKCkuZGl2KGkpO3JldHVybiBvLm11bChzKX19KTtmdW5jdGlvbiBJaCh0LGUsbil7Zm9yKHZhciByPTEtdCUyLG89bmV3IEZsb2F0MzJBcnJheSh0KSxhPTA7YTx0OysrYSl7dmFyIGk9MipNYXRoLlBJKmEvKHQrci0xKTtvW2FdPWUtbipNYXRoLmNvcyhpKX1yZXR1cm4gTW4obyxcImZsb2F0MzJcIil9dmFyIGtoPUFuKHtoYW5uV2luZG93XzpmdW5jdGlvbih0KXtyZXR1cm4gSWgodCwuNSwuNSl9fSksU2g9QW4oe2hhbW1pbmdXaW5kb3dfOmZ1bmN0aW9uKHQpe3JldHVybiBJaCh0LC41NCwuNDYpfX0pLEFoPUFuKHtmcmFtZV86ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1yJiYocj0hMSksdm9pZCAwPT09byYmKG89MCk7Zm9yKHZhciBhPTAsaT1bXTthK2U8PXQuc2l6ZTspaS5wdXNoKFdsKHQsYSxlKSksYSs9bjtpZihyKWZvcig7YTx0LnNpemU7KXt2YXIgcz1hK2UtdC5zaXplLHU9WW4oW1dsKHQsYSxlLXMpLEhuKFtzXSxvKV0pO2kucHVzaCh1KSxhKz1ufXJldHVybiAwPT09aS5sZW5ndGg/Qm4oW10sWzAsZV0pOlluKGkpLmFzMkQoaS5sZW5ndGgsZSl9fSksVGg9QW4oe3N0ZnRfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIGE7dm9pZCAwPT09byYmKG89a2gpLG51bGw9PXImJihhPWUscj1NYXRoLmZsb29yKE1hdGgucG93KDIsTWF0aC5jZWlsKE1hdGgubG9nKGEpL01hdGgubG9nKDIpKSkpKTtmb3IodmFyIGk9QWgodCxlLG4pLHM9VG8oaSxvKGUpKSx1PVtdLGM9MDtjPGkuc2hhcGVbMF07YysrKXUucHVzaCh5aChzLnNsaWNlKFtjLDBdLFsxLGVdKSxyKSk7cmV0dXJuIFluKHUpfX0pLERoPU9iamVjdC5mcmVlemUoe2hhbm5XaW5kb3c6a2gsaGFtbWluZ1dpbmRvdzpTaCxmcmFtZTpBaCxzdGZ0OlRofSk7dmFyIE5oLEZoPWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89MSksbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4sYSxpLHMsdSxjLGwsaCxmLGQscCx2LGcsbTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPWduKHQsXCJwcmVkaWN0aW9uc1wiLFwiaW5Ub3BLXCIpLGE9Z24oZSxcInRhcmdldHNcIixcImluVG9wS1wiKSxDKG4ucmFuaz4xLChmdW5jdGlvbigpe3JldHVyblwiaW5Ub3BLKCkgZXhwZWN0cyB0aGUgcHJlZGljdGlvbnMgdG8gYmUgb2YgcmFuayAyIG9yIGhpZ2hlciwgYnV0IGdvdCBcIituLnJhbmt9KSksQyhuLnJhbmstMT09PWEucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cInByZWRpY3Rpb25zIHJhbmsgc2hvdWxkIGJlIDEgbGFyZ2VyIHRoYW4gdGFyZ2V0cyByYW5rLCBidXQgZ290IHByZWRpY3Rpb25zIHJhbmsgXCIrbi5yYW5rK1wiIGFuZCB0YXJnZXRzIHJhbmsgXCIrYS5yYW5rfSkpLEUobi5zaGFwZS5zbGljZSgwLG4uc2hhcGUubGVuZ3RoLTEpLGEuc2hhcGUsXCJwcmVkaWN0aW9ucydzIHNoYXBlIHNob3VsZCBiZSBhbGlnbiB3aXRoIHRoZSB0YXJnZXRzJyBzaGFwZSwgZXhjZXB0IHRoZSBsYXN0IGRpbWVuc2lvbi5cIiksaT1uLnNoYXBlW24uc2hhcGUubGVuZ3RoLTFdLEMobz4wJiZvPD1pLChmdW5jdGlvbigpe3JldHVyblwiJ2snIHBhc3NlZCB0byBpblRvcEsoKSBtdXN0IGJlID4gMCAmJiA8PSB0aGUgcHJlZGljdGlvbnMgbGFzdCBkaW1lbnNpb24gKFwiK2krXCIpLCBidXQgZ290IFwiK299KSksWzQsbi5kYXRhKCldO2Nhc2UgMTpyZXR1cm4gcz1yLnNlbnQoKSxbNCxhLmRhdGEoKV07Y2FzZSAyOmZvcih1PXIuc2VudCgpLGM9W3MubGVuZ3RoL2ksaV0saD1jWzFdLGY9QihcImJvb2xcIixsPWNbMF0pLGQ9MDtkPGw7ZCsrKXtmb3IocD1kKmgsdj1zLnN1YmFycmF5KHAscCtoKSxnPVtdLG09MDttPHYubGVuZ3RoO20rKylnLnB1c2goe3ZhbHVlOnZbbV0saW5kZXg6bX0pO2ZvcihnLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudmFsdWUtdC52YWx1ZX0pKSxmW2RdPTAsbT0wO208bzttKyspaWYoZ1ttXS5pbmRleD09PXVbZF0pe2ZbZF09MTticmVha319cmV0dXJuIHQhPT1uJiZuLmRpc3Bvc2UoKSxlIT09YSYmYS5kaXNwb3NlKCksWzIsRm4oZixhLnNoYXBlLFwiYm9vbFwiKV19fSkpfSkpfTshZnVuY3Rpb24odCl7dFt0Lk5PTkU9MF09XCJOT05FXCIsdFt0Lk1FQU49MV09XCJNRUFOXCIsdFt0LlNVTT0yXT1cIlNVTVwiLHRbdC5TVU1fQllfTk9OWkVST19XRUlHSFRTPTNdPVwiU1VNX0JZX05PTlpFUk9fV0VJR0hUU1wifShOaHx8KE5oPXt9KSk7dmFyIF9oPUFuKHthYnNvbHV0ZURpZmZlcmVuY2VfOmZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPU5oLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpO3ZhciBvPWduKHQsXCJsYWJlbHNcIixcImFic29sdXRlRGlmZmVyZW5jZVwiKSxhPWduKGUsXCJwcmVkaWN0aW9uc1wiLFwiYWJzb2x1dGVEaWZmZXJlbmNlXCIpLGk9bnVsbDtudWxsIT1uJiYoaT1nbihuLFwid2VpZ2h0c1wiLFwiYWJzb2x1dGVEaWZmZXJlbmNlXCIpKSxFKG8uc2hhcGUsYS5zaGFwZSxcIkVycm9yIGluIGFic29sdXRlRGlmZmVyZW5jZTogXCIpO3ZhciBzPW8uc3ViKGEpLmFicygpO3JldHVybiBPaChzLGkscil9fSksT2g9QW4oe2NvbXB1dGVXZWlnaHRlZExvc3NfOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1OaC5TVU1fQllfTk9OWkVST19XRUlHSFRTKTt2YXIgcj1nbih0LFwibG9zc2VzXCIsXCJjb21wdXRlV2VpZ2h0ZWRMb3NzXCIpLG89bnVsbDtudWxsIT1lJiYobz1nbihlLFwid2VpZ2h0c1wiLFwiY29tcHV0ZVdlaWdodGVkTG9zc1wiKSk7dmFyIGE9bnVsbD09bz9yOnIubXVsKG8pO2lmKG49PT1OaC5OT05FKXJldHVybiBhO2lmKG49PT1OaC5TVU0pcmV0dXJuIGEuc3VtKCk7aWYobj09PU5oLk1FQU4pe2lmKG51bGw9PW8pcmV0dXJuIGEubWVhbigpO3ZhciBpPXIuc2l6ZS9vLnNpemUscz1hLnN1bSgpLmRpdihvLnN1bSgpKTtyZXR1cm4gaT4xP3MuZGl2KE9uKGkpKTpzfWlmKG49PT1OaC5TVU1fQllfTk9OWkVST19XRUlHSFRTKXtpZihudWxsPT1vKXJldHVybiBhLnN1bSgpLmRpdihPbihyLnNpemUpKTt2YXIgdT1vLm11bCh6bihyLnNoYXBlKSkubm90RXF1YWwoT24oMCkpLnN1bSgpLnRvRmxvYXQoKTtyZXR1cm4gYS5zdW0oKS5kaXYodSl9dGhyb3cgRXJyb3IoXCJVbmtub3duIHJlZHVjdGlvbjogXCIrbil9fSksTWg9QW4oe2Nvc2luZURpc3RhbmNlXzpmdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PW8mJihvPU5oLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpO3ZhciBhPWduKHQsXCJsYWJlbHNcIixcImNvc2luZURpc3RhbmNlXCIpLGk9Z24oZSxcInByZWRpY3Rpb25zXCIsXCJjb3NpbmVEaXN0YW5jZVwiKSxzPW51bGw7bnVsbCE9ciYmKHM9Z24ocixcIndlaWdodHNcIixcImNvc2luZURpc3RhbmNlXCIpKSxFKGEuc2hhcGUsaS5zaGFwZSxcIkVycm9yIGluIGNvc2luZURpc3RhbmNlOiBcIik7dmFyIHU9T24oMSkuc3ViKGEubXVsKGkpLnN1bShuLCEwKSk7cmV0dXJuIE9oKHUscyxvKX19KSxCaD1Bbih7aGluZ2VMb3NzXzpmdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj1OaC5TVU1fQllfTk9OWkVST19XRUlHSFRTKTt2YXIgbz1nbih0LFwibGFiZWxzXCIsXCJoaW5nZUxvc3NcIiksYT1nbihlLFwicHJlZGljdGlvbnNcIixcImhpbmdlTG9zc1wiKSxpPW51bGw7bnVsbCE9biYmKGk9Z24obixcIndlaWdodHNcIixcImhpbmdlTG9zc1wiKSksRShvLnNoYXBlLGEuc2hhcGUsXCJFcnJvciBpbiBoaW5nZUxvc3M6IFwiKTt2YXIgcz1PbigxKTtvPU9uKDIpLm11bChvKS5zdWIocyk7dmFyIHU9cy5zdWIoby5tdWwoYSkpLnJlbHUoKTtyZXR1cm4gT2godSxpLHIpfX0pLFBoPUFuKHtodWJlckxvc3NfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09ciYmKHI9MSksdm9pZCAwPT09byYmKG89TmguU1VNX0JZX05PTlpFUk9fV0VJR0hUUyk7dmFyIGE9Z24odCxcImxhYmVsc1wiLFwiaHViZXJMb3NzXCIpLGk9Z24oZSxcInByZWRpY3Rpb25zXCIsXCJodWJlckxvc3NcIikscz1udWxsO251bGwhPW4mJihzPWduKG4sXCJ3ZWlnaHRzXCIsXCJodWJlckxvc3NcIikpLEUoYS5zaGFwZSxpLnNoYXBlLFwiRXJyb3IgaW4gaHViZXJMb3NzOiBcIik7dmFyIHU9T24ociksYz1pLnN1YihhKS5hYnMoKSxsPUlvKGMsdSksaD1jLnN1YihsKSxmPU9uKC41KS5tdWwobC5zcXVhcmUoKSkuYWRkKHUubXVsKGgpKTtyZXR1cm4gT2goZixzLG8pfX0pLExoPUFuKHtsb2dMb3NzXzpmdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PXImJihyPTFlLTcpLHZvaWQgMD09PW8mJihvPU5oLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpO3ZhciBhPWduKHQsXCJsYWJlbHNcIixcImxvZ0xvc3NcIiksaT1nbihlLFwicHJlZGljdGlvbnNcIixcImxvZ0xvc3NcIikscz1udWxsO251bGwhPW4mJihzPWduKG4sXCJ3ZWlnaHRzXCIsXCJsb2dMb3NzXCIpKSxFKGEuc2hhcGUsaS5zaGFwZSxcIkVycm9yIGluIGxvZ0xvc3M6IFwiKTt2YXIgdT1PbigxKSxjPU9uKHIpLGw9YS5tdWwoaS5hZGQoYykubG9nKCkpLm5lZygpLnN1Yih1LnN1YihhKS5tdWwodS5zdWIoaSkuYWRkKGMpLmxvZygpKSk7cmV0dXJuIE9oKGwscyxvKX19KSxXaD1Bbih7bWVhblNxdWFyZWRFcnJvcl86ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ciYmKHI9TmguU1VNX0JZX05PTlpFUk9fV0VJR0hUUyk7dmFyIG89Z24odCxcImxhYmVsc1wiLFwibWVhblNxdWFyZWRFcnJvclwiKSxhPWduKGUsXCJwcmVkaWN0aW9uc1wiLFwibWVhblNxdWFyZWRFcnJvclwiKSxpPW51bGw7bnVsbCE9biYmKGk9Z24obixcIndlaWdodHNcIixcIm1lYW5TcXVhcmVkRXJyb3JcIikpLEUoby5zaGFwZSxhLnNoYXBlLFwiRXJyb3IgaW4gbWVhblNxdWFyZWRFcnJvcjogXCIpO3ZhciBzPW8uc3F1YXJlZERpZmZlcmVuY2UoYSk7cmV0dXJuIE9oKHMsaSxyKX19KSxVaD1Bbih7c2lnbW9pZENyb3NzRW50cm9weV86ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1vJiYobz1OaC5TVU1fQllfTk9OWkVST19XRUlHSFRTKTt2YXIgYT1nbih0LFwibXVsdGlDbGFzc0xhYmVsc1wiLFwic2lnbW9pZENyb3NzRW50cm9weVwiKSxpPWduKGUsXCJsb2dpdHNcIixcInNpZ21vaWRDcm9zc0VudHJvcHlcIikscz1udWxsO2lmKG51bGwhPW4mJihzPWduKG4sXCJ3ZWlnaHRzXCIsXCJzaWdtb2lkQ3Jvc3NFbnRyb3B5XCIpKSxFKGEuc2hhcGUsaS5zaGFwZSxcIkVycm9yIGluIHNpZ21vaWRDcm9zc0VudHJvcHk6IFwiKSxyPjApe3ZhciB1PU9uKHIpLGM9T24oMSksbD1PbiguNSk7YT1hLm11bChjLnN1Yih1KSkuYWRkKGwubXVsKHUpKX12YXIgaD1mdW5jdGlvbih0LGUpe3ZhciBuPWduKHQsXCJsYWJlbHNcIixcInNpZ21vaWRDcm9zc0VudHJvcHlXaXRoTG9naXRzXCIpLHI9Z24oZSxcImxvZ2l0c1wiLFwic2lnbW9pZENyb3NzRW50cm9weVdpdGhMb2dpdHNcIik7RShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBzaWdtb2lkQ3Jvc3NFbnRyb3B5V2l0aExvZ2l0czogXCIpO3ZhciBvPXIucmVsdSgpLGE9ci5tdWwobiksaT1yLmFicygpLm5lZygpLmV4cCgpLmxvZzFwKCk7cmV0dXJuIG8uc3ViKGEpLmFkZChpKX0oYSxpKTtyZXR1cm4gT2goaCxzLG8pfX0pLFZoPUFuKHtzb2Z0bWF4Q3Jvc3NFbnRyb3B5XzpmdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PW8mJihvPU5oLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpO3ZhciBhPWduKHQsXCJvbmVob3RMYWJlbHNcIixcInNvZnRtYXhDcm9zc0VudHJvcHlcIiksaT1nbihlLFwibG9naXRzXCIsXCJzb2Z0bWF4Q3Jvc3NFbnRyb3B5XCIpLHM9bnVsbDtpZihudWxsIT1uJiYocz1nbihuLFwid2VpZ2h0c1wiLFwic29mdG1heENyb3NzRW50cm9weVwiKSksRShhLnNoYXBlLGkuc2hhcGUsXCJFcnJvciBpbiBzb2Z0bWF4Q3Jvc3NFbnRyb3B5OiBcIikscj4wKXt2YXIgdT1PbihyKSxjPU9uKDEpLGw9T24oYS5zaGFwZVsxXSk7YT1hLm11bChjLnN1Yih1KSkuYWRkKHUuZGl2KGwpKX12YXIgaD1mdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09biYmKG49LTEpLC0xPT09biYmKG49ZS5yYW5rLTEpLG4hPT1lLnJhbmstMSl0aHJvdyBFcnJvcihcIlNvZnRtYXggY3Jvc3MgZW50cm9weSBhbG9uZyBhIG5vbi1sYXN0IGRpbWVuc2lvbiBpcyBub3QgeWV0IHN1cHBvcnRlZC4gTGFiZWxzIC8gbG9naXRzIHdhcyByYW5rIFwiK2UucmFuaytcIiBhbmQgZGltIHdhcyBcIituKTtyZXR1cm4gb2EoKGZ1bmN0aW9uKHQsZSxyKXt2YXIgbz1lLmxvZ1N1bUV4cChbbl0sITApLGE9ZS50b0Zsb2F0KCkuc3ViKG8pO3IoW3QsYV0pO3JldHVybnt2YWx1ZTphLm11bCh0KS5uZWcoKS5zdW0oW25dKSxncmFkRnVuYzpmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbz1lWzFdLGE9d24odC5zaGFwZSxbbl0pO3JldHVyblt0LnJlc2hhcGUoYSkubXVsKHIudG9GbG9hdCgpLnN1YihvLmV4cCgpKSksdC5yZXNoYXBlKGEpLm11bChvLmV4cCgpLnN1YihyLnRvRmxvYXQoKSkpXX19fSkpKHQsZSl9KGEsaSk7cmV0dXJuIE9oKGgscyxvKX19KSx6aD1PYmplY3QuZnJlZXplKHtnZXQgUmVkdWN0aW9uKCl7cmV0dXJuIE5ofSxhYnNvbHV0ZURpZmZlcmVuY2U6X2gsY29tcHV0ZVdlaWdodGVkTG9zczpPaCxjb3NpbmVEaXN0YW5jZTpNaCxoaW5nZUxvc3M6QmgsaHViZXJMb3NzOlBoLGxvZ0xvc3M6TGgsbWVhblNxdWFyZWRFcnJvcjpXaCxzaWdtb2lkQ3Jvc3NFbnRyb3B5OlVoLHNvZnRtYXhDcm9zc0VudHJvcHk6Vmh9KTtmdW5jdGlvbiBHaCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksTHQudGlkeSgoZnVuY3Rpb24oKXtpZigyIT09dC5zaGFwZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwicXIyZCgpIHJlcXVpcmVzIGEgMkQgVGVuc29yLCBidXQgZ290IGEgXCIrdC5zaGFwZS5sZW5ndGgrXCJEIFRlbnNvci5cIik7Zm9yKHZhciBuPXQuc2hhcGVbMF0scj10LnNoYXBlWzFdLG89Q2MobiksYT10LmNsb25lKCksaT1CbihbWzFdXSxbMSwxXSkscz1pLmNsb25lKCksdT1uPj1yP3I6bixjPWZ1bmN0aW9uKHQpe3ZhciBlLHU9YSxjPXMsbD1vO2U9THQudGlkeSgoZnVuY3Rpb24oKXt2YXIgZT1hLnNsaWNlKFt0LHRdLFtuLXQsMV0pLHU9ZS5ub3JtKCksYz1hLnNsaWNlKFt0LHRdLFsxLDFdKSxsPUJuKFtbLTFdXSkud2hlcmUoYy5ncmVhdGVyKDApLEJuKFtbMV1dKSksaD1jLnN1YihsLm11bCh1KSksZj1lLmRpdihoKTtzPTE9PT1mLnNoYXBlWzBdP2kuY2xvbmUoKTppLmNvbmNhdChmLnNsaWNlKFsxLDBdLFtmLnNoYXBlWzBdLTEsZi5zaGFwZVsxXV0pLDApO3ZhciBkPWwubWF0TXVsKGgpLmRpdih1KS5uZWcoKSxwPWEuc2xpY2UoW3QsMF0sW24tdCxyXSksdj1kLm11bChzKSxnPXMudHJhbnNwb3NlKCk7aWYoMD09PXQpYT1wLnN1Yih2Lm1hdE11bChnLm1hdE11bChwKSkpO2Vsc2V7dmFyIG09cC5zdWIodi5tYXRNdWwoZy5tYXRNdWwocCkpKTthPWEuc2xpY2UoWzAsMF0sW3Qscl0pLmNvbmNhdChtLDApfXZhciB5PXYudHJhbnNwb3NlKCkseD1vLnNsaWNlKFswLHRdLFtuLG8uc2hhcGVbMV0tdF0pO2lmKDA9PT10KW89eC5zdWIoeC5tYXRNdWwocykubWF0TXVsKHkpKTtlbHNle3ZhciBiPXguc3ViKHgubWF0TXVsKHMpLm1hdE11bCh5KSk7bz1vLnNsaWNlKFswLDBdLFtuLHRdKS5jb25jYXQoYiwxKX1yZXR1cm5bcyxhLG9dfSkpLHM9ZVswXSxhPWVbMV0sbz1lWzJdLHRuKFt1LGMsbF0pfSxsPTA7bDx1OysrbCljKGwpO3JldHVybiFlJiZuPnImJihvPW8uc2xpY2UoWzAsMF0sW24scl0pLGE9YS5zbGljZShbMCwwXSxbcixyXSkpLFtvLGFdfSkpfXZhciBIaD1Bbih7YmFuZFBhcnRfOmZ1bmN0aW9uKHQsZSxuKXtpZihlJTEhPTApdGhyb3cgbmV3IEVycm9yKFwiYmFuZFBhcnQoKTogbnVtTG93ZXIgbXVzdCBiZSBhbiBpbnRlZ2VyLCBnb3QgXCIrZStcIi5cIik7aWYobiUxIT0wKXRocm93IG5ldyBFcnJvcihcImJhbmRQYXJ0KCk6IG51bVVwcGVyIG11c3QgYmUgYW4gaW50ZWdlciwgZ290IFwiK24rXCIuXCIpO3ZhciByPWduKHQsXCJhXCIsXCJiYW5kUGFydFwiKTtpZihyLnJhbms8Mil0aHJvdyBuZXcgRXJyb3IoXCJiYW5kUGFydCgpOiBSYW5rIG11c3QgYmUgYXQgbGVhc3QgMiwgZ290IFwiK3IucmFuaytcIi5cIik7dmFyIG89ci5zaGFwZSxhPXIuc2hhcGUuc2xpY2UoLTIpLGk9YVswXSxzPWFbMV07aWYoIShlPD1pKSl0aHJvdyBuZXcgRXJyb3IoXCJiYW5kUGFydCgpOiBudW1Mb3dlciAoXCIrZStcIikgbXVzdCBub3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2Ygcm93cyAoXCIraStcIikuXCIpO2lmKCEobjw9cykpdGhyb3cgbmV3IEVycm9yKFwiYmFuZFBhcnQoKTogbnVtVXBwZXIgKFwiK24rXCIpIG11c3Qgbm90IGJlIGdyZWF0ZXIgdGhhbiB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgKFwiK3MrXCIpLlwiKTtlPDAmJihlPWkpLG48MCYmKG49cyk7dmFyIHU9S24oMCxpLDEsXCJpbnQzMlwiKS5yZXNoYXBlKFstMSwxXSksYz1LbigwLHMsMSxcImludDMyXCIpLGw9T28odSxjKSxoPXBjKGwubGVzc0VxdWFsKE9uKCtlLFwiaW50MzJcIikpLGwuZ3JlYXRlckVxdWFsKE9uKC1uLFwiaW50MzJcIikpKSxmPUduKFtpLHNdLHIuZHR5cGUpO3JldHVybiBocihmcihyLnJlc2hhcGUoWy0xLGksc10pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB5YyhoLHQsZil9KSkpLnJlc2hhcGUobyl9fSkscWg9QW4oe2dyYW1TY2htaWR0XzpmdW5jdGlvbih0KXt2YXIgZTtpZihBcnJheS5pc0FycmF5KHQpKXtlPSExLEMobnVsbCE9dCYmdC5sZW5ndGg+MCwoZnVuY3Rpb24oKXtyZXR1cm5cIkdyYW0tU2NobWlkdCBwcm9jZXNzOiBpbnB1dCBtdXN0IG5vdCBiZSBudWxsLCB1bmRlZmluZWQsIG9yIGVtcHR5XCJ9KSk7Zm9yKHZhciBuPXRbMF0uc2hhcGVbMF0scj1mdW5jdGlvbihlKXtDKHRbZV0uc2hhcGVbMF09PT1uLChmdW5jdGlvbigpe3JldHVyblwiR3JhbS1TY2htaWR0OiBOb24tdW5pcXVlIGxlbmd0aHMgZm91bmQgaW4gdGhlIGlucHV0IHZlY3RvcnM6IChcIit0W2VdLnNoYXBlWzBdK1wiIHZzLiBcIituK1wiKVwifSkpfSxvPTE7bzx0Lmxlbmd0aDsrK28pcihvKX1lbHNlIGU9ITAsdD10cih0LHQuc2hhcGVbMF0sMCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbHIodCxbMF0pfSkpO0ModC5sZW5ndGg8PXRbMF0uc2hhcGVbMF0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJHcmFtLVNjaG1pZHQ6IE51bWJlciBvZiB2ZWN0b3JzIChcIit0Lmxlbmd0aCtcIikgZXhjZWVkcyBudW1iZXIgb2YgZGltZW5zaW9ucyAoXCIrdFswXS5zaGFwZVswXStcIikuXCJ9KSk7dmFyIGE9W10saT10LHM9ZnVuY3Rpb24odCl7YS5wdXNoKEx0LnRpZHkoKGZ1bmN0aW9uKCl7dmFyIGU9aVt0XTtpZih0PjApZm9yKHZhciBuPTA7bjx0Oysrbil7dmFyIHI9dGgoYVtuXS5tdWxTdHJpY3QoZSkpLm11bChhW25dKTtlPWUuc3ViKHIpfXJldHVybiBlLmRpdihjaChlLFwiZXVjbGlkZWFuXCIpKX0pKSl9O2ZvcihvPTA7bzx0Lmxlbmd0aDsrK28pcyhvKTtyZXR1cm4gZT9ocihhLDApOmF9fSksS2g9QW4oe3FyXzpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPSExKSx0LnJhbms8Mil0aHJvdyBuZXcgRXJyb3IoXCJxcigpIHJlcXVpcmVzIGlucHV0IHRlbnNvciB0byBoYXZlIGEgcmFuayA+PSAyLCBidXQgZ290IHJhbmsgXCIrdC5yYW5rKTtpZigyPT09dC5yYW5rKXJldHVybiBHaCh0LGUpO3ZhciBuPXQuc2hhcGUuc2xpY2UoMCx0LnNoYXBlLmxlbmd0aC0yKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZX0pKSxyPWZyKHQucmVzaGFwZShbbix0LnNoYXBlW3Quc2hhcGUubGVuZ3RoLTJdLHQuc2hhcGVbdC5zaGFwZS5sZW5ndGgtMV1dKSwwKSxvPVtdLGE9W107cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49R2godCxlKSxyPW5bMF0saT1uWzFdO28ucHVzaChyKSxhLnB1c2goaSl9KSksW2hyKG8sMCkucmVzaGFwZSh0LnNoYXBlKSxocihhLDApLnJlc2hhcGUodC5zaGFwZSldfX0pLGpoPU9iamVjdC5mcmVlemUoe2JhbmRQYXJ0OkhoLGdyYW1TY2htaWR0OnFoLHFyOktofSk7ZnVuY3Rpb24gWGgodCxlLG4scixvLGEpe251bGw9PXImJihyPS41KSxudWxsPT1vJiYobz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpLG51bGw9PWEmJihhPTApO3ZhciBpPXQuc2hhcGVbMF07cmV0dXJuIG49TWF0aC5taW4obixpKSxDKDA8PXImJnI8PTEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJpb3VUaHJlc2hvbGQgbXVzdCBiZSBpbiBbMCwgMV0sIGJ1dCB3YXMgJ1wiK3IrXCInXCJ9KSksQygyPT09dC5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiYm94ZXMgbXVzdCBiZSBhIDJEIHRlbnNvciwgYnV0IHdhcyBvZiByYW5rICdcIit0LnJhbmsrXCInXCJ9KSksQyg0PT09dC5zaGFwZVsxXSwoZnVuY3Rpb24oKXtyZXR1cm5cImJveGVzIG11c3QgaGF2ZSA0IGNvbHVtbnMsIGJ1dCAybmQgZGltZW5zaW9uIHdhcyBcIit0LnNoYXBlWzFdfSkpLEMoMT09PWUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cInNjb3JlcyBtdXN0IGJlIGEgMUQgdGVuc29yXCJ9KSksQyhlLnNoYXBlWzBdPT09aSwoZnVuY3Rpb24oKXtyZXR1cm5cInNjb3JlcyBoYXMgaW5jb21wYXRpYmxlIHNoYXBlIHdpdGggYm94ZXMuIEV4cGVjdGVkIFwiK2krXCIsIGJ1dCB3YXMgXCIrZS5zaGFwZVswXX0pKSxDKDA8PWEmJmE8PTEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJzb2Z0Tm1zU2lnbWEgbXVzdCBiZSBpbiBbMCwgMV0sIGJ1dCB3YXMgJ1wiK2ErXCInXCJ9KSkse21heE91dHB1dFNpemU6bixpb3VUaHJlc2hvbGQ6cixzY29yZVRocmVzaG9sZDpvLHNvZnRObXNTaWdtYTphfX12YXIgWWg9QW4oe3Jlc2l6ZUJpbGluZWFyXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49ITEpO3ZhciByPWduKHQsXCJpbWFnZXNcIixcInJlc2l6ZUJpbGluZWFyXCIpO0MoMz09PXIucmFua3x8ND09PXIucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHJlc2l6ZUJpbGluZWFyOiB4IG11c3QgYmUgcmFuayAzIG9yIDQsIGJ1dCBnb3QgcmFuayBcIityLnJhbmsrXCIuXCJ9KSksQygyPT09ZS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiByZXNpemVCaWxpbmVhcjogbmV3IHNoYXBlIG11c3QgMkQsIGJ1dCBnb3Qgc2hhcGUgXCIrZStcIi5cIn0pKTt2YXIgbz1yLGE9ITE7Mz09PXIucmFuayYmKGE9ITAsbz1yLmFzNEQoMSxyLnNoYXBlWzBdLHIuc2hhcGVbMV0sci5zaGFwZVsyXSkpO3ZhciBpPWVbMF0scz1lWzFdLHU9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXtyZXR1cm4gZShbb10pLHQucmVzaXplQmlsaW5lYXIobyxpLHMsbil9KSx7eDpvfSwoZnVuY3Rpb24odCxlKXtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbihyKXtyZXR1cm4gci5yZXNpemVCaWxpbmVhckJhY2twcm9wKHQsZVswXSxuKX0pLHt9KX19fSksXCJSZXNpemVCaWxpbmVhclwiLHthbGlnbkNvcm5lcnM6bixuZXdIZWlnaHQ6aSxuZXdXaWR0aDpzfSk7cmV0dXJuIGE/dS5hczNEKHUuc2hhcGVbMV0sdS5zaGFwZVsyXSx1LnNoYXBlWzNdKTp1fX0pLCRoPUFuKHtyZXNpemVOZWFyZXN0TmVpZ2hib3JfOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMSk7dmFyIHI9Z24odCxcImltYWdlc1wiLFwicmVzaXplTmVhcmVzdE5laWdoYm9yXCIpO0MoMz09PXIucmFua3x8ND09PXIucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHJlc2l6ZU5lYXJlc3ROZWlnaGJvcjogeCBtdXN0IGJlIHJhbmsgMyBvciA0LCBidXQgZ290IHJhbmsgXCIrci5yYW5rK1wiLlwifSkpLEMoMj09PWUubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gcmVzaXplTmVhcmVzdE5laWdoYm9yOiBuZXcgc2hhcGUgbXVzdCAyRCwgYnV0IGdvdCBzaGFwZSBcIitlK1wiLlwifSkpLEMoXCJmbG9hdDMyXCI9PT1yLmR0eXBlfHxcImludDMyXCI9PT1yLmR0eXBlLChmdW5jdGlvbigpe3JldHVyblwiYGltYWdlc2AgbXVzdCBoYXZlIGBpbnQzMmAgb3IgYGZsb2F0MzJgIGFzIGR0eXBlXCJ9KSk7dmFyIG89cixhPSExOzM9PT1yLnJhbmsmJihhPSEwLG89ci5hczREKDEsci5zaGFwZVswXSxyLnNoYXBlWzFdLHIuc2hhcGVbMl0pKTt2YXIgaT1lWzBdLHM9ZVsxXSx1PUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUoW29dKSx0LnJlc2l6ZU5lYXJlc3ROZWlnaGJvcihvLGkscyxuKX0pLHtiYXRjaEltYWdlczpvfSwoZnVuY3Rpb24odCxlKXtyZXR1cm57YmF0Y2hJbWFnZXM6ZnVuY3Rpb24oKXtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24ocil7cmV0dXJuIHIucmVzaXplTmVhcmVzdE5laWdoYm9yQmFja3Byb3AodCxlWzBdLG4pfSkse30pfX19KSk7cmV0dXJuIGE/dS5hczNEKHUuc2hhcGVbMV0sdS5zaGFwZVsyXSx1LnNoYXBlWzNdKTp1fX0pLFFoPUFuKHtub25NYXhTdXBwcmVzc2lvbl86ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1yJiYocj0uNSksdm9pZCAwPT09byYmKG89TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTt2YXIgYT1nbih0LFwiYm94ZXNcIixcIm5vbk1heFN1cHByZXNzaW9uXCIpLGk9Z24oZSxcInNjb3Jlc1wiLFwibm9uTWF4U3VwcHJlc3Npb25cIikscz1YaChhLGksbixyLG8pO249cy5tYXhPdXRwdXRTaXplLHI9cy5pb3VUaHJlc2hvbGQsbz1zLnNjb3JlVGhyZXNob2xkO3ZhciB1PXttYXhPdXRwdXRTaXplOm4saW91VGhyZXNob2xkOnIsc2NvcmVUaHJlc2hvbGQ6b307cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5vbk1heFN1cHByZXNzaW9uKGEsaSxuLHIsbyl9KSx7Ym94ZXM6YSxzY29yZXM6aX0sbnVsbCxcIk5vbk1heFN1cHByZXNzaW9uVjNcIix1KX19KSxKaD1mdW5jdGlvbih0LGUsbyxhLGkpe3JldHVybiB2b2lkIDA9PT1hJiYoYT0uNSksdm9pZCAwPT09aSYmKGk9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSxuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixzLHUsYyxsLGgsZjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPWduKHQsXCJib3hlc1wiLFwibm9uTWF4U3VwcHJlc3Npb25Bc3luY1wiKSxzPWduKGUsXCJzY29yZXNcIixcIm5vbk1heFN1cHByZXNzaW9uQXN5bmNcIiksdT1YaChuLHMsbyxhLGkpLG89dS5tYXhPdXRwdXRTaXplLGE9dS5pb3VUaHJlc2hvbGQsaT11LnNjb3JlVGhyZXNob2xkLFs0LFByb21pc2UuYWxsKFtuLmRhdGEoKSxzLmRhdGEoKV0pXTtjYXNlIDE6cmV0dXJuIGM9ci5zZW50KCksbD1jWzBdLGg9Y1sxXSxmPU9hKGwsaCxvLGEsaSksbiE9PXQmJm4uZGlzcG9zZSgpLHMhPT1lJiZzLmRpc3Bvc2UoKSxbMixmXX19KSl9KSl9LFpoPUFuKHtub25NYXhTdXBwcmVzc2lvbldpdGhTY29yZV86ZnVuY3Rpb24odCxlLG4scixvLGEpe3ZvaWQgMD09PXImJihyPS41KSx2b2lkIDA9PT1vJiYobz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpLHZvaWQgMD09PWEmJihhPTApO3ZhciBpPWduKHQsXCJib3hlc1wiLFwibm9uTWF4U3VwcHJlc3Npb25cIikscz1nbihlLFwic2NvcmVzXCIsXCJub25NYXhTdXBwcmVzc2lvblwiKSx1PVhoKGkscyxuLHIsbyxhKSxjPXttYXhPdXRwdXRTaXplOm49dS5tYXhPdXRwdXRTaXplLGlvdVRocmVzaG9sZDpyPXUuaW91VGhyZXNob2xkLHNjb3JlVGhyZXNob2xkOm89dS5zY29yZVRocmVzaG9sZCxzb2Z0Tm1zU2lnbWE6YT11LnNvZnRObXNTaWdtYX0sbD1MdC5ydW5LZXJuZWwoXCJOb25NYXhTdXBwcmVzc2lvblY1XCIse2JveGVzOmksc2NvcmVzOnN9LGMpO3JldHVybntzZWxlY3RlZEluZGljZXM6bFswXSxzZWxlY3RlZFNjb3JlczpsWzFdfX19KSx0Zj1mdW5jdGlvbih0LGUsbyxhLGkscyl7cmV0dXJuIHZvaWQgMD09PWEmJihhPS41KSx2b2lkIDA9PT1pJiYoaT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpLHZvaWQgMD09PXMmJihzPTApLG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHUsYyxsLGgsZixkO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49Z24odCxcImJveGVzXCIsXCJub25NYXhTdXBwcmVzc2lvbkFzeW5jXCIpLHU9Z24oZSxcInNjb3Jlc1wiLFwibm9uTWF4U3VwcHJlc3Npb25Bc3luY1wiKSxjPVhoKG4sdSxvLGEsaSxzKSxvPWMubWF4T3V0cHV0U2l6ZSxhPWMuaW91VGhyZXNob2xkLGk9Yy5zY29yZVRocmVzaG9sZCxzPWMuc29mdE5tc1NpZ21hLFs0LFByb21pc2UuYWxsKFtuLmRhdGEoKSx1LmRhdGEoKV0pXTtjYXNlIDE6cmV0dXJuIGw9ci5zZW50KCksaD1sWzBdLGY9bFsxXSxkPU1hKGgsZixvLGEsaSxzKSxuIT09dCYmbi5kaXNwb3NlKCksdSE9PWUmJnUuZGlzcG9zZSgpLFsyLGRdfX0pKX0pKX0sZWY9QW4oe2Nyb3BBbmRSZXNpemVfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2YXIgaT1nbih0LFwiaW1hZ2VcIixcImNyb3BBbmRSZXNpemVcIikscz1nbihlLFwiYm94ZXNcIixcImNyb3BBbmRSZXNpemVcIixcImZsb2F0MzJcIiksdT1nbihuLFwiYm94SW5kXCIsXCJjcm9wQW5kUmVzaXplXCIsXCJpbnQzMlwiKTtvPW98fFwiYmlsaW5lYXJcIixhPWF8fDA7dmFyIGM9cy5zaGFwZVswXTtyZXR1cm4gQyg0PT09aS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY3JvcEFuZFJlc2l6ZTogaW1hZ2UgbXVzdCBiZSByYW5rIDQsYnV0IGdvdCByYW5rIFwiK2kucmFuaytcIi5cIn0pKSxDKDI9PT1zLnJhbmsmJjQ9PT1zLnNoYXBlWzFdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY3JvcEFuZFJlc2l6ZTogYm94ZXMgbXVzdCBiZSBoYXZlIHNpemUgW1wiK2MrXCIsNF0gYnV0IGhhZCBzaGFwZSBcIitzLnNoYXBlK1wiLlwifSkpLEMoMT09PXUucmFuayYmdS5zaGFwZVswXT09PWMsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjcm9wQW5kUmVzaXplOiBib3hJbmQgbXVzdCBiZSBoYXZlIHNpemUgW1wiK2MrXCJdIGJ1dCBoYWQgc2hhcGUgXCIrcy5zaGFwZStcIi5cIn0pKSxDKDI9PT1yLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNyb3BBbmRSZXNpemU6IGNyb3BTaXplIG11c3QgYmUgb2YgbGVuZ3RoIDIsIGJ1dCBnb3QgbGVuZ3RoIFwiK3IubGVuZ3RoK1wiLlwifSkpLEMoclswXT49MSYmclsxXT49MSwoZnVuY3Rpb24oKXtyZXR1cm5cImNyb3BTaXplIG11c3QgYmUgYXRsZWFzdCBbMSwxXSwgYnV0IHdhcyBcIityfSkpLEMoXCJiaWxpbmVhclwiPT09b3x8XCJuZWFyZXN0XCI9PT1vLChmdW5jdGlvbigpe3JldHVyblwibWV0aG9kIG11c3QgYmUgYmlsaW5lYXIgb3IgbmVhcmVzdCwgYnV0IHdhcyBcIitvfSkpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY3JvcEFuZFJlc2l6ZShpLHMsdSxyLG8sYSl9KSx7aW1hZ2VzOmksYm94ZXM6cyxib3hJbmQ6dX0sbnVsbCxcIkNyb3BBbmRSZXNpemVcIix7bWV0aG9kOm8sZXh0cmFwb2xhdGlvblZhbHVlOmEsY3JvcFNpemU6cn0pfX0pLG5mPU9iamVjdC5mcmVlemUoe3Jlc2l6ZUJpbGluZWFyOlloLHJlc2l6ZU5lYXJlc3ROZWlnaGJvcjokaCxub25NYXhTdXBwcmVzc2lvbjpRaCxub25NYXhTdXBwcmVzc2lvbkFzeW5jOkpoLG5vbk1heFN1cHByZXNzaW9uV2l0aFNjb3JlOlpoLG5vbk1heFN1cHByZXNzaW9uV2l0aFNjb3JlQXN5bmM6dGYsY3JvcEFuZFJlc2l6ZTplZn0pLHJmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISh0PjApfHxcImxpbmVhclwiPT09ZX0sb2Y9ZnVuY3Rpb24odCxlLG4pe2lmKG51bGw9PW58fFwibGluZWFyXCI9PT1uKXJldHVybiB0O2lmKFwicmVsdVwiPT09bilyZXR1cm4gdC5tdWwoZS5zdGVwKCkpO3Rocm93IG5ldyBFcnJvcihcIkdyYWRpZW50IGZvciBhY3RpdmF0aW9uIFwiK24rXCIgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIHlldC5cIil9LGFmPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZSxyPUJyKHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHIubGVuZ3RoPjAmJihuPW4uc3VtKHIpKSxuLnJlc2hhcGUodC5zaGFwZSl9LHNmPWZ1bmN0aW9uKHQsZSxuKXtpZihcImxpbmVhclwiPT09ZSlyZXR1cm4gdDtpZihcInJlbHVcIj09PWUpcmV0dXJuIGFoKHQpO2lmKFwiZWx1XCI9PT1lKXJldHVybiBuaCh0KTtpZihcInJlbHU2XCI9PT1lKXJldHVybiBpaCh0KTtpZihcInByZWx1XCI9PT1lKXJldHVybiBvaCh0LG4pO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gZnVzZWQgYWN0aXZhdGlvbiBcIitlK1wiLlwiKX07dmFyIHVmPUFuKHtmdXNlZE1hdE11bF86ZnVuY3Rpb24odCl7dmFyIGUsbj10LmEscj10LmIsbz10LnRyYW5zcG9zZUEsYT12b2lkIDAhPT1vJiZvLGk9dC50cmFuc3Bvc2VCLHM9dm9pZCAwIT09aSYmaSx1PXQuYmlhcyxjPXQuYWN0aXZhdGlvbixsPXZvaWQgMD09PWM/XCJsaW5lYXJcIjpjLGg9dC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzO2lmKCExPT09cmYoTHQuc3RhdGUuZ3JhZGllbnREZXB0aCxsKSl7dmFyIGY9RWwobixyLGEscyk7cmV0dXJuIG51bGwhPXUmJihmPU9yKGYsdSkpLHNmKGYsbCxoKX12YXIgZD1nbihuLFwiYVwiLFwiZnVzZWQgbWF0TXVsXCIpLHA9Z24ocixcImJcIixcImZ1c2VkIG1hdE11bFwiKTtlPU50KGQscCksZD1lWzBdLHA9ZVsxXTt2YXIgdj1hP2Quc2hhcGVbZC5yYW5rLTJdOmQuc2hhcGVbZC5yYW5rLTFdLGc9cz9wLnNoYXBlW3AucmFuay0xXTpwLnNoYXBlW3AucmFuay0yXSxtPWE/ZC5zaGFwZVtkLnJhbmstMV06ZC5zaGFwZVtkLnJhbmstMl0seT1zP3Auc2hhcGVbcC5yYW5rLTJdOnAuc2hhcGVbcC5yYW5rLTFdLHg9ZC5zaGFwZS5zbGljZSgwLC0yKSxiPXAuc2hhcGUuc2xpY2UoMCwtMiksdz1rKHgpLEU9ayhiKTtDKGQucmFuaz49MiYmcC5yYW5rPj0yJiZkLnJhbms9PT1wLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBtYXRNdWw6IGlucHV0cyBtdXN0IGhhdmUgdGhlIHNhbWUgcmFuayBvZiBhdCBsZWFzdCAyLCBnb3QgcmFua3MgXCIrZC5yYW5rK1wiIGFuZCBcIitwLnJhbmsrXCIuXCJ9KSksQyhTKHgsYiksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBtYXRNdWw6IG91dGVyIGRpbWVuc2lvbnMgKFwiK3grXCIpIGFuZCAoXCIrYitcIikgb2YgVGVuc29ycyB3aXRoIHNoYXBlcyBcIitkLnNoYXBlK1wiIGFuZCBcIitwLnNoYXBlK1wiIG11c3QgbWF0Y2guXCJ9KSksQyh2PT09ZywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGZ1c2VkIG1hdE11bDogaW5uZXIgc2hhcGVzIChcIit2K1wiKSBhbmQgKFwiK2crXCIpIG9mIFRlbnNvcnMgd2l0aCBzaGFwZXMgXCIrZC5zaGFwZStcIiBhbmQgXCIrcC5zaGFwZStcIiBhbmQgdHJhbnNwb3NlQT1cIithK1wiIGFuZCB0cmFuc3Bvc2VCPVwiK3MrXCIgbXVzdCBtYXRjaC5cIn0pKTt2YXIgUixJLEE9ZC5zaGFwZS5zbGljZSgwLC0yKS5jb25jYXQoW20seV0pLFQ9YT9kLmFzM0Qodyx2LG0pOmQuYXMzRCh3LG0sdiksRD1zP3AuYXMzRChFLHksZyk6cC5hczNEKEUsZyx5KTtudWxsIT11JiZQcihBLChSPU50KFI9Z24odSxcImJpYXNcIixcImZ1c2VkIG1hdE11bFwiKSxkKVswXSkuc2hhcGUpLG51bGwhPWgmJihJPWduKGgsXCJwcmVsdSB3ZWlnaHRzXCIsXCJmdXNlZCBtYXRNdWxcIikpO3ZhciBOPXthOlQsYjpEfTtudWxsIT11JiYoTi5iaWFzPVIpLG51bGwhPWgmJihOLnByZWx1QWN0aXZhdGlvbldlaWdodHM9SSk7dmFyIEY9W1QsRF07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5mdXNlZEJhdGNoTWF0TXVsKHthOlQsYjpELHRyYW5zcG9zZUE6YSx0cmFuc3Bvc2VCOnMsYmlhczpSLGFjdGl2YXRpb246bCxwcmVsdUFjdGl2YXRpb25XZWlnaHRzOkl9KTtyZXR1cm4gZShbVCxELG5dKSxufSksTiwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxvPWVbMl0saT1vZih0LG8sbCksYz17fTtyZXR1cm4gbnVsbCE9dSYmKGM9e2JpYXM6ZnVuY3Rpb24oKXtyZXR1cm4gYWYoUixpKX19KSxhfHxzPyFhJiZzP09iamVjdC5hc3NpZ24oe2E6ZnVuY3Rpb24oKXtyZXR1cm4gaS5tYXRNdWwociwhMSwhMSl9LGI6ZnVuY3Rpb24oKXtyZXR1cm4gaS5tYXRNdWwobiwhMCwhMSl9fSxjKTphJiYhcz9PYmplY3QuYXNzaWduKHthOmZ1bmN0aW9uKCl7cmV0dXJuIHIubWF0TXVsKGksITEsITApfSxiOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubWF0TXVsKGksITEsITEpfX0sYyk6T2JqZWN0LmFzc2lnbih7YTpmdW5jdGlvbigpe3JldHVybiByLm1hdE11bChpLCEwLCEwKX0sYjpmdW5jdGlvbigpe3JldHVybiBpLm1hdE11bChuLCEwLCEwKX19LGMpOk9iamVjdC5hc3NpZ24oe2E6ZnVuY3Rpb24oKXtyZXR1cm4gaS5tYXRNdWwociwhMSwhMCl9LGI6ZnVuY3Rpb24oKXtyZXR1cm4gbi5tYXRNdWwoaSwhMCwhMSl9fSxjKX0pLFwiX0Z1c2VkTWF0TXVsXCIse3RyYW5zcG9zZUE6YSx0cmFuc3Bvc2VCOnMsYWN0aXZhdGlvbjpsfSxGLFshMF0pLnJlc2hhcGUoQSl9fSksY2Y9QW4oe2Z1c2VkQ29udjJkXzpmdW5jdGlvbih0KXt2YXIgZT10Lngsbj10LmZpbHRlcixyPXQuc3RyaWRlcyxvPXQucGFkLGE9dC5kYXRhRm9ybWF0LGk9dm9pZCAwPT09YT9cIk5IV0NcIjphLHM9dC5kaWxhdGlvbnMsdT12b2lkIDA9PT1zP1sxLDFdOnMsYz10LmRpbVJvdW5kaW5nTW9kZSxsPXQuYmlhcyxoPXQuYWN0aXZhdGlvbixmPXZvaWQgMD09PWg/XCJsaW5lYXJcIjpoLGQ9dC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzO2lmKGY9Znx8XCJsaW5lYXJcIiwhMT09PXJmKEx0LnN0YXRlLmdyYWRpZW50RGVwdGgsZikpe3ZhciBwPWRsKGUsbixyLG8saSx1LGMpO3JldHVybiBudWxsIT1sJiYocD1PcihwLGwpKSxzZihwLGYsZCl9dmFyIHY9Z24oZSxcInhcIixcImNvbnYyZFwiKSxnPWduKG4sXCJmaWx0ZXJcIixcImNvbnYyZFwiKSxtPXYseT0hMTszPT09di5yYW5rJiYoeT0hMCxtPXYuYXM0RCgxLHYuc2hhcGVbMF0sdi5zaGFwZVsxXSx2LnNoYXBlWzJdKSksQyg0PT09bS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZnVzZWQgY29udjJkOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK20ucmFuaytcIi5cIn0pKSxDKDQ9PT1nLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBjb252MmQ6IGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK2cucmFuaytcIi5cIn0pKSxudWxsIT1jJiZDKEEobyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBjb252MmQ6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgZGltUm91bmRpbmdNb2RlIFwiK2MrXCIgYnV0IGdvdCBwYWQgXCIrbytcIi5cIn0pKSxDKG0uc2hhcGVbM109PT1nLnNoYXBlWzJdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkOiBkZXB0aCBvZiBpbnB1dCAoXCIrbS5zaGFwZVszXStcIikgbXVzdCBtYXRjaCBpbnB1dCBkZXB0aCBmb3IgZmlsdGVyIFwiK2cuc2hhcGVbMl0rXCIuXCJ9KSksQyhDYShyLHUpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJEOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIityK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK3UrXCInXCJ9KSksQyhcIk5IV0NcIj09PWksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmQ6IGdvdCBkYXRhRm9ybWF0IG9mIFwiK2krXCIgYnV0IG9ubHkgTkhXQyBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlwifSkpO3ZhciB4LGIsdz1wYShtLnNoYXBlLGcuc2hhcGUscix1LG8sYyk7bnVsbCE9bCYmKHg9TnQoeD1nbihsLFwiYmlhc1wiLFwiZnVzZWQgY29udjJkXCIpLHYpWzBdLFByKHcub3V0U2hhcGUseC5zaGFwZSkpLG51bGwhPWQmJihiPWduKGQsXCJwcmVsdSB3ZWlnaHRzXCIsXCJmdXNlZCBjb252MmRcIikpO3ZhciBFPXt4Om0sZmlsdGVyOmd9O251bGwhPWwmJihFLmJpYXM9eCksbnVsbCE9ZCYmKEUucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cz1iKTt2YXIgUj1bZyxtXSxJPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5mdXNlZENvbnYyZCh7aW5wdXQ6bSxmaWx0ZXI6Zyxjb252SW5mbzp3LGJpYXM6eCxhY3RpdmF0aW9uOmYscHJlbHVBY3RpdmF0aW9uV2VpZ2h0czpifSk7cmV0dXJuIGUoW2csbSxuXSksbn0pLEUsKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZSxhPW5bMF0saT1uWzFdLHM9blsyXSxjPW9mKHQscyxmKTtDKHdhKHUpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZ3JhZGllbnQgb2YgZnVzZWQgY29udjJEOiBkaWxhdGlvbiByYXRlcyBncmVhdGVyIHRoYW4gMSBhcmUgbm90IHlldCBzdXBwb3J0ZWQgaW4gZ3JhZGllbnRzLiBHb3QgZGlsYXRpb25zICdcIit1K1wiJ1wifSkpO3ZhciBoPXt9O3JldHVybiBudWxsIT1sJiYoaD17YmlhczpmdW5jdGlvbigpe3JldHVybiBhZih4LGMpfX0pLE9iamVjdC5hc3NpZ24oe3g6ZnVuY3Rpb24oKXtyZXR1cm4gZ2woaS5zaGFwZSxjLGEscixvKX0sZmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHZsKGksYyxhLnNoYXBlLHIsbyl9fSxoKX0pLFwiRnVzZWRDb252MkRcIix7Y29udkluZm86dyxhY3RpdmF0aW9uOmZ9LFIsWyEwXSk7cmV0dXJuIHk/SS5hczNEKEkuc2hhcGVbMV0sSS5zaGFwZVsyXSxJLnNoYXBlWzNdKTpJfX0pLGxmPUFuKHtmdXNlZERlcHRod2lzZUNvbnYyZF86ZnVuY3Rpb24odCl7dmFyIGU9dC54LG49dC5maWx0ZXIscj10LnN0cmlkZXMsbz10LnBhZCxhPXQuZGF0YUZvcm1hdCxpPXZvaWQgMD09PWE/XCJOSFdDXCI6YSxzPXQuZGlsYXRpb25zLHU9dm9pZCAwPT09cz9bMSwxXTpzLGM9dC5kaW1Sb3VuZGluZ01vZGUsbD10LmJpYXMsaD10LmFjdGl2YXRpb24sZj12b2lkIDA9PT1oP1wibGluZWFyXCI6aCxkPXQucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cztpZighMT09PXJmKEx0LnN0YXRlLmdyYWRpZW50RGVwdGgsZikpe3ZhciBwPW1sKGUsbixyLG8saSx1LGMpO3JldHVybiBudWxsIT1sJiYocD1PcihwLGwpKSxzZihwLGYsZCl9dmFyIHY9Z24oZSxcInhcIixcImRlcHRod2lzZUNvbnYyZFwiKSxnPWduKG4sXCJmaWx0ZXJcIixcImRlcHRod2lzZUNvbnYyZFwiKSxtPXYseT0hMTszPT09di5yYW5rJiYoeT0hMCxtPXYuYXM0RCgxLHYuc2hhcGVbMF0sdi5zaGFwZVsxXSx2LnNoYXBlWzJdKSksQyg0PT09bS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZnVzZWQgZGVwdGh3aXNlQ29udjJkOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK20ucmFuaytcIi5cIn0pKSxDKDQ9PT1nLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBkZXB0aHdpc2VDb252MmQ6IGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK2cucmFuaytcIi5cIn0pKSxDKG0uc2hhcGVbM109PT1nLnNoYXBlWzJdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZnVzZWQgZGVwdGh3aXNlQ29udjJkOiBudW1iZXIgb2YgaW5wdXQgY2hhbm5lbHMgKFwiK20uc2hhcGVbM10rXCIpIG11c3QgbWF0Y2ggdGhlIGluQ2hhbm5lbHMgZGltZW5zaW9uIGluIGZpbHRlciBcIitnLnNoYXBlWzJdK1wiLlwifSkpLG51bGw9PXUmJih1PVsxLDFdKSxDKENhKHIsdSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBkZXB0aHdpc2VDb252MmQ6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK3IrXCIgYW5kIGRpbGF0aW9ucyAnXCIrdStcIidcIn0pKSxudWxsIT1jJiZDKEEobyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBkZXB0aHdpc2VDb252MmQ6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZyBkaW1Sb3VuZGluZ01vZGUgXCIrYytcIiBidXQgZ290IHBhZCBcIitvK1wiLlwifSkpO3ZhciB4LGIsdz1wYShtLnNoYXBlLGcuc2hhcGUscix1LG8sYywhMCk7bnVsbCE9bCYmKHg9TnQoeD1nbihsLFwiYmlhc1wiLFwiZnVzZWQgY29udjJkXCIpLHYpWzBdLFByKHcub3V0U2hhcGUseC5zaGFwZSkpLG51bGwhPWQmJihiPWduKGQsXCJwcmVsdSB3ZWlnaHRzXCIsXCJmdXNlZCBkZXB0aHdpc2VDb252MmRcIikpO3ZhciBFPXt4Om0sZmlsdGVyOmd9O251bGwhPWwmJihFLmJpYXM9eCksbnVsbCE9ZCYmKEUucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cz1iKTt2YXIgUj1bZyxtXSxJPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5mdXNlZERlcHRod2lzZUNvbnYyRCh7aW5wdXQ6bSxmaWx0ZXI6Zyxjb252SW5mbzp3LGJpYXM6eCxhY3RpdmF0aW9uOmYscHJlbHVBY3RpdmF0aW9uV2VpZ2h0czpifSk7cmV0dXJuIGUoW2csbSxuXSksbn0pLEUsKGZ1bmN0aW9uKHQsZSl7Qyh3YSh1KSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGdyYWRpZW50IG9mIGZ1c2VkIGRlcHRod2lzZUNvbnYyZDogZGlsYXRpb24gcmF0ZXMgZ3JlYXRlciB0aGFuIDEgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkLiBHb3QgZGlsYXRpb25zICdcIit1K1wiJ1wifSkpO3ZhciBuPWVbMF0scj1lWzFdLG89ZVsyXSxhPW9mKHQsbyxmKSxpPXt9O3JldHVybiBudWxsIT1sJiYoaT17YmlhczpmdW5jdGlvbigpe3JldHVybiBhZih4LGEpfX0pLE9iamVjdC5hc3NpZ24oe3g6ZnVuY3Rpb24oKXtyZXR1cm4geWwoci5zaGFwZSxhLG4sdyl9LGZpbHRlcjpmdW5jdGlvbigpe3JldHVybiB4bChyLGEsbi5zaGFwZSx3KX19LGkpfSksXCJGdXNlZERlcHRod2lzZUNvbnYyRFwiLHtjb252SW5mbzp3LGFjdGl2YXRpb246Zn0sUixbITBdKTtyZXR1cm4geT9JLmFzM0QoSS5zaGFwZVsxXSxJLnNoYXBlWzJdLEkuc2hhcGVbM10pOkl9fSksaGY9T2JqZWN0LmZyZWV6ZSh7bWF0TXVsOnVmLGNvbnYyZDpjZixkZXB0aHdpc2VDb252MmQ6bGZ9KSxmZj1PYmplY3QuZnJlZXplKHtpbWFnZTpuZixsaW5hbGc6amgsbG9zc2VzOnpoLHNwZWN0cmFsOmJoLGZ1c2VkOmhmLHNpZ25hbDpEaCxhZGQ6T3IsYWRkTjokdSxiYXRjaE5vcm06bmMsYmF0Y2hOb3JtYWxpemF0aW9uOmVjLGJhdGNoTm9ybTJkOmFjLGJhdGNoTm9ybWFsaXphdGlvbjJkOm9jLGJhdGNoTm9ybTNkOnVjLGJhdGNoTm9ybWFsaXphdGlvbjNkOnNjLGJhdGNoTm9ybTRkOmhjLGJhdGNoTm9ybWFsaXphdGlvbjRkOmxjLGJyb2FkY2FzdFRvOmZjLGNsb25lOmRjLGRpdjpCbyxkaXZOb05hbjpiYyxleWU6Q2MsbXVsdGlub21pYWw6RWMsb25lSG90OlJjLHBhZDpJYyxwYWQxZDprYyxwYWQyZDpTYyxwYWQzZDpBYyxwYWQ0ZDpUYyxyYW5kOkRjLHJhbmRvbUdhbW1hOlVjLHJhbmRvbU5vcm1hbDpWYyxyYW5kb21Vbmlmb3JtOnpjLHNxdWFyZTpHYyxzcXVhcmVkRGlmZmVyZW5jZTpIYyx0aWxlOndjLHRydW5jYXRlZE5vcm1hbDpxYyxjb252MWQ6ZmwsY29udjJkOmRsLGNvbnYzZDpwbCxkZXB0aHdpc2VDb252MmQ6bWwsc2VwYXJhYmxlQ29udjJkOmJsLGNvbnYyZFRyYW5zcG9zZTp3bCxjb252M2RUcmFuc3Bvc2U6Q2wsb3A6QW4sYm9vbGVhbk1hc2tBc3luYzp1bCxjb21wbGV4OlRuLHJlYWw6RG4saW1hZzpObixjb25jYXQ6WW4sY29uY2F0MWQ6JG4sY29uY2F0MmQ6UW4sY29uY2F0M2Q6Sm4sY29uY2F0NGQ6Wm4sc3BsaXQ6dHIsbWF0TXVsOkVsLGRvdDpSbCxvdXRlclByb2R1Y3Q6SWwscmV2ZXJzZTprbCxyZXZlcnNlMWQ6U2wscmV2ZXJzZTJkOkFsLHJldmVyc2UzZDpUbCxyZXZlcnNlNGQ6RGwsbWF4UG9vbDpfbCxhdmdQb29sOk9sLHBvb2w6TWwsbWF4UG9vbDNkOkJsLGF2Z1Bvb2wzZDpQbCxtYXhQb29sV2l0aEFyZ21heDpMbCxzbGljZTpXbCxzbGljZTFkOlVsLHNsaWNlMmQ6Vmwsc2xpY2UzZDp6bCxzbGljZTRkOkdsLGFiczpMcixhY29zOldyLGFjb3NoOlVyLGFzaW46VnIsYXNpbmg6enIsYXRhbjpHcixhdGFuaDpIcixjZWlsOnFyLGNsaXBCeVZhbHVlOktyLGNvczpqcixjb3NoOlhyLGVyZjpZcixleHA6JHIsZXhwbTE6UXIsZmxvb3I6SnIsbG9nOlpyLGxvZzFwOnRvLGxvZ1NpZ21vaWQ6ZW8sbmVnOm5vLHJlY2lwcm9jYWw6cm8scm91bmQ6b28scnNxcnQ6YW8sc2lnbW9pZDppbyxzaWduOnNvLGlzTmFOOnVvLGlzSW5mOmNvLGlzRmluaXRlOmxvLHNpbjpobyxzaW5oOmZvLHNvZnRwbHVzOnBvLHNxcnQ6dm8sc3RlcDpnbyx0YW46bW8sdGFuaDp5byxhbGw6cWwsYW55OktsLGFyZ01heDpqbCxhcmdNaW46WGwsbG9nU3VtRXhwOllsLG1heDokbCxtZWFuOlFsLG1pbjpKbCxtb21lbnRzOlpsLHN1bTp0aCxwcm9kOmVoLGVxdWFsOktjLGVxdWFsU3RyaWN0OmpjLGdyZWF0ZXI6WGMsZ3JlYXRlckVxdWFsOlljLGdyZWF0ZXJFcXVhbFN0cmljdDokYyxncmVhdGVyU3RyaWN0OlFjLGxlc3M6SmMsbGVzc0VxdWFsOlpjLGxlc3NFcXVhbFN0cmljdDp0bCxsZXNzU3RyaWN0OmVsLG5vdEVxdWFsOm5sLG5vdEVxdWFsU3RyaWN0OnJsLGFkZFN0cmljdDp4byxhdGFuMjpibyxkaXZTdHJpY3Q6d28sZmxvb3JEaXY6Q28sbWF4aW11bTpFbyxtYXhpbXVtU3RyaWN0OlJvLG1pbmltdW06SW8sbWluaW11bVN0cmljdDprbyxtb2Q6U28sbW9kU3RyaWN0OkFvLG11bDpUbyxtdWxTdHJpY3Q6RG8scG93Ok5vLHBvd1N0cmljdDpGbyxzcXVhcmVkRGlmZmVyZW5jZVN0cmljdDpfbyxzdWI6T28sc3ViU3RyaWN0Ok1vLGVsdTpuaCxsZWFreVJlbHU6cmgscHJlbHU6b2gscmVsdTphaCxyZWx1NjppaCxzZWx1OnNoLGxvZ2ljYWxBbmQ6cGMsbG9naWNhbE5vdDp2Yyxsb2dpY2FsT3I6Z2MsbG9naWNhbFhvcjptYyx3aGVyZTp5Yyx3aGVyZUFzeW5jOnhjLGJ1ZmZlcjplcixwcmludDpucixiYXRjaFRvU3BhY2VORDpycixjYXN0Om9yLGN1bXN1bTphcixkZXB0aFRvU3BhY2U6aXIsZXhwYW5kRGltczpzcixyZXNoYXBlOnVyLHNwYWNlVG9CYXRjaE5EOmNyLHNxdWVlemU6bHIsc3RhY2s6aHIsdW5zdGFjazpmcixzZXRkaWZmMWRBc3luYzpkcixmaWxsOkhuLGxpbnNwYWNlOnFuLG9uZXM6em4scmFuZ2U6S24sc2NhbGFyOk9uLHRlbnNvcjpGbix0ZW5zb3IxZDpNbix0ZW5zb3IyZDpCbix0ZW5zb3IzZDpQbix0ZW5zb3I0ZDpMbix0ZW5zb3I1ZDpXbix0ZW5zb3I2ZDpVbix2YXJpYWJsZTpWbix6ZXJvczpHbixvbmVzTGlrZTpqbix6ZXJvc0xpa2U6WG4sdHJhbnNwb3NlOnVhLHNvZnRtYXg6aWEsbG9nU29mdG1heDpzYSxsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbjp1aCxub3JtOmNoLGdhdGhlcjppbCx1bnNvcnRlZFNlZ21lbnRTdW06c2wsYmFzaWNMU1RNQ2VsbDpsaCxtdWx0aVJOTkNlbGw6aGgsbW92aW5nQXZlcmFnZTpmaCxzdHJpZGVkU2xpY2U6ZGgsdG9wazpwaCxzY2F0dGVyTkQ6dmgsZmZ0OmdoLGlmZnQ6bWgscmZmdDp5aCxpcmZmdDp4aCxzcGFyc2VUb0RlbnNlOndoLGdhdGhlck5EOkNoLGRpYWc6RWgsZHJvcG91dDpSaCxoYW5uV2luZG93OmtoLGhhbW1pbmdXaW5kb3c6U2gsZnJhbWU6QWgsc3RmdDpUaCxpblRvcEtBc3luYzpGaH0pO2Z1bmN0aW9uIGRmKHQsZSl7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe251bGwhPXQmJkMoXCJjb21wbGV4NjRcIiE9PXQuZHR5cGUsKGZ1bmN0aW9uKCl7cmV0dXJuIGUrXCIgZG9lcyBub3Qgc3VwcG9ydCBjb21wbGV4NjQgdGVuc29ycy5cIn0pKX0pKX1mdW5jdGlvbiBwZih0LGUsbixyLG8sYSl7Zm9yKHZhciBpPW8uc3RyaWRlSGVpZ2h0LHM9by5zdHJpZGVXaWR0aCx1PW8uZGlsYXRpb25IZWlnaHQsYz1vLmRpbGF0aW9uV2lkdGgsbD1vLmVmZmVjdGl2ZUZpbHRlckhlaWdodCxoPW8uZWZmZWN0aXZlRmlsdGVyV2lkdGgsZj1vLnBhZEluZm8udG9wLGQ9by5wYWRJbmZvLmxlZnQscD1cIm1heFwiPT09YT9OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHY9ZXIoby5vdXRTaGFwZSxuKSxnPXYudmFsdWVzLG09by5vdXRTaGFwZVsxXSpvLm91dFNoYXBlWzJdKm8ub3V0U2hhcGVbM10seT1vLm91dFNoYXBlWzJdKm8ub3V0U2hhcGVbM10seD1vLm91dFNoYXBlWzNdLGI9MDtiPG8uYmF0Y2hTaXplOysrYilmb3IodmFyIHc9YiptLEM9YipyWzBdLEU9MDtFPG8uaW5DaGFubmVsczsrK0UpZm9yKHZhciBSPTA7UjxvLm91dEhlaWdodDsrK1IpZm9yKHZhciBJPVIqaS1mLGs9TWF0aC5tYXgoMCxJKSxTPU1hdGgubWluKG8uaW5IZWlnaHQsbCtJKSxBPXcrUip5LFQ9MDtUPG8ub3V0V2lkdGg7KytUKXtmb3IodmFyIEQ9VCpzLWQsTj1NYXRoLm1heCgwLEQpLEY9TWF0aC5taW4oby5pbldpZHRoLGgrRCksXz1wLE89MCxNPTAsQj1rO0I8UztCKz11KXtmb3IodmFyIFA9QytCKnJbMV0sTD1OO0w8RjtMKz1jKXt2YXIgVz10W1ArTCpyWzJdK0VdO1wibWF4XCI9PT1hJiZXPl8/Xz1XOlwiYXZnXCI9PT1hJiYoTys9VyxNKyspfWlmKGlzTmFOKF8pKWJyZWFrfWdbQStUKngrRV09XCJhdmdcIj09PWE/Ty9NOl99cmV0dXJuIHZ9ZnVuY3Rpb24gdmYodCxlLG4scixvLGEpe3ZvaWQgMD09PW8mJihvPSExKSx2b2lkIDA9PT1hJiYoYT0hMSk7Zm9yKHZhciBpPWVyKHIub3V0U2hhcGUsXCJpbnQzMlwiKSxzPXIuc3RyaWRlSGVpZ2h0LHU9ci5zdHJpZGVXaWR0aCxjPXIuZGlsYXRpb25IZWlnaHQsbD1yLmRpbGF0aW9uV2lkdGgsaD1yLmVmZmVjdGl2ZUZpbHRlckhlaWdodCxmPXIuZWZmZWN0aXZlRmlsdGVyV2lkdGgsZD1yLnBhZEluZm8udG9wLHA9ci5wYWRJbmZvLmxlZnQsdj1lcihlLG4sdCksZz0wO2c8ci5iYXRjaFNpemU7KytnKWZvcih2YXIgbT0wO208ci5pbkNoYW5uZWxzOysrbSlmb3IodmFyIHk9MDt5PHIub3V0SGVpZ2h0OysreSl7Zm9yKHZhciB4PXkqcy1kLGI9eDtiPDA7KWIrPWM7Zm9yKHZhciB3PU1hdGgubWluKHIuaW5IZWlnaHQsaCt4KSxDPTA7QzxyLm91dFdpZHRoOysrQyl7Zm9yKHZhciBFPUMqdS1wLFI9RTtSPDA7KVIrPWw7Zm9yKHZhciBJPU1hdGgubWluKHIuaW5XaWR0aCxmK0UpLGs9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFM9LTEsQT1iO0E8dztBKz1jKWZvcih2YXIgVD1BLXgsRD1SO0Q8STtEKz1sKXt2YXIgTj1ELUUsRj12LmdldChnLEEsRCxtKTtGPmsmJihrPUYsUz1vP2E/KChnKnIuaW5IZWlnaHQrQSkqci5pbldpZHRoK0QpKnIuaW5DaGFubmVscyttOihBKnIuaW5XaWR0aCtEKSpyLmluQ2hhbm5lbHMrbTpUKmYrTil9aS5zZXQoUyxnLHksQyxtKX19cmV0dXJuIGl9ZnVuY3Rpb24gZ2YodCxlLG4scil7aWYoXCJsaW5lYXJcIj09PW4pcmV0dXJuIHQubGluZWFyKGUpO2lmKFwicmVsdVwiPT09bilyZXR1cm4gdC5yZWx1KGUpO2lmKFwiZWx1XCI9PT1uKXJldHVybiB0LmVsdShlKTtpZihcInJlbHU2XCI9PT1uKXJldHVybiB0LnJlbHU2KGUpO2lmKFwicHJlbHVcIj09PW4pcmV0dXJuIHQucHJlbHUoZSxyKTt0aHJvdyBuZXcgRXJyb3IoXCJBY3RpdmF0aW9uIFwiK24rXCIgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIGZvciB0aGUgQ1BVIGJhY2tlbmQuXCIpfXZhciBtZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKCl7dmFyIGU9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBlLmJsb2NrU2l6ZT00OCxlLmZpcnN0VXNlPSEwLGUuZGF0YT1uZXcgY2EoZSxMdCksZX1yZXR1cm4gZShvLHQpLG8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmZpcnN0VXNlJiYodGhpcy5maXJzdFVzZT0hMSxpKCkuZ2V0KFwiSVNfTk9ERVwiKSYmZG4oXCJcXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09XFxuSGkgdGhlcmUg8J+Riy4gTG9va3MgbGlrZSB5b3UgYXJlIHJ1bm5pbmcgVGVuc29yRmxvdy5qcyBpbiBOb2RlLmpzLiBUbyBzcGVlZCB0aGluZ3MgdXAgZHJhbWF0aWNhbGx5LCBpbnN0YWxsIG91ciBub2RlIGJhY2tlbmQsIHdoaWNoIGJpbmRzIHRvIFRlbnNvckZsb3cgQysrLCBieSBydW5uaW5nIG5wbSBpIEB0ZW5zb3JmbG93L3RmanMtbm9kZSwgb3IgbnBtIGkgQHRlbnNvcmZsb3cvdGZqcy1ub2RlLWdwdSBpZiB5b3UgaGF2ZSBDVURBLiBUaGVuIGNhbGwgcmVxdWlyZSgnQHRlbnNvcmZsb3cvdGZqcy1ub2RlJyk7ICgtZ3B1IHN1ZmZpeCBmb3IgQ1VEQSkgYXQgdGhlIHN0YXJ0IG9mIHlvdXIgcHJvZ3JhbS4gVmlzaXQgaHR0cHM6Ly9naXRodWIuY29tL3RlbnNvcmZsb3cvdGZqcy1ub2RlIGZvciBtb3JlIGRldGFpbHMuXFxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PVwiKSk7dmFyIHI9e307cmV0dXJuIHRoaXMuZGF0YS5zZXQocix7dmFsdWVzOnQsZHR5cGU6bn0pLHJ9LG8ucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5kYXRhLnNldCh0LHt2YWx1ZXM6ZSxkdHlwZTpyfSl9LG8ucHJvdG90eXBlLm51bURhdGFJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLm51bURhdGFJZHMoKX0sby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzIsdGhpcy5yZWFkU3luYyh0KV19KSl9KSl9LG8ucHJvdG90eXBlLnJlYWRTeW5jPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YS5nZXQodCksbj1lLmR0eXBlLHI9ZS5jb21wbGV4VGVuc29ycztyZXR1cm5cImNvbXBsZXg2NFwiPT09bj9BYSh0aGlzLnJlYWRTeW5jKHIucmVhbC5kYXRhSWQpLHRoaXMucmVhZFN5bmMoci5pbWFnLmRhdGFJZCkpOnRoaXMuZGF0YS5nZXQodCkudmFsdWVzfSxvLnByb3RvdHlwZS5idWZmZXJTeW5jPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49ZTtpZihcInN0cmluZ1wiPT09dC5kdHlwZSl0cnl7bj1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG90KHQpfSkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZWNvZGUgZW5jb2RlZCBzdHJpbmcgYnl0ZXMgaW50byB1dGYtOFwiKX1yZXR1cm4gZXIodC5zaGFwZSx0LmR0eXBlLG4pfSxvLnByb3RvdHlwZS5tYWtlT3V0cHV0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLndyaXRlKHQsZSxuKTtyZXR1cm4gTHQubWFrZVRlbnNvckZyb21EYXRhSWQocixlLG4sdGhpcyl9LG8ucHJvdG90eXBlLmRpc3Bvc2VEYXRhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZGF0YS5oYXModCkpe3ZhciBlPXRoaXMuZGF0YS5nZXQodCkuY29tcGxleFRlbnNvcnM7bnVsbCE9ZSYmKGUucmVhbC5kaXNwb3NlKCksZS5pbWFnLmRpc3Bvc2UoKSksdGhpcy5kYXRhLmRlbGV0ZSh0KX19LG8ucHJvdG90eXBlLnRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKG4pe3JldHVybiBlPWV0KCksdCgpLFsyLHtrZXJuZWxNczpldCgpLWV9XX0pKX0pKX0sby5wcm90b3R5cGUubWVtb3J5PWZ1bmN0aW9uKCl7cmV0dXJue3VucmVsaWFibGU6ITAscmVhc29uczpbXCJUaGUgcmVwb3J0ZWQgbWVtb3J5IGlzIGFuIHVwcGVyIGJvdW5kLiBEdWUgdG8gYXV0b21hdGljIGdhcmJhZ2UgY29sbGVjdGlvbiwgdGhlIHRydWUgYWxsb2NhdGVkIG1lbW9yeSBtYXkgYmUgbGVzcy5cIl19fSxvLnByb3RvdHlwZS5jb21wbGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5tYWtlT3V0cHV0KG51bGwsdC5zaGFwZSxcImNvbXBsZXg2NFwiKTtyZXR1cm4gdGhpcy5kYXRhLmdldChuLmRhdGFJZCkuY29tcGxleFRlbnNvcnM9e3JlYWw6THQua2VlcCh0LmNsb25lKCkpLGltYWc6THQua2VlcChlLmNsb25lKCkpfSxufSxvLnByb3RvdHlwZS5yZWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGEuZ2V0KHQuZGF0YUlkKS5jb21wbGV4VGVuc29ycy5yZWFsLmNsb25lKCl9LG8ucHJvdG90eXBlLmltYWc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YS5nZXQodC5kYXRhSWQpLmNvbXBsZXhUZW5zb3JzLmltYWcuY2xvbmUoKX0sby5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlLG4pe2lmKGRmKHQsXCJzbGljZVwiKSwkbyh0LnNoYXBlLGUsbikpe3ZhciByPVFvKGUsdC5zdHJpZGVzKSxvPWsobik7cmV0dXJuIEZuKHRoaXMucmVhZFN5bmModC5kYXRhSWQpLnN1YmFycmF5KHIscitvKSxuLHQuZHR5cGUpfWZvcih2YXIgYT1lcihuLHQuZHR5cGUpLGk9dGhpcy5idWZmZXJTeW5jKHQpLHM9MDtzPGEuc2l6ZTsrK3Mpe3ZhciB1PWEuaW5kZXhUb0xvYyhzKS5tYXAoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQrZVtuXX0pKTthLnZhbHVlc1tzXT1pLmdldC5hcHBseShpLHUpfXJldHVybiBhLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLnN0cmlkZWRTbGljZT1mdW5jdGlvbih0LGUsbixyKXtkZih0LFwic3RyaWRlZFNsaWNlXCIpO3ZhciBvPWpvKGUsbixyKTtpZihvLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dH0pKSlyZXR1cm4gRm4oW10sbyk7Zm9yKHZhciBhPWVyKG8sdC5kdHlwZSksaT10aGlzLmJ1ZmZlclN5bmModCkscz0wO3M8YS5zaXplO3MrKyl7Zm9yKHZhciB1PWEuaW5kZXhUb0xvYyhzKSxjPW5ldyBBcnJheSh1Lmxlbmd0aCksbD0wO2w8Yy5sZW5ndGg7bCsrKWNbbF09dVtsXSpyW2xdK2VbbF07YS5zZXQuYXBwbHkoYSxbaS5nZXQuYXBwbHkoaSxjKV0uY29uY2F0KHUpKX1yZXR1cm4gYS50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5kaWFnPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxuPWVyKFt0LnNpemUsdC5zaXplXSx0LmR0eXBlKSxyPW4udmFsdWVzLG89MDtvPGUubGVuZ3RoO28rKylyW28qdC5zaXplK29dPWVbb107cmV0dXJuIG4udG9UZW5zb3IoKX0sby5wcm90b3R5cGUudW5zdGFjaz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LnNoYXBlW2VdLHI9bmV3IEFycmF5KHQucmFuay0xKSxvPTAsYT0wO2E8dC5yYW5rO2ErKylhIT09ZSYmKHJbbysrXT10LnNoYXBlW2FdKTt2YXIgaT1uZXcgQXJyYXkodC5yYW5rKS5maWxsKDApLHM9dC5zaGFwZS5zbGljZSgpO3NbZV09MTt2YXIgdT1uZXcgQXJyYXkobik7Zm9yKGE9MDthPHUubGVuZ3RoO2ErKylpW2VdPWEsdVthXT10aGlzLnNsaWNlKHQsaSxzKS5yZXNoYXBlKHIpO3JldHVybiB1fSxvLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKHQsZSl7ZGYodCxcInJldmVyc2VcIik7Zm9yKHZhciBuPWVyKHQuc2hhcGUsdC5kdHlwZSkscj10aGlzLmJ1ZmZlclN5bmModCksbz1mdW5jdGlvbihvKXt2YXIgYT1uLmluZGV4VG9Mb2MobyksaT1hLnNsaWNlKCk7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gaVtlXT10LnNoYXBlW2VdLTEtaVtlXX0pKSxuLnNldC5hcHBseShuLFtyLmdldC5hcHBseShyLGkpXS5jb25jYXQoYSkpfSxhPTA7YTxuLnNpemU7YSsrKW8oYSk7cmV0dXJuIG4udG9UZW5zb3IoKX0sby5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZihcImNvbXBsZXg2NFwiPT09dFswXS5kdHlwZSl7dmFyIHI9dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBEbih0KX0pKSxvPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gTm4odCl9KSk7cmV0dXJuIFRuKHRoaXMuY29uY2F0KHIsZSksdGhpcy5jb25jYXQobyxlKSl9dmFyIGE9dC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPWsodC5zaGFwZS5zbGljZShlKSk7cmV0dXJuIHQuYXMyRCgtMSxuKX0pKSxpPVNuKGEubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGFwZX0pKSwxKSxzPWVyKGksdFswXS5kdHlwZSkudmFsdWVzO2lmKDE9PT1hWzBdLnNoYXBlWzBdKXt2YXIgdT0wO2EuZm9yRWFjaCgoZnVuY3Rpb24odCl7cy5zZXQobi5yZWFkU3luYyh0LmRhdGFJZCksdSksdSs9dC5zaXplfSkpfWVsc2V7dmFyIGM9MDthLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uLnJlYWRTeW5jKHQuZGF0YUlkKSxyPTAsbz0wO288dC5zaGFwZVswXTsrK28pZm9yKHZhciBhPW8qaVsxXStjLHU9MDt1PHQuc2hhcGVbMV07Kyt1KXNbYSt1XT1lW3IrK107Yys9dC5zaGFwZVsxXX0pKX12YXIgbD1Tbih0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hhcGV9KSksZSk7cmV0dXJuIEZuKHMsbCx0WzBdLmR0eXBlKX0sby5wcm90b3R5cGUubmVnPWZ1bmN0aW9uKHQpe3JldHVybiBkZih0LFwibmVnXCIpLHRoaXMubXVsdGlwbHkoT24oLTEpLHQpfSxvLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm5cImNvbXBsZXg2NFwiPT09dC5kdHlwZXx8XCJjb21wbGV4NjRcIj09PWUuZHR5cGU/dGhpcy5icm9hZGNhc3RlZEJpbmFyeUNvbXBsZXhPcCh0LmNhc3QoXCJjb21wbGV4NjRcIiksZS5jYXN0KFwiY29tcGxleDY0XCIpLChmdW5jdGlvbih0LGUsbixyKXtyZXR1cm57cmVhbDp0K24saW1hZzplK3J9fSkpOnRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsVHQodC5kdHlwZSxlLmR0eXBlKSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSkpfSxvLnByb3RvdHlwZS5hZGROPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7ZGYodCxcImFkZE5cIik7Zm9yKHZhciBuPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5yZWFkU3luYyh0LmRhdGFJZCl9KSkscj1lcih0WzBdLnNoYXBlLHRbMF0uZHR5cGUpLG89ci52YWx1ZXMsYT0wO2E8dC5sZW5ndGg7YSsrKWZvcih2YXIgaT1uW2FdLHM9MDtzPG8ubGVuZ3RoO3MrKylvW3NdKz1pW3NdO3JldHVybiByLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLnNvZnRtYXg9ZnVuY3Rpb24odCxlKXt2YXIgbj1PKFtlXSx0LnNoYXBlKSxyPXRoaXMubWF4KHQsbiksbz13bihyLnNoYXBlLG4pLGE9dGhpcy5zdWJ0cmFjdCh0LHIucmVzaGFwZShvKSksaT10aGlzLmV4cChhKSxzPXRoaXMuc3VtKGksbikucmVzaGFwZShvKTtyZXR1cm4gQm8oaSxzKX0sby5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm5cImNvbXBsZXg2NFwiPT09dC5kdHlwZXx8XCJjb21wbGV4NjRcIj09PWUuZHR5cGU/dGhpcy5icm9hZGNhc3RlZEJpbmFyeUNvbXBsZXhPcCh0LmNhc3QoXCJjb21wbGV4NjRcIiksZS5jYXN0KFwiY29tcGxleDY0XCIpLChmdW5jdGlvbih0LGUsbixyKXtyZXR1cm57cmVhbDp0LW4saW1hZzplLXJ9fSkpOnRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsVHQodC5kdHlwZSxlLmR0eXBlKSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpfSxvLnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZGYoW3QsZV0sXCJwb3dcIiksdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSx0LmR0eXBlLChmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnBvdyh0LGUpfSkpfSxvLnByb3RvdHlwZS5iYXRjaE1hdE11bD1mdW5jdGlvbih0LGUsbixyKXtkZihbdCxlXSxcIm1hdE11bFwiKTtmb3IodmFyIG89bj90LnNoYXBlWzFdOnQuc2hhcGVbMl0sYT1uP3Quc2hhcGVbMl06dC5zaGFwZVsxXSxpPXI/ZS5zaGFwZVsxXTplLnNoYXBlWzJdLHM9dC5zaGFwZVswXSx1PXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGM9dGhpcy5yZWFkU3luYyhlLmRhdGFJZCksbD1uP1t0LnN0cmlkZXNbMF0sMSx0LnN0cmlkZXNbMV1dOlt0LnN0cmlkZXNbMF0sdC5zdHJpZGVzWzFdLDFdLGg9bFswXSxmPWxbMV0sZD1sWzJdLHA9cj9bMSxlLnN0cmlkZXNbMV0sZS5zdHJpZGVzWzBdXTpbZS5zdHJpZGVzWzFdLDEsZS5zdHJpZGVzWzBdXSx2PXBbMF0sZz1wWzFdLG09cFsyXSx5PWEqaSx4PWVyKFtzLGEsaV0sdC5kdHlwZSksYj14LnZhbHVlcyx3PXRoaXMuYmxvY2tTaXplLEM9MDtDPHM7QysrKWZvcih2YXIgRT0wO0U8YTtFKz13KWZvcih2YXIgUj0wO1I8aTtSKz13KWZvcih2YXIgST0wO0k8bztJKz13KWZvcih2YXIgaz1NYXRoLm1pbihFK3csYSksUz1NYXRoLm1pbihSK3csaSksQT1NYXRoLm1pbihJK3csbyksVD1FO1Q8aztUKyspZm9yKHZhciBEPVI7RDxTO0QrKyl7Zm9yKHZhciBOPTAsRj1JO0Y8QTtGKyspTis9dVtDKmgrVCpmK0YqZF0qY1tGKnYrRCpnK0MqbV07YltDKnkrKFQqaStEKV0rPU59cmV0dXJuIHgudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuZnVzZWRCYXRjaE1hdE11bD1mdW5jdGlvbih0KXt2YXIgZT10LmEsbj10LmIscj10LnRyYW5zcG9zZUEsbz10LnRyYW5zcG9zZUIsYT10LmJpYXMsaT10LmFjdGl2YXRpb24scz10LnByZWx1QWN0aXZhdGlvbldlaWdodHMsdT10aGlzLmJhdGNoTWF0TXVsKGUsbixyLG8pO3JldHVybiBhJiYodT10aGlzLmFkZCh1LGEpKSxpJiYodT1nZih0aGlzLHUsaSxzKSksdX0sby5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24odCxlKXtyZXR1cm5cImNvbXBsZXg2NFwiPT09dC5kdHlwZXx8XCJjb21wbGV4NjRcIj09PWUuZHR5cGU/dGhpcy5icm9hZGNhc3RlZEJpbmFyeUNvbXBsZXhPcCh0LmNhc3QoXCJjb21wbGV4NjRcIiksZS5jYXN0KFwiY29tcGxleDY0XCIpLChmdW5jdGlvbih0LGUsbixyKXtyZXR1cm57cmVhbDp0Km4tZSpyLGltYWc6dCpyK2Uqbn19KSk6dGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSxUdCh0LmR0eXBlLGUuZHR5cGUpLChmdW5jdGlvbih0LGUpe3JldHVybiB0KmV9KSl9LG8ucHJvdG90eXBlLmZsb29yRGl2PWZ1bmN0aW9uKHQsZSl7ZGYoW3QsZV0sXCJmbG9vckRpdlwiKTtyZXR1cm4gdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSxcImludDMyXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguZmxvb3IodC9lKX0pKX0sby5wcm90b3R5cGUuc3VtPWZ1bmN0aW9uKHQsZSl7ZGYodCxcInN1bVwiKSxDbihcInN1bVwiLGUsdC5yYW5rKTtmb3IodmFyIG49Ym4odC5zaGFwZSxlKSxyPW5bMF0sbz1uWzFdLGE9R24ocixUdCh0LmR0eXBlLFwiaW50MzJcIikpLGk9ayhvKSxzPXRoaXMucmVhZFN5bmMoYS5kYXRhSWQpLHU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksYz0wO2M8cy5sZW5ndGg7KytjKXtmb3IodmFyIGw9YyppLGg9MCxmPTA7ZjxpOysrZiloKz11W2wrZl07c1tjXT1ofXJldHVybiBhfSxvLnByb3RvdHlwZS5wcm9kPWZ1bmN0aW9uKHQsZSl7ZGYodCxcInN1bVwiKTtmb3IodmFyIG49Ym4odC5zaGFwZSxlKSxyPW5bMF0sbz1uWzFdLGE9R24ocixUdCh0LmR0eXBlLFwiaW50MzJcIikpLGk9ayhvKSxzPXRoaXMucmVhZFN5bmMoYS5kYXRhSWQpLHU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksYz0wO2M8cy5sZW5ndGg7KytjKXtmb3IodmFyIGw9YyppLGg9MSxmPTA7ZjxpOysrZiloKj11W2wrZl07c1tjXT1ofXJldHVybiBhfSxvLnByb3RvdHlwZS51bnNvcnRlZFNlZ21lbnRTdW09ZnVuY3Rpb24odCxlLG4pe2RmKHQsXCJ1bnNvcnRlZFNlZ21lbnRTdW1cIik7Zm9yKHZhciByPVtdLG89dC5yYW5rLWUucmFuayxhPTA7YTxvOysrYSllPWUuZXhwYW5kRGltcyhhKzEpO2ZvcihhPTA7YTxuOysrYSl7dmFyIGk9T24oYSxcImludDMyXCIpLHM9S2MoaSxlKS5hc1R5cGUoXCJmbG9hdDMyXCIpLm11bCh0KS5zdW0oMCk7ci5wdXNoKHMpfXJldHVybiBocihyKX0sby5wcm90b3R5cGUuYXJnTWluPWZ1bmN0aW9uKHQsZSl7ZGYodCxcImFyZ01pblwiKTt2YXIgbj1bZV07Q24oXCJhcmdNaW5cIixuLHQucmFuayk7Zm9yKHZhciByPWJuKHQuc2hhcGUsbiksbz1yWzBdLGE9clsxXSxpPUduKG8sXCJpbnQzMlwiKSxzPWsoYSksdT10aGlzLnJlYWRTeW5jKGkuZGF0YUlkKSxjPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGw9MDtsPHUubGVuZ3RoOysrbCl7Zm9yKHZhciBoPWwqcyxmPWNbaF0sZD0wLHA9MDtwPHM7KytwKXt2YXIgdj1jW2grcF07djxmJiYoZj12LGQ9cCl9dVtsXT1kfXJldHVybiBpfSxvLnByb3RvdHlwZS5hcmdNYXg9ZnVuY3Rpb24odCxlKXtkZih0LFwiYXJnTWF4XCIpO3ZhciBuPVtlXTtDbihcImFyZ01heFwiLG4sdC5yYW5rKTtmb3IodmFyIHI9Ym4odC5zaGFwZSxuKSxvPXJbMF0sYT1yWzFdLGk9R24obyxcImludDMyXCIpLHM9ayhhKSx1PXRoaXMucmVhZFN5bmMoaS5kYXRhSWQpLGM9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbD0wO2w8dS5sZW5ndGg7KytsKXtmb3IodmFyIGg9bCpzLGY9Y1toXSxkPTAscD0wO3A8czsrK3Ape3ZhciB2PWNbaCtwXTt2PmYmJihmPXYsZD1wKX11W2xdPWR9cmV0dXJuIGl9LG8ucHJvdG90eXBlLmN1bXN1bT1mdW5jdGlvbih0LGUsbixyKXtpZihkZih0LFwiY3Vtc3VtXCIpLGUhPT10LnJhbmstMSl0aHJvdyBuZXcgRXJyb3IoXCJiYWNrZW5kLmN1bXN1bSBpbiBDUFUgZXhwZWN0cyBhbiBpbm5lci1tb3N0IGF4aXM9XCIrKHQucmFuay0xKStcIiBidXQgZ290IGF4aXM9XCIrZSk7Zm9yKHZhciBvPVR0KHQuZHR5cGUsXCJpbnQzMlwiKSxhPUduKHQuc2hhcGUsbyksaT10aGlzLnJlYWRTeW5jKGEuZGF0YUlkKSxzPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHU9dC5zaGFwZVt0LnJhbmstMV0sYz1yP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQrdS1lLTF9OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0sbD0wO2w8cy5sZW5ndGg7bCs9dSlmb3IodmFyIGg9MDtoPHU7aCsrKXt2YXIgZj1jKGwsaCk7aWYoMD09PWgpaVtmXT1uPzA6c1tmXTtlbHNle3ZhciBkPWMobCxoLTEpO2lbZl09bj9zW2RdK2lbZF06c1tmXStpW2RdfX1yZXR1cm4gYX0sby5wcm90b3R5cGUuZXF1YWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZGYoW3QsZV0sXCJlcXVhbFwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLFwiYm9vbFwiLChmdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZT8xOjB9KSl9LG8ucHJvdG90eXBlLm5vdEVxdWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRmKFt0LGVdLFwibm90RXF1YWxcIiksdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSxcImJvb2xcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCE9PWU/MTowfSkpfSxvLnByb3RvdHlwZS5sZXNzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRmKFt0LGVdLFwibGVzc1wiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLFwiYm9vbFwiLChmdW5jdGlvbih0LGUpe3JldHVybiB0PGU/MTowfSkpfSxvLnByb3RvdHlwZS5sZXNzRXF1YWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZGYoW3QsZV0sXCJsZXNzRXF1YWxcIiksdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSxcImJvb2xcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdDw9ZT8xOjB9KSl9LG8ucHJvdG90eXBlLmdyZWF0ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZGYoW3QsZV0sXCJncmVhdGVyXCIpLHRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsXCJib29sXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+ZT8xOjB9KSl9LG8ucHJvdG90eXBlLmdyZWF0ZXJFcXVhbD1mdW5jdGlvbih0LGUpe3JldHVybiBkZihbdCxlXSxcImdyZWF0ZXJFcXVhbFwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLFwiYm9vbFwiLChmdW5jdGlvbih0LGUpe3JldHVybiB0Pj1lPzE6MH0pKX0sby5wcm90b3R5cGUubG9naWNhbE5vdD1mdW5jdGlvbih0KXtkZih0LFwibG9naWNhbE5vdFwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgVWludDhBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKW5bcl09ZVtyXT8wOjE7cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJib29sXCIpfSxvLnByb3RvdHlwZS5sb2dpY2FsQW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRmKFt0LGVdLFwibG9naWNhbEFuZFwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLFwiYm9vbFwiLChmdW5jdGlvbih0LGUpe3JldHVybiB0JiZlfSkpfSxvLnByb3RvdHlwZS5sb2dpY2FsT3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZGYoW3QsZV0sXCJsb2dpY2FsT3JcIiksdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSxcImJvb2xcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdHx8ZX0pKX0sby5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKHQsZSxuKXtkZihbdCxlLG5dLFwic2VsZWN0XCIpO2Zvcih2YXIgcj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxvPXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLGE9dGhpcy5yZWFkU3luYyhuLmRhdGFJZCksaT1HbihlLnNoYXBlLFR0KGUuZHR5cGUsbi5kdHlwZSkpLHM9dGhpcy5yZWFkU3luYyhpLmRhdGFJZCksdT0wLGM9MD09PXQucmFua3x8dC5yYW5rPjF8fDE9PT1lLnJhbms/MTprKGUuc2hhcGUuc2xpY2UoMSkpLGw9MDtsPHIubGVuZ3RoO2wrKylmb3IodmFyIGg9MDtoPGM7aCsrKTE9PT1yW2xdP3NbdSsrXT1vW2xdOnNbdSsrXT1hW2xdO3JldHVybiBpfSxvLnByb3RvdHlwZS53aGVyZT1mdW5jdGlvbih0KXtkZihbdF0sXCJ3aGVyZVwiKTt2YXIgZT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKTtyZXR1cm4gR2EodC5zaGFwZSxlKX0sby5wcm90b3R5cGUudG9waz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGRmKHQsXCJ0b3BrXCIpLHphKHRoaXMucmVhZFN5bmModC5kYXRhSWQpLHQuc2hhcGUsdC5kdHlwZSxlKX0sby5wcm90b3R5cGUubWluPWZ1bmN0aW9uKHQsZSl7ZGYodCxcIm1pblwiKSxDbihcIm1pblwiLGUsdC5yYW5rKTtmb3IodmFyIG49Ym4odC5zaGFwZSxlKSxyPW5bMF0sbz1uWzFdLGE9R24ocix0LmR0eXBlKSxpPWsobykscz10aGlzLnJlYWRTeW5jKGEuZGF0YUlkKSx1PXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGM9MDtjPHMubGVuZ3RoOysrYyl7Zm9yKHZhciBsPWMqaSxoPXVbbF0sZj0wO2Y8aTsrK2Ype3ZhciBkPXVbbCtmXTtkPGgmJihoPWQpfXNbY109aH1yZXR1cm4gYX0sby5wcm90b3R5cGUubWluaW11bT1mdW5jdGlvbih0LGUpe3JldHVybiBkZihbdCxlXSxcIm1pbmltdW1cIiksdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSx0LmR0eXBlLChmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1pbih0LGUpfSkpfSxvLnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZGYoW3QsZV0sXCJtb2RcIiksdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSx0LmR0eXBlLChmdW5jdGlvbih0LGUpe3ZhciBuPXQlZTtyZXR1cm4gdDwwJiZlPDB8fHQ+PTAmJmU+PTA/bjoobitlKSVlfSkpfSxvLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24odCxlKXtkZih0LFwibWF4XCIpLENuKFwibWF4XCIsZSx0LnJhbmspO2Zvcih2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPW5bMV0sYT1HbihyLHQuZHR5cGUpLGk9ayhvKSxzPXRoaXMucmVhZFN5bmMoYS5kYXRhSWQpLHU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksYz0wO2M8cy5sZW5ndGg7KytjKXtmb3IodmFyIGw9YyppLGg9dVtsXSxmPTA7ZjxpOysrZil7dmFyIGQ9dVtsK2ZdO2Q+aCYmKGg9ZCl9c1tjXT1ofXJldHVybiBhfSxvLnByb3RvdHlwZS5tYXhpbXVtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRmKFt0LGVdLFwibWF4aW11bVwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLHQuZHR5cGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWF4KHQsZSl9KSl9LG8ucHJvdG90eXBlLmFsbD1mdW5jdGlvbih0LGUpe2RmKHQsXCJhbGxcIiksQ24oXCJhbGxcIixlLHQucmFuayk7Zm9yKHZhciBuPWJuKHQuc2hhcGUsZSkscj1uWzBdLG89blsxXSxhPUduKHIsdC5kdHlwZSksaT1rKG8pLHM9dGhpcy5yZWFkU3luYyhhLmRhdGFJZCksdT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxjPTA7YzxzLmxlbmd0aDsrK2Mpe2Zvcih2YXIgbD1jKmksaD11W2xdLGY9MDtmPGk7KytmKXt2YXIgZD11W2wrZl07aD1oJiZkfXNbY109aH1yZXR1cm4gYX0sby5wcm90b3R5cGUuYW55PWZ1bmN0aW9uKHQsZSl7ZGYodCxcImFueVwiKSxDbihcImFueVwiLGUsdC5yYW5rKTtmb3IodmFyIG49Ym4odC5zaGFwZSxlKSxyPW5bMF0sbz1uWzFdLGE9R24ocix0LmR0eXBlKSxpPWsobykscz10aGlzLnJlYWRTeW5jKGEuZGF0YUlkKSx1PXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGM9MDtjPHMubGVuZ3RoOysrYyl7Zm9yKHZhciBsPWMqaSxoPXVbbF0sZj0wO2Y8aTsrK2Ype3ZhciBkPXVbbCtmXTtoPWh8fGR9c1tjXT1ofXJldHVybiBhfSxvLnByb3RvdHlwZS5zcXVhcmVkRGlmZmVyZW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBkZihbdCxlXSxcInNxdWFyZWREaWZmZXJlbmNlXCIpLHRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsdC5kdHlwZSwoZnVuY3Rpb24odCxlKXt2YXIgbj10LWU7cmV0dXJuIG4qbn0pKX0sby5wcm90b3R5cGUuY2VpbD1mdW5jdGlvbih0KXtkZih0LFwiY2VpbFwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgRmxvYXQzMkFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3IpbltyXT1NYXRoLmNlaWwoZVtyXSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5mbG9vcj1mdW5jdGlvbih0KXtkZih0LFwiZmxvb3JcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKW5bcl09TWF0aC5mbG9vcihlW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnNpZ249ZnVuY3Rpb24odCl7ZGYodCxcInhcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKWVbcl08MD9uW3JdPS0xOmVbcl0+MD9uW3JdPTE6bltyXT0wO3JldHVybiB0aGlzLm1ha2VPdXRwdXQobix0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuaXNOYU49ZnVuY3Rpb24odCl7ZGYodCxcInhcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrcilOdW1iZXIuaXNOYU4oZVtyXSkmJihuW3JdPTEpO3JldHVybiB0aGlzLm1ha2VPdXRwdXQobix0LnNoYXBlLFwiYm9vbFwiKX0sby5wcm90b3R5cGUuaXNJbmY9ZnVuY3Rpb24odCl7ZGYodCxcInhcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrcilNYXRoLmFicyhlW3JdKT09PTEvMCYmKG5bcl09MSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJib29sXCIpfSxvLnByb3RvdHlwZS5pc0Zpbml0ZT1mdW5jdGlvbih0KXtkZih0LFwieFwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgVWludDhBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKU51bWJlci5pc0Zpbml0ZShlW3JdKSYmKG5bcl09MSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJib29sXCIpfSxvLnByb3RvdHlwZS5yb3VuZD1mdW5jdGlvbih0KXtkZih0LFwicm91bmRcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgbz1NYXRoLmZsb29yKGVbcl0pO2Vbcl0tbzwuNT9uW3JdPU1hdGguZmxvb3IoZVtyXSk6ZVtyXS1vPi41P25bcl09TWF0aC5jZWlsKGVbcl0pOm5bcl09byUyPT0wP286bysxfXJldHVybiB0aGlzLm1ha2VPdXRwdXQobix0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuZXhwPWZ1bmN0aW9uKHQpe2RmKHQsXCJleHBcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKW5bcl09TWF0aC5leHAoZVtyXSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5leHBtMT1mdW5jdGlvbih0KXtkZih0LFwiZXhwbTFcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKW5bcl09TWF0aC5leHBtMShlW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmxvZz1mdW5jdGlvbih0KXtkZih0LFwibG9nXCIpO2Zvcih2YXIgZT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxuPW5ldyBGbG9hdDMyQXJyYXkoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIG89ZVtyXTtuW3JdPU1hdGgubG9nKG8pfXJldHVybiB0aGlzLm1ha2VPdXRwdXQobix0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUubG9nMXA9ZnVuY3Rpb24odCl7ZGYodCxcImxvZzFwXCIpO2Zvcih2YXIgZT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxuPW5ldyBGbG9hdDMyQXJyYXkoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIG89ZVtyXTtuW3JdPU1hdGgubG9nMXAobyl9cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5zcXJ0PWZ1bmN0aW9uKHQpe2RmKHQsXCJzcXJ0XCIpO2Zvcih2YXIgZT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxuPW5ldyBGbG9hdDMyQXJyYXkoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIG89ZVtyXTtuW3JdPU1hdGguc3FydChvKX1yZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnJzcXJ0PWZ1bmN0aW9uKHQpe2RmKHQsXCJyc3FydFwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgRmxvYXQzMkFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBvPWVbcl07bltyXT0xL01hdGguc3FydChvKX1yZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnJlY2lwcm9jYWw9ZnVuY3Rpb24odCl7ZGYodCxcInJlY2lwcm9jYWxcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKW5bcl09MS9lW3JdO3JldHVybiB0aGlzLm1ha2VPdXRwdXQobix0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUubGluZWFyPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxvLnByb3RvdHlwZS5yZWx1PWZ1bmN0aW9uKHQpe2RmKHQsXCJyZWx1XCIpO2Zvcih2YXIgZT1Hbih0LnNoYXBlLHQuZHR5cGUpLG49dGhpcy5yZWFkU3luYyhlLmRhdGFJZCkscj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxvPTA7bzxyLmxlbmd0aDsrK28pbltvXT1NYXRoLm1heCgwLHJbb10pO3JldHVybiBlfSxvLnByb3RvdHlwZS5yZWx1Nj1mdW5jdGlvbih0KXtkZih0LFwicmVsdVwiKTtmb3IodmFyIGU9R24odC5zaGFwZSx0LmR0eXBlKSxuPXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLHI9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbz0wO288ci5sZW5ndGg7KytvKW5bb109TWF0aC5taW4oTWF0aC5tYXgoMCxyW29dKSw2KTtyZXR1cm4gZX0sby5wcm90b3R5cGUucHJlbHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZGYoW3QsZV0sXCJwcmVsdVwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLHQuZHR5cGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8MD9lKnQ6dH0pKX0sby5wcm90b3R5cGUuZWx1PWZ1bmN0aW9uKHQpe2RmKHQsXCJlbHVcIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcil7dmFyIG89bltyXTtlW3JdPW8+PTA/bzpNYXRoLmV4cChvKS0xfXJldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuZWx1RGVyPWZ1bmN0aW9uKHQsZSl7ZGYoW3QsZV0sXCJlbHVEZXJcIik7Zm9yKHZhciBuPW5ldyBGbG9hdDMyQXJyYXkoZS5zaXplKSxyPXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLG89dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksYT0wO2E8ci5sZW5ndGg7KythKXt2YXIgaT1yW2FdO25bYV09aT49MT9vW2FdOm9bYV0qKGkrMSl9cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLGUuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5zZWx1PWZ1bmN0aW9uKHQpe2RmKHQsXCJzZWx1XCIpO2Zvcih2YXIgZT1zdSxuPXV1LHI9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG89dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksYT0wO2E8by5sZW5ndGg7KythKXt2YXIgaT1vW2FdO3JbYV09aT49MD9uKmk6ZSooTWF0aC5leHAoaSktMSl9cmV0dXJuIHRoaXMubWFrZU91dHB1dChyLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5jbGlwPWZ1bmN0aW9uKHQsZSxuKXtkZih0LFwiY2xpcFwiKTtmb3IodmFyIHI9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG89dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksYT0wO2E8by5sZW5ndGg7KythKXt2YXIgaT1vW2FdO3JbYV09aT5uP246aTxlP2U6aX1yZXR1cm4gdGhpcy5tYWtlT3V0cHV0KHIsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmFicz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09TWF0aC5hYnMobltyXSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChlLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5jb21wbGV4QWJzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksbj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxyPTA7cjx0LnNpemU7KytyKXt2YXIgbz1uWzIqcl0sYT1uWzIqcisxXTtlW3JdPU1hdGguaHlwb3QobyxhKX1yZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmludD1mdW5jdGlvbih0KXtkZih0LFwiaW50XCIpO2Zvcih2YXIgZT1uZXcgSW50MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09bltyXTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImludDMyXCIpfSxvLnByb3RvdHlwZS5zaWdtb2lkPWZ1bmN0aW9uKHQpe2RmKHQsXCJzaWdtb2lkXCIpO2Zvcih2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksbj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxyPTA7cjxuLmxlbmd0aDsrK3IpZVtyXT0xLygxK01hdGguZXhwKC1uW3JdKSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChlLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5zb2Z0cGx1cz1mdW5jdGlvbih0KXtkZih0LFwic29mdHBsdXNcIik7Zm9yKHZhciBlPU1hdGgubG9nKDEuMTkyMDkyODk1NTA3ODEyNWUtNykrMixuPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxyPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG89MDtvPHIubGVuZ3RoOysrbyl7dmFyIGE9cltvXT4tZSxpPXJbb108ZSxzPU1hdGguZXhwKHJbb10pLHU9dm9pZCAwO3U9aT9zOmE/cltvXTpNYXRoLmxvZygxK3MpLG5bb109dX1yZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnNpbj1mdW5jdGlvbih0KXtkZih0LFwic2luXCIpO2Zvcih2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksbj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxyPTA7cjxuLmxlbmd0aDsrK3IpZVtyXT1NYXRoLnNpbihuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmNvcz1mdW5jdGlvbih0KXtkZih0LFwiY29zXCIpO2Zvcih2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksbj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxyPTA7cjxuLmxlbmd0aDsrK3IpZVtyXT1NYXRoLmNvcyhuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnRhbj1mdW5jdGlvbih0KXtkZih0LFwidGFuXCIpO2Zvcih2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksbj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxyPTA7cjxuLmxlbmd0aDsrK3IpZVtyXT1NYXRoLnRhbihuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmFzaW49ZnVuY3Rpb24odCl7ZGYodCxcImFzaW5cIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGguYXNpbihuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmFjb3M9ZnVuY3Rpb24odCl7ZGYodCxcImFjb3NcIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGguYWNvcyhuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmF0YW49ZnVuY3Rpb24odCl7ZGYodCxcImF0YW5cIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGguYXRhbihuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmF0YW4yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRmKFt0LGVdLFwiYXRhbjJcIiksdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSx0LmR0eXBlLChmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmF0YW4yKHQsZSl9KSl9LG8ucHJvdG90eXBlLnNpbmg9ZnVuY3Rpb24odCl7ZGYodCxcInNpbmhcIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGguc2luaChuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmNvc2g9ZnVuY3Rpb24odCl7ZGYodCxcImNvc2hcIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGguY29zaChuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnRhbmg9ZnVuY3Rpb24odCl7ZGYodCxcInRhbmhcIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPVQobltyXSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChlLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5hc2luaD1mdW5jdGlvbih0KXtkZih0LFwiYXNpbmhcIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGguYXNpbmgobltyXSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChlLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5hY29zaD1mdW5jdGlvbih0KXtkZih0LFwiYWNvc2hcIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGguYWNvc2gobltyXSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChlLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5hdGFuaD1mdW5jdGlvbih0KXtkZih0LFwiYXRhbmhcIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGguYXRhbmgobltyXSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChlLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5lcmY9ZnVuY3Rpb24odCl7ZGYodCxcImVyZlwiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKXt2YXIgbz1NYXRoLnNpZ24obltyXSksYT1NYXRoLmFicyhuW3JdKSxpPTEvKDErLjMyNzU5MTEqYSk7ZVtyXT1vKigxLSgoKCgxLjA2MTQwNTQyOSppLTEuNDUzMTUyMDI3KSppKzEuNDIxNDEzNzQxKSppLS4yODQ0OTY3MzYpKmkrLjI1NDgyOTU5MikqaSpNYXRoLmV4cCgtYSphKSl9cmV0dXJuIHRoaXMubWFrZU91dHB1dChlLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MCksZGYodCxcInN0ZXBcIik7Zm9yKHZhciBuPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxyPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG89MDtvPHIubGVuZ3RoOysrbyl7dmFyIGE9cltvXTtpc05hTihhKT9uW29dPU5hTjpuW29dPWE+MD8xOmV9cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5mdXNlZENvbnYyZD1mdW5jdGlvbih0KXt2YXIgZT10LmlucHV0LG49dC5maWx0ZXIscj10LmNvbnZJbmZvLG89dC5iaWFzLGE9dC5hY3RpdmF0aW9uLGk9dC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzLHM9dGhpcy5jb252MmQoZSxuLHIpO3JldHVybiBvJiYocz10aGlzLmFkZChzLG8pKSxhJiYocz1nZih0aGlzLHMsYSxpKSksc30sby5wcm90b3R5cGUuY29udjJkPWZ1bmN0aW9uKHQsZSxuKXtkZihbdCxlXSxcImNvbnYyZFwiKTtmb3IodmFyIHI9bi5maWx0ZXJIZWlnaHQsbz1uLmZpbHRlcldpZHRoLGE9bi5kaWxhdGlvbkhlaWdodCxpPW4uZGlsYXRpb25XaWR0aCxzPW4ucGFkSW5mby5sZWZ0LHU9bi5wYWRJbmZvLnRvcCxjPVwiY2hhbm5lbHNMYXN0XCI9PT1uLmRhdGFGb3JtYXQsbD1lcihuLm91dFNoYXBlLHQuZHR5cGUpLGg9dC5zdHJpZGVzWzBdLGY9Yz90LnN0cmlkZXNbMV06dC5zdHJpZGVzWzJdLGQ9Yz90LnN0cmlkZXNbMl06MSxwPWM/MTp0LnN0cmlkZXNbMV0sdj1sLnN0cmlkZXNbMF0sZz1jP2wuc3RyaWRlc1sxXTpsLnN0cmlkZXNbMl0sbT1jP2wuc3RyaWRlc1syXToxLHk9Yz8xOmwuc3RyaWRlc1sxXSx4PXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGI9dGhpcy5yZWFkU3luYyhlLmRhdGFJZCksdz1sLnZhbHVlcyxDPTA7QzxuLmJhdGNoU2l6ZTsrK0MpZm9yKHZhciBFPUMqaCxSPUMqdixJPTA7STxuLm91dEhlaWdodDsrK0kpZm9yKHZhciBrPVIrSSpnLFM9SSpuLnN0cmlkZUhlaWdodC11LEE9MDtBPHI7QSsrKXt2YXIgVD1TK0EqYTtpZighKFQ8MHx8VD49bi5pbkhlaWdodCkpZm9yKHZhciBEPUEqZS5zdHJpZGVzWzBdLE49RStUKmYsRj0wO0Y8bi5vdXRXaWR0aDsrK0YpZm9yKHZhciBfPWsrRiptLE89RipuLnN0cmlkZVdpZHRoLXMsTT0wO008bztNKyspe3ZhciBCPU8rTSppO2lmKCEoQjwwfHxCPj1uLmluV2lkdGgpKWZvcih2YXIgUD1OK0IqZCxMPUQrTSplLnN0cmlkZXNbMV0sVz0wO1c8bi5pbkNoYW5uZWxzOysrVyl7Zm9yKHZhciBVPXhbUCtXKnBdLFY9MDtWPG4ub3V0Q2hhbm5lbHM7KytWKXdbXytWKnldKz1VKmJbTCtWXTtMKz1uLm91dENoYW5uZWxzfX19cmV0dXJuIGwudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuY29udjNkPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9bi5maWx0ZXJEZXB0aCxvPW4uZmlsdGVySGVpZ2h0LGE9bi5maWx0ZXJXaWR0aCxpPW4uZGlsYXRpb25EZXB0aCxzPW4uZGlsYXRpb25IZWlnaHQsdT1uLmRpbGF0aW9uV2lkdGgsYz1uLnBhZEluZm8uZnJvbnQsbD1uLnBhZEluZm8ubGVmdCxoPW4ucGFkSW5mby50b3AsZj1lcihuLm91dFNoYXBlLHQuZHR5cGUpLGQ9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscD10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSx2PWYudmFsdWVzLGc9MDtnPG4uYmF0Y2hTaXplOysrZylmb3IodmFyIG09Zyp0LnN0cmlkZXNbMF0seT1nKmYuc3RyaWRlc1swXSx4PTA7eDxuLm91dERlcHRoOysreClmb3IodmFyIGI9eSt4KmYuc3RyaWRlc1sxXSx3PXgqbi5zdHJpZGVEZXB0aC1jLEM9MDtDPHI7QysrKXt2YXIgRT13K0MqaTtpZighKEU8MHx8RT49bi5pbkRlcHRoKSlmb3IodmFyIFI9QyplLnN0cmlkZXNbMF0sST1tK0UqdC5zdHJpZGVzWzFdLGs9MDtrPG4ub3V0SGVpZ2h0Oysraylmb3IodmFyIFM9YitrKmYuc3RyaWRlc1syXSxBPWsqbi5zdHJpZGVIZWlnaHQtaCxUPTA7VDxvO1QrKyl7dmFyIEQ9QStUKnM7aWYoIShEPDB8fEQ+PW4uaW5IZWlnaHQpKWZvcih2YXIgTj1SK1QqZS5zdHJpZGVzWzFdLEY9SStEKnQuc3RyaWRlc1syXSxfPTA7XzxuLm91dFdpZHRoOysrXylmb3IodmFyIE89UytfKm4ub3V0Q2hhbm5lbHMsTT1fKm4uc3RyaWRlV2lkdGgtbCxCPTA7QjxhO0IrKyl7dmFyIFA9TStCKnU7aWYoIShQPDB8fFA+PW4uaW5XaWR0aCkpZm9yKHZhciBMPU4rQiplLnN0cmlkZXNbMl0sVz1GK1Aqbi5pbkNoYW5uZWxzLFU9TCxWPTA7VjxuLmluQ2hhbm5lbHM7KytWKXtmb3IodmFyIHo9ZFtXK1ZdLEc9MDtHPG4ub3V0Q2hhbm5lbHM7KytHKXZbTytHXSs9eipwW1UrR107VSs9bi5vdXRDaGFubmVsc319fX1yZXR1cm4gZi50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5jb252MmREZXJJbnB1dD1mdW5jdGlvbih0LGUsbil7ZGYoW3QsZV0sXCJjb252MmREZXJJbnB1dFwiKTtmb3IodmFyIHI9ZXIobi5pblNoYXBlLFwiZmxvYXQzMlwiKSxvPXIudmFsdWVzLGE9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksaT10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSxzPWUuc3RyaWRlcyx1PXNbMF0sYz1zWzFdLGw9c1syXSxoPW4uYmF0Y2hTaXplLGY9bi5maWx0ZXJIZWlnaHQsZD1uLmZpbHRlcldpZHRoLHA9bi5pbkNoYW5uZWxzLHY9bi5pbkhlaWdodCxnPW4uaW5XaWR0aCxtPW4ub3V0Q2hhbm5lbHMseT1uLm91dEhlaWdodCx4PW4ub3V0V2lkdGgsYj1uLnN0cmlkZUhlaWdodCx3PW4uc3RyaWRlV2lkdGgsQz1uLmRhdGFGb3JtYXQsRT1mLTEtbi5wYWRJbmZvLnRvcCxSPWQtMS1uLnBhZEluZm8ubGVmdCxJPVwiY2hhbm5lbHNMYXN0XCI9PT1DLGs9ci5zdHJpZGVzWzBdLFM9ST9yLnN0cmlkZXNbMV06ci5zdHJpZGVzWzJdLEE9ST9yLnN0cmlkZXNbMl06MSxUPUk/MTpyLnN0cmlkZXNbMV0sRD10LnN0cmlkZXNbMF0sTj1JP3Quc3RyaWRlc1sxXTp0LnN0cmlkZXNbMl0sRj1JP3Quc3RyaWRlc1syXToxLF89ST8xOnQuc3RyaWRlc1sxXSxPPTA7TzxoOysrTylmb3IodmFyIE09MDtNPHA7KytNKWZvcih2YXIgQj0wO0I8djsrK0IpZm9yKHZhciBQPUItRSxMPU1hdGgubWF4KDAsTWF0aC5jZWlsKFAvYikpLFc9TWF0aC5taW4oeSwoZitQKS9iKSxVPTA7VTxnOysrVSl7Zm9yKHZhciBWPVUtUix6PU1hdGgubWF4KDAsTWF0aC5jZWlsKFYvdykpLEc9TWF0aC5taW4oeCwoZCtWKS93KSxIPTAscT1MO3E8VzsrK3EpZm9yKHZhciBLPXEqYi1QLGo9ejtqPEc7KytqKWZvcih2YXIgWD1EKk8rTipxK0YqaixZPXUqKGYtMS1LKStjKihkLTEtKGoqdy1WKSkrbCpNLCQ9MDskPG07KyskKXtIKz1hW1grXyokXSppW1krJF19b1trKk8rUypCK0EqVStUKk1dPUh9cmV0dXJuIHIudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuY29udjNkRGVySW5wdXQ9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1lcihuLmluU2hhcGUsXCJmbG9hdDMyXCIpLG89ci52YWx1ZXMsYT1yLnN0cmlkZXMsaT1hWzBdLHM9YVsxXSx1PWFbMl0sYz1hWzNdLGw9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksaD10LnN0cmlkZXMsZj1oWzBdLGQ9aFsxXSxwPWhbMl0sdj1oWzNdLGc9dGhpcy5yZWFkU3luYyhlLmRhdGFJZCksbT1lLnN0cmlkZXMseT1tWzBdLHg9bVsxXSxiPW1bMl0sdz1tWzNdLEM9bi5iYXRjaFNpemUsRT1uLmZpbHRlckRlcHRoLFI9bi5maWx0ZXJIZWlnaHQsST1uLmZpbHRlcldpZHRoLGs9bi5pbkNoYW5uZWxzLFM9bi5pbkRlcHRoLEE9bi5pbkhlaWdodCxUPW4uaW5XaWR0aCxEPW4ub3V0Q2hhbm5lbHMsTj1uLm91dERlcHRoLEY9bi5vdXRIZWlnaHQsXz1uLm91dFdpZHRoLE89bi5zdHJpZGVEZXB0aCxNPW4uc3RyaWRlSGVpZ2h0LEI9bi5zdHJpZGVXaWR0aCxQPUUtMS1uLnBhZEluZm8uZnJvbnQsTD1SLTEtbi5wYWRJbmZvLnRvcCxXPUktMS1uLnBhZEluZm8ubGVmdCxVPTA7VTxDOysrVSlmb3IodmFyIFY9MDtWPGs7KytWKWZvcih2YXIgej0wO3o8UzsrK3opZm9yKHZhciBHPXotUCxIPU1hdGgubWF4KDAsTWF0aC5jZWlsKEcvTykpLHE9TWF0aC5taW4oTiwoRStHKS9PKSxLPTA7SzxBOysrSylmb3IodmFyIGo9Sy1MLFg9TWF0aC5tYXgoMCxNYXRoLmNlaWwoai9NKSksWT1NYXRoLm1pbihGLChSK2opL00pLCQ9MDskPFQ7KyskKXtmb3IodmFyIFE9JC1XLEo9TWF0aC5tYXgoMCxNYXRoLmNlaWwoUS9CKSksWj1NYXRoLm1pbihfLChJK1EpL0IpLHR0PTAsZXQ9SDtldDxxOysrZXQpZm9yKHZhciBudD1ldCpPLUcscnQ9WDtydDxZOysrcnQpZm9yKHZhciBvdD1ydCpNLWosYXQ9SjthdDxaOysrYXQpZm9yKHZhciBpdD1mKlUrZCpldCtwKnJ0K3YqYXQsc3Q9eSooRS0xLW50KSt4KihSLTEtb3QpK2IqKEktMS0oYXQqQi1RKSkrdypWLHV0PTA7dXQ8RDsrK3V0KXt0dCs9bFtpdCt1dF0qZ1tzdCt1dF19b1tpKlUrcyp6K3UqSytjKiQrVl09dHR9cmV0dXJuIHIudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuY29udjJkRGVyRmlsdGVyPWZ1bmN0aW9uKHQsZSxuKXtkZihbdCxlXSxcImNvbnYyZERlckZpbHRlclwiKTtmb3IodmFyIHI9bi5zdHJpZGVIZWlnaHQsbz1uLnN0cmlkZVdpZHRoLGE9bi5maWx0ZXJIZWlnaHQsaT1uLmZpbHRlcldpZHRoLHM9XCJjaGFubmVsc0xhc3RcIj09PW4uZGF0YUZvcm1hdCx1PWVyKG4uZmlsdGVyU2hhcGUsXCJmbG9hdDMyXCIpLGM9bi5wYWRJbmZvLmxlZnQsbD1uLnBhZEluZm8udG9wLGg9dGhpcy5idWZmZXJTeW5jKHQpLGY9dGhpcy5idWZmZXJTeW5jKGUpLGQ9MDtkPGE7KytkKWZvcih2YXIgcD1NYXRoLm1heCgwLE1hdGguY2VpbCgobC1kKS9yKSksdj1NYXRoLm1pbihuLm91dEhlaWdodCwobi5pbkhlaWdodCtsLWQpL3IpLGc9MDtnPGk7KytnKWZvcih2YXIgbT1NYXRoLm1heCgwLE1hdGguY2VpbCgoYy1nKS9vKSkseT1NYXRoLm1pbihuLm91dFdpZHRoLChuLmluV2lkdGgrYy1nKS9vKSx4PTA7eDxuLmluQ2hhbm5lbHM7Kyt4KWZvcih2YXIgYj0wO2I8bi5vdXRDaGFubmVsczsrK2Ipe2Zvcih2YXIgdz0wLEM9MDtDPG4uYmF0Y2hTaXplOysrQylmb3IodmFyIEU9cDtFPHY7KytFKWZvcih2YXIgUj1kK0Uqci1sLEk9bTtJPHk7KytJKXt2YXIgaz1nK0kqby1jO3crPXM/aC5nZXQoQyxSLGsseCkqZi5nZXQoQyxFLEksYik6aC5nZXQoQyx4LFIsaykqZi5nZXQoQyxiLEUsSSl9dS5zZXQodyxkLGcseCxiKX1yZXR1cm4gdS50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5jb252M2REZXJGaWx0ZXI9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1uLnN0cmlkZURlcHRoLG89bi5zdHJpZGVIZWlnaHQsYT1uLnN0cmlkZVdpZHRoLGk9bi5maWx0ZXJEZXB0aCxzPW4uZmlsdGVySGVpZ2h0LHU9bi5maWx0ZXJXaWR0aCxjPWVyKG4uZmlsdGVyU2hhcGUsXCJmbG9hdDMyXCIpLGw9Yy52YWx1ZXMsaD1jLnN0cmlkZXMsZj1oWzBdLGQ9aFsxXSxwPWhbMl0sdj1oWzNdLGc9dGhpcy5yZWFkU3luYyhlLmRhdGFJZCksbT1lLnN0cmlkZXMseT1tWzBdLHg9bVsxXSxiPW1bMl0sdz1tWzNdLEM9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksRT10LnN0cmlkZXMsUj1FWzBdLEk9RVsxXSxrPUVbMl0sUz1FWzNdLEE9bi5wYWRJbmZvLmZyb250LFQ9bi5wYWRJbmZvLmxlZnQsRD1uLnBhZEluZm8udG9wLE49MDtOPGk7KytOKWZvcih2YXIgRj1NYXRoLm1heCgwLE1hdGguY2VpbCgoQS1OKS9yKSksXz1NYXRoLm1pbihuLm91dERlcHRoLChuLmluRGVwdGgrQS1OKS9yKSxPPU4qZixNPTA7TTxzOysrTSlmb3IodmFyIEI9TWF0aC5tYXgoMCxNYXRoLmNlaWwoKEQtTSkvbykpLFA9TWF0aC5taW4obi5vdXRIZWlnaHQsKG4uaW5IZWlnaHQrRC1NKS9vKSxMPU0qZCtPLFc9MDtXPHU7KytXKWZvcih2YXIgVT1NYXRoLm1heCgwLE1hdGguY2VpbCgoVC1XKS9hKSksVj1NYXRoLm1pbihuLm91dFdpZHRoLChuLmluV2lkdGgrVC1XKS9hKSx6PVcqcCtMLEc9MDtHPG4uaW5DaGFubmVsczsrK0cpZm9yKHZhciBIPUcqdit6LHE9MDtxPG4ub3V0Q2hhbm5lbHM7KytxKXtmb3IodmFyIEs9MCxqPTA7ajxuLmJhdGNoU2l6ZTsrK2opZm9yKHZhciBYPWoqUixZPWoqeSwkPUY7JDxfOysrJClmb3IodmFyIFE9KE4rJCpyLUEpKkkrWCxKPSQqeCtZLFo9QjtaPFA7KytaKWZvcih2YXIgdHQ9KE0rWipvLUQpKmsrUSxldD1aKmIrSixudD1VO250PFY7KytudCl7dmFyIHJ0PW50KncrZXQ7Sys9Q1soVytudCphLVQpKlMrdHQrR10qZ1tydCtxXX1sW0grcV09S31yZXR1cm4gYy50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5mdXNlZERlcHRod2lzZUNvbnYyRD1mdW5jdGlvbih0KXt2YXIgZT10LmlucHV0LG49dC5maWx0ZXIscj10LmNvbnZJbmZvLG89dC5iaWFzLGE9dC5hY3RpdmF0aW9uLGk9dC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzLHM9dGhpcy5kZXB0aHdpc2VDb252MkQoZSxuLHIpO3JldHVybiBvJiYocz10aGlzLmFkZChzLG8pKSxhJiYocz1nZih0aGlzLHMsYSxpKSksc30sby5wcm90b3R5cGUuZGVwdGh3aXNlQ29udjJEPWZ1bmN0aW9uKHQsZSxuKXtkZihbdCxlXSxcImRlcHRod2lzZUNvbnYyRFwiKTtmb3IodmFyIHI9bi5maWx0ZXJIZWlnaHQsbz1uLmZpbHRlcldpZHRoLGE9bi5kaWxhdGlvbkhlaWdodCxpPW4uZGlsYXRpb25XaWR0aCxzPW4ucGFkSW5mby5sZWZ0LHU9bi5wYWRJbmZvLnRvcCxjPW4ub3V0Q2hhbm5lbHMvbi5pbkNoYW5uZWxzLGw9ZXIobi5vdXRTaGFwZSx0LmR0eXBlKSxoPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGY9dGhpcy5yZWFkU3luYyhlLmRhdGFJZCksZD1sLnZhbHVlcyxwPTA7cDxuLmJhdGNoU2l6ZTsrK3ApZm9yKHZhciB2PXAqdC5zdHJpZGVzWzBdLGc9cCpsLnN0cmlkZXNbMF0sbT0wO208bi5vdXRIZWlnaHQ7KyttKWZvcih2YXIgeT1nK20qbC5zdHJpZGVzWzFdLHg9bSpuLnN0cmlkZUhlaWdodC1zLGI9MDtiPHI7KytiKXt2YXIgdz14K2IqYTtpZighKHc8MHx8dz49bi5pbkhlaWdodCkpZm9yKHZhciBDPWIqZS5zdHJpZGVzWzBdLEU9dit3KnQuc3RyaWRlc1sxXSxSPTA7UjxuLm91dFdpZHRoOysrUilmb3IodmFyIEk9eStSKmwuc3RyaWRlc1syXSxrPVIqbi5zdHJpZGVXaWR0aC11LFM9MDtTPG87KytTKXt2YXIgQT1rK1MqaTtpZighKEE8MHx8QT49bi5pbldpZHRoKSlmb3IodmFyIFQ9QytTKmUuc3RyaWRlc1sxXSxEPUUrQSpuLmluQ2hhbm5lbHMsTj1JLEY9VCxfPTA7XzxuLmluQ2hhbm5lbHM7KytfKXtmb3IodmFyIE89aFtEK19dLE09MDtNPGM7KytNKWRbTitNXSs9TypmW0YrTV07Tis9YyxGKz1jfX19cmV0dXJuIGwudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuZGVwdGh3aXNlQ29udjJERGVySW5wdXQ9ZnVuY3Rpb24odCxlLG4pe2RmKFt0LGVdLFwiZGVwdGh3aXNlQ29udjJERGVySW5wdXRcIik7Zm9yKHZhciByPWVyKG4uaW5TaGFwZSxcImZsb2F0MzJcIiksbz1yLnZhbHVlcyxhPXIuc3RyaWRlcyxpPWFbMF0scz1hWzFdLHU9YVsyXSxjPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGw9dC5zdHJpZGVzLGg9bFswXSxmPWxbMV0sZD1sWzJdLHA9dGhpcy5yZWFkU3luYyhlLmRhdGFJZCksdj1lLnN0cmlkZXMsZz12WzBdLG09dlsxXSx5PXZbMl0seD1uLmJhdGNoU2l6ZSxiPW4uZmlsdGVySGVpZ2h0LHc9bi5maWx0ZXJXaWR0aCxDPW4uaW5DaGFubmVscyxFPW4uaW5IZWlnaHQsUj1uLmluV2lkdGgsST1uLm91dENoYW5uZWxzLGs9bi5vdXRIZWlnaHQsUz1uLm91dFdpZHRoLEE9bi5zdHJpZGVIZWlnaHQsVD1uLnN0cmlkZVdpZHRoLEQ9Yi0xLW4ucGFkSW5mby50b3AsTj13LTEtbi5wYWRJbmZvLmxlZnQsRj1JL0MsXz0wO188eDsrK18pZm9yKHZhciBPPTA7TzxDOysrTylmb3IodmFyIE09MDtNPEU7KytNKWZvcih2YXIgQj1NLUQsUD1NYXRoLm1heCgwLE1hdGguY2VpbChCL0EpKSxMPU1hdGgubWluKGssKGIrQikvQSksVz0wO1c8UjsrK1cpe2Zvcih2YXIgVT1XLU4sVj1NYXRoLm1heCgwLE1hdGguY2VpbChVL1QpKSx6PU1hdGgubWluKFMsKHcrVSkvVCksRz0wLEg9UDtIPEw7KytIKWZvcih2YXIgcT1IKkEtQixLPVY7Szx6OysrSylmb3IodmFyIGo9aCpfK2YqSCtkKkssWD1nKihiLTEtcSkrbSoody0xLShLKlQtVSkpK3kqTyxZPTA7WTxGOysrWSl7Rys9Y1tqKyhPKkYrWSldKnBbWCtZXX1vW2kqXytzKk0rdSpXK09dPUd9cmV0dXJuIHIudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuZGVwdGh3aXNlQ29udjJERGVyRmlsdGVyPWZ1bmN0aW9uKHQsZSxuKXtkZihbdCxlXSxcImRlcHRod2lzZUNvbnYyRERlckZpbHRlclwiKTtmb3IodmFyIHI9bi5zdHJpZGVIZWlnaHQsbz1uLnN0cmlkZVdpZHRoLGE9bi5maWx0ZXJIZWlnaHQsaT1uLmZpbHRlcldpZHRoLHM9ZXIobi5maWx0ZXJTaGFwZSxcImZsb2F0MzJcIiksdT1uLnBhZEluZm8ubGVmdCxjPW4ucGFkSW5mby50b3AsbD1uLm91dENoYW5uZWxzL24uaW5DaGFubmVscyxoPXRoaXMuYnVmZmVyU3luYyh0KSxmPXRoaXMuYnVmZmVyU3luYyhlKSxkPTA7ZDxhOysrZClmb3IodmFyIHA9TWF0aC5tYXgoMCxNYXRoLmNlaWwoKGMtZCkvcikpLHY9TWF0aC5taW4obi5vdXRIZWlnaHQsKG4uaW5IZWlnaHQrYy1kKS9yKSxnPTA7ZzxpOysrZylmb3IodmFyIG09TWF0aC5tYXgoMCxNYXRoLmNlaWwoKHUtZykvbykpLHk9TWF0aC5taW4obi5vdXRXaWR0aCwobi5pbldpZHRoK3UtZykvbykseD0wO3g8bi5vdXRDaGFubmVsczsrK3gpe2Zvcih2YXIgYj1NYXRoLnRydW5jKHgvbCksdz14JWwsQz0wLEU9MDtFPG4uYmF0Y2hTaXplOysrRSlmb3IodmFyIFI9cDtSPHY7KytSKWZvcih2YXIgST1kK1Iqci1jLGs9bTtrPHk7KytrKXt2YXIgUz1nK2sqby11O0MrPWguZ2V0KEUsSSxTLGIpKmYuZ2V0KEUsUixrLHgpfXMuc2V0KEMsZCxnLGIsdyl9cmV0dXJuIHMudG9UZW5zb3IoKX0sby5wcm90b3R5cGUudGlsZT1mdW5jdGlvbih0LGUpe3JldHVybiBkZih0LFwidGlsZVwiKSxWYSh0aGlzLmJ1ZmZlclN5bmModCksZSl9LG8ucHJvdG90eXBlLnBhZD1mdW5jdGlvbih0LGUsbil7ZGYodCxcInBhZFwiKTt2YXIgcj1lLm1hcCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZVswXSt0LnNoYXBlW25dK2VbMV19KSksbz1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSksYT10aGlzLmJ1ZmZlclN5bmModCksaT1lcihyLHQuZHR5cGUpOzAhPT1uJiZpLnZhbHVlcy5maWxsKG4pO2Zvcih2YXIgcz0wO3M8dC5zaXplO3MrKyl7dmFyIHU9YS5pbmRleFRvTG9jKHMpLGM9dS5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrb1tlXX0pKTtpLnNldC5hcHBseShpLFthLmdldC5hcHBseShhLHUpXS5jb25jYXQoYykpfXJldHVybiBpLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLmdhdGhlcj1mdW5jdGlvbih0LGUsbil7ZGYoW3QsZV0sXCJnYXRoZXJcIik7dmFyIHI9dC5zaGFwZS5zbGljZSgpLG89dGhpcy5yZWFkU3luYyhlLmRhdGFJZCk7cltuXT1vLmxlbmd0aDtmb3IodmFyIGE9ZXIocix0LmR0eXBlKSxpPXRoaXMuYnVmZmVyU3luYyh0KSxzPTA7czxhLnNpemU7KytzKXt2YXIgdT1hLmluZGV4VG9Mb2MocyksYz11LnNsaWNlKCk7Y1tuXT1vW3Vbbl1dO3ZhciBsPWkubG9jVG9JbmRleChjKTthLnZhbHVlc1tzXT1pLnZhbHVlc1tsXX1yZXR1cm4gYS50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5iYXRjaFRvU3BhY2VORD1mdW5jdGlvbih0LGUsbil7ZGYoW3RdLFwiYmF0Y2hUb1NwYWNlTkRcIik7dmFyIHI9ZS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZX0pKSxvPXByKHQuc2hhcGUsZSxyKSxhPXZyKG8ubGVuZ3RoLGUubGVuZ3RoKSxpPWdyKHQuc2hhcGUsZSxyKSxzPW1yKG4sZS5sZW5ndGgpLHU9eXIoaSxuLGUubGVuZ3RoKTtyZXR1cm4gdWEodC5yZXNoYXBlKG8pLGEpLnJlc2hhcGUoaSkuc2xpY2Uocyx1KX0sby5wcm90b3R5cGUuc3BhY2VUb0JhdGNoTkQ9ZnVuY3Rpb24odCxlLG4pe2RmKFt0XSxcInNwYWNlVG9CYXRjaE5EXCIpO3ZhciByPWUucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0KmV9KSksbz1bWzAsMF1dO28ucHVzaC5hcHBseShvLG4pO2Zvcih2YXIgYT0xK2UubGVuZ3RoO2E8dC5zaGFwZS5sZW5ndGg7KythKW8ucHVzaChbMCwwXSk7dmFyIGk9dC5wYWQobykscz1wcihpLnNoYXBlLGUsciwhMSksdT12cihzLmxlbmd0aCxlLmxlbmd0aCwhMSksYz1ncihpLnNoYXBlLGUsciwhMSk7cmV0dXJuIHVhKGkucmVzaGFwZShzKSx1KS5yZXNoYXBlKGMpfSxvLnByb3RvdHlwZS5tYXhQb29sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRmKHQsXCJtYXhQb29sXCIpLHBmKHRoaXMucmVhZFN5bmModC5kYXRhSWQpLHQuc2hhcGUsdC5kdHlwZSx0LnN0cmlkZXMsZSxcIm1heFwiKS50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5tYXhQb29sQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4scil7ZGYoW2Usbl0sXCJtYXhQb29sQmFja3Byb3BcIik7Zm9yKHZhciBvPXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLGE9ZXIoci5vdXRTaGFwZSxlLmR0eXBlLHZmKG8sZS5zaGFwZSxlLmR0eXBlLHIpLnZhbHVlcyksaT1yLnN0cmlkZUhlaWdodCxzPXIuc3RyaWRlV2lkdGgsdT1yLmRpbGF0aW9uSGVpZ2h0LGM9ci5kaWxhdGlvbldpZHRoLGw9ci5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQsaD1yLmVmZmVjdGl2ZUZpbHRlcldpZHRoLGY9aC0xLXIucGFkSW5mby5sZWZ0LGQ9bC0xLXIucGFkSW5mby50b3AscD1lcihlLnNoYXBlLFwiZmxvYXQzMlwiKSx2PXRoaXMuYnVmZmVyU3luYyh0KSxnPTA7ZzxyLmJhdGNoU2l6ZTsrK2cpZm9yKHZhciBtPTA7bTxyLmluQ2hhbm5lbHM7KyttKWZvcih2YXIgeT0wO3k8ci5pbkhlaWdodDsrK3kpZm9yKHZhciB4PTA7eDxyLmluV2lkdGg7Kyt4KXtmb3IodmFyIGI9eS1kLHc9eC1mLEM9MCxFPTA7RTxsO0UrPXUpe3ZhciBSPShiK0UpL2k7aWYoIShSPDB8fFI+PXIub3V0SGVpZ2h0fHxNYXRoLmZsb29yKFIpIT09UikpZm9yKHZhciBJPTA7STxoO0krPWMpe3ZhciBrPSh3K0kpL3M7aWYoIShrPDB8fGs+PXIub3V0V2lkdGh8fE1hdGguZmxvb3IoaykhPT1rKSl7dmFyIFM9bCpoLTEtYS5nZXQoZyxSLGssbSk9PT1FKmgrST8xOjA7aWYoMCE9PVMpQys9di5nZXQoZyxSLGssbSkqU319fXAuc2V0KEMsZyx5LHgsbSl9cmV0dXJuIHAudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuYXZnUG9vbEJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXtkZihbdCxlXSxcImF2Z1Bvb2xCYWNrcHJvcFwiKTtmb3IodmFyIHI9bi5zdHJpZGVIZWlnaHQsbz1uLnN0cmlkZVdpZHRoLGE9bi5maWx0ZXJIZWlnaHQsaT1uLmZpbHRlcldpZHRoLHM9bi5kaWxhdGlvbkhlaWdodCx1PW4uZGlsYXRpb25XaWR0aCxjPW4uZWZmZWN0aXZlRmlsdGVySGVpZ2h0LGw9bi5lZmZlY3RpdmVGaWx0ZXJXaWR0aCxoPWwtMS1uLnBhZEluZm8ubGVmdCxmPWMtMS1uLnBhZEluZm8udG9wLGQ9ZXIoZS5zaGFwZSxcImZsb2F0MzJcIikscD0xLyhhKmkpLHY9dGhpcy5idWZmZXJTeW5jKHQpLGc9MDtnPG4uYmF0Y2hTaXplOysrZylmb3IodmFyIG09MDttPG4uaW5DaGFubmVsczsrK20pZm9yKHZhciB5PTA7eTxuLmluSGVpZ2h0OysreSlmb3IodmFyIHg9MDt4PG4uaW5XaWR0aDsrK3gpe2Zvcih2YXIgYj15LWYsdz14LWgsQz0wLEU9MDtFPGM7RSs9cyl7dmFyIFI9KGIrRSkvcjtpZighKFI8MHx8Uj49bi5vdXRIZWlnaHR8fE1hdGguZmxvb3IoUikhPT1SKSlmb3IodmFyIEk9MDtJPGw7SSs9dSl7dmFyIGs9KHcrSSkvbztpZighKGs8MHx8az49bi5vdXRXaWR0aHx8TWF0aC5mbG9vcihrKSE9PWspKUMrPXYuZ2V0KGcsUixrLG0pfX1kLnNldChDKnAsZyx5LHgsbSl9cmV0dXJuIGQudG9UZW5zb3IoKX0sby5wcm90b3R5cGUucG9vbDNkPWZ1bmN0aW9uKHQsZSxuKXtkZih0LFwicG9vbDNkXCIpO2Zvcih2YXIgcj1lLnN0cmlkZURlcHRoLG89ZS5zdHJpZGVIZWlnaHQsYT1lLnN0cmlkZVdpZHRoLGk9ZS5kaWxhdGlvbkRlcHRoLHM9ZS5kaWxhdGlvbkhlaWdodCx1PWUuZGlsYXRpb25XaWR0aCxjPWUuZWZmZWN0aXZlRmlsdGVyRGVwdGgsbD1lLmVmZmVjdGl2ZUZpbHRlckhlaWdodCxoPWUuZWZmZWN0aXZlRmlsdGVyV2lkdGgsZj1lLnBhZEluZm8uZnJvbnQsZD1lLnBhZEluZm8udG9wLHA9ZS5wYWRJbmZvLmxlZnQsdj1cIm1heFwiPT09bj9OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGc9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbT1lcihlLm91dFNoYXBlLHQuZHR5cGUpLHk9bS52YWx1ZXMseD1lLm91dFNoYXBlWzFdKmUub3V0U2hhcGVbMl0qZS5vdXRTaGFwZVszXSplLm91dFNoYXBlWzRdLGI9ZS5vdXRTaGFwZVsyXSplLm91dFNoYXBlWzNdKmUub3V0U2hhcGVbNF0sdz1lLm91dFNoYXBlWzNdKmUub3V0U2hhcGVbNF0sQz1lLm91dFNoYXBlWzRdLEU9MDtFPGUuYmF0Y2hTaXplOysrRSlmb3IodmFyIFI9RSp4LEk9RSp0LnN0cmlkZXNbMF0saz0wO2s8ZS5pbkNoYW5uZWxzOysraylmb3IodmFyIFM9MDtTPGUub3V0RGVwdGg7KytTKXtmb3IodmFyIEE9UypyLWYsVD1BO1Q8MDspVCs9aTtmb3IodmFyIEQ9TWF0aC5taW4oZS5pbkRlcHRoLGMrQSksTj1SK1MqYixGPTA7RjxlLm91dEhlaWdodDsrK0Ype2Zvcih2YXIgXz1GKm8tZCxPPV87TzwwOylPKz1zO2Zvcih2YXIgTT1NYXRoLm1pbihlLmluSGVpZ2h0LGwrXyksQj1OK0YqdyxQPTA7UDxlLm91dFdpZHRoOysrUCl7Zm9yKHZhciBMPVAqYS1wLFc9TDtXPDA7KVcrPXU7Zm9yKHZhciBVPU1hdGgubWluKGUuaW5XaWR0aCxoK0wpLFY9QitQKkMsej12LEc9MCxIPTAscT1UO3E8RDtxKz1pKXtmb3IodmFyIEs9SStxKnQuc3RyaWRlc1sxXSxqPU87ajxNO2orPXMpe2Zvcih2YXIgWD1LK2oqdC5zdHJpZGVzWzJdLFk9VztZPFU7WSs9dSl7dmFyICQ9Z1tYK1kqdC5zdHJpZGVzWzNdK2tdO2lmKFwibWF4XCI9PT1uJiYkPno/ej0kOlwiYXZnXCI9PT1uJiYoRys9JCxIKyspLGlzTmFOKHopKWJyZWFrfWlmKGlzTmFOKHopKWJyZWFrfWlmKGlzTmFOKHopKWJyZWFrfXlbVitrXT1cImF2Z1wiPT09bj9HL0g6en19fXJldHVybiBtLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLmF2Z1Bvb2wzZD1mdW5jdGlvbih0LGUpe3JldHVybiBkZih0LFwiYXZnUG9vbDNkXCIpLHRoaXMucG9vbDNkKHQsZSxcImF2Z1wiKS50b0Zsb2F0KCl9LG8ucHJvdG90eXBlLmF2Z1Bvb2wzZEJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXtkZihbdCxlXSxcImF2Z1Bvb2wzZEJhY2twcm9wXCIpO2Zvcih2YXIgcj1uLnN0cmlkZURlcHRoLG89bi5zdHJpZGVIZWlnaHQsYT1uLnN0cmlkZVdpZHRoLGk9bi5maWx0ZXJEZXB0aCxzPW4uZmlsdGVySGVpZ2h0LHU9bi5maWx0ZXJXaWR0aCxjPW4uZGlsYXRpb25EZXB0aCxsPW4uZGlsYXRpb25IZWlnaHQsaD1uLmRpbGF0aW9uV2lkdGgsZj1uLmVmZmVjdGl2ZUZpbHRlckRlcHRoLGQ9bi5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQscD1uLmVmZmVjdGl2ZUZpbHRlcldpZHRoLHY9Zi0xLW4ucGFkSW5mby5mcm9udCxnPXAtMS1uLnBhZEluZm8ubGVmdCxtPWQtMS1uLnBhZEluZm8udG9wLHk9ZXIoZS5zaGFwZSxcImZsb2F0MzJcIikseD0xLyhpKnMqdSksYj10aGlzLmJ1ZmZlclN5bmModCksdz0wO3c8bi5iYXRjaFNpemU7Kyt3KWZvcih2YXIgQz0wO0M8bi5pbkNoYW5uZWxzOysrQylmb3IodmFyIEU9MDtFPG4uaW5EZXB0aDsrK0UpZm9yKHZhciBSPTA7UjxuLmluSGVpZ2h0OysrUilmb3IodmFyIEk9MDtJPG4uaW5XaWR0aDsrK0kpe2Zvcih2YXIgaz1FLXYsUz1SLW0sQT1JLWcsVD0wLEQ9MDtEPGY7RCs9Yyl7dmFyIE49KGsrRCkvcjtpZighKE48MHx8Tj49bi5vdXREZXB0aHx8TWF0aC5mbG9vcihOKSE9PU4pKWZvcih2YXIgRj0wO0Y8ZDtGKz1sKXt2YXIgXz0oUytGKS9vO2lmKCEoXzwwfHxfPj1uLm91dEhlaWdodHx8TWF0aC5mbG9vcihfKSE9PV8pKWZvcih2YXIgTz0wO088cDtPKz1oKXt2YXIgTT0oQStPKS9hO2lmKCEoTTwwfHxNPj1uLm91dFdpZHRofHxNYXRoLmZsb29yKE0pIT09TSkpVCs9Yi5nZXQodyxOLF8sTSxDKX19fXkuc2V0KFQqeCx3LEUsUixJLEMpfXJldHVybiB5LnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLm1heFBvb2wzZD1mdW5jdGlvbih0LGUpe3JldHVybiBkZih0LFwibWF4UG9vbDNkXCIpLHRoaXMucG9vbDNkKHQsZSxcIm1heFwiKS50b0Zsb2F0KCl9LG8ucHJvdG90eXBlLm1heFBvb2wzZFBvc2l0aW9ucz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lcihlLm91dFNoYXBlLFwiaW50MzJcIikscj1lLnN0cmlkZURlcHRoLG89ZS5zdHJpZGVIZWlnaHQsYT1lLnN0cmlkZVdpZHRoLGk9ZS5kaWxhdGlvbkRlcHRoLHM9ZS5kaWxhdGlvbkhlaWdodCx1PWUuZGlsYXRpb25XaWR0aCxjPWUuZWZmZWN0aXZlRmlsdGVyRGVwdGgsbD1lLmVmZmVjdGl2ZUZpbHRlckhlaWdodCxoPWUuZWZmZWN0aXZlRmlsdGVyV2lkdGgsZj1lLnBhZEluZm8uZnJvbnQsZD1lLnBhZEluZm8udG9wLHA9ZS5wYWRJbmZvLmxlZnQsdj10aGlzLmJ1ZmZlclN5bmModCksZz0wO2c8ZS5iYXRjaFNpemU7KytnKWZvcih2YXIgbT0wO208ZS5pbkNoYW5uZWxzOysrbSlmb3IodmFyIHk9MDt5PGUub3V0RGVwdGg7Kyt5KXtmb3IodmFyIHg9eSpyLWYsYj14O2I8MDspYis9aTtmb3IodmFyIHc9TWF0aC5taW4oZS5pbkRlcHRoLGMreCksQz0wO0M8ZS5vdXRIZWlnaHQ7KytDKXtmb3IodmFyIEU9QypvLWQsUj1FO1I8MDspUis9cztmb3IodmFyIEk9TWF0aC5taW4oZS5pbkhlaWdodCxsK0UpLGs9MDtrPGUub3V0V2lkdGg7KytrKXtmb3IodmFyIFM9ayphLXAsQT1TO0E8MDspQSs9dTtmb3IodmFyIFQ9TWF0aC5taW4oZS5pbldpZHRoLGgrUyksRD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksTj0tMSxGPWI7Rjx3O0YrPWkpZm9yKHZhciBfPUYteCxPPVI7TzxJO08rPXMpZm9yKHZhciBNPU8tRSxCPUE7QjxUO0IrPXUpe3ZhciBQPUItUyxMPXYuZ2V0KGcsRixPLEIsbSk7TD49RCYmKEQ9TCxOPV8qbCpoK00qbCtQKX1uLnNldChOLGcseSxDLGssbSl9fX1yZXR1cm4gbi50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5tYXhQb29sM2RCYWNrcHJvcD1mdW5jdGlvbih0LGUsbixyKXtkZihbZSxuXSxcIm1heFBvb2wzZEJhY2twcm9wXCIpO2Zvcih2YXIgbz10aGlzLm1heFBvb2wzZFBvc2l0aW9ucyhlLHIpLGE9ci5zdHJpZGVEZXB0aCxpPXIuc3RyaWRlSGVpZ2h0LHM9ci5zdHJpZGVXaWR0aCx1PXIuZGlsYXRpb25EZXB0aCxjPXIuZGlsYXRpb25IZWlnaHQsbD1yLmRpbGF0aW9uV2lkdGgsaD1yLmVmZmVjdGl2ZUZpbHRlckRlcHRoLGY9ci5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQsZD1yLmVmZmVjdGl2ZUZpbHRlcldpZHRoLHA9aC0xLXIucGFkSW5mby5mcm9udCx2PWQtMS1yLnBhZEluZm8ubGVmdCxnPWYtMS1yLnBhZEluZm8udG9wLG09ZXIoZS5zaGFwZSxcImZsb2F0MzJcIikseT10aGlzLmJ1ZmZlclN5bmMobykseD10aGlzLmJ1ZmZlclN5bmModCksYj0wO2I8ci5iYXRjaFNpemU7KytiKWZvcih2YXIgdz0wO3c8ci5pbkNoYW5uZWxzOysrdylmb3IodmFyIEM9MDtDPHIuaW5EZXB0aDsrK0MpZm9yKHZhciBFPTA7RTxyLmluSGVpZ2h0OysrRSlmb3IodmFyIFI9MDtSPHIuaW5XaWR0aDsrK1Ipe2Zvcih2YXIgST1DLXAsaz1FLWcsUz1SLXYsQT0wLFQ9MDtUPGg7VCs9dSl7dmFyIEQ9KEkrVCkvYTtpZighKEQ8MHx8RD49ci5vdXREZXB0aHx8TWF0aC5mbG9vcihEKSE9PUQpKWZvcih2YXIgTj0wO048ZjtOKz1jKXt2YXIgRj0oaytOKS9pO2lmKCEoRjwwfHxGPj1yLm91dEhlaWdodHx8TWF0aC5mbG9vcihGKSE9PUYpKWZvcih2YXIgXz0wO188ZDtfKz1sKXt2YXIgTz0oUytfKS9zO2lmKCEoTzwwfHxPPj1yLm91dFdpZHRofHxNYXRoLmZsb29yKE8pIT09Tykpe3ZhciBNPWgqZipkLTEteS5nZXQoYixELEYsTyx3KT09PVQqZipkK04qZCtfPzE6MDtpZigwIT09TSlBKz14LmdldChiLEQsRixPLHcpKk19fX19bS5zZXQoQSxiLEMsRSxSLHcpfXJldHVybiBtLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLmNhc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUmEodCxlLHRoaXMpfSxvLnByb3RvdHlwZS5yZXNoYXBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIElhKHQsZSl9LG8ucHJvdG90eXBlLmF2Z1Bvb2w9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZGYodCxcImF2Z1Bvb2xcIiksZGYodCxcIm1heFBvb2xcIikscGYodGhpcy5yZWFkU3luYyh0LmRhdGFJZCksdC5zaGFwZSx0LmR0eXBlLHQuc3RyaWRlcyxlLFwiYXZnXCIpLnRvVGVuc29yKCkudG9GbG9hdCgpfSxvLnByb3RvdHlwZS5yZXNpemVCaWxpbmVhcj1mdW5jdGlvbih0LGUsbixyKXtkZih0LFwicmVzaXplQmlsaW5lYXJcIik7Zm9yKHZhciBvPXQuc2hhcGUsYT1vWzBdLGk9b1sxXSxzPW9bMl0sdT1vWzNdLGM9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbD1uZXcgRmxvYXQzMkFycmF5KGsoW2EsZSxuLHVdKSksaD1bciYmZT4xP2ktMTppLHImJm4+MT9zLTE6c10sZj1bciYmZT4xP2UtMTplLHImJm4+MT9uLTE6bl0sZD0wLHA9aFswXS9mWzBdLHY9aFsxXS9mWzFdLGc9MDtnPGE7ZysrKWZvcih2YXIgbT0wO208ZTttKyspZm9yKHZhciB5PXAqbSx4PU1hdGguZmxvb3IoeSksYj15LXgsdz1NYXRoLm1pbihpLTEsTWF0aC5jZWlsKHkpKSxDPWcqdC5zdHJpZGVzWzBdK3gqdC5zdHJpZGVzWzFdLEU9Zyp0LnN0cmlkZXNbMF0rdyp0LnN0cmlkZXNbMV0sUj0wO1I8bjtSKyspZm9yKHZhciBJPXYqUixTPU1hdGguZmxvb3IoSSksQT1JLVMsVD1NYXRoLm1pbihzLTEsTWF0aC5jZWlsKEkpKSxEPUMrUyp0LnN0cmlkZXNbMl0sTj1FK1MqdC5zdHJpZGVzWzJdLEY9QytUKnQuc3RyaWRlc1syXSxfPUUrVCp0LnN0cmlkZXNbMl0sTz0wO088dTtPKyspe3ZhciBNPWNbRCtPXSxCPWNbTitPXSxQPU0rKGNbRitPXS1NKSpBLEw9UCsoQisoY1tfK09dLUIpKkEtUCkqYjtsW2QrK109TH1yZXR1cm4gRm4obCxbYSxlLG4sdV0pfSxvLnByb3RvdHlwZS5yZXNpemVCaWxpbmVhckJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXtkZihbdCxlXSxcInJlc2l6ZUJpbGluZWFyQmFja3Byb3BcIik7Zm9yKHZhciByPWUuc2hhcGUsbz1yWzBdLGE9clsxXSxpPXJbMl0scz1yWzNdLHU9dC5zaGFwZSxjPXVbMV0sbD11WzJdLGg9bmV3IEZsb2F0MzJBcnJheShvKmEqaSpzKSxmPVtuJiZjPjE/YS0xOmEsbiYmbD4xP2ktMTppXSxkPVtuJiZjPjE/Yy0xOmMsbiYmbD4xP2wtMTpsXSxwPWZbMF0vZFswXSx2PWZbMV0vZFsxXSxnPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG09MCx5PTA7eTxvO3krKylmb3IodmFyIHg9eSplLnN0cmlkZXNbMF0sYj0wO2I8YztiKyspZm9yKHZhciB3PWIqcCxDPU1hdGguZmxvb3IodyksRT1NYXRoLm1pbihNYXRoLmNlaWwodyksYS0xKSxSPXgrQyplLnN0cmlkZXNbMV0sST14K0UqZS5zdHJpZGVzWzFdLGs9dy1DLFM9MS1rLEE9MDtBPGw7QSsrKWZvcih2YXIgVD1BKnYsRD1NYXRoLmZsb29yKFQpLE49TWF0aC5taW4oTWF0aC5jZWlsKFQpLGktMSksRj1ULUQsXz0xLUYsTz1SK0QqZS5zdHJpZGVzWzJdLE09UitOKmUuc3RyaWRlc1syXSxCPUkrRCplLnN0cmlkZXNbMl0sUD1JK04qZS5zdHJpZGVzWzJdLEw9UypfLFc9UypGLFU9aypfLFY9aypGLHo9MDt6PHM7eisrKXt2YXIgRz1nW20rK107aFtPK3pdKz1HKkwsaFtNK3pdKz1HKlcsaFtCK3pdKz1HKlUsaFtQK3pdKz1HKlZ9cmV0dXJuIExuKGgsW28saSxhLHNdLGUuZHR5cGUpfSxvLnByb3RvdHlwZS5yZXNpemVOZWFyZXN0TmVpZ2hib3I9ZnVuY3Rpb24odCxlLG4scil7ZGYodCxcInJlc2l6ZU5lYXJlc3ROZWlnaGJvclwiKTtmb3IodmFyIG89dC5zaGFwZSxhPW9bMF0saT1vWzFdLHM9b1syXSx1PW9bM10sYz10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxsPW5ldyBGbG9hdDMyQXJyYXkoYSplKm4qdSksaD1bciYmZT4xP2ktMTppLHImJm4+MT9zLTE6c10sZj1bciYmZT4xP2UtMTplLHImJm4+MT9uLTE6bl0sZD1oWzBdL2ZbMF0scD1oWzFdL2ZbMV0sdj0wLGc9MDtnPGE7ZysrKWZvcih2YXIgbT1nKnQuc3RyaWRlc1swXSx5PTA7eTxlO3krKylmb3IodmFyIHg9ZCp5LGI9bStNYXRoLm1pbihpLTEscj9NYXRoLnJvdW5kKHgpOk1hdGguZmxvb3IoeCkpKnQuc3RyaWRlc1sxXSx3PTA7dzxuO3crKylmb3IodmFyIEM9cCp3LEU9YitNYXRoLm1pbihzLTEscj9NYXRoLnJvdW5kKEMpOk1hdGguZmxvb3IoQykpKnQuc3RyaWRlc1syXSxSPTA7Ujx1O1IrKyl7dmFyIEk9Y1tFK1JdO2xbdisrXT1JfXJldHVybiBGbihsLFthLGUsbix1XSx0LmR0eXBlKX0sby5wcm90b3R5cGUucmVzaXplTmVhcmVzdE5laWdoYm9yQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4pe2RmKFt0LGVdLFwicmVzaXplTmVhcmVzdE5laWdoYm9yQmFja3Byb3BcIik7Zm9yKHZhciByPWUuc2hhcGUsbz1yWzBdLGE9clsxXSxpPXJbMl0scz1yWzNdLHU9dC5zaGFwZSxjPXVbMV0sbD11WzJdLGg9bmV3IEZsb2F0MzJBcnJheShvKmEqaSpzKSxmPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGQ9W24mJmM+MT9hLTE6YSxuJiZsPjE/aS0xOmldLHA9W24mJmM+MT9jLTE6YyxuJiZsPjE/bC0xOmxdLHY9ZFswXS9wWzBdLGc9ZFsxXS9wWzFdLG09MS92LHk9MS9nLHg9MipNYXRoLmNlaWwobSkrMixiPTIqTWF0aC5jZWlsKHkpKzIsdz0wO3c8bzt3KyspZm9yKHZhciBDPXcqZS5zdHJpZGVzWzBdLEU9MDtFPGE7RSsrKWZvcih2YXIgUj1DK0UqZS5zdHJpZGVzWzFdLEk9TWF0aC5mbG9vcihFKm0pLGs9TWF0aC5mbG9vcihJLXgvMiksUz0wO1M8aTtTKyspZm9yKHZhciBBPVIrUyplLnN0cmlkZXNbMl0sVD1NYXRoLmZsb29yKFMqeSksRD1NYXRoLmZsb29yKFQtYi8yKSxOPTA7TjxzO04rKyl7Zm9yKHZhciBGPTAsXz0wO188eDtfKyspe3ZhciBPPV8raztpZighKE88MHx8Tz49Yykpe3ZhciBNPUMrTyp0LnN0cmlkZXNbMV0sQj1PKnY7aWYoRT09PU1hdGgubWluKGEtMSxuP01hdGgucm91bmQoQik6TWF0aC5mbG9vcihCKSkpZm9yKHZhciBQPTA7UDxiO1ArKyl7dmFyIEw9UCtEO2lmKCEoTDwwfHxMPj1sKSl7dmFyIFc9TStMKnQuc3RyaWRlc1syXSxVPUwqZztTPT09TWF0aC5taW4oaS0xLG4/TWF0aC5yb3VuZChVKTpNYXRoLmZsb29yKFUpKSYmKEYrPWZbVytOXSl9fX19aFtBK05dPUZ9cmV0dXJuIExuKGgsZS5zaGFwZSxlLmR0eXBlKX0sby5wcm90b3R5cGUuYmF0Y2hOb3JtYWxpemF0aW9uPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtkZihbdCxlLG4sbyxhXSxcImJhdGNoTm9ybVwiKTtmb3IodmFyIGk9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscz10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSx1PXRoaXMucmVhZFN5bmMobi5kYXRhSWQpLGM9bz90aGlzLnJlYWRTeW5jKG8uZGF0YUlkKTpuZXcgRmxvYXQzMkFycmF5KFsxXSksbD1hP3RoaXMucmVhZFN5bmMoYS5kYXRhSWQpOm5ldyBGbG9hdDMyQXJyYXkoWzBdKSxoPW5ldyBGbG9hdDMyQXJyYXkoaS5sZW5ndGgpLGY9bC5sZW5ndGgsZD1jLmxlbmd0aCxwPXUubGVuZ3RoLHY9cy5sZW5ndGgsZz0wLG09MCx5PTAseD0wLGI9MDtiPGkubGVuZ3RoOysrYiloW2JdPWxbZysrXSsoaVtiXS1zW20rK10pKmNbeSsrXS9NYXRoLnNxcnQodVt4KytdK3IpLGc+PWYmJihnPTApLG0+PXYmJihtPTApLHk+PWQmJih5PTApLHg+PXAmJih4PTApO3JldHVybiBMbihoLHQuc2hhcGUpfSxvLnByb3RvdHlwZS5sb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbjREPWZ1bmN0aW9uKHQsZSxuLHIsbyl7ZGYodCxcImxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uNERcIik7dmFyIGE9dC5zaGFwZVszXSxpPWEtMSxzPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHU9dC5zaXplLGM9bmV3IEZsb2F0MzJBcnJheSh1KTtmdW5jdGlvbiBsKHQpe2Zvcih2YXIgbj10JWEscj10LW4rTWF0aC5tYXgoMCxuLWUpLG89dC1uK01hdGgubWluKG4rZSxpKSx1PTA7cjw9bztyKyspe3ZhciBjPXNbcl07dSs9YypjfXJldHVybiB1fWZvcih2YXIgaD0wO2g8dTtoKyspe3ZhciBmPWwoaCksZD1zW2hdKk1hdGgucG93KG4rcipmLC1vKTtjW2hdPWR9cmV0dXJuIExuKGMsdC5zaGFwZSl9LG8ucHJvdG90eXBlLkxSTkdyYWQ9ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7ZGYodCxcIkxSTkdyYWRcIik7Zm9yKHZhciBzPXQuc2hhcGVbM10sdT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxjPXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLGw9dGhpcy5yZWFkU3luYyhuLmRhdGFJZCksaD1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksZj10LnNpemUsZD0wO2Q8ZjtkKyspe2Zvcih2YXIgcD1kJXMsdj1kLXArTWF0aC5tYXgoMCxwLXIpLGc9ZC1wK01hdGgubWluKHMscCtyKzEpLG09MCx5PXY7eTxnO3krKyltKz1NYXRoLnBvdyhjW3ldLDIpO209YSptK287Zm9yKHk9djt5PGc7eSsrKXt2YXIgeD0tMiphKmkqY1t5XSpsW2RdL207ZD09PXkmJih4Kz1NYXRoLnBvdyhtLC1pKSkseCo9dVtkXSxoW3ldKz14fX1yZXR1cm4gTG4oaCx0LnNoYXBlKX0sby5wcm90b3R5cGUubXVsdGlub21pYWw9ZnVuY3Rpb24odCxlLG4scil7ZGYodCxcIm11bHRpbm9taWFsXCIpO2Zvcih2YXIgbz1lP3Q6aWEodCksYT1vLnNoYXBlWzBdLGk9by5zaGFwZVsxXSxzPUduKFthLG5dLFwiaW50MzJcIiksdT10aGlzLnJlYWRTeW5jKHMuZGF0YUlkKSxjPXRoaXMucmVhZFN5bmMoby5kYXRhSWQpLGw9MDtsPGE7KytsKXt2YXIgaD1sKmksZj1uZXcgRmxvYXQzMkFycmF5KGktMSk7ZlswXT1jW2hdO2Zvcih2YXIgZD0xO2Q8Zi5sZW5ndGg7KytkKWZbZF09ZltkLTFdK2NbaCtkXTtmb3IodmFyIHA9WXUoci50b1N0cmluZygpKSx2PWwqbixnPTA7ZzxuOysrZyl7dmFyIG09cCgpO3VbditnXT1mLmxlbmd0aDtmb3IodmFyIHk9MDt5PGYubGVuZ3RoO3krKylpZihtPGZbeV0pe3VbditnXT15O2JyZWFrfX19cmV0dXJuIHN9LG8ucHJvdG90eXBlLm9uZUhvdD1mdW5jdGlvbih0LGUsbixyKXtkZih0LFwib25lSG90XCIpO3ZhciBvPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKmUpO28uZmlsbChyKTtmb3IodmFyIGE9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksaT0wO2k8dC5zaXplOysraSlhW2ldPj0wJiZhW2ldPGUmJihvW2kqZSthW2ldXT1uKTtyZXR1cm4gQm4obyxbdC5zaXplLGVdLFwiaW50MzJcIil9LG8ucHJvdG90eXBlLm5vbk1heFN1cHByZXNzaW9uPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIGRmKHQsXCJub25NYXhTdXBwcmVzc2lvblwiKSxPYSh0aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSx0aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSxuLHIsbyl9LG8ucHJvdG90eXBlLmZmdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mZnRCYXRjaCh0LCExKX0sby5wcm90b3R5cGUuaWZmdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mZnRCYXRjaCh0LCEwKX0sby5wcm90b3R5cGUuZmZ0QmF0Y2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5zaGFwZVswXSxyPXQuc2hhcGVbMV0sbz1lcih0LnNoYXBlLFwiZmxvYXQzMlwiKSxhPWVyKHQuc2hhcGUsXCJmbG9hdDMyXCIpLGk9RG4odCkuYXMyRChuLHIpLHM9Tm4odCkuYXMyRChuLHIpLHU9MDt1PG47dSsrKWZvcih2YXIgYz1pLnNsaWNlKFt1LDBdLFsxLHJdKSxsPXMuc2xpY2UoW3UsMF0sWzEscl0pLGg9VG4oYyxsKSxmPXRoaXMucmVhZFN5bmModGhpcy5mZnRJbXBsKGgsZSkuZGF0YUlkKSxkPTA7ZDxyO2QrKyl7dmFyIHA9VGEoZixkKTtvLnZhbHVlc1t1KnIrZF09cC5yZWFsLGEudmFsdWVzW3UqcitkXT1wLmltYWd9cmV0dXJuIFRuKG8udG9UZW5zb3IoKSxhLnRvVGVuc29yKCkpLmFzMkQobixyKX0sby5wcm90b3R5cGUuZmZ0SW1wbD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuYXMxRCgpLHI9bi5zaXplO2lmKHRoaXMuaXNFeHBvbmVudE9mMihyKSl7dmFyIG89dGhpcy5mZnRSYWRpeDIobixyLGUpLmFzMkQodC5zaGFwZVswXSx0LnNoYXBlWzFdKTtyZXR1cm4gZSYmKG89VG4oRG4obykuZGl2KE9uKHIpKSxObihvKS5kaXYoT24ocikpKSksb312YXIgYT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQubGVuZ3RoLzIpLG49bmV3IEZsb2F0MzJBcnJheSh0Lmxlbmd0aC8yKSxyPTA7cjx0Lmxlbmd0aDtyKz0yKWVbci8yXT10W3JdLG5bci8yXT10W3IrMV07cmV0dXJue3JlYWw6ZSxpbWFnOm59fSh0aGlzLmZvdXJpZXJUcmFuc2Zvcm1CeU1hdG11bChhLHIsZSkpO3JldHVybiBUbihpLnJlYWwsaS5pbWFnKS5hczJEKHQuc2hhcGVbMF0sdC5zaGFwZVsxXSl9LG8ucHJvdG90eXBlLmlzRXhwb25lbnRPZjI9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PSh0JnQtMSl9LG8ucHJvdG90eXBlLmZmdFJhZGl4Mj1mdW5jdGlvbih0LGUsbil7aWYoMT09PWUpcmV0dXJuIHQ7dmFyIHI9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbz1lLzIsYT1mdW5jdGlvbih0KXtmb3IodmFyIGU9TWF0aC5jZWlsKHQubGVuZ3RoLzQpLG49bmV3IEZsb2F0MzJBcnJheShlKSxyPW5ldyBGbG9hdDMyQXJyYXkoZSksbz0wO288dC5sZW5ndGg7bys9NCluW01hdGguZmxvb3Ioby80KV09dFtvXSxyW01hdGguZmxvb3Ioby80KV09dFtvKzFdO3JldHVybntyZWFsOm4saW1hZzpyfX0ociksaT1UbihhLnJlYWwsYS5pbWFnKS5hczFEKCkscz1mdW5jdGlvbih0KXtmb3IodmFyIGU9TWF0aC5mbG9vcih0Lmxlbmd0aC80KSxuPW5ldyBGbG9hdDMyQXJyYXkoZSkscj1uZXcgRmxvYXQzMkFycmF5KGUpLG89MjtvPHQubGVuZ3RoO28rPTQpbltNYXRoLmZsb29yKG8vNCldPXRbb10scltNYXRoLmZsb29yKG8vNCldPXRbbysxXTtyZXR1cm57cmVhbDpuLGltYWc6cn19KHIpLHU9VG4ocy5yZWFsLHMuaW1hZykuYXMxRCgpO2k9dGhpcy5mZnRSYWRpeDIoaSxvLG4pLHU9dGhpcy5mZnRSYWRpeDIodSxvLG4pO3ZhciBjPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW5ldyBGbG9hdDMyQXJyYXkodC8yKSxyPW5ldyBGbG9hdDMyQXJyYXkodC8yKSxvPTA7bzxNYXRoLmNlaWwodC8yKTtvKyspe3ZhciBhPShlPzI6LTIpKk1hdGguUEkqKG8vdCk7bltvXT1NYXRoLmNvcyhhKSxyW29dPU1hdGguc2luKGEpfXJldHVybntyZWFsOm4saW1hZzpyfX0oZSxuKSxsPVRuKGMucmVhbCxjLmltYWcpLm11bCh1KSxoPWkuYWRkKGwpLGY9aS5zdWIobCksZD1EbihoKS5jb25jYXQoRG4oZikpLHA9Tm4oaCkuY29uY2F0KE5uKGYpKTtyZXR1cm4gVG4oZCxwKS5hczFEKCl9LG8ucHJvdG90eXBlLmZvdXJpZXJUcmFuc2Zvcm1CeU1hdG11bD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW5ldyBGbG9hdDMyQXJyYXkoMiplKSxvPTA7bzxlO28rKyl7Zm9yKHZhciBhPTAsaT0wLHM9MDtzPGU7cysrKXt2YXIgdT1OYShvKnMsZSxuKSxjPVRhKHQscyk7YSs9Yy5yZWFsKnUucmVhbC1jLmltYWcqdS5pbWFnLGkrPWMucmVhbCp1LmltYWcrYy5pbWFnKnUucmVhbH1uJiYoYS89ZSxpLz1lKSxEYShyLGEsaSxvKX1yZXR1cm4gcn0sby5wcm90b3R5cGUuZGVwdGhUb1NwYWNlPWZ1bmN0aW9uKHQsZSxuKXtDKFwiTkhXQ1wiPT09biwoZnVuY3Rpb24oKXtyZXR1cm5cIk9ubHkgTkhXQyBkYXRhRm9ybWF0IHN1cHBvcnRlZCBvbiBDUFUgZm9yIGRlcHRoVG9TcGFjZS4gR290IFwiK259KSksQyhlPjEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJibG9ja1NpemUgc2hvdWxkIGJlID4gMSBmb3IgZGVwdGhUb1NwYWNlLCBidXQgd2FzOiBcIitlfSkpO2Zvcih2YXIgcj10LnNoYXBlWzBdLG89dC5zaGFwZVsxXSxhPXQuc2hhcGVbMl0saT10LnNoYXBlWzNdLHM9byplLHU9YSplLGM9aS8oZSplKSxsPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGg9bmV3IEZsb2F0MzJBcnJheShyKnMqdSpjKSxmPTAsZD0wO2Q8cjsrK2QpZm9yKHZhciBwPTA7cDxzOysrcClmb3IodmFyIHY9TWF0aC5mbG9vcihwL2UpLGc9cCVlLG09MDttPHU7KyttKWZvcih2YXIgeT1NYXRoLmZsb29yKG0vZSkseD0oZyplK20lZSkqYyxiPTA7YjxjOysrYil7dmFyIHc9Yit4K2kqKHkrYSooditvKmQpKTtoW2YrK109bFt3XX1yZXR1cm4gTG4oaCxbcixzLHUsY10pfSxvLnByb3RvdHlwZS5icm9hZGNhc3RlZEJpbmFyeU9wPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPVByKHQuc2hhcGUsZS5zaGFwZSksYT1lcihvLG4pLGk9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscz10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSx1PU1yKHQuc2hhcGUsbyksYz1NcihlLnNoYXBlLG8pLGw9YS52YWx1ZXM7aWYodS5sZW5ndGgrYy5sZW5ndGg9PT0wKWZvcih2YXIgaD0wO2g8bC5sZW5ndGg7KytoKWxbaF09cihpW2glaS5sZW5ndGhdLHNbaCVzLmxlbmd0aF0pO2Vsc2V7dmFyIGY9dGhpcy5idWZmZXJTeW5jKHQpLGQ9dGhpcy5idWZmZXJTeW5jKGUpLHA9ZnVuY3Rpb24obil7dmFyIG89YS5pbmRleFRvTG9jKG4pLGg9by5zbGljZSgtdC5yYW5rKTt1LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBoW3RdPTB9KSk7dmFyIHA9Zi5sb2NUb0luZGV4KGgpLHY9by5zbGljZSgtZS5yYW5rKTtjLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB2W3RdPTB9KSk7dmFyIGc9ZC5sb2NUb0luZGV4KHYpO2xbbl09cihpW3BdLHNbZ10pfTtmb3IoaD0wO2g8bC5sZW5ndGg7KytoKXAoaCl9cmV0dXJuIGEudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuYnJvYWRjYXN0ZWRCaW5hcnlDb21wbGV4T3A9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVByKHQuc2hhcGUsZS5zaGFwZSksbz1lcihyLFwiZmxvYXQzMlwiKSxhPWVyKHIsXCJmbG9hdDMyXCIpLGk9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscz10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSx1PU1yKHQuc2hhcGUsciksYz1NcihlLnNoYXBlLHIpLGw9by52YWx1ZXMsaD1hLnZhbHVlcztpZih1Lmxlbmd0aCtjLmxlbmd0aD09PTApZm9yKHZhciBmPTA7ZjxsLmxlbmd0aDtmKyspe3ZhciBkPWYlaS5sZW5ndGgscD1mJXMubGVuZ3RoLHY9bihpWzIqZF0saVsyKmQrMV0sc1syKnBdLHNbMipwKzFdKTtsW2ZdPXYucmVhbCxoW2ZdPXYuaW1hZ31lbHNle3ZhciBnPXRoaXMuYnVmZmVyU3luYyh0aGlzLmRhdGEuZ2V0KHQuZGF0YUlkKS5jb21wbGV4VGVuc29ycy5yZWFsKSxtPXRoaXMuYnVmZmVyU3luYyh0aGlzLmRhdGEuZ2V0KGUuZGF0YUlkKS5jb21wbGV4VGVuc29ycy5yZWFsKSx5PWZ1bmN0aW9uKHIpe3ZhciBhPW8uaW5kZXhUb0xvYyhyKSxmPWEuc2xpY2UoLXQucmFuayk7dS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZlt0XT0wfSkpO3ZhciBkPWcubG9jVG9JbmRleChmKSxwPWEuc2xpY2UoLWUucmFuayk7Yy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gcFt0XT0wfSkpO3ZhciB2PW0ubG9jVG9JbmRleChwKSx5PW4oaVsyKmRdLGlbMipkKzFdLHNbMip2XSxzWzIqdisxXSk7bFtyXT15LnJlYWwsaFtyXT15LmltYWd9O2ZvcihmPTA7ZjxsLmxlbmd0aDtmKyspeShmKX1yZXR1cm4gdGhpcy5jb21wbGV4KG8udG9UZW5zb3IoKSxhLnRvVGVuc29yKCkpfSxvLnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFVhKHQsZSxuKX0sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuZmxvYXRQcmVjaXNpb249ZnVuY3Rpb24oKXtyZXR1cm4gMzJ9LG8ucHJvdG90eXBlLmVwc2lsb249ZnVuY3Rpb24oKXtyZXR1cm4gMWUtN30sby5wcm90b3R5cGUuY3JvcEFuZFJlc2l6ZT1mdW5jdGlvbih0LGUsbixyLG8sYSl7Zm9yKHZhciBpPXQuc2hhcGUscz1pWzBdLHU9aVsxXSxjPWlbMl0sbD1pWzNdLGg9ZS5zaGFwZVswXSxmPXJbMF0sZD1yWzFdLHA9ZXIoW2gsZixkLGxdLFwiZmxvYXQzMlwiKSx2PXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLGc9dGhpcy5yZWFkU3luYyhuLmRhdGFJZCksbT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSx5PXQuc3RyaWRlcyx4PXAuc3RyaWRlcyxiPTA7YjxoO2IrKyl7dmFyIHc9NCpiLEM9dlt3XSxFPXZbdysxXSxSPXZbdysyXSxJPXZbdyszXSxrPWdbYl07aWYoIShrPj1zKSlmb3IodmFyIFM9Zj4xPyhSLUMpKih1LTEpLyhmLTEpOjAsQT1kPjE/KEktRSkqKGMtMSkvKGQtMSk6MCxUPTA7VDxmO1QrKyl7dmFyIEQ9Zj4xP0MqKHUtMSkrVCpTOi41KihDK1IpKih1LTEpO2lmKEQ8MHx8RD51LTEpZm9yKHZhciBOPTA7TjxkO04rKylmb3IodmFyIEY9MDtGPGw7RisrKXt2YXIgXz1GK04qeFsyXStUKnhbMV0rYip4WzBdO3AudmFsdWVzW19dPWF9ZWxzZSBpZihcImJpbGluZWFyXCI9PT1vKXt2YXIgTz1NYXRoLmZsb29yKEQpLE09TWF0aC5jZWlsKEQpLEI9RC1PO2ZvcihOPTA7TjxkO04rKyl7aWYoKHE9ZD4xP0UqKGMtMSkrTipBOi41KihFK0kpKihjLTEpKTwwfHxxPmMtMSlmb3IoRj0wO0Y8bDtGKyspe189RitOKnhbMl0rVCp4WzFdK2IqeFswXTtwLnZhbHVlc1tfXT1hfWVsc2V7dmFyIFA9TWF0aC5mbG9vcihxKSxMPU1hdGguY2VpbChxKSxXPXEtUDtmb3IoRj0wO0Y8bDtGKyspe3ZhciBVPW1bXz1GK1AqeVsyXStPKnlbMV0rayp5WzBdXSxWPW1bXz1GK0wqeVsyXStPKnlbMV0rayp5WzBdXSx6PW1bXz1GK1AqeVsyXStNKnlbMV0rayp5WzBdXSxHPVUrKFYtVSkqVyxIPXorKG1bXz1GK0wqeVsyXStNKnlbMV0rayp5WzBdXS16KSpXO189RitOKnhbMl0rVCp4WzFdK2IqeFswXSxwLnZhbHVlc1tfXT1HKyhILUcpKkJ9fX19ZWxzZSBmb3IoTj0wO048ZDsrK04pe3ZhciBxO2lmKChxPWQ+MT9FKihjLTEpK04qQTouNSooRStJKSooYy0xKSk8MHx8cT5jLTEpZm9yKEY9MDtGPGw7RisrKXtfPUYrTip4WzJdK1QqeFsxXStiKnhbMF07cC52YWx1ZXNbX109YX1lbHNle3ZhciBLPU1hdGgucm91bmQocSksaj1NYXRoLnJvdW5kKEQpO2ZvcihGPTA7RjxsO0YrKyl7dmFyIFg9RitLKnlbMl0raip5WzFdK2sqeVswXSxZPUYrTip4WzJdK1QqeFsxXStiKnhbMF07cC52YWx1ZXNbWV09bVtYXX19fX19cmV0dXJuIHAudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuc3BhcnNlVG9EZW5zZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1HbygwLHQsbiksYT1vLnNsaWNlUmFuayxpPW8ubnVtVXBkYXRlcyxzPW8uc2xpY2VTaXplLHU9by5zdHJpZGVzLGM9by5vdXRwdXRTaXplO3JldHVybiB0aGlzLnNjYXR0ZXIodCxlLG4sYyxzLGksYSx1LHIsITEpfSxvLnByb3RvdHlwZS5nYXRoZXJORD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuc2hhcGUscj1uW24ubGVuZ3RoLTFdLG89UG8odCxlKSxhPW9bMF0saT1vWzFdLHM9b1syXSx1PW9bM107aWYoMD09PWkpcmV0dXJuIEZuKFtdLGEsdC5kdHlwZSk7Zm9yKHZhciBjPW5ldyBtdChbaSxzXSx0LmR0eXBlKSxsPXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLGg9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksZj0wO2Y8aTtmKyspe2Zvcih2YXIgZD1bXSxwPTAsdj0wO3Y8cjt2Kyspe3ZhciBnPWxbZipyK3ZdO3ArPWcqdVt2XSxkLnB1c2goZyl9aWYocDwwfHxwPj10LnNpemUvcyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGluZGljZXM6IFwiK2QrXCIgZG9lcyBub3QgaW5kZXggaW50byBcIit0LnNoYXBlKTtmb3IodmFyIG09MDttPHM7bSsrKWMudmFsdWVzW2YqcyttXT1oW3AqcyttXX1yZXR1cm4gYy50b1RlbnNvcigpLnJlc2hhcGUoYSl9LG8ucHJvdG90eXBlLnNjYXR0ZXJORD1mdW5jdGlvbih0LGUsbil7dmFyIHI9R28oMCx0LG4pLG89ci5zbGljZVJhbmssYT1yLm51bVVwZGF0ZXMsaT1yLnNsaWNlU2l6ZSxzPXIuc3RyaWRlcyx1PXIub3V0cHV0U2l6ZSxjPU9uKDApO3JldHVybiB0aGlzLnNjYXR0ZXIodCxlLG4sdSxpLGEsbyxzLGMsITApfSxvLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1QKG49bnx8aihlKSxrKHQpKTtyZXR1cm4gci5maWxsKGUpLEx0Lm1ha2VUZW5zb3Iocix0LG4sdGhpcyl9LG8ucHJvdG90eXBlLm9uZXNMaWtlPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PT10LmR0eXBlKXRocm93IG5ldyBFcnJvcihcIm9uZXNMaWtlIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHN0cmluZyB0ZW5zb3JzXCIpO3JldHVybiB0aGlzLmZpbGwodC5zaGFwZSwxLHQuZHR5cGUpfSxvLnByb3RvdHlwZS56ZXJvc0xpa2U9ZnVuY3Rpb24odCl7dmFyIGU9UCh0LmR0eXBlLGsodC5zaGFwZSkpO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLHQuZHR5cGUpfSxvLnByb3RvdHlwZS5saW5zcGFjZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGthKHQsZSxuKX0sby5wcm90b3R5cGUuc2NhdHRlcj1mdW5jdGlvbih0LGUsbixyLG8sYSxpLHMsdSxjKXt2YXIgbD1bci9vLG9dLGg9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksZj10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKTtpZigwPT09cilyZXR1cm4gRm4oW10sbixlLmR0eXBlKTt2YXIgZD1uZXcgbXQobCxlLmR0eXBlKTtkLnZhbHVlcy5maWxsKHRoaXMucmVhZFN5bmModS5kYXRhSWQpWzBdKTtmb3IodmFyIHA9MDtwPGE7cCsrKXtmb3IodmFyIHY9W10sZz0wLG09MDttPGk7bSsrKXt2YXIgeT1oW3AqaSttXTt2LnB1c2goeSksZys9eSpzW21dfWlmKGc8MHx8Zz49ci9vKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5kaWNlczogXCIrditcIiBkb2VzIG5vdCBpbmRleCBpbnRvIFwiK24pO2Zvcih2YXIgeD0wO3g8bzt4KyspYz9kLnZhbHVlc1tnKm8reF0rPWZbcCpvK3hdOmQudmFsdWVzW2cqbyt4XT0wPT09ZS5yYW5rP2ZbMF06ZltwKm8reF19cmV0dXJuIGQudG9UZW5zb3IoKS5yZXNoYXBlKG4pfSxvfShsYSk7ZnVuY3Rpb24geWYodCxlKXtyZXR1cm57a2VybmVsTmFtZTp0LGJhY2tlbmROYW1lOlwiY3B1XCIsa2VybmVsRnVuYzpmdW5jdGlvbihuKXt2YXIgcj1uLmlucHV0cyxvPW4uYmFja2VuZCxhPXIsaT1hLmEscz1hLmIsdT1vO2RmKFtpLHNdLHQpO3ZhciBjPXUuZGF0YS5nZXQoaS5kYXRhSWQpLnZhbHVlcyxsPXUuZGF0YS5nZXQocy5kYXRhSWQpLnZhbHVlcyxoPWUoaS5zaGFwZSxzLnNoYXBlLGMsbCxpLmR0eXBlKSxmPWhbMF0sZD1oWzFdO3JldHVybntkYXRhSWQ6dS53cml0ZShmLGQsaS5kdHlwZSksc2hhcGU6ZCxkdHlwZTppLmR0eXBlfX19fWZ1bmN0aW9uIHhmKHQpe3JldHVybiBmdW5jdGlvbihlLG4scixvLGEpe3ZhciBpPVByKGUsbikscz1pLmxlbmd0aCx1PSQoaSksYz1CKGEsayhpKSksbD1lLmxlbmd0aCxoPW4ubGVuZ3RoLGY9JChlKSxkPSQobikscD1NcihlLGkpLHY9TXIobixpKTtpZihwLmxlbmd0aCt2Lmxlbmd0aD09PTApZm9yKHZhciBnPTA7ZzxjLmxlbmd0aDsrK2cpY1tnXT10KHJbZyVyLmxlbmd0aF0sb1tnJW8ubGVuZ3RoXSk7ZWxzZXt2YXIgbT1mdW5jdGlvbihlKXt2YXIgbj1pdChlLHMsdSksYT1uLnNsaWNlKC1sKTtwLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBhW3RdPTB9KSk7dmFyIGk9YXQoYSxsLGYpLGc9bi5zbGljZSgtaCk7di5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZ1t0XT0wfSkpO3ZhciBtPWF0KGcsaCxkKTtjW2VdPXQocltpXSxvW21dKX07Zm9yKGc9MDtnPGMubGVuZ3RoOysrZyltKGcpfXJldHVybltjLGldfX1MdC5yZWdpc3RlckJhY2tlbmQoXCJjcHVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG1mfSksMSk7dmFyIGJmPXhmKChmdW5jdGlvbih0LGUpe3JldHVybiB0L2V9KSksd2Y9eWYod3IsYmYpO3ZhciBDZj17a2VybmVsTmFtZTpcIk1heFBvb2xXaXRoQXJnbWF4XCIsYmFja2VuZE5hbWU6XCJjcHVcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5hdHRycyxyPXQuYmFja2VuZCxvPWUueCxhPW4saT1hLmZpbHRlclNpemUscz1hLnN0cmlkZXMsdT1hLnBhZCxjPWEuaW5jbHVkZUJhdGNoSW5JbmRleCxsPXI7ZGYobyxcIk1heFBvb2xXaXRoQXJnbWF4XCIpO3ZhciBoPWwuZGF0YS5nZXQoby5kYXRhSWQpLnZhbHVlcyxmPWZhKG8uc2hhcGUsaSxzLFsxLDFdLHUpLGQ9ZnVuY3Rpb24odCxlLG4scixvKXt2YXIgYT1wZih0LDAsbiwkKGUpLG8sXCJtYXhcIiksaT12Zih0LGUsbixvLCEwLHIpO3JldHVyblthLnZhbHVlcyxpLnZhbHVlc119KGgsby5zaGFwZSxvLmR0eXBlLGMsZikscD1kWzBdLHY9ZFsxXSxnPWwud3JpdGUocCxmLm91dFNoYXBlLG8uZHR5cGUpLG09bC53cml0ZSh2LGYub3V0U2hhcGUsby5kdHlwZSk7cmV0dXJuW3tkYXRhSWQ6ZyxzaGFwZTpmLm91dFNoYXBlLGR0eXBlOm8uZHR5cGV9LHtkYXRhSWQ6bSxzaGFwZTpmLm91dFNoYXBlLGR0eXBlOlwiaW50MzJcIn1dfX0sRWY9e2tlcm5lbE5hbWU6XCJOb25NYXhTdXBwcmVzc2lvblY1XCIsYmFja2VuZE5hbWU6XCJjcHVcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5iYWNrZW5kLHI9dC5hdHRycyxvPWUsYT1vLmJveGVzLGk9by5zY29yZXMscz1yLHU9cy5tYXhPdXRwdXRTaXplLGM9cy5pb3VUaHJlc2hvbGQsbD1zLnNjb3JlVGhyZXNob2xkLGg9cy5zb2Z0Tm1zU2lnbWEsZj1uO2RmKGEsXCJOb25NYXhTdXBwcmVzc2lvbldpdGhTY29yZVwiKTt2YXIgZD1NYShmLmRhdGEuZ2V0KGEuZGF0YUlkKS52YWx1ZXMsZi5kYXRhLmdldChpLmRhdGFJZCkudmFsdWVzLHUsYyxsLGgpO3JldHVybltkLnNlbGVjdGVkSW5kaWNlcyxkLnNlbGVjdGVkU2NvcmVzXX19LFJmPXtrZXJuZWxOYW1lOlwiU3F1YXJlXCIsYmFja2VuZE5hbWU6XCJjcHVcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5iYWNrZW5kLHI9ZS54LG89bjtkZihyLFwic3F1YXJlXCIpO2Zvcih2YXIgYT1vLmRhdGEuZ2V0KHIuZGF0YUlkKS52YWx1ZXMsaT1uZXcgRmxvYXQzMkFycmF5KGEubGVuZ3RoKSxzPTA7czxhLmxlbmd0aDsrK3Mpe3ZhciB1PWFbc107aVtzXT11KnV9cmV0dXJue2RhdGFJZDpvLndyaXRlKGksci5zaGFwZSxyLmR0eXBlKSxzaGFwZTpyLnNoYXBlLGR0eXBlOnIuZHR5cGV9fX0sSWY9eGYoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC1lO3JldHVybiBuKm59KSk7ZnVuY3Rpb24ga2YodCxlLG4scixvKXtmb3IodmFyIGE9ayhlKSxpPWUubGVuZ3RoLHM9JChlKSx1PSQobyksYz1CKG4sayhvKSksbD0wO2w8YTsrK2wpe2Zvcih2YXIgaD1pdChsLGkscyksZj1uZXcgQXJyYXkoaC5sZW5ndGgpLGQ9MDtkPGYubGVuZ3RoO2QrKylmW2RdPWhbcltkXV07Y1thdChmLGksdSldPXRbbF19cmV0dXJuIGN9Zm9yKHZhciBTZj0wLEFmPVtFZixSZix5ZihFcixJZiksd2Yse2tlcm5lbE5hbWU6XCJUcmFuc3Bvc2VcIixiYWNrZW5kTmFtZTpcImNwdVwiLGtlcm5lbEZ1bmM6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbnB1dHMsbj10LmF0dHJzLHI9dC5iYWNrZW5kLG89ZS54LGE9bi5wZXJtLGk9cjtkZihvLFwidHJhbnNwb3NlXCIpO2Zvcih2YXIgcz1vLnNoYXBlLmxlbmd0aCx1PW5ldyBBcnJheShzKSxjPTA7Yzx1Lmxlbmd0aDtjKyspdVtjXT1vLnNoYXBlW2FbY11dO3ZhciBsPWtmKGkuZGF0YS5nZXQoby5kYXRhSWQpLnZhbHVlcyxvLnNoYXBlLG8uZHR5cGUsYSx1KTtyZXR1cm57ZGF0YUlkOmkud3JpdGUobCx1LG8uZHR5cGUpLHNoYXBlOnUsZHR5cGU6by5kdHlwZX19fSxDZl07U2Y8QWYubGVuZ3RoO1NmKyspe2QoQWZbU2ZdKX12YXIgVGYsRGY9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl07dmFyIGU9WWEoKSxuPXRbMF0scj10WzFdO3RoaXMub3V0cHV0U2hhcGU9dCx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzMgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgdGV4UiA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCB0ZXhDID0gY29vcmRzWzFdO1xcbiAgICAgICAgaW50IGRlcHRoID0gY29vcmRzWzJdO1xcbiAgICAgICAgdmVjMiB1diA9ICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvIHZlYzIoXCIrcitcIi4wLCBcIituK1wiLjApO1xcblxcbiAgICAgICAgdmVjNCB2YWx1ZXMgPSBcIitlLnRleHR1cmUyRCtcIihBLCB1dik7XFxuICAgICAgICBmbG9hdCB2YWx1ZTtcXG4gICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XFxuICAgICAgICAgIHZhbHVlID0gdmFsdWVzLnI7XFxuICAgICAgICB9IGVsc2UgaWYgKGRlcHRoID09IDEpIHtcXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZXMuZztcXG4gICAgICAgIH0gZWxzZSBpZiAoZGVwdGggPT0gMikge1xcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlcy5iO1xcbiAgICAgICAgfSBlbHNlIGlmIChkZXB0aCA9PSAzKSB7XFxuICAgICAgICAgIHZhbHVlID0gdmFsdWVzLmE7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBzZXRPdXRwdXQoZmxvb3IodmFsdWUgKiAyNTUuMCArIDAuNSkpO1xcbiAgICAgIH1cXG4gICAgXCJ9LE5mPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdLHRoaXMucGFja2VkSW5wdXRzPSExLHRoaXMucGFja2VkT3V0cHV0PSEwO3ZhciBlPVlhKCksbj10WzBdLHI9dFsxXTt0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMzIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IHRleFIgPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgdGV4QyA9IGNvb3Jkc1sxXTtcXG4gICAgICAgIGludCBkZXB0aCA9IGNvb3Jkc1syXTtcXG5cXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gdmVjNCgwLik7XFxuXFxuICAgICAgICBmb3IoaW50IHJvdz0wOyByb3c8PTE7IHJvdysrKSB7XFxuICAgICAgICAgIGZvcihpbnQgY29sPTA7IGNvbDw9MTsgY29sKyspIHtcXG4gICAgICAgICAgICB0ZXhDID0gY29vcmRzWzFdICsgcm93O1xcbiAgICAgICAgICAgIGRlcHRoID0gY29vcmRzWzJdICsgY29sO1xcblxcbiAgICAgICAgICAgIHZlYzIgdXYgPSAodmVjMih0ZXhDLCB0ZXhSKSArIGhhbGZDUikgL1xcbiAgICAgICAgICAgICAgICAgICAgICAgdmVjMihcIityK1wiLjAsIFwiK24rXCIuMCk7XFxuICAgICAgICAgICAgdmVjNCB2YWx1ZXMgPSBcIitlLnRleHR1cmUyRCtcIihBLCB1dik7XFxuICAgICAgICAgICAgZmxvYXQgdmFsdWU7XFxuICAgICAgICAgICAgaWYgKGRlcHRoID09IDApIHtcXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzLnI7XFxuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXB0aCA9PSAxKSB7XFxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlcy5nO1xcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVwdGggPT0gMikge1xcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXMuYjtcXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlcHRoID09IDMpIHtcXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzLmE7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIHJlc3VsdFtyb3cgKiAyICsgY29sXSA9IGZsb29yKHZhbHVlICogMjU1LjAgKyAwLjUpO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICBcIitlLm91dHB1dCtcIiA9IHJlc3VsdDtcXG4gICAgICB9XFxuICAgIFwifTt2YXIgRmY9ZnVuY3Rpb24odCxlKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXTtmb3IodmFyIG49bmV3IEFycmF5KHQubGVuZ3RoKSxyPTA7cjxuLmxlbmd0aDtyKyspbltyXT10W2Vbcl1dO3RoaXMub3V0cHV0U2hhcGU9bix0aGlzLnJhbms9bi5sZW5ndGg7dmFyIG89dWkodGhpcy5yYW5rKSxhPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoO2lmKGU+Nil0aHJvdyBFcnJvcihcIlRyYW5zcG9zZSBmb3IgcmFuayBcIitlK1wiIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpO2Zvcih2YXIgbj1bXCJyZXNSQy54XCIsXCJyZXNSQy55XCIsXCJyZXNSQy56XCIsXCJyZXNSQy53XCIsXCJyZXNSQy51XCIsXCJyZXNSQy52XCJdLHI9bmV3IEFycmF5KGUpLG89MDtvPHQubGVuZ3RoO28rKylyW3Rbb11dPW5bb107cmV0dXJuIHIuam9pbigpfShlKTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICBcIitvK1wiIHJlc1JDID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgc2V0T3V0cHV0KGdldEEoXCIrYStcIikpO1xcbiAgICB9XFxuICAgIFwifTt2YXIgX2Y9ZnVuY3Rpb24odCxlKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMCx0aGlzLnBhY2tlZE91dHB1dD0hMDtmb3IodmFyIG49bmV3IEFycmF5KHQubGVuZ3RoKSxyPTA7cjxuLmxlbmd0aDtyKyspbltyXT10W2Vbcl1dO2lmKHRoaXMub3V0cHV0U2hhcGU9bix0aGlzLnJhbms9bi5sZW5ndGgsdGhpcy5yYW5rPjYpdGhyb3cgRXJyb3IoXCJQYWNrZWQgdHJhbnNwb3NlIGZvciByYW5rIFwiK3RoaXMucmFuaytcIiBpcyBub3QgeWV0IHN1cHBvcnRlZC5cIik7dmFyIG89dWkodGhpcy5yYW5rKSxhPWphKFwicmNcIix0aGlzLnJhbmspLGk9bmV3IEFycmF5KHRoaXMucmFuayk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKylpW2Vbcl1dPWFbcl07dmFyIHM9XCJ2ZWMyKFwiK2kuc2xpY2UoLTIpLmpvaW4oKStcIilcIix1PVwiKytcIithW3RoaXMucmFuay0xXStcIiA8IFwiK25bdGhpcy5yYW5rLTFdLGM9XCJnZXRDaGFubmVsKGdldEEoXCIraS5qb2luKCkrXCIpLCBcIitzK1wiKVwiO3RoaXMudXNlckNvZGU9XCJcXG4gICAgdm9pZCBtYWluKCkge1xcbiAgICAgIFwiK28rXCIgcmMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMC4pO1xcbiAgICAgIHJlc3VsdFswXSA9IFwiK2MrXCI7XFxuICAgICAgaWYoXCIrdStcIikge1xcbiAgICAgICAgcmVzdWx0WzFdID0gXCIrYytcIjtcXG4gICAgICB9XFxuICAgICAgLS1cIithW3RoaXMucmFuay0xXStcIjtcXG4gICAgICBpZigrK1wiK2FbdGhpcy5yYW5rLTJdK1wiIDwgXCIrblt0aGlzLnJhbmstMl0rXCIpIHtcXG4gICAgICAgIHJlc3VsdFsyXSA9IFwiK2MrXCI7XFxuICAgICAgICBpZihcIit1K1wiKSB7XFxuICAgICAgICAgIHJlc3VsdFszXSA9IFwiK2MrXCI7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICB9XFxuICAgIFwifTtmb3IodmFyIE9mPTAsTWY9W3trZXJuZWxOYW1lOlwiRnJvbVBpeGVsc1wiLGJhY2tlbmROYW1lOlwid2ViZ2xcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5iYWNrZW5kLHI9dC5hdHRycyxvPWUucGl4ZWxzLGE9ci5udW1DaGFubmVscyxzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBIVE1MVmlkZW9FbGVtZW50JiZvIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCx1PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50JiZvIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCxjPXM/W28udmlkZW9XaWR0aCxvLnZpZGVvSGVpZ2h0XTpbby53aWR0aCxvLmhlaWdodF0sbD1jWzBdLGg9Y1sxXSxmPVtoLGxdLGQ9W2gsbCxhXTsodXx8cykmJihudWxsPT1UZiYmKFRmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIjJkXCIpKSxUZi5jYW52YXMud2lkdGg9bCxUZi5jYW52YXMuaGVpZ2h0PWgsVGYuZHJhd0ltYWdlKG8sMCwwLGwsaCksbz1UZi5jYW52YXMpO3ZhciBwPW4ubWFrZVRlbnNvckluZm8oZixcImludDMyXCIpO24udGV4RGF0YS5nZXQocC5kYXRhSWQpLnVzYWdlPXp0LlBJWEVMUyxuLmdwZ3B1LnVwbG9hZFBpeGVsRGF0YVRvVGV4dHVyZShuLmdldFRleHR1cmUocC5kYXRhSWQpLG8pO3ZhciB2PWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS1wiKT9uZXcgTmYoZCk6bmV3IERmKGQpLGc9bi5ydW5XZWJHTFByb2dyYW0odixbcF0sXCJpbnQzMlwiKTtyZXR1cm4gbi5kaXNwb3NlRGF0YShwLmRhdGFJZCksZ319LHtrZXJuZWxOYW1lOndyLGJhY2tlbmROYW1lOlwid2ViZ2xcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5iYWNrZW5kLHI9ZTtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBSaShDaSx0LnNoYXBlLGUuc2hhcGUpO3JldHVybiBpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQklOQVJZX09QRVJBVElPTlNcIikmJihyPW5ldyBTaShJaSx0LnNoYXBlLGUuc2hhcGUsITApKSxuLnJ1bldlYkdMUHJvZ3JhbShyLFt0LGVdLFwiZmxvYXQzMlwiKX0oci5hLHIuYixuKX19LHtrZXJuZWxOYW1lOlwiTm9uTWF4U3VwcHJlc3Npb25WNVwiLGJhY2tlbmROYW1lOlwid2ViZ2xcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5iYWNrZW5kLHI9dC5hdHRycztkbihcInRmLm5vbk1heFN1cHByZXNzaW9uKCkgaW4gd2ViZ2wgbG9ja3MgdGhlIFVJIHRocmVhZC4gQ2FsbCB0Zi5ub25NYXhTdXBwcmVzc2lvbkFzeW5jKCkgaW5zdGVhZFwiKTt2YXIgbz1lLGE9by5ib3hlcyxpPW8uc2NvcmVzLHM9cix1PXMubWF4T3V0cHV0U2l6ZSxjPXMuaW91VGhyZXNob2xkLGw9cy5zY29yZVRocmVzaG9sZCxoPXMuc29mdE5tc1NpZ21hLGY9bixkPU1hKGYucmVhZFN5bmMoYS5kYXRhSWQpLGYucmVhZFN5bmMoaS5kYXRhSWQpLHUsYyxsLGgpO3JldHVybltkLnNlbGVjdGVkSW5kaWNlcyxkLnNlbGVjdGVkU2NvcmVzXX19LHtrZXJuZWxOYW1lOlwiU3F1YXJlXCIsYmFja2VuZE5hbWU6XCJ3ZWJnbFwiLGtlcm5lbEZ1bmM6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbnB1dHMsbj10LmJhY2tlbmQscj1lLngsbz1uLGE9bmV3IGN1KHIuc2hhcGUsXCJyZXR1cm4geCAqIHg7XCIpO3JldHVybiBvLnJ1bldlYkdMUHJvZ3JhbShhLFtyXSxyLmR0eXBlKX19LHtrZXJuZWxOYW1lOkVyLGJhY2tlbmROYW1lOlwid2ViZ2xcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5iYWNrZW5kLHI9ZSxvPXIuYSxhPXIuYixzPW4sdT1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQklOQVJZX09QRVJBVElPTlNcIik/bmV3IFNpKFwicmV0dXJuIChhIC0gYikgKiAoYSAtIGIpO1wiLG8uc2hhcGUsYS5zaGFwZSk6bmV3IFJpKFwicmV0dXJuIChhIC0gYikgKiAoYSAtIGIpO1wiLG8uc2hhcGUsYS5zaGFwZSk7cmV0dXJuIHMuY29tcGlsZUFuZFJ1bih1LFtvLGFdKX19LHtrZXJuZWxOYW1lOlwiVHJhbnNwb3NlXCIsYmFja2VuZE5hbWU6XCJ3ZWJnbFwiLGtlcm5lbEZ1bmM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dC5pbnB1dHMscj10LmF0dHJzLG89dC5iYWNrZW5kLGE9bi54LHM9ci5wZXJtLHU9byxjPWEuc2hhcGUubGVuZ3RoLGw9bmV3IEFycmF5KGMpLGg9MDtoPGwubGVuZ3RoO2grKylsW2hdPWEuc2hhcGVbc1toXV07aWYodS5zaG91bGRFeGVjdXRlT25DUFUoW2FdKSl7dmFyIGY9a2YodS50ZXhEYXRhLmdldChhLmRhdGFJZCkudmFsdWVzLGEuc2hhcGUsYS5kdHlwZSxzLGwpO2U9dS5tYWtlVGVuc29ySW5mbyhsLGEuZHR5cGUpLHUudGV4RGF0YS5nZXQoZS5kYXRhSWQpLnZhbHVlcz1mfWVsc2UgZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0FSUkFZX09QRVJBVElPTlNcIik/bmV3IF9mKHQuc2hhcGUsZSk6bmV3IEZmKHQuc2hhcGUsZSk7cmV0dXJuIG4ucnVuV2ViR0xQcm9ncmFtKHIsW3RdLHQuZHR5cGUpfShhLHMsdSk7cmV0dXJuIGV9fSx7a2VybmVsTmFtZTpcIk1heFBvb2xXaXRoQXJnbWF4XCIsYmFja2VuZE5hbWU6XCJ3ZWJnbFwiLGtlcm5lbEZ1bmM6ZnVuY3Rpb24odCl7dmFyIGU9dC5pbnB1dHMsbj10LmF0dHJzLHI9dC5iYWNrZW5kLG89ZS54LGE9bixpPWEuZmlsdGVyU2l6ZSxzPWEuc3RyaWRlcyx1PWEucGFkLGM9YS5pbmNsdWRlQmF0Y2hJbkluZGV4LGw9cjtDKDQ9PT1vLnNoYXBlLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2w6IGlucHV0IG11c3QgYmUgcmFuayA0IGJ1dCBnb3QgcmFuayBcIitvLnNoYXBlLmxlbmd0aCtcIi5cIn0pKTt2YXIgaD1bMSwxXTtDKENhKHMsaCksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXhQb29sOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIitzK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK2grXCInXCJ9KSk7dmFyIGY9ZmEoby5zaGFwZSxpLHMsaCx1KSxkPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPW5ldyBXcyhuLFwibWF4XCIsITEpLGE9ci5ydW5XZWJHTFByb2dyYW0obyxbdF0sXCJmbG9hdDMyXCIpO3JldHVybiBvPW5ldyBXcyhuLFwibWF4XCIsITAsITAsZSksW2Esci5ydW5XZWJHTFByb2dyYW0obyxbdF0sXCJmbG9hdDMyXCIpXX0obyxjLGYsbCk7cmV0dXJuW2RbMF0sZFsxXV19fV07T2Y8TWYubGVuZ3RoO09mKyspe2QoTWZbT2ZdKX1mb3IodmFyIEJmPTAsUGY9W3trZXJuZWxOYW1lOnhyLGlucHV0c1RvU2F2ZTpbXCJhXCIsXCJiXCJdLGdyYWRGdW5jOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0sbz1QcihuLnNoYXBlLHIuc2hhcGUpO3JldHVybnthOmZ1bmN0aW9uKCl7dmFyIGU9dCxyPUJyKG4uc2hhcGUsbyk7cmV0dXJuIHIubGVuZ3RoPjAmJihlPWUuc3VtKHIpKSxlLnJlc2hhcGUobi5zaGFwZSl9LGI6ZnVuY3Rpb24oKXt2YXIgZT10LG49QnIoci5zaGFwZSxvKTtyZXR1cm4gbi5sZW5ndGg+MCYmKGU9ZS5zdW0obikpLGUucmVzaGFwZShyLnNoYXBlKX19fX0se2tlcm5lbE5hbWU6XCJBZGROXCIsc2F2ZUFsbElucHV0czohMCxncmFkRnVuYzpmdW5jdGlvbih0LGUpe3ZhciBuPXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUscil7bltyXT1mdW5jdGlvbigpe3JldHVybiB0LmNsb25lKCl9fSkpLG59fSx7a2VybmVsTmFtZTpTcixncmFkRnVuYzpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW4sbz1yLmlucHV0U2hhcGUsYT1yLnNoYXBlLGk9QXJyYXkuZnJvbShhKSxzPW8ubGVuZ3RoLTE7cz49MDtzLS0paWYob1tzXT09PWFbc10paVtzXT0xO2Vsc2UgaWYoMSE9PW9bc10pdGhyb3cgbmV3IEVycm9yKFwiYnJvYWRjYXN0VG8oKTogW1wiK28rXCJdIGNhbm5vdCBiZSBicm9hZGNhc3QgdG8gW1wiK2ErXCJdLlwiKTt2YXIgdT1bXTtmb3Iocz0wO3M8aS5sZW5ndGg7cysrKWlbc10+MSYmdS5wdXNoKHMpO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuc3VtKHUsITApfX19fSx7a2VybmVsTmFtZTp3cixpbnB1dHNUb1NhdmU6W1wiYVwiLFwiYlwiXSxncmFkRnVuYzpmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF0scj1lWzFdLG89UHIobi5zaGFwZSxyLnNoYXBlKTtyZXR1cm57YTpmdW5jdGlvbigpe3ZhciBlPUJvKHQsci50b0Zsb2F0KCkpLGE9QnIobi5zaGFwZSxvKTtyZXR1cm4gYS5sZW5ndGg+MD90aChlLGEpLnJlc2hhcGUobi5zaGFwZSk6ZX0sYjpmdW5jdGlvbigpe3ZhciBlPXQubXVsKG4udG9GbG9hdCgpKSxhPUJyKHIuc2hhcGUsbyk7YS5sZW5ndGg+MCYmKGU9dGgoZSxhKS5yZXNoYXBlKHIuc2hhcGUpKTt2YXIgaT1HYyhyKTtyZXR1cm4gbm8oQm8oZSxpLnRvRmxvYXQoKSkpfX19fSx7a2VybmVsTmFtZTpcIkZ1c2VkQmF0Y2hOb3JtXCIsaW5wdXRzVG9TYXZlOltcInhcIixcIm1lYW5cIixcInZhcmlhbmNlXCIsXCJzY2FsZVwiXSxncmFkRnVuYzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bi52YXJpYW5jZUVwc2lsb24sbz1lWzBdLGE9ZVsxXSxpPWVbMl0scz1lWzNdLHU9SnUobyksYz1udWxsPT1zP09uKDEpOnMsbD1CcihhLnNoYXBlLHUuc2hhcGUpLGg9W107aWYoMT09PWEucmFuayl7Zm9yKHZhciBmPTA7Zjx1LnNoYXBlLmxlbmd0aC0xOysrZiloLnB1c2godS5zaGFwZVtmXSk7aC5wdXNoKDEpfXZhciBkPU9vKG8sYSkscD1Ubyh0LGMpLHY9YW8oT3IoaSxPbihyKSkpLGc9VG8oVG8oVG8odix2KSx2KSxPbigtLjUpKTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiAxPT09YS5yYW5rP3VyKFRvKFRvKHQsd2Modi5hczREKDEsMSwxLGEuc2hhcGVbMF0pLGgpKSxjKSxvLnNoYXBlKTp1cihUbyhUbyh0LHYpLGMpLG8uc2hhcGUpfSxtZWFuOmZ1bmN0aW9uKCl7dmFyIHQ9VG8oVG8odixPbigtMSkpLHApO3JldHVybiAxPT09YS5yYW5rJiYodD10aCh0LGwpKSx1cih0LGEuc2hhcGUpfSx2YXJpYW5jZTpmdW5jdGlvbigpe3ZhciB0PVRvKFRvKGcsZCkscCk7cmV0dXJuIDE9PT1hLnJhbmsmJih0PXRoKHQsbCkpLHVyKHQsYS5zaGFwZSl9LHNjYWxlOmZ1bmN0aW9uKCl7dmFyIGU9VG8oZCx2KSxuPVRvKHQsZSk7cmV0dXJuIDE9PT1hLnJhbmsmJihuPXRoKG4sbCkpLHVyKG4sYS5zaGFwZSl9LG9mZnNldDpmdW5jdGlvbigpe3ZhciBlPXQ7cmV0dXJuIDE9PT1hLnJhbmsmJihlPXRoKGUsbCkpLHVyKGUsYS5zaGFwZSl9fX19LHtrZXJuZWxOYW1lOlRyLGdyYWRGdW5jOmZ1bmN0aW9uKHQpe3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQudG9GbG9hdCgpfX19fSx7a2VybmVsTmFtZTpBcixpbnB1dHNUb1NhdmU6W1wiaW5kaWNlc1wiXSxncmFkRnVuYzpmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJue2luZGljZXM6ZnVuY3Rpb24oKXtyZXR1cm4gR24obi5zaGFwZSxcImZsb2F0MzJcIil9fX19LHtrZXJuZWxOYW1lOk5yLGlucHV0c1RvU2F2ZTpbXCJ4XCJdLGdyYWRGdW5jOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lWzBdLG89bi5wYWRkaW5ncy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuc2xpY2UobyxyLnNoYXBlKX19fX0se2tlcm5lbE5hbWU6XCJTcXVhcmVcIixpbnB1dHNUb1NhdmU6W1wieFwiXSxncmFkRnVuYzpmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWwobi50b0Zsb2F0KCkubXVsKDIpKX19fX0se2tlcm5lbE5hbWU6RXIsaW5wdXRzVG9TYXZlOltcImFcIixcImJcIl0sZ3JhZEZ1bmM6ZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxvPU9uKDIpO3JldHVybnthOmZ1bmN0aW9uKCl7cmV0dXJuIFRvKHQsVG8obyxPbyhuLHIpKSl9LGI6ZnVuY3Rpb24oKXtyZXR1cm4gVG8odCxUbyhvLE9vKHIsbikpKX19fX0se2tlcm5lbE5hbWU6RHIsaW5wdXRzVG9TYXZlOltcInhcIl0sZ3JhZEZ1bmM6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWVbMF0sbz1uLnJlcHM7cmV0dXJue3g6ZnVuY3Rpb24oKXt2YXIgZT1YbihyKTtpZigxPT09ci5yYW5rKWZvcih2YXIgbj0wO248b1swXTsrK24pZT1lLmFkZCh0LnNsaWNlKFtuKnIuc2hhcGVbMF1dLFtyLnNoYXBlWzBdXSkpO2Vsc2UgaWYoMj09PXIucmFuaylmb3Iobj0wO248b1swXTsrK24pZm9yKHZhciBhPTA7YTxvWzFdOysrYSllPWUuYWRkKHQuc2xpY2UoW24qci5zaGFwZVswXSxhKnIuc2hhcGVbMV1dLFtyLnNoYXBlWzBdLHIuc2hhcGVbMV1dKSk7ZWxzZSBpZigzPT09ci5yYW5rKWZvcihuPTA7bjxvWzBdOysrbilmb3IoYT0wO2E8b1sxXTsrK2EpZm9yKHZhciBpPTA7aTxvWzJdOysraSllPWUuYWRkKHQuc2xpY2UoW24qci5zaGFwZVswXSxhKnIuc2hhcGVbMV0saSpyLnNoYXBlWzJdXSxbci5zaGFwZVswXSxyLnNoYXBlWzFdLHIuc2hhcGVbMl1dKSk7ZWxzZXtpZig0IT09ci5yYW5rKXRocm93IG5ldyBFcnJvcihcIkdyYWRpZW50IGZvciB0aWxlIG9wZXJhdGlvbiBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIHJhbmstXCIrci5yYW5rK1wiIHRlbnNvcnMgeWV0LlwiKTtmb3Iobj0wO248b1swXTsrK24pZm9yKGE9MDthPG9bMV07KythKWZvcihpPTA7aTxvWzJdOysraSlmb3IodmFyIHM9MDtzPG9bM107KytzKWU9ZS5hZGQodC5zbGljZShbbipyLnNoYXBlWzBdLGEqci5zaGFwZVsxXSxpKnIuc2hhcGVbMl0scypyLnNoYXBlWzNdXSxbci5zaGFwZVswXSxyLnNoYXBlWzFdLHIuc2hhcGVbMl0sci5zaGFwZVszXV0pKX1yZXR1cm4gZX19fX0se2tlcm5lbE5hbWU6XCJUcmFuc3Bvc2VcIixncmFkRnVuYzpmdW5jdGlvbih0LGUsbil7dmFyIHI9Um4obi5wZXJtKTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB1YSh0LHIpfX19fV07QmY8UGYubGVuZ3RoO0JmKyspe3AoUGZbQmZdKX12YXIgTGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5mZXRjaD1mdW5jdGlvbih0LGUpe3JldHVybiBmZXRjaCh0LGUpfSx0LnByb3RvdHlwZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gcGVyZm9ybWFuY2Uubm93KCl9LHQucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbih0LGUpe2lmKFwidXRmLThcIiE9PWUmJlwidXRmOFwiIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgZW5jb2RlciBvbmx5IHN1cHBvcnRzIHV0Zi04LCBidXQgZ290IFwiK2UpO3JldHVybiBudWxsPT10aGlzLnRleHRFbmNvZGVyJiYodGhpcy50ZXh0RW5jb2Rlcj1uZXcgVGV4dEVuY29kZXIpLHRoaXMudGV4dEVuY29kZXIuZW5jb2RlKHQpfSx0LnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFRleHREZWNvZGVyKGUpLmRlY29kZSh0KX0sdH0oKTtpKCkuZ2V0KFwiSVNfQlJPV1NFUlwiKSYmaSgpLnNldFBsYXRmb3JtKFwiYnJvd3NlclwiLG5ldyBMZik7dmFyIFdmLFVmPWZ1bmN0aW9uKCl7cmV0dXJuIHJlcXVpcmUoXCJub2RlLWZldGNoXCIpfSxWZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnV0aWw9cmVxdWlyZShcInV0aWxcIiksdGhpcy50ZXh0RW5jb2Rlcj1uZXcgdGhpcy51dGlsLlRleHRFbmNvZGVyfXJldHVybiB0LnByb3RvdHlwZS5mZXRjaD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT1pKCkuZ2xvYmFsLmZldGNoP2koKS5nbG9iYWwuZmV0Y2godCxlKToobnVsbD09V2YmJihXZj1VZigpKSxXZih0LGUpKX0sdC5wcm90b3R5cGUubm93PWZ1bmN0aW9uKCl7dmFyIHQ9cHJvY2Vzcy5ocnRpbWUoKTtyZXR1cm4gMWUzKnRbMF0rdFsxXS8xZTZ9LHQucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbih0LGUpe2lmKFwidXRmLThcIiE9PWUmJlwidXRmOFwiIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJOb2RlIGJ1aWx0LWluIGVuY29kZXIgb25seSBzdXBwb3J0cyB1dGYtOCwgYnV0IGdvdCBcIitlKTtyZXR1cm4gdGhpcy50ZXh0RW5jb2Rlci5lbmNvZGUodCl9LHQucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbih0LGUpe3JldHVybiAwPT09dC5sZW5ndGg/XCJcIjpuZXcgdGhpcy51dGlsLlRleHREZWNvZGVyKGUpLmRlY29kZSh0KX0sdH0oKTtpKCkuZ2V0KFwiSVNfTk9ERVwiKSYmaSgpLnNldFBsYXRmb3JtKFwibm9kZVwiLG5ldyBWZik7dmFyIHpmPXtmbG9hdDMyOjQsaW50MzI6NCx1aW50MTY6Mix1aW50ODoxLGJvb2w6MX0sR2Y9NDtmdW5jdGlvbiBIZih0LGUpe2Zvcih2YXIgbj17fSxyPTAsbz1mdW5jdGlvbihlKXt2YXIgbz1lLm5hbWUsYT1lLmR0eXBlLGk9ZS5zaGFwZSxzPWsoaSksdT12b2lkIDA7aWYoXCJxdWFudGl6YXRpb25cImluIGUpe3ZhciBjPWUucXVhbnRpemF0aW9uO2lmKFwidWludDhcIiE9PWMuZHR5cGUmJlwidWludDE2XCIhPT1jLmR0eXBlKXRocm93IG5ldyBFcnJvcihcIldlaWdodCBcIitlLm5hbWUrXCIgaGFzIHVua25vd24gcXVhbnRpemF0aW9uIGR0eXBlIFwiK2MuZHR5cGUrXCIuIFN1cHBvcnRlZCBxdWFudGl6YXRpb24gZHR5cGVzIGFyZTogJ3VpbnQ4JyBhbmQgJ3VpbnQxNicuXCIpO3ZhciBsPXpmW2MuZHR5cGVdLGg9dC5zbGljZShyLHIrcypsKSxmPVwidWludDhcIj09PWMuZHR5cGU/bmV3IFVpbnQ4QXJyYXkoaCk6bmV3IFVpbnQxNkFycmF5KGgpO2lmKFwiZmxvYXQzMlwiPT09YSl1PUZsb2F0MzJBcnJheS5mcm9tKGYsKGZ1bmN0aW9uKHQpe3JldHVybiB0KmMuc2NhbGUrYy5taW59KSk7ZWxzZXtpZihcImludDMyXCIhPT1hKXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGR0eXBlIGluIHdlaWdodCAnXCIrbytcIic6IFwiK2EpO3U9SW50MzJBcnJheS5mcm9tKGYsKGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKHQqYy5zY2FsZStjLm1pbil9KSl9cis9cypsfWVsc2UgaWYoXCJzdHJpbmdcIj09PWEpe3ZhciBkPWsoZS5zaGFwZSk7dT1bXTtmb3IodmFyIHA9MDtwPGQ7cCsrKXt2YXIgdj1uZXcgVWludDMyQXJyYXkodC5zbGljZShyLHIrR2YpKVswXTtyKz1HZjt2YXIgZz1uZXcgVWludDhBcnJheSh0LnNsaWNlKHIscit2KSk7dS5wdXNoKGcpLHIrPXZ9fWVsc2V7dmFyIG09emZbYV07aD10LnNsaWNlKHIscitzKm0pO2lmKFwiZmxvYXQzMlwiPT09YSl1PW5ldyBGbG9hdDMyQXJyYXkoaCk7ZWxzZSBpZihcImludDMyXCI9PT1hKXU9bmV3IEludDMyQXJyYXkoaCk7ZWxzZXtpZihcImJvb2xcIiE9PWEpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZHR5cGUgaW4gd2VpZ2h0ICdcIitvK1wiJzogXCIrYSk7dT1uZXcgVWludDhBcnJheShoKX1yKz1zKm19bltvXT1Gbih1LGksYSl9LGE9MCxpPWU7YTxpLmxlbmd0aDthKyspe28oaVthXSl9cmV0dXJuIG59ZnVuY3Rpb24gcWYodCl7aWYobnVsbD09PXQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB2YWx1ZTogXCIrSlNPTi5zdHJpbmdpZnkodCkpO3ZhciBlPTAsbj1bXTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKGUrPXQuYnl0ZUxlbmd0aCxuLnB1c2godC5ieXRlTGVuZ3RoPT09dC5idWZmZXIuYnl0ZUxlbmd0aD90Om5ldyB0LmNvbnN0cnVjdG9yKHQpKSwhKHQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fHQgaW5zdGFuY2VvZiBJbnQzMkFycmF5fHx0IGluc3RhbmNlb2YgVWludDhBcnJheSkpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgVHlwZWRBcnJheSBzdWJ0eXBlOiBcIit0LmNvbnN0cnVjdG9yLm5hbWUpfSkpO3ZhciByPW5ldyBVaW50OEFycmF5KGUpLG89MDtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbih0KXtyLnNldChuZXcgVWludDhBcnJheSh0LmJ1ZmZlciksbyksbys9dC5ieXRlTGVuZ3RofSkpLHIuYnVmZmVyfXZhciBLZj1cInVuZGVmaW5lZFwiIT10eXBlb2YgQnVmZmVyJiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIEJsb2J8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBhdG9ifHxcInVuZGVmaW5lZFwiPT10eXBlb2YgYnRvYSk7ZnVuY3Rpb24gamYodCl7cmV0dXJuIEtmP0J1ZmZlci5ieXRlTGVuZ3RoKHQpOm5ldyBCbG9iKFt0XSkuc2l6ZX1mdW5jdGlvbiBYZih0KXt2YXIgZT0wO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZSs9dC5ieXRlTGVuZ3RofSkpO3ZhciBuPW5ldyBVaW50OEFycmF5KGUpLHI9MDtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtuLnNldChuZXcgVWludDhBcnJheSh0KSxyKSxyKz10LmJ5dGVMZW5ndGh9KSksbi5idWZmZXJ9ZnVuY3Rpb24gWWYodCl7Zm9yKHQ9dC50cmltKCk7dC5lbmRzV2l0aChcIi9cIik7KXQ9dC5zbGljZSgwLHQubGVuZ3RoLTEpO3ZhciBlPXQuc3BsaXQoXCIvXCIpO3JldHVybiBlW2UubGVuZ3RoLTFdfWZ1bmN0aW9uICRmKHQpe2lmKHQubW9kZWxUb3BvbG9neSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIEpTT04gbW9kZWwgdG9wb2xvZ3ksIHJlY2VpdmVkIEFycmF5QnVmZmVyLlwiKTtyZXR1cm57ZGF0ZVNhdmVkOm5ldyBEYXRlLG1vZGVsVG9wb2xvZ3lUeXBlOlwiSlNPTlwiLG1vZGVsVG9wb2xvZ3lCeXRlczpudWxsPT10Lm1vZGVsVG9wb2xvZ3k/MDpqZihKU09OLnN0cmluZ2lmeSh0Lm1vZGVsVG9wb2xvZ3kpKSx3ZWlnaHRTcGVjc0J5dGVzOm51bGw9PXQud2VpZ2h0U3BlY3M/MDpqZihKU09OLnN0cmluZ2lmeSh0LndlaWdodFNwZWNzKSksd2VpZ2h0RGF0YUJ5dGVzOm51bGw9PXQud2VpZ2h0RGF0YT8wOnQud2VpZ2h0RGF0YS5ieXRlTGVuZ3RofX12YXIgUWY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5zYXZlUm91dGVycz1bXSx0aGlzLmxvYWRSb3V0ZXJzPVtdfXJldHVybiB0LmdldEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXQuaW5zdGFuY2UmJih0Lmluc3RhbmNlPW5ldyB0KSx0Lmluc3RhbmNlfSx0LnJlZ2lzdGVyU2F2ZVJvdXRlcj1mdW5jdGlvbihlKXt0LmdldEluc3RhbmNlKCkuc2F2ZVJvdXRlcnMucHVzaChlKX0sdC5yZWdpc3RlckxvYWRSb3V0ZXI9ZnVuY3Rpb24oZSl7dC5nZXRJbnN0YW5jZSgpLmxvYWRSb3V0ZXJzLnB1c2goZSl9LHQuZ2V0U2F2ZUhhbmRsZXJzPWZ1bmN0aW9uKGUpe3JldHVybiB0LmdldEhhbmRsZXJzKGUsXCJzYXZlXCIpfSx0LmdldExvYWRIYW5kbGVycz1mdW5jdGlvbihlLG4pe3JldHVybiB0LmdldEhhbmRsZXJzKGUsXCJsb2FkXCIsbil9LHQuZ2V0SGFuZGxlcnM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPVtdO3JldHVybihcImxvYWRcIj09PW4/dC5nZXRJbnN0YW5jZSgpLmxvYWRSb3V0ZXJzOnQuZ2V0SW5zdGFuY2UoKS5zYXZlUm91dGVycykuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49dChlLHIpO251bGwhPT1uJiZvLnB1c2gobil9KSksb30sdH0oKSxKZj1cIjovL1wiLFpmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMubWFuYWdlcnM9e319cmV0dXJuIHQuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dC5pbnN0YW5jZSYmKHQuaW5zdGFuY2U9bmV3IHQpLHQuaW5zdGFuY2V9LHQucmVnaXN0ZXJNYW5hZ2VyPWZ1bmN0aW9uKGUsbil7QyhudWxsIT1lLChmdW5jdGlvbigpe3JldHVyblwic2NoZW1lIG11c3Qgbm90IGJlIHVuZGVmaW5lZCBvciBudWxsLlwifSkpLGUuZW5kc1dpdGgoSmYpJiYoZT1lLnNsaWNlKDAsZS5pbmRleE9mKEpmKSkpLEMoZS5sZW5ndGg+MCwoZnVuY3Rpb24oKXtyZXR1cm5cInNjaGVtZSBtdXN0IG5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuXCJ9KSk7dmFyIHI9dC5nZXRJbnN0YW5jZSgpO0MobnVsbD09ci5tYW5hZ2Vyc1tlXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkEgbW9kZWwgc3RvcmUgbWFuYWdlciBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgZm9yIHNjaGVtZSAnXCIrZStcIicuXCJ9KSksci5tYW5hZ2Vyc1tlXT1ufSx0LmdldE1hbmFnZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRJbnN0YW5jZSgpLm1hbmFnZXJzW3RdO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kZWwgbWFuYWdlciBmb3Igc2NoZW1lICdcIit0K1wiJ1wiKTtyZXR1cm4gZX0sdC5nZXRTY2hlbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZ2V0SW5zdGFuY2UoKS5tYW5hZ2Vycyl9LHR9KCk7ZnVuY3Rpb24gdGQodCl7aWYoLTE9PT10LmluZGV4T2YoSmYpKXRocm93IG5ldyBFcnJvcihcIlRoZSB1cmwgc3RyaW5nIHByb3ZpZGVkIGRvZXMgbm90IGNvbnRhaW4gYSBzY2hlbWUuIFN1cHBvcnRlZCBzY2hlbWVzIGFyZTogXCIrWmYuZ2V0U2NoZW1lcygpLmpvaW4oXCIsXCIpKTtyZXR1cm57c2NoZW1lOnQuc3BsaXQoSmYpWzBdLHBhdGg6dC5zcGxpdChKZilbMV19fWZ1bmN0aW9uIGVkKHQsZSxvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89ITEpLG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLGEsaSxzLHUsYyxsLGgsZjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBDKHQhPT1lLChmdW5jdGlvbigpe3JldHVyblwiT2xkIHBhdGggYW5kIG5ldyBwYXRoIGFyZSB0aGUgc2FtZTogJ1wiK3QrXCInXCJ9KSksQygobj1RZi5nZXRMb2FkSGFuZGxlcnModCkpLmxlbmd0aD4wLChmdW5jdGlvbigpe3JldHVyblwiQ29weWluZyBmYWlsZWQgYmVjYXVzZSBubyBsb2FkIGhhbmRsZXIgaXMgZm91bmQgZm9yIHNvdXJjZSBVUkwgXCIrdCtcIi5cIn0pKSxDKG4ubGVuZ3RoPDIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJDb3B5aW5nIGZhaWxlZCBiZWNhdXNlIG1vcmUgdGhhbiBvbmUgKFwiK24ubGVuZ3RoK1wiKSBsb2FkIGhhbmRsZXJzIGZvciBzb3VyY2UgVVJMIFwiK3QrXCIuXCJ9KSksYT1uWzBdLEMoKGk9UWYuZ2V0U2F2ZUhhbmRsZXJzKGUpKS5sZW5ndGg+MCwoZnVuY3Rpb24oKXtyZXR1cm5cIkNvcHlpbmcgZmFpbGVkIGJlY2F1c2Ugbm8gc2F2ZSBoYW5kbGVyIGlzIGZvdW5kIGZvciBkZXN0aW5hdGlvbiBVUkwgXCIrZStcIi5cIn0pKSxDKGkubGVuZ3RoPDIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJDb3B5aW5nIGZhaWxlZCBiZWNhdXNlIG1vcmUgdGhhbiBvbmUgKFwiK24ubGVuZ3RoK1wiKSBzYXZlIGhhbmRsZXJzIGZvciBkZXN0aW5hdGlvbiBVUkwgXCIrZStcIi5cIn0pKSxzPWlbMF0sdT10ZCh0KS5zY2hlbWUsYz10ZCh0KS5wYXRoLGw9dT09PXRkKHQpLnNjaGVtZSxbNCxhLmxvYWQoKV07Y2FzZSAxOnJldHVybiBoPXIuc2VudCgpLG8mJmw/WzQsWmYuZ2V0TWFuYWdlcih1KS5yZW1vdmVNb2RlbChjKV06WzMsM107Y2FzZSAyOnIuc2VudCgpLHIubGFiZWw9MztjYXNlIDM6cmV0dXJuWzQscy5zYXZlKGgpXTtjYXNlIDQ6cmV0dXJuIGY9ci5zZW50KCksIW98fGw/WzMsNl06WzQsWmYuZ2V0TWFuYWdlcih1KS5yZW1vdmVNb2RlbChjKV07Y2FzZSA1OnIuc2VudCgpLHIubGFiZWw9NjtjYXNlIDY6cmV0dXJuWzIsZi5tb2RlbEFydGlmYWN0c0luZm9dfX0pKX0pKX12YXIgbmQ9XCJtb2RlbHNfc3RvcmVcIixyZD1cIm1vZGVsX2luZm9fc3RvcmVcIjtmdW5jdGlvbiBvZCgpe2lmKCFpKCkuZ2V0Qm9vbChcIklTX0JST1dTRVJcIikpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIG9idGFpbiBJbmRleGVkREIgZmFjdG9yeSBiZWNhdXNlIHRoZSBjdXJyZW50IGVudmlyb25tZW50aXMgbm90IGEgd2ViIGJyb3dzZXIuXCIpO3ZhciB0PXdpbmRvd3x8c2VsZixlPXQuaW5kZXhlZERCfHx0Lm1vekluZGV4ZWREQnx8dC53ZWJraXRJbmRleGVkREJ8fHQubXNJbmRleGVkREJ8fHQuc2hpbUluZGV4ZWREQjtpZihudWxsPT1lKXRocm93IG5ldyBFcnJvcihcIlRoZSBjdXJyZW50IGJyb3dzZXIgZG9lcyBub3QgYXBwZWFyIHRvIHN1cHBvcnQgSW5kZXhlZERCLlwiKTtyZXR1cm4gZX1mdW5jdGlvbiBhZCh0KXt2YXIgZT10LnJlc3VsdDtlLmNyZWF0ZU9iamVjdFN0b3JlKG5kLHtrZXlQYXRoOlwibW9kZWxQYXRoXCJ9KSxlLmNyZWF0ZU9iamVjdFN0b3JlKHJkLHtrZXlQYXRoOlwibW9kZWxQYXRoXCJ9KX12YXIgaWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2lmKHRoaXMuaW5kZXhlZERCPW9kKCksbnVsbD09dHx8IXQpdGhyb3cgbmV3IEVycm9yKFwiRm9yIEluZGV4ZWREQiwgbW9kZWxQYXRoIG11c3Qgbm90IGJlIG51bGwsIHVuZGVmaW5lZCBvciBlbXB0eS5cIik7dGhpcy5tb2RlbFBhdGg9dH1yZXR1cm4gdC5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7aWYodC5tb2RlbFRvcG9sb2d5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpdGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlckxvY2FsU3RvcmFnZS5zYXZlKCkgZG9lcyBub3Qgc3VwcG9ydCBzYXZpbmcgbW9kZWwgdG9wb2xvZ3kgaW4gYmluYXJ5IGZvcm1hdHMgeWV0LlwiKTtyZXR1cm5bMix0aGlzLmRhdGFiYXNlQWN0aW9uKHRoaXMubW9kZWxQYXRoLHQpXX0pKX0pKX0sdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbih0KXtyZXR1cm5bMix0aGlzLmRhdGFiYXNlQWN0aW9uKHRoaXMubW9kZWxQYXRoKV19KSl9KSl9LHQucHJvdG90eXBlLmRhdGFiYXNlQWN0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQscil7dmFyIG89bi5pbmRleGVkREIub3BlbihcInRlbnNvcmZsb3dqc1wiLDEpO28ub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGFkKG8pfSxvLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3ZhciBhPW8ucmVzdWx0O2lmKG51bGw9PWUpe3ZhciBpPWEudHJhbnNhY3Rpb24obmQsXCJyZWFkb25seVwiKSxzPWkub2JqZWN0U3RvcmUobmQpLmdldChuLm1vZGVsUGF0aCk7cy5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtpZihudWxsPT1zLnJlc3VsdClyZXR1cm4gYS5jbG9zZSgpLHIobmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kZWwgd2l0aCBwYXRoICdcIituLm1vZGVsUGF0aCtcIicgaW4gSW5kZXhlZERCLlwiKSk7dChzLnJlc3VsdC5tb2RlbEFydGlmYWN0cyl9LHMub25lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gYS5jbG9zZSgpLHIocy5lcnJvcil9LGkub25jb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiBhLmNsb3NlKCl9fWVsc2V7dmFyIHUsYz0kZihlKSxsPWEudHJhbnNhY3Rpb24ocmQsXCJyZWFkd3JpdGVcIiksaD1sLm9iamVjdFN0b3JlKHJkKSxmPWgucHV0KHttb2RlbFBhdGg6bi5tb2RlbFBhdGgsbW9kZWxBcnRpZmFjdHNJbmZvOmN9KTtmLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3ZhciBvPSh1PWEudHJhbnNhY3Rpb24obmQsXCJyZWFkd3JpdGVcIikpLm9iamVjdFN0b3JlKG5kKS5wdXQoe21vZGVsUGF0aDpuLm1vZGVsUGF0aCxtb2RlbEFydGlmYWN0czplLG1vZGVsQXJ0aWZhY3RzSW5mbzpjfSk7by5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdCh7bW9kZWxBcnRpZmFjdHNJbmZvOmN9KX0sby5vbmVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPShoPWwub2JqZWN0U3RvcmUocmQpKS5kZWxldGUobi5tb2RlbFBhdGgpO2Uub25zdWNjZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGEuY2xvc2UoKSxyKG8uZXJyb3IpfSxlLm9uZXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIGEuY2xvc2UoKSxyKG8uZXJyb3IpfX19LGYub25lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gYS5jbG9zZSgpLHIoZi5lcnJvcil9LGwub25jb21wbGV0ZT1mdW5jdGlvbigpe251bGw9PXU/YS5jbG9zZSgpOnUub25jb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiBhLmNsb3NlKCl9fX19LG8ub25lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gcihvLmVycm9yKX19KSl9LHQuVVJMX1NDSEVNRT1cImluZGV4ZWRkYjovL1wiLHR9KCksc2Q9ZnVuY3Rpb24odCl7cmV0dXJuIGkoKS5nZXRCb29sKFwiSVNfQlJPV1NFUlwiKSYmIUFycmF5LmlzQXJyYXkodCkmJnQuc3RhcnRzV2l0aChpZC5VUkxfU0NIRU1FKT8oZT10LnNsaWNlKGlkLlVSTF9TQ0hFTUUubGVuZ3RoKSxuZXcgaWQoZSkpOm51bGw7dmFyIGV9O1FmLnJlZ2lzdGVyU2F2ZVJvdXRlcihzZCksUWYucmVnaXN0ZXJMb2FkUm91dGVyKHNkKTt2YXIgdWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5pbmRleGVkREI9b2QoKX1yZXR1cm4gdC5wcm90b3R5cGUubGlzdE1vZGVscz1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe3ZhciByPXQuaW5kZXhlZERCLm9wZW4oXCJ0ZW5zb3JmbG93anNcIiwxKTtyLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbigpe3JldHVybiBhZChyKX0sci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt2YXIgdD1yLnJlc3VsdCxvPXQudHJhbnNhY3Rpb24ocmQsXCJyZWFkb25seVwiKSxhPW8ub2JqZWN0U3RvcmUocmQpLmdldEFsbCgpO2Eub25zdWNjZXNzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXt9LG49MCxyPWEucmVzdWx0O248ci5sZW5ndGg7bisrKXt2YXIgbz1yW25dO3Rbby5tb2RlbFBhdGhdPW8ubW9kZWxBcnRpZmFjdHNJbmZvfWUodCl9LGEub25lcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gdC5jbG9zZSgpLG4oYS5lcnJvcil9LG8ub25jb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0LmNsb3NlKCl9fSxyLm9uZXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIG4oci5lcnJvcil9fSkpXX0pKX0pKX0sdC5wcm90b3R5cGUucmVtb3ZlTW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24obil7dmFyIHI7cmV0dXJuIHQ9KHI9dCkuc3RhcnRzV2l0aChpZC5VUkxfU0NIRU1FKT9yLnNsaWNlKGlkLlVSTF9TQ0hFTUUubGVuZ3RoKTpyLFsyLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3ZhciBvPWUuaW5kZXhlZERCLm9wZW4oXCJ0ZW5zb3JmbG93anNcIiwxKTtvLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbigpe3JldHVybiBhZChvKX0sby5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt2YXIgZSxhPW8ucmVzdWx0LGk9YS50cmFuc2FjdGlvbihyZCxcInJlYWR3cml0ZVwiKSxzPWkub2JqZWN0U3RvcmUocmQpLHU9cy5nZXQodCk7dS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtpZihudWxsPT11LnJlc3VsdClyZXR1cm4gYS5jbG9zZSgpLHIobmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kZWwgd2l0aCBwYXRoICdcIit0K1wiJyBpbiBJbmRleGVkREIuXCIpKTt2YXIgbz1zLmRlbGV0ZSh0KSxpPWZ1bmN0aW9uKCl7dmFyIG89KGU9YS50cmFuc2FjdGlvbihuZCxcInJlYWR3cml0ZVwiKSkub2JqZWN0U3RvcmUobmQpLmRlbGV0ZSh0KTtvLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3JldHVybiBuKHUucmVzdWx0Lm1vZGVsQXJ0aWZhY3RzSW5mbyl9LG8ub25lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gcih1LmVycm9yKX19O28ub25zdWNjZXNzPWksby5vbmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBpKCksYS5jbG9zZSgpLHIodS5lcnJvcil9fSx1Lm9uZXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIGEuY2xvc2UoKSxyKHUuZXJyb3IpfSxpLm9uY29tcGxldGU9ZnVuY3Rpb24oKXtudWxsPT1lP2EuY2xvc2UoKTplLm9uY29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5jbG9zZSgpfX19LG8ub25lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gcihvLmVycm9yKX19KSldfSkpfSkpfSx0fSgpO2lmKGkoKS5nZXRCb29sKFwiSVNfQlJPV1NFUlwiKSl0cnl7WmYucmVnaXN0ZXJNYW5hZ2VyKGlkLlVSTF9TQ0hFTUUsbmV3IHVkKX1jYXRjaCh0KXt9dmFyIGNkPVwiL1wiLGxkPVwidGVuc29yZmxvd2pzX21vZGVsc1wiLGhkPVwiaW5mb1wiLGZkPVwibW9kZWxfdG9wb2xvZ3lcIixkZD1cIndlaWdodF9zcGVjc1wiLHBkPVwid2VpZ2h0X2RhdGFcIix2ZD1cIm1vZGVsX21ldGFkYXRhXCI7ZnVuY3Rpb24gZ2QodCl7cmV0dXJue2luZm86W2xkLHQsaGRdLmpvaW4oY2QpLHRvcG9sb2d5OltsZCx0LGZkXS5qb2luKGNkKSx3ZWlnaHRTcGVjczpbbGQsdCxkZF0uam9pbihjZCksd2VpZ2h0RGF0YTpbbGQsdCxwZF0uam9pbihjZCksbW9kZWxNZXRhZGF0YTpbbGQsdCx2ZF0uam9pbihjZCl9fWZ1bmN0aW9uIG1kKHQpe3ZhciBlPXQuc3BsaXQoY2QpO2lmKGUubGVuZ3RoPDMpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBrZXkgZm9ybWF0OiBcIit0KTtyZXR1cm4gZS5zbGljZSgxLGUubGVuZ3RoLTEpLmpvaW4oY2QpfXZhciB5ZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7aWYoIWkoKS5nZXRCb29sKFwiSVNfQlJPV1NFUlwiKXx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8dm9pZCAwPT09d2luZG93LmxvY2FsU3RvcmFnZSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IGxvY2FsIHN0b3JhZ2UuXCIpO2lmKHRoaXMuTFM9d2luZG93LmxvY2FsU3RvcmFnZSxudWxsPT10fHwhdCl0aHJvdyBuZXcgRXJyb3IoXCJGb3IgbG9jYWwgc3RvcmFnZSwgbW9kZWxQYXRoIG11c3Qgbm90IGJlIG51bGwsIHVuZGVmaW5lZCBvciBlbXB0eS5cIik7dGhpcy5tb2RlbFBhdGg9dCx0aGlzLmtleXM9Z2QodGhpcy5tb2RlbFBhdGgpfXJldHVybiB0LnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLG87cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7aWYodC5tb2RlbFRvcG9sb2d5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpdGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlckxvY2FsU3RvcmFnZS5zYXZlKCkgZG9lcyBub3Qgc3VwcG9ydCBzYXZpbmcgbW9kZWwgdG9wb2xvZ3kgaW4gYmluYXJ5IGZvcm1hdHMgeWV0LlwiKTtlPUpTT04uc3RyaW5naWZ5KHQubW9kZWxUb3BvbG9neSksbj1KU09OLnN0cmluZ2lmeSh0LndlaWdodFNwZWNzKSxvPSRmKHQpO3RyeXtyZXR1cm4gdGhpcy5MUy5zZXRJdGVtKHRoaXMua2V5cy5pbmZvLEpTT04uc3RyaW5naWZ5KG8pKSx0aGlzLkxTLnNldEl0ZW0odGhpcy5rZXlzLnRvcG9sb2d5LGUpLHRoaXMuTFMuc2V0SXRlbSh0aGlzLmtleXMud2VpZ2h0U3BlY3MsbiksdGhpcy5MUy5zZXRJdGVtKHRoaXMua2V5cy53ZWlnaHREYXRhLGZ1bmN0aW9uKHQpe2lmKEtmKXJldHVybiBCdWZmZXIuZnJvbSh0KS50b1N0cmluZyhcImJhc2U2NFwiKTtmb3IodmFyIGU9bmV3IFVpbnQ4QXJyYXkodCksbj1cIlwiLHI9MCxvPWUubGVuZ3RoO3I8bztyKyspbis9U3RyaW5nLmZyb21DaGFyQ29kZShlW3JdKTtyZXR1cm4gYnRvYShuKX0odC53ZWlnaHREYXRhKSksdGhpcy5MUy5zZXRJdGVtKHRoaXMua2V5cy5tb2RlbE1ldGFkYXRhLEpTT04uc3RyaW5naWZ5KHtmb3JtYXQ6dC5mb3JtYXQsZ2VuZXJhdGVkQnk6dC5nZW5lcmF0ZWRCeSxjb252ZXJ0ZWRCeTp0LmNvbnZlcnRlZEJ5LHVzZXJEZWZpbmVkTWV0YWRhdGE6dC51c2VyRGVmaW5lZE1ldGFkYXRhfSkpLFsyLHttb2RlbEFydGlmYWN0c0luZm86b31dfWNhdGNoKHQpe3Rocm93IHRoaXMuTFMucmVtb3ZlSXRlbSh0aGlzLmtleXMuaW5mbyksdGhpcy5MUy5yZW1vdmVJdGVtKHRoaXMua2V5cy50b3BvbG9neSksdGhpcy5MUy5yZW1vdmVJdGVtKHRoaXMua2V5cy53ZWlnaHRTcGVjcyksdGhpcy5MUy5yZW1vdmVJdGVtKHRoaXMua2V5cy53ZWlnaHREYXRhKSx0aGlzLkxTLnJlbW92ZUl0ZW0odGhpcy5rZXlzLm1vZGVsTWV0YWRhdGEpLG5ldyBFcnJvcihcIkZhaWxlZCB0byBzYXZlIG1vZGVsICdcIit0aGlzLm1vZGVsUGF0aCtcIicgdG8gbG9jYWwgc3RvcmFnZTogc2l6ZSBxdW90YSBiZWluZyBleGNlZWRlZCBpcyBhIHBvc3NpYmxlIGNhdXNlIG9mIHRoaXMgZmFpbHVyZTogbW9kZWxUb3BvbG9neUJ5dGVzPVwiK28ubW9kZWxUb3BvbG9neUJ5dGVzK1wiLCB3ZWlnaHRTcGVjc0J5dGVzPVwiK28ud2VpZ2h0U3BlY3NCeXRlcytcIiwgd2VpZ2h0RGF0YUJ5dGVzPVwiK28ud2VpZ2h0RGF0YUJ5dGVzK1wiLlwiKX1yZXR1cm5bMl19KSl9KSl9LHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsZSxuLG8sYSxpLHM7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7aWYobnVsbD09KHQ9SlNPTi5wYXJzZSh0aGlzLkxTLmdldEl0ZW0odGhpcy5rZXlzLmluZm8pKSkpdGhyb3cgbmV3IEVycm9yKFwiSW4gbG9jYWwgc3RvcmFnZSwgdGhlcmUgaXMgbm8gbW9kZWwgd2l0aCBuYW1lICdcIit0aGlzLm1vZGVsUGF0aCtcIidcIik7aWYoXCJKU09OXCIhPT10Lm1vZGVsVG9wb2xvZ3lUeXBlKXRocm93IG5ldyBFcnJvcihcIkJyb3dzZXJMb2NhbFN0b3JhZ2UgZG9lcyBub3Qgc3VwcG9ydCBsb2FkaW5nIG5vbi1KU09OIG1vZGVsIHRvcG9sb2d5IHlldC5cIik7aWYoZT17fSxudWxsPT0obj1KU09OLnBhcnNlKHRoaXMuTFMuZ2V0SXRlbSh0aGlzLmtleXMudG9wb2xvZ3kpKSkpdGhyb3cgbmV3IEVycm9yKFwiSW4gbG9jYWwgc3RvcmFnZSwgdGhlIHRvcG9sb2d5IG9mIG1vZGVsICdcIit0aGlzLm1vZGVsUGF0aCtcIicgaXMgbWlzc2luZy5cIik7aWYoZS5tb2RlbFRvcG9sb2d5PW4sbnVsbD09KG89SlNPTi5wYXJzZSh0aGlzLkxTLmdldEl0ZW0odGhpcy5rZXlzLndlaWdodFNwZWNzKSkpKXRocm93IG5ldyBFcnJvcihcIkluIGxvY2FsIHN0b3JhZ2UsIHRoZSB3ZWlnaHQgc3BlY3Mgb2YgbW9kZWwgJ1wiK3RoaXMubW9kZWxQYXRoK1wiJyBhcmUgbWlzc2luZy5cIik7aWYoZS53ZWlnaHRTcGVjcz1vLG51bGwhPShhPXRoaXMuTFMuZ2V0SXRlbSh0aGlzLmtleXMubW9kZWxNZXRhZGF0YSkpJiYoaT1KU09OLnBhcnNlKGEpLGUuZm9ybWF0PWkuZm9ybWF0LGUuZ2VuZXJhdGVkQnk9aS5nZW5lcmF0ZWRCeSxlLmNvbnZlcnRlZEJ5PWkuY29udmVydGVkQnksZS51c2VyRGVmaW5lZE1ldGFkYXRhPWkudXNlckRlZmluZWRNZXRhZGF0YSksbnVsbD09KHM9dGhpcy5MUy5nZXRJdGVtKHRoaXMua2V5cy53ZWlnaHREYXRhKSkpdGhyb3cgbmV3IEVycm9yKFwiSW4gbG9jYWwgc3RvcmFnZSwgdGhlIGJpbmFyeSB3ZWlnaHQgdmFsdWVzIG9mIG1vZGVsICdcIit0aGlzLm1vZGVsUGF0aCtcIicgYXJlIG1pc3NpbmcuXCIpO3JldHVybiBlLndlaWdodERhdGE9ZnVuY3Rpb24odCl7aWYoS2Ype3ZhciBlPUJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIik7cmV0dXJuIGUuYnVmZmVyLnNsaWNlKGUuYnl0ZU9mZnNldCxlLmJ5dGVPZmZzZXQrZS5ieXRlTGVuZ3RoKX1mb3IodmFyIG49YXRvYih0KSxyPW5ldyBVaW50OEFycmF5KG4ubGVuZ3RoKSxvPTA7bzxuLmxlbmd0aDsrK28pci5zZXQoW24uY2hhckNvZGVBdChvKV0sbyk7cmV0dXJuIHIuYnVmZmVyfShzKSxbMixlXX0pKX0pKX0sdC5VUkxfU0NIRU1FPVwibG9jYWxzdG9yYWdlOi8vXCIsdH0oKSx4ZD1mdW5jdGlvbih0KXtyZXR1cm4gaSgpLmdldEJvb2woXCJJU19CUk9XU0VSXCIpJiYhQXJyYXkuaXNBcnJheSh0KSYmdC5zdGFydHNXaXRoKHlkLlVSTF9TQ0hFTUUpPyhlPXQuc2xpY2UoeWQuVVJMX1NDSEVNRS5sZW5ndGgpLG5ldyB5ZChlKSk6bnVsbDt2YXIgZX07UWYucmVnaXN0ZXJTYXZlUm91dGVyKHhkKSxRZi5yZWdpc3RlckxvYWRSb3V0ZXIoeGQpO3ZhciBiZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtDKGkoKS5nZXRCb29sKFwiSVNfQlJPV1NFUlwiKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkN1cnJlbnQgZW52aXJvbm1lbnQgaXMgbm90IGEgd2ViIGJyb3dzZXJcIn0pKSxDKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHZvaWQgMCE9PXdpbmRvdy5sb2NhbFN0b3JhZ2UsKGZ1bmN0aW9uKCl7cmV0dXJuXCJDdXJyZW50IGJyb3dzZXIgZG9lcyBub3QgYXBwZWFyIHRvIHN1cHBvcnQgbG9jYWxTdG9yYWdlXCJ9KSksdGhpcy5MUz13aW5kb3cubG9jYWxTdG9yYWdlfXJldHVybiB0LnByb3RvdHlwZS5saXN0TW9kZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGUsbixvLGEsaTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtmb3IodD17fSxlPWxkK2NkLG49Y2QraGQsbz0wO288dGhpcy5MUy5sZW5ndGg7KytvKShhPXRoaXMuTFMua2V5KG8pKS5zdGFydHNXaXRoKGUpJiZhLmVuZHNXaXRoKG4pJiYoaT1tZChhKSx0W2ldPUpTT04ucGFyc2UodGhpcy5MUy5nZXRJdGVtKGEpKSk7cmV0dXJuWzIsdF19KSl9KSl9LHQucHJvdG90eXBlLnJlbW92ZU1vZGVsPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3ZhciBvO2lmKHQ9KG89dCkuc3RhcnRzV2l0aCh5ZC5VUkxfU0NIRU1FKT9vLnNsaWNlKHlkLlVSTF9TQ0hFTUUubGVuZ3RoKTpvLGU9Z2QodCksbnVsbD09dGhpcy5MUy5nZXRJdGVtKGUuaW5mbykpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kZWwgYXQgcGF0aCAnXCIrdCtcIidcIik7cmV0dXJuIG49SlNPTi5wYXJzZSh0aGlzLkxTLmdldEl0ZW0oZS5pbmZvKSksdGhpcy5MUy5yZW1vdmVJdGVtKGUuaW5mbyksdGhpcy5MUy5yZW1vdmVJdGVtKGUudG9wb2xvZ3kpLHRoaXMuTFMucmVtb3ZlSXRlbShlLndlaWdodFNwZWNzKSx0aGlzLkxTLnJlbW92ZUl0ZW0oZS53ZWlnaHREYXRhKSxbMixuXX0pKX0pKX0sdH0oKTtpZihpKCkuZ2V0Qm9vbChcIklTX0JST1dTRVJcIikpdHJ5e1pmLnJlZ2lzdGVyTWFuYWdlcih5ZC5VUkxfU0NIRU1FLG5ldyBiZCl9Y2F0Y2godCl7fXZhciB3ZD1cIm1vZGVsXCIsQ2Q9XCIuanNvblwiLEVkPVwiLndlaWdodHMuYmluXCI7ZnVuY3Rpb24gUmQodCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtyZXR1cm4gc2V0VGltZW91dCh0KX0pKS50aGVuKHQpfXZhciBJZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aWYoIWkoKS5nZXRCb29sKFwiSVNfQlJPV1NFUlwiKSl0aHJvdyBuZXcgRXJyb3IoXCJicm93c2VyRG93bmxvYWRzKCkgY2Fubm90IHByb2NlZWQgYmVjYXVzZSB0aGUgY3VycmVudCBlbnZpcm9ubWVudCBpcyBub3QgYSBicm93c2VyLlwiKTtlLnN0YXJ0c1dpdGgodC5VUkxfU0NIRU1FKSYmKGU9ZS5zbGljZSh0LlVSTF9TQ0hFTUUubGVuZ3RoKSksbnVsbCE9ZSYmMCE9PWUubGVuZ3RofHwoZT13ZCksdGhpcy5tb2RlbFRvcG9sb2d5RmlsZU5hbWU9ZStDZCx0aGlzLndlaWdodERhdGFGaWxlTmFtZT1lK0VkfXJldHVybiB0LnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLG8sYSxpLHM7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlciBkb3dubG9hZHMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCBzaW5jZSBgZG9jdW1lbnRgIGlzIG5vdCBwcmVzZW50XCIpO2lmKGU9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Qud2VpZ2h0RGF0YV0se3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pKSwhKHQubW9kZWxUb3BvbG9neSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSlyZXR1cm5bMywxXTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyRG93bmxvYWRzLnNhdmUoKSBkb2VzIG5vdCBzdXBwb3J0IHNhdmluZyBtb2RlbCB0b3BvbG9neSBpbiBiaW5hcnkgZm9ybWF0cyB5ZXQuXCIpO2Nhc2UgMTpyZXR1cm4gbj1be3BhdGhzOltcIi4vXCIrdGhpcy53ZWlnaHREYXRhRmlsZU5hbWVdLHdlaWdodHM6dC53ZWlnaHRTcGVjc31dLG89e21vZGVsVG9wb2xvZ3k6dC5tb2RlbFRvcG9sb2d5LGZvcm1hdDp0LmZvcm1hdCxnZW5lcmF0ZWRCeTp0LmdlbmVyYXRlZEJ5LGNvbnZlcnRlZEJ5OnQuY29udmVydGVkQnksd2VpZ2h0c01hbmlmZXN0Om59LGE9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KG8pXSx7dHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIn0pKSwoaT1udWxsPT10aGlzLmpzb25BbmNob3I/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik6dGhpcy5qc29uQW5jaG9yKS5kb3dubG9hZD10aGlzLm1vZGVsVG9wb2xvZ3lGaWxlTmFtZSxpLmhyZWY9YSxbNCxSZCgoZnVuY3Rpb24oKXtyZXR1cm4gaS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIikpfSkpXTtjYXNlIDI6cmV0dXJuIHIuc2VudCgpLG51bGw9PXQud2VpZ2h0RGF0YT9bMyw0XTooKHM9bnVsbD09dGhpcy53ZWlnaHREYXRhQW5jaG9yP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpOnRoaXMud2VpZ2h0RGF0YUFuY2hvcikuZG93bmxvYWQ9dGhpcy53ZWlnaHREYXRhRmlsZU5hbWUscy5ocmVmPWUsWzQsUmQoKGZ1bmN0aW9uKCl7cmV0dXJuIHMuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudChcImNsaWNrXCIpKX0pKV0pO2Nhc2UgMzpyLnNlbnQoKSxyLmxhYmVsPTQ7Y2FzZSA0OnJldHVyblsyLHttb2RlbEFydGlmYWN0c0luZm86JGYodCl9XX19KSl9KSl9LHQuVVJMX1NDSEVNRT1cImRvd25sb2FkczovL1wiLHR9KCksa2Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2lmKG51bGw9PXR8fHQubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKFwiV2hlbiBjYWxsaW5nIGJyb3dzZXJGaWxlcywgYXQgbGVhc3QgMSBmaWxlIGlzIHJlcXVpcmVkLCBidXQgcmVjZWl2ZWQgXCIrdCk7dGhpcy5maWxlcz10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGUsbj10aGlzO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3JldHVybiB0PXRoaXMuZmlsZXNbMF0sZT10aGlzLmZpbGVzLnNsaWNlKDEpLFsyLG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe3ZhciBhPW5ldyBGaWxlUmVhZGVyO2Eub25sb2FkPWZ1bmN0aW9uKGEpe3ZhciBpPUpTT04ucGFyc2UoYS50YXJnZXQucmVzdWx0KSxzPWkubW9kZWxUb3BvbG9neTtpZihudWxsIT1zKXswPT09ZS5sZW5ndGgmJnIoe21vZGVsVG9wb2xvZ3k6c30pO3ZhciB1PWkud2VpZ2h0c01hbmlmZXN0O2lmKG51bGwhPXUpe3ZhciBjO3RyeXtjPW4uY2hlY2tNYW5pZmVzdEFuZFdlaWdodEZpbGVzKHUsZSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgbyh0KX12YXIgbD1bXSxoPVtdLGY9W107dS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnBhdGhzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2gucHVzaCh0KSxmLnB1c2gobnVsbCl9KSksbC5wdXNoLmFwcGx5KGwsdC53ZWlnaHRzKX0pKSx1LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucGF0aHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9bmV3IEZpbGVSZWFkZXI7ZS5vbmxvYWQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0LG89aC5pbmRleE9mKHQpO2Zbb109biwtMT09PWYuaW5kZXhPZihudWxsKSYmcih7bW9kZWxUb3BvbG9neTpzLHdlaWdodFNwZWNzOmwsd2VpZ2h0RGF0YTpYZihmKSxmb3JtYXQ6aS5mb3JtYXQsZ2VuZXJhdGVkQnk6aS5nZW5lcmF0ZWRCeSxjb252ZXJ0ZWRCeTppLmNvbnZlcnRlZEJ5LHVzZXJEZWZpbmVkTWV0YWRhdGE6aS51c2VyRGVmaW5lZE1ldGFkYXRhfSl9LGUub25lcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gbyhcIkZhaWxlZCB0byB3ZWlnaHRzIGRhdGEgZnJvbSBmaWxlIG9mIHBhdGggJ1wiK3QrXCInLlwiKX0sZS5yZWFkQXNBcnJheUJ1ZmZlcihjW3RdKX0pKX0pKX1lbHNlIG8obmV3IEVycm9yKFwid2VpZ2h0TWFuaWZlc3QgZmllbGQgaXMgbWlzc2luZyBmcm9tIGZpbGUgXCIrdC5uYW1lKSl9ZWxzZSBvKG5ldyBFcnJvcihcIm1vZGVsVG9wb2xvZ3kgZmllbGQgaXMgbWlzc2luZyBmcm9tIGZpbGUgXCIrdC5uYW1lKSl9LGEub25lcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gbyhcIkZhaWxlZCB0byByZWFkIG1vZGVsIHRvcG9sb2d5IGFuZCB3ZWlnaHRzIG1hbmlmZXN0IEpTT04gZnJvbSBmaWxlICdcIit0Lm5hbWUrXCInLiBCcm93c2VyRmlsZXMgc3VwcG9ydHMgbG9hZGluZyBLZXJhcy1zdHlsZSB0Zi5Nb2RlbCBhcnRpZmFjdHMgb25seS5cIil9LGEucmVhZEFzVGV4dCh0KX0pKV19KSl9KSl9LHQucHJvdG90eXBlLmNoZWNrTWFuaWZlc3RBbmRXZWlnaHRGaWxlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxyPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gWWYodC5uYW1lKX0pKSxvPXt9LGE9MCxpPXQ7YTxpLmxlbmd0aDthKyspe2lbYV0ucGF0aHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGE9WWYodCk7aWYoLTEhPT1uLmluZGV4T2YoYSkpdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIGZpbGUgYmFzZW5hbWUgZm91bmQgaW4gd2VpZ2h0cyBtYW5pZmVzdDogJ1wiK2ErXCInXCIpO2lmKG4ucHVzaChhKSwtMT09PXIuaW5kZXhPZihhKSl0aHJvdyBuZXcgRXJyb3IoXCJXZWlnaHQgZmlsZSB3aXRoIGJhc2VuYW1lICdcIithK1wiJyBpcyBub3QgcHJvdmlkZWQuXCIpO29bdF09ZVtyLmluZGV4T2YoYSldfSkpfWlmKG4ubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTWlzbWF0Y2ggaW4gdGhlIG51bWJlciBvZiBmaWxlcyBpbiB3ZWlnaHRzIG1hbmlmZXN0IChcIituLmxlbmd0aCtcIikgYW5kIHRoZSBudW1iZXIgb2Ygd2VpZ2h0IGZpbGVzIHByb3ZpZGVkIChcIitlLmxlbmd0aCtcIikuXCIpO3JldHVybiBvfSx0fSgpO2Z1bmN0aW9uIFNkKHQsZSxuLHIpeyFmdW5jdGlvbih0KXtDKG51bGwhPXQmJkFycmF5LmlzQXJyYXkodCkmJnQubGVuZ3RoPjAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJwcm9taXNlcyBtdXN0IGJlIGEgbm9uZSBlbXB0eSBhcnJheVwifSkpfSh0KSxmdW5jdGlvbih0LGUpe0ModD49MCYmdDw9MSwoZnVuY3Rpb24oKXtyZXR1cm5cIlByb2dyZXNzIGZyYWN0aW9uIG11c3QgYmUgaW4gcmFuZ2UgWzAsIDFdLCBidXQgZ290IHN0YXJ0RnJhY3Rpb24gXCIrdH0pKSxDKGU+PTAmJmU8PTEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJQcm9ncmVzcyBmcmFjdGlvbiBtdXN0IGJlIGluIHJhbmdlIFswLCAxXSwgYnV0IGdvdCBlbmRGcmFjdGlvbiBcIitlfSkpLEMoZT49dCwoZnVuY3Rpb24oKXtyZXR1cm5cInN0YXJ0RnJhY3Rpb24gbXVzdCBiZSBubyBtb3JlIHRoYW4gZW5kRnJhY3Rpb24sIGJ1dCBnb3Qgc3RhcnRGcmFjdGlvbiBcIit0K1wiIGFuZCBlbmRGcmFjdGlvbiBcIitlfSkpfShuPW51bGw9PW4/MDpuLHI9bnVsbD09cj8xOnIpO3ZhciBvPTA7cmV0dXJuIFByb21pc2UuYWxsKHQubWFwKChmdW5jdGlvbihhKXtyZXR1cm4gYS50aGVuKChmdW5jdGlvbihhKXt2YXIgaT1uKyArK28vdC5sZW5ndGgqKHItbik7cmV0dXJuIGUoaSksYX0pKSxhfSkpKX1mdW5jdGlvbiBBZCh0LGUpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixvLGEscyx1LGMsbCxoLGY7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbnVsbD09ZSYmKGU9e30pLG49bnVsbD09ZS5mZXRjaEZ1bmM/aSgpLnBsYXRmb3JtLmZldGNoOmUuZmV0Y2hGdW5jLG89dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuKHQsZS5yZXF1ZXN0SW5pdCx7aXNCaW5hcnk6ITB9KX0pKSxhPTAscz0uNSxudWxsIT1lLm9uUHJvZ3Jlc3M/WzMsMl06WzQsUHJvbWlzZS5hbGwobyldO2Nhc2UgMTpyZXR1cm4gdT1yLnNlbnQoKSxbMyw0XTtjYXNlIDI6cmV0dXJuWzQsU2QobyxlLm9uUHJvZ3Jlc3MsYSxzKV07Y2FzZSAzOnU9ci5zZW50KCksci5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gYz11Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYXJyYXlCdWZmZXIoKX0pKSxsPS41LGg9MSxudWxsIT1lLm9uUHJvZ3Jlc3M/WzMsNl06WzQsUHJvbWlzZS5hbGwoYyldO2Nhc2UgNTpyZXR1cm4gZj1yLnNlbnQoKSxbMyw4XTtjYXNlIDY6cmV0dXJuWzQsU2QoYyxlLm9uUHJvZ3Jlc3MsbCxoKV07Y2FzZSA3OmY9ci5zZW50KCksci5sYWJlbD04O2Nhc2UgODpyZXR1cm5bMixmXX19KSl9KSl9ZnVuY3Rpb24gVGQodCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24obyxhLGkpe3JldHVybiB2b2lkIDA9PT1hJiYoYT1cIlwiKSxuKGUsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLHMsdSxjLGwsaCxmLGQscDtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKGU9by5tYXAoKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSksbj17fSxzPW51bGwhPWk/aS5tYXAoKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSk6W10sdT1bXSxvLmZvckVhY2goKGZ1bmN0aW9uKHQscil7dmFyIG89MDt0LndlaWdodHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGE9XCJxdWFudGl6YXRpb25cImluIHQ/dC5xdWFudGl6YXRpb24uZHR5cGU6dC5kdHlwZSxjPXpmW2FdKmsodC5zaGFwZSksbD1mdW5jdGlvbigpe2Vbcl09ITAsbnVsbD09bltyXSYmKG5bcl09W10pLG5bcl0ucHVzaCh7bWFuaWZlc3RFbnRyeTp0LGdyb3VwT2Zmc2V0Om8sc2l6ZUJ5dGVzOmN9KX07bnVsbCE9aT9pLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7ZT09PXQubmFtZSYmKGwoKSxzW25dPSEwKX0pKTpsKCksdS5wdXNoKHQubmFtZSksbys9Y30pKX0pKSwhcy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkpdGhyb3cgYz1pLmZpbHRlcigoZnVuY3Rpb24odCxlKXtyZXR1cm4hc1tlXX0pKSxuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCB3ZWlnaHRzIGluIG1hbmlmZXN0IHdpdGggbmFtZXM6IFwiK2Muam9pbihcIiwgXCIpK1wiLiBcXG5NYW5pZmVzdCBKU09OIGhhcyB3ZWlnaHRzIHdpdGggbmFtZXM6IFwiK3Uuam9pbihcIiwgXCIpK1wiLlwiKTtyZXR1cm4gbD1lLnJlZHVjZSgoZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZ0LnB1c2gobiksdH0pLFtdKSxoPVtdLGwuZm9yRWFjaCgoZnVuY3Rpb24odCl7b1t0XS5wYXRocy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1hKyhhLmVuZHNXaXRoKFwiL1wiKT9cIlwiOlwiL1wiKSt0O2gucHVzaChlKX0pKX0pKSxbNCx0KGgpXTtjYXNlIDE6cmV0dXJuIGY9ci5zZW50KCksZD17fSxwPTAsbC5mb3JFYWNoKChmdW5jdGlvbih0KXtmb3IodmFyIGU9b1t0XS5wYXRocy5sZW5ndGgscj0wLGE9MDthPGU7YSsrKXIrPWZbcCthXS5ieXRlTGVuZ3RoO2Zvcih2YXIgaT1uZXcgQXJyYXlCdWZmZXIocikscz1uZXcgVWludDhBcnJheShpKSx1PTAsYz0wO2M8ZTtjKyspe3ZhciBsPW5ldyBVaW50OEFycmF5KGZbcCtjXSk7cy5zZXQobCx1KSx1Kz1sLmJ5dGVMZW5ndGh9blt0XS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1IZihpLnNsaWNlKHQuZ3JvdXBPZmZzZXQsdC5ncm91cE9mZnNldCt0LnNpemVCeXRlcyksW3QubWFuaWZlc3RFbnRyeV0pO2Zvcih2YXIgbiBpbiBlKWRbbl09ZVtuXX0pKSxwKz1lfSkpLFsyLGRdfX0pKX0pKX19UWYucmVnaXN0ZXJTYXZlUm91dGVyKChmdW5jdGlvbih0KXtyZXR1cm4gaSgpLmdldEJvb2woXCJJU19CUk9XU0VSXCIpJiYhQXJyYXkuaXNBcnJheSh0KSYmdC5zdGFydHNXaXRoKElkLlVSTF9TQ0hFTUUpP2Z1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PVwibW9kZWxcIik7cmV0dXJuIG5ldyBJZCh0KX0odC5zbGljZShJZC5VUkxfU0NIRU1FLmxlbmd0aCkpOm51bGx9KSk7dmFyIERkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2lmKHRoaXMuREVGQVVMVF9NRVRIT0Q9XCJQT1NUXCIsbnVsbD09ZSYmKGU9e30pLHRoaXMud2VpZ2h0UGF0aFByZWZpeD1lLndlaWdodFBhdGhQcmVmaXgsdGhpcy5vblByb2dyZXNzPWUub25Qcm9ncmVzcyxudWxsIT1lLmZldGNoRnVuYz8oQyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZldGNoRnVuYywoZnVuY3Rpb24oKXtyZXR1cm5cIk11c3QgcGFzcyBhIGZ1bmN0aW9uIHRoYXQgbWF0Y2hlcyB0aGUgc2lnbmF0dXJlIG9mIGBmZXRjaGAgKHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRmV0Y2hfQVBJKVwifSkpLHRoaXMuZmV0Y2g9ZS5mZXRjaEZ1bmMpOnRoaXMuZmV0Y2g9aSgpLnBsYXRmb3JtLmZldGNoLEMobnVsbCE9dCYmdC5sZW5ndGg+MCwoZnVuY3Rpb24oKXtyZXR1cm5cIlVSTCBwYXRoIGZvciBodHRwIG11c3Qgbm90IGJlIG51bGwsIHVuZGVmaW5lZCBvciBlbXB0eS5cIn0pKSxBcnJheS5pc0FycmF5KHQpJiZDKDI9PT10Lmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIlVSTCBwYXRocyBmb3IgaHR0cCBtdXN0IGhhdmUgYSBsZW5ndGggb2YgMiwgKGFjdHVhbCBsZW5ndGggaXMgXCIrdC5sZW5ndGgrXCIpLlwifSkpLHRoaXMucGF0aD10LG51bGwhPWUucmVxdWVzdEluaXQmJm51bGwhPWUucmVxdWVzdEluaXQuYm9keSl0aHJvdyBuZXcgRXJyb3IoXCJyZXF1ZXN0SW5pdCBpcyBleHBlY3RlZCB0byBoYXZlIG5vIHByZS1leGlzdGluZyBib2R5LCBidXQgaGFzIG9uZS5cIik7dGhpcy5yZXF1ZXN0SW5pdD1lLnJlcXVlc3RJbml0fHx7fX1yZXR1cm4gdC5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixvLGE7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZih0Lm1vZGVsVG9wb2xvZ3kgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VySFRUUFJlcXVlc3Quc2F2ZSgpIGRvZXMgbm90IHN1cHBvcnQgc2F2aW5nIG1vZGVsIHRvcG9sb2d5IGluIGJpbmFyeSBmb3JtYXRzIHlldC5cIik7cmV0dXJuKGU9T2JqZWN0LmFzc2lnbih7bWV0aG9kOnRoaXMuREVGQVVMVF9NRVRIT0R9LHRoaXMucmVxdWVzdEluaXQpKS5ib2R5PW5ldyBGb3JtRGF0YSxuPVt7cGF0aHM6W1wiLi9tb2RlbC53ZWlnaHRzLmJpblwiXSx3ZWlnaHRzOnQud2VpZ2h0U3BlY3N9XSxvPXttb2RlbFRvcG9sb2d5OnQubW9kZWxUb3BvbG9neSxmb3JtYXQ6dC5mb3JtYXQsZ2VuZXJhdGVkQnk6dC5nZW5lcmF0ZWRCeSxjb252ZXJ0ZWRCeTp0LmNvbnZlcnRlZEJ5LHVzZXJEZWZpbmVkTWV0YWRhdGE6dC51c2VyRGVmaW5lZE1ldGFkYXRhLHdlaWdodHNNYW5pZmVzdDpufSxlLmJvZHkuYXBwZW5kKFwibW9kZWwuanNvblwiLG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShvKV0se3R5cGU6XCJhcHBsaWNhdGlvbi9qc29uXCJ9KSxcIm1vZGVsLmpzb25cIiksbnVsbCE9dC53ZWlnaHREYXRhJiZlLmJvZHkuYXBwZW5kKFwibW9kZWwud2VpZ2h0cy5iaW5cIixuZXcgQmxvYihbdC53ZWlnaHREYXRhXSx7dHlwZTpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSksXCJtb2RlbC53ZWlnaHRzLmJpblwiKSxbNCx0aGlzLmZldGNoKHRoaXMucGF0aCxlKV07Y2FzZSAxOmlmKChhPXIuc2VudCgpKS5vaylyZXR1cm5bMix7bW9kZWxBcnRpZmFjdHNJbmZvOiRmKHQpLHJlc3BvbnNlczpbYV19XTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VySFRUUFJlcXVlc3Quc2F2ZSgpIGZhaWxlZCBkdWUgdG8gSFRUUCByZXNwb25zZSBzdGF0dXMgXCIrYS5zdGF0dXMrXCIuXCIpfX0pKX0pKX0sdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG4sbyxhLGkscyx1LGMsbCxoLGY7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmZldGNoKHRoaXMucGF0aCx0aGlzLnJlcXVlc3RJbml0KV07Y2FzZSAxOmlmKCEodD1yLnNlbnQoKSkub2spdGhyb3cgbmV3IEVycm9yKFwiUmVxdWVzdCB0byBcIit0aGlzLnBhdGgrXCIgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIrdC5zdGF0dXMrXCIuIFBsZWFzZSB2ZXJpZnkgdGhpcyBVUkwgcG9pbnRzIHRvIHRoZSBtb2RlbCBKU09OIG9mIHRoZSBtb2RlbCB0byBsb2FkLlwiKTtyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsdC5qc29uKCldO2Nhc2UgMzpyZXR1cm4gZT1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6dGhyb3cgci5zZW50KCksbj1cIkZhaWxlZCB0byBwYXJzZSBtb2RlbCBKU09OIG9mIHJlc3BvbnNlIGZyb20gXCIrdGhpcy5wYXRoK1wiLlwiLHRoaXMucGF0aC5lbmRzV2l0aChcIi5wYlwiKT9uKz1cIiBZb3VyIHBhdGggY29udGFpbnMgYSAucGIgZmlsZSBleHRlbnNpb24uIFN1cHBvcnQgZm9yIC5wYiBtb2RlbHMgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gVGVuc29yRmxvdy5qcyAxLjAgaW4gZmF2b3Igb2YgLmpzb24gbW9kZWxzLiBZb3UgY2FuIHJlLWNvbnZlcnQgeW91ciBQeXRob24gVGVuc29yRmxvdyBtb2RlbCB1c2luZyB0aGUgVGVuc29yRmxvdy5qcyAxLjAgY29udmVyc2lvbiBzY3JpcHRzIG9yIHlvdSBjYW4gY29udmVydCB5b3VyLnBiIG1vZGVscyB3aXRoIHRoZSAncGIyanNvbidOUE0gc2NyaXB0IGluIHRoZSB0ZW5zb3JmbG93L3RmanMtY29udmVydGVyIHJlcG9zaXRvcnkuXCI6bis9XCIgUGxlYXNlIG1ha2Ugc3VyZSB0aGUgc2VydmVyIGlzIHNlcnZpbmcgdmFsaWQgSlNPTiBmb3IgdGhpcyByZXF1ZXN0LlwiLG5ldyBFcnJvcihuKTtjYXNlIDU6aWYobz1lLm1vZGVsVG9wb2xvZ3ksYT1lLndlaWdodHNNYW5pZmVzdCxpPWUuZ2VuZXJhdGVkQnkscz1lLmNvbnZlcnRlZEJ5LHU9ZS5mb3JtYXQsYz1lLnVzZXJEZWZpbmVkTWV0YWRhdGEsbnVsbD09byYmbnVsbD09YSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgSlNPTiBmcm9tIEhUVFAgcGF0aCBcIit0aGlzLnBhdGgrXCIgY29udGFpbnMgbmVpdGhlciBtb2RlbCB0b3BvbG9neSBvciBtYW5pZmVzdCBmb3Igd2VpZ2h0cy5cIik7cmV0dXJuIG51bGw9PWE/WzMsN106WzQsdGhpcy5sb2FkV2VpZ2h0cyhhKV07Y2FzZSA2OmY9ci5zZW50KCksbD1mWzBdLGg9ZlsxXSxyLmxhYmVsPTc7Y2FzZSA3OnJldHVyblsyLHttb2RlbFRvcG9sb2d5Om8sd2VpZ2h0U3BlY3M6bCx3ZWlnaHREYXRhOmgsdXNlckRlZmluZWRNZXRhZGF0YTpjLGdlbmVyYXRlZEJ5OmksY29udmVydGVkQnk6cyxmb3JtYXQ6dX1dfX0pKX0pKX0sdC5wcm90b3R5cGUubG9hZFdlaWdodHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4sbyxhLGkscyx1LGMsbCxoLGY7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpmb3IoZT1BcnJheS5pc0FycmF5KHRoaXMucGF0aCk/dGhpcy5wYXRoWzFdOnRoaXMucGF0aCxuPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGFzdEluZGV4T2YoXCIvXCIpLG49dC5sYXN0SW5kZXhPZihcIj9cIikscj10LnN1YnN0cmluZygwLGUpLG89bj5lP3Quc3Vic3RyaW5nKG4pOlwiXCI7cmV0dXJuW3IrXCIvXCIsb119KGUpLG89blswXSxhPW5bMV0saT10aGlzLndlaWdodFBhdGhQcmVmaXh8fG8scz1bXSx1PTAsYz10O3U8Yy5sZW5ndGg7dSsrKWw9Y1t1XSxzLnB1c2guYXBwbHkocyxsLndlaWdodHMpO3JldHVybiBoPVtdLHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5wYXRocy5mb3JFYWNoKChmdW5jdGlvbih0KXtoLnB1c2goaSt0K2EpfSkpfSkpLFs0LEFkKGgse3JlcXVlc3RJbml0OnRoaXMucmVxdWVzdEluaXQsZmV0Y2hGdW5jOnRoaXMuZmV0Y2gsb25Qcm9ncmVzczp0aGlzLm9uUHJvZ3Jlc3N9KV07Y2FzZSAxOnJldHVybiBmPXIuc2VudCgpLFsyLFtzLFhmKGYpXV19fSkpfSkpfSx0LlVSTF9TQ0hFTUVfUkVHRVg9L15odHRwcz86XFwvXFwvLyx0fSgpO2Z1bmN0aW9uIE5kKHQpe3JldHVybiBudWxsIT10Lm1hdGNoKERkLlVSTF9TQ0hFTUVfUkVHRVgpfXZhciBGZD1mdW5jdGlvbih0LGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBmZXRjaClyZXR1cm4gbnVsbDtyZXR1cm4oQXJyYXkuaXNBcnJheSh0KT90LmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gTmQodCl9KSk6TmQodCkpP19kKHQse29uUHJvZ3Jlc3M6ZX0pOm51bGx9O2Z1bmN0aW9uIF9kKHQsZSl7cmV0dXJuIG5ldyBEZCh0LGUpfVFmLnJlZ2lzdGVyU2F2ZVJvdXRlcihGZCksUWYucmVnaXN0ZXJMb2FkUm91dGVyKEZkKTt2YXIgT2Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubW9kZWxBcnRpZmFjdHM9dH1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbih0KXtyZXR1cm5bMix0aGlzLm1vZGVsQXJ0aWZhY3RzXX0pKX0pKX0sdH0oKSxNZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5zYXZlSGFuZGxlcj10fXJldHVybiB0LnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMix0aGlzLnNhdmVIYW5kbGVyKHQpXX0pKX0pKX0sdH0oKTt2YXIgQmQ9T2JqZWN0LmZyZWV6ZSh7YnJvd3NlckZpbGVzOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcga2QodCl9LGJyb3dzZXJIVFRQUmVxdWVzdDpmdW5jdGlvbih0LGUpe3JldHVybiBfZCh0LGUpfSxjb25jYXRlbmF0ZUFycmF5QnVmZmVyczpYZixkZWNvZGVXZWlnaHRzOkhmLGVuY29kZVdlaWdodHM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG8sYSxpLHMsdSxjPXRoaXM7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24obCl7c3dpdGNoKGwubGFiZWwpe2Nhc2UgMDpmb3Iobz1bXSxhPVtdLGk9QXJyYXkuaXNBcnJheSh0KT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKTpPYmplY3Qua2V5cyh0KSxzPWZ1bmN0aW9uKHMpe3ZhciB1PWlbc10sbD1BcnJheS5pc0FycmF5KHQpP3Rbc10udGVuc29yOnRbdV07aWYoXCJmbG9hdDMyXCIhPT1sLmR0eXBlJiZcImludDMyXCIhPT1sLmR0eXBlJiZcImJvb2xcIiE9PWwuZHR5cGUmJlwic3RyaW5nXCIhPT1sLmR0eXBlKXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGR0eXBlIGluIHdlaWdodCAnXCIrdStcIic6IFwiK2wuZHR5cGUpO3ZhciBoPXtuYW1lOnUsc2hhcGU6bC5zaGFwZSxkdHlwZTpsLmR0eXBlfTtpZihcInN0cmluZ1wiPT09bC5kdHlwZSl7dmFyIGY9bmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3JldHVybiBuKGMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLG8sYSxpLHMsdTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGwuYnl0ZXMoKV07Y2FzZSAxOmZvcihlPXIuc2VudCgpLG49ZS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZS5sZW5ndGh9KSwwKStHZiplLmxlbmd0aCxvPW5ldyBVaW50OEFycmF5KG4pLGE9MCxpPTA7aTxlLmxlbmd0aDtpKyspcz1lW2ldLHU9bmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQzMkFycmF5KFtzLmxlbmd0aF0pLmJ1ZmZlciksby5zZXQodSxhKSxhKz1HZixvLnNldChzLGEpLGErPXMubGVuZ3RoO3JldHVybiB0KG8pLFsyXX19KSl9KSl9KSk7YS5wdXNoKGYpfWVsc2UgYS5wdXNoKGwuZGF0YSgpKTtudWxsIT1lJiYoaC5ncm91cD1lKSxvLnB1c2goaCl9LHU9MDt1PGkubGVuZ3RoOysrdSlzKHUpO3JldHVybls0LFByb21pc2UuYWxsKGEpXTtjYXNlIDE6cmV0dXJuWzIse2RhdGE6cWYobC5zZW50KCkpLHNwZWNzOm99XX19KSl9KSl9LGZyb21NZW1vcnk6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP251bGwhPXQubW9kZWxUb3BvbG9neXx8bnVsbCE9dC53ZWlnaHRTcGVjcz9uZXcgT2QodCk6KGNvbnNvbGUud2FybihcIlBsZWFzZSBjYWxsIHRmLmlvLmZyb21NZW1vcnkoKSB3aXRoIG9ubHkgb25lIGFyZ3VtZW50LiBUaGUgYXJndW1lbnQgc2hvdWxkIGJlIG9mIHR5cGUgTW9kZWxBcnRpZmFjdHMuIFRoZSBtdWx0aS1hcmd1bWVudCBzaWduYXR1cmUgb2YgdGYuaW8uZnJvbU1lbW9yeSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiKSxuZXcgT2Qoe21vZGVsVG9wb2xvZ3k6dH0pKTooY29uc29sZS53YXJuKFwiUGxlYXNlIGNhbGwgdGYuaW8uZnJvbU1lbW9yeSgpIHdpdGggb25seSBvbmUgYXJndW1lbnQuIFRoZSBhcmd1bWVudCBzaG91bGQgYmUgb2YgdHlwZSBNb2RlbEFydGlmYWN0cy4gVGhlIG11bHRpLWFyZ3VtZW50IHNpZ25hdHVyZSBvZiB0Zi5pby5mcm9tTWVtb3J5KCkgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHJlbGVhc2UuXCIpLG5ldyBPZCh7bW9kZWxUb3BvbG9neTp0LHdlaWdodFNwZWNzOmUsd2VpZ2h0RGF0YTpuLHRyYWluaW5nQ29uZmlnOnJ9KSl9LGdldExvYWRIYW5kbGVyczpmdW5jdGlvbih0LGUpe3JldHVybiBRZi5nZXRMb2FkSGFuZGxlcnModCxlKX0sZ2V0TW9kZWxBcnRpZmFjdHNJbmZvRm9ySlNPTjokZixnZXRTYXZlSGFuZGxlcnM6ZnVuY3Rpb24odCl7cmV0dXJuIFFmLmdldFNhdmVIYW5kbGVycyh0KX0saHR0cDpfZCxpc0hUVFBTY2hlbWU6TmQsbG9hZFdlaWdodHM6ZnVuY3Rpb24odCxlLG8sYSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiXCIpLG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKG4pe3JldHVyblsyLFRkKChmdW5jdGlvbih0KXtyZXR1cm4gQWQodCx7cmVxdWVzdEluaXQ6YX0pfSkpKHQsZSxvKV19KSl9KSl9LHJlZ2lzdGVyTG9hZFJvdXRlcjpmdW5jdGlvbih0KXtyZXR1cm4gUWYucmVnaXN0ZXJMb2FkUm91dGVyKHQpfSxyZWdpc3RlclNhdmVSb3V0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIFFmLnJlZ2lzdGVyU2F2ZVJvdXRlcih0KX0sd2VpZ2h0c0xvYWRlckZhY3Rvcnk6VGQsd2l0aFNhdmVIYW5kbGVyOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTWQodCl9LGNvcHlNb2RlbDpmdW5jdGlvbih0LGUpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihuKXtyZXR1cm4hMSxbMixlZCh0LGUsITEpXX0pKX0pKX0sbGlzdE1vZGVsczpmdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG4sbyxhLGkscztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnQ9WmYuZ2V0U2NoZW1lcygpLGU9e30sbj0wLG89dCxyLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBuPG8ubGVuZ3RoPyhhPW9bbl0sWzQsWmYuZ2V0TWFuYWdlcihhKS5saXN0TW9kZWxzKCldKTpbMyw0XTtjYXNlIDI6Zm9yKHMgaW4gaT1yLnNlbnQoKSllW2ErSmYrc109aVtzXTtyLmxhYmVsPTM7Y2FzZSAzOnJldHVybiBuKyssWzMsMV07Y2FzZSA0OnJldHVyblsyLGVdfX0pKX0pKX0sbW92ZU1vZGVsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKG4pe3JldHVybiEwLFsyLGVkKHQsZSwhMCldfSkpfSkpfSxyZW1vdmVNb2RlbDpmdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24obil7cmV0dXJuIGU9dGQodCksWzIsWmYuZ2V0TWFuYWdlcihlLnNjaGVtZSkucmVtb3ZlTW9kZWwoZS5wYXRoKV19KSl9KSl9fSk7dmFyIFBkLExkPUFuKHtjb25mdXNpb25NYXRyaXhfOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1nbih0LFwibGFiZWxzXCIsXCJjb25mdXNpb25NYXRyaXhcIiksbz1nbihlLFwicHJlZGljdGlvbnNcIixcImNvbmZ1c2lvbk1hdHJpeFwiKTtDKG51bGw9PW58fG4+MCYmTnVtYmVyLmlzSW50ZWdlcihuKSwoZnVuY3Rpb24oKXtyZXR1cm5cIklmIHByb3ZpZGVkLCBudW1DbGFzc2VzIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBidXQgZ290IFwiK259KSksQygxPT09ci5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXhwZWN0ZWQgdGhlIHJhbmsgb2YgbGFiZWxzIHRvIGJlIDEsIGJ1dCBnb3QgXCIrci5yYW5rfSkpLEMoMT09PW8ucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkV4cGVjdGVkIHRoZSByYW5rIG9mIHByZWRpY3Rpb25zIHRvIGJlIDEsIGJ1dCBnb3QgXCIrby5yYW5rfSkpLEMoci5zaGFwZVswXT09PW8uc2hhcGVbMF0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJNaXNtYXRjaCBpbiB0aGUgbnVtYmVyIG9mIGV4YW1wbGVzOiBcIityLnNoYXBlWzBdK1wiIHZzLiBcIitvLnNoYXBlWzBdK1wiLiBMYWJlbHMgYW5kIHByZWRpY3Rpb25zIHNob3VsZCBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBlbGVtZW50cy5cIn0pKSxDKG4+MCYmTnVtYmVyLmlzSW50ZWdlcihuKSwoZnVuY3Rpb24oKXtyZXR1cm5cIm51bUNsYXNzZXMgaXMgcmVxdWlyZWQgdG8gYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBidXQgZ290IFwiK259KSk7dmFyIGE9UmMoci5hc1R5cGUoXCJpbnQzMlwiKSxuKSxpPVJjKG8uYXNUeXBlKFwiaW50MzJcIiksbik7cmV0dXJuIGEudHJhbnNwb3NlKCkubWF0TXVsKGkpLmFzVHlwZShcImludDMyXCIpfX0pLFdkPU9iamVjdC5mcmVlemUoe2NvbmZ1c2lvbk1hdHJpeDpMZH0pO3ZhciBVZD1Bbih7ZnJvbVBpeGVsc186ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0zKSxlPjQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnN0cnVjdCBUZW5zb3Igd2l0aCBtb3JlIHRoYW4gNCBjaGFubmVscyBmcm9tIHBpeGVscy5cIik7aWYobnVsbD09dCl0aHJvdyBuZXcgRXJyb3IoXCJwaXhlbHMgcGFzc2VkIHRvIHRmLmJyb3dzZXIuZnJvbVBpeGVscygpIGNhbiBub3QgYmUgbnVsbFwiKTt2YXIgbj0hMSxyPSExLG89ITEsYT0hMSxpPSExO2lmKHQuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpbj0hMDtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBJbWFnZURhdGEmJnQgaW5zdGFuY2VvZiBJbWFnZURhdGEpcj0hMDtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBIVE1MVmlkZW9FbGVtZW50JiZ0IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudClvPSEwO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQmJnQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KWE9ITA7ZWxzZXtpZihudWxsPT10LmdldENvbnRleHQpdGhyb3cgbmV3IEVycm9yKFwicGl4ZWxzIHBhc3NlZCB0byB0Zi5icm93c2VyLmZyb21QaXhlbHMoKSBtdXN0IGJlIGVpdGhlciBhbiBIVE1MVmlkZW9FbGVtZW50LCBIVE1MSW1hZ2VFbGVtZW50LCBIVE1MQ2FudmFzRWxlbWVudCwgSW1hZ2VEYXRhIGluIGJyb3dzZXIsIG9yIE9mZnNjcmVlbkNhbnZhcywgSW1hZ2VEYXRhIGluIHdlYndvcmtlciBvciB7ZGF0YTogVWludDMyQXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyfSwgYnV0IHdhcyBcIit0LmNvbnN0cnVjdG9yLm5hbWUpO2k9ITB9aWYobyl7aWYobyYmdC5yZWFkeVN0YXRlPDIpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHZpZGVvIGVsZW1lbnQgaGFzIG5vdCBsb2FkZWQgZGF0YSB5ZXQuIFBsZWFzZSB3YWl0IGZvciBgbG9hZGVkZGF0YWAgZXZlbnQgb24gdGhlIDx2aWRlbz4gZWxlbWVudC5cIil9aWYobnVsbCE9bChcIkZyb21QaXhlbHNcIixMdC5iYWNrZW5kTmFtZSkpcmV0dXJuIEx0LnJ1bktlcm5lbChcIkZyb21QaXhlbHNcIix7cGl4ZWxzOnR9LHtudW1DaGFubmVsczplfSk7dmFyIHMsdSxjPW8/W3QudmlkZW9XaWR0aCx0LnZpZGVvSGVpZ2h0XTpbdC53aWR0aCx0LmhlaWdodF0saD1jWzBdLGY9Y1sxXTtpZihpP3M9dC5nZXRDb250ZXh0KFwiMmRcIikuZ2V0SW1hZ2VEYXRhKDAsMCxoLGYpLmRhdGE6cnx8bj9zPXQuZGF0YTooYXx8bykmJihudWxsPT1QZCYmKFBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIjJkXCIpKSxQZC5jYW52YXMud2lkdGg9aCxQZC5jYW52YXMuaGVpZ2h0PWYsUGQuZHJhd0ltYWdlKHQsMCwwLGgsZikscz1QZC5nZXRJbWFnZURhdGEoMCwwLGgsZikuZGF0YSksND09PWUpdT1uZXcgSW50MzJBcnJheShzKTtlbHNle3ZhciBkPWgqZjt1PW5ldyBJbnQzMkFycmF5KGQqZSk7Zm9yKHZhciBwPTA7cDxkO3ArKylmb3IodmFyIHY9MDt2PGU7Kyt2KXVbcCplK3ZdPXNbNCpwK3ZdfXJldHVybiBQbih1LFtmLGgsZV0sXCJpbnQzMlwiKX19KSxWZD1PYmplY3QuZnJlZXplKHt0b1BpeGVsczpmdW5jdGlvbih0LGUpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixvLGEsaSxzLHUsYyxsLGgsZixkLHAsdixnLG0seSx4LGIsdyxDLEUsUixJO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6aWYobj1nbih0LFwiaW1nXCIsXCJ0b1BpeGVsc1wiKSx0IGluc3RhbmNlb2Ygd3R8fChuPW4udG9JbnQoKSksMiE9PW4ucmFuayYmMyE9PW4ucmFuayl0aHJvdyBuZXcgRXJyb3IoXCJ0b1BpeGVscyBvbmx5IHN1cHBvcnRzIHJhbmsgMiBvciAzIHRlbnNvcnMsIGdvdCByYW5rIFwiK24ucmFuaytcIi5cIik7aWYobz1uLnNoYXBlLnNsaWNlKDAsMiksYT1vWzBdLGk9b1sxXSwocz0yPT09bi5yYW5rPzE6bi5zaGFwZVsyXSk+NHx8Mj09PXMpdGhyb3cgbmV3IEVycm9yKFwidG9QaXhlbHMgb25seSBzdXBwb3J0cyBkZXB0aCBvZiBzaXplIDEsIDMgb3IgNCBidXQgZ290IFwiK3MpO3JldHVybls0LG4uZGF0YSgpXTtjYXNlIDE6cmV0dXJuIHU9ci5zZW50KCksYz1uLm1pbigpLGw9bi5tYXgoKSxbNCxQcm9taXNlLmFsbChbYy5kYXRhKCksbC5kYXRhKCldKV07Y2FzZSAyOmlmKGg9ci5zZW50KCksZj1oWzBdLGQ9aFsxXSxwPWZbMF0sdj1kWzBdLGMuZGlzcG9zZSgpLGwuZGlzcG9zZSgpLFwiZmxvYXQzMlwiPT09bi5kdHlwZSl7aWYocDwwfHx2PjEpdGhyb3cgbmV3IEVycm9yKFwiVGVuc29yIHZhbHVlcyBmb3IgYSBmbG9hdDMyIFRlbnNvciBtdXN0IGJlIGluIHRoZSByYW5nZSBbMCAtIDFdIGJ1dCBnb3QgcmFuZ2UgW1wiK3ArXCIgLSBcIit2K1wiXS5cIil9ZWxzZXtpZihcImludDMyXCIhPT1uLmR0eXBlKXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHR5cGUgZm9yIHRvUGl4ZWxzOiBcIituLmR0eXBlK1wiLiBQbGVhc2UgdXNlIGZsb2F0MzIgb3IgaW50MzIgdGVuc29ycy5cIik7aWYocDwwfHx2PjI1NSl0aHJvdyBuZXcgRXJyb3IoXCJUZW5zb3IgdmFsdWVzIGZvciBhIGludDMyIFRlbnNvciBtdXN0IGJlIGluIHRoZSByYW5nZSBbMCAtIDI1NV0gYnV0IGdvdCByYW5nZSBbXCIrcCtcIiAtIFwiK3YrXCJdLlwiKX1mb3IoZz1cImZsb2F0MzJcIj09PW4uZHR5cGU/MjU1OjEsbT1uZXcgVWludDhDbGFtcGVkQXJyYXkoaSphKjQpLHk9MDt5PGEqaTsrK3kpeD12b2lkIDAsYj12b2lkIDAsdz12b2lkIDAsQz12b2lkIDAsMT09PXM/KHg9dVt5XSpnLGI9dVt5XSpnLHc9dVt5XSpnLEM9MjU1KTozPT09cz8oeD11WzMqeV0qZyxiPXVbMyp5KzFdKmcsdz11WzMqeSsyXSpnLEM9MjU1KTo0PT09cyYmKHg9dVs0KnldKmcsYj11WzQqeSsxXSpnLHc9dVs0KnkrMl0qZyxDPXVbNCp5KzNdKmcpLG1bKEU9NCp5KSswXT1NYXRoLnJvdW5kKHgpLG1bRSsxXT1NYXRoLnJvdW5kKGIpLG1bRSsyXT1NYXRoLnJvdW5kKHcpLG1bRSszXT1NYXRoLnJvdW5kKEMpO3JldHVybiBudWxsIT1lJiYoZS53aWR0aD1pLGUuaGVpZ2h0PWEsUj1lLmdldENvbnRleHQoXCIyZFwiKSxJPW5ldyBJbWFnZURhdGEobSxpLGEpLFIucHV0SW1hZ2VEYXRhKEksMCwwKSksbiE9PXQmJm4uZGlzcG9zZSgpLFsyLG1dfX0pKX0pKX0sZnJvbVBpeGVsczpVZH0pLHpkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY2xhc3NOYW1lfSx0LmZyb21Db25maWc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHQoZSl9LHR9KCksR2Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5jbGFzc05hbWVNYXA9e319cmV0dXJuIHQuZ2V0TWFwPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXQuaW5zdGFuY2UmJih0Lmluc3RhbmNlPW5ldyB0KSx0Lmluc3RhbmNlfSx0LnJlZ2lzdGVyPWZ1bmN0aW9uKGUpe3QuZ2V0TWFwKCkuY2xhc3NOYW1lTWFwW2UuY2xhc3NOYW1lXT1bZSxlLmZyb21Db25maWddfSx0fSgpO2Z1bmN0aW9uIEhkKHQpe0MobnVsbCE9dC5jbGFzc05hbWUsKGZ1bmN0aW9uKCl7cmV0dXJuXCJDbGFzcyBiZWluZyByZWdpc3RlcmVkIGRvZXMgbm90IGhhdmUgdGhlIHN0YXRpYyBjbGFzc05hbWUgcHJvcGVydHkgZGVmaW5lZC5cIn0pKSxDKFwic3RyaW5nXCI9PXR5cGVvZiB0LmNsYXNzTmFtZSwoZnVuY3Rpb24oKXtyZXR1cm5cImNsYXNzTmFtZSBpcyByZXF1aXJlZCB0byBiZSBhIHN0cmluZywgYnV0IGdvdCB0eXBlIFwiK3R5cGVvZiB0LmNsYXNzTmFtZX0pKSxDKHQuY2xhc3NOYW1lLmxlbmd0aD4wLChmdW5jdGlvbigpe3JldHVyblwiQ2xhc3MgYmVpbmcgcmVnaXN0ZXJlZCBoYXMgYW4gZW1wdHktc3RyaW5nIGFzIGl0cyBjbGFzc05hbWUsIHdoaWNoIGlzIGRpc2FsbG93ZWQuXCJ9KSksR2QucmVnaXN0ZXIodCl9dmFyIHFkPU9iamVjdC5mcmVlemUoe1NlcmlhbGl6YWJsZTp6ZCxTZXJpYWxpemF0aW9uTWFwOkdkLHJlZ2lzdGVyQ2xhc3M6SGR9KSxLZD1cIjEuNy40XCI7dmFyIGpkPU9iamVjdC5mcmVlemUoe2dwZ3B1X3V0aWw6UnMsd2ViZ2xfdXRpbDpHZSxmb3JjZUhhbGZGbG9hdDpmdW5jdGlvbigpe2koKS5zZXQoXCJXRUJHTF9GT1JDRV9GMTZfVEVYVFVSRVNcIiwhMCl9LE1hdGhCYWNrZW5kV2ViR0w6VXUsc2V0V2ViR0xDb250ZXh0Okt0LEdQR1BVQ29udGV4dDpJc30pLFhkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBlKG8sdCksby5wcm90b3R5cGUubWluaW1pemU9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPSExKTt2YXIgcj10aGlzLmNvbXB1dGVHcmFkaWVudHModCxuKSxvPXIudmFsdWUsYT1yLmdyYWRzO2lmKG51bGwhPW4pe3ZhciBpPW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0Lm5hbWUsdGVuc29yOmFbdC5uYW1lXX19KSk7dGhpcy5hcHBseUdyYWRpZW50cyhpKX1lbHNlIHRoaXMuYXBwbHlHcmFkaWVudHMoYSk7cmV0dXJuIHRuKGEpLGU/bzooby5kaXNwb3NlKCksbnVsbCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLnByb3RvdHlwZSxcIml0ZXJhdGlvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMuaXRlcmF0aW9uc18mJih0aGlzLml0ZXJhdGlvbnNfPTApLHRoaXMuaXRlcmF0aW9uc199LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksby5wcm90b3R5cGUuaW5jcmVtZW50SXRlcmF0aW9ucz1mdW5jdGlvbigpe3RoaXMuaXRlcmF0aW9uc189dGhpcy5pdGVyYXRpb25zKzF9LG8ucHJvdG90eXBlLmNvbXB1dGVHcmFkaWVudHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcmEodCxlKX0sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe251bGwhPXRoaXMuaXRlcmF0aW9uc18mJnRuKHRoaXMuaXRlcmF0aW9uc18pfSxvLnByb3RvdHlwZS5zYXZlSXRlcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dGhpcy5pdGVyYXRpb25zXyYmKHRoaXMuaXRlcmF0aW9uc189MCksWzIse25hbWU6XCJpdGVyXCIsdGVuc29yOk9uKHRoaXMuaXRlcmF0aW9uc18sXCJpbnQzMlwiKX1dfSkpfSkpfSxvLnByb3RvdHlwZS5nZXRXZWlnaHRzPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcImdldFdlaWdodHMoKSBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgb3B0aW1pemVyIHlldC5cIil9KSl9KSl9LG8ucHJvdG90eXBlLnNldFdlaWdodHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInNldFdlaWdodHMoKSBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgb3B0aW1pemVyIGNsYXNzIFwiK3RoaXMuZ2V0Q2xhc3NOYW1lKCkpfSkpfSkpfSxvLnByb3RvdHlwZS5leHRyYWN0SXRlcmF0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT10aGlzLFs0LHRbMF0udGVuc29yLmRhdGEoKV07Y2FzZSAxOnJldHVybiBlLml0ZXJhdGlvbnNfPW4uc2VudCgpWzBdLFsyLHQuc2xpY2UoMSldfX0pKX0pKX0sb30oemQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShYZCxTeW1ib2wuaGFzSW5zdGFuY2Use3ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10Lm1pbmltaXplJiZudWxsIT10LmNvbXB1dGVHcmFkaWVudHMmJm51bGwhPXQuYXBwbHlHcmFkaWVudHN9fSk7dmFyIFlkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG8oZSxuLHIpe3ZvaWQgMD09PXImJihyPW51bGwpO3ZhciBvPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5sZWFybmluZ1JhdGU9ZSxvLnJobz1uLG8uZXBzaWxvbj1yLG8uYWNjdW11bGF0ZWRHcmFkcz1bXSxvLmFjY3VtdWxhdGVkVXBkYXRlcz1bXSxudWxsPT1yJiYoby5lcHNpbG9uPUx0LmJhY2tlbmQuZXBzaWxvbigpKSxvfXJldHVybiBlKG8sdCksby5wcm90b3R5cGUuYXBwbHlHcmFkaWVudHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczsoQXJyYXkuaXNBcnJheSh0KT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKTpPYmplY3Qua2V5cyh0KSkuZm9yRWFjaCgoZnVuY3Rpb24obixyKXt2YXIgbz1MdC5yZWdpc3RlcmVkVmFyaWFibGVzW25dO251bGw9PWUuYWNjdW11bGF0ZWRHcmFkc1tyXSYmKGUuYWNjdW11bGF0ZWRHcmFkc1tyXT17b3JpZ2luYWxOYW1lOm4rXCIvYWNjdW1fZ3JhZFwiLHZhcmlhYmxlOlplKChmdW5jdGlvbigpe3JldHVybiBYbihvKS52YXJpYWJsZSghMSl9KSl9KSxudWxsPT1lLmFjY3VtdWxhdGVkVXBkYXRlc1tyXSYmKGUuYWNjdW11bGF0ZWRVcGRhdGVzW3JdPXtvcmlnaW5hbE5hbWU6bitcIi9hY2N1bV92YXJcIix2YXJpYWJsZTpaZSgoZnVuY3Rpb24oKXtyZXR1cm4gWG4obykudmFyaWFibGUoITEpfSkpfSk7dmFyIGE9QXJyYXkuaXNBcnJheSh0KT90W3JdLnRlbnNvcjp0W25dO2lmKG51bGwhPWEpe3ZhciBpPWUuYWNjdW11bGF0ZWRHcmFkc1tyXS52YXJpYWJsZSxzPWUuYWNjdW11bGF0ZWRVcGRhdGVzW3JdLnZhcmlhYmxlO1plKChmdW5jdGlvbigpe3ZhciB0PWkubXVsKGUucmhvKS5hZGQoYS5zcXVhcmUoKS5tdWwoMS1lLnJobykpLG49cy5hZGQoZS5lcHNpbG9uKS5zcXJ0KCkuZGl2KGkuYWRkKGUuZXBzaWxvbikuc3FydCgpKS5tdWwoYSkscj1zLm11bChlLnJobykuYWRkKG4uc3F1YXJlKCkubXVsKDEtZS5yaG8pKTtpLmFzc2lnbih0KSxzLmFzc2lnbihyKTt2YXIgdT1uLm11bCgtZS5sZWFybmluZ1JhdGUpLmFkZChvKTtvLmFzc2lnbih1KX0pKX19KSksdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCl9LG8ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmFjY3VtdWxhdGVkVXBkYXRlcyYmKHRuKHRoaXMuYWNjdW11bGF0ZWRHcmFkcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhcmlhYmxlfSkpKSx0bih0aGlzLmFjY3VtdWxhdGVkVXBkYXRlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhcmlhYmxlfSkpKSl9LG8ucHJvdG90eXBlLmdldFdlaWdodHM9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD10aGlzLmFjY3VtdWxhdGVkR3JhZHMuY29uY2F0KHRoaXMuYWNjdW11bGF0ZWRVcGRhdGVzKSxbNCx0aGlzLnNhdmVJdGVyYXRpb25zKCldO2Nhc2UgMTpyZXR1cm5bMixbZS5zZW50KCldLmNvbmNhdCh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dC5vcmlnaW5hbE5hbWUsdGVuc29yOnQudmFyaWFibGV9fSkpKV19fSkpfSkpfSxvLnByb3RvdHlwZS5zZXRXZWlnaHRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZXh0cmFjdEl0ZXJhdGlvbnModCldO2Nhc2UgMTpyZXR1cm4gdD1uLnNlbnQoKSxlPXQubGVuZ3RoLzIsITEsdGhpcy5hY2N1bXVsYXRlZEdyYWRzPXQuc2xpY2UoMCxlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntvcmlnaW5hbE5hbWU6dC5uYW1lLHZhcmlhYmxlOnQudGVuc29yLnZhcmlhYmxlKCExKX19KSksdGhpcy5hY2N1bXVsYXRlZFVwZGF0ZXM9dC5zbGljZShlLDIqZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57b3JpZ2luYWxOYW1lOnQubmFtZSx2YXJpYWJsZTp0LnRlbnNvci52YXJpYWJsZSghMSl9fSkpLFsyXX19KSl9KSl9LG8ucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybntsZWFybmluZ1JhdGU6dGhpcy5sZWFybmluZ1JhdGUscmhvOnRoaXMucmhvLGVwc2lsb246dGhpcy5lcHNpbG9ufX0sby5mcm9tQ29uZmlnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB0KGUubGVhcm5pbmdSYXRlLGUucmhvLGUuZXBzaWxvbil9LG8uY2xhc3NOYW1lPVwiQWRhZGVsdGFcIixvfShYZCk7SGQoWWQpO3ZhciAkZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKGUsbil7dm9pZCAwPT09biYmKG49LjEpO3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5sZWFybmluZ1JhdGU9ZSxyLmluaXRpYWxBY2N1bXVsYXRvclZhbHVlPW4sci5hY2N1bXVsYXRlZEdyYWRzPVtdLHJ9cmV0dXJuIGUobyx0KSxvLnByb3RvdHlwZS5hcHBseUdyYWRpZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzOyhBcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpOk9iamVjdC5rZXlzKHQpKS5mb3JFYWNoKChmdW5jdGlvbihuLHIpe3ZhciBvPUx0LnJlZ2lzdGVyZWRWYXJpYWJsZXNbbl07aWYobnVsbD09ZS5hY2N1bXVsYXRlZEdyYWRzW3JdKXtlLmFjY3VtdWxhdGVkR3JhZHNbcl09e29yaWdpbmFsTmFtZTpuK1wiL2FjY3VtdWxhdG9yXCIsdmFyaWFibGU6WmUoKGZ1bmN0aW9uKCl7cmV0dXJuIEhuKG8uc2hhcGUsZS5pbml0aWFsQWNjdW11bGF0b3JWYWx1ZSkudmFyaWFibGUoITEpfSkpfX12YXIgYT1BcnJheS5pc0FycmF5KHQpP3Rbcl0udGVuc29yOnRbbl07aWYobnVsbCE9YSl7dmFyIGk9ZS5hY2N1bXVsYXRlZEdyYWRzW3JdLnZhcmlhYmxlO1plKChmdW5jdGlvbigpe3ZhciB0PWkuYWRkKGEuc3F1YXJlKCkpO2kuYXNzaWduKHQpO3ZhciBuPWEuZGl2KHQuYWRkKEx0LmJhY2tlbmQuZXBzaWxvbigpKS5zcXJ0KCkpLm11bCgtZS5sZWFybmluZ1JhdGUpLmFkZChvKTtvLmFzc2lnbihuKX0pKX19KSksdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCl9LG8ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmFjY3VtdWxhdGVkR3JhZHMmJnRuKHRoaXMuYWNjdW11bGF0ZWRHcmFkcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhcmlhYmxlfSkpKX0sby5wcm90b3R5cGUuZ2V0V2VpZ2h0cz1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc2F2ZUl0ZXJhdGlvbnMoKV07Y2FzZSAxOnJldHVyblsyLFt0LnNlbnQoKV0uY29uY2F0KHRoaXMuYWNjdW11bGF0ZWRHcmFkcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntuYW1lOnQub3JpZ2luYWxOYW1lLHRlbnNvcjp0LnZhcmlhYmxlfX0pKSldfX0pKX0pKX0sby5wcm90b3R5cGUuc2V0V2VpZ2h0cz1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmV4dHJhY3RJdGVyYXRpb25zKHQpXTtjYXNlIDE6cmV0dXJuIHQ9ZS5zZW50KCksITEsdGhpcy5hY2N1bXVsYXRlZEdyYWRzPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm57b3JpZ2luYWxOYW1lOnQubmFtZSx2YXJpYWJsZTp0LnRlbnNvci52YXJpYWJsZSghMSl9fSkpLFsyXX19KSl9KSl9LG8ucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybntsZWFybmluZ1JhdGU6dGhpcy5sZWFybmluZ1JhdGUsaW5pdGlhbEFjY3VtdWxhdG9yVmFsdWU6dGhpcy5pbml0aWFsQWNjdW11bGF0b3JWYWx1ZX19LG8uZnJvbUNvbmZpZz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdChlLmxlYXJuaW5nUmF0ZSxlLmluaXRpYWxBY2N1bXVsYXRvclZhbHVlKX0sby5jbGFzc05hbWU9XCJBZGFncmFkXCIsb30oWGQpO0hkKCRkKTt2YXIgUWQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbyhlLG4scixvKXt2b2lkIDA9PT1vJiYobz1udWxsKTt2YXIgYT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGEubGVhcm5pbmdSYXRlPWUsYS5iZXRhMT1uLGEuYmV0YTI9cixhLmVwc2lsb249byxhLmFjY3VtdWxhdGVkRmlyc3RNb21lbnQ9W10sYS5hY2N1bXVsYXRlZFNlY29uZE1vbWVudD1bXSxaZSgoZnVuY3Rpb24oKXthLmFjY0JldGExPU9uKG4pLnZhcmlhYmxlKCksYS5hY2NCZXRhMj1PbihyKS52YXJpYWJsZSgpfSkpLG51bGw9PW8mJihhLmVwc2lsb249THQuYmFja2VuZC5lcHNpbG9uKCkpLGF9cmV0dXJuIGUobyx0KSxvLnByb3RvdHlwZS5hcHBseUdyYWRpZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49QXJyYXkuaXNBcnJheSh0KT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKTpPYmplY3Qua2V5cyh0KTtaZSgoZnVuY3Rpb24oKXt2YXIgcj1PbygxLGUuYWNjQmV0YTEpLG89T28oMSxlLmFjY0JldGEyKTtuLmZvckVhY2goKGZ1bmN0aW9uKG4sYSl7dmFyIGk9THQucmVnaXN0ZXJlZFZhcmlhYmxlc1tuXTtudWxsPT1lLmFjY3VtdWxhdGVkRmlyc3RNb21lbnRbYV0mJihlLmFjY3VtdWxhdGVkRmlyc3RNb21lbnRbYV09e29yaWdpbmFsTmFtZTpuK1wiL21cIix2YXJpYWJsZTpaZSgoZnVuY3Rpb24oKXtyZXR1cm4gWG4oaSkudmFyaWFibGUoITEpfSkpfSksbnVsbD09ZS5hY2N1bXVsYXRlZFNlY29uZE1vbWVudFthXSYmKGUuYWNjdW11bGF0ZWRTZWNvbmRNb21lbnRbYV09e29yaWdpbmFsTmFtZTpuK1wiL3ZcIix2YXJpYWJsZTpaZSgoZnVuY3Rpb24oKXtyZXR1cm4gWG4oaSkudmFyaWFibGUoITEpfSkpfSk7dmFyIHM9QXJyYXkuaXNBcnJheSh0KT90W2FdLnRlbnNvcjp0W25dO2lmKG51bGwhPXMpe3ZhciB1PWUuYWNjdW11bGF0ZWRGaXJzdE1vbWVudFthXS52YXJpYWJsZSxjPWUuYWNjdW11bGF0ZWRTZWNvbmRNb21lbnRbYV0udmFyaWFibGUsbD11Lm11bChlLmJldGExKS5hZGQocy5tdWwoMS1lLmJldGExKSksaD1jLm11bChlLmJldGEyKS5hZGQocy5zcXVhcmUoKS5tdWwoMS1lLmJldGEyKSksZj1sLmRpdihyKSxkPWguZGl2KG8pO3UuYXNzaWduKGwpLGMuYXNzaWduKGgpO3ZhciBwPWYuZGl2KGQuc3FydCgpLmFkZChlLmVwc2lsb24pKS5tdWwoLWUubGVhcm5pbmdSYXRlKS5hZGQoaSk7aS5hc3NpZ24ocCl9fSkpLGUuYWNjQmV0YTEuYXNzaWduKGUuYWNjQmV0YTEubXVsKGUuYmV0YTEpKSxlLmFjY0JldGEyLmFzc2lnbihlLmFjY0JldGEyLm11bChlLmJldGEyKSl9KSksdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCl9LG8ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmFjY0JldGExLmRpc3Bvc2UoKSx0aGlzLmFjY0JldGEyLmRpc3Bvc2UoKSxudWxsIT10aGlzLmFjY3VtdWxhdGVkRmlyc3RNb21lbnQmJnRuKHRoaXMuYWNjdW11bGF0ZWRGaXJzdE1vbWVudC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhcmlhYmxlfSkpKSxudWxsIT10aGlzLmFjY3VtdWxhdGVkU2Vjb25kTW9tZW50JiZ0bih0aGlzLmFjY3VtdWxhdGVkU2Vjb25kTW9tZW50Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFyaWFibGV9KSkpfSxvLnByb3RvdHlwZS5nZXRXZWlnaHRzPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0O3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9dGhpcy5hY2N1bXVsYXRlZEZpcnN0TW9tZW50LmNvbmNhdCh0aGlzLmFjY3VtdWxhdGVkU2Vjb25kTW9tZW50KSxbNCx0aGlzLnNhdmVJdGVyYXRpb25zKCldO2Nhc2UgMTpyZXR1cm5bMixbZS5zZW50KCldLmNvbmNhdCh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dC5vcmlnaW5hbE5hbWUsdGVuc29yOnQudmFyaWFibGV9fSkpKV19fSkpfSkpfSxvLnByb3RvdHlwZS5zZXRXZWlnaHRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuPXRoaXM7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmV4dHJhY3RJdGVyYXRpb25zKHQpXTtjYXNlIDE6cmV0dXJuIHQ9ci5zZW50KCksWmUoKGZ1bmN0aW9uKCl7bi5hY2NCZXRhMS5hc3NpZ24oTm8obi5iZXRhMSxuLml0ZXJhdGlvbnNfKzEpKSxuLmFjY0JldGEyLmFzc2lnbihObyhuLmJldGEyLG4uaXRlcmF0aW9uc18rMSkpfSkpLGU9dC5sZW5ndGgvMiwhMSx0aGlzLmFjY3VtdWxhdGVkRmlyc3RNb21lbnQ9dC5zbGljZSgwLGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue29yaWdpbmFsTmFtZTp0Lm5hbWUsdmFyaWFibGU6dC50ZW5zb3IudmFyaWFibGUoITEpfX0pKSx0aGlzLmFjY3VtdWxhdGVkU2Vjb25kTW9tZW50PXQuc2xpY2UoZSwyKmUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue29yaWdpbmFsTmFtZTp0Lm5hbWUsdmFyaWFibGU6dC50ZW5zb3IudmFyaWFibGUoITEpfX0pKSxbMl19fSkpfSkpfSxvLnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm57bGVhcm5pbmdSYXRlOnRoaXMubGVhcm5pbmdSYXRlLGJldGExOnRoaXMuYmV0YTEsYmV0YTI6dGhpcy5iZXRhMixlcHNpbG9uOnRoaXMuZXBzaWxvbn19LG8uZnJvbUNvbmZpZz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdChlLmxlYXJuaW5nUmF0ZSxlLmJldGExLGUuYmV0YTIsZS5lcHNpbG9uKX0sby5jbGFzc05hbWU9XCJBZGFtXCIsb30oWGQpO0hkKFFkKTt2YXIgSmQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbyhlLG4scixvLGEpe3ZvaWQgMD09PW8mJihvPW51bGwpLHZvaWQgMD09PWEmJihhPTApO3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5sZWFybmluZ1JhdGU9ZSxpLmJldGExPW4saS5iZXRhMj1yLGkuZXBzaWxvbj1vLGkuZGVjYXk9YSxpLmFjY3VtdWxhdGVkRmlyc3RNb21lbnQ9W10saS5hY2N1bXVsYXRlZFdlaWdodGVkSW5mTm9ybT1bXSxaZSgoZnVuY3Rpb24oKXtpLml0ZXJhdGlvbj1PbigwKS52YXJpYWJsZSgpLGkuYWNjQmV0YTE9T24obikudmFyaWFibGUoKX0pKSxudWxsPT1vJiYoaS5lcHNpbG9uPUx0LmJhY2tlbmQuZXBzaWxvbigpKSxpfXJldHVybiBlKG8sdCksby5wcm90b3R5cGUuYXBwbHlHcmFkaWVudHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPUFycmF5LmlzQXJyYXkodCk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9KSk6T2JqZWN0LmtleXModCk7WmUoKGZ1bmN0aW9uKCl7dmFyIHI9T28oMSxlLmFjY0JldGExKSxvPUJvKC1lLmxlYXJuaW5nUmF0ZSxlLml0ZXJhdGlvbi5tdWwoZS5kZWNheSkuYWRkKDEpKTtuLmZvckVhY2goKGZ1bmN0aW9uKG4sYSl7dmFyIGk9THQucmVnaXN0ZXJlZFZhcmlhYmxlc1tuXTtudWxsPT1lLmFjY3VtdWxhdGVkRmlyc3RNb21lbnRbYV0mJihlLmFjY3VtdWxhdGVkRmlyc3RNb21lbnRbYV09e29yaWdpbmFsTmFtZTpuK1wiL21cIix2YXJpYWJsZTpYbihpKS52YXJpYWJsZSghMSl9KSxudWxsPT1lLmFjY3VtdWxhdGVkV2VpZ2h0ZWRJbmZOb3JtW2FdJiYoZS5hY2N1bXVsYXRlZFdlaWdodGVkSW5mTm9ybVthXT17b3JpZ2luYWxOYW1lOm4rXCIvdlwiLHZhcmlhYmxlOlhuKGkpLnZhcmlhYmxlKCExKX0pO3ZhciBzPUFycmF5LmlzQXJyYXkodCk/dFthXS50ZW5zb3I6dFtuXTtpZihudWxsIT1zKXt2YXIgdT1lLmFjY3VtdWxhdGVkRmlyc3RNb21lbnRbYV0udmFyaWFibGUsYz1lLmFjY3VtdWxhdGVkV2VpZ2h0ZWRJbmZOb3JtW2FdLnZhcmlhYmxlLGw9dS5tdWwoZS5iZXRhMSkuYWRkKHMubXVsKDEtZS5iZXRhMSkpLGg9Yy5tdWwoZS5iZXRhMiksZj1zLmFicygpLGQ9aC5tYXhpbXVtKGYpO3UuYXNzaWduKGwpLGMuYXNzaWduKGQpO3ZhciBwPW8uZGl2KHIpLm11bChsLmRpdihkLmFkZChlLmVwc2lsb24pKSkuYWRkKGkpO2kuYXNzaWduKHApfX0pKSxlLml0ZXJhdGlvbi5hc3NpZ24oZS5pdGVyYXRpb24uYWRkKDEpKSxlLmFjY0JldGExLmFzc2lnbihlLmFjY0JldGExLm11bChlLmJldGExKSl9KSksdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCl9LG8ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmFjY0JldGExLmRpc3Bvc2UoKSx0aGlzLml0ZXJhdGlvbi5kaXNwb3NlKCksbnVsbCE9dGhpcy5hY2N1bXVsYXRlZEZpcnN0TW9tZW50JiZ0bih0aGlzLmFjY3VtdWxhdGVkRmlyc3RNb21lbnQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YXJpYWJsZX0pKSksbnVsbCE9dGhpcy5hY2N1bXVsYXRlZFdlaWdodGVkSW5mTm9ybSYmdG4odGhpcy5hY2N1bXVsYXRlZFdlaWdodGVkSW5mTm9ybS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhcmlhYmxlfSkpKX0sby5wcm90b3R5cGUuZ2V0V2VpZ2h0cz1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJnZXRXZWlnaHRzKCkgaXMgbm90IGltcGxlbWVudGVkIGZvciBBZGFtYXggeWV0LlwiKX0pKX0pKX0sby5wcm90b3R5cGUuc2V0V2VpZ2h0cz1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwic2V0V2VpZ2h0cygpIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgQWRhbWF4IHlldC5cIil9KSl9KSl9LG8ucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybntsZWFybmluZ1JhdGU6dGhpcy5sZWFybmluZ1JhdGUsYmV0YTE6dGhpcy5iZXRhMSxiZXRhMjp0aGlzLmJldGEyLGVwc2lsb246dGhpcy5lcHNpbG9uLGRlY2F5OnRoaXMuZGVjYXl9fSxvLmZyb21Db25maWc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHQoZS5sZWFybmluZ1JhdGUsZS5iZXRhMSxlLmJldGEyLGUuZXBzaWxvbixlLmRlY2F5KX0sby5jbGFzc05hbWU9XCJBZGFtYXhcIixvfShYZCk7SGQoSmQpO3ZhciBaZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5sZWFybmluZ1JhdGU9ZSxuLnNldExlYXJuaW5nUmF0ZShlKSxufXJldHVybiBlKG8sdCksby5wcm90b3R5cGUuYXBwbHlHcmFkaWVudHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczsoQXJyYXkuaXNBcnJheSh0KT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKTpPYmplY3Qua2V5cyh0KSkuZm9yRWFjaCgoZnVuY3Rpb24obixyKXt2YXIgbz1BcnJheS5pc0FycmF5KHQpP3Rbcl0udGVuc29yOnRbbl07aWYobnVsbCE9byl7dmFyIGE9THQucmVnaXN0ZXJlZFZhcmlhYmxlc1tuXTtaZSgoZnVuY3Rpb24oKXt2YXIgdD1lLmMubXVsKG8pLmFkZChhKTthLmFzc2lnbih0KX0pKX19KSksdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCl9LG8ucHJvdG90eXBlLnNldExlYXJuaW5nUmF0ZT1mdW5jdGlvbih0KXt0aGlzLmxlYXJuaW5nUmF0ZT10LG51bGwhPXRoaXMuYyYmdGhpcy5jLmRpc3Bvc2UoKSx0aGlzLmM9ZW4oT24oLXQpKX0sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuYy5kaXNwb3NlKCl9LG8ucHJvdG90eXBlLmdldFdlaWdodHM9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnNhdmVJdGVyYXRpb25zKCldO2Nhc2UgMTpyZXR1cm5bMixbdC5zZW50KCldXX19KSl9KSl9LG8ucHJvdG90eXBlLnNldFdlaWdodHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5leHRyYWN0SXRlcmF0aW9ucyh0KV07Y2FzZSAxOmlmKDAhPT0odD1lLnNlbnQoKSkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlNHRCBvcHRpbWl6ZXIgZG9lcyBub3QgaGF2ZSBzZXR0YWJsZSB3ZWlnaHRzLlwiKTtyZXR1cm5bMl19fSkpfSkpfSxvLnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm57bGVhcm5pbmdSYXRlOnRoaXMubGVhcm5pbmdSYXRlfX0sby5mcm9tQ29uZmlnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB0KGUubGVhcm5pbmdSYXRlKX0sby5jbGFzc05hbWU9XCJTR0RcIixvfShYZCk7SGQoWmQpO3ZhciB0cD1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKGUsbixyKXt2b2lkIDA9PT1yJiYocj0hMSk7dmFyIG89dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG8ubGVhcm5pbmdSYXRlPWUsby5tb21lbnR1bT1uLG8udXNlTmVzdGVyb3Y9cixvLmFjY3VtdWxhdGlvbnM9W10sby5tPU9uKG8ubW9tZW50dW0pLG99cmV0dXJuIGUobyx0KSxvLnByb3RvdHlwZS5hcHBseUdyYWRpZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzOyhBcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpOk9iamVjdC5rZXlzKHQpKS5mb3JFYWNoKChmdW5jdGlvbihuLHIpe3ZhciBvPUx0LnJlZ2lzdGVyZWRWYXJpYWJsZXNbbl07aWYobnVsbD09ZS5hY2N1bXVsYXRpb25zW3JdKXtlLmFjY3VtdWxhdGlvbnNbcl09e29yaWdpbmFsTmFtZTpuK1wiL21vbWVudHVtXCIsdmFyaWFibGU6WmUoKGZ1bmN0aW9uKCl7cmV0dXJuIFhuKG8pLnZhcmlhYmxlKCExKX0pKX19dmFyIGE9ZS5hY2N1bXVsYXRpb25zW3JdLnZhcmlhYmxlLGk9QXJyYXkuaXNBcnJheSh0KT90W3JdLnRlbnNvcjp0W25dO251bGwhPWkmJlplKChmdW5jdGlvbigpe3ZhciB0LG49ZS5tLm11bChhKS5hZGQoaSk7dD1lLnVzZU5lc3Rlcm92P2UuYy5tdWwoaS5hZGQobi5tdWwoZS5tKSkpLmFkZChvKTplLmMubXVsKG4pLmFkZChvKSxhLmFzc2lnbihuKSxvLmFzc2lnbih0KX0pKX0pKSx0aGlzLmluY3JlbWVudEl0ZXJhdGlvbnMoKX0sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMubS5kaXNwb3NlKCksbnVsbCE9dGhpcy5hY2N1bXVsYXRpb25zJiZ0bih0aGlzLmFjY3VtdWxhdGlvbnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YXJpYWJsZX0pKSl9LG8ucHJvdG90eXBlLnNldE1vbWVudHVtPWZ1bmN0aW9uKHQpe3RoaXMubW9tZW50dW09dH0sby5wcm90b3R5cGUuZ2V0V2VpZ2h0cz1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc2F2ZUl0ZXJhdGlvbnMoKV07Y2FzZSAxOnJldHVyblsyLFt0LnNlbnQoKV0uY29uY2F0KHRoaXMuYWNjdW11bGF0aW9ucy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntuYW1lOnQub3JpZ2luYWxOYW1lLHRlbnNvcjp0LnZhcmlhYmxlfX0pKSldfX0pKX0pKX0sby5wcm90b3R5cGUuc2V0V2VpZ2h0cz1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmV4dHJhY3RJdGVyYXRpb25zKHQpXTtjYXNlIDE6cmV0dXJuIHQ9ZS5zZW50KCksITEsdGhpcy5hY2N1bXVsYXRpb25zPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm57b3JpZ2luYWxOYW1lOnQubmFtZSx2YXJpYWJsZTp0LnRlbnNvci52YXJpYWJsZSghMSl9fSkpLFsyXX19KSl9KSl9LG8ucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybntsZWFybmluZ1JhdGU6dGhpcy5sZWFybmluZ1JhdGUsbW9tZW50dW06dGhpcy5tb21lbnR1bSx1c2VOZXN0ZXJvdjp0aGlzLnVzZU5lc3Rlcm92fX0sby5mcm9tQ29uZmlnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB0KGUubGVhcm5pbmdSYXRlLGUubW9tZW50dW0sZS51c2VOZXN0ZXJvdil9LG8uY2xhc3NOYW1lPVwiTW9tZW50dW1cIixvfShaZCk7SGQodHApO3ZhciBlcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKGUsbixyLG8sYSl7dm9pZCAwPT09biYmKG49LjkpLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PW8mJihvPW51bGwpLHZvaWQgMD09PWEmJihhPSExKTt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7aWYoaS5sZWFybmluZ1JhdGU9ZSxpLmRlY2F5PW4saS5tb21lbnR1bT1yLGkuZXBzaWxvbj1vLGkuYWNjdW11bGF0ZWRNZWFuU3F1YXJlcz1bXSxpLmFjY3VtdWxhdGVkTW9tZW50cz1bXSxpLmFjY3VtdWxhdGVkTWVhbkdyYWRzPVtdLGkuY2VudGVyZWQ9YSxudWxsPT1vJiYoaS5lcHNpbG9uPUx0LmJhY2tlbmQuZXBzaWxvbigpKSxudWxsPT1lKXRocm93IG5ldyBFcnJvcihcImxlYXJuaW5nUmF0ZSBmb3IgUk1TUHJvcE9wdGltaXplciBtdXN0IGJlIGRlZmluZWQuXCIpO3JldHVybiBpfXJldHVybiBlKG8sdCksby5wcm90b3R5cGUuYXBwbHlHcmFkaWVudHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczsoQXJyYXkuaXNBcnJheSh0KT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKTpPYmplY3Qua2V5cyh0KSkuZm9yRWFjaCgoZnVuY3Rpb24obixyKXt2YXIgbz1MdC5yZWdpc3RlcmVkVmFyaWFibGVzW25dO251bGw9PWUuYWNjdW11bGF0ZWRNZWFuU3F1YXJlc1tyXSYmKGUuYWNjdW11bGF0ZWRNZWFuU3F1YXJlc1tyXT17b3JpZ2luYWxOYW1lOm4rXCIvcm1zXCIsdmFyaWFibGU6WmUoKGZ1bmN0aW9uKCl7cmV0dXJuIFhuKG8pLnZhcmlhYmxlKCExKX0pKX0pLG51bGw9PWUuYWNjdW11bGF0ZWRNb21lbnRzW3JdJiYoZS5hY2N1bXVsYXRlZE1vbWVudHNbcl09e29yaWdpbmFsTmFtZTpuK1wiL21vbWVudHVtXCIsdmFyaWFibGU6WmUoKGZ1bmN0aW9uKCl7cmV0dXJuIFhuKG8pLnZhcmlhYmxlKCExKX0pKX0pLG51bGw9PWUuYWNjdW11bGF0ZWRNZWFuR3JhZHNbcl0mJmUuY2VudGVyZWQmJihlLmFjY3VtdWxhdGVkTWVhbkdyYWRzW3JdPXtvcmlnaW5hbE5hbWU6bitcIi9tZ1wiLHZhcmlhYmxlOlplKChmdW5jdGlvbigpe3JldHVybiBYbihvKS52YXJpYWJsZSghMSl9KSl9KTt2YXIgYT1BcnJheS5pc0FycmF5KHQpP3Rbcl0udGVuc29yOnRbbl07aWYobnVsbCE9YSl7dmFyIGk9ZS5hY2N1bXVsYXRlZE1lYW5TcXVhcmVzW3JdLnZhcmlhYmxlLHM9ZS5hY2N1bXVsYXRlZE1vbWVudHNbcl0udmFyaWFibGU7WmUoKGZ1bmN0aW9uKCl7dmFyIHQ9aS5tdWwoZS5kZWNheSkuYWRkKGEuc3F1YXJlKCkubXVsKDEtZS5kZWNheSkpO2lmKGUuY2VudGVyZWQpe3ZhciBuPWUuYWNjdW11bGF0ZWRNZWFuR3JhZHNbcl0udmFyaWFibGUsdT1uLm11bChlLmRlY2F5KS5hZGQoYS5tdWwoMS1lLmRlY2F5KSksYz1zLm11bChlLm1vbWVudHVtKS5hZGQoYS5tdWwoZS5sZWFybmluZ1JhdGUpLmRpdih0LnN1Yih1LnNxdWFyZSgpLmFkZChlLmVwc2lsb24pKS5zcXJ0KCkpKTtpLmFzc2lnbih0KSxuLmFzc2lnbih1KSxzLmFzc2lnbihjKTt2YXIgbD1vLnN1YihjKTtvLmFzc2lnbihsKX1lbHNle3ZhciBoPWkubXVsKGUuZGVjYXkpLmFkZChhLnNxdWFyZSgpLm11bCgxLWUuZGVjYXkpKTtjPXMubXVsKGUubW9tZW50dW0pLmFkZChhLm11bChlLmxlYXJuaW5nUmF0ZSkuZGl2KGguYWRkKGUuZXBzaWxvbikuc3FydCgpKSk7aS5hc3NpZ24oaCkscy5hc3NpZ24oYyk7bD1vLnN1YihjKTtvLmFzc2lnbihsKX19KSl9fSkpLHRoaXMuaW5jcmVtZW50SXRlcmF0aW9ucygpfSxvLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5hY2N1bXVsYXRlZE1lYW5TcXVhcmVzJiZ0bih0aGlzLmFjY3VtdWxhdGVkTWVhblNxdWFyZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YXJpYWJsZX0pKSksbnVsbCE9dGhpcy5hY2N1bXVsYXRlZE1lYW5HcmFkcyYmdGhpcy5jZW50ZXJlZCYmdG4odGhpcy5hY2N1bXVsYXRlZE1lYW5HcmFkcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhcmlhYmxlfSkpKSxudWxsIT10aGlzLmFjY3VtdWxhdGVkTW9tZW50cyYmdG4odGhpcy5hY2N1bXVsYXRlZE1vbWVudHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YXJpYWJsZX0pKSl9LG8ucHJvdG90eXBlLmdldFdlaWdodHM9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD10aGlzLmFjY3VtdWxhdGVkTWVhblNxdWFyZXMuY29uY2F0KHRoaXMuYWNjdW11bGF0ZWRNb21lbnRzKSx0aGlzLmNlbnRlcmVkJiZ0LnB1c2guYXBwbHkodCx0aGlzLmFjY3VtdWxhdGVkTWVhbkdyYWRzKSxbNCx0aGlzLnNhdmVJdGVyYXRpb25zKCldO2Nhc2UgMTpyZXR1cm5bMixbZS5zZW50KCldLmNvbmNhdCh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dC5vcmlnaW5hbE5hbWUsdGVuc29yOnQudmFyaWFibGV9fSkpKV19fSkpfSkpfSxvLnByb3RvdHlwZS5zZXRXZWlnaHRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZXh0cmFjdEl0ZXJhdGlvbnModCldO2Nhc2UgMTpyZXR1cm4gdD1uLnNlbnQoKSxlPXRoaXMuY2VudGVyZWQ/dC5sZW5ndGgvMzp0Lmxlbmd0aC8yLCExLHRoaXMuYWNjdW11bGF0ZWRNZWFuU3F1YXJlcz10LnNsaWNlKDAsZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57b3JpZ2luYWxOYW1lOnQubmFtZSx2YXJpYWJsZTp0LnRlbnNvci52YXJpYWJsZSghMSl9fSkpLHRoaXMuYWNjdW11bGF0ZWRNb21lbnRzPXQuc2xpY2UoZSwyKmUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue29yaWdpbmFsTmFtZTp0Lm5hbWUsdmFyaWFibGU6dC50ZW5zb3IudmFyaWFibGUoITEpfX0pKSx0aGlzLmNlbnRlcmVkJiYodGhpcy5hY2N1bXVsYXRlZE1lYW5HcmFkcz10LnNsaWNlKDIqZSwzKmUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue29yaWdpbmFsTmFtZTp0Lm5hbWUsdmFyaWFibGU6dC50ZW5zb3IudmFyaWFibGUoITEpfX0pKSksWzJdfX0pKX0pKX0sby5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJue2xlYXJuaW5nUmF0ZTp0aGlzLmxlYXJuaW5nUmF0ZSxkZWNheTp0aGlzLmRlY2F5LG1vbWVudHVtOnRoaXMubW9tZW50dW0sZXBzaWxvbjp0aGlzLmVwc2lsb24sY2VudGVyZWQ6dGhpcy5jZW50ZXJlZH19LG8uZnJvbUNvbmZpZz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdChlLmxlYXJuaW5nUmF0ZSxlLmRlY2F5LGUubW9tZW50dW0sZS5lcHNpbG9uLGUuY2VudGVyZWQpfSxvLmNsYXNzTmFtZT1cIlJNU1Byb3BcIixvfShYZCk7SGQoZXApO3ZhciBucD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuc2dkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWmQodCl9LHQubW9tZW50dW09ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0hMSksbmV3IHRwKHQsZSxuKX0sdC5ybXNwcm9wPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHZvaWQgMD09PWUmJihlPS45KSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1yJiYocj1udWxsKSx2b2lkIDA9PT1vJiYobz0hMSksbmV3IGVwKHQsZSxuLHIsbyl9LHQuYWRhbT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9LjAwMSksdm9pZCAwPT09ZSYmKGU9LjkpLHZvaWQgMD09PW4mJihuPS45OTkpLHZvaWQgMD09PXImJihyPW51bGwpLG5ldyBRZCh0LGUsbixyKX0sdC5hZGFkZWx0YT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PXQmJih0PS4wMDEpLHZvaWQgMD09PWUmJihlPS45NSksdm9pZCAwPT09biYmKG49bnVsbCksbmV3IFlkKHQsZSxuKX0sdC5hZGFtYXg9ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9LjAwMiksdm9pZCAwPT09ZSYmKGU9LjkpLHZvaWQgMD09PW4mJihuPS45OTkpLHZvaWQgMD09PXImJihyPW51bGwpLHZvaWQgMD09PW8mJihvPTApLG5ldyBKZCh0LGUsbixyLG8pfSx0LmFkYWdyYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9LjEpLG5ldyAkZCh0LGUpfSx0fSgpLHJwPXtzZ2Q6bnAuc2dkLG1vbWVudHVtOm5wLm1vbWVudHVtLGFkYWRlbHRhOm5wLmFkYWRlbHRhLGFkYWdyYWQ6bnAuYWRhZ3JhZCxybXNwcm9wOm5wLnJtc3Byb3AsYWRhbWF4Om5wLmFkYW1heCxhZGFtOm5wLmFkYW19LG9wPVwidW5kZWZpbmVkXCIhPXR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU/cmVxdWVzdEFuaW1hdGlvbkZyYW1lOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZXRJbW1lZGlhdGU/c2V0SW1tZWRpYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0KCl9O2Z1bmN0aW9uIGFwKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtyZXR1cm4gb3AoKGZ1bmN0aW9uKCl7cmV0dXJuIHQoKX0pKX0pKX13dC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiBPcih0aGlzLHQpfSx3dC5wcm90b3R5cGUuYnJvYWRjYXN0VG89ZnVuY3Rpb24odCl7cmV0dXJuIGZjKHRoaXMsdCl9LHd0LnByb3RvdHlwZS5kaXY9ZnVuY3Rpb24odCl7cmV0dXJuIEJvKHRoaXMsdCl9LHd0LnByb3RvdHlwZS5kaXZOb05hbj1mdW5jdGlvbih0KXtyZXR1cm4gYmModGhpcyx0KX0sd3QucHJvdG90eXBlLnNxdWFyZWREaWZmZXJlbmNlPWZ1bmN0aW9uKHQpe3JldHVybiBIYyh0aGlzLHQpfSx3dC5wcm90b3R5cGUudGlsZT1mdW5jdGlvbih0KXtyZXR1cm4gd2ModGhpcyx0KX0sd3QucHJvdG90eXBlLm9uZUhvdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PW4mJihuPTApLFJjKHRoaXMsdCxlLG4pfSx3dC5wcm90b3R5cGUudHJhbnNwb3NlPWZ1bmN0aW9uKHQpe3JldHVybiB1YSh0aGlzLHQpfSx3dC5wcm90b3R5cGUucGFkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEljKHRoaXMsdCxlKX0sd3QucHJvdG90eXBlLmJhdGNoTm9ybT1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiBuYyh0aGlzLHQsZSxuLHIsbyl9LHh0PWZmO2V4cG9ydHtZZCBhcyBBZGFkZWx0YU9wdGltaXplciwkZCBhcyBBZGFncmFkT3B0aW1pemVyLFFkIGFzIEFkYW1PcHRpbWl6ZXIsSmQgYXMgQWRhbWF4T3B0aW1pemVyLHhyIGFzIEFkZCxiciBhcyBBZGROLFNyIGFzIEJyb2FkY2FzdFRvLGNhIGFzIERhdGFTdG9yYWdlLHdyIGFzIERpdixzIGFzIEVOVixvIGFzIEVudmlyb25tZW50LEZyIGFzIEZyb21QaXhlbHMsQ3IgYXMgRnVzZWRCYXRjaE5vcm0sVHIgYXMgSWRlbnRpdHksbGEgYXMgS2VybmVsQmFja2VuZCxfciBhcyBNYXhQb29sV2l0aEFyZ21heCx0cCBhcyBNb21lbnR1bU9wdGltaXplcixrciBhcyBOb25NYXhTdXBwcmVzc2lvblY1LEFyIGFzIE9uZUhvdCxYZCBhcyBPcHRpbWl6ZXIsTnIgYXMgUGFkVjIsZXAgYXMgUk1TUHJvcE9wdGltaXplcixDdCBhcyBSYW5rLE5oIGFzIFJlZHVjdGlvbixaZCBhcyBTR0RPcHRpbWl6ZXIsUnIgYXMgU3F1YXJlLEVyIGFzIFNxdWFyZWREaWZmZXJlbmNlLHd0IGFzIFRlbnNvcixtdCBhcyBUZW5zb3JCdWZmZXIsRHIgYXMgVGlsZSxJciBhcyBUcmFuc3Bvc2UsU3QgYXMgVmFyaWFibGUsTHIgYXMgYWJzLFdyIGFzIGFjb3MsVXIgYXMgYWNvc2gsT3IgYXMgYWRkLCR1IGFzIGFkZE4seG8gYXMgYWRkU3RyaWN0LHFsIGFzIGFsbCxLbCBhcyBhbnksamwgYXMgYXJnTWF4LFhsIGFzIGFyZ01pbixWciBhcyBhc2luLHpyIGFzIGFzaW5oLEdyIGFzIGF0YW4sYm8gYXMgYXRhbjIsSHIgYXMgYXRhbmgsT2wgYXMgYXZnUG9vbCxQbCBhcyBhdmdQb29sM2QsaG4gYXMgYmFja2VuZCxTYSBhcyBiYWNrZW5kX3V0aWwsbGggYXMgYmFzaWNMU1RNQ2VsbCxuYyBhcyBiYXRjaE5vcm0sYWMgYXMgYmF0Y2hOb3JtMmQsdWMgYXMgYmF0Y2hOb3JtM2QsaGMgYXMgYmF0Y2hOb3JtNGQsZWMgYXMgYmF0Y2hOb3JtYWxpemF0aW9uLG9jIGFzIGJhdGNoTm9ybWFsaXphdGlvbjJkLHNjIGFzIGJhdGNoTm9ybWFsaXphdGlvbjNkLGxjIGFzIGJhdGNoTm9ybWFsaXphdGlvbjRkLHJyIGFzIGJhdGNoVG9TcGFjZU5ELHVsIGFzIGJvb2xlYW5NYXNrQXN5bmMsZmMgYXMgYnJvYWRjYXN0VG8sVmQgYXMgYnJvd3NlcixlciBhcyBidWZmZXIsb3IgYXMgY2FzdCxxciBhcyBjZWlsLEtyIGFzIGNsaXBCeVZhbHVlLGRjIGFzIGNsb25lLFRuIGFzIGNvbXBsZXgsWW4gYXMgY29uY2F0LCRuIGFzIGNvbmNhdDFkLFFuIGFzIGNvbmNhdDJkLEpuIGFzIGNvbmNhdDNkLFpuIGFzIGNvbmNhdDRkLGZsIGFzIGNvbnYxZCxkbCBhcyBjb252MmQsd2wgYXMgY29udjJkVHJhbnNwb3NlLHBsIGFzIGNvbnYzZCxDbCBhcyBjb252M2RUcmFuc3Bvc2UsanIgYXMgY29zLFhyIGFzIGNvc2gsYXIgYXMgY3Vtc3VtLG9hIGFzIGN1c3RvbUdyYWQsWGUgYXMgZGVwcmVjYXRpb25XYXJuLGlyIGFzIGRlcHRoVG9TcGFjZSxtbCBhcyBkZXB0aHdpc2VDb252MmQsRWggYXMgZGlhZyxqZSBhcyBkaXNhYmxlRGVwcmVjYXRpb25XYXJuaW5ncyx0biBhcyBkaXNwb3NlLFllIGFzIGRpc3Bvc2VWYXJpYWJsZXMsQm8gYXMgZGl2LGJjIGFzIGRpdk5vTmFuLHdvIGFzIGRpdlN0cmljdCxSbCBhcyBkb3QsUmggYXMgZHJvcG91dCxuaCBhcyBlbHUsS2UgYXMgZW5hYmxlRGVidWdNb2RlLHFlIGFzIGVuYWJsZVByb2RNb2RlLCRlIGFzIGVuZ2luZSxpIGFzIGVudixLYyBhcyBlcXVhbCxqYyBhcyBlcXVhbFN0cmljdCxZciBhcyBlcmYsJHIgYXMgZXhwLHNyIGFzIGV4cGFuZERpbXMsUXIgYXMgZXhwbTEsQ2MgYXMgZXllLGdoIGFzIGZmdCxIbiBhcyBmaWxsLHVuIGFzIGZpbmRCYWNrZW5kLGNuIGFzIGZpbmRCYWNrZW5kRmFjdG9yeSxKciBhcyBmbG9vcixDbyBhcyBmbG9vckRpdixBaCBhcyBmcmFtZSxoZiBhcyBmdXNlZCxpbCBhcyBnYXRoZXIsQ2ggYXMgZ2F0aGVyTkQsTG8gYXMgZ2F0aGVyX3V0aWwsYW4gYXMgZ2V0QmFja2VuZCxoIGFzIGdldEdyYWRpZW50LGwgYXMgZ2V0S2VybmVsLGYgYXMgZ2V0S2VybmVsc0ZvckJhY2tlbmQsWm8gYXMgZ3JhZCx0YSBhcyBncmFkcyxYYyBhcyBncmVhdGVyLFljIGFzIGdyZWF0ZXJFcXVhbCwkYyBhcyBncmVhdGVyRXF1YWxTdHJpY3QsUWMgYXMgZ3JlYXRlclN0cmljdCxTaCBhcyBoYW1taW5nV2luZG93LGtoIGFzIGhhbm5XaW5kb3csbWggYXMgaWZmdCxObiBhcyBpbWFnLG5mIGFzIGltYWdlLEZoIGFzIGluVG9wS0FzeW5jLEJkIGFzIGlvLHhoIGFzIGlyZmZ0LGxvIGFzIGlzRmluaXRlLGNvIGFzIGlzSW5mLHVvIGFzIGlzTmFOLGVuIGFzIGtlZXAscmggYXMgbGVha3lSZWx1LEpjIGFzIGxlc3MsWmMgYXMgbGVzc0VxdWFsLHRsIGFzIGxlc3NFcXVhbFN0cmljdCxlbCBhcyBsZXNzU3RyaWN0LGpoIGFzIGxpbmFsZyxxbiBhcyBsaW5zcGFjZSx1aCBhcyBsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbixaciBhcyBsb2csdG8gYXMgbG9nMXAsZW8gYXMgbG9nU2lnbW9pZCxzYSBhcyBsb2dTb2Z0bWF4LFlsIGFzIGxvZ1N1bUV4cCxwYyBhcyBsb2dpY2FsQW5kLHZjIGFzIGxvZ2ljYWxOb3QsZ2MgYXMgbG9naWNhbE9yLG1jIGFzIGxvZ2ljYWxYb3IsemggYXMgbG9zc2VzLEVsIGFzIG1hdE11bCxXZCBhcyBtYXRoLCRsIGFzIG1heCxfbCBhcyBtYXhQb29sLEJsIGFzIG1heFBvb2wzZCxMbCBhcyBtYXhQb29sV2l0aEFyZ21heCxFbyBhcyBtYXhpbXVtLFJvIGFzIG1heGltdW1TdHJpY3QsUWwgYXMgbWVhbixRZSBhcyBtZW1vcnksSmwgYXMgbWluLElvIGFzIG1pbmltdW0sa28gYXMgbWluaW11bVN0cmljdCxTbyBhcyBtb2QsQW8gYXMgbW9kU3RyaWN0LFpsIGFzIG1vbWVudHMsZmggYXMgbW92aW5nQXZlcmFnZSxUbyBhcyBtdWwsRG8gYXMgbXVsU3RyaWN0LGhoIGFzIG11bHRpUk5OQ2VsbCxFYyBhcyBtdWx0aW5vbWlhbCxubyBhcyBuZWcsYXAgYXMgbmV4dEZyYW1lLGNoIGFzIG5vcm0sbmwgYXMgbm90RXF1YWwscmwgYXMgbm90RXF1YWxTdHJpY3QsUmMgYXMgb25lSG90LHpuIGFzIG9uZXMsam4gYXMgb25lc0xpa2UsQW4gYXMgb3AsSWwgYXMgb3V0ZXJQcm9kdWN0LEljIGFzIHBhZCxrYyBhcyBwYWQxZCxTYyBhcyBwYWQyZCxBYyBhcyBwYWQzZCxUYyBhcyBwYWQ0ZCxNbCBhcyBwb29sLE5vIGFzIHBvdyxGbyBhcyBwb3dTdHJpY3Qsb2ggYXMgcHJlbHUsbnIgYXMgcHJpbnQsZWggYXMgcHJvZCxKZSBhcyBwcm9maWxlLERjIGFzIHJhbmQsVWMgYXMgcmFuZG9tR2FtbWEsVmMgYXMgcmFuZG9tTm9ybWFsLHpjIGFzIHJhbmRvbVVuaWZvcm0sS24gYXMgcmFuZ2Usb24gYXMgcmVhZHksRG4gYXMgcmVhbCxybyBhcyByZWNpcHJvY2FsLGxuIGFzIHJlZ2lzdGVyQmFja2VuZCxwIGFzIHJlZ2lzdGVyR3JhZGllbnQsZCBhcyByZWdpc3Rlcktlcm5lbCxhaCBhcyByZWx1LGloIGFzIHJlbHU2LHNuIGFzIHJlbW92ZUJhY2tlbmQsdXIgYXMgcmVzaGFwZSxrbCBhcyByZXZlcnNlLFNsIGFzIHJldmVyc2UxZCxBbCBhcyByZXZlcnNlMmQsVGwgYXMgcmV2ZXJzZTNkLERsIGFzIHJldmVyc2U0ZCx5aCBhcyByZmZ0LG9vIGFzIHJvdW5kLGFvIGFzIHJzcXJ0LE9uIGFzIHNjYWxhcix2aCBhcyBzY2F0dGVyTkQsSG8gYXMgc2NhdHRlcl91dGlsLHNoIGFzIHNlbHUsYmwgYXMgc2VwYXJhYmxlQ29udjJkLHFkIGFzIHNlcmlhbGl6YXRpb24scm4gYXMgc2V0QmFja2VuZCxmbiBhcyBzZXRQbGF0Zm9ybSxkciBhcyBzZXRkaWZmMWRBc3luYyxpbyBhcyBzaWdtb2lkLHNvIGFzIHNpZ24sRGggYXMgc2lnbmFsLGhvIGFzIHNpbixmbyBhcyBzaW5oLFdsIGFzIHNsaWNlLFVsIGFzIHNsaWNlMWQsVmwgYXMgc2xpY2UyZCx6bCBhcyBzbGljZTNkLEdsIGFzIHNsaWNlNGQsSm8gYXMgc2xpY2VfdXRpbCxpYSBhcyBzb2Z0bWF4LHBvIGFzIHNvZnRwbHVzLGNyIGFzIHNwYWNlVG9CYXRjaE5ELHdoIGFzIHNwYXJzZVRvRGVuc2UsYmggYXMgc3BlY3RyYWwsdHIgYXMgc3BsaXQsdm8gYXMgc3FydCxHYyBhcyBzcXVhcmUsSGMgYXMgc3F1YXJlZERpZmZlcmVuY2UsX28gYXMgc3F1YXJlZERpZmZlcmVuY2VTdHJpY3QsbHIgYXMgc3F1ZWV6ZSxociBhcyBzdGFjayxnbyBhcyBzdGVwLFRoIGFzIHN0ZnQsZGggYXMgc3RyaWRlZFNsaWNlLE9vIGFzIHN1YixNbyBhcyBzdWJTdHJpY3QsdGggYXMgc3VtLER0IGFzIHN1bU91dFR5cGUsbW8gYXMgdGFuLHlvIGFzIHRhbmgsRm4gYXMgdGVuc29yLE1uIGFzIHRlbnNvcjFkLEJuIGFzIHRlbnNvcjJkLFBuIGFzIHRlbnNvcjNkLExuIGFzIHRlbnNvcjRkLFduIGFzIHRlbnNvcjVkLFVuIGFzIHRlbnNvcjZkLE10IGFzIHRlbnNvcl91dGlsLEJjIGFzIHRlc3RfdXRpbCxaZSBhcyB0aWR5LHdjIGFzIHRpbGUsbm4gYXMgdGltZSxwaCBhcyB0b3BrLHJwIGFzIHRyYWluLHVhIGFzIHRyYW5zcG9zZSxxYyBhcyB0cnVuY2F0ZWROb3JtYWwsZyBhcyB1bnJlZ2lzdGVyR3JhZGllbnQsdiBhcyB1bnJlZ2lzdGVyS2VybmVsLHNsIGFzIHVuc29ydGVkU2VnbWVudFN1bSxmciBhcyB1bnN0YWNrLHN0IGFzIHV0aWwsZWEgYXMgdmFsdWVBbmRHcmFkLG5hIGFzIHZhbHVlQW5kR3JhZHMsVm4gYXMgdmFyaWFibGUscmEgYXMgdmFyaWFibGVHcmFkcyxLZCBhcyB2ZXJzaW9uX2NvcmUsamQgYXMgd2ViZ2wseWMgYXMgd2hlcmUseGMgYXMgd2hlcmVBc3luYyxHbiBhcyB6ZXJvcyxYbiBhcyB6ZXJvc0xpa2V9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGYtY29yZS5lc20uanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnR7dXRpbCx0aWR5LGRlcHJlY2F0aW9uV2FybixUZW5zb3Isc3RhY2ssdGVuc29yLGVudixkaXNwb3NlLHRlbnNvcl91dGlsLHRlbnNvcjFkLHRlbnNvcjJkLGJyb3dzZXIsaW1hZ2V9ZnJvbVwiQHRlbnNvcmZsb3cvdGZqcy1jb3JlXCI7dmFyIGV4dGVuZFN0YXRpY3M9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZXh0ZW5kU3RhdGljcz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKX0pKHQsZSl9O2Z1bmN0aW9uIF9fZXh0ZW5kcyh0LGUpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZXh0ZW5kU3RhdGljcyh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KHIucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyByKX1mdW5jdGlvbiBfX2F3YWl0ZXIodCxlLHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoZnVuY3Rpb24oaSxvKXtmdW5jdGlvbiBhKHQpe3RyeXt1KG4ubmV4dCh0KSl9Y2F0Y2godCl7byh0KX19ZnVuY3Rpb24gcyh0KXt0cnl7dShuLnRocm93KHQpKX1jYXRjaCh0KXtvKHQpfX1mdW5jdGlvbiB1KHQpe3QuZG9uZT9pKHQudmFsdWUpOm5ldyByKGZ1bmN0aW9uKGUpe2UodC52YWx1ZSl9KS50aGVuKGEscyl9dSgobj1uLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpfSl9ZnVuY3Rpb24gX19nZW5lcmF0b3IodCxlKXt2YXIgcixuLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKHI9MSxuJiYoaT0yJm9bMF0/bi5yZXR1cm46b1swXT9uLnRocm93fHwoKGk9bi5yZXR1cm4pJiZpLmNhbGwobiksMCk6bi5uZXh0KSYmIShpPWkuY2FsbChuLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChuPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxuPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPShpPWEudHJ5cykubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pJiYoNj09PW9bMF18fDI9PT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz1lLmNhbGwodCxhKX1jYXRjaCh0KXtvPVs2LHRdLG49MH1maW5hbGx5e3I9aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX12YXIgY29tbW9uanNHbG9iYWw9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZSh0LGUpe3JldHVybiB0KGU9e2V4cG9ydHM6e319LGUuZXhwb3J0cyksZS5leHBvcnRzfXZhciBhbGVhPWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBlLmM9dC5jLGUuczA9dC5zMCxlLnMxPXQuczEsZS5zMj10LnMyLGV9ZnVuY3Rpb24gaSh0LGUpe3ZhciByPW5ldyBmdW5jdGlvbih0KXt2YXIgZSxyPXRoaXMsbj0oZT00MDIyODcxMTk3LGZ1bmN0aW9uKHQpe3Q9dC50b1N0cmluZygpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj0uMDI1MTk2MDMyODI0MTY5MzgqKGUrPXQuY2hhckNvZGVBdChyKSk7bi09ZT1uPj4+MCxlPShuKj1lKT4+PjAsZSs9NDI5NDk2NzI5Nioobi09ZSl9cmV0dXJuIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTAqKGU+Pj4wKX0pO3IubmV4dD1mdW5jdGlvbigpe3ZhciB0PTIwOTE2Mzkqci5zMCsyLjMyODMwNjQzNjUzODY5NjNlLTEwKnIuYztyZXR1cm4gci5zMD1yLnMxLHIuczE9ci5zMixyLnMyPXQtKHIuYz0wfHQpfSxyLmM9MSxyLnMwPW4oXCIgXCIpLHIuczE9bihcIiBcIiksci5zMj1uKFwiIFwiKSxyLnMwLT1uKHQpLHIuczA8MCYmKHIuczArPTEpLHIuczEtPW4odCksci5zMTwwJiYoci5zMSs9MSksci5zMi09bih0KSxyLnMyPDAmJihyLnMyKz0xKSxuPW51bGx9KHQpLGk9ZSYmZS5zdGF0ZSxvPXIubmV4dDtyZXR1cm4gby5pbnQzMj1mdW5jdGlvbigpe3JldHVybiA0Mjk0OTY3Mjk2KnIubmV4dCgpfDB9LG8uZG91YmxlPWZ1bmN0aW9uKCl7cmV0dXJuIG8oKSsxLjExMDIyMzAyNDYyNTE1NjVlLTE2KigyMDk3MTUyKm8oKXwwKX0sby5xdWljaz1vLGkmJihcIm9iamVjdFwiPT10eXBlb2YgaSYmbihpLHIpLG8uc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbihyLHt9KX0pLG99ZSYmZS5leHBvcnRzP2UuZXhwb3J0cz1pOnImJnIuYW1kP3IoZnVuY3Rpb24oKXtyZXR1cm4gaX0pOnRoaXMuYWxlYT1pfSgwLHQsITEpfSkseG9yMTI4PWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBlLng9dC54LGUueT10LnksZS56PXQueixlLnc9dC53LGV9ZnVuY3Rpb24gaSh0LGUpe3ZhciByPW5ldyBmdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9XCJcIjtlLng9MCxlLnk9MCxlLno9MCxlLnc9MCxlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgdD1lLnheZS54PDwxMTtyZXR1cm4gZS54PWUueSxlLnk9ZS56LGUuej1lLncsZS53Xj1lLnc+Pj4xOV50XnQ+Pj44fSx0PT09KDB8dCk/ZS54PXQ6cis9dDtmb3IodmFyIG49MDtuPHIubGVuZ3RoKzY0O24rKyllLnhePTB8ci5jaGFyQ29kZUF0KG4pLGUubmV4dCgpfSh0KSxpPWUmJmUuc3RhdGUsbz1mdW5jdGlvbigpe3JldHVybihyLm5leHQoKT4+PjApLzQyOTQ5NjcyOTZ9O3JldHVybiBvLmRvdWJsZT1mdW5jdGlvbigpe2Rve3ZhciB0PSgoci5uZXh0KCk+Pj4xMSkrKHIubmV4dCgpPj4+MCkvNDI5NDk2NzI5NikvKDE8PDIxKX13aGlsZSgwPT09dCk7cmV0dXJuIHR9LG8uaW50MzI9ci5uZXh0LG8ucXVpY2s9byxpJiYoXCJvYmplY3RcIj09dHlwZW9mIGkmJm4oaSxyKSxvLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG4ocix7fSl9KSxvfWUmJmUuZXhwb3J0cz9lLmV4cG9ydHM9aTpyJiZyLmFtZD9yKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTp0aGlzLnhvcjEyOD1pfSgwLHQsITEpfSkseG9yd293PWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBlLng9dC54LGUueT10LnksZS56PXQueixlLnc9dC53LGUudj10LnYsZS5kPXQuZCxlfWZ1bmN0aW9uIGkodCxlKXt2YXIgcj1uZXcgZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPVwiXCI7ZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9ZS54XmUueD4+PjI7cmV0dXJuIGUueD1lLnksZS55PWUueixlLno9ZS53LGUudz1lLnYsKGUuZD1lLmQrMzYyNDM3fDApKyhlLnY9ZS52XmUudjw8NF50XnQ8PDEpfDB9LGUueD0wLGUueT0wLGUuej0wLGUudz0wLGUudj0wLHQ9PT0oMHx0KT9lLng9dDpyKz10O2Zvcih2YXIgbj0wO248ci5sZW5ndGgrNjQ7bisrKWUueF49MHxyLmNoYXJDb2RlQXQobiksbj09ci5sZW5ndGgmJihlLmQ9ZS54PDwxMF5lLng+Pj40KSxlLm5leHQoKX0odCksaT1lJiZlLnN0YXRlLG89ZnVuY3Rpb24oKXtyZXR1cm4oci5uZXh0KCk+Pj4wKS80Mjk0OTY3Mjk2fTtyZXR1cm4gby5kb3VibGU9ZnVuY3Rpb24oKXtkb3t2YXIgdD0oKHIubmV4dCgpPj4+MTEpKyhyLm5leHQoKT4+PjApLzQyOTQ5NjcyOTYpLygxPDwyMSl9d2hpbGUoMD09PXQpO3JldHVybiB0fSxvLmludDMyPXIubmV4dCxvLnF1aWNrPW8saSYmKFwib2JqZWN0XCI9PXR5cGVvZiBpJiZuKGksciksby5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBuKHIse30pfSksb31lJiZlLmV4cG9ydHM/ZS5leHBvcnRzPWk6ciYmci5hbWQ/cihmdW5jdGlvbigpe3JldHVybiBpfSk6dGhpcy54b3J3b3c9aX0oMCx0LCExKX0pLHhvcnNoaWZ0Nz1jcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbih0KXshZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gZS54PXQueC5zbGljZSgpLGUuaT10LmksZX1mdW5jdGlvbiBpKHQsZSl7bnVsbD09dCYmKHQ9K25ldyBEYXRlKTt2YXIgcj1uZXcgZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgdCxyLG49ZS54LGk9ZS5pO3JldHVybiB0PW5baV0scj0odF49dD4+PjcpXnQ8PDI0LHJePSh0PW5baSsxJjddKV50Pj4+MTAscl49KHQ9bltpKzMmN10pXnQ+Pj4zLHJePSh0PW5baSs0JjddKV50PDw3LHQ9bltpKzcmN10scl49KHRePXQ8PDEzKV50PDw5LG5baV09cixlLmk9aSsxJjcscn0sZnVuY3Rpb24odCxlKXt2YXIgcixuPVtdO2lmKGU9PT0oMHxlKSluWzBdPWU7ZWxzZSBmb3IoZT1cIlwiK2Uscj0wO3I8ZS5sZW5ndGg7KytyKW5bNyZyXT1uWzcmcl08PDE1XmUuY2hhckNvZGVBdChyKStuW3IrMSY3XTw8MTM7Zm9yKDtuLmxlbmd0aDw4OyluLnB1c2goMCk7Zm9yKHI9MDtyPDgmJjA9PT1uW3JdOysrcik7Zm9yKDg9PXI/bls3XT0tMTpuW3JdLHQueD1uLHQuaT0wLHI9MjU2O3I+MDstLXIpdC5uZXh0KCl9KGUsdCl9KHQpLGk9ZSYmZS5zdGF0ZSxvPWZ1bmN0aW9uKCl7cmV0dXJuKHIubmV4dCgpPj4+MCkvNDI5NDk2NzI5Nn07cmV0dXJuIG8uZG91YmxlPWZ1bmN0aW9uKCl7ZG97dmFyIHQ9KChyLm5leHQoKT4+PjExKSsoci5uZXh0KCk+Pj4wKS80Mjk0OTY3Mjk2KS8oMTw8MjEpfXdoaWxlKDA9PT10KTtyZXR1cm4gdH0sby5pbnQzMj1yLm5leHQsby5xdWljaz1vLGkmJihpLngmJm4oaSxyKSxvLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG4ocix7fSl9KSxvfWUmJmUuZXhwb3J0cz9lLmV4cG9ydHM9aTpyJiZyLmFtZD9yKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTp0aGlzLnhvcnNoaWZ0Nz1pfSgwLHQsITEpfSkseG9yNDA5Nj1jcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbih0KXshZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gZS5pPXQuaSxlLnc9dC53LGUuWD10Llguc2xpY2UoKSxlfWZ1bmN0aW9uIGkodCxlKXtudWxsPT10JiYodD0rbmV3IERhdGUpO3ZhciByPW5ldyBmdW5jdGlvbih0KXt2YXIgZT10aGlzO2UubmV4dD1mdW5jdGlvbigpe3ZhciB0LHIsbj1lLncsaT1lLlgsbz1lLmk7cmV0dXJuIGUudz1uPW4rMTY0MDUzMTUyN3wwLHI9aVtvKzM0JjEyN10sdD1pW289bysxJjEyN10scl49cjw8MTMsdF49dDw8MTcscl49cj4+PjE1LHRePXQ+Pj4xMixyPWlbb109cl50LGUuaT1vLHIrKG5ebj4+PjE2KXwwfSxmdW5jdGlvbih0LGUpe3ZhciByLG4saSxvLGEscz1bXSx1PTEyODtmb3IoZT09PSgwfGUpPyhuPWUsZT1udWxsKTooZSs9XCJcXDBcIixuPTAsdT1NYXRoLm1heCh1LGUubGVuZ3RoKSksaT0wLG89LTMyO288dTsrK28pZSYmKG5ePWUuY2hhckNvZGVBdCgobyszMiklZS5sZW5ndGgpKSwwPT09byYmKGE9biksbl49bjw8MTAsbl49bj4+PjE1LG5ePW48PDQsbl49bj4+PjEzLG8+PTAmJihhPWErMTY0MDUzMTUyN3wwLGk9MD09KHI9c1sxMjcmb11ePW4rYSk/aSsxOjApO2ZvcihpPj0xMjgmJihzWzEyNyYoZSYmZS5sZW5ndGh8fDApXT0tMSksaT0xMjcsbz01MTI7bz4wOy0tbyluPXNbaSszNCYxMjddLHI9c1tpPWkrMSYxMjddLG5ePW48PDEzLHJePXI8PDE3LG5ePW4+Pj4xNSxyXj1yPj4+MTIsc1tpXT1uXnI7dC53PWEsdC5YPXMsdC5pPWl9KGUsdCl9KHQpLGk9ZSYmZS5zdGF0ZSxvPWZ1bmN0aW9uKCl7cmV0dXJuKHIubmV4dCgpPj4+MCkvNDI5NDk2NzI5Nn07cmV0dXJuIG8uZG91YmxlPWZ1bmN0aW9uKCl7ZG97dmFyIHQ9KChyLm5leHQoKT4+PjExKSsoci5uZXh0KCk+Pj4wKS80Mjk0OTY3Mjk2KS8oMTw8MjEpfXdoaWxlKDA9PT10KTtyZXR1cm4gdH0sby5pbnQzMj1yLm5leHQsby5xdWljaz1vLGkmJihpLlgmJm4oaSxyKSxvLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG4ocix7fSl9KSxvfWUmJmUuZXhwb3J0cz9lLmV4cG9ydHM9aTpyJiZyLmFtZD9yKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTp0aGlzLnhvcjQwOTY9aX0oMCx0LCExKX0pLHR5Y2hlaT1jcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbih0KXshZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gZS5hPXQuYSxlLmI9dC5iLGUuYz10LmMsZS5kPXQuZCxlfWZ1bmN0aW9uIGkodCxlKXt2YXIgcj1uZXcgZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPVwiXCI7ZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9ZS5iLHI9ZS5jLG49ZS5kLGk9ZS5hO3JldHVybiB0PXQ8PDI1XnQ+Pj43XnIscj1yLW58MCxuPW48PDI0Xm4+Pj44XmksaT1pLXR8MCxlLmI9dD10PDwyMF50Pj4+MTJecixlLmM9cj1yLW58MCxlLmQ9bjw8MTZecj4+PjE2XmksZS5hPWktdHwwfSxlLmE9MCxlLmI9MCxlLmM9LTE2NDA1MzE1MjcsZS5kPTEzNjcxMzA1NTEsdD09PU1hdGguZmxvb3IodCk/KGUuYT10LzQyOTQ5NjcyOTZ8MCxlLmI9MHx0KTpyKz10O2Zvcih2YXIgbj0wO248ci5sZW5ndGgrMjA7bisrKWUuYl49MHxyLmNoYXJDb2RlQXQobiksZS5uZXh0KCl9KHQpLGk9ZSYmZS5zdGF0ZSxvPWZ1bmN0aW9uKCl7cmV0dXJuKHIubmV4dCgpPj4+MCkvNDI5NDk2NzI5Nn07cmV0dXJuIG8uZG91YmxlPWZ1bmN0aW9uKCl7ZG97dmFyIHQ9KChyLm5leHQoKT4+PjExKSsoci5uZXh0KCk+Pj4wKS80Mjk0OTY3Mjk2KS8oMTw8MjEpfXdoaWxlKDA9PT10KTtyZXR1cm4gdH0sby5pbnQzMj1yLm5leHQsby5xdWljaz1vLGkmJihcIm9iamVjdFwiPT10eXBlb2YgaSYmbihpLHIpLG8uc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbihyLHt9KX0pLG99ZSYmZS5leHBvcnRzP2UuZXhwb3J0cz1pOnImJnIuYW1kP3IoZnVuY3Rpb24oKXtyZXR1cm4gaX0pOnRoaXMudHljaGVpPWl9KDAsdCwhMSl9KSxzZWVkcmFuZG9tPWNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihlLHIpe3ZhciBuLGk9dGhpcyxvPTI1NixhPTYscz1cInJhbmRvbVwiLHU9ci5wb3cobyxhKSxjPXIucG93KDIsNTIpLGw9MipjLGg9by0xO2Z1bmN0aW9uIGYodCxmLHYpe3ZhciBfPVtdLHc9cChmdW5jdGlvbiB0KGUscil7dmFyIG4saT1bXSxvPXR5cGVvZiBlO2lmKHImJlwib2JqZWN0XCI9PW8pZm9yKG4gaW4gZSl0cnl7aS5wdXNoKHQoZVtuXSxyLTEpKX1jYXRjaCh0KXt9cmV0dXJuIGkubGVuZ3RoP2k6XCJzdHJpbmdcIj09bz9lOmUrXCJcXDBcIn0oKGY9MT09Zj97ZW50cm9weTohMH06Znx8e30pLmVudHJvcHk/W3QsbShlKV06bnVsbD09dD9mdW5jdGlvbigpe3RyeXt2YXIgdDtyZXR1cm4gbiYmKHQ9bi5yYW5kb21CeXRlcyk/dD10KG8pOih0PW5ldyBVaW50OEFycmF5KG8pLChpLmNyeXB0b3x8aS5tc0NyeXB0bykuZ2V0UmFuZG9tVmFsdWVzKHQpKSxtKHQpfWNhdGNoKHQpe3ZhciByPWkubmF2aWdhdG9yLGE9ciYmci5wbHVnaW5zO3JldHVyblsrbmV3IERhdGUsaSxhLGkuc2NyZWVuLG0oZSldfX0oKTp0LDMpLF8pLHk9bmV3IGZ1bmN0aW9uKHQpe3ZhciBlLHI9dC5sZW5ndGgsbj10aGlzLGk9MCxhPW4uaT1uLmo9MCxzPW4uUz1bXTtyfHwodD1bcisrXSk7Zm9yKDtpPG87KXNbaV09aSsrO2ZvcihpPTA7aTxvO2krKylzW2ldPXNbYT1oJmErdFtpJXJdKyhlPXNbaV0pXSxzW2FdPWU7KG4uZz1mdW5jdGlvbih0KXtmb3IodmFyIGUscj0wLGk9bi5pLGE9bi5qLHM9bi5TO3QtLTspZT1zW2k9aCZpKzFdLHI9cipvK3NbaCYoc1tpXT1zW2E9aCZhK2VdKSsoc1thXT1lKV07cmV0dXJuIG4uaT1pLG4uaj1hLHJ9KShvKX0oXyksZz1mdW5jdGlvbigpe2Zvcih2YXIgdD15LmcoYSksZT11LHI9MDt0PGM7KXQ9KHQrcikqbyxlKj1vLHI9eS5nKDEpO2Zvcig7dD49bDspdC89MixlLz0yLHI+Pj49MTtyZXR1cm4odCtyKS9lfTtyZXR1cm4gZy5pbnQzMj1mdW5jdGlvbigpe3JldHVybiAwfHkuZyg0KX0sZy5xdWljaz1mdW5jdGlvbigpe3JldHVybiB5LmcoNCkvNDI5NDk2NzI5Nn0sZy5kb3VibGU9ZyxwKG0oeS5TKSxlKSwoZi5wYXNzfHx2fHxmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gaSYmKGkuUyYmZChpLHkpLHQuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gZCh5LHt9KX0pLG4/KHJbc109dCxlKTp0fSkoZyx3LFwiZ2xvYmFsXCJpbiBmP2YuZ2xvYmFsOnRoaXM9PXIsZi5zdGF0ZSl9ZnVuY3Rpb24gZCh0LGUpe3JldHVybiBlLmk9dC5pLGUuaj10LmosZS5TPXQuUy5zbGljZSgpLGV9ZnVuY3Rpb24gcCh0LGUpe2Zvcih2YXIgcixuPXQrXCJcIixpPTA7aTxuLmxlbmd0aDspZVtoJmldPWgmKHJePTE5KmVbaCZpXSkrbi5jaGFyQ29kZUF0KGkrKyk7cmV0dXJuIG0oZSl9ZnVuY3Rpb24gbSh0KXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseSgwLHQpfWlmKHJbXCJzZWVkXCIrc109ZixwKHIucmFuZG9tKCksZSksdC5leHBvcnRzKXt0LmV4cG9ydHM9Zjt0cnl7bj1yZXF1aXJlKFwiY3J5cHRvXCIpfWNhdGNoKHQpe319ZWxzZSAwfShbXSxNYXRoKX0pO3NlZWRyYW5kb20uYWxlYT1hbGVhLHNlZWRyYW5kb20ueG9yMTI4PXhvcjEyOCxzZWVkcmFuZG9tLnhvcndvdz14b3J3b3csc2VlZHJhbmRvbS54b3JzaGlmdDc9eG9yc2hpZnQ3LHNlZWRyYW5kb20ueG9yNDA5Nj14b3I0MDk2LHNlZWRyYW5kb20udHljaGVpPXR5Y2hlaTt2YXIgc2VlZHJhbmRvbSQxPXNlZWRyYW5kb20sc2VlZHJhbmRvbV8xPXNlZWRyYW5kb20kMS5hbGVhO2Z1bmN0aW9uIGRlZXBNYXAodCxlKXtyZXR1cm4gZGVlcE1hcEludGVybmFsKHQsZSl9ZnVuY3Rpb24gZGVlcE1hcEludGVybmFsKHQsZSxyLG4pe2lmKHZvaWQgMD09PXImJihyPW5ldyBNYXApLHZvaWQgMD09PW4mJihuPW5ldyBTZXQpLG51bGw9PXQpcmV0dXJuIG51bGw7aWYobi5oYXModCkpdGhyb3cgbmV3IEVycm9yKFwiQ2lyY3VsYXIgcmVmZXJlbmNlcyBhcmUgbm90IHN1cHBvcnRlZC5cIik7aWYoci5oYXModCkpcmV0dXJuIHIuZ2V0KHQpO3ZhciBpPWUodCk7aWYoaS5yZWN1cnNlJiZudWxsIT09aS52YWx1ZSl0aHJvdyBuZXcgRXJyb3IoXCJBIGRlZXAgbWFwIGZ1bmN0aW9uIG1heSBub3QgcmV0dXJuIGJvdGggYSB2YWx1ZSBhbmQgcmVjdXJzZT10cnVlLlwiKTtpZihpLnJlY3Vyc2Upe2lmKGlzSXRlcmFibGUodCkpe3ZhciBvPUFycmF5LmlzQXJyYXkodCk/W106e307Zm9yKHZhciBhIGluIG4uYWRkKHQpLHQpe3ZhciBzPWRlZXBNYXBJbnRlcm5hbCh0W2FdLGUscixuKTtvW2FdPXN9cmV0dXJuIG4uZGVsZXRlKHQpLG99dGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcmVjdXJzZSBpbnRvIG5vbi1pdGVyYWJsZSB0eXBlOiBcIit0KX1yZXR1cm4gci5zZXQodCxpLnZhbHVlKSxpLnZhbHVlfWZ1bmN0aW9uIGRlZXBaaXAodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9emlwVG9MaXN0KSxkZWVwWmlwSW50ZXJuYWwodCxlKX1mdW5jdGlvbiBkZWVwWmlwSW50ZXJuYWwodCxlLHIpe3ZvaWQgMD09PXImJihyPW5ldyBTZXQpO3ZhciBuPXRbMF07aWYoci5oYXMobikpdGhyb3cgbmV3IEVycm9yKFwiQ2lyY3VsYXIgcmVmZXJlbmNlcyBhcmUgbm90IHN1cHBvcnRlZC5cIik7dmFyIGk9ZSh0KTtpZihpLnJlY3Vyc2UmJm51bGwhPT1pLnZhbHVlKXRocm93IG5ldyBFcnJvcihcIkEgZGVlcCB6aXAgZnVuY3Rpb24gbWF5IG5vdCByZXR1cm4gYm90aCBhIHZhbHVlIGFuZCByZWN1cnNlPXRydWUuXCIpO2lmKGkucmVjdXJzZSl7aWYoaXNJdGVyYWJsZShuKSl7dmFyIG89QXJyYXkuaXNBcnJheShuKT9bXTp7fTtyLmFkZChuKTt2YXIgYT1mdW5jdGlvbihuKXt2YXIgaT1kZWVwWmlwSW50ZXJuYWwodC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHRbbl19KSxlLHIpO29bbl09aX07Zm9yKHZhciBzIGluIG4pYShzKTtyZXR1cm4gci5kZWxldGUobiksb310aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCByZWN1cnNlIGludG8gbm9uLWl0ZXJhYmxlIHR5cGU6IFwiK24pfXJldHVybiBpLnZhbHVlfWZ1bmN0aW9uIHppcFRvTGlzdCh0KXtyZXR1cm4gbnVsbD09PXQ/bnVsbDppc0l0ZXJhYmxlKHRbMF0pP3t2YWx1ZTpudWxsLHJlY3Vyc2U6ITB9Ont2YWx1ZTp0LHJlY3Vyc2U6ITF9fWZ1bmN0aW9uIGRlZXBNYXBBbmRBd2FpdEFsbCh0LGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIsbixpLG8sYSxzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6cj1uZXcgTWFwLGRlZXBNYXBJbnRlcm5hbCh0LGUsciksbj0wLGk9QXJyYXkuZnJvbShyLmtleXMoKSksdS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gbjxpLmxlbmd0aD8obz1pW25dLChhPXIuZ2V0KG8pKWluc3RhbmNlb2YgUHJvbWlzZT9bNCxhXTpbMywzXSk6WzMsNF07Y2FzZSAyOnM9dS5zZW50KCksci5zZXQobyxzKSx1LmxhYmVsPTM7Y2FzZSAzOnJldHVybiBuKyssWzMsMV07Y2FzZSA0OnJldHVyblsyLGRlZXBNYXBJbnRlcm5hbCh0LGUscildfX0pfSl9ZnVuY3Rpb24gaXNJdGVyYWJsZSh0KXtyZXR1cm4gbnVsbCE9dCYmIUFycmF5QnVmZmVyLmlzVmlldyh0KSYmKEFycmF5LmlzQXJyYXkodCl8fFwib2JqZWN0XCI9PXR5cGVvZiB0JiYhKHQgaW5zdGFuY2VvZiBUZW5zb3IpKX1mdW5jdGlvbiBjYW5UZW5zb3JpZnkodCl7cmV0dXJuIG51bGw9PXR8fGlzUHJpbWl0aXZlKHQpfHxBcnJheS5pc0FycmF5KHQpfHxcIm9iamVjdFwiPT10eXBlb2YgdCYmdCBpbnN0YW5jZW9mIFRlbnNvcnx8dXRpbC5pc1R5cGVkQXJyYXkodCl9ZnVuY3Rpb24gaXNQcmltaXRpdmUodCl7cmV0dXJuIG51bGw9PT10fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdH1mdW5jdGlvbiBkZWVwQ2xvbmUodCl7cmV0dXJuIGRlZXBNYXAodCxjbG9uZUlmVGVuc29yKX1mdW5jdGlvbiBjbG9uZUlmVGVuc29yKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVGVuc29yP3t2YWx1ZTp0LmNsb25lKCkscmVjdXJzZTohMX06aXNJdGVyYWJsZSh0KT97dmFsdWU6bnVsbCxyZWN1cnNlOiEwfTp7dmFsdWU6dCxyZWN1cnNlOiExfX12YXIgUmluZ0J1ZmZlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7aWYodGhpcy5jYXBhY2l0eT10LHRoaXMuYmVnaW49MCx0aGlzLmVuZD0wLG51bGw9PXQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4ndCBjcmVhdGUgYSByaW5nIGJ1ZmZlciBvZiB1bmtub3duIGNhcGFjaXR5LlwiKTtpZih0PDEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4ndCBjcmVhdGUgcmluZyBidWZmZXIgb2YgY2FwYWNpdHkgPCAxLlwiKTt0aGlzLmRhdGE9bmV3IEFycmF5KHQpLHRoaXMuZG91YmxlZENhcGFjaXR5PTIqdH1yZXR1cm4gdC5wcm90b3R5cGUud3JhcD1mdW5jdGlvbih0KXtmb3IoO3Q8MDspdCs9dGhpcy5kb3VibGVkQ2FwYWNpdHk7cmV0dXJuIHQldGhpcy5kb3VibGVkQ2FwYWNpdHl9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZih0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4ndCBnZXQgaXRlbSBhdCBhIG5lZ2F0aXZlIGluZGV4LlwiKTtyZXR1cm4gdGhpcy5kYXRhW3QldGhpcy5jYXBhY2l0eV19LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkNhbid0IHNldCBpdGVtIGF0IGEgbmVnYXRpdmUgaW5kZXguXCIpO3RoaXMuZGF0YVt0JXRoaXMuY2FwYWNpdHldPWV9LHQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZW5kLXRoaXMuYmVnaW47cmV0dXJuIHQ8MCYmKHQ9dGhpcy5kb3VibGVkQ2FwYWNpdHkrdCksdH0sdC5wcm90b3R5cGUuaXNGdWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoKCk9PT10aGlzLmNhcGFjaXR5fSx0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxlbmd0aCgpfSx0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNGdWxsKCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJSaW5nIGJ1ZmZlciBpcyBmdWxsLlwiKTt0aGlzLnNldCh0aGlzLmVuZCx0KSx0aGlzLmVuZD10aGlzLndyYXAodGhpcy5lbmQrMSl9LHQucHJvdG90eXBlLnB1c2hBbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10O2U8ci5sZW5ndGg7ZSsrKXt2YXIgbj1yW2VdO3RoaXMucHVzaChuKX19LHQucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiUmluZyBidWZmZXIgaXMgZW1wdHkuXCIpO3RoaXMuZW5kPXRoaXMud3JhcCh0aGlzLmVuZC0xKTt2YXIgdD10aGlzLmdldCh0aGlzLmVuZCk7cmV0dXJuIHRoaXMuc2V0KHRoaXMuZW5kLHZvaWQgMCksdH0sdC5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbih0KXtpZih0aGlzLmlzRnVsbCgpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiUmluZyBidWZmZXIgaXMgZnVsbC5cIik7dGhpcy5iZWdpbj10aGlzLndyYXAodGhpcy5iZWdpbi0xKSx0aGlzLnNldCh0aGlzLmJlZ2luLHQpfSx0LnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiUmluZyBidWZmZXIgaXMgZW1wdHkuXCIpO3ZhciB0PXRoaXMuZ2V0KHRoaXMuYmVnaW4pO3JldHVybiB0aGlzLnNldCh0aGlzLmJlZ2luLHZvaWQgMCksdGhpcy5iZWdpbj10aGlzLndyYXAodGhpcy5iZWdpbisxKSx0fSx0LnByb3RvdHlwZS5zaHVmZmxlRXhjaXNlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNFbXB0eSgpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiUmluZyBidWZmZXIgaXMgZW1wdHkuXCIpO3ZhciBlPXRoaXMud3JhcCh0aGlzLmJlZ2luK3QpLHI9dGhpcy5nZXQoZSk7cmV0dXJuIHRoaXMuc2V0KGUsdGhpcy5wb3AoKSkscn0sdH0oKSxHcm93aW5nUmluZ0J1ZmZlcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHQuY2FsbCh0aGlzLGUuSU5JVElBTF9DQVBBQ0lUWSl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyhlLHQpLGUucHJvdG90eXBlLmlzRnVsbD1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmlzRnVsbC5jYWxsKHRoaXMpJiZ0aGlzLmV4cGFuZCgpLHQucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmlzRnVsbC5jYWxsKHRoaXMpJiZ0aGlzLmV4cGFuZCgpLHQucHJvdG90eXBlLnVuc2hpZnQuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5leHBhbmQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9Mip0aGlzLmNhcGFjaXR5LGU9bmV3IEFycmF5KHQpLHI9dGhpcy5sZW5ndGgoKSxuPTA7bjxyO24rKyllW25dPXRoaXMuZ2V0KHRoaXMud3JhcCh0aGlzLmJlZ2luK24pKTt0aGlzLmRhdGE9ZSx0aGlzLmNhcGFjaXR5PXQsdGhpcy5kb3VibGVkQ2FwYWNpdHk9Mip0aGlzLmNhcGFjaXR5LHRoaXMuYmVnaW49MCx0aGlzLmVuZD1yfSxlLklOSVRJQUxfQ0FQQUNJVFk9MzIsZX0oUmluZ0J1ZmZlcik7ZnVuY3Rpb24gaXRlcmF0b3JGcm9tSXRlbXModCl7cmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yKHQpfWZ1bmN0aW9uIGl0ZXJhdG9yRnJvbUZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRnVuY3Rpb25DYWxsSXRlcmF0b3IodCl9ZnVuY3Rpb24gaXRlcmF0b3JGcm9tQ29uY2F0ZW5hdGVkKHQsZSl7cmV0dXJuIG5ldyBDaGFpbmVkSXRlcmF0b3IodCxlKX1mdW5jdGlvbiBpdGVyYXRvckZyb21aaXBwZWQodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9WmlwTWlzbWF0Y2hNb2RlLkZBSUwpLG5ldyBaaXBJdGVyYXRvcih0LGUpfXZhciBaaXBNaXNtYXRjaE1vZGUsTGF6eUl0ZXJhdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PVtdLFs0LHRoaXMubmV4dCgpXTtjYXNlIDE6ZT1yLnNlbnQoKSxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBlLmRvbmU/WzMsNF06KHQucHVzaChlLnZhbHVlKSxbNCx0aGlzLm5leHQoKV0pO2Nhc2UgMzpyZXR1cm4gZT1yLnNlbnQoKSxbMywyXTtjYXNlIDQ6cmV0dXJuWzIsdF19fSl9KX0sdC5wcm90b3R5cGUudG9BcnJheUZvclRlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LGUscjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXRoaXMucHJlZmV0Y2goMTAwKSxlPVtdLFs0LHQubmV4dCgpXTtjYXNlIDE6cj1uLnNlbnQoKSxuLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLmRvbmU/WzMsNF06KGUucHVzaChyLnZhbHVlKSxbNCx0Lm5leHQoKV0pO2Nhc2UgMzpyZXR1cm4gcj1uLnNlbnQoKSxbMywyXTtjYXNlIDQ6cmV0dXJuWzIsZV19fSl9KX0sdC5wcm90b3R5cGUucmVzb2x2ZUZ1bGx5PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMubmV4dCgpXTtjYXNlIDE6dD1lLnNlbnQoKSxlLmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0LmRvbmU/WzMsNF06WzQsdGhpcy5uZXh0KCldO2Nhc2UgMzpyZXR1cm4gdD1lLnNlbnQoKSxbMywyXTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9LHQucHJvdG90eXBlLnJlc29sdmVXaGlsZT1mdW5jdGlvbih0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLHI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLm5leHQoKV07Y2FzZSAxOmU9bi5zZW50KCkscj10KGUudmFsdWUpLG4ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIGUuZG9uZXx8IXI/WzMsNF06WzQsdGhpcy5uZXh0KCldO2Nhc2UgMzpyZXR1cm4gZT1uLnNlbnQoKSxyPXQoZS52YWx1ZSksWzMsMl07Y2FzZSA0OnJldHVyblsyXX19KX0pfSx0LnByb3RvdHlwZS5oYW5kbGVFcnJvcnM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBFcnJvckhhbmRsaW5nTGF6eUl0ZXJhdG9yKHRoaXMsdCl9LHQucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEZpbHRlckl0ZXJhdG9yKHRoaXMsdCl9LHQucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMsdCl9LHQucHJvdG90eXBlLm1hcEFzeW5jPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQXN5bmNNYXBJdGVyYXRvcih0aGlzLHQpfSx0LnByb3RvdHlwZS5zZXJpYWxNYXBBc3luYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEFzeW5jTWFwSXRlcmF0b3IodGhpcyx0KS5zZXJpYWwoKX0sdC5wcm90b3R5cGUuZmxhdG1hcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEZsYXRtYXBJdGVyYXRvcih0aGlzLHQpfSx0LnByb3RvdHlwZS5mb3JFYWNoQXN5bmM9ZnVuY3Rpb24odCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtyZXR1cm5bMix0aGlzLm1hcCh0KS5yZXNvbHZlRnVsbHkoKV19KX0pfSx0LnByb3RvdHlwZS5zZXJpYWxGb3JFYWNoPWZ1bmN0aW9uKHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuWzIsdGhpcy5zZXJpYWxNYXBBc3luYyh0KS5yZXNvbHZlV2hpbGUoZnVuY3Rpb24odCl7cmV0dXJuITA9PT10fSldfSl9KX0sdC5wcm90b3R5cGUucm93TWFqb3JCYXRjaD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMCksbmV3IFJvd01ham9yQmF0Y2hJdGVyYXRvcih0aGlzLHQsZSl9LHQucHJvdG90eXBlLmNvbHVtbk1ham9yQmF0Y2g9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMCksdm9pZCAwPT09ciYmKHI9emlwVG9MaXN0KSx0aGlzLnJvd01ham9yQmF0Y2godCxlKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGRlZXBaaXAodCxyKX0pfSx0LnByb3RvdHlwZS5jb25jYXRlbmF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgQ2hhaW5lZEl0ZXJhdG9yKGl0ZXJhdG9yRnJvbUl0ZW1zKFt0aGlzLHRdKSxlKX0sdC5wcm90b3R5cGUudGFrZT1mdW5jdGlvbih0KXtyZXR1cm4gdDwwfHxudWxsPT10P3RoaXM6bmV3IFRha2VJdGVyYXRvcih0aGlzLHQpfSx0LnByb3RvdHlwZS5za2lwPWZ1bmN0aW9uKHQpe3JldHVybiB0PDB8fG51bGw9PXQ/dGhpczpuZXcgU2tpcEl0ZXJhdG9yKHRoaXMsdCl9LHQucHJvdG90eXBlLnByZWZldGNoPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUHJlZmV0Y2hJdGVyYXRvcih0aGlzLHQpfSx0LnByb3RvdHlwZS5zaHVmZmxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBTaHVmZmxlSXRlcmF0b3IodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5zZXJpYWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNlcmlhbEl0ZXJhdG9yKHRoaXMpfSx0fSgpLEFycmF5SXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuaXRlbXM9ZSxyLnRyYXY9MCxyfXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuXCJBcnJheSBvZiBcIit0aGlzLml0ZW1zLmxlbmd0aCtcIiBpdGVtc1wifSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmF2Pj10aGlzLml0ZW1zLmxlbmd0aD9bMix7dmFsdWU6bnVsbCxkb25lOiEwfV06KHQ9dGhpcy5pdGVtc1t0aGlzLnRyYXZdLHRoaXMudHJhdisrLFsyLHt2YWx1ZTpkZWVwQ2xvbmUodCksZG9uZTohMX1dKX0pfSl9LGV9KExhenlJdGVyYXRvciksRnVuY3Rpb25DYWxsSXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIubmV4dEZuPWUscn1yZXR1cm4gX19leHRlbmRzKGUsdCksZS5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3JldHVyblwiRnVuY3Rpb24gY2FsbFwifSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbih0KXt0cnl7cmV0dXJuWzIsdGhpcy5uZXh0Rm4oKV19Y2F0Y2godCl7dGhyb3cgdC5tZXNzYWdlPVwiRXJyb3IgdGhyb3duIHdoaWxlIGl0ZXJhdGluZyB0aHJvdWdoIGEgZGF0YXNldDogXCIrdC5tZXNzYWdlLHR9cmV0dXJuWzJdfSl9KX0sZX0oTGF6eUl0ZXJhdG9yKSxTZXJpYWxJdGVyYXRvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci51cHN0cmVhbT1lLHIubGFzdFJlYWQ9UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITF9KSxyfXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBzdHJlYW0uc3VtbWFyeSgpK1wiIC0+IFNlcmlhbFwifSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxhc3RSZWFkPXRoaXMubGFzdFJlYWQudGhlbihmdW5jdGlvbigpe3JldHVybiB0LnNlcmlhbE5leHQoKX0pLFsyLHRoaXMubGFzdFJlYWRdfSl9KX0sZS5wcm90b3R5cGUuc2VyaWFsTmV4dD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuWzIsdGhpcy51cHN0cmVhbS5uZXh0KCldfSl9KX0sZX0oTGF6eUl0ZXJhdG9yKSxTa2lwSXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi51cHN0cmVhbT1lLG4ubWF4Q291bnQ9cixuLmNvdW50PTAsbi5sYXN0UmVhZD1Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMX0pLG59cmV0dXJuIF9fZXh0ZW5kcyhlLHQpLGUucHJvdG90eXBlLnN1bW1hcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cHN0cmVhbS5zdW1tYXJ5KCkrXCIgLT4gU2tpcFwifSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxhc3RSZWFkPXRoaXMubGFzdFJlYWQudGhlbihmdW5jdGlvbigpe3JldHVybiB0LnNlcmlhbE5leHQoKX0pLFsyLHRoaXMubGFzdFJlYWRdfSl9KX0sZS5wcm90b3R5cGUuc2VyaWFsTmV4dD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5jb3VudCsrPHRoaXMubWF4Q291bnQ/WzQsdGhpcy51cHN0cmVhbS5uZXh0KCldOlszLDJdO2Nhc2UgMTpyZXR1cm4odD1lLnNlbnQoKSkuZG9uZT9bMix0XTooZGlzcG9zZSh0LnZhbHVlKSxbMywwXSk7Y2FzZSAyOnJldHVyblsyLHRoaXMudXBzdHJlYW0ubmV4dCgpXX19KX0pfSxlfShMYXp5SXRlcmF0b3IpLFRha2VJdGVyYXRvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnVwc3RyZWFtPWUsbi5tYXhDb3VudD1yLG4uY291bnQ9MCxufXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBzdHJlYW0uc3VtbWFyeSgpK1wiIC0+IFRha2VcIn0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY291bnQrKz49dGhpcy5tYXhDb3VudD9bMix7dmFsdWU6bnVsbCxkb25lOiEwfV06WzIsdGhpcy51cHN0cmVhbS5uZXh0KCldfSl9KX0sZX0oTGF6eUl0ZXJhdG9yKSxSb3dNYWpvckJhdGNoSXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIsbil7dm9pZCAwPT09biYmKG49ITApO3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS51cHN0cmVhbT1lLGkuYmF0Y2hTaXplPXIsaS5lbmFibGVTbWFsbExhc3RCYXRjaD1uLGkubGFzdFJlYWQ9UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITF9KSxpfXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBzdHJlYW0uc3VtbWFyeSgpK1wiIC0+IFJvd01ham9yQmF0Y2hcIn0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sYXN0UmVhZD10aGlzLmxhc3RSZWFkLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC5zZXJpYWxOZXh0KCl9KSxbMix0aGlzLmxhc3RSZWFkXX0pfSl9LGUucHJvdG90eXBlLnNlcmlhbE5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDp0PVtdLHIubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQubGVuZ3RoPHRoaXMuYmF0Y2hTaXplP1s0LHRoaXMudXBzdHJlYW0ubmV4dCgpXTpbMywzXTtjYXNlIDI6cmV0dXJuKGU9ci5zZW50KCkpLmRvbmU/dGhpcy5lbmFibGVTbWFsbExhc3RCYXRjaCYmdC5sZW5ndGg+MD9bMix7dmFsdWU6dCxkb25lOiExfV06WzIse3ZhbHVlOm51bGwsZG9uZTohMH1dOih0LnB1c2goZS52YWx1ZSksWzMsMV0pO2Nhc2UgMzpyZXR1cm5bMix7dmFsdWU6dCxkb25lOiExfV19fSl9KX0sZX0oTGF6eUl0ZXJhdG9yKSxGaWx0ZXJJdGVyYXRvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnVwc3RyZWFtPWUsbi5wcmVkaWNhdGU9cixuLmxhc3RSZWFkPVByb21pc2UucmVzb2x2ZSh7dmFsdWU6bnVsbCxkb25lOiExfSksbn1yZXR1cm4gX19leHRlbmRzKGUsdCksZS5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVwc3RyZWFtLnN1bW1hcnkoKStcIiAtPiBGaWx0ZXJcIn0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sYXN0UmVhZD10aGlzLmxhc3RSZWFkLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC5zZXJpYWxOZXh0KCl9KSxbMix0aGlzLmxhc3RSZWFkXX0pfSl9LGUucHJvdG90eXBlLnNlcmlhbE5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy51cHN0cmVhbS5uZXh0KCldO2Nhc2UgMTpyZXR1cm4odD1lLnNlbnQoKSkuZG9uZXx8dGhpcy5wcmVkaWNhdGUodC52YWx1ZSk/WzIsdF06KGRpc3Bvc2UodC52YWx1ZSksWzMsMF0pO2Nhc2UgMjpyZXR1cm5bMl19fSl9KX0sZX0oTGF6eUl0ZXJhdG9yKSxNYXBJdGVyYXRvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnVwc3RyZWFtPWUsbi50cmFuc2Zvcm09cixufXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBzdHJlYW0uc3VtbWFyeSgpK1wiIC0+IE1hcFwifSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdCxlLHIsbixpLG8sYTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMudXBzdHJlYW0ubmV4dCgpXTtjYXNlIDE6aWYoKHQ9cy5zZW50KCkpLmRvbmUpcmV0dXJuWzIse3ZhbHVlOm51bGwsZG9uZTohMH1dO2ZvcihlPXRlbnNvcl91dGlsLmdldFRlbnNvcnNJbkNvbnRhaW5lcih0LnZhbHVlKSxyPXRoaXMudHJhbnNmb3JtKHQudmFsdWUpLG49dGVuc29yX3V0aWwuZ2V0VGVuc29yc0luQ29udGFpbmVyKHIpLGk9MCxvPWU7aTxvLmxlbmd0aDtpKyspYT1vW2ldLHRlbnNvcl91dGlsLmlzVGVuc29ySW5MaXN0KGEsbil8fGEuZGlzcG9zZSgpO3JldHVyblsyLHt2YWx1ZTpyLGRvbmU6ITF9XX19KX0pfSxlfShMYXp5SXRlcmF0b3IpLEVycm9ySGFuZGxpbmdMYXp5SXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi51cHN0cmVhbT1lLG4uaGFuZGxlcj1yLG4uY291bnQ9MCxuLmxhc3RSZWFkPVByb21pc2UucmVzb2x2ZSh7dmFsdWU6bnVsbCxkb25lOiExfSksbn1yZXR1cm4gX19leHRlbmRzKGUsdCksZS5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVwc3RyZWFtLnN1bW1hcnkoKStcIiAtPiBoYW5kbGVFcnJvcnNcIn0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sYXN0UmVhZD10aGlzLmxhc3RSZWFkLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC5zZXJpYWxOZXh0KCl9KSxbMix0aGlzLmxhc3RSZWFkXX0pfSl9LGUucHJvdG90eXBlLnNlcmlhbE5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6ZS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gZS50cnlzLnB1c2goWzEsMywsNF0pLFs0LHRoaXMudXBzdHJlYW0ubmV4dCgpXTtjYXNlIDI6cmV0dXJuWzIsZS5zZW50KCldO2Nhc2UgMzpyZXR1cm4gdD1lLnNlbnQoKSx0aGlzLmhhbmRsZXIodCk/WzMsNF06WzIse3ZhbHVlOm51bGwsZG9uZTohMH1dO2Nhc2UgNDpyZXR1cm5bMywwXTtjYXNlIDU6cmV0dXJuWzJdfX0pfSl9LGV9KExhenlJdGVyYXRvciksQXN5bmNNYXBJdGVyYXRvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnVwc3RyZWFtPWUsbi50cmFuc2Zvcm09cixufXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBzdHJlYW0uc3VtbWFyeSgpK1wiIC0+IEFzeW5jTWFwXCJ9LGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LGUscixuLGksbyxhO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy51cHN0cmVhbS5uZXh0KCldO2Nhc2UgMTpyZXR1cm4odD1zLnNlbnQoKSkuZG9uZT9bMix7dmFsdWU6bnVsbCxkb25lOiEwfV06KGU9dGVuc29yX3V0aWwuZ2V0VGVuc29yc0luQ29udGFpbmVyKHQudmFsdWUpLFs0LHRoaXMudHJhbnNmb3JtKHQudmFsdWUpXSk7Y2FzZSAyOmZvcihyPXMuc2VudCgpLG49dGVuc29yX3V0aWwuZ2V0VGVuc29yc0luQ29udGFpbmVyKHIpLGk9MCxvPWU7aTxvLmxlbmd0aDtpKyspYT1vW2ldLHRlbnNvcl91dGlsLmlzVGVuc29ySW5MaXN0KGEsbil8fGEuZGlzcG9zZSgpO3JldHVyblsyLHt2YWx1ZTpyLGRvbmU6ITF9XX19KX0pfSxlfShMYXp5SXRlcmF0b3IpLE9uZVRvTWFueUl0ZXJhdG9yPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGUub3V0cHV0UXVldWU9bmV3IEdyb3dpbmdSaW5nQnVmZmVyLGUubGFzdFJlYWQ9UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITF9KSxlfXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxhc3RSZWFkPXRoaXMubGFzdFJlYWQudGhlbihmdW5jdGlvbigpe3JldHVybiB0LnNlcmlhbE5leHQoKX0pLFsyLHRoaXMubGFzdFJlYWRdfSl9KX0sZS5wcm90b3R5cGUuc2VyaWFsTmV4dD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gMCE9PXRoaXMub3V0cHV0UXVldWUubGVuZ3RoKCk/WzMsMl06WzQsdGhpcy5wdW1wKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCk/WzMsMF06WzIse3ZhbHVlOm51bGwsZG9uZTohMH1dO2Nhc2UgMjpyZXR1cm5bMix7dmFsdWU6dGhpcy5vdXRwdXRRdWV1ZS5zaGlmdCgpLGRvbmU6ITF9XX19KX0pfSxlfShMYXp5SXRlcmF0b3IpLEZsYXRtYXBJdGVyYXRvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnVwc3RyZWFtPWUsbi50cmFuc2Zvcm09cixufXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBzdHJlYW0uc3VtbWFyeSgpK1wiIC0+IEZsYXRtYXBcIn0sZS5wcm90b3R5cGUucHVtcD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQsZSxyLG4saSxvLGE7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnVwc3RyZWFtLm5leHQoKV07Y2FzZSAxOmlmKCh0PXMuc2VudCgpKS5kb25lKXJldHVyblsyLCExXTtmb3IoZT10ZW5zb3JfdXRpbC5nZXRUZW5zb3JzSW5Db250YWluZXIodC52YWx1ZSkscj10aGlzLnRyYW5zZm9ybSh0LnZhbHVlKSxuPXRlbnNvcl91dGlsLmdldFRlbnNvcnNJbkNvbnRhaW5lcihyKSx0aGlzLm91dHB1dFF1ZXVlLnB1c2hBbGwociksaT0wLG89ZTtpPG8ubGVuZ3RoO2krKylhPW9baV0sdGVuc29yX3V0aWwuaXNUZW5zb3JJbkxpc3QoYSxuKXx8YS5kaXNwb3NlKCk7cmV0dXJuWzIsITBdfX0pfSl9LGV9KE9uZVRvTWFueUl0ZXJhdG9yKSxDaGFpbmVkSXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5iYXNlRXJyb3JIYW5kbGVyPXIsbi5sYXN0UmVhZD1udWxsLG4uaXRlcmF0b3I9bnVsbCxuLm1vcmVJdGVyYXRvcnM9ZSxufXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuXCJUT0RPOiBmaWxsIGluIHVwc3RyZWFtIG9mIGNoYWluZWQgc3VtbWFyaWVzIC0+IENoYWluZWRcIn0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGFzdFJlYWQ9dGhpcy5yZWFkRnJvbUNoYWluKHRoaXMubGFzdFJlYWQpLFsyLHRoaXMubGFzdFJlYWRdfSl9KX0sZS5wcm90b3R5cGUucmVhZEZyb21DaGFpbj1mdW5jdGlvbih0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLHI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0XTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLG51bGwhPXRoaXMuaXRlcmF0b3I/WzMsM106WzQsdGhpcy5tb3JlSXRlcmF0b3JzLm5leHQoKV07Y2FzZSAyOmlmKChlPW4uc2VudCgpKS5kb25lKXJldHVyblsyLHt2YWx1ZTpudWxsLGRvbmU6ITB9XTt0aGlzLml0ZXJhdG9yPWUudmFsdWUsbnVsbCE9dGhpcy5iYXNlRXJyb3JIYW5kbGVyJiYodGhpcy5pdGVyYXRvcj10aGlzLml0ZXJhdG9yLmhhbmRsZUVycm9ycyh0aGlzLmJhc2VFcnJvckhhbmRsZXIpKSxuLmxhYmVsPTM7Y2FzZSAzOnJldHVybls0LHRoaXMuaXRlcmF0b3IubmV4dCgpXTtjYXNlIDQ6cmV0dXJuKHI9bi5zZW50KCkpLmRvbmU/KHRoaXMuaXRlcmF0b3I9bnVsbCxbMix0aGlzLnJlYWRGcm9tQ2hhaW4odCldKTpbMixyXX19KX0pfSxlfShMYXp5SXRlcmF0b3IpOyFmdW5jdGlvbih0KXt0W3QuRkFJTD0wXT1cIkZBSUxcIix0W3QuU0hPUlRFU1Q9MV09XCJTSE9SVEVTVFwiLHRbdC5MT05HRVNUPTJdPVwiTE9OR0VTVFwifShaaXBNaXNtYXRjaE1vZGV8fChaaXBNaXNtYXRjaE1vZGU9e30pKTt2YXIgWmlwSXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3ZvaWQgMD09PXImJihyPVppcE1pc21hdGNoTW9kZS5GQUlMKTt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uaXRlcmF0b3JzPWUsbi5taXNtYXRjaE1vZGU9cixuLmNvdW50PTAsbi5jdXJyZW50UHJvbWlzZT1udWxsLG59cmV0dXJuIF9fZXh0ZW5kcyhlLHQpLGUucHJvdG90eXBlLnN1bW1hcnk9ZnVuY3Rpb24oKXtyZXR1cm5cIntUT0RPOiBmaWxsIGluIHVwc3RyZWFtIG9mIHppcCBzdW1tYXJpZXN9IC0+IFppcFwifSxlLnByb3RvdHlwZS5uZXh0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3JldHVybiB0IGluc3RhbmNlb2YgTGF6eUl0ZXJhdG9yP3t2YWx1ZTp0Lm5leHQoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiByKyssdC5kb25lJiZuKyssdC52YWx1ZX0pLHJlY3Vyc2U6ITF9Ont2YWx1ZTpudWxsLHJlY3Vyc2U6ITB9fXZhciByLG4saTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRdO2Nhc2UgMTpyZXR1cm4gby5zZW50KCkscj0wLG49MCxbNCxkZWVwTWFwQW5kQXdhaXRBbGwodGhpcy5pdGVyYXRvcnMsZSldO2Nhc2UgMjppZihpPW8uc2VudCgpLHI9PT1uKXJldHVyblsyLHt2YWx1ZTpudWxsLGRvbmU6ITB9XTtpZihuPjApc3dpdGNoKHRoaXMubWlzbWF0Y2hNb2RlKXtjYXNlIFppcE1pc21hdGNoTW9kZS5GQUlMOnRocm93IG5ldyBFcnJvcihcIlppcHBlZCBzdHJlYW1zIHNob3VsZCBoYXZlIHRoZSBzYW1lIGxlbmd0aC4gTWlzbWF0Y2hlZCBhdCBlbGVtZW50IFwiK3RoaXMuY291bnQrXCIuXCIpO2Nhc2UgWmlwTWlzbWF0Y2hNb2RlLlNIT1JURVNUOnJldHVyblsyLHt2YWx1ZTpudWxsLGRvbmU6ITB9XTtjYXNlIFppcE1pc21hdGNoTW9kZS5MT05HRVNUOn1yZXR1cm4gdGhpcy5jb3VudCsrLFsyLHt2YWx1ZTppLGRvbmU6ITF9XX19KX0pfSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jdXJyZW50UHJvbWlzZT10aGlzLm5leHRTdGF0ZSh0aGlzLmN1cnJlbnRQcm9taXNlKSxbMix0aGlzLmN1cnJlbnRQcm9taXNlXX0pfSl9LGV9KExhenlJdGVyYXRvciksUHJlZmV0Y2hJdGVyYXRvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnVwc3RyZWFtPWUsbi5idWZmZXJTaXplPXIsbi5idWZmZXI9bmV3IFJpbmdCdWZmZXIociksbn1yZXR1cm4gX19leHRlbmRzKGUsdCksZS5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVwc3RyZWFtLnN1bW1hcnkoKStcIiAtPiBQcmVmZXRjaFwifSxlLnByb3RvdHlwZS5yZWZpbGw9ZnVuY3Rpb24oKXtmb3IoOyF0aGlzLmJ1ZmZlci5pc0Z1bGwoKTspe3ZhciB0PXRoaXMudXBzdHJlYW0ubmV4dCgpO3RoaXMuYnVmZmVyLnB1c2godCl9fSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVmaWxsKCksdGhpcy5idWZmZXIuc2hpZnQoKX0sZX0oTGF6eUl0ZXJhdG9yKSxTaHVmZmxlSXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSxyKXx8dGhpcztyZXR1cm4gaS51cHN0cmVhbT1lLGkud2luZG93U2l6ZT1yLGkudXBzdHJlYW1FeGhhdXN0ZWQ9ITEsaS5yYW5kb209c2VlZHJhbmRvbV8xKG58fHV0aWwubm93KCkudG9TdHJpbmcoKSksaS5sYXN0UmVhZD1Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMX0pLGl9cmV0dXJuIF9fZXh0ZW5kcyhlLHQpLGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGFzdFJlYWQ9dGhpcy5sYXN0UmVhZC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc2VyaWFsTmV4dCgpfSksWzIsdGhpcy5sYXN0UmVhZF19KX0pfSxlLnByb3RvdHlwZS5yYW5kb21JbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguZmxvb3IodGhpcy5yYW5kb20oKSp0KX0sZS5wcm90b3R5cGUuY2hvb3NlSW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5kb21JbnQodGhpcy5idWZmZXIubGVuZ3RoKCkpfSxlLnByb3RvdHlwZS5zZXJpYWxOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6dGhpcy51cHN0cmVhbUV4aGF1c3RlZHx8dGhpcy5yZWZpbGwoKSxyLmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0aGlzLmJ1ZmZlci5pc0VtcHR5KCk/WzMsM106KHQ9dGhpcy5jaG9vc2VJbmRleCgpLFs0LHRoaXMuYnVmZmVyLnNodWZmbGVFeGNpc2UodCldKTtjYXNlIDI6cmV0dXJuKGU9ci5zZW50KCkpLmRvbmU/KHRoaXMudXBzdHJlYW1FeGhhdXN0ZWQ9ITAsWzMsMV0pOih0aGlzLnJlZmlsbCgpLFsyLGVdKTtjYXNlIDM6cmV0dXJuWzIse3ZhbHVlOm51bGwsZG9uZTohMH1dfX0pfSl9LGV9KFByZWZldGNoSXRlcmF0b3IpLERhdGFzZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5zaXplPW51bGx9cmV0dXJuIHQucHJvdG90eXBlLmJhdGNoPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpczt2b2lkIDA9PT1lJiYoZT0hMCk7dmFyIG49dGhpcztyZXR1cm4gdXRpbC5hc3NlcnQodD4wLGZ1bmN0aW9uKCl7cmV0dXJuXCJiYXRjaFNpemUgbmVlZHMgdG8gYmUgcG9zaXRpdmUsIGJ1dCBpdCBpc1xcbiAgICAgIFwiK3R9KSxkYXRhc2V0RnJvbUl0ZXJhdG9yRm4oZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHIsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsbi5pdGVyYXRvcigpXTtjYXNlIDE6cmV0dXJuWzIsci5zZW50KCkuY29sdW1uTWFqb3JCYXRjaCh0LGUsZGVlcEJhdGNoQ29uY2F0KV19fSl9KX0sdGhpcy5zaXplPT09MS8wfHxudWxsPT10aGlzLnNpemU/dGhpcy5zaXplOmU/TWF0aC5jZWlsKHRoaXMuc2l6ZS90KTpNYXRoLmZsb29yKHRoaXMuc2l6ZS90KSl9LHQucHJvdG90eXBlLmNvbmNhdGVuYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj10aGlzO3JldHVybiBkYXRhc2V0RnJvbUl0ZXJhdG9yRm4oZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKGUsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxyLml0ZXJhdG9yKCldO2Nhc2UgMTpyZXR1cm4gbj0oZT1pLnNlbnQoKSkuY29uY2F0ZW5hdGUsWzQsdC5pdGVyYXRvcigpXTtjYXNlIDI6cmV0dXJuWzIsbi5hcHBseShlLFtpLnNlbnQoKV0pXX19KX0pfSx0aGlzLnNpemU9PT0xLzB8fHQuc2l6ZT09PTEvMD8xLzA6bnVsbCE9dGhpcy5zaXplJiZudWxsIT10LnNpemU/dGhpcy5zaXplK3Quc2l6ZTpudWxsKX0sdC5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj10aGlzO3JldHVybiBkYXRhc2V0RnJvbUl0ZXJhdG9yRm4oZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKGUsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsci5pdGVyYXRvcigpXTtjYXNlIDE6cmV0dXJuWzIsZS5zZW50KCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7cmV0dXJuIHQoZSl9KX0pXX19KX0pfSx0aGlzLnNpemU9PT0xLzA/MS8wOm51bGwpfSx0LnByb3RvdHlwZS5mb3JFYWNoQXN5bmM9ZnVuY3Rpb24odCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuaXRlcmF0b3IoKV07Y2FzZSAxOnJldHVyblsyLGUuc2VudCgpLmZvckVhY2hBc3luYyh0KV19fSl9KX0sdC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBkZXByZWNhdGlvbldhcm4oXCJkYXRhc2V0LmZvckVhY2goKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQuIFBsZWFzZSB1c2UgZGF0YXNldC5mb3JFYWNoQXN5bmMoKSBpbnN0ZWFkXCIpLFsyLHRoaXMuZm9yRWFjaEFzeW5jKHQpXX0pfSl9LHQucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9dGhpcztyZXR1cm4gZGF0YXNldEZyb21JdGVyYXRvckZuKGZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcihlLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHIuaXRlcmF0b3IoKV07Y2FzZSAxOnJldHVyblsyLGUuc2VudCgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiB0KGUpfSl9KV19fSl9KX0sdGhpcy5zaXplKX0sdC5wcm90b3R5cGUubWFwQXN5bmM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPXRoaXM7cmV0dXJuIGRhdGFzZXRGcm9tSXRlcmF0b3JGbihmdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIoZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxyLml0ZXJhdG9yKCldO2Nhc2UgMTpyZXR1cm5bMixlLnNlbnQoKS5tYXBBc3luYyh0KV19fSl9KX0sdGhpcy5zaXplKX0sdC5wcm90b3R5cGUucHJlZmV0Y2g9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZihudWxsPT10KXRocm93IG5ldyBSYW5nZUVycm9yKFwiYERhdGFzZXQucHJlZmV0Y2goKWAgcmVxdWlyZXMgYnVmZmVyU2l6ZSB0byBiZSBzcGVjaWZpZWQuXCIpO3ZhciByPXRoaXM7cmV0dXJuIGRhdGFzZXRGcm9tSXRlcmF0b3JGbihmdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIoZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxyLml0ZXJhdG9yKCldO2Nhc2UgMTpyZXR1cm5bMixlLnNlbnQoKS5wcmVmZXRjaCh0KV19fSl9KX0sdGhpcy5zaXplKX0sdC5wcm90b3R5cGUucmVwZWF0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj10aGlzO3JldHVybiBkYXRhc2V0RnJvbUl0ZXJhdG9yRm4oZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKGUsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obil7cmV0dXJuWzIsaXRlcmF0b3JGcm9tQ29uY2F0ZW5hdGVkKGl0ZXJhdG9yRnJvbUZ1bmN0aW9uKGZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcihlLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXt9LFs0LHIuaXRlcmF0b3IoKV07Y2FzZSAxOnJldHVyblsyLCh0LnZhbHVlPWUuc2VudCgpLHQuZG9uZT0hMSx0KV19fSl9KX0pLnRha2UodCkpXX0pfSl9LG51bGwhPXRoaXMuc2l6ZSYmdD4wP3RoaXMuc2l6ZSp0OjA9PT10PzA6bnVsbCE9dGhpcy5zaXplJiYodm9pZCAwPT09dHx8dDwwKT8xLzA6bnVsbCl9LHQucHJvdG90eXBlLnNraXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPXRoaXM7cmV0dXJuIGRhdGFzZXRGcm9tSXRlcmF0b3JGbihmdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIoZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxyLml0ZXJhdG9yKCldO2Nhc2UgMTpyZXR1cm5bMixlLnNlbnQoKS5za2lwKHQpXX19KX0pfSxudWxsIT10aGlzLnNpemUmJnQ+PTAmJnRoaXMuc2l6ZT49dD90aGlzLnNpemUtdDpudWxsIT10aGlzLnNpemUmJih0aGlzLnNpemU8dHx8dm9pZCAwPT09dHx8dDwwKT8wOm51bGwpfSx0LnByb3RvdHlwZS5zaHVmZmxlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10aGlzO2lmKHZvaWQgMD09PXImJihyPSEwKSxudWxsPT10fHx0PDApdGhyb3cgbnVsbD09dGhpcy5zaXplP25ldyBSYW5nZUVycm9yKFwiYERhdGFzZXQuc2h1ZmZsZSgpYCByZXF1aXJlcyBidWZmZXJTaXplIHRvIGJlIHNwZWNpZmllZC5cIik6bmV3IFJhbmdlRXJyb3IoXCJgRGF0YXNldC5zaHVmZmxlKClgIHJlcXVpcmVzIGJ1ZmZlclNpemUgdG8gYmUgc3BlY2lmaWVkLiAgSWYgeW91ciBkYXRhIGZpdHMgaW4gbWFpbiBtZW1vcnkgKGZvciByZWd1bGFyIEpTIG9iamVjdHMpLCBhbmQvb3IgR1BVIG1lbW9yeSAoZm9yIGB0Zi5UZW5zb3JgcyksIGNvbnNpZGVyIHNldHRpbmcgYnVmZmVyU2l6ZSB0byB0aGUgZGF0YXNldCBzaXplIChcIit0aGlzLnNpemUrXCIgZWxlbWVudHMpXCIpO3ZhciBpPXRoaXMsbz1zZWVkcmFuZG9tXzEoZXx8dXRpbC5ub3coKS50b1N0cmluZygpKTtyZXR1cm4gZGF0YXNldEZyb21JdGVyYXRvckZuKGZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcihuLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPW8uaW50MzIoKSxyJiYoZSs9by5pbnQzMigpKSxbNCxpLml0ZXJhdG9yKCldO2Nhc2UgMTpyZXR1cm5bMixuLnNlbnQoKS5zaHVmZmxlKHQsZS50b1N0cmluZygpKV19fSl9KX0sdGhpcy5zaXplKX0sdC5wcm90b3R5cGUudGFrZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9dGhpcztyZXR1cm4gZGF0YXNldEZyb21JdGVyYXRvckZuKGZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcihlLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHIuaXRlcmF0b3IoKV07Y2FzZSAxOnJldHVyblsyLGUuc2VudCgpLnRha2UodCldfX0pfSl9LG51bGwhPXRoaXMuc2l6ZSYmdGhpcy5zaXplPnQ/dDpudWxsIT10aGlzLnNpemUmJnRoaXMuc2l6ZTw9dD90aGlzLnNpemU6bnVsbCl9LHQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aWYodGhpcy5zaXplPT09MS8wKXRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgY29udmVydCBpbmZpbml0ZSBkYXRhIHN0cmVhbSB0byBhcnJheS5cIik7cmV0dXJuWzQsdGhpcy5pdGVyYXRvcigpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCkudG9BcnJheSgpXX19KX0pfSx0LnByb3RvdHlwZS50b0FycmF5Rm9yVGVzdD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZih0aGlzLnNpemU9PT0xLzApdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBjb252ZXJ0IGluZmluaXRlIGRhdGEgc3RyZWFtIHRvIGFycmF5LlwiKTtyZXR1cm5bNCx0aGlzLml0ZXJhdG9yKCldO2Nhc2UgMTpyZXR1cm5bMix0LnNlbnQoKS50b0FycmF5Rm9yVGVzdCgpXX19KX0pfSx0Lk1BWF9CVUZGRVJfU0laRT0xZTQsdH0oKTtmdW5jdGlvbiBkYXRhc2V0RnJvbUl0ZXJhdG9yRm4odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksbmV3KGZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4oKXt2YXIgdD1udWxsIT09ciYmci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuc2l6ZT1lLHR9cmV0dXJuIF9fZXh0ZW5kcyhuLHIpLG4ucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtyZXR1cm5bMix0KCldfSl9KX0sbn0oRGF0YXNldCkpfWZ1bmN0aW9uIGFycmF5KHQpe3ZhciBlPXRoaXM7cmV0dXJuIGRhdGFzZXRGcm9tSXRlcmF0b3JGbihmdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIoZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuWzIsaXRlcmF0b3JGcm9tSXRlbXModCldfSl9KX0sdC5sZW5ndGgpfWZ1bmN0aW9uIHppcCh0KXt2YXIgZSxyPXRoaXM7aWYoIWlzSXRlcmFibGUodCkpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGFyZ3VtZW50IHRvIHppcCgpIG11c3QgYmUgYW4gb2JqZWN0IG9yIGFycmF5LlwiKTtpZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWU9bnVsbD09ZT90W25dLnNpemU6TWF0aC5taW4oZSx0W25dLnNpemUpO2Vsc2UgaWYodCBpbnN0YW5jZW9mIE9iamVjdClmb3IodmFyIGkgaW4gdCllPW51bGw9PWU/dFtpXS5zaXplOk1hdGgubWluKGUsdFtpXS5zaXplKTtyZXR1cm4gZGF0YXNldEZyb21JdGVyYXRvckZuKGZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcihyLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGRlZXBNYXBBbmRBd2FpdEFsbCh0LGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBEYXRhc2V0KXJldHVybnt2YWx1ZTp0Lml0ZXJhdG9yKCkscmVjdXJzZTohMX07aWYoaXNJdGVyYWJsZSh0KSlyZXR1cm57dmFsdWU6bnVsbCxyZWN1cnNlOiEwfTt0aHJvdyBuZXcgRXJyb3IoXCJMZWF2ZXMgb2YgdGhlIHN0cnVjdHVyZSBwYXNzZWQgdG8gemlwKCkgbXVzdCBiZSBEYXRhc2V0cywgbm90IHByaW1pdGl2ZXMuXCIpfSldO2Nhc2UgMTpyZXR1cm5bMixpdGVyYXRvckZyb21aaXBwZWQoZS5zZW50KCksWmlwTWlzbWF0Y2hNb2RlLlNIT1JURVNUKV19fSl9KX0sZSl9ZnVuY3Rpb24gZGVlcEJhdGNoQ29uY2F0KHQpe3JldHVybiBudWxsPT09dD9udWxsOmNhblRlbnNvcmlmeSh0WzBdKT97dmFsdWU6YmF0Y2hDb25jYXQodCkscmVjdXJzZTohMX06e3ZhbHVlOm51bGwscmVjdXJzZTohMH19ZnVuY3Rpb24gYmF0Y2hDb25jYXQodCl7aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbid0IG1ha2UgYSBiYXRjaCBvZiB6ZXJvIGVsZW1lbnRzLlwiKTtyZXR1cm4gdFswXWluc3RhbmNlb2YgVGVuc29yP3N0YWNrKHQpOnRlbnNvcih0KX12YXIgVGV4dExpbmVEYXRhc2V0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmlucHV0PWUscn1yZXR1cm4gX19leHRlbmRzKGUsdCksZS5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmlucHV0Lml0ZXJhdG9yKCldO2Nhc2UgMTpyZXR1cm4gdD1yLnNlbnQoKSxlPXQuZGVjb2RlVVRGOCgpLFsyLGUuc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVuZHNXaXRoKFwiXFxyXCIpJiYodD10LnNsaWNlKDAsLTEpKSx0fSldfX0pfSl9LGV9KERhdGFzZXQpLENPREVfUVVPVEU9J1wiJyxTVEFURV9PVVQ9U3ltYm9sKFwib3V0XCIpLFNUQVRFX0ZJRUxEPVN5bWJvbChcImZpZWxkXCIpLFNUQVRFX1FVT1RFPVN5bWJvbChcInF1b3RlXCIpLFNUQVRFX1FVT1RFX0FGVEVSX1FVT1RFPVN5bWJvbChcInF1b3RlYWZ0ZXJxdW90ZVwiKSxTVEFURV9XSVRISU5fUVVPVEVfSU5fUVVPVEU9U3ltYm9sKFwicXVvdGVpbnF1b3RlXCIpLENTVkRhdGFzZXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5pbnB1dD1lLG4uaGFzSGVhZGVyPSEwLG4uZnVsbENvbHVtbk5hbWVzPW51bGwsbi5jb2x1bW5OYW1lc1ZhbGlkYXRlZD0hMSxuLmNvbHVtbkNvbmZpZ3M9bnVsbCxuLmNvbmZpZ3VyZWRDb2x1bW5zT25seT0hMSxuLmRlbGltaXRlcj1cIixcIixuLmRlbGltV2hpdGVzcGFjZT0hMSxuLmJhc2U9bmV3IFRleHRMaW5lRGF0YXNldChlKSxyfHwocj17fSksbi5oYXNIZWFkZXI9ITEhPT1yLmhhc0hlYWRlcixuLmZ1bGxDb2x1bW5OYW1lcz1yLmNvbHVtbk5hbWVzLG4uY29sdW1uQ29uZmlncz1yLmNvbHVtbkNvbmZpZ3Msbi5jb25maWd1cmVkQ29sdW1uc09ubHk9ci5jb25maWd1cmVkQ29sdW1uc09ubHksci5kZWxpbVdoaXRlc3BhY2U/KHV0aWwuYXNzZXJ0KG51bGw9PXIuZGVsaW1pdGVyLGZ1bmN0aW9uKCl7cmV0dXJuXCJEZWxpbWl0ZXIgc2hvdWxkIG5vdCBiZSBwcm92aWRlZCB3aGVuIGRlbGltV2hpdGVzcGFjZSBpcyB0cnVlLlwifSksbi5kZWxpbVdoaXRlc3BhY2U9ITAsbi5kZWxpbWl0ZXI9XCIgXCIpOm4uZGVsaW1pdGVyPXIuZGVsaW1pdGVyP3IuZGVsaW1pdGVyOlwiLFwiLG59cmV0dXJuIF9fZXh0ZW5kcyhlLHQpLGUucHJvdG90eXBlLmNvbHVtbk5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmNvbHVtbk5hbWVzVmFsaWRhdGVkP1szLDJdOls0LHRoaXMuc2V0Q29sdW1uTmFtZXMoKV07Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzIsdGhpcy5jb25maWd1cmVkQ29sdW1uc09ubHk/T2JqZWN0LmtleXModGhpcy5jb2x1bW5Db25maWdzKTp0aGlzLmZ1bGxDb2x1bW5OYW1lc119fSl9KX0sZS5wcm90b3R5cGUuc2V0Q29sdW1uTmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LGUscixuLGksbyxhPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLm1heWJlUmVhZEhlYWRlckxpbmUoKV07Y2FzZSAxOmlmKHQ9cy5zZW50KCksIXRoaXMuZnVsbENvbHVtbk5hbWVzJiYhdCl0aHJvdyBuZXcgRXJyb3IoXCJDb2x1bW4gbmFtZXMgbXVzdCBiZSBwcm92aWRlZCBpZiB0aGVyZSBpcyBubyBoZWFkZXIgbGluZS5cIik7aWYodGhpcy5mdWxsQ29sdW1uTmFtZXMmJnQmJnV0aWwuYXNzZXJ0KHQubGVuZ3RoPT09dGhpcy5mdWxsQ29sdW1uTmFtZXMubGVuZ3RoLGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgbGVuZ3RoIG9mIHByb3ZpZGVkIGNvbHVtbk5hbWVzIChcIithLmZ1bGxDb2x1bW5OYW1lcy5sZW5ndGgudG9TdHJpbmcoKStcIikgZG9lcyBub3QgbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgaGVhZGVyIGxpbmUgcmVhZCBmcm9tIGZpbGUgKFwiK3QubGVuZ3RoLnRvU3RyaW5nKCkrXCIpLlwifSksdGhpcy5mdWxsQ29sdW1uTmFtZXN8fCh0aGlzLmZ1bGxDb2x1bW5OYW1lcz10KSxlPXRoaXMuZnVsbENvbHVtbk5hbWVzLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0W2VdPXRbZV0rMXx8MSx0fSx7fSkscj1PYmplY3Qua2V5cyhlKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF0+MX0pLHV0aWwuYXNzZXJ0KDA9PT1yLmxlbmd0aCxmdW5jdGlvbigpe3JldHVyblwiRHVwbGljYXRlIGNvbHVtbiBuYW1lcyBmb3VuZDogXCIrci50b1N0cmluZygpfSksdGhpcy5jb2x1bW5Db25maWdzKWZvcihuPTAsaT1PYmplY3Qua2V5cyh0aGlzLmNvbHVtbkNvbmZpZ3MpO248aS5sZW5ndGg7bisrKWlmKG89aVtuXSwtMT09PXRoaXMuZnVsbENvbHVtbk5hbWVzLmluZGV4T2YobykpdGhyb3cgbmV3IEVycm9yKCdUaGUga2V5IFwiJytvKydcIiBwcm92aWRlZCBpbiBjb2x1bW5Db25maWdzIGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgY29sdW1uIG5hbWVzICgnK3RoaXMuZnVsbENvbHVtbk5hbWVzLnRvU3RyaW5nKCkrXCIpLlwiKTtyZXR1cm4gdGhpcy5jb2x1bW5OYW1lc1ZhbGlkYXRlZD0hMCxbMl19fSl9KX0sZS5wcm90b3R5cGUubWF5YmVSZWFkSGVhZGVyTGluZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmhhc0hlYWRlcj9bNCx0aGlzLmJhc2UuaXRlcmF0b3IoKV06WzMsM107Y2FzZSAxOnJldHVybls0LHIuc2VudCgpLm5leHQoKV07Y2FzZSAyOmlmKCh0PXIuc2VudCgpKS5kb25lKXRocm93IG5ldyBFcnJvcihcIk5vIGRhdGEgd2FzIGZvdW5kIGZvciBDU1YgcGFyc2luZy5cIik7cmV0dXJuIGU9dC52YWx1ZSxbMix0aGlzLnBhcnNlUm93KGUsITEpXTtjYXNlIDM6cmV0dXJuWzIsbnVsbF19fSl9KX0sZS5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LGU9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmNvbHVtbk5hbWVzVmFsaWRhdGVkP1szLDJdOls0LHRoaXMuc2V0Q29sdW1uTmFtZXMoKV07Y2FzZSAxOnIuc2VudCgpLHIubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsdGhpcy5iYXNlLml0ZXJhdG9yKCldO2Nhc2UgMzpyZXR1cm4gdD1yLnNlbnQoKSx0aGlzLmhhc0hlYWRlciYmKHQ9dC5za2lwKDEpKSxbMix0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS5tYWtlRGF0YUVsZW1lbnQodCl9KV19fSl9KX0sZS5wcm90b3R5cGUubWFrZURhdGFFbGVtZW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnBhcnNlUm93KHQpLHI9e30sbj17fSxpPTA7aTx0aGlzLmZ1bGxDb2x1bW5OYW1lcy5sZW5ndGg7aSsrKXt2YXIgbz10aGlzLmZ1bGxDb2x1bW5OYW1lc1tpXSxhPXRoaXMuY29sdW1uQ29uZmlncz90aGlzLmNvbHVtbkNvbmZpZ3Nbb106bnVsbDtpZighdGhpcy5jb25maWd1cmVkQ29sdW1uc09ubHl8fGEpe3ZhciBzPWVbaV0sdT1udWxsO2lmKFwiXCI9PT1zKWlmKGEmJnZvaWQgMCE9PWEuZGVmYXVsdCl1PWEuZGVmYXVsdDtlbHNle2lmKGEmJihhLnJlcXVpcmVkfHxhLmlzTGFiZWwpKXRocm93IG5ldyBFcnJvcihcIlJlcXVpcmVkIGNvbHVtbiBcIitvK1wiIGlzIGVtcHR5IGluIHRoaXMgbGluZTogXCIrdCk7dT12b2lkIDB9ZWxzZXt2YXIgYz1OdW1iZXIocyk7aWYoaXNOYU4oYykpdT1hJiZcImJvb2xcIj09PWEuZHR5cGU/dGhpcy5nZXRCb29sZWFuKHMpOnM7ZWxzZSBpZihhJiZhLmR0eXBlKXN3aXRjaChhLmR0eXBlKXtjYXNlXCJmbG9hdDMyXCI6dT1jO2JyZWFrO2Nhc2VcImludDMyXCI6dT1NYXRoLmZsb29yKGMpO2JyZWFrO2Nhc2VcImJvb2xcIjp1PXRoaXMuZ2V0Qm9vbGVhbihzKTticmVhaztkZWZhdWx0OnU9Y31lbHNlIHU9Y31hJiZhLmlzTGFiZWw/bltvXT11OnJbb109dX19cmV0dXJuIDA9PT1PYmplY3Qua2V5cyhuKS5sZW5ndGg/cjp7eHM6cix5czpufX0sZS5wcm90b3R5cGUuZ2V0Qm9vbGVhbj1mdW5jdGlvbih0KXtyZXR1cm5cIjFcIj09PXR8fFwidHJ1ZVwiPT09dC50b0xvd2VyQ2FzZSgpPzE6MH0sZS5wcm90b3R5cGUucGFyc2VSb3c9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMCk7Zm9yKHZhciByPVtdLG49MCxpPXQubGVuZ3RoLG89U1RBVEVfT1VULGE9MDthPGk7YSsrKXN3aXRjaChvKXtjYXNlIFNUQVRFX09VVDpzd2l0Y2godC5jaGFyQXQoYSkpe2Nhc2UgQ09ERV9RVU9URTpuPWErMSxvPVNUQVRFX1FVT1RFO2JyZWFrO2Nhc2UgdGhpcy5kZWxpbWl0ZXI6aWYobj1hKzEsXCIgXCI9PT10aGlzLmRlbGltaXRlciYmdGhpcy5kZWxpbVdoaXRlc3BhY2UpYnJlYWs7ci5wdXNoKFwiXCIpLG89U1RBVEVfT1VUO2JyZWFrO2RlZmF1bHQ6bz1TVEFURV9GSUVMRCxuPWF9YnJlYWs7Y2FzZSBTVEFURV9GSUVMRDpzd2l0Y2godC5jaGFyQXQoYSkpe2Nhc2UgdGhpcy5kZWxpbWl0ZXI6ci5wdXNoKHQuc3Vic3RyaW5nKG4sYSkpLG89U1RBVEVfT1VULG49YSsxfWJyZWFrO2Nhc2UgU1RBVEVfUVVPVEU6c3dpdGNoKHQuY2hhckF0KGEpKXtjYXNlIENPREVfUVVPVEU6bz1TVEFURV9RVU9URV9BRlRFUl9RVU9URX1icmVhaztjYXNlIFNUQVRFX1FVT1RFX0FGVEVSX1FVT1RFOnN3aXRjaCh0LmNoYXJBdChhKSl7Y2FzZSB0aGlzLmRlbGltaXRlcjpyLnB1c2godC5zdWJzdHJpbmcobixhLTEpKSxvPVNUQVRFX09VVCxuPWErMTticmVhaztjYXNlIENPREVfUVVPVEU6bz1TVEFURV9RVU9URTticmVhaztkZWZhdWx0Om89U1RBVEVfV0lUSElOX1FVT1RFX0lOX1FVT1RFfWJyZWFrO2Nhc2UgU1RBVEVfV0lUSElOX1FVT1RFX0lOX1FVT1RFOnN3aXRjaCh0LmNoYXJBdChhKSl7Y2FzZSBDT0RFX1FVT1RFOm89U1RBVEVfUVVPVEV9fWlmKG89PT1TVEFURV9RVU9URV9BRlRFUl9RVU9URT9yLnB1c2godC5zdWJzdHJpbmcobixpLTEpKTpyLnB1c2godC5zdWJzdHJpbmcobikpLGUmJnIubGVuZ3RoIT09dGhpcy5mdWxsQ29sdW1uTmFtZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcm93IGluIGNzdiBmaWxlLiBTaG91bGQgaGF2ZSBcIit0aGlzLmZ1bGxDb2x1bW5OYW1lcy5sZW5ndGgrXCIgZWxlbWVudHMgaW4gYSByb3csIGJ1dCBnb3QgXCIrcik7cmV0dXJuIHJ9LGV9KERhdGFzZXQpLE1pY3JvcGhvbmVJdGVyYXRvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyLm1pY3JvcGhvbmVDb25maWc9ZSxyLmlzQ2xvc2VkPSExLHIuZmZ0U2l6ZT1lLmZmdFNpemV8fDEwMjQ7dmFyIG49TWF0aC5sb2cyKHIuZmZ0U2l6ZSk7aWYoci5mZnRTaXplPDB8fG48NHx8bj4xNHx8IU51bWJlci5pc0ludGVnZXIobikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmZnRTaXplOiBpdCBtdXN0IGJlIGEgcG93ZXIgb2YgMiBiZXR3ZWVuIDIgdG8gNCBhbmQgMiB0byAxNCwgYnV0IGdvdCBcIityLmZmdFNpemUpO2lmKHIubnVtRnJhbWVzPWUubnVtRnJhbWVzUGVyU3BlY3Ryb2dyYW18fDQzLHIuc2FtcGxlUmF0ZUh6PWUuc2FtcGxlUmF0ZUh6LHIuY29sdW1uVHJ1bmNhdGVMZW5ndGg9ZS5jb2x1bW5UcnVuY2F0ZUxlbmd0aHx8ci5mZnRTaXplLHIuYXVkaW9UcmFja0NvbnN0cmFpbnRzPWUuYXVkaW9UcmFja0NvbnN0cmFpbnRzLHIuc21vb3RoaW5nVGltZUNvbnN0YW50PWUuc21vb3RoaW5nVGltZUNvbnN0YW50fHwwLHIuaW5jbHVkZVNwZWN0cm9ncmFtPSExIT09ZS5pbmNsdWRlU3BlY3Ryb2dyYW0sci5pbmNsdWRlV2F2ZWZvcm09ITA9PT1lLmluY2x1ZGVXYXZlZm9ybSwhci5pbmNsdWRlU3BlY3Ryb2dyYW0mJiFyLmluY2x1ZGVXYXZlZm9ybSl0aHJvdyBuZXcgRXJyb3IoXCJCb3RoIGluY2x1ZGVTcGVjdHJvZ3JhbSBhbmQgaW5jbHVkZVdhdmVmb3JtIGFyZSBmYWxzZS4gQXQgbGVhc3Qgb25lIHR5cGUgb2YgZGF0YSBzaG91bGQgYmUgcmV0dXJuZWQuXCIpO3JldHVybiByfXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuXCJtaWNyb3Bob25lXCJ9LGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6aWYoZW52KCkuZ2V0KFwiSVNfTk9ERVwiKSl0aHJvdyBuZXcgRXJyb3IoXCJtaWNyb3Bob25lIEFQSSBpcyBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyIGVudmlyb25tZW50LlwiKTtyZXR1cm5bNCwocj1uZXcgZSh0KSkuc3RhcnQoKV07Y2FzZSAxOnJldHVybiBuLnNlbnQoKSxbMixyXX19KX0pfSxlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQsZSxyLG47cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gaS50cnlzLnB1c2goWzAsMiwsM10pLHQ9dGhpcyxbNCxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7YXVkaW86bnVsbD09dGhpcy5hdWRpb1RyYWNrQ29uc3RyYWludHN8fHRoaXMuYXVkaW9UcmFja0NvbnN0cmFpbnRzLHZpZGVvOiExfSldO2Nhc2UgMTpyZXR1cm4gdC5zdHJlYW09aS5zZW50KCksWzMsM107Y2FzZSAyOnRocm93IGU9aS5zZW50KCksbmV3IEVycm9yKFwiRXJyb3IgdGhyb3duIHdoaWxlIGluaXRpYWxpemluZyB2aWRlbyBzdHJlYW06IFwiK2UubWVzc2FnZSk7Y2FzZSAzOmlmKCF0aGlzLnN0cmVhbSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3Qgb2J0YWluIGF1ZGlvIGZyb20gbWljcm9waG9uZS5cIik7aWYocj13aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0LHRoaXMuYXVkaW9Db250ZXh0PW5ldyByLHRoaXMuc2FtcGxlUmF0ZUh6KXtpZih0aGlzLmF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlIT09dGhpcy5zYW1wbGVSYXRlSHopdGhyb3cgbmV3IEVycm9yKFwiTWlzbWF0Y2ggaW4gc2FtcGxpbmcgcmF0ZTogRXhwZWN0ZWQ6IFwiK3RoaXMuc2FtcGxlUmF0ZUh6K1wiOyBBY3R1YWw6IFwiK3RoaXMuYXVkaW9Db250ZXh0LnNhbXBsZVJhdGUpfWVsc2UgdGhpcy5zYW1wbGVSYXRlSHo9dGhpcy5hdWRpb0NvbnRleHQuc2FtcGxlUmF0ZTtyZXR1cm4gbj10aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0aGlzLnN0cmVhbSksdGhpcy5hbmFseXNlcj10aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVBbmFseXNlcigpLHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZT0yKnRoaXMuZmZ0U2l6ZSx0aGlzLmFuYWx5c2VyLnNtb290aGluZ1RpbWVDb25zdGFudD10aGlzLnNtb290aGluZ1RpbWVDb25zdGFudCxuLmNvbm5lY3QodGhpcy5hbmFseXNlciksdGhpcy5mcmVxRGF0YT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuZmZ0U2l6ZSksdGhpcy50aW1lRGF0YT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuZmZ0U2l6ZSksWzJdfX0pfSl9LGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LGUscixuLGk7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5pc0Nsb3NlZD9bMix7dmFsdWU6bnVsbCxkb25lOiEwfV06WzQsdGhpcy5nZXRBdWRpb0RhdGEoKV07Y2FzZSAxOnJldHVybiByPW8uc2VudCgpLHRoaXMuaW5jbHVkZVNwZWN0cm9ncmFtJiYobj10aGlzLmZsYXR0ZW5RdWV1ZShyLmZyZXFEYXRhUXVldWUpLHQ9dGhpcy5nZXRUZW5zb3JGcm9tQXVkaW9EYXRhQXJyYXkobixbdGhpcy5udW1GcmFtZXMsdGhpcy5jb2x1bW5UcnVuY2F0ZUxlbmd0aCwxXSkpLHRoaXMuaW5jbHVkZVdhdmVmb3JtJiYoaT10aGlzLmZsYXR0ZW5RdWV1ZShyLnRpbWVEYXRhUXVldWUpLGU9dGhpcy5nZXRUZW5zb3JGcm9tQXVkaW9EYXRhQXJyYXkoaSxbdGhpcy5udW1GcmFtZXMqdGhpcy5mZnRTaXplLDFdKSksWzIse3ZhbHVlOntzcGVjdHJvZ3JhbTp0LHdhdmVmb3JtOmV9LGRvbmU6ITF9XX19KX0pfSxlLnByb3RvdHlwZS5jYXB0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMubmV4dCgpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCkudmFsdWVdfX0pfSl9LGUucHJvdG90eXBlLmdldEF1ZGlvRGF0YT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQsZSxyLG49dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihpKXtyZXR1cm4gdD1bXSxlPVtdLHI9MCxbMixuZXcgUHJvbWlzZShmdW5jdGlvbihpKXt2YXIgbz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe24uaW5jbHVkZVNwZWN0cm9ncmFtJiYobi5hbmFseXNlci5nZXRGbG9hdEZyZXF1ZW5jeURhdGEobi5mcmVxRGF0YSksbi5mcmVxRGF0YVswXT09PS0xLzAmJmkoe2ZyZXFEYXRhUXVldWU6dCx0aW1lRGF0YVF1ZXVlOmV9KSx0LnB1c2gobi5mcmVxRGF0YS5zbGljZSgwLG4uY29sdW1uVHJ1bmNhdGVMZW5ndGgpKSksbi5pbmNsdWRlV2F2ZWZvcm0mJihuLmFuYWx5c2VyLmdldEZsb2F0VGltZURvbWFpbkRhdGEobi50aW1lRGF0YSksZS5wdXNoKG4udGltZURhdGEuc2xpY2UoKSkpLCsrcj09PW4ubnVtRnJhbWVzJiYoY2xlYXJJbnRlcnZhbChvKSxpKHtmcmVxRGF0YVF1ZXVlOnQsdGltZURhdGFRdWV1ZTplfSkpfSxuLmZmdFNpemUvbi5zYW1wbGVSYXRlSHoqMWUzKX0pXX0pfSl9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLmlzQ2xvc2VkfHwodGhpcy5pc0Nsb3NlZD0hMCx0aGlzLmFuYWx5c2VyLmRpc2Nvbm5lY3QoKSx0aGlzLmF1ZGlvQ29udGV4dC5jbG9zZSgpLG51bGwhPXRoaXMuc3RyZWFtJiZ0aGlzLnN0cmVhbS5nZXRUcmFja3MoKS5sZW5ndGg+MCYmdGhpcy5zdHJlYW0uZ2V0VHJhY2tzKClbMF0uc3RvcCgpKX0sZS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIkNhbiBub3QgY29udmVydCBpbmZpbml0ZSBhdWRpbyBzdHJlYW0gdG8gYXJyYXkuXCIpfSxlLnByb3RvdHlwZS5nZXRTYW1wbGVSYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2FtcGxlUmF0ZUh6fSxlLnByb3RvdHlwZS5mbGF0dGVuUXVldWU9ZnVuY3Rpb24odCl7dmFyIGU9dFswXS5sZW5ndGgscj1uZXcgRmxvYXQzMkFycmF5KHQubGVuZ3RoKmUpO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCxuKXtyZXR1cm4gci5zZXQodCxuKmUpfSkscn0sZS5wcm90b3R5cGUuZ2V0VGVuc29yRnJvbUF1ZGlvRGF0YUFycmF5PWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IEZsb2F0MzJBcnJheSh1dGlsLnNpemVGcm9tU2hhcGUoZSkpO3JldHVybiByLnNldCh0LHIubGVuZ3RoLXQubGVuZ3RoKSx0ZW5zb3IocixlKX0sZX0oTGF6eUl0ZXJhdG9yKSxXZWJjYW1JdGVyYXRvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO2lmKG4ud2ViY2FtVmlkZW9FbGVtZW50PWUsbi53ZWJjYW1Db25maWc9cixuLmlzQ2xvc2VkPSEwLG4ucmVzaXplPSExLG4ubmVlZFRvUmVzaXplKCkpaWYobi5yZXNpemU9ITAsbi5jcm9wU2l6ZT1bbi53ZWJjYW1Db25maWcucmVzaXplSGVpZ2h0LG4ud2ViY2FtQ29uZmlnLnJlc2l6ZVdpZHRoXSxuLmNyb3BCb3hJbmQ9dGVuc29yMWQoWzBdLFwiaW50MzJcIiksbi53ZWJjYW1Db25maWcuY2VudGVyQ3JvcCl7dmFyIGk9MSpuLndlYmNhbUNvbmZpZy5yZXNpemVXaWR0aC9uLndlYmNhbVZpZGVvRWxlbWVudC53aWR0aCxvPTEqbi53ZWJjYW1Db25maWcucmVzaXplSGVpZ2h0L24ud2ViY2FtVmlkZW9FbGVtZW50LmhlaWdodCxhPSgxLWkpLzIscz0oMS1vKS8yLHU9YStpLGM9bytzO24uY3JvcEJveD10ZW5zb3IyZChbcyxhLGMsdV0sWzEsNF0pfWVsc2Ugbi5jcm9wQm94PXRlbnNvcjJkKFswLDAsMSwxXSxbMSw0XSk7cmV0dXJuIG59cmV0dXJuIF9fZXh0ZW5kcyhlLHQpLGUucHJvdG90eXBlLnN1bW1hcnk9ZnVuY3Rpb24oKXtyZXR1cm5cIndlYmNhbVwifSxlLmNyZWF0ZT1mdW5jdGlvbih0LHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj17fSksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6aWYoZW52KCkuZ2V0KFwiSVNfTk9ERVwiKSl0aHJvdyBuZXcgRXJyb3IoXCJ0Zi5kYXRhLndlYmNhbSBpcyBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyIGVudmlyb25tZW50LlwiKTtpZighdCl7aWYodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksIXIucmVzaXplV2lkdGh8fCFyLnJlc2l6ZUhlaWdodCl0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSB3ZWJjYW0gdmlkZW8gZWxlbWVudCwgb3IgcmVzaXplV2lkdGggYW5kIHJlc2l6ZUhlaWdodCB0byBjcmVhdGUgYSBoaWRkZW4gdmlkZW8gZWxlbWVudC5cIik7dC53aWR0aD1yLnJlc2l6ZVdpZHRoLHQuaGVpZ2h0PXIucmVzaXplSGVpZ2h0fXJldHVybls0LChuPW5ldyBlKHQscikpLnN0YXJ0KCldO2Nhc2UgMTpyZXR1cm4gaS5zZW50KCksWzIsbl19fSl9KX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LGUscj10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6dGhpcy53ZWJjYW1Db25maWcuZmFjaW5nTW9kZSYmdXRpbC5hc3NlcnQoXCJ1c2VyXCI9PT10aGlzLndlYmNhbUNvbmZpZy5mYWNpbmdNb2RlfHxcImVudmlyb25tZW50XCI9PT10aGlzLndlYmNhbUNvbmZpZy5mYWNpbmdNb2RlLGZ1bmN0aW9uKCl7cmV0dXJuXCJJbnZhbGlkIHdlYmNhbSBmYWNpbmcgbW9kZTogXCIrci53ZWJjYW1Db25maWcuZmFjaW5nTW9kZStcIi4gUGxlYXNlIHByb3ZpZGUgJ3VzZXInIG9yICdlbnZpcm9ubWVudCdcIn0pLG4ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG4udHJ5cy5wdXNoKFsxLDMsLDRdKSx0PXRoaXMsWzQsbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe3ZpZGVvOntkZXZpY2VJZDp0aGlzLndlYmNhbUNvbmZpZy5kZXZpY2VJZCxmYWNpbmdNb2RlOnRoaXMud2ViY2FtQ29uZmlnLmZhY2luZ01vZGU/dGhpcy53ZWJjYW1Db25maWcuZmFjaW5nTW9kZTpcInVzZXJcIix3aWR0aDp0aGlzLndlYmNhbVZpZGVvRWxlbWVudC53aWR0aCxoZWlnaHQ6dGhpcy53ZWJjYW1WaWRlb0VsZW1lbnQuaGVpZ2h0fX0pXTtjYXNlIDI6cmV0dXJuIHQuc3RyZWFtPW4uc2VudCgpLFszLDRdO2Nhc2UgMzp0aHJvdyhlPW4uc2VudCgpKS5tZXNzYWdlPVwiRXJyb3IgdGhyb3duIHdoaWxlIGluaXRpYWxpemluZyB2aWRlbyBzdHJlYW06IFwiK2UubWVzc2FnZSxlO2Nhc2UgNDppZighdGhpcy5zdHJlYW0pdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IG9idGFpbiB2aWRlbyBmcm9tIHdlYmNhbS5cIik7dHJ5e3RoaXMud2ViY2FtVmlkZW9FbGVtZW50LnNyY09iamVjdD10aGlzLnN0cmVhbX1jYXRjaCh0KXtjb25zb2xlLmxvZyh0KSx0aGlzLndlYmNhbVZpZGVvRWxlbWVudC5zcmM9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5zdHJlYW0pfXJldHVybiB0aGlzLndlYmNhbVZpZGVvRWxlbWVudC5wbGF5KCksdGhpcy5pc0Nsb3NlZD0hMSxbMixuZXcgUHJvbWlzZShmdW5jdGlvbih0KXtyLndlYmNhbVZpZGVvRWxlbWVudC5vbmxvYWRlZG1ldGFkYXRhPWZ1bmN0aW9uKCl7dCgpfX0pXX19KX0pfSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtpZih0aGlzLmlzQ2xvc2VkKXJldHVyblsyLHt2YWx1ZTpudWxsLGRvbmU6ITB9XTt0cnl7dD1icm93c2VyLmZyb21QaXhlbHModGhpcy53ZWJjYW1WaWRlb0VsZW1lbnQpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkVycm9yIHRocm93biBjb252ZXJ0aW5nIHZpZGVvIHRvIHBpeGVsczogXCIrSlNPTi5zdHJpbmdpZnkodCkpfWlmKCF0aGlzLnJlc2l6ZSlyZXR1cm5bMix7dmFsdWU6dCxkb25lOiExfV07dHJ5e3JldHVyblsyLHt2YWx1ZTp0aGlzLmNyb3BBbmRSZXNpemVGcmFtZSh0KSxkb25lOiExfV19Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgdGhyb3duIGNyb3BwaW5nIHRoZSB2aWRlbzogXCIrdC5tZXNzYWdlKX1maW5hbGx5e3QuZGlzcG9zZSgpfXJldHVyblsyXX0pfSl9LGUucHJvdG90eXBlLm5lZWRUb1Jlc2l6ZT1mdW5jdGlvbigpe3JldHVybiEoIXRoaXMud2ViY2FtQ29uZmlnLnJlc2l6ZVdpZHRofHwhdGhpcy53ZWJjYW1Db25maWcucmVzaXplSGVpZ2h0fHx0aGlzLndlYmNhbVZpZGVvRWxlbWVudC53aWR0aD09PXRoaXMud2ViY2FtQ29uZmlnLnJlc2l6ZVdpZHRoJiZ0aGlzLndlYmNhbVZpZGVvRWxlbWVudC5oZWlnaHQ9PT10aGlzLndlYmNhbUNvbmZpZy5yZXNpemVIZWlnaHQpfSxlLnByb3RvdHlwZS5jcm9wQW5kUmVzaXplRnJhbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciByLG49dC50b0Zsb2F0KCkuZXhwYW5kRGltcygwKSxpPShyPWltYWdlLmNyb3BBbmRSZXNpemUobixlLmNyb3BCb3gsZS5jcm9wQm94SW5kLGUuY3JvcFNpemUsXCJiaWxpbmVhclwiKSkuc2hhcGU7cmV0dXJuIHIucmVzaGFwZShpLnNsaWNlKDEpKX0pfSxlLnByb3RvdHlwZS5jYXB0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMubmV4dCgpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCkudmFsdWVdfX0pfSl9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0b3AoKX0pO3RyeXt0aGlzLndlYmNhbVZpZGVvRWxlbWVudC5zcmNPYmplY3Q9bnVsbH1jYXRjaCh0KXtjb25zb2xlLmxvZyh0KSx0aGlzLndlYmNhbVZpZGVvRWxlbWVudC5zcmM9bnVsbH10aGlzLmlzQ2xvc2VkPSEwfSxlLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBjb252ZXJ0IGluZmluaXRlIHZpZGVvIHN0cmVhbSB0byBhcnJheS5cIil9LGV9KExhenlJdGVyYXRvciksRGF0YVNvdXJjZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319KCksU3RyaW5nSXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyhlLHQpLGUucHJvdG90eXBlLnNwbGl0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU3BsaXRJdGVyYXRvcih0aGlzLHQpfSxlfShMYXp5SXRlcmF0b3IpLFNwbGl0SXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi51cHN0cmVhbT1lLG4uaW1wbD1uZXcgU3BsaXRJdGVyYXRvckltcGwoZSxyKSxufXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC5zdW1tYXJ5KCl9LGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHQpe3JldHVyblsyLHRoaXMuaW1wbC5uZXh0KCldfSl9KX0sZX0oU3RyaW5nSXRlcmF0b3IpLFNwbGl0SXRlcmF0b3JJbXBsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udXBzdHJlYW09ZSxuLnNlcGFyYXRvcj1yLG4uY2FycnlvdmVyPVwiXCIsbn1yZXR1cm4gX19leHRlbmRzKGUsdCksZS5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVwc3RyZWFtLnN1bW1hcnkoKStcIiAtPiBTcGxpdCgnXCIrdGhpcy5zZXBhcmF0b3IrXCInKVwifSxlLnByb3RvdHlwZS5wdW1wPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdCxlLHIsbixpO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy51cHN0cmVhbS5uZXh0KCldO2Nhc2UgMTppZigodD1vLnNlbnQoKSkuZG9uZSlyZXR1cm5cIlwiPT09dGhpcy5jYXJyeW92ZXI/WzIsITFdOih0aGlzLm91dHB1dFF1ZXVlLnB1c2godGhpcy5jYXJyeW92ZXIpLHRoaXMuY2FycnlvdmVyPVwiXCIsWzIsITBdKTtmb3IoKGU9dC52YWx1ZS5zcGxpdCh0aGlzLnNlcGFyYXRvcikpWzBdPXRoaXMuY2FycnlvdmVyK2VbMF0scj0wLG49ZS5zbGljZSgwLC0xKTtyPG4ubGVuZ3RoO3IrKylpPW5bcl0sdGhpcy5vdXRwdXRRdWV1ZS5wdXNoKGkpO3JldHVybiB0aGlzLmNhcnJ5b3Zlcj1lW2UubGVuZ3RoLTFdLFsyLCEwXX19KX0pfSxlfShPbmVUb01hbnlJdGVyYXRvciksQnl0ZUNodW5rSXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyhlLHQpLGUucHJvdG90eXBlLmRlY29kZVVURjg9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFV0ZjhJdGVyYXRvcih0aGlzKX0sZX0oTGF6eUl0ZXJhdG9yKSxVdGY4SXRlcmF0b3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIudXBzdHJlYW09ZSxyLmltcGw9bmV3IFV0ZjhJdGVyYXRvckltcGwoZSkscn1yZXR1cm4gX19leHRlbmRzKGUsdCksZS5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGwuc3VtbWFyeSgpfSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbih0KXtyZXR1cm5bMix0aGlzLmltcGwubmV4dCgpXX0pfSl9LGV9KFN0cmluZ0l0ZXJhdG9yKSxVdGY4SXRlcmF0b3JJbXBsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO2lmKHIudXBzdHJlYW09ZSxlbnYoKS5nZXQoXCJJU19CUk9XU0VSXCIpKXIuZGVjb2Rlcj1uZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKTtlbHNle3ZhciBuPXJlcXVpcmUoXCJzdHJpbmdfZGVjb2RlclwiKS5TdHJpbmdEZWNvZGVyO3IuZGVjb2Rlcj1uZXcgbihcInV0ZjhcIil9cmV0dXJuIHJ9cmV0dXJuIF9fZXh0ZW5kcyhlLHQpLGUucHJvdG90eXBlLnN1bW1hcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cHN0cmVhbS5zdW1tYXJ5KCkrXCIgLT4gVXRmOFwifSxlLnByb3RvdHlwZS5wdW1wPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdCxlLHI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnVwc3RyZWFtLm5leHQoKV07Y2FzZSAxOnJldHVybih0PW4uc2VudCgpKS5kb25lP1syLCExXTooZT10LnZhbHVlLHI9ZW52KCkuZ2V0KFwiSVNfQlJPV1NFUlwiKT90aGlzLmRlY29kZXIuZGVjb2RlKGUse3N0cmVhbTohMH0pOnRoaXMuZGVjb2Rlci53cml0ZShCdWZmZXIuZnJvbShlLmJ1ZmZlcikpLHRoaXMub3V0cHV0UXVldWUucHVzaChyKSxbMiwhMF0pfX0pfSl9LGV9KE9uZVRvTWFueUl0ZXJhdG9yKSxGaWxlQ2h1bmtJdGVyYXRvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dm9pZCAwPT09ciYmKHI9e30pO3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5maWxlPWUsbi5vcHRpb25zPXIsdXRpbC5hc3NlcnQoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fCEhZW52KCkuZ2V0KFwiSVNfQlJPV1NFUlwiKSYmKGUgaW5zdGFuY2VvZiBGaWxlfHxlIGluc3RhbmNlb2YgQmxvYiksZnVuY3Rpb24oKXtyZXR1cm5cIkZpbGVDaHVua0l0ZXJhdG9yIG9ubHkgc3VwcG9ydHMgRmlsZSwgQmxvYiBhbmQgVWludDhBcnJheSByaWdodCBub3cuXCJ9KSxuLm9mZnNldD1yLm9mZnNldHx8MCxuLmNodW5rU2l6ZT1yLmNodW5rU2l6ZXx8MTA0ODU3NixufXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuXCJGaWxlQ2h1bmtzIFwiK3RoaXMuZmlsZX0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQsZSxyPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5vZmZzZXQ+PSh0aGlzLmZpbGUgaW5zdGFuY2VvZiBVaW50OEFycmF5P3RoaXMuZmlsZS5ieXRlTGVuZ3RoOnRoaXMuZmlsZS5zaXplKT9bMix7dmFsdWU6bnVsbCxkb25lOiEwfV06KHQ9bmV3IFByb21pc2UoZnVuY3Rpb24odCxlKXt2YXIgbj1yLm9mZnNldCtyLmNodW5rU2l6ZTtpZihyLmZpbGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXQobmV3IFVpbnQ4QXJyYXkoci5maWxlLnNsaWNlKHIub2Zmc2V0LG4pKSk7ZWxzZXt2YXIgaT1uZXcgRmlsZVJlYWRlcjtpLm9ubG9hZD1mdW5jdGlvbihyKXt2YXIgbj1pLnJlc3VsdDtpZihuIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihuPW5ldyBVaW50OEFycmF5KG4pKSwhKG4gaW5zdGFuY2VvZiBVaW50OEFycmF5KSlyZXR1cm4gZShuZXcgVHlwZUVycm9yKFwiRmlsZVJlYWRlciByZXR1cm5lZCB1bmtub3duIHR5cGUuXCIpKTt0KG4pfSxpLm9uYWJvcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUobmV3IEVycm9yKFwiQWJvcnRlZFwiKSl9LGkub25lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gZShuZXcgRXJyb3IodC50eXBlKSl9O3ZhciBvPXIuZmlsZS5zbGljZShyLm9mZnNldCxuKTtpLnJlYWRBc0FycmF5QnVmZmVyKG8pfXIub2Zmc2V0PW59KSxlPXt9LFs0LHRdKTtjYXNlIDE6cmV0dXJuWzIsKGUudmFsdWU9bi5zZW50KCksZS5kb25lPSExLGUpXX19KX0pfSxlfShCeXRlQ2h1bmtJdGVyYXRvcik7ZnVuY3Rpb24gdXJsQ2h1bmtJdGVyYXRvcih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByLG4saSxvLGE7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDpyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9yPXQ6KHI9dC51cmwsbj1nZXRSZXF1ZXN0SW5pdEZyb21SZXF1ZXN0KHQpKSxbNCx1dGlsLmZldGNoKHIsbildO2Nhc2UgMTpyZXR1cm4oaT1zLnNlbnQoKSkub2s/KGE9VWludDhBcnJheS5iaW5kLFs0LGkuYXJyYXlCdWZmZXIoKV0pOlszLDNdO2Nhc2UgMjpyZXR1cm4gbz1uZXcoYS5hcHBseShVaW50OEFycmF5LFt2b2lkIDAscy5zZW50KCldKSksWzIsbmV3IEZpbGVDaHVua0l0ZXJhdG9yKG8sZSldO2Nhc2UgMzp0aHJvdyBuZXcgRXJyb3IoaS5zdGF0dXNUZXh0KX19KX0pfXZhciBnZXRSZXF1ZXN0SW5pdEZyb21SZXF1ZXN0PWZ1bmN0aW9uKHQpe3JldHVybnttZXRob2Q6dC5tZXRob2QsaGVhZGVyczp0LmhlYWRlcnMsYm9keTp0LmJvZHksbW9kZTp0Lm1vZGUsY3JlZGVudGlhbHM6dC5jcmVkZW50aWFscyxjYWNoZTp0LmNhY2hlLHJlZGlyZWN0OnQucmVkaXJlY3QscmVmZXJyZXI6dC5yZWZlcnJlcixpbnRlZ3JpdHk6dC5pbnRlZ3JpdHl9fTtmdW5jdGlvbiBpc0xvY2FsUGF0aCh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmXCJmaWxlOi8vXCI9PT10LnN1YnN0cigwLDcpfXZhciBGaWxlRGF0YVNvdXJjZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dm9pZCAwPT09ciYmKHI9e30pO3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5pbnB1dD1lLG4ub3B0aW9ucz1yLG59cmV0dXJuIF9fZXh0ZW5kcyhlLHQpLGUucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gaXNMb2NhbFBhdGgodGhpcy5pbnB1dCkmJmVudigpLmdldChcIklTX05PREVcIikmJih0PXJlcXVpcmUoXCJmc1wiKSx0aGlzLmlucHV0PXQucmVhZEZpbGVTeW5jKHRoaXMuaW5wdXQuc3Vic3RyKDcpKSksWzIsbmV3IEZpbGVDaHVua0l0ZXJhdG9yKHRoaXMuaW5wdXQsdGhpcy5vcHRpb25zKV19KX0pfSxlfShEYXRhU291cmNlKSxVUkxEYXRhU291cmNlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt2b2lkIDA9PT1yJiYocj17fSk7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnVybD1lLG4uZmlsZU9wdGlvbnM9cixufXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5pdGVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGlzTG9jYWxQYXRoKHRoaXMudXJsKT9bMixuZXcgRmlsZURhdGFTb3VyY2UodGhpcy51cmwsdGhpcy5maWxlT3B0aW9ucykuaXRlcmF0b3IoKV06WzIsdXJsQ2h1bmtJdGVyYXRvcih0aGlzLnVybCx0aGlzLmZpbGVPcHRpb25zKV19KX0pfSxlfShEYXRhU291cmNlKTtmdW5jdGlvbiBjc3YodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLG5ldyBDU1ZEYXRhc2V0KG5ldyBVUkxEYXRhU291cmNlKHQpLGUpfWZ1bmN0aW9uIGZ1bmModCl7dmFyIGU9dGhpcyxyPWl0ZXJhdG9yRnJvbUZ1bmN0aW9uKHQpO3JldHVybiBkYXRhc2V0RnJvbUl0ZXJhdG9yRm4oZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKGUsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHQpe3JldHVyblsyLHJdfSl9KX0pfWZ1bmN0aW9uIGdlbmVyYXRvcih0KXt2YXIgZT10aGlzO3JldHVybiBkYXRhc2V0RnJvbUl0ZXJhdG9yRm4oZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKGUsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdCgpXTtjYXNlIDE6cmV0dXJuIGU9ci5zZW50KCksWzIsaXRlcmF0b3JGcm9tRnVuY3Rpb24oZnVuY3Rpb24oKXtyZXR1cm4gZS5uZXh0KCl9KV19fSl9KX0pfWZ1bmN0aW9uIHdlYmNhbSh0LGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24ocil7cmV0dXJuWzIsV2ViY2FtSXRlcmF0b3IuY3JlYXRlKHQsZSldfSl9KX1mdW5jdGlvbiBtaWNyb3Bob25lKHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuWzIsTWljcm9waG9uZUl0ZXJhdG9yLmNyZWF0ZSh0KV19KX0pfXZhciB2ZXJzaW9uPVwiMS43LjRcIjtleHBvcnR7YXJyYXksRGF0YXNldCx6aXAsQ1NWRGF0YXNldCxUZXh0TGluZURhdGFzZXQsY3N2LGZ1bmMsZ2VuZXJhdG9yLG1pY3JvcGhvbmUsd2ViY2FtLEZpbGVEYXRhU291cmNlLFVSTERhdGFTb3VyY2UsdmVyc2lvbiBhcyB2ZXJzaW9uX2RhdGF9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGYtZGF0YS5lc20uanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnR7YmFja2VuZCx1dGlsLHRpZHksb25lc0xpa2Usc2NhbGFyLHRlbnNvcjFkLHdoZXJlLHplcm9zTGlrZSxzZXJpYWxpemF0aW9uLHRyYWluLGNhc3QsZGlzcG9zZSxtZW1vcnksYWRkLG11bCxkaXYsa2VlcCxuZXh0RnJhbWUsVGVuc29yLE9wdGltaXplcixjb25jYXQsbWVhbixpbyx0cmFuc3Bvc2UsZXhwYW5kRGltcyxyZXZlcnNlLHVuc3RhY2ssc3RhY2ssemVyb3Msc3VtLHNwbGl0LG5lZyx2YXJpYWJsZSxvbmVzLGV5ZSxyYW5kb21Vbmlmb3JtLHRydW5jYXRlZE5vcm1hbCxyYW5kb21Ob3JtYWwsc3ViLHNxcnQsbXVsU3RyaWN0LGNsaXBCeVZhbHVlLHJlbHUsbGluYWxnLGxlYWt5UmVsdSxwcmVsdSxlbHUsY29udjFkLGZ1c2VkLGNvbnYzZCxjb252MmRUcmFuc3Bvc2Usc2VwYXJhYmxlQ29udjJkLGRlcHRod2lzZUNvbnYyZCxhbnksbm90RXF1YWwsbG9naWNhbEFuZCxtYXhpbXVtLG1pbmltdW0sYWxsLGdyZWF0ZXJFcXVhbCxiYXRjaE5vcm0yZCxiYXRjaE5vcm0zZCxiYXRjaE5vcm00ZCxtb21lbnRzLHBhZCxtYXhQb29sLGF2Z1Bvb2wsbWF4UG9vbDNkLGF2Z1Bvb2wzZCxzcXVlZXplLG1heCxmaWxsLGFicyxsb2csc29mdHBsdXMsc29mdG1heCxmbG9vcixvbmVIb3QsZ3JlYXRlcixlcXVhbCxhcmdNYXgsc2xpY2UxZCxzbGljZTJkLHNsaWNlM2Qsc2xpY2U0ZCxzbGljZSxjb25jYXQxZCxjb25jYXQyZCxjb25jYXQzZCxjb25jYXQ0ZCx0aWxlLGdhdGhlcixkcm9wb3V0LG1pbixzZWx1LHNpZ21vaWQsdGFuaCxsb2dTb2Z0bWF4fWZyb21cIkB0ZW5zb3JmbG93L3RmanMtY29yZVwiO3ZhciBleHRlbmRTdGF0aWNzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGV4dGVuZFN0YXRpY3M9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfTtmdW5jdGlvbiBfX2V4dGVuZHMoZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWV4dGVuZFN0YXRpY3MoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9dmFyIF9lcHNpbG9uLF9fYXNzaWduPWZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBpIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gX19hd2FpdGVyKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKGZ1bmN0aW9uKGksYSl7ZnVuY3Rpb24gbyhlKXt0cnl7bChyLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2woci50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gbChlKXtlLmRvbmU/aShlLnZhbHVlKTpuZXcgbihmdW5jdGlvbih0KXt0KGUudmFsdWUpfSkudGhlbihvLHMpfWwoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pfWZ1bmN0aW9uIF9fZ2VuZXJhdG9yKGUsdCl7dmFyIG4scixpLGEsbz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZpWzBdKXRocm93IGlbMV07cmV0dXJuIGlbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gYT17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGFbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksYTtmdW5jdGlvbiBzKGEpe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24oYSl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO287KXRyeXtpZihuPTEsciYmKGk9MiZhWzBdP3IucmV0dXJuOmFbMF0/ci50aHJvd3x8KChpPXIucmV0dXJuKSYmaS5jYWxsKHIpLDApOnIubmV4dCkmJiEoaT1pLmNhbGwocixhWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gocj0wLGkmJihhPVsyJmFbMF0saS52YWx1ZV0pLGFbMF0pe2Nhc2UgMDpjYXNlIDE6aT1hO2JyZWFrO2Nhc2UgNDpyZXR1cm4gby5sYWJlbCsrLHt2YWx1ZTphWzFdLGRvbmU6ITF9O2Nhc2UgNTpvLmxhYmVsKysscj1hWzFdLGE9WzBdO2NvbnRpbnVlO2Nhc2UgNzphPW8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoaT0oaT1vLnRyeXMpLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKSYmKDY9PT1hWzBdfHwyPT09YVswXSkpe289MDtjb250aW51ZX1pZigzPT09YVswXSYmKCFpfHxhWzFdPmlbMF0mJmFbMV08aVszXSkpe28ubGFiZWw9YVsxXTticmVha31pZig2PT09YVswXSYmby5sYWJlbDxpWzFdKXtvLmxhYmVsPWlbMV0saT1hO2JyZWFrfWlmKGkmJm8ubGFiZWw8aVsyXSl7by5sYWJlbD1pWzJdLG8ub3BzLnB1c2goYSk7YnJlYWt9aVsyXSYmby5vcHMucG9wKCksby50cnlzLnBvcCgpO2NvbnRpbnVlfWE9dC5jYWxsKGUsbyl9Y2F0Y2goZSl7YT1bNixlXSxyPTB9ZmluYWxseXtuPWk9MH1pZig1JmFbMF0pdGhyb3cgYVsxXTtyZXR1cm57dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2Esc10pfX19ZnVuY3Rpb24gZXBzaWxvbigpe3JldHVybiBudWxsPT1fZXBzaWxvbiYmKF9lcHNpbG9uPWJhY2tlbmQoKS5lcHNpbG9uKCkpLF9lcHNpbG9ufWZ1bmN0aW9uIGltYWdlRGF0YUZvcm1hdCgpe3JldHVyblwiY2hhbm5lbHNMYXN0XCJ9dmFyIEF0dHJpYnV0ZUVycm9yPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobil7dmFyIHI9ZS5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihyLHQucHJvdG90eXBlKSxyfXJldHVybiBfX2V4dGVuZHModCxlKSx0fShFcnJvciksUnVudGltZUVycm9yPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobil7dmFyIHI9ZS5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihyLHQucHJvdG90eXBlKSxyfXJldHVybiBfX2V4dGVuZHModCxlKSx0fShFcnJvciksVmFsdWVFcnJvcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4pe3ZhciByPWUuY2FsbCh0aGlzLG4pfHx0aGlzO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Yocix0LnByb3RvdHlwZSkscn1yZXR1cm4gX19leHRlbmRzKHQsZSksdH0oRXJyb3IpLE5vdEltcGxlbWVudGVkRXJyb3I9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuKXt2YXIgcj1lLmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHIsdC5wcm90b3R5cGUpLHJ9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHR9KEVycm9yKSxBc3NlcnRpb25FcnJvcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4pe3ZhciByPWUuY2FsbCh0aGlzLG4pfHx0aGlzO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Yocix0LnByb3RvdHlwZSkscn1yZXR1cm4gX19leHRlbmRzKHQsZSksdH0oRXJyb3IpLEluZGV4RXJyb3I9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuKXt2YXIgcj1lLmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHIsdC5wcm90b3R5cGUpLHJ9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHR9KEVycm9yKTtmdW5jdGlvbiBweUxpc3RSZXBlYXQoZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIG49W10scj0wO3I8dDtyKyspbj1uLmNvbmNhdChlKTtyZXR1cm4gbn1yZXR1cm4obj1uZXcgQXJyYXkodCkpLmZpbGwoZSksbn1mdW5jdGlvbiBhc3NlcnQoZSx0KXtpZighZSl0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IodCl9ZnVuY3Rpb24gY291bnQoZSx0KXtmb3IodmFyIG49MCxyPTAsaT1lO3I8aS5sZW5ndGg7cisrKXtpW3JdPT09dCYmbisrfXJldHVybiBufWZ1bmN0aW9uIHNpbmdsZXRvbk9yQXJyYXkoZSl7cmV0dXJuIDE9PT1lLmxlbmd0aD9lWzBdOmV9ZnVuY3Rpb24gdG9MaXN0KGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2U6W2VdfWZ1bmN0aW9uIHRvU25ha2VDYXNlKGUpe3ZhciB0PWUucmVwbGFjZSgvKC4pKFtBLVpdW2EtejAtOV0rKS9nLFwiJDFfJDJcIikucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZyxcIiQxXyQyXCIpLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJfXCIhPT10WzBdP3Q6XCJwcml2YXRlXCIrdH1mdW5jdGlvbiB0b0NhbWVsQ2FzZShlKXtyZXR1cm4gZS5sZW5ndGg8PTE/ZTotMT09PWUuaW5kZXhPZihcIl9cIik/ZTplLnJlcGxhY2UoL1tfXSsoXFx3fCQpL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9dmFyIF9HTE9CQUxfQ1VTVE9NX09CSkVDVFM9e307ZnVuY3Rpb24gc2VyaWFsaXplS2VyYXNPYmplY3QoZSl7aWYobnVsbD09PWV8fHZvaWQgMD09PWUpcmV0dXJuIG51bGw7dmFyIHQ9e307cmV0dXJuIHQuY2xhc3NOYW1lPWUuZ2V0Q2xhc3NOYW1lKCksdC5jb25maWc9ZS5nZXRDb25maWcoKSx0fWZ1bmN0aW9uIGNvbnZlcnROREFycmF5U2NhbGFyc0luQ29uZmlnKGUpe2lmKG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlKWlmKEFycmF5LmlzQXJyYXkoZSkpZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBjb252ZXJ0TkRBcnJheVNjYWxhcnNJbkNvbmZpZyhlKX0pO2Vsc2UgZm9yKHZhciB0PTAsbj1PYmplY3Qua2V5cyhlKTt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XSxpPWVbcl07bnVsbCE9aSYmXCJvYmplY3RcIj09dHlwZW9mIGkmJihBcnJheS5pc0FycmF5KGkpfHxcIm5kYXJyYXlcIiE9PWkudHlwZXx8XCJudW1iZXJcIiE9dHlwZW9mIGkudmFsdWU/Y29udmVydE5EQXJyYXlTY2FsYXJzSW5Db25maWcoaSk6ZVtyXT1pLnZhbHVlKX19ZnVuY3Rpb24gZGVzZXJpYWxpemVLZXJhc09iamVjdChlLHQsbixyLGkpe3ZhciBhLG8scztpZih2b2lkIDA9PT10JiYodD17fSksdm9pZCAwPT09biYmKG49e30pLHZvaWQgMD09PXImJihyPVwib2JqZWN0XCIpLHZvaWQgMD09PWkmJihpPSExKSxcInN0cmluZ1wiPT10eXBlb2YgZSl7dmFyIGw9ZSx1PXZvaWQgMDtpZihsIGluIG4pdT1uW2xdO2Vsc2UgaWYobCBpbiBfR0xPQkFMX0NVU1RPTV9PQkpFQ1RTKXU9X0dMT0JBTF9DVVNUT01fT0JKRUNUU1tsXTtlbHNlIGlmKG51bGw9PSh1PXRbbF0pKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVW5rbm93biBcIityK1wiOiBcIitlK1wiLiBUaGlzIG1heSBiZSBkdWUgdG8gb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG4xLiBUaGUgXCIrcitcIiBpcyBkZWZpbmVkIGluIFB5dGhvbiwgaW4gd2hpY2ggY2FzZSBpdCBuZWVkcyB0byBiZSBwb3J0ZWQgdG8gVGVuc29yRmxvdy5qcyBvciB5b3VyIEphdmFTY3JpcHQgY29kZS5cXG4yLiBUaGUgY3VzdG9tIFwiK3IrXCIgaXMgZGVmaW5lZCBpbiBKYXZhU2NyaXB0LCBidXQgaXMgbm90IHJlZ2lzdGVyZWQgcHJvcGVybHkgd2l0aCB0Zi5zZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoKS5cIik7cmV0dXJuIHV9dmFyIGM9ZTtpZihudWxsPT1jLmNsYXNzTmFtZXx8bnVsbD09Yy5jb25maWcpdGhyb3cgbmV3IFZhbHVlRXJyb3IocitcIjogSW1wcm9wZXIgY29uZmlnIGZvcm1hdDogXCIrSlNPTi5zdHJpbmdpZnkoYykrXCIuXFxuJ2NsYXNzTmFtZScgYW5kICdjb25maWcnIG11c3Qgc2V0LlwiKTt2YXIgcD1jLmNsYXNzTmFtZSxoPXZvaWQgMCxkPXZvaWQgMDtpZihwIGluIG4/KGg9KGE9bltwXSlbMF0sZD1hWzFdKTpwIGluIF9HTE9CQUxfQ1VTVE9NX09CSkVDVFM/KGg9KG89X0dMT0JBTF9DVVNUT01fT0JKRUNUUy5jbGFzc05hbWUpWzBdLGQ9b1sxXSk6cCBpbiB0JiYoaD0ocz10W3BdKVswXSxkPXNbMV0pLG51bGw9PWgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJVbmtub3duIFwiK3IrXCI6IFwiK3ArXCIuIFRoaXMgbWF5IGJlIGR1ZSB0byBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFRoZSBcIityK1wiIGlzIGRlZmluZWQgaW4gUHl0aG9uLCBpbiB3aGljaCBjYXNlIGl0IG5lZWRzIHRvIGJlIHBvcnRlZCB0byBUZW5zb3JGbG93LmpzIG9yIHlvdXIgSmF2YVNjcmlwdCBjb2RlLlxcbjIuIFRoZSBjdXN0b20gXCIrcitcIiBpcyBkZWZpbmVkIGluIEphdmFTY3JpcHQsIGJ1dCBpcyBub3QgcmVnaXN0ZXJlZCBwcm9wZXJseSB3aXRoIHRmLnNlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcygpLlwiKTtpZihudWxsIT1kKXtmb3IodmFyIGY9e30sZz0wLG09T2JqZWN0LmtleXMoX0dMT0JBTF9DVVNUT01fT0JKRUNUUyk7ZzxtLmxlbmd0aDtnKyspe2ZbUz1tW2ddXT1fR0xPQkFMX0NVU1RPTV9PQkpFQ1RTW1NdfWZvcih2YXIgeT0wLHY9T2JqZWN0LmtleXMobik7eTx2Lmxlbmd0aDt5Kyspe2ZbUz12W3ldXT1uW1NdfWMuY29uZmlnLmN1c3RvbU9iamVjdHM9Zjtmb3IodmFyIGI9X19hc3NpZ24oe30sX0dMT0JBTF9DVVNUT01fT0JKRUNUUyksdz0wLHo9T2JqZWN0LmtleXMobik7dzx6Lmxlbmd0aDt3Kyspe3ZhciBTPXpbd107X0dMT0JBTF9DVVNUT01fT0JKRUNUU1tTXT1uW1NdfWNvbnZlcnROREFycmF5U2NhbGFyc0luQ29uZmlnKGMuY29uZmlnKTt2YXIgQT1kKGgsYy5jb25maWcsbixpKTtyZXR1cm4gX0dMT0JBTF9DVVNUT01fT0JKRUNUUz1fX2Fzc2lnbih7fSxiKSxBfWI9X19hc3NpZ24oe30sX0dMT0JBTF9DVVNUT01fT0JKRUNUUyk7Zm9yKHZhciBfPTAsST1PYmplY3Qua2V5cyhuKTtfPEkubGVuZ3RoO18rKyl7Uz1JW19dO19HTE9CQUxfQ1VTVE9NX09CSkVDVFNbU109bltTXX1BPW5ldyBoKGMuY29uZmlnKTtyZXR1cm4gX0dMT0JBTF9DVVNUT01fT0JKRUNUUz1fX2Fzc2lnbih7fSxiKSxBfWZ1bmN0aW9uIG51bWJlckNvbXBhcmUoZSx0KXtyZXR1cm4gZTx0Py0xOmU+dD8xOjB9ZnVuY3Rpb24gcmV2ZXJzZU51bWJlckNvbXBhcmUoZSx0KXtyZXR1cm4tMSpudW1iZXJDb21wYXJlKGUsdCl9ZnVuY3Rpb24gdW5pcXVlKGUpe2lmKG51bGw9PWUpcmV0dXJuIGU7Zm9yKHZhciB0PVtdLG49MCxyPWU7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07LTE9PT10LmluZGV4T2YoaSkmJnQucHVzaChpKX1yZXR1cm4gdH1mdW5jdGlvbiBpc09iamVjdEVtcHR5KGUpe2lmKG51bGw9PWUpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGluIG9iajogXCIrSlNPTi5zdHJpbmdpZnkoZSkpO2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gY2hlY2tTdHJpbmdUeXBlVW5pb25WYWx1ZShlLHQsbil7aWYobnVsbCE9biYmZS5pbmRleE9mKG4pPDApdGhyb3cgbmV3IFZhbHVlRXJyb3IobitcIiBpcyBub3QgYSB2YWxpZCBcIit0K1wiLiAgVmFsaWQgdmFsdWVzIGFyZSBcIitlK1wiIG9yIG51bGwvdW5kZWZpbmVkLlwiKX1mdW5jdGlvbiBjaGVja0FycmF5VHlwZUFuZExlbmd0aChlLHQsbixyKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09ciYmKHI9MS8wKSxhc3NlcnQobj49MCksYXNzZXJ0KHI+PW4pLEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPj1uJiZlLmxlbmd0aDw9ciYmZS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGU9PT10fSl9ZnVuY3Rpb24gYXNzZXJ0UG9zaXRpdmVJbnRlZ2VyKGUsdCl7QXJyYXkuaXNBcnJheShlKT8odXRpbC5hc3NlcnQoZS5sZW5ndGg+MCxmdW5jdGlvbigpe3JldHVybiB0K1wiIGlzIHVuZXhwZWN0ZWRseSBhbiBlbXB0eSBhcnJheS5cIn0pLGUuZm9yRWFjaChmdW5jdGlvbihlLG4pe3JldHVybiBhc3NlcnRQb3NpdGl2ZUludGVnZXIoZSxcImVsZW1lbnQgXCIrKG4rMSkrXCIgb2YgXCIrdCl9KSk6dXRpbC5hc3NlcnQoTnVtYmVyLmlzSW50ZWdlcihlKSYmZT4wLGZ1bmN0aW9uKCl7cmV0dXJuXCJFeHBlY3RlZCBcIit0K1wiIHRvIGJlIGEgcG9zaXRpdmUgaW50ZWdlciwgYnV0IGdvdCBcIitmb3JtYXRBc0ZyaWVuZGx5U3RyaW5nKGUpK1wiLlwifSl9ZnVuY3Rpb24gZm9ybWF0QXNGcmllbmRseVN0cmluZyhlKXtyZXR1cm4gbnVsbD09PWU/XCJudWxsXCI6QXJyYXkuaXNBcnJheShlKT9cIltcIitlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZm9ybWF0QXNGcmllbmRseVN0cmluZyhlKX0pLmpvaW4oXCIsXCIpK1wiXVwiOlwic3RyaW5nXCI9PXR5cGVvZiBlPydcIicrZSsnXCInOlwiXCIrZX1mdW5jdGlvbiBkZWJvdW5jZShlLHQpe3ZhciBuLHI9dXRpbC5ub3coKTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGk9W10sYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspaVthXT1hcmd1bWVudHNbYV07dmFyIG89dXRpbC5ub3coKTtyZXR1cm4gby1yPHQ/bjoocj1vLG49ZS5hcHBseSh2b2lkIDAsaSkpfX1mdW5jdGlvbiBtYXBBY3RpdmF0aW9uVG9GdXNlZEtlcm5lbChlKXtyZXR1cm5cInJlbHVcIj09PWU/XCJyZWx1XCI6XCJsaW5lYXJcIj09PWU/XCJsaW5lYXJcIjpcImVsdVwiPT09ZT9cImVsdVwiOm51bGx9ZnVuY3Rpb24gY2FsY0wyTm9ybXMoZSx0KXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBzcXJ0KHN1bShtdWxTdHJpY3QoZSxlKSx0LCEwKSl9KX12YXIgQ29uc3RyYWludD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJue319LHR9KHNlcmlhbGl6YXRpb24uU2VyaWFsaXphYmxlKSxNYXhOb3JtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmRlZmF1bHRNYXhWYWx1ZT0yLG4uZGVmYXVsdEF4aXM9MCxuLm1heFZhbHVlPW51bGwhPXQubWF4VmFsdWU/dC5tYXhWYWx1ZTpuLmRlZmF1bHRNYXhWYWx1ZSxuLmF4aXM9bnVsbCE9dC5heGlzP3QuYXhpczpuLmRlZmF1bHRBeGlzLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgbj1jYWxjTDJOb3JtcyhlLHQuYXhpcykscj1jbGlwQnlWYWx1ZShuLDAsdC5tYXhWYWx1ZSk7cmV0dXJuIG11bChlLGRpdihyLGFkZChlcHNpbG9uKCksbikpKX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm57bWF4VmFsdWU6dGhpcy5tYXhWYWx1ZSxheGlzOnRoaXMuYXhpc319LHQuY2xhc3NOYW1lPVwiTWF4Tm9ybVwiLHR9KENvbnN0cmFpbnQpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhNYXhOb3JtKTt2YXIgVW5pdE5vcm09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uZGVmYXVsdEF4aXM9MCxuLmF4aXM9bnVsbCE9dC5heGlzP3QuYXhpczpuLmRlZmF1bHRBeGlzLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gZGl2KGUsYWRkKGVwc2lsb24oKSxjYWxjTDJOb3JtcyhlLHQuYXhpcykpKX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm57YXhpczp0aGlzLmF4aXN9fSx0LmNsYXNzTmFtZT1cIlVuaXROb3JtXCIsdH0oQ29uc3RyYWludCk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFVuaXROb3JtKTt2YXIgTm9uTmVnPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtyZXR1cm4gcmVsdShlKX0sdC5jbGFzc05hbWU9XCJOb25OZWdcIix0fShDb25zdHJhaW50KTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoTm9uTmVnKTt2YXIgTWluTWF4Tm9ybT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5kZWZhdWx0TWluVmFsdWU9MCxuLmRlZmF1bHRNYXhWYWx1ZT0xLG4uZGVmYXVsdFJhdGU9MSxuLmRlZmF1bHRBeGlzPTAsbi5taW5WYWx1ZT1udWxsIT10Lm1pblZhbHVlP3QubWluVmFsdWU6bi5kZWZhdWx0TWluVmFsdWUsbi5tYXhWYWx1ZT1udWxsIT10Lm1heFZhbHVlP3QubWF4VmFsdWU6bi5kZWZhdWx0TWF4VmFsdWUsbi5yYXRlPW51bGwhPXQucmF0ZT90LnJhdGU6bi5kZWZhdWx0UmF0ZSxuLmF4aXM9bnVsbCE9dC5heGlzP3QuYXhpczpuLmRlZmF1bHRBeGlzLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgbj1jYWxjTDJOb3JtcyhlLHQuYXhpcykscj1hZGQobXVsKHQucmF0ZSxjbGlwQnlWYWx1ZShuLHQubWluVmFsdWUsdC5tYXhWYWx1ZSkpLG11bCgxLXQucmF0ZSxuKSk7cmV0dXJuIG11bChlLGRpdihyLGFkZChlcHNpbG9uKCksbikpKX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm57bWluVmFsdWU6dGhpcy5taW5WYWx1ZSxtYXhWYWx1ZTp0aGlzLm1heFZhbHVlLHJhdGU6dGhpcy5yYXRlLGF4aXM6dGhpcy5heGlzfX0sdC5jbGFzc05hbWU9XCJNaW5NYXhOb3JtXCIsdH0oQ29uc3RyYWludCk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKE1pbk1heE5vcm0pO3ZhciBDT05TVFJBSU5UX0lERU5USUZJRVJfUkVHSVNUUllfU1lNQk9MX01BUD17bWF4Tm9ybTpcIk1heE5vcm1cIixtaW5NYXhOb3JtOlwiTWluTWF4Tm9ybVwiLG5vbk5lZzpcIk5vbk5lZ1wiLHVuaXROb3JtOlwiVW5pdE5vcm1cIn07ZnVuY3Rpb24gc2VyaWFsaXplQ29uc3RyYWludChlKXtyZXR1cm4gc2VyaWFsaXplS2VyYXNPYmplY3QoZSl9ZnVuY3Rpb24gZGVzZXJpYWxpemVDb25zdHJhaW50KGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSxkZXNlcmlhbGl6ZUtlcmFzT2JqZWN0KGUsc2VyaWFsaXphdGlvbi5TZXJpYWxpemF0aW9uTWFwLmdldE1hcCgpLmNsYXNzTmFtZU1hcCx0LFwiY29uc3RyYWludFwiKX1mdW5jdGlvbiBnZXRDb25zdHJhaW50KGUpe3JldHVybiBudWxsPT1lP251bGw6XCJzdHJpbmdcIj09dHlwZW9mIGU/ZGVzZXJpYWxpemVDb25zdHJhaW50KHtjbGFzc05hbWU6ZSBpbiBDT05TVFJBSU5UX0lERU5USUZJRVJfUkVHSVNUUllfU1lNQk9MX01BUD9DT05TVFJBSU5UX0lERU5USUZJRVJfUkVHSVNUUllfU1lNQk9MX01BUFtlXTplLGNvbmZpZzp7fX0pOmUgaW5zdGFuY2VvZiBDb25zdHJhaW50P2U6ZGVzZXJpYWxpemVDb25zdHJhaW50KGUpfWZ1bmN0aW9uIG1heE5vcm0oZSl7cmV0dXJuIG5ldyBNYXhOb3JtKGUpfWZ1bmN0aW9uIHVuaXROb3JtKGUpe3JldHVybiBuZXcgVW5pdE5vcm0oZSl9ZnVuY3Rpb24gbm9uTmVnKCl7cmV0dXJuIG5ldyBOb25OZWd9ZnVuY3Rpb24gbWluTWF4Tm9ybShlKXtyZXR1cm4gbmV3IE1pbk1heE5vcm0oZSl9dmFyIGV4cG9ydHNfY29uc3RyYWludHM9T2JqZWN0LmZyZWV6ZSh7bWF4Tm9ybTptYXhOb3JtLHVuaXROb3JtOnVuaXROb3JtLG5vbk5lZzpub25OZWcsbWluTWF4Tm9ybTptaW5NYXhOb3JtfSksVkFMSURfREFUQV9GT1JNQVRfVkFMVUVTPVtcImNoYW5uZWxzRmlyc3RcIixcImNoYW5uZWxzTGFzdFwiXSxWQUxJRF9QQURESU5HX01PREVfVkFMVUVTPVtcInZhbGlkXCIsXCJzYW1lXCIsXCJjYXVzYWxcIl0sVkFMSURfUE9PTF9NT0RFX1ZBTFVFUz1bXCJtYXhcIixcImF2Z1wiXSxWQUxJRF9CSURJUkVDVElPTkFMX01FUkdFX01PREVTPVtcInN1bVwiLFwibXVsXCIsXCJjb25jYXRcIixcImF2ZVwiXSxuYW1lTWFwPW5ldyBNYXA7ZnVuY3Rpb24gY2hlY2tEYXRhRm9ybWF0KGUpe2NoZWNrU3RyaW5nVHlwZVVuaW9uVmFsdWUoVkFMSURfREFUQV9GT1JNQVRfVkFMVUVTLFwiRGF0YUZvcm1hdFwiLGUpfWZ1bmN0aW9uIGNoZWNrUGFkZGluZ01vZGUoZSl7Y2hlY2tTdHJpbmdUeXBlVW5pb25WYWx1ZShWQUxJRF9QQURESU5HX01PREVfVkFMVUVTLFwiUGFkZGluZ01vZGVcIixlKX1mdW5jdGlvbiBjaGVja1Bvb2xNb2RlKGUpe2NoZWNrU3RyaW5nVHlwZVVuaW9uVmFsdWUoVkFMSURfUE9PTF9NT0RFX1ZBTFVFUyxcIlBvb2xNb2RlXCIsZSl9dmFyIF9uYW1lU2NvcGVTdGFjaz1bXSxfbmFtZVNjb3BlRGl2aWRlcj1cIi9cIjtmdW5jdGlvbiBuYW1lU2NvcGUoZSx0KXtfbmFtZVNjb3BlU3RhY2sucHVzaChlKTt0cnl7dmFyIG49dCgpO3JldHVybiBfbmFtZVNjb3BlU3RhY2sucG9wKCksbn1jYXRjaChlKXt0aHJvdyBfbmFtZVNjb3BlU3RhY2sucG9wKCksZX19ZnVuY3Rpb24gY3VycmVudE5hbWVTY29wZVByZWZpeCgpe3JldHVybiAwPT09X25hbWVTY29wZVN0YWNrLmxlbmd0aD9cIlwiOl9uYW1lU2NvcGVTdGFjay5qb2luKF9uYW1lU2NvcGVEaXZpZGVyKStfbmFtZVNjb3BlRGl2aWRlcn1mdW5jdGlvbiBnZXRTY29wZWRUZW5zb3JOYW1lKGUpe2lmKCFpc1ZhbGlkVGVuc29yTmFtZShlKSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCB0ZW5zb3IgbmFtZTogJ1wiK2UrXCInXCIpO3JldHVybiBjdXJyZW50TmFtZVNjb3BlUHJlZml4KCkrZX1mdW5jdGlvbiBnZXRVbmlxdWVUZW5zb3JOYW1lKGUpe2lmKCFpc1ZhbGlkVGVuc29yTmFtZShlKSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCB0ZW5zb3IgbmFtZTogJ1wiK2UrXCInXCIpO25hbWVNYXAuaGFzKGUpfHxuYW1lTWFwLnNldChlLDApO3ZhciB0PW5hbWVNYXAuZ2V0KGUpO2lmKG5hbWVNYXAuc2V0KGUsbmFtZU1hcC5nZXQoZSkrMSksdD4wKXt2YXIgbj1lK1wiX1wiK3Q7cmV0dXJuIG5hbWVNYXAuc2V0KG4sMSksbn1yZXR1cm4gZX12YXIgdGVuc29yTmFtZVJlZ2V4PW5ldyBSZWdFeHAoL15bQS1aYS16MC05XVstQS1aYS16MC05XFwuX1xcL10qJC8pO2Z1bmN0aW9uIGlzVmFsaWRUZW5zb3JOYW1lKGUpe3JldHVybiEhZS5tYXRjaCh0ZW5zb3JOYW1lUmVnZXgpfWZ1bmN0aW9uIGlzSW50ZWdlcihlKXtyZXR1cm4gZT09PXBhcnNlSW50KGUudG9TdHJpbmcoKSwxMCl9ZnVuY3Rpb24gYXJyYXlQcm9kKGUsdCxuKXtudWxsPT10JiYodD0wKSxudWxsPT1uJiYobj1lLmxlbmd0aCk7Zm9yKHZhciByPTEsaT10O2k8bjsrK2kpcio9ZVtpXTtyZXR1cm4gcn1mdW5jdGlvbiB0b0FycmF5MUQoZSl7cmV0dXJuIGU9QXJyYXkuaXNBcnJheShlKT9uZXcgRmxvYXQzMkFycmF5KGUpOmUsdGVuc29yMWQoZSl9ZnVuY3Rpb24gbWluJDEoZSl7cmV0dXJuIG1pbih0b0FycmF5MUQoZSkpLmRhdGFTeW5jKClbMF19ZnVuY3Rpb24gbWF4JDEoZSl7cmV0dXJuIG1heCh0b0FycmF5MUQoZSkpLmRhdGFTeW5jKClbMF19ZnVuY3Rpb24gcmFuZ2UoZSx0KXtpZih0PGUpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJlbmQgKFwiK3QrXCIpIDwgYmVnaW4gKFwiK2UrXCIpIGlzIGZvcmJpZGRlbi5cIik7Zm9yKHZhciBuPVtdLHI9ZTtyPHQ7KytyKW4ucHVzaChyKTtyZXR1cm4gbn1mdW5jdGlvbiBjYXN0JDEoZSx0KXtyZXR1cm4gZS5hc1R5cGUodCl9ZnVuY3Rpb24gZXhwYW5kRGltcyQxKGUsdCl7dm9pZCAwPT09dCYmKHQ9LTEpO3ZhciBuPWUuc2hhcGUuc2xpY2UoKTtyZXR1cm4gdDwwJiYodD1uLmxlbmd0aCt0KzEpLG4uc3BsaWNlKHQsMCwxKSxlLnJlc2hhcGUobil9ZnVuY3Rpb24gcmVwZWF0KGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtpZigyIT09ZS5zaGFwZS5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJyZXBlYXQoKSBleHBlY3RzIGEgcmFuay0yIHRlbnNvciwgYnV0IHJlY2VpdmVkIGEgcmFuay1cIitlLnNoYXBlLmxlbmd0aCtcIiB0ZW5zb3IuXCIpO3JldHVybiB0aWxlJDEoZXhwYW5kRGltcyQxKGUsMSksWzEsdCwxXSl9KX1mdW5jdGlvbiBmbGF0dGVuKGUpe3ZhciB0PVthcnJheVByb2QoZS5zaGFwZSldO3JldHVybiBlLnJlc2hhcGUodCl9ZnVuY3Rpb24gYmF0Y2hGbGF0dGVuKGUpe2lmKGUucmFuazw9MSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcImJhdGNoRmxhdHRlbiByZXF1aXJlcyBhIG1pbmltdW0gcmFuayBvZiAyLiBHb3QgcmFuazogXCIrZS5yYW5rK1wiLlwiKTt2YXIgdD1bZS5zaGFwZVswXSxhcnJheVByb2QoZS5zaGFwZSwxKV07cmV0dXJuIGUucmVzaGFwZSh0KX1mdW5jdGlvbiBzbGljZUFsb25nRmlyc3RBeGlzKGUsdCxuKXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3N3aXRjaChlLnJhbmspe2Nhc2UgMTpyZXR1cm4gc2xpY2UxZChlLHQsbik7Y2FzZSAyOnJldHVybiBzbGljZTJkKGUsW3QsMF0sW24sZS5zaGFwZVsxXV0pO2Nhc2UgMzpyZXR1cm4gc2xpY2UzZChlLFt0LDAsMF0sW24sZS5zaGFwZVsxXSxlLnNoYXBlWzJdXSk7Y2FzZSA0OnJldHVybiBzbGljZTRkKGUsW3QsMCwwLDBdLFtuLGUuc2hhcGVbMV0sZS5zaGFwZVsyXSxlLnNoYXBlWzNdXSk7Y2FzZSA1OnJldHVybiBzbGljZShlLFt0LDAsMCwwLDBdLFtuLGUuc2hhcGVbMV0sZS5zaGFwZVsyXSxlLnNoYXBlWzNdLGUuc2hhcGVbNF1dKTtjYXNlIDY6cmV0dXJuIHNsaWNlKGUsW3QsMCwwLDAsMCwwXSxbbixlLnNoYXBlWzFdLGUuc2hhcGVbMl0sZS5zaGFwZVszXSxlLnNoYXBlWzRdLGUuc2hhcGVbNV1dKTtkZWZhdWx0OnRocm93IG5ldyBWYWx1ZUVycm9yKFwic2xpY2VBbG9uZ0ZpcnN0QXhpcygpIHJlY2VpdmVkIGFuIHVuc3VwcG9ydGVkIHRlbnNvciByYW5rOiBcIitlLnJhbmspfX0pfWZ1bmN0aW9uIHNsaWNlQWxvbmdMYXN0QXhpcyhlLHQsbil7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtzd2l0Y2goZS5yYW5rKXtjYXNlIDE6cmV0dXJuIHNsaWNlMWQoZSx0LG4pO2Nhc2UgMjpyZXR1cm4gc2xpY2UyZChlLFswLHRdLFtlLnNoYXBlWzBdLG5dKTtjYXNlIDM6cmV0dXJuIHNsaWNlM2QoZSxbMCwwLHRdLFtlLnNoYXBlWzBdLGUuc2hhcGVbMV0sbl0pO2Nhc2UgNDpyZXR1cm4gc2xpY2U0ZChlLFswLDAsMCx0XSxbZS5zaGFwZVswXSxlLnNoYXBlWzFdLGUuc2hhcGVbMl0sbl0pO2RlZmF1bHQ6dGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJzbGljZUFsb25nTGFzdEF4aXMoKSByZWNlaXZlZCBhbiB1bnN1cHBvcnRlZCB0ZW5zb3IgcmFuazogXCIrZS5yYW5rKX19KX1mdW5jdGlvbiBzbGljZUFsb25nQXhpcyhlLHQsbixyKXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3N3aXRjaChlLnJhbmspe2Nhc2UgMTpyZXR1cm4gc2xpY2UxZChlLHQsbik7Y2FzZSAyOnN3aXRjaChyKXtjYXNlIDE6cmV0dXJuIHNsaWNlQWxvbmdGaXJzdEF4aXMoZSx0LG4pO2Nhc2UgMjpyZXR1cm4gc2xpY2VBbG9uZ0xhc3RBeGlzKGUsdCxuKTtkZWZhdWx0OnRocm93IG5ldyBWYWx1ZUVycm9yKFwiVGhlIGF4aXMgaXMgbm90IHdpdGhpbiB0aGUgcmFuayBvZiB0aGUgdGVuc29yIFwiK3IpfWNhc2UgMzpzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBzbGljZUFsb25nRmlyc3RBeGlzKGUsdCxuKTtjYXNlIDI6cmV0dXJuIHNsaWNlM2QoZSxbMCx0LDBdLFtlLnNoYXBlWzBdLG4sZS5zaGFwZVsyXV0pO2Nhc2UgMzpyZXR1cm4gc2xpY2VBbG9uZ0xhc3RBeGlzKGUsdCxuKTtkZWZhdWx0OnRocm93IG5ldyBWYWx1ZUVycm9yKFwiVGhlIGF4aXMgaXMgbm90IHdpdGhpbiB0aGUgcmFuayBvZiB0aGUgdGVuc29yIFwiK3IpfWNhc2UgNDpzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBzbGljZUFsb25nRmlyc3RBeGlzKGUsdCxuKTtjYXNlIDI6cmV0dXJuIHNsaWNlNGQoZSxbMCx0LDAsMF0sW2Uuc2hhcGVbMF0sbixlLnNoYXBlWzJdLGUuc2hhcGVbM11dKTtjYXNlIDM6cmV0dXJuIHNsaWNlNGQoZSxbMCwwLHQsMF0sW2Uuc2hhcGVbMF0sZS5zaGFwZVsxXSxuLGUuc2hhcGVbM11dKTtjYXNlIDQ6cmV0dXJuIHNsaWNlQWxvbmdMYXN0QXhpcyhlLHQsbik7ZGVmYXVsdDp0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlRoZSBheGlzIGlzIG5vdCB3aXRoaW4gdGhlIHJhbmsgb2YgdGhlIHRlbnNvciBcIityKX1kZWZhdWx0OnRocm93IG5ldyBWYWx1ZUVycm9yKFwic2xpY2VBbG9uZ0xhc3RBeGlzKCkgcmVjZWl2ZWQgYW4gdW5zdXBwb3J0ZWQgdGVuc29yIHJhbms6IFwiK2UucmFuayl9fSl9ZnVuY3Rpb24gY29uY2F0ZW5hdGUoZSx0KXt2YXIgbjtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9LTEpLHQ8MCYmKHQ9MCE9PShuPWVbMF0ucmFuayk/bjowKSx0PT09ZVswXS5yYW5rJiYodD0tMSksY29uY2F0KGUsdCl9ZnVuY3Rpb24gY29uY2F0QWxvbmdGaXJzdEF4aXMoZSx0KXtzd2l0Y2goZS5yYW5rKXtjYXNlIDE6cmV0dXJuIGNvbmNhdDFkKFtlLHRdKTtjYXNlIDI6cmV0dXJuIGNvbmNhdDJkKFtlLHRdLDApO2Nhc2UgMzpyZXR1cm4gY29uY2F0M2QoW2UsdF0sMCk7Y2FzZSA0OnJldHVybiBjb25jYXQ0ZChbZSx0XSwwKTtkZWZhdWx0OnRocm93IG5ldyBWYWx1ZUVycm9yKFwiY29uY2F0QWxvbmdGaXJzdEF4aXMoKSByZWNlaXZlZCBhbiB1bnN1cHBvcnRlZCB0ZW5zb3IgcmFuazogXCIrZS5yYW5rKX19ZnVuY3Rpb24gdGlsZSQxKGUsdCl7aWYoQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxlLnJhbmshPT10Lmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlRoZSBsZW5ndGggb2YgaW5wdXQgbiAoXCIrdC5sZW5ndGgrXCIpIGRvZXMgbm90IG1hdGNoIHRoZSBudW1iZXIgb2YgZGltZW5zaW9ucyBpbiBpbnB1dCB4IChcIitlLnJhbmsrXCIpXCIpO3JldHVybiB0aWxlKGUsdCl9ZnVuY3Rpb24gcmFuZG9tTm9ybWFsJDEoZSx0LG4scixpKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09biYmKG49MSkscmFuZG9tTm9ybWFsKGUsdCxuLHIsaSl9ZnVuY3Rpb24gZG90KGUsdCxuLHIpe2lmKGUucmFuazwyfHx0LnJhbms8Mil0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcImRvdCByZXF1aXJlcyBib3RoIGlucHV0cyB0byBiZSByYW5rID49IDIgYnV0IGdvdCB4IHNoYXBlID0gXCIrZS5zaGFwZStcIiBhbmQgeSBzaGFwZSA9IFwiK3Quc2hhcGUpO2lmKHQucmFuaz49MyYmZS5zaGFwZS5zbGljZSgtMSlbMF0hPT0oYz10LnNoYXBlLnNsaWNlKC0yKVswXSkpdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXCJJZiByYW5rIHkgPj0gMywgdGhlbiB0aGUgc2Vjb25kIGxhc3QgZGltIG9mIHkgbXVzdCBlcXVhbCB0aGUgbGFzdCBkaW0gb2YgeCBidXQgZ290IHggc2hhcGUgPSBcIitlLnNoYXBlK1wiIGFuZCAgeSBzaGFwZSA9IFwiK3Quc2hhcGUpO2lmKDI9PT1lLnJhbmsmJjI9PT10LnJhbmspe3ZhciBpPSExLGE9ITE7cmV0dXJuIGZ1c2VkLm1hdE11bCh7YTplLGI6dCx0cmFuc3Bvc2VBOmksdHJhbnNwb3NlQjphLGJpYXM6cj9yZXNoYXBlQmlhcyhlLnJhbmsscixpbWFnZURhdGFGb3JtYXQoKSk6bnVsbCxhY3RpdmF0aW9uOm59KX12YXIgbz1lLnNoYXBlLnNsaWNlKCkscz1vLnBvcCgpO2U9ZS5yZXNoYXBlKFstMSxzXSk7dmFyIGw9dC5zaGFwZS5zbGljZSgpLHU9bC5wb3AoKSxjPWwucG9wKCkscD1sLmNvbmNhdChbdV0pLGg9QXJyYXkuZnJvbSh7bGVuZ3RoOnQucmFua30sZnVuY3Rpb24oZSxuKXtyZXR1cm4gMD09PW4/dC5yYW5rLTI6bjw9dC5yYW5rLTI/bi0xOm59KTt0PXQudHJhbnNwb3NlKGgpLnJlc2hhcGUoW2MsLTFdKTt2YXIgZD1vLmNvbmNhdChwKTtpPSExLGE9ITE7cmV0dXJuIGZ1c2VkLm1hdE11bCh7YTplLGI6dCx0cmFuc3Bvc2VBOmksdHJhbnNwb3NlQjphLGJpYXM6cj9yZXNoYXBlQmlhcyhlLnJhbmsscixpbWFnZURhdGFGb3JtYXQoKSk6bnVsbCxhY3RpdmF0aW9uOm59KS5yZXNoYXBlKGQpfWZ1bmN0aW9uIGdhdGhlciQxKGUsdCxuKXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiB0PUFycmF5LmlzQXJyYXkodCk/dGVuc29yMWQodCxcImludDMyXCIpOnQudG9JbnQoKSxnYXRoZXIoZSx0LG4pfSl9ZnVuY3Rpb24gc3F1YXJlKGUpe3JldHVybiBtdWxTdHJpY3QoZSxlKX1mdW5jdGlvbiByZXNoYXBlQmlhcyhlLHQsbil7dmFyIHI9dC5zaGFwZTtpZigxIT09dC5yYW5rJiZ0LnJhbmshPT1lKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVW5leHBlY3RlZCBiaWFzIGRpbWVuc2lvbnM6IFwiK3QucmFuaytcIjsgZXhwZWN0ZWQgaXQgdG8gYmUgMSBvciBcIitlKTtpZig1PT09ZSl7aWYoXCJjaGFubmVsc0ZpcnN0XCI9PT1uKXJldHVybiAxPT09ci5sZW5ndGg/dC5yZXNoYXBlKFsxLHJbMF0sMSwxLDFdKTp0LnJlc2hhcGUoWzEsclszXSxyWzBdLHJbMV0sclsyXV0pO2lmKFwiY2hhbm5lbHNMYXN0XCI9PT1uKXJldHVybiAxPT09ci5sZW5ndGg/dC5yZXNoYXBlKFsxLDEsMSwxLHJbMF1dKTp0LnJlc2hhcGUoWzFdLmNvbmNhdChyKSl9ZWxzZSBpZig0PT09ZSl7aWYoXCJjaGFubmVsc0ZpcnN0XCI9PT1uKXJldHVybiAxPT09ci5sZW5ndGg/dC5yZXNoYXBlKFsxLHJbMF0sMSwxXSk6dC5yZXNoYXBlKFsxLHJbMl0sclswXSxyWzFdXSk7aWYoXCJjaGFubmVsc0xhc3RcIj09PW4pcmV0dXJuIDE9PT1yLmxlbmd0aD90LnJlc2hhcGUoWzEsMSwxLHJbMF1dKTp0LnJlc2hhcGUoWzFdLmNvbmNhdChyKSl9ZWxzZSBpZigzPT09ZSl7aWYoXCJjaGFubmVsc0ZpcnN0XCI9PT1uKXJldHVybiAxPT09ci5sZW5ndGg/dC5yZXNoYXBlKFsxLHJbMF0sMV0pOnQucmVzaGFwZShbMSxyWzFdLHJbMF1dKTtpZihcImNoYW5uZWxzTGFzdFwiPT09bilyZXR1cm4gMT09PXIubGVuZ3RoP3QucmVzaGFwZShbMSwxLHJbMF1dKTp0LnJlc2hhcGUoWzFdLmNvbmNhdChyKSl9ZWxzZSBpZihlPDMpcmV0dXJuIHQ7dGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJVbnN1cHBvcnRlZCBpbnB1dCByYW5rIGJ5IGJpYXNBZGQ6IFwiK3QucmFuayl9ZnVuY3Rpb24gYmlhc0FkZChlLHQsbil7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09biYmKG49aW1hZ2VEYXRhRm9ybWF0KCkpLGNoZWNrRGF0YUZvcm1hdChuKSxlLmFkZChyZXNoYXBlQmlhcyhlLnJhbmssdCxuKSl9KX1mdW5jdGlvbiBlbHUkMShlLHQpe2lmKHZvaWQgMD09PXQmJih0PTEpLDEhPT10KXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiU3VwcG9ydCBmb3IgYWxwaGEgdmFsdWVzIG90aGVyIHRoYW4gMSAoXCIrdCtcIikgaXMgbm90IGltcGxlbWVudGVkIHlldC5cIik7cmV0dXJuIGVsdShlKX1mdW5jdGlvbiBzb2Z0c2lnbihlKXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBkaXYoZSxhYnMoZSkuYWRkKDEpKX0pfWZ1bmN0aW9uIGRyb3BvdXQkMShlLHQsbixyKXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBkcm9wb3V0KGUsdCxuLHIpfSl9ZnVuY3Rpb24gaGFyZFNpZ21vaWQoZSl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgdD1hZGQoLjUsbXVsKC4yLGUpKTtyZXR1cm4gY2xpcEJ5VmFsdWUodCwwLDEpfSl9ZnVuY3Rpb24gaW5UcmFpblBoYXNlKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49ITEpLG4/ZSgpOnQoKX12YXIgVkFMSURfRkFOX01PREVfVkFMVUVTPVtcImZhbkluXCIsXCJmYW5PdXRcIixcImZhbkF2Z1wiXSxWQUxJRF9ESVNUUklCVVRJT05fVkFMVUVTPVtcIm5vcm1hbFwiLFwidW5pZm9ybVwiLFwidHJ1bmNhdGVkTm9ybWFsXCJdO2Z1bmN0aW9uIGNoZWNrRmFuTW9kZShlKXtjaGVja1N0cmluZ1R5cGVVbmlvblZhbHVlKFZBTElEX0ZBTl9NT0RFX1ZBTFVFUyxcIkZhbk1vZGVcIixlKX1mdW5jdGlvbiBjaGVja0Rpc3RyaWJ1dGlvbihlKXtjaGVja1N0cmluZ1R5cGVVbmlvblZhbHVlKFZBTElEX0RJU1RSSUJVVElPTl9WQUxVRVMsXCJEaXN0cmlidXRpb25cIixlKX12YXIgSW5pdGlhbGl6ZXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmZyb21Db25maWdVc2VzQ3VzdG9tT2JqZWN0cz1mdW5jdGlvbigpe3JldHVybiExfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm57fX0sdH0oc2VyaWFsaXphdGlvbi5TZXJpYWxpemFibGUpLFplcm9zPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlLHQpe3JldHVybiB6ZXJvcyhlLHQpfSx0LmNsYXNzTmFtZT1cIlplcm9zXCIsdH0oSW5pdGlhbGl6ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhaZXJvcyk7dmFyIE9uZXM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG9uZXMoZSx0KX0sdC5jbGFzc05hbWU9XCJPbmVzXCIsdH0oSW5pdGlhbGl6ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhPbmVzKTt2YXIgQ29uc3RhbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJFeHBlY3RlZCBhcmd1bWVudCBvZiB0eXBlIENvbnN0YW50Q29uZmlnIGJ1dCBnb3QgXCIrdCk7aWYodm9pZCAwPT09dC52YWx1ZSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcImNvbmZpZyBtdXN0IGhhdmUgdmFsdWUgc2V0IGJ1dCBnb3QgXCIrdCk7cmV0dXJuIG4udmFsdWU9dC52YWx1ZSxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gbXVsKHNjYWxhcihuLnZhbHVlKSxvbmVzKGUsdCkpfSl9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybnt2YWx1ZTp0aGlzLnZhbHVlfX0sdC5jbGFzc05hbWU9XCJDb25zdGFudFwiLHR9KEluaXRpYWxpemVyKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoQ29uc3RhbnQpO3ZhciBSYW5kb21Vbmlmb3JtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLkRFRkFVTFRfTUlOVkFMPS0uMDUsbi5ERUZBVUxUX01BWFZBTD0uMDUsbi5taW52YWw9dC5taW52YWx8fG4uREVGQVVMVF9NSU5WQUwsbi5tYXh2YWw9dC5tYXh2YWx8fG4uREVGQVVMVF9NQVhWQUwsbi5zZWVkPXQuc2VlZCxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlLHQpe3JldHVybiByYW5kb21Vbmlmb3JtKGUsdGhpcy5taW52YWwsdGhpcy5tYXh2YWwsdCl9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybnttaW52YWw6dGhpcy5taW52YWwsbWF4dmFsOnRoaXMubWF4dmFsLHNlZWQ6dGhpcy5zZWVkfX0sdC5jbGFzc05hbWU9XCJSYW5kb21Vbmlmb3JtXCIsdH0oSW5pdGlhbGl6ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhSYW5kb21Vbmlmb3JtKTt2YXIgUmFuZG9tTm9ybWFsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLkRFRkFVTFRfTUVBTj0wLG4uREVGQVVMVF9TVERERVY9LjA1LG4ubWVhbj10Lm1lYW58fG4uREVGQVVMVF9NRUFOLG4uc3RkZGV2PXQuc3RkZGV2fHxuLkRFRkFVTFRfU1REREVWLG4uc2VlZD10LnNlZWQsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSx0KXtpZihcImZsb2F0MzJcIiE9PSh0PXR8fFwiZmxvYXQzMlwiKSYmXCJpbnQzMlwiIT09dCl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcInJhbmRvbU5vcm1hbCBkb2VzIG5vdCBzdXBwb3J0IGRUeXBlIFwiK3QrXCIuXCIpO3JldHVybiByYW5kb21Ob3JtYWwkMShlLHRoaXMubWVhbix0aGlzLnN0ZGRldix0LHRoaXMuc2VlZCl9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybnttZWFuOnRoaXMubWVhbixzdGRkZXY6dGhpcy5zdGRkZXYsc2VlZDp0aGlzLnNlZWR9fSx0LmNsYXNzTmFtZT1cIlJhbmRvbU5vcm1hbFwiLHR9KEluaXRpYWxpemVyKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoUmFuZG9tTm9ybWFsKTt2YXIgVHJ1bmNhdGVkTm9ybWFsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLkRFRkFVTFRfTUVBTj0wLG4uREVGQVVMVF9TVERERVY9LjA1LG4ubWVhbj10Lm1lYW58fG4uREVGQVVMVF9NRUFOLG4uc3RkZGV2PXQuc3RkZGV2fHxuLkRFRkFVTFRfU1REREVWLG4uc2VlZD10LnNlZWQsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSx0KXtpZihcImZsb2F0MzJcIiE9PSh0PXR8fFwiZmxvYXQzMlwiKSYmXCJpbnQzMlwiIT09dCl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcInRydW5jYXRlZE5vcm1hbCBkb2VzIG5vdCBzdXBwb3J0IGRUeXBlIFwiK3QrXCIuXCIpO3JldHVybiB0cnVuY2F0ZWROb3JtYWwoZSx0aGlzLm1lYW4sdGhpcy5zdGRkZXYsdCx0aGlzLnNlZWQpfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm57bWVhbjp0aGlzLm1lYW4sc3RkZGV2OnRoaXMuc3RkZGV2LHNlZWQ6dGhpcy5zZWVkfX0sdC5jbGFzc05hbWU9XCJUcnVuY2F0ZWROb3JtYWxcIix0fShJbml0aWFsaXplcik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFRydW5jYXRlZE5vcm1hbCk7dmFyIElkZW50aXR5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmdhaW49bnVsbCE9dC5nYWluP3QuZ2FpbjoxLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe2lmKDIhPT1lLmxlbmd0aHx8ZVswXSE9PWVbMV0pdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJZGVudGl0eSBtYXRyaXggaW5pdGlhbGl6ZXIgY2FuIG9ubHkgYmUgdXNlZCBmb3IgMkQgc3F1YXJlIG1hdHJpY2VzLlwiKTtyZXR1cm4gbXVsKG4uZ2FpbixleWUoZVswXSkpfSl9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybntnYWluOnRoaXMuZ2Fpbn19LHQuY2xhc3NOYW1lPVwiSWRlbnRpdHlcIix0fShJbml0aWFsaXplcik7ZnVuY3Rpb24gY29tcHV0ZUZhbnMoZSx0KXt2YXIgbixyO2lmKHZvaWQgMD09PXQmJih0PVwiY2hhbm5lbHNMYXN0XCIpLGNoZWNrRGF0YUZvcm1hdCh0KSwyPT09ZS5sZW5ndGgpbj1lWzBdLHI9ZVsxXTtlbHNlIGlmKC0xIT09WzMsNCw1XS5pbmRleE9mKGUubGVuZ3RoKSl7aWYoXCJjaGFubmVsc0ZpcnN0XCI9PT10KXt2YXIgaT1hcnJheVByb2QoZSwyKTtuPWVbMV0qaSxyPWVbMF0qaX1lbHNlIGlmKFwiY2hhbm5lbHNMYXN0XCI9PT10KXtpPWFycmF5UHJvZChlLDAsZS5sZW5ndGgtMik7bj1lW2UubGVuZ3RoLTJdKmkscj1lW2UubGVuZ3RoLTFdKml9fWVsc2V7dmFyIGE9YXJyYXlQcm9kKGUpO249TWF0aC5zcXJ0KGEpLHI9TWF0aC5zcXJ0KGEpfXJldHVybltuLHJdfXNlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhJZGVudGl0eSk7dmFyIFZhcmlhbmNlU2NhbGluZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztpZih0LnNjYWxlPDApdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJzY2FsZSBtdXN0IGJlIGEgcG9zaXRpdmUgZmxvYXQuIEdvdDogXCIrdC5zY2FsZSk7cmV0dXJuIG4uc2NhbGU9bnVsbD09dC5zY2FsZT8xOnQuc2NhbGUsbi5tb2RlPW51bGw9PXQubW9kZT9cImZhbkluXCI6dC5tb2RlLGNoZWNrRmFuTW9kZShuLm1vZGUpLG4uZGlzdHJpYnV0aW9uPW51bGw9PXQuZGlzdHJpYnV0aW9uP1wibm9ybWFsXCI6dC5kaXN0cmlidXRpb24sY2hlY2tEaXN0cmlidXRpb24obi5kaXN0cmlidXRpb24pLG4uc2VlZD10LnNlZWQsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1jb21wdXRlRmFucyhlKSxyPW5bMF0saT1uWzFdLGE9dGhpcy5zY2FsZTtpZihcImZhbkluXCI9PT10aGlzLm1vZGU/YS89TWF0aC5tYXgoMSxyKTpcImZhbk91dFwiPT09dGhpcy5tb2RlP2EvPU1hdGgubWF4KDEsaSk6YS89TWF0aC5tYXgoMSwocitpKS8yKSxcIm5vcm1hbFwiPT09dGhpcy5kaXN0cmlidXRpb24pe3ZhciBvPU1hdGguc3FydChhKTtpZihcImZsb2F0MzJcIiE9PSh0PXR8fFwiZmxvYXQzMlwiKSYmXCJpbnQzMlwiIT09dCl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcih0aGlzLmdldENsYXNzTmFtZSgpK1wiIGRvZXMgbm90IHN1cHBvcnQgZFR5cGUgXCIrdCtcIi5cIik7cmV0dXJuIHRydW5jYXRlZE5vcm1hbChlLDAsbyx0LHRoaXMuc2VlZCl9dmFyIHM9TWF0aC5zcXJ0KDMqYSk7cmV0dXJuIHJhbmRvbVVuaWZvcm0oZSwtcyxzLHQpfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm57c2NhbGU6dGhpcy5zY2FsZSxtb2RlOnRoaXMubW9kZSxkaXN0cmlidXRpb246dGhpcy5kaXN0cmlidXRpb24sc2VlZDp0aGlzLnNlZWR9fSx0LmNsYXNzTmFtZT1cIlZhcmlhbmNlU2NhbGluZ1wiLHR9KEluaXRpYWxpemVyKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoVmFyaWFuY2VTY2FsaW5nKTt2YXIgR2xvcm90VW5pZm9ybT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyx7c2NhbGU6MSxtb2RlOlwiZmFuQXZnXCIsZGlzdHJpYnV0aW9uOlwidW5pZm9ybVwiLHNlZWQ6bnVsbD09dD9udWxsOnQuc2VlZH0pfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gVmFyaWFuY2VTY2FsaW5nLmNsYXNzTmFtZX0sdC5jbGFzc05hbWU9XCJHbG9yb3RVbmlmb3JtXCIsdH0oVmFyaWFuY2VTY2FsaW5nKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoR2xvcm90VW5pZm9ybSk7dmFyIEdsb3JvdE5vcm1hbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyx7c2NhbGU6MSxtb2RlOlwiZmFuQXZnXCIsZGlzdHJpYnV0aW9uOlwibm9ybWFsXCIsc2VlZDpudWxsPT10P251bGw6dC5zZWVkfSl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiBWYXJpYW5jZVNjYWxpbmcuY2xhc3NOYW1lfSx0LmNsYXNzTmFtZT1cIkdsb3JvdE5vcm1hbFwiLHR9KFZhcmlhbmNlU2NhbGluZyk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEdsb3JvdE5vcm1hbCk7dmFyIEhlTm9ybWFsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuY2FsbCh0aGlzLHtzY2FsZToyLG1vZGU6XCJmYW5JblwiLGRpc3RyaWJ1dGlvbjpcIm5vcm1hbFwiLHNlZWQ6bnVsbD09dD9udWxsOnQuc2VlZH0pfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gVmFyaWFuY2VTY2FsaW5nLmNsYXNzTmFtZX0sdC5jbGFzc05hbWU9XCJIZU5vcm1hbFwiLHR9KFZhcmlhbmNlU2NhbGluZyk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEhlTm9ybWFsKTt2YXIgSGVVbmlmb3JtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuY2FsbCh0aGlzLHtzY2FsZToyLG1vZGU6XCJmYW5JblwiLGRpc3RyaWJ1dGlvbjpcInVuaWZvcm1cIixzZWVkOm51bGw9PXQ/bnVsbDp0LnNlZWR9KXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIFZhcmlhbmNlU2NhbGluZy5jbGFzc05hbWV9LHQuY2xhc3NOYW1lPVwiSGVVbmlmb3JtXCIsdH0oVmFyaWFuY2VTY2FsaW5nKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoSGVVbmlmb3JtKTt2YXIgTGVDdW5Ob3JtYWw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMse3NjYWxlOjEsbW9kZTpcImZhbkluXCIsZGlzdHJpYnV0aW9uOlwibm9ybWFsXCIsc2VlZDpudWxsPT10P251bGw6dC5zZWVkfSl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiBWYXJpYW5jZVNjYWxpbmcuY2xhc3NOYW1lfSx0LmNsYXNzTmFtZT1cIkxlQ3VuTm9ybWFsXCIsdH0oVmFyaWFuY2VTY2FsaW5nKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoTGVDdW5Ob3JtYWwpO3ZhciBMZUN1blVuaWZvcm09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMse3NjYWxlOjEsbW9kZTpcImZhbkluXCIsZGlzdHJpYnV0aW9uOlwidW5pZm9ybVwiLHNlZWQ6bnVsbD09dD9udWxsOnQuc2VlZH0pfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gVmFyaWFuY2VTY2FsaW5nLmNsYXNzTmFtZX0sdC5jbGFzc05hbWU9XCJMZUN1bk5vcm1hbFwiLHR9KFZhcmlhbmNlU2NhbGluZyk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKExlQ3VuVW5pZm9ybSk7dmFyIE9ydGhvZ29uYWw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7aWYobi5ERUZBVUxUX0dBSU49MSxuLmdhaW49bnVsbD09dC5nYWluP24uREVGQVVMVF9HQUlOOnQuZ2FpbixuLnNlZWQ9dC5zZWVkLG51bGwhPW4uc2VlZCl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcIlJhbmRvbSBzZWVkIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgT3J0aG9nb25hbCBJbml0aWFsaXplciB5ZXQuXCIpO3JldHVybiBufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtpZigyIT09ZS5sZW5ndGgpdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXCJUaGUgT3J0aG9nb25hbCBJbml0aWFsaXplciBkb2VzIG5vdCBzdXBwb3J0IG5vbi0yRCBzaGFwZXMgeWV0LlwiKTtlWzBdKmVbMV0+MmUzJiZjb25zb2xlLndhcm4oXCJPcnRob2dvbmFsIGluaXRpYWxpemVyIGlzIGJlaW5nIGNhbGxlZCBvbiBhIG1hdHJpeCB3aXRoIG1vcmUgdGhhbiAyMDAwIChcIitlWzBdKmVbMV0rXCIpIGVsZW1lbnRzOiBTbG93bmVzcyBtYXkgcmVzdWx0LlwiKTt2YXIgdD1yYW5kb21Ob3JtYWwkMShlWzBdPmVbMV0/W2VbMV0sZVswXV06ZSwwLDEsXCJmbG9hdDMyXCIpLHI9bGluYWxnLmdyYW1TY2htaWR0KHQpO3JldHVybiBlWzBdPmVbMV0mJihyPXIudHJhbnNwb3NlKCkpLG11bChuLmdhaW4scil9KX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJue2dhaW46dGhpcy5nYWluLHNlZWQ6dGhpcy5zZWVkfX0sdC5jbGFzc05hbWU9XCJPcnRob2dvbmFsXCIsdH0oSW5pdGlhbGl6ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhPcnRob2dvbmFsKTt2YXIgSU5JVElBTElaRVJfSURFTlRJRklFUl9SRUdJU1RSWV9TWU1CT0xfTUFQPXtjb25zdGFudDpcIkNvbnN0YW50XCIsZ2xvcm90Tm9ybWFsOlwiR2xvcm90Tm9ybWFsXCIsZ2xvcm90VW5pZm9ybTpcIkdsb3JvdFVuaWZvcm1cIixoZU5vcm1hbDpcIkhlTm9ybWFsXCIsaGVVbmlmb3JtOlwiSGVVbmlmb3JtXCIsaWRlbnRpdHk6XCJJZGVudGl0eVwiLGxlQ3VuTm9ybWFsOlwiTGVDdW5Ob3JtYWxcIixsZUN1blVuaWZvcm06XCJMZUN1blVuaWZvcm1cIixvbmVzOlwiT25lc1wiLG9ydGhvZ29uYWw6XCJPcnRob2dvbmFsXCIscmFuZG9tTm9ybWFsOlwiUmFuZG9tTm9ybWFsXCIscmFuZG9tVW5pZm9ybTpcIlJhbmRvbVVuaWZvcm1cIix0cnVuY2F0ZWROb3JtYWw6XCJUcnVuY2F0ZWROb3JtYWxcIix2YXJpYW5jZVNjYWxpbmc6XCJWYXJpYW5jZVNjYWxpbmdcIix6ZXJvczpcIlplcm9zXCJ9O2Z1bmN0aW9uIGRlc2VyaWFsaXplSW5pdGlhbGl6ZXIoZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLGRlc2VyaWFsaXplS2VyYXNPYmplY3QoZSxzZXJpYWxpemF0aW9uLlNlcmlhbGl6YXRpb25NYXAuZ2V0TWFwKCkuY2xhc3NOYW1lTWFwLHQsXCJpbml0aWFsaXplclwiKX1mdW5jdGlvbiBzZXJpYWxpemVJbml0aWFsaXplcihlKXtyZXR1cm4gc2VyaWFsaXplS2VyYXNPYmplY3QoZSl9ZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZXIoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe3ZhciB0PWUgaW4gSU5JVElBTElaRVJfSURFTlRJRklFUl9SRUdJU1RSWV9TWU1CT0xfTUFQP0lOSVRJQUxJWkVSX0lERU5USUZJRVJfUkVHSVNUUllfU1lNQk9MX01BUFtlXTplO2lmKFwiR2xvcm90Tm9ybWFsXCI9PT10KXJldHVybiBuZXcgR2xvcm90Tm9ybWFsO2lmKFwiR2xvcm90VW5pZm9ybVwiPT09dClyZXR1cm4gbmV3IEdsb3JvdFVuaWZvcm07aWYoXCJIZU5vcm1hbFwiPT09dClyZXR1cm4gbmV3IEhlTm9ybWFsO2lmKFwiSGVVbmlmb3JtXCI9PT10KXJldHVybiBuZXcgSGVVbmlmb3JtO2lmKFwiTGVDdW5Ob3JtYWxcIj09PXQpcmV0dXJuIG5ldyBMZUN1bk5vcm1hbDtpZihcIkxlQ3VuVW5pZm9ybVwiPT09dClyZXR1cm4gbmV3IExlQ3VuVW5pZm9ybTt2YXIgbj17fTtyZXR1cm4gbi5jbGFzc05hbWU9dCxuLmNvbmZpZz17fSxkZXNlcmlhbGl6ZUluaXRpYWxpemVyKG4pfXJldHVybiBlIGluc3RhbmNlb2YgSW5pdGlhbGl6ZXI/ZTpkZXNlcmlhbGl6ZUluaXRpYWxpemVyKGUpfWZ1bmN0aW9uIHplcm9zJDEoKXtyZXR1cm4gbmV3IFplcm9zfWZ1bmN0aW9uIG9uZXMkMSgpe3JldHVybiBuZXcgT25lc31mdW5jdGlvbiBjb25zdGFudChlKXtyZXR1cm4gbmV3IENvbnN0YW50KGUpfWZ1bmN0aW9uIHJhbmRvbVVuaWZvcm0kMShlKXtyZXR1cm4gbmV3IFJhbmRvbVVuaWZvcm0oZSl9ZnVuY3Rpb24gcmFuZG9tTm9ybWFsJDIoZSl7cmV0dXJuIG5ldyBSYW5kb21Ob3JtYWwoZSl9ZnVuY3Rpb24gdHJ1bmNhdGVkTm9ybWFsJDEoZSl7cmV0dXJuIG5ldyBUcnVuY2F0ZWROb3JtYWwoZSl9ZnVuY3Rpb24gaWRlbnRpdHkoZSl7cmV0dXJuIG5ldyBJZGVudGl0eShlKX1mdW5jdGlvbiB2YXJpYW5jZVNjYWxpbmcoZSl7cmV0dXJuIG5ldyBWYXJpYW5jZVNjYWxpbmcoZSl9ZnVuY3Rpb24gZ2xvcm90VW5pZm9ybShlKXtyZXR1cm4gbmV3IEdsb3JvdFVuaWZvcm0oZSl9ZnVuY3Rpb24gZ2xvcm90Tm9ybWFsKGUpe3JldHVybiBuZXcgR2xvcm90Tm9ybWFsKGUpfWZ1bmN0aW9uIGhlTm9ybWFsKGUpe3JldHVybiBuZXcgSGVOb3JtYWwoZSl9ZnVuY3Rpb24gaGVVbmlmb3JtKGUpe3JldHVybiBuZXcgSGVVbmlmb3JtKGUpfWZ1bmN0aW9uIGxlQ3VuTm9ybWFsKGUpe3JldHVybiBuZXcgTGVDdW5Ob3JtYWwoZSl9ZnVuY3Rpb24gbGVDdW5Vbmlmb3JtKGUpe3JldHVybiBuZXcgTGVDdW5Vbmlmb3JtKGUpfWZ1bmN0aW9uIG9ydGhvZ29uYWwoZSl7cmV0dXJuIG5ldyBPcnRob2dvbmFsKGUpfXZhciBleHBvcnRzX2luaXRpYWxpemVycz1PYmplY3QuZnJlZXplKHt6ZXJvczp6ZXJvcyQxLG9uZXM6b25lcyQxLGNvbnN0YW50OmNvbnN0YW50LHJhbmRvbVVuaWZvcm06cmFuZG9tVW5pZm9ybSQxLHJhbmRvbU5vcm1hbDpyYW5kb21Ob3JtYWwkMix0cnVuY2F0ZWROb3JtYWw6dHJ1bmNhdGVkTm9ybWFsJDEsaWRlbnRpdHk6aWRlbnRpdHksdmFyaWFuY2VTY2FsaW5nOnZhcmlhbmNlU2NhbGluZyxnbG9yb3RVbmlmb3JtOmdsb3JvdFVuaWZvcm0sZ2xvcm90Tm9ybWFsOmdsb3JvdE5vcm1hbCxoZU5vcm1hbDpoZU5vcm1hbCxoZVVuaWZvcm06aGVVbmlmb3JtLGxlQ3VuTm9ybWFsOmxlQ3VuTm9ybWFsLGxlQ3VuVW5pZm9ybTpsZUN1blVuaWZvcm0sb3J0aG9nb25hbDpvcnRob2dvbmFsfSksX25leHRVbmlxdWVUZW5zb3JJZD0wO2Z1bmN0aW9uIGdldE5leHRVbmlxdWVUZW5zb3JJZCgpe3JldHVybiBfbmV4dFVuaXF1ZVRlbnNvcklkKyt9dmFyIF91aWRQcmVmaXhlcz17fTtmdW5jdGlvbiBnZXRVaWQoZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiXCIpLGUgaW4gX3VpZFByZWZpeGVzfHwoX3VpZFByZWZpeGVzW2VdPTApLF91aWRQcmVmaXhlc1tlXSs9MSxlK191aWRQcmVmaXhlc1tlXS50b1N0cmluZygpfWZ1bmN0aW9uIGlzQXJyYXlPZlNoYXBlcyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmQXJyYXkuaXNBcnJheShlWzBdKX1mdW5jdGlvbiBub3JtYWxpemVTaGFwZUxpc3QoZSl7cmV0dXJuIDA9PT1lLmxlbmd0aD9bXTpBcnJheS5pc0FycmF5KGVbMF0pP2U6W2VdfWZ1bmN0aW9uIGdldEV4YWN0bHlPbmVUZW5zb3IoZSl7dmFyIHQ7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoMSE9PWUubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiRXhwZWN0ZWQgVGVuc29yIGxlbmd0aCB0byBiZSAxOyBnb3QgXCIrZS5sZW5ndGgpO3Q9ZVswXX1lbHNlIHQ9ZTtyZXR1cm4gdH1mdW5jdGlvbiBnZXRFeGFjdGx5T25lU2hhcGUoZSl7aWYoQXJyYXkuaXNBcnJheShlKSYmQXJyYXkuaXNBcnJheShlWzBdKSl7aWYoMT09PWUubGVuZ3RoKXJldHVybihlPWUpWzBdO3Rocm93IG5ldyBWYWx1ZUVycm9yKFwiRXhwZWN0ZWQgZXhhY3RseSAxIFNoYXBlOyBnb3QgXCIrZS5sZW5ndGgpfXJldHVybiBlfWZ1bmN0aW9uIGNvdW50UGFyYW1zSW5XZWlnaHRzKGUpe2Zvcih2YXIgdD0wLG49MCxyPWU7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07MD09PWkuc2hhcGUubGVuZ3RoP3QrPTE6dCs9aS5zaGFwZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSp0fSl9cmV0dXJuIHR9dmFyIERFRkFVTFRfVkFSSUFCTEVfTkFNRV9QUkVGSVg9XCJWYXJpYWJsZVwiLExheWVyVmFyaWFibGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIsaSl7dm9pZCAwPT09dCYmKHQ9XCJmbG9hdDMyXCIpLHZvaWQgMD09PW4mJihuPURFRkFVTFRfVkFSSUFCTEVfTkFNRV9QUkVGSVgpLHZvaWQgMD09PXImJihyPSEwKSx2b2lkIDA9PT1pJiYoaT1udWxsKSx0aGlzLmR0eXBlPW51bGw9PXQ/XCJmbG9hdDMyXCI6dCx0aGlzLnNoYXBlPWUuc2hhcGUsdGhpcy5pZD1nZXROZXh0VW5pcXVlVGVuc29ySWQoKSxuPW51bGw9PW4/REVGQVVMVF9WQVJJQUJMRV9OQU1FX1BSRUZJWDpuLHRoaXMub3JpZ2luYWxOYW1lPWdldFNjb3BlZFRlbnNvck5hbWUobiksdGhpcy5uYW1lPWdldFVuaXF1ZVRlbnNvck5hbWUodGhpcy5vcmlnaW5hbE5hbWUpLHRoaXMudHJhaW5hYmxlXz1yLHRoaXMuY29uc3RyYWludD1pLHRoaXMudmFsPXZhcmlhYmxlKGUsdGhpcy50cmFpbmFibGVfLHRoaXMubmFtZSx0aGlzLmR0eXBlKX1yZXR1cm4gZS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzc2VydE5vdERpc3Bvc2VkKCksdGhpcy52YWx9LGUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFzc2VydE5vdERpc3Bvc2VkKCksY2hlY2tTaGFwZXNNYXRjaCh0aGlzLnZhbCxlKSx0aGlzLnZhbC5pZCE9PWUuaWQmJih0aGlzLnZhbC5hc3NpZ24oZSksbnVsbCE9dGhpcy5jb25zdHJhaW50JiZ0aGlzLnZhbC5hc3NpZ24odGhpcy5jb25zdHJhaW50LmFwcGx5KHRoaXMudmFsKSkpLHRoaXN9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmFzc2VydE5vdERpc3Bvc2VkKCksdGhpcy52YWwuZGlzcG9zZSgpfSxlLnByb3RvdHlwZS5hc3NlcnROb3REaXNwb3NlZD1mdW5jdGlvbigpe2lmKHRoaXMudmFsLmlzRGlzcG9zZWQpdGhyb3cgbmV3IEVycm9yKFwiTGF5ZXJzVmFyaWFibGUgXCIrdGhpcy5uYW1lK1wiIGlzIGFscmVhZHkgZGlzcG9zZWQuXCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ0cmFpbmFibGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhaW5hYmxlX30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMudHJhaW5hYmxlXz1lLHRoaXMudmFsLnRyYWluYWJsZT1lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGV9KCk7ZnVuY3Rpb24gY2hlY2tTaGFwZXNNYXRjaChlLHQpe2lmKGUuc2hhcGUudG9TdHJpbmcoKSE9PXQuc2hhcGUudG9TdHJpbmcoKSl0aHJvdyBuZXcgRXJyb3IoXCJTaGFwZSBtaXNtYXRjaDogXCIrSlNPTi5zdHJpbmdpZnkoZS5zaGFwZSkrXCIgdnMuIFwiK0pTT04uc3RyaW5naWZ5KHQuc2hhcGUpKX1mdW5jdGlvbiBiYXRjaEdldFZhbHVlKGUpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWFkKCl9KX1mdW5jdGlvbiBiYXRjaFNldFZhbHVlKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtlWzBdLndyaXRlKGVbMV0pfSl9dmFyIElucHV0U3BlYz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt0aGlzLmR0eXBlPWUuZHR5cGUsdGhpcy5zaGFwZT1lLnNoYXBlLG51bGwhPWUuc2hhcGU/dGhpcy5uZGltPWUuc2hhcGUubGVuZ3RoOnRoaXMubmRpbT1lLm5kaW0sdGhpcy5tYXhORGltPWUubWF4TkRpbSx0aGlzLm1pbk5EaW09ZS5taW5ORGltLHRoaXMuYXhlcz1lLmF4ZXN8fHt9fX0oKSxTeW1ib2xpY1RlbnNvcj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQsbixyLGksYSxvKXt0aGlzLmR0eXBlPWUsdGhpcy5zaGFwZT10LHRoaXMuc291cmNlTGF5ZXI9bix0aGlzLmlucHV0cz1yLHRoaXMuY2FsbEFyZ3M9aSx0aGlzLm91dHB1dFRlbnNvckluZGV4PW8sdGhpcy5pZD1nZXROZXh0VW5pcXVlVGVuc29ySWQoKSxudWxsIT1hJiYodGhpcy5vcmlnaW5hbE5hbWU9Z2V0U2NvcGVkVGVuc29yTmFtZShhKSx0aGlzLm5hbWU9Z2V0VW5pcXVlVGVuc29yTmFtZSh0aGlzLm9yaWdpbmFsTmFtZSkpLHRoaXMucmFuaz10Lmxlbmd0aH19KCksX25leHROb2RlSUQ9MCxOb2RlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuY2FsbEFyZ3M9dCx0aGlzLmlkPV9uZXh0Tm9kZUlEKyssdGhpcy5vdXRib3VuZExheWVyPWUub3V0Ym91bmRMYXllcix0aGlzLmluYm91bmRMYXllcnM9ZS5pbmJvdW5kTGF5ZXJzLHRoaXMubm9kZUluZGljZXM9ZS5ub2RlSW5kaWNlcyx0aGlzLnRlbnNvckluZGljZXM9ZS50ZW5zb3JJbmRpY2VzLHRoaXMuaW5wdXRUZW5zb3JzPWUuaW5wdXRUZW5zb3JzLHRoaXMub3V0cHV0VGVuc29ycz1lLm91dHB1dFRlbnNvcnMsdGhpcy5pbnB1dE1hc2tzPWUuaW5wdXRNYXNrcyx0aGlzLm91dHB1dE1hc2tzPWUub3V0cHV0TWFza3MsdGhpcy5pbnB1dFNoYXBlcz1lLmlucHV0U2hhcGVzLHRoaXMub3V0cHV0U2hhcGVzPWUub3V0cHV0U2hhcGVzO2Zvcih2YXIgbj0wLHI9ZS5pbmJvdW5kTGF5ZXJzO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dO251bGwhPWkmJmkub3V0Ym91bmROb2Rlcy5wdXNoKHRoaXMpfWUub3V0Ym91bmRMYXllci5pbmJvdW5kTm9kZXMucHVzaCh0aGlzKX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MCxuPXRoaXMuaW5ib3VuZExheWVyczt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtudWxsIT1yP2UucHVzaChyLm5hbWUpOmUucHVzaChudWxsKX1yZXR1cm57b3V0Ym91bmRMYXllcjp0aGlzLm91dGJvdW5kTGF5ZXI/dGhpcy5vdXRib3VuZExheWVyLm5hbWU6bnVsbCxpbmJvdW5kTGF5ZXJzOmUsbm9kZUluZGljZXM6dGhpcy5ub2RlSW5kaWNlcyx0ZW5zb3JJbmRpY2VzOnRoaXMudGVuc29ySW5kaWNlc319LGV9KCksX25leHRMYXllcklEPTAsTGF5ZXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7bi5fY2FsbEhvb2s9bnVsbCxuLl9hZGRlZFdlaWdodE5hbWVzPVtdLG4uX3N0YXRlZnVsPSExLG4uaWQ9X25leHRMYXllcklEKyssbi5hY3Rpdml0eVJlZ3VsYXJpemVyPW51bGwsbi5pbnB1dFNwZWM9bnVsbCxuLnN1cHBvcnRzTWFza2luZz0hMSxuLl90cmFpbmFibGVXZWlnaHRzPVtdLG4uX25vblRyYWluYWJsZVdlaWdodHM9W10sbi5fbG9zc2VzPVtdLG4uX3VwZGF0ZXM9W10sbi5fYnVpbHQ9ITEsbi5pbmJvdW5kTm9kZXM9W10sbi5vdXRib3VuZE5vZGVzPVtdO3ZhciByPXQubmFtZTtpZighcil7dmFyIGk9bi5nZXRDbGFzc05hbWUoKTtyPXRvU25ha2VDYXNlKGkpK1wiX1wiK2dldFVpZChpKX1pZihuLm5hbWU9cixuLnRyYWluYWJsZV89bnVsbD09dC50cmFpbmFibGV8fHQudHJhaW5hYmxlLG51bGwhPXQuaW5wdXRTaGFwZXx8bnVsbCE9dC5iYXRjaElucHV0U2hhcGUpe3ZhciBhPXZvaWQgMDtpZihudWxsIT10LmJhdGNoSW5wdXRTaGFwZSlhPXQuYmF0Y2hJbnB1dFNoYXBlO2Vsc2UgaWYobnVsbCE9dC5pbnB1dFNoYXBlKXt2YXIgbz1udWxsO251bGwhPXQuYmF0Y2hTaXplJiYobz10LmJhdGNoU2l6ZSksYT1bb10uY29uY2F0KHQuaW5wdXRTaGFwZSl9bi5iYXRjaElucHV0U2hhcGU9YTt2YXIgcz10LmR0eXBlO251bGw9PXMmJihzPXQuaW5wdXREVHlwZSksbnVsbD09cyYmKHM9XCJmbG9hdDMyXCIpLG4uZHR5cGU9c31yZXR1cm4gbnVsbCE9dC53ZWlnaHRzP24uaW5pdGlhbFdlaWdodHM9dC53ZWlnaHRzOm4uaW5pdGlhbFdlaWdodHM9bnVsbCxuLl9yZWZDb3VudD1udWxsLG4uZmFzdFdlaWdodEluaXREdXJpbmdCdWlsZD0hMSxufXJldHVybiBfX2V4dGVuZHModCxlKSx0Lm5vZGVLZXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5uYW1lK1wiX2liLVwiK3QudG9TdHJpbmcoKX0sdC5wcm90b3R5cGUuZ2V0Tm9kZUF0SW5kZXg9ZnVuY3Rpb24oZSx0KXtpZigwPT09dGhpcy5pbmJvdW5kTm9kZXMubGVuZ3RoKXRocm93IG5ldyBSdW50aW1lRXJyb3IoXCJUaGUgbGF5ZXIgaGFzIG5ldmVyIGJlZW4gY2FsbGVkIGFuZCB0aHVzIGhhcyBubyBkZWZpbmVkIFwiK3QrXCIuXCIpO2lmKHRoaXMuaW5ib3VuZE5vZGVzLmxlbmd0aDw9ZSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkFza2VkIHRvIGdldCBcIit0K1wiIGF0IG5vZGUgXCIrZStcIiwgYnV0IHRoZSBsYXllciBoYXMgb25seSBcIit0aGlzLmluYm91bmROb2Rlcy5sZW5ndGgrXCIgaW5ib3VuZCBub2Rlcy5cIik7cmV0dXJuIHRoaXMuaW5ib3VuZE5vZGVzW2VdfSx0LnByb3RvdHlwZS5nZXRJbnB1dEF0PWZ1bmN0aW9uKGUpe3JldHVybiBzaW5nbGV0b25PckFycmF5KHRoaXMuZ2V0Tm9kZUF0SW5kZXgoZSxcImlucHV0XCIpLmlucHV0VGVuc29ycyl9LHQucHJvdG90eXBlLmdldE91dHB1dEF0PWZ1bmN0aW9uKGUpe3JldHVybiBzaW5nbGV0b25PckFycmF5KHRoaXMuZ2V0Tm9kZUF0SW5kZXgoZSxcIm91dHB1dFwiKS5vdXRwdXRUZW5zb3JzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW5wdXRcIix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5pbmJvdW5kTm9kZXMubGVuZ3RoPjEpdGhyb3cgbmV3IEF0dHJpYnV0ZUVycm9yKFwiTGF5ZXIgXCIrdGhpcy5uYW1lKycgaGFzIG11bHRpcGxlIGluYm91bmQgbm9kZXMsIGhlbmNlIHRoZSBub3Rpb24gb2YgXCJsYXllciBpbnB1dFwiIGlzIGlsbC1kZWZpbmVkLiBVc2UgYGdldElucHV0QXQobm9kZUluZGV4KWAgaW5zdGVhZC4nKTtpZigwPT09dGhpcy5pbmJvdW5kTm9kZXMubGVuZ3RoKXRocm93IG5ldyBBdHRyaWJ1dGVFcnJvcihcIkxheWVyIFwiK3RoaXMubmFtZStcIiBpcyBub3QgY29ubmVjdGVkLCBubyBpbnB1dCB0byByZXR1cm4uXCIpO3JldHVybiBzaW5nbGV0b25PckFycmF5KHRoaXMuZ2V0Tm9kZUF0SW5kZXgoMCxcImlucHV0XCIpLmlucHV0VGVuc29ycyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib3V0cHV0XCIse2dldDpmdW5jdGlvbigpe2lmKDA9PT10aGlzLmluYm91bmROb2Rlcy5sZW5ndGgpdGhyb3cgbmV3IEF0dHJpYnV0ZUVycm9yKFwiTGF5ZXIgXCIrdGhpcy5uYW1lK1wiIGhhcyBubyBpbmJvdW5kIG5vZGVzLlwiKTtpZih0aGlzLmluYm91bmROb2Rlcy5sZW5ndGg+MSl0aHJvdyBuZXcgQXR0cmlidXRlRXJyb3IoXCJMYXllciBcIit0aGlzLm5hbWUrJyBoYXMgbXVsdGlwbGUgaW5ib3VuZCBub2RlcywgaGVuY2UgdGhlIG5vdGlvbiBvZiBcImxheWVyIG91dHB1dFwiIGlzIGlsbC1kZWZpbmVkLiBVc2UgYGdldE91dHB1dEF0KG5vZGVJbmRleClgIGluc3RlYWQuJyk7cmV0dXJuIHNpbmdsZXRvbk9yQXJyYXkodGhpcy5nZXROb2RlQXRJbmRleCgwLFwib3V0cHV0XCIpLm91dHB1dFRlbnNvcnMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxvc3Nlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9zc2VzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNhbGN1bGF0ZUxvc3Nlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvc3Nlcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ1cGRhdGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGRhdGVzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJ1aWx0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWlsdH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2J1aWx0PWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidHJhaW5hYmxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYWluYWJsZV99LHNldDpmdW5jdGlvbihlKXt0aGlzLl90cmFpbmFibGVXZWlnaHRzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhaW5hYmxlPWV9KSx0aGlzLnRyYWluYWJsZV89ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ0cmFpbmFibGVXZWlnaHRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYWluYWJsZV8/dGhpcy5fdHJhaW5hYmxlV2VpZ2h0cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhaW5hYmxlfSk6W119LHNldDpmdW5jdGlvbihlKXt0aGlzLl90cmFpbmFibGVXZWlnaHRzPWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibm9uVHJhaW5hYmxlV2VpZ2h0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFpbmFibGU/dGhpcy5fdHJhaW5hYmxlV2VpZ2h0cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUudHJhaW5hYmxlfSkuY29uY2F0KHRoaXMuX25vblRyYWluYWJsZVdlaWdodHMpOnRoaXMuX3RyYWluYWJsZVdlaWdodHMuY29uY2F0KHRoaXMuX25vblRyYWluYWJsZVdlaWdodHMpfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbm9uVHJhaW5hYmxlV2VpZ2h0cz1lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIndlaWdodHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhaW5hYmxlV2VpZ2h0cy5jb25jYXQodGhpcy5ub25UcmFpbmFibGVXZWlnaHRzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzdGF0ZWZ1bFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGVmdWx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmVzZXRTdGF0ZXM9ZnVuY3Rpb24oKXtpZighdGhpcy5zdGF0ZWZ1bCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCB0aGUgcmVzZXRTdGF0ZXMoKSBtZXRob2Qgb2YgYSBub24tc3RhdGVmdWwgTGF5ZXIgb2JqZWN0LlwiKX0sdC5wcm90b3R5cGUuYXNzZXJ0SW5wdXRDb21wYXRpYmlsaXR5PWZ1bmN0aW9uKGUpe2lmKGU9dG9MaXN0KGUpLG51bGwhPXRoaXMuaW5wdXRTcGVjJiYwIT09dGhpcy5pbnB1dFNwZWMubGVuZ3RoKXt2YXIgdD10b0xpc3QodGhpcy5pbnB1dFNwZWMpO2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJMYXllciBcIit0aGlzLm5hbWUrXCIgZXhwZWN0cyBcIit0Lmxlbmd0aCtcIiBpbnB1dHMsIGJ1dCBpdCByZWNlaXZlZCBcIitlLmxlbmd0aCtcIiBpbnB1dCB0ZW5zb3JzLiBJbnB1dCByZWNlaXZlZDogXCIrZSk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl0saT10W25dO2lmKG51bGwhPWkpe3ZhciBhPXIucmFuaztpZihudWxsIT1pLm5kaW0mJmEhPT1pLm5kaW0pdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJbnB1dCBcIituK1wiIGlzIGluY29tcGF0aWJsZSB3aXRoIGxheWVyIFwiK3RoaXMubmFtZStcIjogZXhwZWN0ZWQgbmRpbT1cIitpLm5kaW0rXCIsIGZvdW5kIG5kaW09XCIrYSk7aWYobnVsbCE9aS5tYXhORGltJiZhPmkubWF4TkRpbSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIklucHV0IFwiK24rXCIgaXMgaW5jb21wYXRpYmxlIHdpdGggbGF5ZXIgXCIrdGhpcy5uYW1lK1wiOiBleHBlY3RlZCBtYXhfbmRpbT1cIitpLm1heE5EaW0rXCIsIGZvdW5kIG5kaW09XCIrYSk7aWYobnVsbCE9aS5taW5ORGltJiZhPGkubWluTkRpbSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIklucHV0IFwiK24rXCIgaXMgaW5jb21wYXRpYmxlIHdpdGggbGF5ZXIgXCIrdGhpcy5uYW1lK1wiOiBleHBlY3RlZCBtaW5fbmRpbT1cIitpLm1pbk5EaW0rXCIsIGZvdW5kIG5kaW09XCIrYStcIi5cIik7aWYobnVsbCE9aS5kdHlwZSYmci5kdHlwZSE9PWkuZHR5cGUpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJbnB1dCBcIituK1wiIGlzIGluY29tcGF0aWJsZSB3aXRoIGxheWVyIFwiK3RoaXMubmFtZStcIiA6IGV4cGVjdGVkIGR0eXBlPVwiK2kuZHR5cGUrXCIsIGZvdW5kIGR0eXBlPVwiK3IuZHR5cGUrXCIuXCIpO2lmKGkuYXhlcyl7dmFyIG89ci5zaGFwZTtmb3IodmFyIHMgaW4gaS5heGVzKXt2YXIgbD1OdW1iZXIocyksdT1pLmF4ZXNbc10sYz1sPj0wP29bbF06b1tvLmxlbmd0aCtsXTtpZihudWxsIT11JiYtMT09PVt1LG51bGxdLmluZGV4T2YoYykpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJbnB1dCBcIituK1wiIGlzIGluY29tcGF0aWJsZSB3aXRoIGxheWVyIFwiK3RoaXMubmFtZStcIjogZXhwZWN0ZWQgYXhpcyBcIitsK1wiIG9mIGlucHV0IHNoYXBlIHRvIGhhdmUgdmFsdWUgXCIrdStcIiBidXQgZ290IHNoYXBlIFwiK28rXCIuXCIpfX1pZihudWxsIT1pLnNoYXBlKWZvcih2YXIgcD0wO3A8aS5zaGFwZS5sZW5ndGg7KytwKXt2YXIgaD1pLnNoYXBlW3BdLGQ9ci5zaGFwZVtwXTtpZihudWxsIT1oJiZudWxsIT1kJiZoIT09ZCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIklucHV0IFwiK24rXCIgaXMgaW5jb21wYXRpYmxlIHdpdGggbGF5ZXIgXCIrdGhpcy5uYW1lK1wiOiBleHBlY3RlZCBzaGFwZT1cIitpLnNoYXBlK1wiLCBmb3VuZCBzaGFwZT1cIityLnNoYXBlK1wiLlwiKX19fX19LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZX0sdC5wcm90b3R5cGUuaW52b2tlQ2FsbEhvb2s9ZnVuY3Rpb24oZSx0KXtudWxsIT10aGlzLl9jYWxsSG9vayYmdGhpcy5fY2FsbEhvb2soZSx0KX0sdC5wcm90b3R5cGUuc2V0Q2FsbEhvb2s9ZnVuY3Rpb24oZSl7dGhpcy5fY2FsbEhvb2s9ZX0sdC5wcm90b3R5cGUuY2xlYXJDYWxsSG9vaz1mdW5jdGlvbigpe3RoaXMuX2NhbGxIb29rPW51bGx9LHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczt0PXR8fHt9LHRoaXMuYXNzZXJ0Tm90RGlzcG9zZWQoKTtmb3IodmFyIHI9dG9MaXN0KGUpLGk9ITAsYT0wLG89cjthPG8ubGVuZ3RoO2ErKyl7aWYoIShvW2FdaW5zdGFuY2VvZiBTeW1ib2xpY1RlbnNvcikpe2k9ITE7YnJlYWt9fWZvcih2YXIgcz0hMCxsPTAsdT1yO2w8dS5sZW5ndGg7bCsrKXtpZih1W2xdaW5zdGFuY2VvZiBTeW1ib2xpY1RlbnNvcil7cz0hMTticmVha319aWYoaT09PXMpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJBcmd1bWVudHMgdG8gYXBwbHkoKSBtdXN0IGJlIGFsbCBTeW1ib2xpY1RlbnNvcnMgb3IgYWxsIFRlbnNvcnNcIik7cmV0dXJuIG5hbWVTY29wZSh0aGlzLm5hbWUsZnVuY3Rpb24oKXtpZighbi5idWlsdCl7bi5hc3NlcnRJbnB1dENvbXBhdGliaWxpdHkoZSk7Zm9yKHZhciBpPVtdLGE9MCxvPXRvTGlzdChlKTthPG8ubGVuZ3RoO2ErKyl7dmFyIGw9b1thXTtpLnB1c2gobC5zaGFwZSl9bi5idWlsZChzaW5nbGV0b25PckFycmF5KGkpKSxuLmJ1aWx0PSEwLG4uaW5pdGlhbFdlaWdodHMmJm4uc2V0V2VpZ2h0cyhuLmluaXRpYWxXZWlnaHRzKSxudWxsPT09bi5fcmVmQ291bnQmJnMmJihuLl9yZWZDb3VudD0xKX1pZihuLmFzc2VydElucHV0Q29tcGF0aWJpbGl0eShlKSxzKXtmb3IodmFyIHU9W10sYz0wLHA9dG9MaXN0KGc9bi5jYWxsKGUsdCkpO2M8cC5sZW5ndGg7YysrKXt2YXIgaD1wW2NdOy0xIT09ci5pbmRleE9mKGgpJiYoaD1oLmNsb25lKCkpLHUucHVzaChoKX1pZihnPXNpbmdsZXRvbk9yQXJyYXkodSksbnVsbCE9bi5hY3Rpdml0eVJlZ3VsYXJpemVyKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiTGF5ZXIgaW52b2NhdGlvbiBpbiB0aGUgcHJlc2VuY2Ugb2YgYWN0aXZpdHkgcmVndWxhcml6ZXIocykgaXMgbm90IHN1cHBvcnRlZCB5ZXQuXCIpO3JldHVybiBnfXZhciBkPWNvbGxlY3RJbnB1dFNoYXBlKGUpLGY9bi5jb21wdXRlT3V0cHV0U2hhcGUoZCksZz12b2lkIDAsbT1ndWVzc091dHB1dERUeXBlKGUpO2lmKG4ud2Fybk9uSW5jb21wYXRpYmxlSW5wdXRTaGFwZShBcnJheS5pc0FycmF5KGUpP2RbMF06ZCksZz1udWxsIT1mJiZmLmxlbmd0aD4wJiZBcnJheS5pc0FycmF5KGZbMF0pP2YubWFwKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIG5ldyBTeW1ib2xpY1RlbnNvcihtLHIsbix0b0xpc3QoZSksdCxuLm5hbWUsaSl9KTpuZXcgU3ltYm9saWNUZW5zb3IobSxmLG4sdG9MaXN0KGUpLHQsbi5uYW1lKSxuLmFkZEluYm91bmROb2RlKGUsZyxudWxsLG51bGwsZCxmLHQpLG4uX3JlZkNvdW50KyssbnVsbCE9bi5hY3Rpdml0eVJlZ3VsYXJpemVyKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiTGF5ZXIgaW52b2NhdGlvbiBpbiB0aGUgcHJlc2VuY2Ugb2YgYWN0aXZpdHkgcmVndWxhcml6ZXIocykgaXMgbm90IHN1cHBvcnRlZCB5ZXQuXCIpO3JldHVybiBnfSl9LHQucHJvdG90eXBlLndhcm5PbkluY29tcGF0aWJsZUlucHV0U2hhcGU9ZnVuY3Rpb24oZSl7aWYobnVsbCE9dGhpcy5iYXRjaElucHV0U2hhcGUpaWYoZS5sZW5ndGghPT10aGlzLmJhdGNoSW5wdXRTaGFwZS5sZW5ndGgpY29uc29sZS53YXJuKFwiVGhlIHJhbmsgb2YgdGhlIGlucHV0IHRlbnNvciBwcm92aWRlZCAoc2hhcGU6IFwiK0pTT04uc3RyaW5naWZ5KGUpK1wiKSBkb2VzIG5vdCBtYXRjaCB0aGF0IG9mIHRoZSBiYXRjaElucHV0U2hhcGUgKFwiK0pTT04uc3RyaW5naWZ5KHRoaXMuYmF0Y2hJbnB1dFNoYXBlKStcIikgb2YgdGhlIGxheWVyIFwiK3RoaXMubmFtZSk7ZWxzZXt2YXIgdD0hMTt0aGlzLmJhdGNoSW5wdXRTaGFwZS5mb3JFYWNoKGZ1bmN0aW9uKG4scil7bnVsbCE9biYmbnVsbCE9ZVtyXSYmZVtyXSE9PW4mJih0PSEwKX0pLHQmJmNvbnNvbGUud2FybihcIlRoZSBzaGFwZSBvZiB0aGUgaW5wdXQgdGVuc29yIChcIitKU09OLnN0cmluZ2lmeShlKStcIikgZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGF0aW9uIG9mIGxheWVyIFwiK3RoaXMubmFtZStcIjogXCIrSlNPTi5zdHJpbmdpZnkodGhpcy5iYXRjaElucHV0U2hhcGUpKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm91dHB1dFNoYXBlXCIse2dldDpmdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuaW5ib3VuZE5vZGVzfHwwPT09dGhpcy5pbmJvdW5kTm9kZXMubGVuZ3RoKXRocm93IG5ldyBBdHRyaWJ1dGVFcnJvcihcIlRoZSBsYXllciBcIit0aGlzLm5hbWUrXCIgaGFzIG5ldmVyIGJlZW4gY2FsbGVkIGFuZCB0aHVzIGhhcyBubyBkZWZpbmVkIG91dHB1dCBzaGFwZS5cIik7Zm9yKHZhciBlPVtdLHQ9MCxuPXRoaXMuaW5ib3VuZE5vZGVzO3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1uW3RdLGk9SlNPTi5zdHJpbmdpZnkoci5vdXRwdXRTaGFwZXMpOy0xPT09ZS5pbmRleE9mKGkpJiZlLnB1c2goaSl9aWYoMT09PWUubGVuZ3RoKXt2YXIgYT10aGlzLmluYm91bmROb2Rlc1swXS5vdXRwdXRTaGFwZXM7cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJkFycmF5LmlzQXJyYXkoYVswXSkmJjE9PT1hLmxlbmd0aD9hWzBdOmF9dGhyb3cgbmV3IEF0dHJpYnV0ZUVycm9yKFwiVGhlIGxheWVyIFwiK3RoaXMubmFtZSsnIGhhcyBtdWx0aXBsZSBpbmJvdW5kIG5vZGVzIHdpdGggZGlmZmVyZW50IG91dHB1dCBzaGFwZXMuIEhlbmNlIHRoZSBub3Rpb24gb2YgXCJvdXR1dCBzaGFwZVwiIGlzIGlsbC1kZWZpbmVkIGZvciB0aGUgbGF5ZXIuJyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY291bnRQYXJhbXM9ZnVuY3Rpb24oKXtpZighdGhpcy5idWlsdCl0aHJvdyBuZXcgUnVudGltZUVycm9yKFwiWW91IHRyaWVkIHRvIGNhbGwgY291bnRQYXJhbXMoKSBvbiBcIit0aGlzLm5hbWUrXCIsIGJ1dCB0aGUgbGF5ZXIgaXMgbm90IGJ1aWx0IHlldC4gQnVpbGQgaXQgZmlyc3QgYnkgY2FsbGluZyBidWlsZChiYXRjaElucHV0U2hhcGUpLlwiKTtyZXR1cm4gY291bnRQYXJhbXNJbldlaWdodHModGhpcy53ZWlnaHRzKX0sdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSl7dGhpcy5idWlsdD0hMH0sdC5wcm90b3R5cGUuZ2V0V2VpZ2h0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLGJhdGNoR2V0VmFsdWUoZT90aGlzLnRyYWluYWJsZVdlaWdodHM6dGhpcy53ZWlnaHRzKX0sdC5wcm90b3R5cGUuc2V0V2VpZ2h0cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RpZHkoZnVuY3Rpb24oKXt2YXIgbj10LndlaWdodHM7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcignWW91IGNhbGxlZCBzZXRXZWlnaHRzKHdlaWdodHMpIG9uIGxheWVyIFwiJyt0Lm5hbWUrJ1wiIHdpdGggYSB3ZWlnaHQgbGlzdCBvZiBsZW5ndGggJytlLmxlbmd0aCtcIiwgYnV0IHRoZSBsYXllciB3YXMgZXhwZWN0aW5nIFwiK24ubGVuZ3RoK1wiIHdlaWdodHMuIFByb3ZpZGVkIHdlaWdodHM6IFwiK2UrXCIuLi5cIik7aWYoMCE9PW4ubGVuZ3RoKXtmb3IodmFyIHI9W10saT1iYXRjaEdldFZhbHVlKG4pLGE9MDthPGkubGVuZ3RoOysrYSl7dmFyIG89aVthXSxzPW5bYV0sbD1lW2FdO2lmKCF1dGlsLmFycmF5c0VxdWFsKG8uc2hhcGUsbC5zaGFwZSkpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJMYXllciB3ZWlnaHQgc2hhcGUgXCIrby5zaGFwZStcIiBub3QgY29tcGF0aWJsZSB3aXRoIHByb3ZpZGVkIHdlaWdodCBzaGFwZSBcIitsLnNoYXBlKTtyLnB1c2goW3MsbF0pfWJhdGNoU2V0VmFsdWUocil9fSl9LHQucHJvdG90eXBlLmFkZFdlaWdodD1mdW5jdGlvbihlLHQsbixyLGksYSxvKXtpZigtMSE9PXRoaXMuX2FkZGVkV2VpZ2h0TmFtZXMuaW5kZXhPZihlKSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkR1cGxpY2F0ZSB3ZWlnaHQgbmFtZSBcIitlK1wiIGZvciBsYXllciBcIit0aGlzLm5hbWUpO3RoaXMuX2FkZGVkV2VpZ2h0TmFtZXMucHVzaChlKSxudWxsPT1uJiYobj1cImZsb2F0MzJcIiksdGhpcy5mYXN0V2VpZ2h0SW5pdER1cmluZ0J1aWxkJiYocj1nZXRJbml0aWFsaXplcihcInplcm9zXCIpKTt2YXIgcz1yLmFwcGx5KHQsbiksbD1uZXcgTGF5ZXJWYXJpYWJsZShzLG4sZSxhLG8pO3JldHVybiBzLmRpc3Bvc2UoKSxudWxsIT1pJiZ0aGlzLmFkZExvc3MoZnVuY3Rpb24oKXtyZXR1cm4gaS5hcHBseShsLnJlYWQoKSl9KSxudWxsPT1hJiYoYT0hMCksYT90aGlzLl90cmFpbmFibGVXZWlnaHRzLnB1c2gobCk6dGhpcy5fbm9uVHJhaW5hYmxlV2VpZ2h0cy5wdXNoKGwpLGx9LHQucHJvdG90eXBlLnNldEZhc3RXZWlnaHRJbml0RHVyaW5nQnVpbGQ9ZnVuY3Rpb24oZSl7dGhpcy5mYXN0V2VpZ2h0SW5pdER1cmluZ0J1aWxkPWV9LHQucHJvdG90eXBlLmFkZExvc3M9ZnVuY3Rpb24oZSl7dmFyIHQ7bnVsbD09ZXx8QXJyYXkuaXNBcnJheShlKSYmMD09PWUubGVuZ3RofHwoZT10b0xpc3QoZSksdm9pZCAwIT09dGhpcy5fbG9zc2VzJiZudWxsIT09dGhpcy5fbG9zc2VzJiYodD10aGlzLmxvc3NlcykucHVzaC5hcHBseSh0LGUpKX0sdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlfSx0LnByb3RvdHlwZS5jb21wdXRlTWFzaz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7aWYoIXRoaXMuc3VwcG9ydHNNYXNraW5nKXtpZihudWxsIT10KXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTGF5ZXIgXCIrdGhpcy5uYW1lK1wiIGRvZXMgbm90IHN1cHBvcnQgbWFza2luZywgYnV0IHdhcyBwYXNzZWQgYW4gaW5wdXRNYXNrLlwiKTt0LmZvckVhY2goZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTGF5ZXIgXCIrbi5uYW1lK1wiIGRvZXMgbm90IHN1cHBvcnQgbWFza2luZywgYnV0IHdhcyBwYXNzZWQgYW4gaW5wdXRNYXNrLlwiKX0pfXJldHVybiBudWxsfXJldHVybiB0fSx0LnByb3RvdHlwZS5hZGRJbmJvdW5kTm9kZT1mdW5jdGlvbihlLHQsbixyLGksYSxvKXt2b2lkIDA9PT1vJiYobz1udWxsKTt2YXIgcz10b0xpc3QoZSk7dD10b0xpc3QodCksbj10b0xpc3Qobikscj10b0xpc3QociksaT1ub3JtYWxpemVTaGFwZUxpc3QoaSksYT1ub3JtYWxpemVTaGFwZUxpc3QoYSk7Zm9yKHZhciBsPVtdLHU9W10sYz1bXSxwPTAsaD1zO3A8aC5sZW5ndGg7cCsrKXt2YXIgZD1oW3BdO2wucHVzaChkLnNvdXJjZUxheWVyKSx1LnB1c2goZC5ub2RlSW5kZXgpLGMucHVzaChkLnRlbnNvckluZGV4KX1uZXcgTm9kZSh7b3V0Ym91bmRMYXllcjp0aGlzLGluYm91bmRMYXllcnM6bCxub2RlSW5kaWNlczp1LHRlbnNvckluZGljZXM6YyxpbnB1dFRlbnNvcnM6cyxvdXRwdXRUZW5zb3JzOnQsaW5wdXRNYXNrczpuLG91dHB1dE1hc2tzOnIsaW5wdXRTaGFwZXM6aSxvdXRwdXRTaGFwZXM6YX0sbyk7Zm9yKHZhciBmPTA7Zjx0Lmxlbmd0aDtmKyspdFtmXS5zb3VyY2VMYXllcj10aGlzLHRbZl0ubm9kZUluZGV4PXRoaXMuaW5ib3VuZE5vZGVzLmxlbmd0aC0xLHRbZl0udGVuc29ySW5kZXg9Zn0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIGU9e25hbWU6dGhpcy5uYW1lLHRyYWluYWJsZTp0aGlzLnRyYWluYWJsZX07cmV0dXJuIG51bGwhPXRoaXMuYmF0Y2hJbnB1dFNoYXBlJiYoZS5iYXRjaElucHV0U2hhcGU9dGhpcy5iYXRjaElucHV0U2hhcGUpLG51bGwhPXRoaXMuZHR5cGUmJihlLmR0eXBlPXRoaXMuZHR5cGUpLGV9LHQucHJvdG90eXBlLmRpc3Bvc2VXZWlnaHRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2VpZ2h0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc3Bvc2UoKX0pLHRoaXMud2VpZ2h0cy5sZW5ndGh9LHQucHJvdG90eXBlLmFzc2VydE5vdERpc3Bvc2VkPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMuX3JlZkNvdW50KXRocm93IG5ldyBFcnJvcihcIkxheWVyICdcIit0aGlzLm5hbWUrXCInIGlzIGFscmVhZHkgZGlzcG9zZWQuXCIpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYnVpbHQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGRpc3Bvc2UgTGF5ZXIgXCIrdGhpcy5uYW1lK1wiIGJlY2F1c2UgaXQgaGFzIG5vdCBiZWVuIGJ1aWx0IHlldC5cIik7aWYobnVsbD09PXRoaXMuX3JlZkNvdW50KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBkaXNwb3NlIExheWVyIFwiK3RoaXMubmFtZStcIiBiZWNhdXNlIGl0IGhhcyBub3QgYmVlbiB1c2VkIHlldC5cIik7dGhpcy5hc3NlcnROb3REaXNwb3NlZCgpO3ZhciBlPTA7cmV0dXJuIDA9PS0tdGhpcy5fcmVmQ291bnQmJihlPXRoaXMuZGlzcG9zZVdlaWdodHMoKSkse3JlZkNvdW50QWZ0ZXJEaXNwb3NlOnRoaXMuX3JlZkNvdW50LG51bURpc3Bvc2VkVmFyaWFibGVzOmV9fSx0fShzZXJpYWxpemF0aW9uLlNlcmlhbGl6YWJsZSk7ZnVuY3Rpb24gY29sbGVjdElucHV0U2hhcGUoZSl7Zm9yKHZhciB0PVtdLG49MCxyPWU9dG9MaXN0KGUpO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dO3QucHVzaChpLnNoYXBlKX1yZXR1cm4gc2luZ2xldG9uT3JBcnJheSh0KX1mdW5jdGlvbiBndWVzc091dHB1dERUeXBlKGUpe3JldHVyblwiZmxvYXQzMlwifWZ1bmN0aW9uIGdldFNvdXJjZUlucHV0cyhlLHQsbil7aWYoKG51bGw9PXR8fG51bGwhPW4mJm4+MCkmJih0PWUuc291cmNlTGF5ZXIsbj1lLm5vZGVJbmRleCksMD09PXQuaW5ib3VuZE5vZGVzLmxlbmd0aClyZXR1cm5bZV07dmFyIHI9dC5pbmJvdW5kTm9kZXNbbl07aWYoMD09PXIuaW5ib3VuZExheWVycy5sZW5ndGgpcmV0dXJuIHIuaW5wdXRUZW5zb3JzO2Zvcih2YXIgaT1bXSxhPTA7YTxyLmluYm91bmRMYXllcnMubGVuZ3RoO2ErKylmb3IodmFyIG89MCxzPWdldFNvdXJjZUlucHV0cyhyLmlucHV0VGVuc29yc1thXSxyLmluYm91bmRMYXllcnNbYV0sci5ub2RlSW5kaWNlc1thXSk7bzxzLmxlbmd0aDtvKyspe3ZhciBsPXNbb107LTE9PT1pLmluZGV4T2YobCkmJmkucHVzaChsKX1yZXR1cm4gaX12YXIgTW9kZWxMb2dnaW5nVmVyYm9zaXR5LElucHV0TGF5ZXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx7ZHR5cGU6dC5kdHlwZSxuYW1lOm51bGwhPXQubmFtZT90Lm5hbWU6Z2V0VWlkKFwiaW5wdXRcIikudG9TdHJpbmcoKX0pfHx0aGlzO2lmKG51bGw9PXQuYmF0Y2hTaXplJiYodC5iYXRjaFNpemU9bnVsbCksbnVsbD09dC5zcGFyc2UmJih0LnNwYXJzZT0hMSksbi50cmFpbmFibGU9ITEsbi5idWlsdD0hMCxuLnNwYXJzZT10LnNwYXJzZSxudWxsIT10LmlucHV0U2hhcGUmJm51bGwhPXQuYmF0Y2hJbnB1dFNoYXBlKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiT25seSBwcm92aWRlIHRoZSBpbnB1dFNoYXBlIE9SIGJhdGNoSW5wdXRTaGFwZSBhcmd1bWVudCB0byBpbnB1dExheWVyLCBub3QgYm90aCBhdCB0aGUgc2FtZSB0aW1lLlwiKTt2YXIgcj10LmJhdGNoSW5wdXRTaGFwZTtpZihudWxsPT1yKXtpZihudWxsPT10LmlucHV0U2hhcGUpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJBbiBJbnB1dExheWVyIHNob3VsZCBiZSBwYXNzZWQgZWl0aGVyIGEgYGJhdGNoSW5wdXRTaGFwZWAgb3IgYW4gYGlucHV0U2hhcGVgLlwiKTtyPVt0LmJhdGNoU2l6ZV0uY29uY2F0KHQuaW5wdXRTaGFwZSl9ZWxzZSBpZihudWxsIT10LmJhdGNoU2l6ZSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkNhbm5vdCBzcGVjaWZ5IGJhdGNoU2l6ZSBpZiBiYXRjaElucHV0U2hhcGUgaXMgc3BlY2lmaWVkIHdoZW4gY3JlYXRpbmcgYW4gSW5wdXRMYXllci5cIik7dmFyIGk9dC5kdHlwZXx8XCJmbG9hdDMyXCI7bi5iYXRjaElucHV0U2hhcGU9cixuLmR0eXBlPWksbi5pbnB1dFNwZWM9W3tzaGFwZTpyfV07dmFyIGE9bmV3IFN5bWJvbGljVGVuc29yKG4uZHR5cGUsbi5iYXRjaElucHV0U2hhcGUsbixbXSx7fSxuLm5hbWUpO3JldHVybiBhLm5vZGVJbmRleD0wLGEudGVuc29ySW5kZXg9MCxuZXcgTm9kZSh7b3V0Ym91bmRMYXllcjpuLGluYm91bmRMYXllcnM6W10sbm9kZUluZGljZXM6W10sdGVuc29ySW5kaWNlczpbXSxpbnB1dFRlbnNvcnM6W2FdLG91dHB1dFRlbnNvcnM6W2FdLGlucHV0TWFza3M6W251bGxdLG91dHB1dE1hc2tzOltudWxsXSxpbnB1dFNoYXBlczpbcl0sb3V0cHV0U2hhcGVzOltyXX0pLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUsdCl7dGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJDYW5ub3QgcGFzcyBhbnkgaW5wdXQgdG8gYW4gSW5wdXRMYXllcidzIGFwcGx5KCkgbWV0aG9kLiBJbnB1dExheWVyIG5hbWU6IFwiK3RoaXMubmFtZSl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm57cmVmQ291bnRBZnRlckRpc3Bvc2U6dGhpcy5fcmVmQ291bnQsbnVtRGlzcG9zZWRWYXJpYWJsZXM6MH19LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybntiYXRjaElucHV0U2hhcGU6dGhpcy5iYXRjaElucHV0U2hhcGUsZHR5cGU6dGhpcy5kdHlwZSxzcGFyc2U6dGhpcy5zcGFyc2UsbmFtZTp0aGlzLm5hbWV9fSx0LmNsYXNzTmFtZT1cIklucHV0TGF5ZXJcIix0fShMYXllcik7ZnVuY3Rpb24gSW5wdXQoZSl7aWYobnVsbD09ZS5iYXRjaFNoYXBlJiZudWxsPT1lLnNoYXBlKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIHRvIElucHV0IGVpdGhlciBhIGBzaGFwZWAgb3IgYSBgYmF0Y2hTaGFwZWAgYXJndW1lbnQuIE5vdGUgdGhhdCBgc2hhcGVgIGRvZXMgbm90IGluY2x1ZGUgdGhlIGJhdGNoIGRpbWVuc2lvbi5cIik7aWYobnVsbCE9ZS5iYXRjaFNoYXBlJiZudWxsIT1lLnNoYXBlKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiUGxlYXNlIHByb3ZpZGUgZWl0aGVyIGEgYHNoYXBlYCBvciBgYmF0Y2hTaGFwZWAgYXJndW1lbnQgdG8gSW5wdXQsIGJ1dCBub3QgYm90aC5cIik7dmFyIHQ9ZS5iYXRjaFNoYXBlO251bGwhPWUuc2hhcGUmJm51bGw9PXQmJih0PVtudWxsXS5jb25jYXQoZS5zaGFwZSkpO3ZhciBuPWUuZHR5cGU7cmV0dXJuIG51bGw9PW4mJihuPVwiZmxvYXQzMlwiKSxuZXcgSW5wdXRMYXllcih7YmF0Y2hJbnB1dFNoYXBlOnQsbmFtZTplLm5hbWUsZHR5cGU6bixzcGFyc2U6ZS5zcGFyc2V9KS5pbmJvdW5kTm9kZXNbMF0ub3V0cHV0VGVuc29yc1swXX1mdW5jdGlvbiByZXNvbHZlU2NhbGFyc0luTG9ncyhlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LG4scixpLGEsbyxzLGw7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDppZihudWxsPT1lKXJldHVyblsyXTtmb3IoaSBpbiB0PVtdLG49W10scj1bXSxlKVwibnVtYmVyXCIhPXR5cGVvZihhPWVbaV0pJiYobz1hLHQucHVzaChvLmRhdGEoKSksbi5wdXNoKGkpLHIucHVzaChvKSk7cmV0dXJuIHQubGVuZ3RoPjA/WzQsUHJvbWlzZS5hbGwodCldOlszLDJdO2Nhc2UgMTpmb3Iocz11LnNlbnQoKSxsPTA7bDxzLmxlbmd0aDsrK2wpZVtuW2xdXT1zW2xdWzBdO2Rpc3Bvc2UociksdS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSl9KX1mdW5jdGlvbiBkaXNwb3NlVGVuc29yc0luTG9ncyhlKXtpZihudWxsIT1lKWZvcih2YXIgdCBpbiBlKXt2YXIgbj1lW3RdO1wibnVtYmVyXCIhPXR5cGVvZiBuJiZuLmRpc3Bvc2UoKX19c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKElucHV0TGF5ZXIpLGZ1bmN0aW9uKGUpe2VbZS5TSUxFTlQ9MF09XCJTSUxFTlRcIixlW2UuVkVSQk9TRT0xXT1cIlZFUkJPU0VcIn0oTW9kZWxMb2dnaW5nVmVyYm9zaXR5fHwoTW9kZWxMb2dnaW5nVmVyYm9zaXR5PXt9KSk7dmFyIERFRkFVTFRfWUlFTERfRVZFUllfTVM9MTI1LEJhc2VDYWxsYmFjaz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnZhbGlkYXRpb25EYXRhPW51bGx9cmV0dXJuIGUucHJvdG90eXBlLnNldFBhcmFtcz1mdW5jdGlvbihlKXt0aGlzLnBhcmFtcz1lfSxlLnByb3RvdHlwZS5vbkVwb2NoQmVnaW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVyblsyXX0pfSl9LGUucHJvdG90eXBlLm9uRXBvY2hFbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVyblsyXX0pfSl9LGUucHJvdG90eXBlLm9uQmF0Y2hCZWdpbj1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuWzJdfSl9KX0sZS5wcm90b3R5cGUub25CYXRjaEVuZD1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuWzJdfSl9KX0sZS5wcm90b3R5cGUub25UcmFpbkJlZ2luPWZ1bmN0aW9uKGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuWzJdfSl9KX0sZS5wcm90b3R5cGUub25UcmFpbkVuZD1mdW5jdGlvbihlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVyblsyXX0pfSl9LGUucHJvdG90eXBlLnNldE1vZGVsPWZ1bmN0aW9uKGUpe30sZX0oKSxDYWxsYmFja0xpc3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dm9pZCAwPT09dCYmKHQ9MTApLG51bGw9PWUmJihlPVtdKSx0aGlzLmNhbGxiYWNrcz1lLHRoaXMucXVldWVMZW5ndGg9dH1yZXR1cm4gZS5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUpe3RoaXMuY2FsbGJhY2tzLnB1c2goZSl9LGUucHJvdG90eXBlLnNldFBhcmFtcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMuY2FsbGJhY2tzO3Q8bi5sZW5ndGg7dCsrKXtuW3RdLnNldFBhcmFtcyhlKX19LGUucHJvdG90eXBlLnNldE1vZGVsPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5jYWxsYmFja3M7dDxuLmxlbmd0aDt0Kyspe25bdF0uc2V0TW9kZWwoZSl9fSxlLnByb3RvdHlwZS5vbkVwb2NoQmVnaW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLHI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpudWxsPT10JiYodD17fSksbj0wLHI9dGhpcy5jYWxsYmFja3MsaS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gbjxyLmxlbmd0aD9bNCxyW25dLm9uRXBvY2hCZWdpbihlLHQpXTpbMyw0XTtjYXNlIDI6aS5zZW50KCksaS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gbisrLFszLDFdO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0sZS5wcm90b3R5cGUub25FcG9jaEVuZD1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4scjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOm51bGw9PXQmJih0PXt9KSxuPTAscj10aGlzLmNhbGxiYWNrcyxpLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBuPHIubGVuZ3RoP1s0LHJbbl0ub25FcG9jaEVuZChlLHQpXTpbMyw0XTtjYXNlIDI6aS5zZW50KCksaS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gbisrLFszLDFdO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0sZS5wcm90b3R5cGUub25CYXRjaEJlZ2luPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixyO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6bnVsbD09dCYmKHQ9e30pLG49MCxyPXRoaXMuY2FsbGJhY2tzLGkubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG48ci5sZW5ndGg/WzQscltuXS5vbkJhdGNoQmVnaW4oZSx0KV06WzMsNF07Y2FzZSAyOmkuc2VudCgpLGkubGFiZWw9MztjYXNlIDM6cmV0dXJuIG4rKyxbMywxXTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9LGUucHJvdG90eXBlLm9uQmF0Y2hFbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLHI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpudWxsPT10JiYodD17fSksbj0wLHI9dGhpcy5jYWxsYmFja3MsaS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gbjxyLmxlbmd0aD9bNCxyW25dLm9uQmF0Y2hFbmQoZSx0KV06WzMsNF07Y2FzZSAyOmkuc2VudCgpLGkubGFiZWw9MztjYXNlIDM6cmV0dXJuIG4rKyxbMywxXTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9LGUucHJvdG90eXBlLm9uVHJhaW5CZWdpbj1mdW5jdGlvbihlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LG47cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpudWxsPT1lJiYoZT17fSksdD0wLG49dGhpcy5jYWxsYmFja3Msci5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdDxuLmxlbmd0aD9bNCxuW3RdLm9uVHJhaW5CZWdpbihlKV06WzMsNF07Y2FzZSAyOnIuc2VudCgpLHIubGFiZWw9MztjYXNlIDM6cmV0dXJuIHQrKyxbMywxXTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9LGUucHJvdG90eXBlLm9uVHJhaW5FbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdCxuO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6bnVsbD09ZSYmKGU9e30pLHQ9MCxuPXRoaXMuY2FsbGJhY2tzLHIubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQ8bi5sZW5ndGg/WzQsblt0XS5vblRyYWluRW5kKGUpXTpbMyw0XTtjYXNlIDI6ci5zZW50KCksci5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gdCsrLFszLDFdO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0sZX0oKSxCYXNlTG9nZ2VyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5vbkVwb2NoQmVnaW49ZnVuY3Rpb24oZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZWVuPTAsdGhpcy50b3RhbHM9e30sWzJdfSl9KX0sdC5wcm90b3R5cGUub25CYXRjaEVuZD1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksYT10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKG8pe2ZvcihpIGluIG51bGw9PXQmJih0PXt9KSxlPW51bGw9PXQuc2l6ZT8wOnQuc2l6ZSx0aGlzLnNlZW4rPWUsbj1mdW5jdGlvbihuKXt2YXIgaT10W25dO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBpKXIudG90YWxzLmhhc093blByb3BlcnR5KG4pfHwoci50b3RhbHNbbl09MCksci50b3RhbHNbbl09ci50b3RhbHNbbl0raSplO2Vsc2V7dmFyIG89dm9pZCAwO24gaW4gci50b3RhbHM/bz1yLnRvdGFsc1tuXTpyLnRvdGFsc1tuXT0wO3ZhciBzPXRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gYWRkKGEudG90YWxzW25dLG11bChpLGUpKX0pO3IudG90YWxzW25dPXMsbnVsbCE9byYmby5kaXNwb3NlKCl9fSxyPXRoaXMsdCluKGkpO3JldHVyblsyXX0pfSl9LHQucHJvdG90eXBlLm9uRXBvY2hFbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scixpLGEsbz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHMpe2lmKG51bGwhPXQpZm9yKGU9ZnVuY3Rpb24oZSl7aWYobnVsbD09bi50b3RhbHNbZV0pcmV0dXJuXCJjb250aW51ZVwiO1wibnVtYmVyXCI9PXR5cGVvZiBuLnRvdGFsc1tlXT90W2VdPW4udG90YWxzW2VdL24uc2Vlbjp0aWR5KGZ1bmN0aW9uKCl7dmFyIG49bXVsKGRpdigxLG8uc2Vlbiksby50b3RhbHNbZV0pO3RbZV09bixvLnRvdGFsc1tlXS5kaXNwb3NlKCksa2VlcCh0W2VdKX0pfSxuPXRoaXMscj0wLGk9dGhpcy5wYXJhbXMubWV0cmljcztyPGkubGVuZ3RoO3IrKylhPWlbcl0sZShhKTtyZXR1cm5bMl19KX0pfSx0fShCYXNlQ2FsbGJhY2spLEhpc3Rvcnk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLm9uVHJhaW5CZWdpbj1mdW5jdGlvbihlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVwb2NoPVtdLHRoaXMuaGlzdG9yeT17fSxbMl19KX0pfSx0LnByb3RvdHlwZS5vbkVwb2NoRW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihyKXtmb3IobiBpbiBudWxsPT10JiYodD17fSksdGhpcy5lcG9jaC5wdXNoKGUpLHQpbnVsbD09dGhpcy5oaXN0b3J5W25dJiYodGhpcy5oaXN0b3J5W25dPVtdKSx0aGlzLmhpc3Rvcnlbbl0ucHVzaCh0W25dKTtyZXR1cm5bMl19KX0pfSx0LnByb3RvdHlwZS5zeW5jRGF0YT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxhLG8scyxsO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6Zm9yKHIgaW4gZT1bXSx0PVtdLG49W10sdGhpcy5oaXN0b3J5KWZvcihpPXRoaXMuaGlzdG9yeVtyXSxhPTA7YTxpLmxlbmd0aDsrK2EpXCJudW1iZXJcIiE9dHlwZW9mIGlbYV0mJihvPWlbYV0sZS5wdXNoKG8uZGF0YSgpKSx0LnB1c2gociksbi5wdXNoKGEpKTtyZXR1cm5bNCxQcm9taXNlLmFsbChlKV07Y2FzZSAxOmZvcihzPXUuc2VudCgpLGw9MDtsPHMubGVuZ3RoOysrbCl0aGlzLmhpc3RvcnlbdFtsXV1bbltsXV0uZGlzcG9zZSgpLHRoaXMuaGlzdG9yeVt0W2xdXVtuW2xdXT1zW2xdWzBdO3JldHVyblsyXX19KX0pfSx0fShCYXNlQ2FsbGJhY2spLEN1c3RvbUNhbGxiYWNrPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7aWYoci5jdXJyZW50RXBvY2g9MCxyLnlpZWxkRXZlcnk9bnx8XCJhdXRvXCIsXCJhdXRvXCI9PT1yLnlpZWxkRXZlcnkmJihyLnlpZWxkRXZlcnk9REVGQVVMVF9ZSUVMRF9FVkVSWV9NUyksXCJuZXZlclwiPT09ci55aWVsZEV2ZXJ5JiZudWxsIT10Lm9uWWllbGQpdGhyb3cgbmV3IEVycm9yKFwieWllbGRFdmVyeSBpcyBgbmV2ZXJgIGJ1dCB5b3UgcHJvdmlkZWQgYW4gYG9uWWllbGRgIGNhbGxiYWNrLiBFaXRoZXIgY2hhbmdlIGB5aWVsZEV2ZXJ5YCBvciByZW1vdmUgdGhlIGNhbGxiYWNrXCIpO3JldHVybiB1dGlsLmlzTnVtYmVyKHIueWllbGRFdmVyeSkmJihyLm1heWJlV2FpdD1kZWJvdW5jZShyLm1heWJlV2FpdC5iaW5kKHIpLHIueWllbGRFdmVyeSkpLHIudHJhaW5CZWdpbj10Lm9uVHJhaW5CZWdpbixyLnRyYWluRW5kPXQub25UcmFpbkVuZCxyLmVwb2NoQmVnaW49dC5vbkVwb2NoQmVnaW4sci5lcG9jaEVuZD10Lm9uRXBvY2hFbmQsci5iYXRjaEJlZ2luPXQub25CYXRjaEJlZ2luLHIuYmF0Y2hFbmQ9dC5vbkJhdGNoRW5kLHIueWllbGQ9dC5vbllpZWxkLHJ9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLm1heWJlV2FpdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiByPVtdLG51bGw9PXRoaXMueWllbGQ/WzMsMl06WzQscmVzb2x2ZVNjYWxhcnNJbkxvZ3MobildO2Nhc2UgMTppLnNlbnQoKSxyLnB1c2godGhpcy55aWVsZChlLHQsbikpLGkubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHIucHVzaChuZXh0RnJhbWUoKSksWzQsUHJvbWlzZS5hbGwocildO2Nhc2UgMzpyZXR1cm4gaS5zZW50KCksWzJdfX0pfSl9LHQucHJvdG90eXBlLm9uRXBvY2hCZWdpbj1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5jdXJyZW50RXBvY2g9ZSxudWxsPT10aGlzLmVwb2NoQmVnaW4/WzMsM106WzQscmVzb2x2ZVNjYWxhcnNJbkxvZ3ModCldO2Nhc2UgMTpyZXR1cm4gbi5zZW50KCksWzQsdGhpcy5lcG9jaEJlZ2luKGUsdCldO2Nhc2UgMjpuLnNlbnQoKSxuLmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyXX19KX0pfSx0LnByb3RvdHlwZS5vbkVwb2NoRW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPVtdLG51bGw9PXRoaXMuZXBvY2hFbmQ/WzMsMl06WzQscmVzb2x2ZVNjYWxhcnNJbkxvZ3ModCldO2Nhc2UgMTpyLnNlbnQoKSxuLnB1c2godGhpcy5lcG9jaEVuZChlLHQpKSxyLmxhYmVsPTI7Y2FzZSAyOnJldHVyblwiZXBvY2hcIj09PXRoaXMueWllbGRFdmVyeSYmbi5wdXNoKG5leHRGcmFtZSgpKSxbNCxQcm9taXNlLmFsbChuKV07Y2FzZSAzOnJldHVybiByLnNlbnQoKSxbMl19fSl9KX0sdC5wcm90b3R5cGUub25CYXRjaEJlZ2luPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiBudWxsPT10aGlzLmJhdGNoQmVnaW4/WzMsM106WzQscmVzb2x2ZVNjYWxhcnNJbkxvZ3ModCldO2Nhc2UgMTpyZXR1cm4gbi5zZW50KCksWzQsdGhpcy5iYXRjaEJlZ2luKGUsdCldO2Nhc2UgMjpuLnNlbnQoKSxuLmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyXX19KX0pfSx0LnByb3RvdHlwZS5vbkJhdGNoRW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPVtdLG51bGw9PXRoaXMuYmF0Y2hFbmQ/WzMsMl06WzQscmVzb2x2ZVNjYWxhcnNJbkxvZ3ModCldO2Nhc2UgMTpyLnNlbnQoKSxuLnB1c2godGhpcy5iYXRjaEVuZChlLHQpKSxyLmxhYmVsPTI7Y2FzZSAyOnJldHVyblwiYmF0Y2hcIj09PXRoaXMueWllbGRFdmVyeT9uLnB1c2gobmV4dEZyYW1lKCkpOnV0aWwuaXNOdW1iZXIodGhpcy55aWVsZEV2ZXJ5KSYmbi5wdXNoKHRoaXMubWF5YmVXYWl0KHRoaXMuY3VycmVudEVwb2NoLGUsdCkpLFs0LFByb21pc2UuYWxsKG4pXTtjYXNlIDM6cmV0dXJuIHIuc2VudCgpLFsyXX19KX0pfSx0LnByb3RvdHlwZS5vblRyYWluQmVnaW49ZnVuY3Rpb24oZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBudWxsPT10aGlzLnRyYWluQmVnaW4/WzMsM106WzQscmVzb2x2ZVNjYWxhcnNJbkxvZ3MoZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzQsdGhpcy50cmFpbkJlZ2luKGUpXTtjYXNlIDI6dC5zZW50KCksdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSl9KX0sdC5wcm90b3R5cGUub25UcmFpbkVuZD1mdW5jdGlvbihlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG51bGw9PXRoaXMudHJhaW5FbmQ/WzMsM106WzQscmVzb2x2ZVNjYWxhcnNJbkxvZ3MoZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzQsdGhpcy50cmFpbkVuZChlKV07Y2FzZSAyOnQuc2VudCgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pfSl9LHR9KEJhc2VDYWxsYmFjayk7ZnVuY3Rpb24gc3RhbmRhcmRpemVDYWxsYmFja3MoZSx0KXtyZXR1cm4gbnVsbD09ZSYmKGU9e30pLGUgaW5zdGFuY2VvZiBCYXNlQ2FsbGJhY2s/W2VdOkFycmF5LmlzQXJyYXkoZSkmJmVbMF1pbnN0YW5jZW9mIEJhc2VDYWxsYmFjaz9lOnRvTGlzdChlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBDdXN0b21DYWxsYmFjayhlLHQpfSl9dmFyIENhbGxiYWNrQ29uc3RydWN0b3JSZWdpc3RyeT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucmVnaXN0ZXJDYWxsYmFja0NvbnN0cnVjdG9yPWZ1bmN0aW9uKHQsbil7dXRpbC5hc3NlcnQodD49MCYmTnVtYmVyLmlzSW50ZWdlcih0KSxmdW5jdGlvbigpe3JldHVyblwiVmVyYm9zaXR5IGxldmVsIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGludGVnZXIgPj0gMCwgYnV0IGdvdCBcIit0fSksZS5jaGVja0ZvckR1cGxpY2F0ZShuKSxudWxsPT1lLmNvbnN0cnVjdG9yc1t0XSYmKGUuY29uc3RydWN0b3JzW3RdPVtdKSxlLmNvbnN0cnVjdG9yc1t0XS5wdXNoKG4pfSxlLmNoZWNrRm9yRHVwbGljYXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiBlLmNvbnN0cnVjdG9ycyl7ZS5jb25zdHJ1Y3RvcnNbK25dLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZT09PXQpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJEdXBsaWNhdGUgY2FsbGJhY2sgY29uc3RydWN0b3IuXCIpfSl9fSxlLmNsZWFyPWZ1bmN0aW9uKCl7ZS5jb25zdHJ1Y3RvcnM9e319LGUuY3JlYXRlQ2FsbGJhY2tzPWZ1bmN0aW9uKHQpe3ZhciBuPVtdO2Zvcih2YXIgciBpbiBlLmNvbnN0cnVjdG9ycyl7dmFyIGk9K3I7dD49aSYmbi5wdXNoLmFwcGx5KG4sZS5jb25zdHJ1Y3RvcnNbaV0pfXJldHVybiBuLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGV9KX0sZS5jb25zdHJ1Y3RvcnM9e30sZX0oKTtmdW5jdGlvbiBjb25maWd1cmVDYWxsYmFja3MoZSx0LG4scixpLGEsbyxzLGwpe3ZhciB1PW5ldyBIaXN0b3J5LGM9W25ldyBCYXNlTG9nZ2VyXS5jb25jYXQoQ2FsbGJhY2tDb25zdHJ1Y3RvclJlZ2lzdHJ5LmNyZWF0ZUNhbGxiYWNrcyh0KSk7bnVsbCE9ZSYmYy5wdXNoLmFwcGx5KGMsZSksYy5wdXNoKHUpO3ZhciBwPW5ldyBDYWxsYmFja0xpc3QoYyk7cmV0dXJuIHAuc2V0UGFyYW1zKHtlcG9jaHM6bixpbml0aWFsRXBvY2g6cixzYW1wbGVzOmksc3RlcHM6YSxiYXRjaFNpemU6byx2ZXJib3NlOnQsZG9WYWxpZGF0aW9uOnMsbWV0cmljczpsfSkse2NhbGxiYWNrTGlzdDpwLGhpc3Rvcnk6dX19ZnVuY3Rpb24gZGVzZXJpYWxpemUoZSx0LG4pe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksdm9pZCAwPT09biYmKG49ITEpLGRlc2VyaWFsaXplS2VyYXNPYmplY3QoZSxzZXJpYWxpemF0aW9uLlNlcmlhbGl6YXRpb25NYXAuZ2V0TWFwKCkuY2xhc3NOYW1lTWFwLHQsXCJsYXllclwiLG4pfWZ1bmN0aW9uIGwyTm9ybWFsaXplKGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtcImZsb2F0MzJcIiE9PWUuZHR5cGUmJihlPWUuYXNUeXBlKFwiZmxvYXQzMlwiKSk7dmFyIG49c3VtKHNxdWFyZShlKSx0LCEwKSxyPWZpbGwobi5zaGFwZSxlcHNpbG9uKCkpLGk9c3FydChtYXhpbXVtKG4scikpO3JldHVybiBkaXYoZSxpKX0pfWZ1bmN0aW9uIG1lYW5TcXVhcmVkRXJyb3IoZSx0KXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBtZWFuKHNxdWFyZShzdWIodCxlKSksLTEpfSl9ZnVuY3Rpb24gbWVhbkFic29sdXRlRXJyb3IoZSx0KXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBtZWFuKGFicyhzdWIodCxlKSksLTEpfSl9ZnVuY3Rpb24gbWVhbkFic29sdXRlUGVyY2VudGFnZUVycm9yKGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgbj1zdWIoZSx0KSxyPWNsaXBCeVZhbHVlKGFicyhlKSxlcHNpbG9uKCksTnVtYmVyLk1BWF9WQUxVRSksaT1hYnMoZGl2KG4scikpO3JldHVybiBtdWwoMTAwLG1lYW4oaSwtMSkpfSl9ZnVuY3Rpb24gbWVhblNxdWFyZWRMb2dhcml0aG1pY0Vycm9yKGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgbj1jbGlwQnlWYWx1ZSh0LGVwc2lsb24oKSxOdW1iZXIuTUFYX1ZBTFVFKSxyPWxvZyhhZGQoMSxuKSksaT1jbGlwQnlWYWx1ZShlLGVwc2lsb24oKSxOdW1iZXIuTUFYX1ZBTFVFKSxhPWxvZyhhZGQoMSxpKSk7cmV0dXJuIG1lYW4oc3F1YXJlKHN1YihyLGEpKSwtMSl9KX1mdW5jdGlvbiBzcXVhcmVkSGluZ2UoZSx0KXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciBuPW1heGltdW0oMCxzdWIoMSxtdWwoZSx0KSkpO3JldHVybiBtZWFuKHNxdWFyZShuKSwtMSl9KX1mdW5jdGlvbiBoaW5nZShlLHQpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIG49bWF4aW11bSgwLHN1YigxLG11bChlLHQpKSk7cmV0dXJuIG1lYW4obiwtMSl9KX1mdW5jdGlvbiBjYXRlZ29yaWNhbEhpbmdlKGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgbj1zdW0obXVsKGUsdCksLTEpLHI9bWF4KG11bChzdWIoMSxlKSx0KSwtMSk7cmV0dXJuIG1heGltdW0oMCxhZGQoMSxzdWIocixuKSkpfSl9ZnVuY3Rpb24gbG9nY29zaChlLHQpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIG49TWF0aC5sb2coMikscj1zdWIodCxlKSxpPXN1YihhZGQocixzb2Z0cGx1cyhtdWwoLTIscikpKSxuKTtyZXR1cm4gbWVhbihpLC0xKX0pfWZ1bmN0aW9uIGNhdGVnb3JpY2FsQ3Jvc3NlbnRyb3B5KGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49ITEpLHRpZHkoZnVuY3Rpb24oKXtpZihuKXQ9c29mdG1heCh0KTtlbHNle3ZhciByPXN1bSh0LHQuc2hhcGUubGVuZ3RoLTEsITApO3Q9ZGl2KHQscil9cmV0dXJuIHQ9Y2xpcEJ5VmFsdWUodCxlcHNpbG9uKCksMS1lcHNpbG9uKCkpLG5lZyhzdW0obXVsKGUudG9GbG9hdCgpLGxvZyh0KSksdC5zaGFwZS5sZW5ndGgtMSkpfSl9ZnVuY3Rpb24gc3BhcnNlQ2F0ZWdvcmljYWxDcm9zc2VudHJvcHkoZSx0KXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciBuPWZsb29yKGZsYXR0ZW4oZSkpLnRvSW50KCkscj0odD1jbGlwQnlWYWx1ZSh0LGVwc2lsb24oKSwxLWVwc2lsb24oKSkpLnNoYXBlO3JldHVybiBjYXRlZ29yaWNhbENyb3NzZW50cm9weShvbmVIb3QobixyW3IubGVuZ3RoLTFdKS5yZXNoYXBlKHIpLHQsITEpfSl9ZnVuY3Rpb24gc2lnbW9pZENyb3NzRW50cm9weVdpdGhMb2dpdHMoZSx0KXtpZighdXRpbC5hcnJheXNFcXVhbChlLnNoYXBlLHQuc2hhcGUpKXRocm93IG5ldyBWYWx1ZUVycm9yKFwibG9naXRzIGFuZCBsYWJlbHMgbXVzdCBoYXZlIHRoZSBzYW1lIHNoYXBlLCBidXQgZ290IHNoYXBlcyBcIitKU09OLnN0cmluZ2lmeShlLnNoYXBlKStcIiBhbmQgXCIrSlNPTi5zdHJpbmdpZnkodC5zaGFwZSkpO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIG49dC5yZWx1KCkscj10LmFicygpLm5lZygpO3JldHVybiBuLnN1Yih0Lm11bChlKSkuYWRkKHIuZXhwKCkubG9nMXAoKSl9KX1mdW5jdGlvbiBiaW5hcnlDcm9zc2VudHJvcHkoZSx0KXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciBuO3JldHVybiBuPWNsaXBCeVZhbHVlKHQsZXBzaWxvbigpLDEtZXBzaWxvbigpKSxuPWxvZyhkaXYobixzdWIoMSxuKSkpLG1lYW4oc2lnbW9pZENyb3NzRW50cm9weVdpdGhMb2dpdHMoZSxuKSwtMSl9KX1mdW5jdGlvbiBrdWxsYmFja0xlaWJsZXJEaXZlcmdlbmNlKGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgbj1jbGlwQnlWYWx1ZShlLGVwc2lsb24oKSwxKSxyPWNsaXBCeVZhbHVlKHQsZXBzaWxvbigpLDEpO3JldHVybiBzdW0obXVsKGUsbG9nKGRpdihuLHIpKSksLTEpfSl9ZnVuY3Rpb24gcG9pc3NvbihlLHQpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIG49bG9nKGFkZChlcHNpbG9uKCksdCkpO3JldHVybiBtZWFuKHN1Yih0LG11bChlLG4pKSwtMSl9KX1mdW5jdGlvbiBjb3NpbmVQcm94aW1pdHkoZSx0KXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciBuPWwyTm9ybWFsaXplKGUsLTEpLHI9bDJOb3JtYWxpemUodCwtMSksaT1tdWwobixyKTtyZXR1cm4gbmVnKHN1bShpLC0xKSl9KX12YXIgbG9zc2VzTWFwPXttZWFuU3F1YXJlZEVycm9yOm1lYW5TcXVhcmVkRXJyb3IsbWVhbkFic29sdXRlRXJyb3I6bWVhbkFic29sdXRlRXJyb3IsbWVhbkFic29sdXRlUGVyY2VudGFnZUVycm9yOm1lYW5BYnNvbHV0ZVBlcmNlbnRhZ2VFcnJvcixtZWFuU3F1YXJlZExvZ2FyaXRobWljRXJyb3I6bWVhblNxdWFyZWRMb2dhcml0aG1pY0Vycm9yLHNxdWFyZWRIaW5nZTpzcXVhcmVkSGluZ2UsaGluZ2U6aGluZ2UsY2F0ZWdvcmljYWxIaW5nZTpjYXRlZ29yaWNhbEhpbmdlLGxvZ2Nvc2g6bG9nY29zaCxjYXRlZ29yaWNhbENyb3NzZW50cm9weTpjYXRlZ29yaWNhbENyb3NzZW50cm9weSxzcGFyc2VDYXRlZ29yaWNhbENyb3NzZW50cm9weTpzcGFyc2VDYXRlZ29yaWNhbENyb3NzZW50cm9weSxiaW5hcnlDcm9zc2VudHJvcHk6YmluYXJ5Q3Jvc3NlbnRyb3B5LGt1bGxiYWNrTGVpYmxlckRpdmVyZ2VuY2U6a3VsbGJhY2tMZWlibGVyRGl2ZXJnZW5jZSxwb2lzc29uOnBvaXNzb24sY29zaW5lUHJveGltaXR5OmNvc2luZVByb3hpbWl0eX07ZnVuY3Rpb24gZ2V0KGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihlIGluIGxvc3Nlc01hcClyZXR1cm4gbG9zc2VzTWFwW2VdO3ZhciB0PVwiVW5rbm93biBsb3NzIFwiK2U7dGhyb3cgZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwic29mdG1heGNyb3NzZW50cm9weVwiKSYmKHQ9XCJVbmtub3duIGxvc3MgXCIrZSsnLiBVc2UgXCJjYXRlZ29yaWNhbENyb3NzZW50cm9weVwiIGFzIHRoZSBzdHJpbmcgbmFtZSBmb3IgdGYubG9zc2VzLnNvZnRtYXhDcm9zc0VudHJvcHknKSxuZXcgVmFsdWVFcnJvcih0KX1yZXR1cm4gZX1mdW5jdGlvbiBiaW5hcnlBY2N1cmFjeShlLHQpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIG49bXVsKC41LG9uZXNMaWtlKHQpKSxyPWNhc3QkMShncmVhdGVyKHQsbiksZS5kdHlwZSk7cmV0dXJuIG1lYW4oZXF1YWwoZSxyKSwtMSl9KX1mdW5jdGlvbiBjYXRlZ29yaWNhbEFjY3VyYWN5KGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gY2FzdCQxKGVxdWFsKGFyZ01heChlLC0xKSxhcmdNYXgodCwtMSkpLFwiZmxvYXQzMlwiKX0pfWZ1bmN0aW9uIHRydWVQb3NpdGl2ZXMoZSx0KXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBsb2dpY2FsQW5kKGUuZXF1YWwoMSksdC5lcXVhbCgxKSkuc3VtKCkuY2FzdChcImZsb2F0MzJcIil9KX1mdW5jdGlvbiBmYWxzZU5lZ2F0aXZlcyhlLHQpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7cmV0dXJuIGxvZ2ljYWxBbmQoZS5lcXVhbCgxKSx0LmVxdWFsKDApKS5zdW0oKS5jYXN0KFwiZmxvYXQzMlwiKX0pfWZ1bmN0aW9uIGZhbHNlUG9zaXRpdmVzKGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gbG9naWNhbEFuZChlLmVxdWFsKDApLHQuZXF1YWwoMSkpLnN1bSgpLmNhc3QoXCJmbG9hdDMyXCIpfSl9ZnVuY3Rpb24gcHJlY2lzaW9uKGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgbj10cnVlUG9zaXRpdmVzKGUsdCkscj1mYWxzZVBvc2l0aXZlcyhlLHQpLGk9bi5hZGQocik7cmV0dXJuIHdoZXJlKGdyZWF0ZXIoaSwwKSxuLmRpdihpKSwwKS5jYXN0KFwiZmxvYXQzMlwiKX0pfWZ1bmN0aW9uIHJlY2FsbChlLHQpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIG49dHJ1ZVBvc2l0aXZlcyhlLHQpLHI9ZmFsc2VOZWdhdGl2ZXMoZSx0KSxpPW4uYWRkKHIpO3JldHVybiB3aGVyZShncmVhdGVyKGksMCksbi5kaXYoaSksMCkuY2FzdChcImZsb2F0MzJcIil9KX1mdW5jdGlvbiBiaW5hcnlDcm9zc2VudHJvcHkkMShlLHQpe3JldHVybiBiaW5hcnlDcm9zc2VudHJvcHkoZSx0KX1mdW5jdGlvbiBzcGFyc2VDYXRlZ29yaWNhbEFjY3VyYWN5KGUsdCl7cmV0dXJuIGUucmFuaz09PXQucmFuayYmKGU9ZS5zcXVlZXplKFtlLnJhbmstMV0pKSwodD10LmFyZ01heCgtMSkpLmR0eXBlIT09ZS5kdHlwZSYmKHQ9dC5hc1R5cGUoZS5kdHlwZSkpLGVxdWFsKGUsdCkuYXNUeXBlKFwiZmxvYXQzMlwiKX12YXIgbXNlJDE9bWVhblNxdWFyZWRFcnJvcixNU0UkMT1tZWFuU3F1YXJlZEVycm9yLG1hZSQxPW1lYW5BYnNvbHV0ZUVycm9yLE1BRSQxPW1lYW5BYnNvbHV0ZUVycm9yLG1hcGUkMT1tZWFuQWJzb2x1dGVQZXJjZW50YWdlRXJyb3IsTUFQRSQxPW1lYW5BYnNvbHV0ZVBlcmNlbnRhZ2VFcnJvcixjYXRlZ29yaWNhbENyb3NzZW50cm9weSQxPWNhdGVnb3JpY2FsQ3Jvc3NlbnRyb3B5LGNvc2luZSQxPWNvc2luZVByb3hpbWl0eSxzcGFyc2VDYXRlZ29yaWNhbENyb3NzZW50cm9weSQxPXNwYXJzZUNhdGVnb3JpY2FsQ3Jvc3NlbnRyb3B5LG1ldHJpY3NNYXA9e2JpbmFyeUFjY3VyYWN5OmJpbmFyeUFjY3VyYWN5LGNhdGVnb3JpY2FsQWNjdXJhY3k6Y2F0ZWdvcmljYWxBY2N1cmFjeSxwcmVjaXNpb246cHJlY2lzaW9uLGNhdGVnb3JpY2FsQ3Jvc3NlbnRyb3B5OmNhdGVnb3JpY2FsQ3Jvc3NlbnRyb3B5JDEsc3BhcnNlQ2F0ZWdvcmljYWxDcm9zc2VudHJvcHk6c3BhcnNlQ2F0ZWdvcmljYWxDcm9zc2VudHJvcHkkMSxtc2U6bXNlJDEsTVNFOk1TRSQxLG1hZTptYWUkMSxNQUU6TUFFJDEsbWFwZTptYXBlJDEsTUFQRTpNQVBFJDEsY29zaW5lOmNvc2luZSQxfTtmdW5jdGlvbiBnZXQkMShlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmZSBpbiBtZXRyaWNzTWFwKXJldHVybiBtZXRyaWNzTWFwW2VdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlJiZudWxsIT1lKXJldHVybiBlO3Rocm93IG5ldyBWYWx1ZUVycm9yKFwiVW5rbm93biBtZXRyaWMgXCIrZSl9ZnVuY3Rpb24gZ2V0TG9zc09yTWV0cmljTmFtZShlKXtpZihhc3NlcnQobnVsbCE9PWUsXCJVbmtub3duIExvc3NPck1ldHJpY0ZuIFwiK2UpLFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBlO2Zvcih2YXIgdD12b2lkIDAsbj0wLHI9T2JqZWN0LmtleXMobG9zc2VzTWFwKTtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTtpZihsb3NzZXNNYXBbaV09PT1lKXt0PWk7YnJlYWt9fWlmKHZvaWQgMCE9PXQpcmV0dXJuIHQ7Zm9yKHZhciBhPTAsbz1PYmplY3Qua2V5cyhtZXRyaWNzTWFwKTthPG8ubGVuZ3RoO2ErKyl7aT1vW2FdO2lmKG1ldHJpY3NNYXBbaV09PT1lKXt0PWk7YnJlYWt9fXJldHVybiB2b2lkIDAhPT10P3Q6ZS5uYW1lfWZ1bmN0aW9uIGdldE9wdGltaXplcihlKXt2YXIgdD17QWRhZ3JhZDpmdW5jdGlvbigpe3JldHVybiB0cmFpbi5hZGFncmFkKC4wMSl9LEFkYWRlbHRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRyYWluLmFkYWRlbHRhKDEsLjk1LGVwc2lsb24oKSl9LEFkYW06ZnVuY3Rpb24oKXtyZXR1cm4gdHJhaW4uYWRhbSguMDAxLC45LC45OTksZXBzaWxvbigpKX0sQWRhbWF4OmZ1bmN0aW9uKCl7cmV0dXJuIHRyYWluLmFkYW1heCguMDAyLC45LC45OTksZXBzaWxvbigpLDApfSxSTVNQcm9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRyYWluLnJtc3Byb3AoLjAwMSwuOSwwLGVwc2lsb24oKSl9LFNHRDpmdW5jdGlvbigpe3JldHVybiB0cmFpbi5zZ2QoLjAxKX19O2lmKHQuYWRhZ3JhZD10LkFkYWdyYWQsdC5hZGFkZWx0YT10LkFkYWRlbHRhLHQuYWRhbT10LkFkYW0sdC5hZGFtYXg9dC5BZGFtYXgsdC5ybXNwcm9wPXQuUk1TUHJvcCx0LnNnZD10LlNHRCxlIGluIHQpcmV0dXJuIHRbZV0oKTt0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlVua25vd24gT3B0aW1pemVyIFwiK2UpfXZhciBNQVhfVVNFUl9ERUZJTkVEX01FVEFEQVRBX1NFUklBTElaRURfTEVOR1RIPTEwNDg1NzY7ZnVuY3Rpb24gY2hlY2tVc2VyRGVmaW5lZE1ldGFkYXRhKGUsdCxuKXtpZih2b2lkIDA9PT1uJiYobj0hMSksbnVsbD09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGV8fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKSE9PU9iamVjdC5wcm90b3R5cGV8fCFwbGFpbk9iamVjdENoZWNrKGUpKXRocm93IG5ldyBFcnJvcihcIlVzZXItZGVmaW5lZCBtZXRhZGF0YSBpcyBleHBlY3RlZCB0byBiZSBhIEpTT04gb2JqZWN0LCBidXQgaXMgbm90LlwiKTtpZihuKXt2YXIgcj1KU09OLnN0cmluZ2lmeShlKTtyLmxlbmd0aD5NQVhfVVNFUl9ERUZJTkVEX01FVEFEQVRBX1NFUklBTElaRURfTEVOR1RIJiZjb25zb2xlLndhcm4oJ1VzZXItZGVmaW5lZCBtZXRhZGF0YSBvZiBtb2RlbCBcIicrdCsnXCIgaXMgdG9vIGxhcmdlIGluIHNpemUgKGxlbmd0aD0nK3IubGVuZ3RoK1wiIHdoZW4gc2VyaWFsaXplZCkuIEl0IGlzIG5vdCByZWNvbW1lbmRlZCB0byBzdG9yZSBzdWNoIGxhcmdlIG9iamVjdHMgaW4gdXNlci1kZWZpbmVkIG1ldGFkYXRhLiBQbGVhc2UgbWFrZSBzdXJlIGl0cyBzZXJpYWxpemVkIGxlbmd0aCBpcyA8PSBcIitNQVhfVVNFUl9ERUZJTkVEX01FVEFEQVRBX1NFUklBTElaRURfTEVOR1RIK1wiLlwiKX19ZnVuY3Rpb24gcGxhaW5PYmplY3RDaGVjayhlKXtpZihudWxsPT09ZSlyZXR1cm4hMDtpZihcIm9iamVjdFwiPT10eXBlb2YgZSl7aWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09T2JqZWN0LnByb3RvdHlwZSl7Zm9yKHZhciB0PTAsbj1PYmplY3Qua2V5cyhlKTt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtpZihcInN0cmluZ1wiIT10eXBlb2YgcilyZXR1cm4hMTtpZighcGxhaW5PYmplY3RDaGVjayhlW3JdKSlyZXR1cm4hMX1yZXR1cm4hMH1pZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIGk9MCxhPWU7aTxhLmxlbmd0aDtpKyspe2lmKCFwbGFpbk9iamVjdENoZWNrKGFbaV0pKXJldHVybiExfXJldHVybiEwfXJldHVybiExfXZhciBvPXR5cGVvZiBlO3JldHVyblwic3RyaW5nXCI9PT1vfHxcIm51bWJlclwiPT09b3x8XCJib29sZWFuXCI9PT1vfWZ1bmN0aW9uIHByaW50U3VtbWFyeShlLHQsbixyKXt2b2lkIDA9PT1yJiYocj1jb25zb2xlLmxvZyk7dmFyIGksYT1pc01vZGVsU2VxdWVudGlhbExpa2UoZSksbz1bXCJMYXllciAodHlwZSlcIixcIk91dHB1dCBzaGFwZVwiLFwiUGFyYW0gI1wiXTtpZihhPyh0PXR8fDY1LG49bnx8Wy40NSwuODUsMV0pOih0PXR8fDk4LG49bnx8Wy4zMywuNTUsLjY3LDFdKSxuW24ubGVuZ3RoLTFdPD0xJiYobj1uLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5mbG9vcih0KmUpfSkpLCFhKWZvcih2YXIgcyBpbiBvLnB1c2goXCJSZWNlaXZlcyBpbnB1dHNcIiksaT1bXSxlLm5vZGVzQnlEZXB0aClpLnB1c2guYXBwbHkoaSxlLm5vZGVzQnlEZXB0aFtzXSk7cihcIl9cIi5yZXBlYXQodCkpLHByaW50Um93KG8sbixyKSxyKFwiPVwiLnJlcGVhdCh0KSk7Zm9yKHZhciBsPWUubGF5ZXJzLHU9MDt1PGwubGVuZ3RoOysrdSlhP3ByaW50TGF5ZXJTdW1tYXJ5KGxbdV0sbixyKTpwcmludExheWVyU3VtbWFyeVdpdGhDb25uZWN0aW9ucyhsW3VdLG4saSxyKSxyKCh1PT09bC5sZW5ndGgtMT9cIj1cIjpcIl9cIikucmVwZWF0KHQpKTtlLmNoZWNrVHJhaW5hYmxlV2VpZ2h0c0NvbnNpc3RlbmN5KCk7dmFyIGM9Y291bnRUcmFpbmFibGVQYXJhbXMoZSkscD1jb3VudFBhcmFtc0luV2VpZ2h0cyhlLm5vblRyYWluYWJsZVdlaWdodHMpO3IoXCJUb3RhbCBwYXJhbXM6IFwiKyhjK3ApKSxyKFwiVHJhaW5hYmxlIHBhcmFtczogXCIrYykscihcIk5vbi10cmFpbmFibGUgcGFyYW1zOiBcIitwKSxyKFwiX1wiLnJlcGVhdCh0KSl9ZnVuY3Rpb24gY291bnRUcmFpbmFibGVQYXJhbXMoZSl7cmV0dXJuIG51bGwhPWUuY29sbGVjdGVkVHJhaW5hYmxlV2VpZ2h0cz9jb3VudFBhcmFtc0luV2VpZ2h0cyhlLmNvbGxlY3RlZFRyYWluYWJsZVdlaWdodHMpOmNvdW50UGFyYW1zSW5XZWlnaHRzKGUudHJhaW5hYmxlV2VpZ2h0cyl9ZnVuY3Rpb24gaXNNb2RlbFNlcXVlbnRpYWxMaWtlKGUpe3ZhciB0PSEwLG49W10scj1bXTtmb3IodmFyIGkgaW4gZS5ub2Rlc0J5RGVwdGgpbi5wdXNoKGUubm9kZXNCeURlcHRoW2ldKTtmb3IodmFyIGE9MCxvPW47YTxvLmxlbmd0aDthKyspe3ZhciBzPW9bYV07aWYocy5sZW5ndGg+MXx8MT09PXMubGVuZ3RoJiZzWzBdLmluYm91bmRMYXllcnMubGVuZ3RoPjEpe3Q9ITE7YnJlYWt9ci5wdXNoLmFwcGx5KHIscyl9aWYodClmb3IodmFyIGw9MCx1PWUubGF5ZXJzO2w8dS5sZW5ndGg7bCsrKXtmb3IodmFyIGM9ITEscD0wLGg9dVtsXS5pbmJvdW5kTm9kZXM7cDxoLmxlbmd0aDtwKyspe3ZhciBkPWhbcF07aWYoLTEhPT1yLmluZGV4T2YoZCkpe2lmKGMpe3Q9ITE7YnJlYWt9Yz0hMH19aWYoIXQpYnJlYWt9cmV0dXJuIHR9ZnVuY3Rpb24gcHJpbnRSb3coZSx0LG4pe3ZvaWQgMD09PW4mJihuPWNvbnNvbGUubG9nKTtmb3IodmFyIHI9XCJcIixpPTA7aTxlLmxlbmd0aDsrK2kpaT4wJiYocj1yLnNsaWNlKDAsci5sZW5ndGgtMSkrXCIgXCIpLHI9KHIrPWVbaV0pLnNsaWNlKDAsdFtpXSkscis9XCIgXCIucmVwZWF0KHRbaV0tci5sZW5ndGgpO24ocil9ZnVuY3Rpb24gcHJpbnRMYXllclN1bW1hcnkoZSx0LG4pe3ZhciByO3RyeXtyPUpTT04uc3RyaW5naWZ5KGUub3V0cHV0U2hhcGUpfWNhdGNoKGUpe3I9XCJtdWx0aXBsZVwifXByaW50Um93KFtlLm5hbWUrXCIgKFwiK2UuZ2V0Q2xhc3NOYW1lKCkrXCIpXCIscixlLmNvdW50UGFyYW1zKCkudG9TdHJpbmcoKV0sdCxuKX1mdW5jdGlvbiBwcmludExheWVyU3VtbWFyeVdpdGhDb25uZWN0aW9ucyhlLHQsbixyKXt2YXIgaTt0cnl7aT1KU09OLnN0cmluZ2lmeShlLm91dHB1dFNoYXBlKX1jYXRjaChlKXtpPVwibXVsdGlwbGVcIn1mb3IodmFyIGE9W10sbz0wLHM9ZS5pbmJvdW5kTm9kZXM7bzxzLmxlbmd0aDtvKyspe3ZhciBsPXNbb107aWYoIShudWxsIT1uJiZuLmxlbmd0aD4wJiYtMT09PW4uaW5kZXhPZihsKSkpZm9yKHZhciB1PTA7dTxsLmluYm91bmRMYXllcnMubGVuZ3RoOysrdSl7dmFyIGM9bC5pbmJvdW5kTGF5ZXJzW3VdLm5hbWUscD1sLm5vZGVJbmRpY2VzW3VdLGg9bC50ZW5zb3JJbmRpY2VzW3VdO2EucHVzaChjK1wiW1wiK3ArXCJdW1wiK2grXCJdXCIpfX12YXIgZD1lLm5hbWUsZj1lLmdldENsYXNzTmFtZSgpLGc9MD09PWEubGVuZ3RoP1wiXCI6YVswXTtwcmludFJvdyhbZCtcIiAoXCIrZitcIilcIixpLGUuY291bnRQYXJhbXMoKS50b1N0cmluZygpLGddLHQscik7Zm9yKHU9MTt1PGEubGVuZ3RoOysrdSlwcmludFJvdyhbXCJcIixcIlwiLFwiXCIsYVt1XV0sdCxyKX1mdW5jdGlvbiBpc0FycmF5SXRlbUlucHV0T3JPdXRwdXROYW1lKGUsdCxuKXtyZXR1cm4oXCJpbmJvdW5kTm9kZXNcIj09PWV8fFwib3V0cHV0TGF5ZXJzXCI9PT1lfHxcImlucHV0TGF5ZXJzXCI9PT1lKSYmMD09PXQmJlwic3RyaW5nXCI9PXR5cGVvZiBufWZ1bmN0aW9uIGNvbnZlcnRQeXRob25pY1RvVHMoZSx0KXtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gdG9DYW1lbENhc2UoZSk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGV8fFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihlIGluc3RhbmNlb2YgQXJyYXkpe2Zvcih2YXIgbj1bXSxyPWUubGVuZ3RoLGk9MDtpPHI7KytpKXt2YXIgYT1lW2ldO2lzQXJyYXlJdGVtSW5wdXRPck91dHB1dE5hbWUodCxpLGEpP24ucHVzaChhKTpuLnB1c2goY29udmVydFB5dGhvbmljVG9UcyhhLHQpKX1yZXR1cm4gbn1mb3IodmFyIG89e30scz0wLGw9T2JqZWN0LmtleXMoZSk7czxsLmxlbmd0aDtzKyspe3ZhciB1PWxbc10sYz1lW3VdO2lmKFwibmFtZVwiPT09dSYmXCJzdHJpbmdcIj09dHlwZW9mIGMpb1t1XT1jO2Vsc2V7dmFyIHA9dG9DYW1lbENhc2UodSk7b1twXT1jb252ZXJ0UHl0aG9uaWNUb1RzKGMscCl9fXJldHVybiBvfWZ1bmN0aW9uIGNvbnZlcnRUc1RvUHl0aG9uaWMoZSx0KXtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSlyZXR1cm4gbnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gdG9TbmFrZUNhc2UoZSk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGV8fFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihlIGluc3RhbmNlb2YgQXJyYXkpe2Zvcih2YXIgbj1bXSxyPWUubGVuZ3RoLGk9MDtpPHI7KytpKXt2YXIgYT1lW2ldO2lzQXJyYXlJdGVtSW5wdXRPck91dHB1dE5hbWUodCxpLGEpP24ucHVzaChhKTpuLnB1c2goY29udmVydFRzVG9QeXRob25pYyhhLHQpKX1yZXR1cm4gbn1mb3IodmFyIG89e30scz0wLGw9T2JqZWN0LmtleXMoZSk7czxsLmxlbmd0aDtzKyspe3ZhciB1PWxbc10sYz1lW3VdLHA9dG9TbmFrZUNhc2UodSk7b1twXT1cIm5hbWVcIiE9PXUmJlwiY2xhc3NOYW1lXCIhPT11fHxcInN0cmluZ1wiIT10eXBlb2YgYz9jb252ZXJ0VHNUb1B5dGhvbmljKGMsdSk6Y31yZXR1cm4gb312YXIgdmVyc2lvbj1cIjEuNy40XCI7ZnVuY3Rpb24gYXNzZXJ0RmVlZENvbXBhdGliaWxpdHkoZSx0KXtpZihudWxsPT1lLmR0eXBlfHxlLmR0eXBlPT09dC5kdHlwZSlyZXR1cm4gdDt0cnl7cmV0dXJuIGNhc3QodCxlLmR0eXBlKX1jYXRjaChuKXt0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlRoZSBkdHlwZSBvZiB0aGUgZmVlZCAoXCIrdC5kdHlwZStcIikgY2FuIG5vdCBiZSBjYXN0IHRvIHRoZSBkdHlwZSBvZiB0aGUga2V5ICdcIitlLm5hbWUrXCInIChcIitlLmR0eXBlK1wiKS5cIil9fXZhciBGZWVkRGljdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aWYodGhpcy5pZDJWYWx1ZT17fSx0aGlzLmlkMk1hc2s9e30sdGhpcy5uYW1lMklkPXt9LHQgaW5zdGFuY2VvZiBlKWZvcih2YXIgbiBpbiB0LmlkMlZhbHVlKXRoaXMuaWQyVmFsdWVbbl09dC5pZDJWYWx1ZVtuXSxuIGluIHQuaWQyTWFzayYmKHRoaXMuaWQyTWFza1tuXT10LmlkMk1hc2tbbl0pO2Vsc2V7aWYobnVsbD09dClyZXR1cm47Zm9yKHZhciByPTAsaT10O3I8aS5sZW5ndGg7cisrKXt2YXIgYT1pW3JdO3RoaXMuYWRkKGEua2V5LGEudmFsdWUpfX19cmV0dXJuIGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLHQsbil7aWYobnVsbCE9dGhpcy5pZDJWYWx1ZVtlLmlkXSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkR1cGxpY2F0ZSBrZXk6IG5hbWU9XCIrZS5uYW1lK1wiLCBpZD1cIitlLmlkKTtyZXR1cm4gdGhpcy5pZDJWYWx1ZVtlLmlkXT1hc3NlcnRGZWVkQ29tcGF0aWJpbGl0eShlLHQpLHRoaXMubmFtZTJJZFtlLm5hbWVdPWUuaWQsbnVsbCE9biYmKHRoaXMuaWQyTWFza1tlLmlkXT1uKSx0aGlzfSxlLnByb3RvdHlwZS5hZGRGZWVkPWZ1bmN0aW9uKGUpe3RoaXMuYWRkKGUua2V5LGUudmFsdWUpfSxlLnByb3RvdHlwZS5oYXNLZXk9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPXRoaXMuaWQyVmFsdWVbZS5pZF19LGUucHJvdG90eXBlLm5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubmFtZTJJZCl9LGUucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBTeW1ib2xpY1RlbnNvcil7aWYobnVsbD09dGhpcy5pZDJWYWx1ZVtlLmlkXSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIk5vbmV4aXN0ZW50IGtleTogXCIrZS5uYW1lKTtyZXR1cm4gdGhpcy5pZDJWYWx1ZVtlLmlkXX12YXIgdD10aGlzLm5hbWUySWRbZV07aWYobnVsbD09dCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkZlZWQgZGljdCBoYXMgbm8gU3ltYm9saWNUZW5zb3IgbmFtZTogXCIrZSk7cmV0dXJuIHRoaXMuaWQyVmFsdWVbdF19LGUucHJvdG90eXBlLmdldE1hc2s9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIFN5bWJvbGljVGVuc29yKXtpZihudWxsPT10aGlzLmlkMlZhbHVlW2UuaWRdKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiTm9uZXhpc3RlbnQga2V5OiBcIitlLm5hbWUpO3JldHVybiB0aGlzLmlkMk1hc2tbZS5pZF19dmFyIHQ9dGhpcy5uYW1lMklkW2VdO2lmKG51bGw9PXQpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJGZWVkIGRpY3QgaGFzIG5vIFN5bWJvbGljVGVuc29yIG5hbWU6IFwiK2UpO3JldHVybiB0aGlzLmlkMk1hc2tbdF19LGUucHJvdG90eXBlLmRpc3Bvc2VNYXNrcz1mdW5jdGlvbigpe251bGwhPXRoaXMuaWQyTWFzayYmZGlzcG9zZSh0aGlzLmlkMk1hc2spfSxlfSgpLGNhY2hlZFNvcnRlZD17fSxjYWNoZWRSZWNpcGllbnRDb3VudHM9e307ZnVuY3Rpb24gZXhlY3V0ZShlLHQsbixyKXtmb3IodmFyIGk9bnVsbCE9biYmbi50cmFpbmluZyxhPUFycmF5LmlzQXJyYXkoZSksbz1hP2U6W2VdLHM9by5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pLGw9W10sdT10Lm5hbWVzKCksYz0wLHA9cztjPHAubGVuZ3RoO2MrKyl7dmFyIGg9cFtjXTstMSE9PXUuaW5kZXhPZihoKT9sLnB1c2godC5nZXRWYWx1ZShoKSk6bC5wdXNoKG51bGwpfW51bGwhPXImJihyLm1heE51bVRlbnNvcnM9LTEvMCxyLm1pbk51bVRlbnNvcnM9MS8wKTt2YXIgZCxmLGc9cy5qb2luKFwiLFwiKStcInxcIit0Lm5hbWVzKCkuam9pbihcIixcIik7aWYobnVsbD09Y2FjaGVkU29ydGVkW2ddKXt2YXIgbT1nZXRUb3BvbG9naWNhbFNvcnRBbmRSZWNpcGllbnRDb3VudHMobyx0KTtkPW0uc29ydGVkLGY9bS5yZWNpcGllbnRDb3VudHMsY2FjaGVkU29ydGVkW2ddPWQsY2FjaGVkUmVjaXBpZW50Q291bnRzW2ddPWZ9ZD1jYWNoZWRTb3J0ZWRbZ10sZj17fSxpfHxPYmplY3QuYXNzaWduKGYsY2FjaGVkUmVjaXBpZW50Q291bnRzW2ddKTtmb3IodmFyIHk9bmV3IEZlZWREaWN0KHQpLHY9MDt2PGQubGVuZ3RoOysrdil7aWYobnVsbCE9cil7dmFyIGI9bWVtb3J5KCkubnVtVGVuc29ycztiPnIubWF4TnVtVGVuc29ycyYmKHIubWF4TnVtVGVuc29ycz1iKSxiPHIubWluTnVtVGVuc29ycyYmKHIubWluTnVtVGVuc29ycz1iKX12YXIgdz1kW3ZdLHo9dy5zb3VyY2VMYXllcjtpZighKHogaW5zdGFuY2VvZiBJbnB1dExheWVyKSl7Zm9yKHZhciBTPVtdLEE9W10sXz1bXSxJPSExLEM9MCxFPXcuaW5wdXRzO0M8RS5sZW5ndGg7QysrKXt2YXIgTj1FW0NdLGs9eS5nZXRWYWx1ZShOKSx4PXkuZ2V0TWFzayhOKTtTLnB1c2goayksQS5wdXNoKHgpLG51bGwhPXgmJihJPSEwKSxpfHwoZltOLm5hbWVdLS0sMCE9PWZbTi5uYW1lXXx8dC5oYXNLZXkoTil8fC0xIT09cy5pbmRleE9mKE4ubmFtZSl8fGsuaXNEaXNwb3NlZHx8ITA9PT1OLnNvdXJjZUxheWVyLnN0YXRlZnVsfHxfLnB1c2goaykpfUkmJigobj1ufHx7fSkubWFzaz1BWzBdKTt2YXIgTD10b0xpc3Qoei5hcHBseShTLG4pKSxUPW51bGw7ei5zdXBwb3J0c01hc2tpbmcmJihUPXouY29tcHV0ZU1hc2soUyxBKSk7Zm9yKHZhciBEPWdldE5vZGVPdXRwdXRzKHcpLE89QXJyYXkuaXNBcnJheShEKT9EOltEXSxSPTA7UjxPLmxlbmd0aDsrK1Ipe3kuaGFzS2V5KE9bUl0pfHx5LmFkZChPW1JdLExbUl0sQXJyYXkuaXNBcnJheShUKT9UWzBdOlQpO3ZhciBNPXMuaW5kZXhPZihPW1JdLm5hbWUpOy0xIT09TSYmKGxbTV09TFtSXSl9aXx8ZGlzcG9zZShfKX19cmV0dXJuIHkuZGlzcG9zZU1hc2tzKCksYT9sOmxbMF19ZnVuY3Rpb24gZ2V0VG9wb2xvZ2ljYWxTb3J0QW5kUmVjaXBpZW50Q291bnRzKGUsdCl7dXRpbC5hc3NlcnQobnVsbCE9ZSYmZS5sZW5ndGg+MCxmdW5jdGlvbigpe3JldHVyblwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGZldGNoLCBnb3Qgbm9uZVwifSk7dmFyIG49W10scj17fTtpZigxPT09ZS5sZW5ndGgpe3ZhciBpPWdldFRvcG9sb2dpY2FsU29ydEFuZFJlY2lwaWVudENvdW50c0Zvck9uZUZldGNoKGVbMF0sdCk7bj1pLnNvcnRlZCxyPWkucmVjaXBpZW50TWFwfWVsc2UgZm9yKHZhciBhPW5ldyBTZXQsbz0wLHM9ZTtvPHMubGVuZ3RoO28rKyl7Zm9yKHZhciBsPWdldFRvcG9sb2dpY2FsU29ydEFuZFJlY2lwaWVudENvdW50c0Zvck9uZUZldGNoKHNbb10sdCksdT1sLnNvcnRlZCxjPWwucmVjaXBpZW50TWFwLHA9MCxoPXU7cDxoLmxlbmd0aDtwKyspe3ZhciBkPWhbcF07YS5oYXMoZC5uYW1lKXx8KG4ucHVzaChkKSxhLmFkZChkLm5hbWUpKX12YXIgZj1mdW5jdGlvbihlKXtudWxsPT1yW2VdJiYocltlXT1uZXcgU2V0KSxjW2VdLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHJbZV0uYWRkKHQpfSl9O2Zvcih2YXIgZyBpbiBjKWYoZyl9cmV0dXJue3NvcnRlZDpuLHJlY2lwaWVudENvdW50czpyZWNpcGllbnRNYXAyQ291bnRzKHIpfX1mdW5jdGlvbiByZWNpcGllbnRNYXAyQ291bnRzKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXRbbl09ZVtuXS5zaXplO3JldHVybiB0fWZ1bmN0aW9uIGdldFRvcG9sb2dpY2FsU29ydEFuZFJlY2lwaWVudENvdW50c0Zvck9uZUZldGNoKGUsdCl7Zm9yKHZhciBuPW5ldyBTZXQscj1bXSxpPXt9LGE9MCxvPXQubmFtZXMoKTthPG8ubGVuZ3RoO2ErKyl7dmFyIHM9b1thXTtuLmFkZChzKX12YXIgbD1bXSx1PVtdO2ZvcihsLnB1c2goZSk7bC5sZW5ndGg+MDspe3ZhciBjPWxbbC5sZW5ndGgtMV07aWYobi5oYXMoYy5uYW1lKSlsLnBvcCgpO2Vsc2V7dmFyIHA9dVt1Lmxlbmd0aC0xXT09PWwubGVuZ3RoLTE7aWYoMD09PWMuaW5wdXRzLmxlbmd0aHx8cClsLnBvcCgpLHIucHVzaChjKSxuLmFkZChjLm5hbWUpLHAmJnUucG9wKCk7ZWxzZXt1LnB1c2gobC5sZW5ndGgtMSk7Zm9yKHZhciBoPTAsZD1jLmlucHV0cztoPGQubGVuZ3RoO2grKyl7dmFyIGY9ZFtoXTtudWxsPT1pW2YubmFtZV0mJihpW2YubmFtZV09bmV3IFNldCksaVtmLm5hbWVdLmFkZChjLm5hbWUpLG4uaGFzKGYubmFtZSl8fGwucHVzaChmKX19fX1yZXR1cm57c29ydGVkOnIscmVjaXBpZW50TWFwOml9fWZ1bmN0aW9uIGdldE5vZGVPdXRwdXRzKGUpe3ZhciB0O2lmKDE9PT1lLnNvdXJjZUxheWVyLmluYm91bmROb2Rlcy5sZW5ndGgpdD1lLnNvdXJjZUxheWVyLm91dHB1dDtlbHNle2Zvcih2YXIgbj1udWxsLHI9MDtyPGUuc291cmNlTGF5ZXIuaW5ib3VuZE5vZGVzLmxlbmd0aDsrK3IpZm9yKHZhciBpPTAsYT1lLnNvdXJjZUxheWVyLmluYm91bmROb2Rlc1tyXS5vdXRwdXRUZW5zb3JzO2k8YS5sZW5ndGg7aSsrKXtpZihhW2ldLmlkPT09ZS5pZCl7bj1yO2JyZWFrfX10PWUuc291cmNlTGF5ZXIuZ2V0T3V0cHV0QXQobil9cmV0dXJuIHR9dmFyIENvbnRhaW5lcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4pe3ZhciByPWUuY2FsbCh0aGlzLHt9KXx8dGhpcztpZihyLmNvbnRhaW5lck5vZGVzPW5ldyBTZXQsci5uYW1lPW4ubmFtZSxudWxsPT1yLm5hbWUpe3ZhciBpPXIuZ2V0Q2xhc3NOYW1lKCkudG9Mb3dlckNhc2UoKTtyLm5hbWU9Z2V0VWlkKGkpfWlmKHIuc3VwcG9ydHNNYXNraW5nPSExLHIudHJhaW5hYmxlXz0hMCxBcnJheS5pc0FycmF5KG4uaW5wdXRzKT9yLmlucHV0cz1uLmlucHV0cy5zbGljZSgpOnIuaW5wdXRzPVtuLmlucHV0c10sQXJyYXkuaXNBcnJheShuLm91dHB1dHMpP3Iub3V0cHV0cz1uLm91dHB1dHMuc2xpY2UoKTpyLm91dHB1dHM9W24ub3V0cHV0c10sdW5pcXVlKHIuaW5wdXRzKS5sZW5ndGghPT1yLmlucHV0cy5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJUaGUgbGlzdCBvZiBpbnB1dHMgcGFzc2VkIHRvIHRoZSBtb2RlbCBpcyByZWR1bmRhbnQuIEFsbCBpbnB1dHMgc2hvdWxkIG9ubHkgYXBwZWFyIG9uY2UuIEZvdW5kOiBcIityLmlucHV0cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pKTt1bmlxdWUoci5vdXRwdXRzKS5sZW5ndGghPT1yLm91dHB1dHMubGVuZ3RoJiZjb25zb2xlLndhcm4oXCJUaGUgbGlzdCBvZiBvdXRwdXRzIHBhc3NlZCB0byB0aGUgbW9kZWwgaXMgcmVkdW5kYW50LiBBbGwgb3V0cHV0cyBzaG91bGQgb25seSBhcHBlYXIgb25jZS4gRm91bmQ6IFwiK3Iub3V0cHV0cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pKSxyLmlucHV0TGF5ZXJzPVtdLHIuaW5wdXRMYXllcnNOb2RlSW5kaWNlcz1bXSxyLmlucHV0TGF5ZXJzVGVuc29ySW5kaWNlcz1bXSxyLm91dHB1dExheWVycz1bXSxyLm91dHB1dExheWVyc05vZGVJbmRpY2VzPVtdLHIub3V0cHV0TGF5ZXJzVGVuc29ySW5kaWNlcz1bXSxyLmxheWVycz1bXSxyLmludGVybmFsQ29udGFpbmVyUmVmcz1bXTtmb3IodmFyIGE9MCxvPXIub3V0cHV0czthPG8ubGVuZ3RoO2ErKyl7dmFyIHM9KEM9b1thXSkuc291cmNlTGF5ZXIsbD1DLm5vZGVJbmRleCx1PUMudGVuc29ySW5kZXg7ci5vdXRwdXRMYXllcnMucHVzaChzKSxyLm91dHB1dExheWVyc05vZGVJbmRpY2VzLnB1c2gobCksci5vdXRwdXRMYXllcnNUZW5zb3JJbmRpY2VzLnB1c2godSl9Zm9yKHZhciBjPTAscD1yLmlucHV0cztjPHAubGVuZ3RoO2MrKyl7cz0oQz1wW2NdKS5zb3VyY2VMYXllcixsPUMubm9kZUluZGV4LHU9Qy50ZW5zb3JJbmRleDthc3NlcnQoMD09PWwsXCJpbnB1dCBsYXllciBoYXMgPjEgbm9kZXNcIiksYXNzZXJ0KDA9PT11LFwiaW5wdXQgbGF5ZXIgaGFzID4xIHRlbnNvcnNcIiksci5pbnB1dExheWVycy5wdXNoKHMpLHIuaW5wdXRMYXllcnNOb2RlSW5kaWNlcy5wdXNoKGwpLHIuaW5wdXRMYXllcnNUZW5zb3JJbmRpY2VzLnB1c2godSl9ci5pbnB1dE5hbWVzPVtdLHIub3V0cHV0TmFtZXM9W10sci5mZWVkSW5wdXRTaGFwZXM9W10sci5mZWVkSW5wdXROYW1lcz1bXSxyLmZlZWRPdXRwdXROYW1lcz1bXTtmb3IodmFyIGg9MDtoPHIuaW5wdXRMYXllcnMubGVuZ3RoO2grKyl7aWYoISgocz1yLmlucHV0TGF5ZXJzW2hdKWluc3RhbmNlb2YgSW5wdXRMYXllcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIklucHV0IGxheWVycyB0byBhIExheWVyc01vZGVsIG11c3QgYmUgSW5wdXRMYXllciBvYmplY3RzLiBSZWNlaXZlZCBpbnB1dHM6IFwiK24uaW5wdXRzK1wiLiBJbnB1dCBcIitoK1wiICgwLWJhc2VkKSBvcmlnaW5hdGVzIGZyb20gbGF5ZXIgdHlwZSBcIitzLmdldENsYXNzTmFtZSgpK1wiLlwiKTtyLmlucHV0TmFtZXMucHVzaChzLm5hbWUpLHIuZmVlZElucHV0U2hhcGVzLnB1c2gocy5iYXRjaElucHV0U2hhcGUpLHIuZmVlZElucHV0TmFtZXMucHVzaChzLm5hbWUpfWZvcih2YXIgZD0wLGY9ci5vdXRwdXRMYXllcnM7ZDxmLmxlbmd0aDtkKyspe3M9ZltkXTtyLm91dHB1dE5hbWVzLnB1c2gocy5uYW1lKX1yLmludGVybmFsSW5wdXRTaGFwZXM9ci5pbnB1dHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNoYXBlfSksci5pbnRlcm5hbE91dHB1dFNoYXBlcz1yLm91dHB1dHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNoYXBlfSk7Zm9yKHZhciBnPXt9LG09e30seT17fSx2PXt9LGI9e30sdz1bXSx6PWZ1bmN0aW9uKGUsbixpLGEsbyxzKXtudWxsIT1hJiZudWxsIT1vJiZudWxsIT1zfHwoYT1lLnNvdXJjZUxheWVyLG89ZS5ub2RlSW5kZXgscz1lLnRlbnNvckluZGV4KTt2YXIgbD1hLmluYm91bmROb2Rlc1tvXTtpZigtMSE9PWkuaW5kZXhPZihsKSl0aHJvdyBuZXcgUnVudGltZUVycm9yKFwiVGhlIHRlbnNvciBcIitlLm5hbWUrJyBhdCBsYXllciBcIicrYS5uYW1lKydcIiBpcyBwYXJ0IG9mIGEgY3ljbGUuJyk7aWYoLTE9PT1uLmluZGV4T2YobCkpe3IuY29udGFpbmVyTm9kZXMuYWRkKHQubm9kZUtleShhLG8pKSxhLmlkIGluIGJ8fChiW2EuaWRdPU9iamVjdC5rZXlzKGIpLmxlbmd0aCksLTE9PT1pLmluZGV4T2YobCkmJmkucHVzaChsKTtmb3IodmFyIHU9bC5pbmJvdW5kTGF5ZXJzLmxlbmd0aCxjPTA7Yzx1O2MrKyl7dmFyIHA9bC5pbnB1dFRlbnNvcnNbY10saD1sLmluYm91bmRMYXllcnNbY10sZD1sLm5vZGVJbmRpY2VzW2NdLGY9bC50ZW5zb3JJbmRpY2VzW2NdO3oocCxuLGksaCxkLGYpfWZvcihuLnB1c2gobCk7aS5pbmRleE9mKGwpPj0wOylpLnNwbGljZShpLmluZGV4T2YobCksMSk7dy5wdXNoKGwpfX0sUz1bXSxBPVtdLF89MCxJPXIub3V0cHV0cztfPEkubGVuZ3RoO18rKyl7dmFyIEM9SVtfXTt6KEMsUyxBKX1mb3IodmFyIEU9MCxOPXcuc2xpY2UoKS5yZXZlcnNlKCk7RTxOLmxlbmd0aDtFKyspe21bKEs9TltFXSkuaWRdPUssSy5pZCBpbiBnfHwoZ1tLLmlkXT0wKTt2YXIgaz1nW0suaWRdLHg9bnVsbD09eVtLLm91dGJvdW5kTGF5ZXIuaWRdPzA6eVtLLm91dGJvdW5kTGF5ZXIuaWRdO2s9TWF0aC5tYXgoayx4KSx5W0sub3V0Ym91bmRMYXllci5pZF09ayx2W0sub3V0Ym91bmRMYXllci5pZF09Sy5vdXRib3VuZExheWVyLGdbSy5pZF09aztmb3IoaD0wO2g8Sy5pbmJvdW5kTGF5ZXJzLmxlbmd0aDtoKyspe3ZhciBMPUsuaW5ib3VuZExheWVyc1toXSxUPShsPUsubm9kZUluZGljZXNbaF0sTC5pbmJvdW5kTm9kZXNbbF0pLEQ9bnVsbD09Z1tULmlkXT8wOmdbVC5pZF07Z1tULmlkXT1NYXRoLm1heChrKzEsRCksbVtULmlkXT1UfX12YXIgTz17fTtmb3IodmFyIFIgaW4gZyl7KGs9Z1tSXSlpbiBPfHwoT1trXT1bXSksT1trXS5wdXNoKG1bUl0pfXZhciBNPXt9O2Zvcih2YXIgUCBpbiB5KXsoaz15W1BdKWluIE18fChNW2tdPVtdKSxNW2tdLnB1c2godltQXSl9dmFyIEY9T2JqZWN0LmtleXMoTSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0pLnNvcnQocmV2ZXJzZU51bWJlckNvbXBhcmUpO3IubGF5ZXJzPVtdO2Zvcih2YXIgVj0wLEI9RjtWPEIubGVuZ3RoO1YrKyl7dmFyIFU9TVtrPUJbVl1dO1Uuc29ydChmdW5jdGlvbihlLHQpe3ZhciBuPWJbZS5pZF0scj1iW3QuaWRdO3JldHVybiBuPHI/LTE6bj5yPzE6MH0pO2Zvcih2YXIgaj0wLFc9VTtqPFcubGVuZ3RoO2orKyl7KHM9V1tqXSlpbnN0YW5jZW9mIHQmJnIuaW50ZXJuYWxDb250YWluZXJSZWZzLnB1c2gocyksci5sYXllcnMucHVzaChzKX19ci5sYXllcnNCeURlcHRoPU0sRj1PYmplY3Qua2V5cyhPKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSkuc29ydChyZXZlcnNlTnVtYmVyQ29tcGFyZSk7Zm9yKHZhciAkPXIuaW5wdXRzLnNsaWNlKCkscT1bXSxHPTAsSD1GO0c8SC5sZW5ndGg7RysrKWZvcih2YXIgSj0wLFo9T1trPUhbR11dO0o8Wi5sZW5ndGg7SisrKXt2YXIgSztpZihudWxsIT0ocz0oSz1aW0pdKS5vdXRib3VuZExheWVyKSl7Zm9yKHZhciBZPTAsWD1LLmlucHV0VGVuc29ycztZPFgubGVuZ3RoO1krKyl7Qz1YW1ldO2lmKC0xPT09JC5pbmRleE9mKEMpKXRocm93IG5ldyBSdW50aW1lRXJyb3IoXCJHcmFwaCBkaXNjb25uZWN0ZWQ6IGNhbm5vdCBvYnRhaW4gdmFsdWUgZm9yIHRlbnNvciBcIitDKycgYXQgbGF5ZXIgXCInK3MubmFtZSsnXCIuIFRoZSBmb2xsb3dpbmcgcHJldmlvdXMgbGF5ZXJzIHdlcmUgYWNjZXNzZWQgd2l0aG91dCBpc3N1ZTogJytxKX1mb3IodmFyIFE9MCxlZT1LLm91dHB1dFRlbnNvcnM7UTxlZS5sZW5ndGg7USsrKXtDPWVlW1FdOyQucHVzaChDKX1xLnB1c2gocy5uYW1lKX19ci5ub2Rlc0J5RGVwdGg9Tztmb3IodmFyIHRlPXIubGF5ZXJzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSksbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGUuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZX0pLmxlbmd0aDtpZigxIT09dCl0aHJvdyBuZXcgUnVudGltZUVycm9yKCdUaGUgbmFtZSBcIicrZSsnXCIgaXMgdXNlZCAnK3QrXCIgdGltZXMgaW4gdGhlIG1vZGVsLiBBbGwgbGF5ZXIgbmFtZXMgc2hvdWxkIGJlIHVuaXF1ZS4gTGF5ZXIgbmFtZXM6IFwiK0pTT04uc3RyaW5naWZ5KHRlKSl9LHJlPTAsaWU9dGU7cmU8aWUubGVuZ3RoO3JlKyspe25lKGllW3JlXSl9cmV0dXJuIHIub3V0Ym91bmROb2Rlcz1bXSxyLmluYm91bmROb2Rlcz1bXSxuZXcgTm9kZSh7b3V0Ym91bmRMYXllcjpyLGluYm91bmRMYXllcnM6W10sbm9kZUluZGljZXM6W10sdGVuc29ySW5kaWNlczpbXSxpbnB1dFRlbnNvcnM6ci5pbnB1dHMsb3V0cHV0VGVuc29yczpyLm91dHB1dHMsaW5wdXRNYXNrczpyLmlucHV0cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9KSxvdXRwdXRNYXNrczpyLm91dHB1dHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSksaW5wdXRTaGFwZXM6ci5pbnB1dHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNoYXBlfSksb3V0cHV0U2hhcGVzOnIub3V0cHV0cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2hhcGV9KX0pLHIuYnVpbHQ9ITAsci5fcmVmQ291bnQ9MSxyfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hc3NlcnROb3REaXNwb3NlZD1mdW5jdGlvbigpe2lmKDA9PT10aGlzLl9yZWZDb3VudCl0aHJvdyBuZXcgRXJyb3IoXCJDb250YWluZXIgJ1wiK3RoaXMubmFtZStcIicgaXMgYWxyZWFkeSBkaXNwb3NlZC5cIil9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmFzc2VydE5vdERpc3Bvc2VkKCk7dmFyIGU9e3JlZkNvdW50QWZ0ZXJEaXNwb3NlOm51bGwsbnVtRGlzcG9zZWRWYXJpYWJsZXM6MH07aWYoMD09LS10aGlzLl9yZWZDb3VudCl7Zm9yKHZhciB0PTAsbj10aGlzLmxheWVyczt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtlLm51bURpc3Bvc2VkVmFyaWFibGVzKz1yLmRpc3Bvc2UoKS5udW1EaXNwb3NlZFZhcmlhYmxlc31mb3IodmFyIGk9MCxhPXRoaXMuaW50ZXJuYWxDb250YWluZXJSZWZzO2k8YS5sZW5ndGg7aSsrKXt2YXIgbz1hW2ldO2UubnVtRGlzcG9zZWRWYXJpYWJsZXMrPW8uZGlzcG9zZSgpLm51bURpc3Bvc2VkVmFyaWFibGVzfX1yZXR1cm4gZS5yZWZDb3VudEFmdGVyRGlzcG9zZT10aGlzLl9yZWZDb3VudCxlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ0cmFpbmFibGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhaW5hYmxlX30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMubGF5ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dC5fdHJhaW5hYmxlV2VpZ2h0cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWluYWJsZT1lfSl9KSx0aGlzLnRyYWluYWJsZV89ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ0cmFpbmFibGVXZWlnaHRzXCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3RyYWluYWJsZVdlaWdodHMubGVuZ3RoPjApdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJDb250YWluZXIgaW5zdGFuY2UgdW5leHBlY3RlZGx5IGNvbnRhaW5zIF90cmFpbmFibGVXZWlnaHRzLlRoZSB0cmFpbmFibGUgd2VpZ2h0cyBvZiBhIENvbnRhaW5lciBhcmUgYSB1bmlvbiBvZiB0aGUgdHJhaW5hYmxlIHdlaWdodHMgb2YgaXRzIGNvbnNpdHVlbnQgTGF5ZXJzLiBJdHMgb3duIF90cmFpbmFibGVXZWlnaHRzIG11c3QgcmVtYWluIGFuIGVtcHR5IEFycmF5LlwiKTtpZighdGhpcy50cmFpbmFibGUpcmV0dXJuW107Zm9yKHZhciBlPVtdLHQ9MCxuPXRoaXMubGF5ZXJzO3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1uW3RdO2U9ZS5jb25jYXQoci50cmFpbmFibGVXZWlnaHRzKX1yZXR1cm4gZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJub25UcmFpbmFibGVXZWlnaHRzXCIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTAsbj10aGlzLmxheWVyczt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtlLnB1c2guYXBwbHkoZSxyLm5vblRyYWluYWJsZVdlaWdodHMpfWlmKCF0aGlzLnRyYWluYWJsZSl7Zm9yKHZhciBpPVtdLGE9MCxvPXRoaXMubGF5ZXJzO2E8by5sZW5ndGg7YSsrKXtyPW9bYV07aS5wdXNoLmFwcGx5KGksci50cmFpbmFibGVXZWlnaHRzKX1yZXR1cm4gaS5jb25jYXQoZSl9cmV0dXJuIGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwid2VpZ2h0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFpbmFibGVXZWlnaHRzLmNvbmNhdCh0aGlzLm5vblRyYWluYWJsZVdlaWdodHMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmxvYWRXZWlnaHRzPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9ITApO2Zvcih2YXIgbj17fSxyPTAsaT0wLGE9dGhpcy5sYXllcnM7aTxhLmxlbmd0aDtpKyspZm9yKHZhciBvPTAscz1hW2ldLndlaWdodHM7bzxzLmxlbmd0aDtvKyspe3ZhciBsPXNbb107aWYobnVsbCE9bltsLm9yaWdpbmFsTmFtZV0pdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJEdXBsaWNhdGUgd2VpZ2h0IG5hbWU6IFwiK2wub3JpZ2luYWxOYW1lKTtuW2wub3JpZ2luYWxOYW1lXT1sLHIrK312YXIgdT1bXTtmb3IodmFyIGMgaW4gZSl7aWYobnVsbCE9bltjXSl1LnB1c2goW25bY10sZVtjXV0pO2Vsc2UgaWYodCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlByb3ZpZGVkIHdlaWdodCBkYXRhIGhhcyBubyB0YXJnZXQgdmFyaWFibGU6IFwiK2MpO2RlbGV0ZSBuW2NdfWlmKHQpe3ZhciBwPVtdO2Zvcih2YXIgaCBpbiBuKXAucHVzaChoKTtpZihwLmxlbmd0aD4wKXRocm93IG5ldyBWYWx1ZUVycm9yKHAubGVuZ3RoK1wiIG9mIFwiK3IrXCIgd2VpZ2h0cyBhcmUgbm90IHNldDogXCIrcCl9YmF0Y2hTZXRWYWx1ZSh1KX0sdC5wcm90b3R5cGUudXBkYXRlZENvbmZpZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q29uZmlnKCksdD17fTtyZXR1cm4gdC5jbGFzc05hbWU9dGhpcy5nZXRDbGFzc05hbWUoKSx0LmNvbmZpZz1lLHQua2VyYXNWZXJzaW9uPVwidGZqcy1sYXllcnMgXCIrdmVyc2lvbix0LmJhY2tlbmQ9XCJUZW5zb3JGbG93LmpzXCIsdH0sdC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9ITApO3ZhciBuPWNvbnZlcnRUc1RvUHl0aG9uaWModGhpcy51cGRhdGVkQ29uZmlnKCkpO3JldHVybiB0P0pTT04uc3RyaW5naWZ5KG4pOm59LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7ZT10b0xpc3QoZSk7Zm9yKHZhciByPW5ldyBGZWVkRGljdCxpPTA7aTxuLmlucHV0cy5sZW5ndGg7KytpKXIuYWRkKG4uaW5wdXRzW2ldLGVbaV0pO3JldHVybiBleGVjdXRlKG4ub3V0cHV0cyxyLHQpfSl9LHQucHJvdG90eXBlLmNvbXB1dGVNYXNrPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciByO3JldHVybiBlPXRvTGlzdChlKSxyPW51bGw9PXQ/cHlMaXN0UmVwZWF0KG51bGwsZS5sZW5ndGgpOnRvTGlzdCh0KSxuLnJ1bkludGVybmFsR3JhcGgoZSxyKVsxXX0pfSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7dmFyIHQ9bm9ybWFsaXplU2hhcGVMaXN0KGUpO2lmKHQubGVuZ3RoIT09dGhpcy5pbnB1dExheWVycy5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJbnZhbGlkIGlucHV0U2hhcGUgYXJndW1lbnQgXCIrZStcIjogbW9kZWwgaGFzIFwiK3RoaXMuaW5wdXRMYXllcnMubGVuZ3RoK1wiIHRlbnNvciBpbnB1dHMuXCIpO2Zvcih2YXIgbj17fSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRoaXMuaW5wdXRMYXllcnNbcl0sYT10W3JdO25bQT1pLm5hbWUrXCJfMF8wXCJdPWF9dmFyIG89T2JqZWN0LmtleXModGhpcy5ub2Rlc0J5RGVwdGgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KS5zb3J0KHJldmVyc2VOdW1iZXJDb21wYXJlKTtpZihvLmxlbmd0aD4xKWZvcih2YXIgcz0wLGw9bztzPGwubGVuZ3RoO3MrKylmb3IodmFyIHU9bFtzXSxjPTAscD10aGlzLm5vZGVzQnlEZXB0aFt1XTtjPHAubGVuZ3RoO2MrKyl7dmFyIGg9cFtjXTtpPWgub3V0Ym91bmRMYXllcjtpZigtMT09PXRoaXMuaW5wdXRMYXllcnMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkuaW5kZXhPZihpLmlkKSl7Zm9yKHZhciBkPVtdLGY9MDtmPGguaW5ib3VuZExheWVycy5sZW5ndGg7ZisrKXt2YXIgZz1oLmluYm91bmRMYXllcnNbZl0sbT1oLm5vZGVJbmRpY2VzW2ZdLHk9aC50ZW5zb3JJbmRpY2VzW2ZdLHY9bltBPWcubmFtZStcIl9cIittK1wiX1wiK3ldO2QucHVzaCh2KX12YXIgYj1ub3JtYWxpemVTaGFwZUxpc3QoaS5jb21wdXRlT3V0cHV0U2hhcGUoc2luZ2xldG9uT3JBcnJheShkKSkpLHc9aS5pbmJvdW5kTm9kZXMuaW5kZXhPZihoKTtmb3IoZj0wO2Y8Yi5sZW5ndGg7ZisrKXtuW0E9aS5uYW1lK1wiX1wiK3crXCJfXCIrZl09YltmXX19fXZhciB6PVtdLFM9W107Zm9yKHI9MDtyPHRoaXMub3V0cHV0TGF5ZXJzLmxlbmd0aDtyKyspe2k9dGhpcy5vdXRwdXRMYXllcnNbcl0sdz10aGlzLm91dHB1dExheWVyc05vZGVJbmRpY2VzW3JdLHk9dGhpcy5vdXRwdXRMYXllcnNUZW5zb3JJbmRpY2VzW3JdO3ZhciBBPWkubmFtZStcIl9cIit3K1wiX1wiK3k7Uy5wdXNoKEEpfWZvcihyPTA7cjxTLmxlbmd0aDtyKyspe3ZhciBfPVNbcl07YXNzZXJ0KF8gaW4gbiksei5wdXNoKG5bX10pfXJldHVybiBzaW5nbGV0b25PckFycmF5KHopfSx0LnByb3RvdHlwZS5ydW5JbnRlcm5hbEdyYXBoPWZ1bmN0aW9uKGUsdCl7bnVsbD09dCYmKHQ9cHlMaXN0UmVwZWF0KG51bGwsZS5sZW5ndGgpKTtmb3IodmFyIG49e30scj0wO3I8dGhpcy5pbnB1dHMubGVuZ3RoOysrcil7dmFyIGk9dGhpcy5pbnB1dHNbcl0sYT1lW3JdLG89dFtyXTtuW2kuaWRdPVthLG9dfWZvcih2YXIgcz0wLGw9T2JqZWN0LmtleXModGhpcy5ub2Rlc0J5RGVwdGgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KS5zb3J0KHJldmVyc2VOdW1iZXJDb21wYXJlKTtzPGwubGVuZ3RoO3MrKylmb3IodmFyIHU9bFtzXSxjPTAscD10aGlzLm5vZGVzQnlEZXB0aFt1XTtjPHAubGVuZ3RoO2MrKyl7Zm9yKHZhciBoPXBbY10sZD1oLm91dGJvdW5kTGF5ZXIsZj1oLmlucHV0VGVuc29ycyxnPWgub3V0cHV0VGVuc29ycyxtPW5ldyBBcnJheSx5PTAsdj1mO3k8di5sZW5ndGg7eSsrKXsoaT12W3ldKS5pZCBpbiBuJiZtLnB1c2gobltpLmlkXSl9aWYobS5sZW5ndGg9PT1mLmxlbmd0aCl7dmFyIGI9e30sdz12b2lkIDAsej12b2lkIDAsUz12b2lkIDAsQT12b2lkIDA7aWYobnVsbCE9aC5jYWxsQXJncyYmKGI9aC5jYWxsQXJncyksMT09PW0ubGVuZ3RoKXt2YXIgXz1tWzBdLEk9X1swXSxDPV9bMV07bnVsbD09Yi5tYXNrJiYoYi5tYXNrPUMpLFM9dG9MaXN0KGQuY2FsbChJLGIpKSxBPXRvTGlzdChkLmNvbXB1dGVNYXNrKEksQykpLHc9W0ldLHo9W0NdfWVsc2Ugdz1tLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZVswXX0pLHo9bS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV19KSxudWxsPT1iLm1hc2smJihiLm1hc2s9eiksUz10b0xpc3QoZC5jYWxsKHcsYikpLEE9dG9MaXN0KGQuY29tcHV0ZU1hc2sodyx6KSk7aWYoZC5hY3Rpdml0eVJlZ3VsYXJpemVyKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiTGF5ZXJzTW9kZWwgaW52b2NhdGlvbiB3aXRoIGNvbmNyZXRlIFRlbnNvciB2YWx1ZShzKSBpbiB0aGUgcHJlc2VuY2Ugb2YgYWN0aXZpdHkgcmVndWxhcml6ZXIocykgaXMgbm90IHN1cHBvcnRlZCB5ZXQuXCIpO2ZvcihyPTA7cjxnLmxlbmd0aDsrK3Ipe2k9Z1tyXSxhPVNbcl0sbz1BW3JdO25baS5pZF09W2Esb119fX1mb3IodmFyIEU9W10sTj1bXSxrPVtdLHg9MCxMPXRoaXMub3V0cHV0czt4PEwubGVuZ3RoO3grKyl7YXNzZXJ0KChpPUxbeF0pLmlkIGluIG4sXCJDb3VsZCBub3QgY29tcHV0ZSBvdXRwdXQgXCIraS5uYW1lK1wiIDogXCIraS5pZCk7dmFyIFQ9bltpLmlkXSxEPVRbMF07bz1UWzFdO2sucHVzaChELnNoYXBlKSxFLnB1c2goRCksTi5wdXNoKG8pfXJldHVybltFLE4sa119LHQucHJvdG90eXBlLmJ1aWxkTm9kZUNvbnZlcnNpb25NYXA9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuLHI9e30saT0wLGE9dGhpcy5sYXllcnM7aTxhLmxlbmd0aDtpKyspe3ZhciBvPWFbaV07bj1vIGluc3RhbmNlb2YgdD8xOjA7Zm9yKHZhciBzPTA7czxvLmluYm91bmROb2Rlcy5sZW5ndGg7cysrKXt2YXIgbD10Lm5vZGVLZXkobyxzKTt0aGlzLmNvbnRhaW5lck5vZGVzLmhhcyhsKSYmKHJbbF09bixuKz0xKX19cmV0dXJuIHJ9LHQucHJvdG90eXBlLmdldExheWVyPWZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9dCl7aWYodGhpcy5sYXllcnMubGVuZ3RoPD10KXRocm93IG5ldyBWYWx1ZUVycm9yKFwiV2FzIGFza2VkIHRvIHJldHJpZXZlIGxheWVyIGF0IGluZGV4IFwiK3QrXCIsIGJ1dCBtb2RlbCBvbmx5IGhhcyBcIit0aGlzLmxheWVycy5sZW5ndGgrXCIgbGF5ZXIocykuXCIpO3JldHVybiB0aGlzLmxheWVyc1t0XX1pZihudWxsPT1lKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiUHJvdmlkZSBlaXRoZXIgYSBsYXllciBuYW1lIG9yIGxheWVyIGluZGV4XCIpO2Zvcih2YXIgbj0wLHI9dGhpcy5sYXllcnM7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07aWYoaS5uYW1lPT09ZSlyZXR1cm4gaX10aHJvdyBuZXcgVmFsdWVFcnJvcihcIk5vIHN1Y2ggbGF5ZXI6IFwiK2UpfSx0LnByb3RvdHlwZS5jYWxjdWxhdGVMb3NzZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7Zm9yKHZhciBuPVtdLHI9MCxpPWUubGF5ZXJzO3I8aS5sZW5ndGg7cisrKWZvcih2YXIgYT1pW3JdLG89MDtvPGEuaW5ib3VuZE5vZGVzLmxlbmd0aDsrK28pe3ZhciBzPXQubm9kZUtleShhLG8pO2UuY29udGFpbmVyTm9kZXMuaGFzKHMpJiZuLnB1c2guYXBwbHkobixhLmNhbGN1bGF0ZUxvc3NlcygpKX1yZXR1cm4gbn0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9e25hbWU6dGhpcy5uYW1lfSxuPXRoaXMuYnVpbGROb2RlQ29udmVyc2lvbk1hcCh0aGlzLmxheWVycykscj1bXSxpPTAsYT10aGlzLmxheWVycztpPGEubGVuZ3RoO2krKyl7Zm9yKHZhciBvPSh3PWFbaV0pLmdldENsYXNzTmFtZSgpLHM9dy5nZXRDb25maWcoKSxsPVtdLHU9MDt1PHcuaW5ib3VuZE5vZGVzLmxlbmd0aDt1Kyspe3ZhciBjPXcuaW5ib3VuZE5vZGVzW3VdLHA9dC5ub2RlS2V5KHcsdSksaD17fTtpZih0aGlzLmNvbnRhaW5lck5vZGVzLmhhcyhwKSl7aWYoYy5jYWxsQXJncyl0cnl7SlNPTi5zdHJpbmdpZnkoYy5jYWxsQXJncyksaD1jLmNhbGxBcmdzfWNhdGNoKGUpe2NvbnNvbGUud2FybihcIkxheWVyIFwiK3cubmFtZStcIiB3YXMgcGFzc2VkIG5vbi1zZXJpYWxpemFibGUga2V5d29yZCBhcmd1bWVudHM6IFwiK2MuY2FsbEFyZ3MrXCIuIFRoZXkgd2lsbCBub3QgYmUgaW5jbHVkZWQgaW4gdGhlIHNlcmlhbGl6ZWQgbW9kZWwgKGFuZCB0aHVzIHdpbGwgYmUgbWlzc2luZyBhdCBkZXNlcmlhbGl6YXRpb24gdGltZSkuXCIpLGg9e319aWYoYy5pbmJvdW5kTGF5ZXJzLmxlbmd0aD4wKXtmb3IodmFyIGQ9W10sZj0wO2Y8Yy5pbmJvdW5kTGF5ZXJzLmxlbmd0aDtmKyspe3ZhciBnPWMuaW5ib3VuZExheWVyc1tmXSxtPWMubm9kZUluZGljZXNbZl0seT1jLnRlbnNvckluZGljZXNbZl07bnVsbD09KFM9blt0Lm5vZGVLZXkoZyxtKV0pJiYoUz0wKSxkLnB1c2goW2cubmFtZSxTLHksaF0pfWwucHVzaChkKX19fXZhciB2PXt9O3YubmFtZT13Lm5hbWUsdi5jbGFzc05hbWU9byx2LmNvbmZpZz1zLHYuaW5ib3VuZE5vZGVzPWwsci5wdXNoKHYpfWUubGF5ZXJzPXI7dmFyIGI9W107Zm9yKGY9MDtmPHRoaXMuaW5wdXRMYXllcnMubGVuZ3RoO2YrKyl7dmFyIHc9dGhpcy5pbnB1dExheWVyc1tmXTttPXRoaXMuaW5wdXRMYXllcnNOb2RlSW5kaWNlc1tmXSxwPXQubm9kZUtleSh3LG0pO2lmKHRoaXMuY29udGFpbmVyTm9kZXMuaGFzKHApKXtudWxsIT09KFM9bltwXSkmJnZvaWQgMCE9PVN8fChTPTApO3k9dGhpcy5pbnB1dExheWVyc1RlbnNvckluZGljZXNbZl07Yi5wdXNoKFt3Lm5hbWUsUyx5XSl9fWUuaW5wdXRMYXllcnM9Yjt2YXIgej1bXTtmb3IoZj0wO2Y8dGhpcy5vdXRwdXRMYXllcnMubGVuZ3RoO2YrKyl7dz10aGlzLm91dHB1dExheWVyc1tmXSxtPXRoaXMub3V0cHV0TGF5ZXJzTm9kZUluZGljZXNbZl0scD10Lm5vZGVLZXkodyxtKTtpZih0aGlzLmNvbnRhaW5lck5vZGVzLmhhcyhwKSl7dmFyIFM7bnVsbCE9PShTPW5bcF0pJiZ2b2lkIDAhPT1TfHwoUz0wKTt5PXRoaXMub3V0cHV0TGF5ZXJzVGVuc29ySW5kaWNlc1tmXTt6LnB1c2goW3cubmFtZSxTLHldKX19cmV0dXJuIGUub3V0cHV0TGF5ZXJzPXosZX0sdC5mcm9tQ29uZmlnPWZ1bmN0aW9uKGUsdCxuLHIpe3ZvaWQgMD09PW4mJihuPXt9KSx2b2lkIDA9PT1yJiYocj0hMSk7dmFyIGk9e30sYT17fTtmdW5jdGlvbiBvKGUsdCl7ZS5uYW1lIGluIGE/YVtlLm5hbWVdLnB1c2godCk6YVtlLm5hbWVdPVt0XX1mdW5jdGlvbiBzKGUsdCl7Zm9yKHZhciBuLHI9W10sYT0wLHM9dDthPHMubGVuZ3RoO2ErKyl7dmFyIGw9c1thXSx1PWxbMF0sYz1sWzFdLHA9bFsyXTtpZihuPW51bGw9PWxbM10/e306bFszXSwhKHUgaW4gaSkpcmV0dXJuIHZvaWQgbyhlLHQpO3ZhciBoPWlbdV07aWYoaC5pbmJvdW5kTm9kZXMubGVuZ3RoPD1jKXJldHVybiB2b2lkIG8oZSx0KTt2YXIgZD1oLmluYm91bmROb2Rlc1tjXTtyLnB1c2goZC5vdXRwdXRUZW5zb3JzW3BdKX1yLmxlbmd0aD4wJiZlLmFwcGx5KHNpbmdsZXRvbk9yQXJyYXkociksbil9ZnVuY3Rpb24gbChlKXt2YXIgbj1lLm5hbWUsYT1kZXNlcmlhbGl6ZShlLG51bGwhPXQuY3VzdG9tT2JqZWN0cz90LmN1c3RvbU9iamVjdHM6e30pO2Euc2V0RmFzdFdlaWdodEluaXREdXJpbmdCdWlsZChyKSxpW25dPWEsZS5pbmJvdW5kTm9kZXMuZm9yRWFjaChmdW5jdGlvbihlKXtpZighKGUgaW5zdGFuY2VvZiBBcnJheSkpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJDb3JydXB0ZWQgY29uZmlndXJhdGlvbiwgZXhwZWN0ZWQgYXJyYXkgZm9yIG5vZGVEYXRhOiBcIitlKTtvKGEsZSl9KX1mb3IodmFyIHU9dC5uYW1lLGM9dC5sYXllcnMscD0wLGg9YztwPGgubGVuZ3RoO3ArKyl7bChnPWhbcF0pfWZvcig7IWlzT2JqZWN0RW1wdHkoYSk7KWZvcih2YXIgZD0wLGY9YztkPGYubGVuZ3RoO2QrKyl7dmFyIGc9ZltkXTtpZigoaz1pW2cubmFtZV0pLm5hbWUgaW4gYSl7dmFyIG09YVtrLm5hbWVdO2RlbGV0ZSBhW2submFtZV07Zm9yKHZhciB5PTAsdj1tO3k8di5sZW5ndGg7eSsrKXtzKGssdlt5XSl9fX1mb3IodmFyIGI9W10sdz1bXSx6PTAsUz10LmlucHV0TGF5ZXJzO3o8Uy5sZW5ndGg7eisrKXt2YXIgQT0oZz1TW3pdKVswXSxfPWdbMV0sST1nWzJdO2Fzc2VydChBIGluIGkpO3ZhciBDPShrPWlbQV0pLmluYm91bmROb2Rlc1tfXS5vdXRwdXRUZW5zb3JzO2IucHVzaChDW0ldKX1mb3IodmFyIEU9MCxOPXQub3V0cHV0TGF5ZXJzO0U8Ti5sZW5ndGg7RSsrKXtBPShnPU5bRV0pWzBdLF89Z1sxXSxJPWdbMl07YXNzZXJ0KEEgaW4gaSk7dmFyIGs7Qz0oaz1pW0FdKS5pbmJvdW5kTm9kZXNbX10ub3V0cHV0VGVuc29yczt3LnB1c2goQ1tJXSl9cmV0dXJuIG5ldyBlKHtpbnB1dHM6YixvdXRwdXRzOncsbmFtZTp1fSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInN0YXRlZnVsXCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3N0YXRlZnVsKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiQ29udGFpbmVyIGluc3RhbmNlIHVuZXhwZWN0ZWRseSBoYXMgX3N0YXRlZnVsID0gdHJ1ZS4gVGhlIHN0YXRlZnVsbmVzcyBvZiBhIENvbnRhaW5lciBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBMYXllcnMgaXQgY29udGFpbnMuIEl0cyBfc3RhdGVmdWwgcHJvcGVydHkgbXVzdCByZW1haW4gdGhlIGRlZmF1bHQgZmFsc2UuXCIpO2Zvcih2YXIgZT0wLHQ9dGhpcy5sYXllcnM7ZTx0Lmxlbmd0aDtlKyspe2lmKHRbZV0uc3RhdGVmdWwpcmV0dXJuITB9cmV0dXJuITF9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmVzZXRTdGF0ZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RpZHkoZnVuY3Rpb24oKXtlLmxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc3RhdGVmdWwmJmUucmVzZXRTdGF0ZXMoKX0pfSl9LHR9KExheWVyKTtmdW5jdGlvbiBzdGFuZGFyZGl6ZVNhbXBsZU9yQ2xhc3NXZWlnaHRzKGUsdCxuKXt2YXIgcj10Lmxlbmd0aDtpZihudWxsPT1lfHxBcnJheS5pc0FycmF5KGUpJiYwPT09ZS5sZW5ndGgpcmV0dXJuIHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSk7aWYoMT09PXIpcmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjE9PT1lLmxlbmd0aD9lOlwib2JqZWN0XCI9PXR5cGVvZiBlJiZ0WzBdaW4gZT9bZVt0WzBdXV06W2VdO2lmKEFycmF5LmlzQXJyYXkoZSkpe2lmKGUubGVuZ3RoIT09cil0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlZCBcIituK1wiIGlzIGFuIGFycmF5IG9mIFwiK2UubGVuZ3RoK1wiIGVsZW1lbnQocyksIGJ1dCB0aGUgbW9kZWwgaGFzIFwiK3IrXCIgb3V0cHV0cy4gTWFrZSBzdXJlIGEgc2V0IG9mIHdlaWdodHMgaXMgcHJvdmlkZWQgZm9yIGVhY2ggbW9kZWwgb3V0cHV0LlwiKTtyZXR1cm4gZX1pZihcIm9iamVjdFwiPT10eXBlb2YgZSYmT2JqZWN0LmtleXMoZSkubGVuZ3RoPjAmJlwib2JqZWN0XCI9PXR5cGVvZiBlW09iamVjdC5rZXlzKGUpWzBdXSl7dmFyIGk9W107cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXt0IGluIGU/aS5wdXNoKGVbdF0pOmkucHVzaChudWxsKX0pLGl9dGhyb3cgbmV3IEVycm9yKFwiVGhlIG1vZGVsIGhhcyBtdWx0aXBsZSAoXCIrcitcIikgb3V0cHV0cywgc28gXCIrbitcIiBtdXN0IGJlIGVpdGhlciBhbiBhcnJheSB3aXRoIFwiK3IrXCIgZWxlbWVudHMgb3IgYW4gb2JqZWN0IHdpdGggXCIrdCtcIiBrZXlzLiBQcm92aWRlZCBcIituK1wiIG5vdCB1bmRlcnN0b29kOiBcIitKU09OLnN0cmluZ2lmeShlKSl9ZnVuY3Rpb24gc3RhbmRhcmRpemVDbGFzc1dlaWdodHMoZSx0KXtyZXR1cm4gc3RhbmRhcmRpemVTYW1wbGVPckNsYXNzV2VpZ2h0cyhlLHQsXCJjbGFzc1dlaWdodFwiKX1mdW5jdGlvbiBzdGFuZGFyZGl6ZVdlaWdodHMoZSx0LG4scil7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaSxhLG8scyxsO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6aWYobnVsbCE9dHx8bnVsbCE9cil0aHJvdyBuZXcgRXJyb3IoXCJTdXBwb3J0IHNhbXBsZVdlaWdodCBpcyBub3QgaW1wbGVtZW50ZWQgeWV0XCIpO3JldHVybiBudWxsPT1uP1szLDJdOihpPXRpZHkoZnVuY3Rpb24oKXtpZigxPT09ZS5zaGFwZS5sZW5ndGgpcmV0dXJuIGUuY2xvbmUoKTtpZigyPT09ZS5zaGFwZS5sZW5ndGgpe2lmKGUuc2hhcGVbMV0+MSl7cmV0dXJuIGUuYXJnTWF4KDEpfWlmKDE9PT1lLnNoYXBlWzFdKXJldHVybiBlLnJlc2hhcGUoW2Uuc2hhcGVbMF1dKTt0aHJvdyBuZXcgRXJyb3IoXCJFbmNvdW50ZXJlZCB1bmV4cGVjdGVkIGxhc3QtZGltZW5zaW9uIHNpemUgKFwiK2Uuc2hhcGVbMV0rXCIpIGR1cmluZyBoYW5kbGluZyBvZiBjbGFzcyB3ZWlnaHRzLiBUaGUgc2l6ZSBpcyBleHBlY3RlZCB0byBiZSA+PSAxLlwiKX10aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHJhbmsgb2YgdGFyZ2V0ICh5KSB0ZW5zb3IgKFwiK2UucmFuaytcIikgZHVyaW5nIGhhbmRsaW5nIG9mIGNsYXNzIHdlaWdodHMuIFRoZSByYW5rIGlzIGV4cGVjdGVkIHRvIGJlIDEgb3IgMi5cIil9KSxzPShvPUFycmF5KS5mcm9tLFs0LGkuZGF0YSgpXSk7Y2FzZSAxOnJldHVybiBhPXMuYXBwbHkobyxbdS5zZW50KCldKSxkaXNwb3NlKGkpLGw9W10sYS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKG51bGw9PW5bZV0pdGhyb3cgbmV3IEVycm9yKFwiY2xhc3NXZWlnaHQgbXVzdCBjb250YWluIGFsbCBjbGFzc2VzIGluIHRoZSB0cmFpbmluZyBkYXRhLiBUaGUgY2xhc3MgXCIrZStcIiBleGlzdHMgaW4gdGhlIGRhdGEgYnV0IG5vdCBpbiBjbGFzc1dlaWdodFwiKTtsLnB1c2gobltlXSl9KSxbMix0ZW5zb3IxZChsLFwiZmxvYXQzMlwiKV07Y2FzZSAyOnJldHVyblsyLG51bGxdfX0pfSl9ZnVuY3Rpb24gY29tcHV0ZVdlaWdodGVkTG9zcyhlLHQpe3JldHVybiBtdWwoZSx0KX12YXIgREVGQVVMVF9WQUxJREFUSU9OX0JBVENIX1NJWkU9MzI7ZnVuY3Rpb24gc3RhbmRhcmRpemVEYXRhSXRlcmF0b3JPdXRwdXQoZSx0KXt2YXIgbixyLGk9dDtuPWkueHMscj1pLnlzLHV0aWwuYXNzZXJ0KG51bGwhPW4mJm51bGwhPXIsZnVuY3Rpb24oKXtyZXR1cm5cIkEgRGF0YXNldCBpdGVyYXRvciBmb3IgZml0RGF0YXNldCgpIGlzIGV4cGVjdGVkIHRvIGdlbmVyYXRlIG9iamVjdHMgb2YgdGhlIGZvcm0gYHt4czogeFZhbCwgeXM6IHlWYWx9YCwgd2hlcmUgdGhlIHR3byB2YWx1ZXMgbWF5IGJlIGB0Zi5UZW5zb3JgLCBhbiBhcnJheSBvZiBUZW5zb3JzLCBvciBhIG1hcCBvZiBzdHJpbmcgdG8gVGVuc29yLiAgVGhlIHByb3ZpZGVkIERhdGFzZXQgaW5zdGVhZCBnZW5lcmF0ZXMgXCIrdH0pO3ZhciBhPWZsYXR0ZW5UZW5zb3JPckFycmF5T3JNYXAoXCJpbnB1dFwiLGUuaW5wdXROYW1lcyxuKSxvPWZsYXR0ZW5UZW5zb3JPckFycmF5T3JNYXAoXCJvdXRwdXRcIixlLm91dHB1dE5hbWVzLHIpLHM9YVswXS5zaGFwZVswXTt1dGlsLmFzc2VydChhLmxlbmd0aD09PWUuaW5wdXRzLmxlbmd0aCxmdW5jdGlvbigpe3JldHVyblwiTGF5ZXJzTW9kZWwgaGFzIFwiK2UuaW5wdXRzLmxlbmd0aCtcIiBpbnB1dHMsIGJ1dCB0aGUgZGF0YXNldCBwcm92aWRlcyBcIithLmxlbmd0aCtcIiBpbnB1dHMuICAoRXhwZWN0ZWQgaW5wdXQga2V5czogXCIrSlNPTi5zdHJpbmdpZnkoZS5pbnB1dE5hbWVzKStcIilcIn0pLHV0aWwuYXNzZXJ0KG8ubGVuZ3RoPT09ZS5vdXRwdXRzLmxlbmd0aCxmdW5jdGlvbigpe3JldHVyblwiTGF5ZXJzTW9kZWwgaGFzIFwiK2Uub3V0cHV0cy5sZW5ndGgrXCIgb3V0cHV0cywgYnV0IHRoZSBkYXRhc2V0IHByb3ZpZGVzIFwiK28ubGVuZ3RoK1wiIG91dHB1dHMuICAoRXhwZWN0ZWQgb3V0cHV0IGtleXM6IFwiK0pTT04uc3RyaW5naWZ5KGUub3V0cHV0TmFtZXMpK1wiKVwifSk7Zm9yKHZhciBsPWZ1bmN0aW9uKHQpe3V0aWwuYXNzZXJ0KGFbdF0uc2hhcGVbMF09PT1zLGZ1bmN0aW9uKCl7cmV0dXJuXCJCYXRjaCBzaXplIG1pc21hdGNoOiBpbnB1dCBcIitlLmlucHV0TmFtZXNbdF0rXCIgaGFzIFwiK2FbdF0uc2hhcGVbMF0rXCI7IGV4cGVjdGVkICBcIitzK1wiIGJhc2VkIG9uIGlucHV0IFwiK2UuaW5wdXROYW1lc1swXStcIi5cIn0pfSx1PTA7dTxhLmxlbmd0aDt1KyspbCh1KTtmb3IodmFyIGM9ZnVuY3Rpb24odCl7dXRpbC5hc3NlcnQob1t0XS5zaGFwZVswXT09PXMsZnVuY3Rpb24oKXtyZXR1cm5cIkJhdGNoIHNpemUgbWlzbWF0Y2g6IG91dHB1dCBcIitlLm91dHB1dE5hbWVzW3RdK1wiIGhhcyBcIitvW3RdLnNoYXBlWzBdK1wiOyBleHBlY3RlZCAgXCIrcytcIiBiYXNlZCBvbiBpbnB1dCBcIitlLmlucHV0TmFtZXNbMF0rXCIuXCJ9KX0scD0wO3A8by5sZW5ndGg7cCsrKWMocCk7cmV0dXJue3hzOmEseXM6b319ZnVuY3Rpb24gZmxhdHRlblRlbnNvck9yQXJyYXlPck1hcChlLHQsbil7aWYobiBpbnN0YW5jZW9mIFRlbnNvcilyZXR1cm5bbl07aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gdXRpbC5hc3NlcnQobi5sZW5ndGg9PT10Lmxlbmd0aCxmdW5jdGlvbigpe3JldHVyblwiUmVjZWl2ZWQgYW4gYXJyYXkgb2YgXCIrbi5sZW5ndGgrXCIgVGVuc29ycywgYnV0IGV4cGVjdGVkIFwiK3QubGVuZ3RoK1wiIHRvIG1hdGNoIHRoZSBcIitlK1wiIGtleXMgXCIrdCtcIi5cIn0pLG47Zm9yKHZhciByPVtdLGk9MCxhPXQ7aTxhLmxlbmd0aDtpKyspe3ZhciBvPWFbaV07aWYobnVsbD09bltvXSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlRoZSBmZWF0dXJlIGRhdGEgZ2VuZXJhdGVkIGJ5IHRoZSBkYXRhc2V0IGxhY2tzIHRoZSByZXF1aXJlZCBcIitlK1wiIGtleSAnXCIrbytcIicuXCIpO3IucHVzaChuW29dKX1yZXR1cm4gcn1mdW5jdGlvbiBzdGFuZGFyZGl6ZVRlbnNvclZhbGlkYXRpb25EYXRhKGUpe2lmKDM9PT1lLmxlbmd0aCl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcIlZhbGlkYXRpb24gd2l0aCBzYW1wbGUgd2VpZ2h0cyBpcyBub3QgaW1wbGVtZW50ZWQgeWV0LlwiKTtyZXR1cm57eHM6ZVswXSx5czplWzFdfX1mdW5jdGlvbiBmaXREYXRhc2V0KGUsdCxuKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByLGksYSxvLHMsbCx1LGMscCxoLGQsZixnLG0seSx2LGIsdyx6LFMsQSxfLEksQyxFLE4sayx4LEwsVCxELE8sUixNO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKFApe3N3aXRjaChQLmxhYmVsKXtjYXNlIDA6aWYocj1udWxsIT1uLmJhdGNoZXNQZXJFcG9jaCx1dGlsLmFzc2VydChudWxsIT1lLm9wdGltaXplcixmdW5jdGlvbigpe3JldHVyblwiWW91IG11c3QgY29tcGlsZSBhIG1vZGVsIGJlZm9yZSB0cmFpbmluZy90ZXN0aW5nLiBVc2UgTGF5ZXJzTW9kZWwuY29tcGlsZShtb2RlbENvbXBpbGVDb25maWcpLlwifSksdXRpbC5hc3NlcnQobnVsbCE9bixmdW5jdGlvbigpe3JldHVyblwiRm9yIGZpdERhdGFzZXQoKSwgdGhlIDJuZCBhcmd1bWVudCAoY29uZmlnKSBpcyByZXF1aXJlZCwgYnV0IGl0IGlzIG5vdCBwcm92aWRlZCBpbiB0aGlzIGNhbGwuXCJ9KSx1dGlsLmFzc2VydChudWxsIT1uLmVwb2NocyYmbi5lcG9jaHM+MCYmTnVtYmVyLmlzSW50ZWdlcihuLmVwb2NocyksZnVuY3Rpb24oKXtyZXR1cm5cIkZvciBmaXREYXRhc2V0KCksIGNvbmZpZy5lcG9jaHMgaXMgZXhwZWN0ZWQgdG8gYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBidXQgZ290IFwiK24uZXBvY2hzfSksdXRpbC5hc3NlcnQoIXJ8fG4uYmF0Y2hlc1BlckVwb2NoPjAmJk51bWJlci5pc0ludGVnZXIobi5iYXRjaGVzUGVyRXBvY2gpLGZ1bmN0aW9uKCl7cmV0dXJuXCJGb3IgZml0RGF0YXNldCgpLCBjb25maWcuYmF0Y2hlc1BlckVwb2NoIGlzIGV4cGVjdGVkIHRvIGJlIGEgcG9zaXRpdmUgaW50ZWdlciBpZiBzcGVjaWZpZWQsIGJ1dCBnb3QgXCIrbi5iYXRjaGVzUGVyRXBvY2h9KSx1dGlsLmFzc2VydChudWxsPT1uLnZhbGlkYXRpb25TcGxpdCxmdW5jdGlvbigpe3JldHVyblwiYHZhbGlkYXRpb25TcGxpdGAgaXMgbm90IHN1cHBvcnRlZCBieSBgZml0RGF0YXNldCgpYC4gVXNlIHZhbGlkYXRpb25EYXRhIGluc3RlYWQuXCJ9KSxlLmlzVHJhaW5pbmcpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHN0YXJ0IHRyYWluaW5nIGJlY2F1c2UgYW5vdGhlciBmaXQoKSBjYWxsIGlzIG9uZ29pbmcuXCIpO2UuaXNUcmFpbmluZz0hMCxQLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBQLnRyeXMucHVzaChbMSwsMjYsMjddKSxpPW51bGwhPW4udmFsaWRhdGlvbkRhdGEsYT12b2lkIDAsbz12b2lkIDAsaSYmKGlzRGF0YXNldE9iamVjdChuLnZhbGlkYXRpb25EYXRhKT91dGlsLmFzc2VydChudWxsPT1uLnZhbGlkYXRpb25CYXRjaGVzfHxuLnZhbGlkYXRpb25CYXRjaGVzPjAmJk51bWJlci5pc0ludGVnZXIobi52YWxpZGF0aW9uQmF0Y2hlcyksZnVuY3Rpb24oKXtyZXR1cm5cIkZvciBmaXREYXRhc2V0KCkgd2l0aCBkYXRhc2V0LWJhc2VkIHZhbGlkYXRpb24sIGNvbmZpZy52YWxpZGF0aW9uQmF0Y2hlcyBpcyBleHBlY3RlZCBub3QgdG8gYmUgcHJvdmlkZWQsIG9yIHRvIGJlIGEgcG9zaXRpdmUgaW50ZWdlciwgYnV0IGdvdCBcIituLnZhbGlkYXRpb25CYXRjaGVzfSk6KHM9c3RhbmRhcmRpemVUZW5zb3JWYWxpZGF0aW9uRGF0YShuLnZhbGlkYXRpb25EYXRhKSxhPXMueHMsbz1zLnlzKSksbD1lLm1ha2VUcmFpbkZ1bmN0aW9uKCksdT1lLmdldERlZHVwZWRNZXRyaWNzTmFtZXMoKSxjPXZvaWQgMCxjPWk/dS5zbGljZSgpLmNvbmNhdCh1Lm1hcChmdW5jdGlvbihlKXtyZXR1cm5cInZhbF9cIitlfSkpOnUuc2xpY2UoKSxwPXN0YW5kYXJkaXplQ2FsbGJhY2tzKG4uY2FsbGJhY2tzLG4ueWllbGRFdmVyeSksaD1udWxsPT1uLnZlcmJvc2U/MTpuLnZlcmJvc2UsZD1jb25maWd1cmVDYWxsYmFja3MocCxoLG4uZXBvY2hzLG51bGwsbnVsbCxnZXRTdGVwc1BlckVwb2NoKHQsbiksbnVsbCxpLGMpLGY9ZC5jYWxsYmFja0xpc3QsZz1kLmhpc3RvcnksZi5zZXRNb2RlbChlKSxlLmhpc3Rvcnk9ZyxbNCxmLm9uVHJhaW5CZWdpbigpXTtjYXNlIDI6cmV0dXJuIFAuc2VudCgpLGUuc3RvcFRyYWluaW5nXz0hMSxtPW51bGw9PW4uaW5pdGlhbEVwb2NoPzA6bi5pbml0aWFsRXBvY2gsWzQsdC5pdGVyYXRvcigpXTtjYXNlIDM6eT1QLnNlbnQoKSxQLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiBtPG4uZXBvY2hzPyh2PXt9LFs0LGYub25FcG9jaEJlZ2luKG0pXSk6WzMsMjNdO2Nhc2UgNTpyZXR1cm4gUC5zZW50KCksYj0wLHc9MCxyP1szLDddOls0LHQuaXRlcmF0b3IoKV07Y2FzZSA2Onk9UC5zZW50KCksUC5sYWJlbD03O2Nhc2UgNzpyZXR1cm4hcnx8YjxuLmJhdGNoZXNQZXJFcG9jaD9bNCx5Lm5leHQoKV06WzMsMjFdO2Nhc2UgODpyZXR1cm4gej1QLnNlbnQoKSxyJiZ6LmRvbmU/KGNvbnNvbGUud2FybihcIllvdSBwcm92aWRlZCBgYmF0Y2hlc1BlckVwb2NoYCBhcyBcIituLmJhdGNoZXNQZXJFcG9jaCtcIiwgYnV0IHlvdXIgZGF0YXNldCBpdGVyYXRvciByYW4gb3V0IG9mIGRhdGEgYWZ0ZXIgXCIrYitcIiBiYXRjaGVzOyBpbnRlcnJ1cHRpbmcgdHJhaW5pbmcuIE1ha2Ugc3VyZSB0aGF0IHlvdXIgZGF0YXNldCBjYW4gZ2VuZXJhdGUgYXQgbGVhc3QgYGJhdGNoZXNQZXJFcG9jaCAqIGVwb2Noc2AgYmF0Y2hlcyAoaW4gdGhpcyBjYXNlLCBcIituLmJhdGNoZXNQZXJFcG9jaCpuLmVwb2NocytcIiBiYXRjaGVzKS4gWW91IG1heSBuZWVkIHRvIHVzZSB0aGUgcmVwZWF0KCkgZnVuY3Rpb24gd2hlbiBidWlsZGluZyB5b3VyIGRhdGFzZXQuXCIpLFszLDIxXSk6bnVsbD09ei52YWx1ZT9bMywxNV06KFM9c3RhbmRhcmRpemVEYXRhSXRlcmF0b3JPdXRwdXQoZSx6LnZhbHVlKSxBPVMueHMsXz1TLnlzLChJPXt9KS5iYXRjaD13LEkuc2l6ZT1BWzBdLnNoYXBlWzBdLFs0LGYub25CYXRjaEJlZ2luKHcsSSldKTtjYXNlIDk6aWYoUC5zZW50KCksQz1bXSxudWxsPT1uLmNsYXNzV2VpZ2h0KXJldHVyblszLDEzXTtFPXN0YW5kYXJkaXplQ2xhc3NXZWlnaHRzKG4uY2xhc3NXZWlnaHQsZS5vdXRwdXROYW1lcyksTT0wLFAubGFiZWw9MTA7Y2FzZSAxMDpyZXR1cm4gTTxFLmxlbmd0aD8oaz0oTj1DKS5wdXNoLFs0LHN0YW5kYXJkaXplV2VpZ2h0cyhfW01dLG51bGwsRVtNXSldKTpbMywxM107Y2FzZSAxMTprLmFwcGx5KE4sW1Auc2VudCgpXSksUC5sYWJlbD0xMjtjYXNlIDEyOnJldHVybisrTSxbMywxMF07Y2FzZSAxMzpmb3IoeD1BLmNvbmNhdChfKS5jb25jYXQoQyksTD1sKHgpLGRpc3Bvc2UoeCksTT0wO008dS5sZW5ndGg7KytNKVQ9dVtNXSxEPUxbTV0sSVtUXT1ELGtlZXAoRCk7cmV0dXJuWzQsZi5vbkJhdGNoRW5kKHcsSSldO2Nhc2UgMTQ6UC5zZW50KCksZGlzcG9zZVRlbnNvcnNJbkxvZ3MoSSksdysrLGIrKyxQLmxhYmVsPTE1O2Nhc2UgMTU6cmV0dXJuKHI/Yj49bi5iYXRjaGVzUGVyRXBvY2g6ei5kb25lKT9pPyhPPXZvaWQgMCxpc0RhdGFzZXRPYmplY3Qobi52YWxpZGF0aW9uRGF0YSk/KFI9dG9MaXN0LFs0LGUuZXZhbHVhdGVEYXRhc2V0KG4udmFsaWRhdGlvbkRhdGEse2JhdGNoZXM6bi52YWxpZGF0aW9uQmF0Y2hlc30pXSk6WzMsMTddKTpbMywxOV06WzMsMjBdO2Nhc2UgMTY6cmV0dXJuIE89Ui5hcHBseSh2b2lkIDAsW1Auc2VudCgpXSksWzMsMThdO2Nhc2UgMTc6Tz10b0xpc3QoZS5ldmFsdWF0ZShhLG8se2JhdGNoU2l6ZTpudWxsPT1uLnZhbGlkYXRpb25CYXRjaFNpemU/REVGQVVMVF9WQUxJREFUSU9OX0JBVENIX1NJWkU6bi52YWxpZGF0aW9uQmF0Y2hTaXplLHZlcmJvc2U6MH0pKSxQLmxhYmVsPTE4O2Nhc2UgMTg6Zm9yKE09MDtNPGUubWV0cmljc05hbWVzLmxlbmd0aDsrK00pdltcInZhbF9cIitlLm1ldHJpY3NOYW1lc1tNXV09T1tNXTtQLmxhYmVsPTE5O2Nhc2UgMTk6cmV0dXJuWzMsMjFdO2Nhc2UgMjA6cmV0dXJuIGUuc3RvcFRyYWluaW5nXz9bMywyMV06WzMsN107Y2FzZSAyMTpyZXR1cm5bNCxmLm9uRXBvY2hFbmQobSx2KV07Y2FzZSAyMjpyZXR1cm4gUC5zZW50KCksbSsrLGUuc3RvcFRyYWluaW5nXz9bMywyM106WzMsNF07Y2FzZSAyMzpyZXR1cm5bNCxmLm9uVHJhaW5FbmQoKV07Y2FzZSAyNDpyZXR1cm4gUC5zZW50KCksWzQsZS5oaXN0b3J5LnN5bmNEYXRhKCldO2Nhc2UgMjU6cmV0dXJuIFAuc2VudCgpLFsyLGUuaGlzdG9yeV07Y2FzZSAyNjpyZXR1cm4gZS5pc1RyYWluaW5nPSExLFs3XTtjYXNlIDI3OnJldHVyblsyXX19KX0pfWZ1bmN0aW9uIGdldFN0ZXBzUGVyRXBvY2goZSx0KXt2YXIgbj1udWxsO3JldHVybiBudWxsIT10LmJhdGNoZXNQZXJFcG9jaD9uPXQuYmF0Y2hlc1BlckVwb2NoOk51bWJlci5pc0Zpbml0ZShlLnNpemUpJiYobj1lLnNpemUpLG59ZnVuY3Rpb24gaXNEYXRhc2V0T2JqZWN0KGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUuaXRlcmF0b3J9ZnVuY3Rpb24gaXNMYXp5SXRlcmF0b3JPYmplY3QoZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZS5uZXh0fWZ1bmN0aW9uIGV2YWx1YXRlRGF0YXNldChlLHQsbil7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcixpLGEsbyxzLGwsdSxjLHAsaDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihkKXtzd2l0Y2goZC5sYWJlbCl7Y2FzZSAwOmlmKHI9bnVsbCE9KG49bnx8e30pLmJhdGNoZXMsaT1lLnRlc3RGdW5jdGlvbixhPVtdLG4udmVyYm9zZT4wKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiVmVyYm9zZSBtb2RlIGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQuXCIpO3JldHVybiB1dGlsLmFzc2VydCghcnx8bi5iYXRjaGVzPjAmJk51bWJlci5pc0ludGVnZXIobi5iYXRjaGVzKSxmdW5jdGlvbigpe3JldHVyblwiVGVzdCBsb29wIGV4cGVjdHMgYGJhdGNoZXNgIHRvIGJlIGEgcG9zaXRpdmUgaW50ZWdlciwgYnV0IHJlY2VpdmVkIFwiK0pTT04uc3RyaW5naWZ5KG4uYmF0Y2hlcyl9KSxpc0xhenlJdGVyYXRvck9iamVjdCh0KT8ocz10LFszLDNdKTpbMywxXTtjYXNlIDE6cmV0dXJuWzQsdC5pdGVyYXRvcigpXTtjYXNlIDI6cz1kLnNlbnQoKSxkLmxhYmVsPTM7Y2FzZSAzOm89cyxsPTAsdT0wLGM9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG8ubmV4dCgpXTtjYXNlIDE6cmV0dXJuIHQ9cy5zZW50KCksYT10aWR5KGZ1bmN0aW9uKCl7aWYodC52YWx1ZSl7dmFyIG49c3RhbmRhcmRpemVEYXRhSXRlcmF0b3JPdXRwdXQoZSx0LnZhbHVlKSxyPW4ueHMsbz1uLnlzLHM9ci5jb25jYXQobyksYz10aWR5KGZ1bmN0aW9uKCl7cmV0dXJuIGkocyl9KTtpZihkaXNwb3NlKHMpLDA9PT11KWZvcih2YXIgcD0wO3A8Yy5sZW5ndGg7KytwKWEucHVzaChzY2FsYXIoMCkpO3ZhciBoPXNbMF0uc2hhcGVbMF0sZD1mdW5jdGlvbihlKXt2YXIgdD1jW2VdLG49YVtlXTthW2VdPXRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gYWRkKGFbZV0sbXVsKGgsdCkpfSksdT4wJiZkaXNwb3NlKG4pfTtmb3IocD0wO3A8Yy5sZW5ndGg7KytwKWQocCk7ZGlzcG9zZShjKSxsKz1oLCsrdX1yZXR1cm4gYX0pLHQuZG9uZT8ociYmY29uc29sZS53YXJuKFwiWW91ciBkYXRhc2V0IGl0ZXJhdG9yIHJhbiBvdXQgb2YgZGF0YSBkdXJpbmcgZXZhbHVhdGVEYXRhc2V0KCkuIEludGVycnVwdGluZyBldmFsdXRpb24uIE1ha2Ugc3VyZSB0aGF0IHlvdXIgZGF0YXNldCBjYW4gZ2VuZXJhdGUgYXQgbGVhc3QgYGJhdGNoZXNgIGJhdGNoZXMgKGluIHRoaXMgY2FzZSwgXCIrbi5iYXRjaGVzK1wiIGJhdGNoZXMpLiBZb3UgbWF5IG5lZWQgdG8gdXNlIHRoZSByZXBlYXQoKSBmdW5jdGlvbiB3aGVuIGJ1aWxkaW5nIHlvdXIgZGF0YXNldC5cIiksWzIsXCJicmVha1wiXSk6WzJdfX0pfSxkLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiFyfHx1PG4uYmF0Y2hlcz9bNSxjKCldOlszLDZdO2Nhc2UgNTpyZXR1cm5cImJyZWFrXCI9PT1kLnNlbnQoKT9bMyw2XTpbMyw0XTtjYXNlIDY6Zm9yKHA9MDtwPGEubGVuZ3RoOysrcCloPWFbcF0sYVtwXT1kaXYoYVtwXSxsKSxkaXNwb3NlKGgpO3JldHVyblsyLHNpbmdsZXRvbk9yQXJyYXkoYSldfX0pfSl9ZnVuY3Rpb24gY2hlY2tCYXRjaFNpemUoZSl7dXRpbC5hc3NlcnQoZT4wJiZOdW1iZXIuaXNJbnRlZ2VyKGUpLGZ1bmN0aW9uKCl7cmV0dXJuXCJiYXRjaFNpemUgaXMgcmVxdWlyZWQgdG8gYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBidXQgZ290IFwiK2V9KX1mdW5jdGlvbiBzbGljZUFycmF5cyhlLHQsbil7cmV0dXJuIG51bGw9PWU/W251bGxdOkFycmF5LmlzQXJyYXkoZSk/ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHNsaWNlQWxvbmdGaXJzdEF4aXMoZSx0LG4tdCl9KTpzbGljZUFsb25nRmlyc3RBeGlzKGUsdCxuLXQpfWZ1bmN0aW9uIHNsaWNlQXJyYXlzQnlJbmRpY2VzKGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09ZT9udWxsOkFycmF5LmlzQXJyYXkoZSk/ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHNsaWNlQXJyYXlzQnlJbmRpY2VzKGUsdCl9KTpnYXRoZXIkMShlLFwiaW50MzJcIj09PXQuZHR5cGU/dDp0LnRvSW50KCkpfSl9ZnVuY3Rpb24gbWFrZUJhdGNoZXMoZSx0KXtmb3IodmFyIG49W10scj0wLGk9bnVsbDtyPGU7KShpPXIrdCk+PWUmJihpPWUpLG4ucHVzaChbcixpXSkscj1pO3JldHVybiBufWZ1bmN0aW9uIGZpdExvb3AoZSx0LG4scixpLGEsbyxzLGwsdSxjLHAsaCxkLGYpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGcsbSx5LHYsYix3LHosUztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihBKXtzd2l0Y2goQS5sYWJlbCl7Y2FzZSAwOmlmKG51bGw9PWkmJihpPTMyKSxudWxsPT1hJiYoYT0xKSxudWxsPT1jJiYoYz0hMCksbnVsbD09aCYmKGg9MCksZz0hMSxudWxsIT1sJiZudWxsIT11JiYoZz0hMCksbnVsbCE9ZiYmKGc9ITAsbnVsbD09ZCkpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJDYW4gb25seSB1c2UgYHZhbGlkYXRpb25TdGVwc2Agd2hlbiBkb2luZyBzdGVwLXdpc2UgdHJhaW5pbmcsIGkuZS4sIGBzdGVwc1BlckVwb2NoYCBtdXN0IGJlIHNldC5cIik7cmV0dXJuIG51bGwhPShtPWUuY2hlY2tOdW1TYW1wbGVzKG4saSxkLFwic3RlcHNfcGVyX2Vwb2NoXCIpKSYmKHk9cmFuZ2UoMCxtKSksbnVsbD09byYmKG89MSksdj1jb25maWd1cmVDYWxsYmFja3MocyxvLGEsaCxtLGQsaSxnLHApLGI9di5jYWxsYmFja0xpc3Qsdz12Lmhpc3RvcnksYi5zZXRNb2RlbChlKSxlLmhpc3Rvcnk9dyxbNCxiLm9uVHJhaW5CZWdpbigpXTtjYXNlIDE6QS5zZW50KCksZS5zdG9wVHJhaW5pbmdfPSExLHo9ZnVuY3Rpb24oYSl7dmFyIG8scyxwLGgsZjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbih2KXtzd2l0Y2godi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGIub25FcG9jaEJlZ2luKGEpXTtjYXNlIDE6aWYodi5zZW50KCksbz17fSxudWxsPT1kKXJldHVyblszLDJdO3Rocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwic3RlcHNQZXJFcG9jaCBtb2RlIGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQuXCIpO2Nhc2UgMjppZihcImJhdGNoXCI9PT1jKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiYmF0Y2ggc2h1ZmZsaW5nIGlzIG5vdCBpbXBsZW1uZXRlZCB5ZXRcIik7YyYmdXRpbC5zaHVmZmxlKHkpLHM9dGVuc29yMWQoeSkscD1tYWtlQmF0Y2hlcyhtLGkpLGg9ZnVuY3Rpb24oYSl7dmFyIGM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oaCl7c3dpdGNoKGgubGFiZWwpe2Nhc2UgMDpyZXR1cm4gYz17fSxbNCxiLm9uQmF0Y2hCZWdpbihhLGMpXTtjYXNlIDE6cmV0dXJuIGguc2VudCgpLHRpZHkoZnVuY3Rpb24oKXt2YXIgaD1wW2FdWzBdLGQ9cFthXVsxXSxmPXNsaWNlQWxvbmdGaXJzdEF4aXMocyxoLGQtaCk7Yy5iYXRjaD1hLGMuc2l6ZT1kLWg7Zm9yKHZhciBtPXNsaWNlQXJyYXlzQnlJbmRpY2VzKG4sZikseT10KG0pLHY9MDt2PHIubGVuZ3RoOysrdil7dmFyIGI9clt2XSx3PXlbdl07Y1tiXT13LGtlZXAodyl9aWYoYT09PXAubGVuZ3RoLTEmJmcpe3ZhciB6PWUudGVzdExvb3AobCx1LGkpO2Zvcih2PTA7djxyLmxlbmd0aDsrK3Ype2I9clt2XSx3PXpbdl07a2VlcCh3KSxvW1widmFsX1wiK2JdPXd9fX0pLFs0LGIub25CYXRjaEVuZChhLGMpXTtjYXNlIDI6cmV0dXJuIGguc2VudCgpLGRpc3Bvc2VUZW5zb3JzSW5Mb2dzKGMpLGUuc3RvcFRyYWluaW5nXz9bMixcImJyZWFrXCJdOlsyXX19KX0sZj0wLHYubGFiZWw9MztjYXNlIDM6cmV0dXJuIGY8cC5sZW5ndGg/WzUsaChmKV06WzMsNl07Y2FzZSA0OmlmKFwiYnJlYWtcIj09PXYuc2VudCgpKXJldHVyblszLDZdO3YubGFiZWw9NTtjYXNlIDU6cmV0dXJuKytmLFszLDNdO2Nhc2UgNjpzLmRpc3Bvc2UoKSx2LmxhYmVsPTc7Y2FzZSA3OnJldHVybls0LGIub25FcG9jaEVuZChhLG8pXTtjYXNlIDg6cmV0dXJuIHYuc2VudCgpLGUuc3RvcFRyYWluaW5nXz9bMixcImJyZWFrXCJdOlsyXX19KX0sUz1oLEEubGFiZWw9MjtjYXNlIDI6cmV0dXJuIFM8YT9bNSx6KFMpXTpbMyw1XTtjYXNlIDM6aWYoXCJicmVha1wiPT09QS5zZW50KCkpcmV0dXJuWzMsNV07QS5sYWJlbD00O2Nhc2UgNDpyZXR1cm4rK1MsWzMsMl07Y2FzZSA1OnJldHVybls0LGIub25UcmFpbkVuZCgpXTtjYXNlIDY6cmV0dXJuIEEuc2VudCgpLFs0LGUuaGlzdG9yeS5zeW5jRGF0YSgpXTtjYXNlIDc6cmV0dXJuIEEuc2VudCgpLFsyLGUuaGlzdG9yeV19fSl9KX1mdW5jdGlvbiBmaXRUZW5zb3JzKGUsdCxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj17fSksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpLGEsbyxzLGwsdSxjLHAsaCxkLGYsZyxtLHksdixiLHcseixTLEEsXyxJO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKEMpe3N3aXRjaChDLmxhYmVsKXtjYXNlIDA6aWYoZS5pc1RyYWluaW5nKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzdGFydCB0cmFpbmluZyBiZWNhdXNlIGFub3RoZXIgZml0KCkgY2FsbCBpcyBvbmdvaW5nLlwiKTtlLmlzVHJhaW5pbmc9ITAsQy5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gQy50cnlzLnB1c2goWzEsLDcsOF0pLGNoZWNrQmF0Y2hTaXplKHA9bnVsbD09ci5iYXRjaFNpemU/MzI6ci5iYXRjaFNpemUpLGg9ITEsWzQsZS5zdGFuZGFyZGl6ZVVzZXJEYXRhKHQsbixyLnNhbXBsZVdlaWdodCxyLmNsYXNzV2VpZ2h0LGgscCldO2Nhc2UgMjppZihkPUMuc2VudCgpLGk9ZFswXSxhPWRbMV0sYz1kWzJdLGY9ITEsZz12b2lkIDAsIShudWxsIT1yLnZhbGlkYXRpb25EYXRhJiZyLnZhbGlkYXRpb25EYXRhLmxlbmd0aD4wKSlyZXR1cm5bMyw0XTtpZihmPSEwLDIhPT1yLnZhbGlkYXRpb25EYXRhLmxlbmd0aCl0aHJvdyAzPT09ci52YWxpZGF0aW9uRGF0YS5sZW5ndGg/bmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXCJ2YWxpZGF0aW9uRGF0YSBpbmNsdWRpbmcgc2FtcGxlIHdlaWdodHMgaXMgbm90IHN1cHBvcnRlZCB5ZXQuXCIpOm5ldyBWYWx1ZUVycm9yKFwiV2hlbiBwYXNzaW5nIHZhbGlkYXRpb24gZGF0YSwgaXQgbXVzdCBjb250YWluIDIgKHZhbFgsIHZhbFkpIG9yIDMgKHZhbFgsIHZhbFksIHZhbFNhbXBsZVdlaWdodCkgaXRlbXM7IFwiK3IudmFsaWRhdGlvbkRhdGErXCIgaXMgaW52YWxpZC5cIik7cmV0dXJuIG89ci52YWxpZGF0aW9uRGF0YVswXSxzPXIudmFsaWRhdGlvbkRhdGFbMV0sbT0hMCxbNCxlLnN0YW5kYXJkaXplVXNlckRhdGEobyxzLG51bGwsbnVsbCxtLHApXTtjYXNlIDM6cmV0dXJuIHk9Qy5zZW50KCksbD15WzBdLHU9eVsxXSxnPWwuY29uY2F0KHUpLFszLDVdO2Nhc2UgNDpudWxsIT1yLnZhbGlkYXRpb25TcGxpdCYmci52YWxpZGF0aW9uU3BsaXQ+MCYmci52YWxpZGF0aW9uU3BsaXQ8MT8oZj0hMCx2PU1hdGguZmxvb3IoaVswXS5zaGFwZVswXSooMS1yLnZhbGlkYXRpb25TcGxpdCkpLGI9aVswXS5zaGFwZVswXSxsPXNsaWNlQXJyYXlzKGksdixiKSxpPXNsaWNlQXJyYXlzKGksMCx2KSx1PXNsaWNlQXJyYXlzKGEsdixiKSxhPXNsaWNlQXJyYXlzKGEsMCx2KSxnPWwuY29uY2F0KHUpKTpudWxsIT1yLnZhbGlkYXRpb25TdGVwcyYmKGY9ITApLEMubGFiZWw9NTtjYXNlIDU6cmV0dXJuIHc9aS5jb25jYXQoYSkuY29uY2F0KGMpLGUuY2hlY2tUcmFpbmFibGVXZWlnaHRzQ29uc2lzdGVuY3koKSx6PWUubWFrZVRyYWluRnVuY3Rpb24oKSxTPWUuZ2V0RGVkdXBlZE1ldHJpY3NOYW1lcygpLEE9dm9pZCAwLF89dm9pZCAwLGY/KGUubWFrZVRlc3RGdW5jdGlvbigpLEE9ZS50ZXN0RnVuY3Rpb24sXz1TLnNsaWNlKCkuY29uY2F0KFMubWFwKGZ1bmN0aW9uKGUpe3JldHVyblwidmFsX1wiK2V9KSkpOihBPW51bGwsZz1bXSxfPVMuc2xpY2UoKSksST1zdGFuZGFyZGl6ZUNhbGxiYWNrcyhyLmNhbGxiYWNrcyxyLnlpZWxkRXZlcnkpLFs0LGZpdExvb3AoZSx6LHcsUyxwLHIuZXBvY2hzLHIudmVyYm9zZSxJLEEsZyxyLnNodWZmbGUsXyxyLmluaXRpYWxFcG9jaCxudWxsLG51bGwpXTtjYXNlIDY6cmV0dXJuWzIsQy5zZW50KCldO2Nhc2UgNzpyZXR1cm4gZS5pc1RyYWluaW5nPSExLGRpc3Bvc2VOZXdUZW5zb3JzKGksdCksZGlzcG9zZU5ld1RlbnNvcnMoYSxuKSxkaXNwb3NlTmV3VGVuc29ycyhsLG8pLGRpc3Bvc2VOZXdUZW5zb3JzKHUscyksbnVsbCE9YyYmZGlzcG9zZShjKSxbN107Y2FzZSA4OnJldHVyblsyXX19KX0pfWZ1bmN0aW9uIGVuc3VyZVRlbnNvcnNSYW5rMk9ySGlnaGVyKGUpe3ZhciB0PVtdO2UgaW5zdGFuY2VvZiBUZW5zb3ImJihlPVtlXSk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPWVbbl07aWYoMT09PXIucmFuayl0LnB1c2goZXhwYW5kRGltcyQxKHIsMSkpO2Vsc2V7aWYoMD09PXIucmFuayl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCB0ZW5zb3IgdG8gYmUgYXQgbGVhc3QgMUQsIGJ1dCByZWNlaXZlZCBhIDBEIHRlbnNvciAoc2NhbGFyKS5cIik7dC5wdXNoKHIpfX1yZXR1cm4gdH1mdW5jdGlvbiBkaXNwb3NlTmV3VGVuc29ycyhlLHQpe2lmKG51bGwhPWUpe3ZhciBuPVtdO2lmKHQgaW5zdGFuY2VvZiBUZW5zb3Ipbi5wdXNoKHQuaWQpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSl0LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG4ucHVzaChlLmlkKX0pO2Vsc2UgaWYobnVsbCE9dClmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtuLnB1c2goaS5pZCl9dmFyIGE9W107aWYoZSBpbnN0YW5jZW9mIFRlbnNvciktMT09PW4uaW5kZXhPZihlLmlkKSYmYS5wdXNoKGUpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShlKSllLmZvckVhY2goZnVuY3Rpb24oZSl7LTE9PT1uLmluZGV4T2YoZS5pZCkmJmEucHVzaChlKX0pO2Vsc2UgaWYobnVsbCE9ZSlmb3IodmFyIG8gaW4gZSl7dmFyIHM9ZVtvXTstMT09PW4uaW5kZXhPZihzLmlkKSYmYS5wdXNoKHMpfWEuZm9yRWFjaChmdW5jdGlvbihlKXtlLmlzRGlzcG9zZWR8fGUuZGlzcG9zZSgpfSl9fWZ1bmN0aW9uIGlzRGF0YVRlbnNvcihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFRlbnNvcn1mdW5jdGlvbiBpc0RhdGFBcnJheShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBpc0RhdGFEaWN0KGUpe3JldHVybiFpc0RhdGFUZW5zb3IoZSkmJiFpc0RhdGFBcnJheShlKX1mdW5jdGlvbiBzdGFuZGFyZGl6ZUlucHV0RGF0YShlLHQsbixyLGkpe2lmKHZvaWQgMD09PXImJihyPSEwKSx2b2lkIDA9PT1pJiYoaT1cIlwiKSxudWxsPT10fHwwPT09dC5sZW5ndGgpe2lmKG51bGwhPWUpe3ZhciBhPSExO2lmKGlzRGF0YUFycmF5KGUpJiZlLmxlbmd0aD4wKWE9ITA7ZWxzZSBpZihpc0RhdGFEaWN0KGUpKXtmb3IodmFyIG8gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG8pKXthPSEwO2JyZWFrfX1lbHNlIGE9ITA7aWYoYSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkVycm9yIHdoZW4gY2hlY2tpbmcgbW9kZWwgXCIraStcIiBleHBlY3RlZCBubyBkYXRhLCBidXQgZ290IFwiK2UpfXJldHVybltdfWlmKG51bGw9PWUpcmV0dXJuIHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSk7dmFyIHM7aWYoaXNEYXRhRGljdChlKSl7ZT1lLHM9W107Zm9yKHZhciBsPTAsdT10O2w8dS5sZW5ndGg7bCsrKXt2YXIgYz11W2xdO2lmKG51bGw9PWVbY10pdGhyb3cgbmV3IFZhbHVlRXJyb3IoJ05vIGRhdGEgcHJvdmlkZWQgZm9yIFwiJytjKydcIi4gTmVlZCBkYXRhIGZvciBlYWNoIGtleSBpbjogJyt0KTtzLnB1c2goZVtjXSl9fWVsc2UgaWYoaXNEYXRhQXJyYXkoZSkpe2lmKChlPWUpLmxlbmd0aCE9PXQubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiRXJyb3Igd2hlbiBjaGVja2luZyBtb2RlbCBcIitpK1wiOiB0aGUgQXJyYXkgb2YgVGVuc29ycyB0aGF0IHlvdSBhcmUgcGFzc2luZyB0byB5b3VyIG1vZGVsIGlzIG5vdCB0aGUgc2l6ZSB0aGUgbW9kZWwgZXhwZWN0ZWQuIEV4cGVjdGVkIHRvIHNlZSBcIit0Lmxlbmd0aCtcIiBUZW5zb3IocyksIGJ1dCBpbnN0ZWFkIGdvdCB0aGUgZm9sbG93aW5nIGxpc3Qgb2YgVGVuc29yKHMpOiBcIitlKTtzPWV9ZWxzZXtpZihlPWUsdC5sZW5ndGg+MSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlRoZSBtb2RlbCBcIitpK1wiIGV4cGVjdHMgXCIrdC5sZW5ndGgrXCIgVGVuc29yKHMpLCBidXQgb25seSByZWNlaXZlZCBvbmUgVGVuc29yLiBGb3VuZDogVGVuc29yIHdpdGggc2hhcGUgXCIrZS5zaGFwZSk7cz1bZV19aWYocz1lbnN1cmVUZW5zb3JzUmFuazJPckhpZ2hlcihzKSxudWxsIT1uKWZvcih2YXIgcD0wO3A8dC5sZW5ndGg7KytwKWlmKG51bGwhPW5bcF0pe3ZhciBoPXNbcF07aWYoaC5zaGFwZS5sZW5ndGghPT1uW3BdLmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkVycm9yIHdoZW4gY2hlY2tpbmcgXCIraStcIjogZXhwZWN0ZWQgXCIrdFtwXStcIiB0byBoYXZlIFwiK25bcF0ubGVuZ3RoK1wiIGRpbWVuc2lvbihzKS4gYnV0IGdvdCBhcnJheSB3aXRoIHNoYXBlIFwiK2guc2hhcGUpO2Zvcih2YXIgZD0wO2Q8bltwXS5sZW5ndGg7KytkKWlmKDAhPT1kfHxyKXt2YXIgZj1oLnNoYXBlW2RdLGc9bltwXVtkXTtpZihudWxsIT1nJiZnPj0wJiZmIT09Zyl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkVycm9yIHdoZW4gY2hlY2tpbmcgXCIraStcIjogZXhwZWN0ZWQgXCIrdFtwXStcIiB0byBoYXZlIHNoYXBlIFtcIituW3BdK1wiXSwgYnV0IGdvdCBhcnJheSB3aXRoIHNoYXBlIFtcIitoLnNoYXBlK1wiXS5cIil9fXJldHVybiBzfWZ1bmN0aW9uIGNoZWNrQXJyYXlMZW5ndGhzKGUsdCxuKXt2YXIgcj11bmlxdWUoZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2hhcGVbMF19KSk7ci5zb3J0KCk7dmFyIGk9dW5pcXVlKHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNoYXBlWzBdfSkpO2lmKGkuc29ydCgpLHIubGVuZ3RoPjEpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJBbGwgaW5wdXQgVGVuc29ycyAoeCkgc2hvdWxkIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIHNhbXBsZXMuIEdvdCBhcnJheSBzaGFwZXM6IFwiK0pTT04uc3RyaW5naWZ5KGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNoYXBlfSkpKTtpZihpLmxlbmd0aD4xKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiQWxsIHRhcmdldCBUZW5zb3JzICh5KSBzaG91bGQgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2Ygc2FtcGxlcy4gR290IGFycmF5IHNoYXBlczogXCIrSlNPTi5zdHJpbmdpZnkodC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2hhcGV9KSkpO2lmKHIubGVuZ3RoPjAmJmkubGVuZ3RoPjAmJiF1dGlsLmFycmF5c0VxdWFsKHIsaSkpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJbnB1dCBUZW5zb3JzIHNob3VsZCBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBzYW1wbGVzIGFzIHRhcmdldCBUZW5zb3JzLiBGb3VuZCBcIityWzBdK1wiIGlucHV0IHNhbXBsZShzKSBhbmQgXCIraVswXStcIiB0YXJnZXQgc2FtcGxlKHMpLlwiKX1mdW5jdGlvbiBjaGVja0xvc3NBbmRUYXJnZXRDb21wYXRpYmlsaXR5KGUsdCxuKXtmb3IodmFyIHI9W21lYW5TcXVhcmVkRXJyb3IsYmluYXJ5Q3Jvc3NlbnRyb3B5LGNhdGVnb3JpY2FsQ3Jvc3NlbnRyb3B5XSxpPTA7aTxlLmxlbmd0aDsrK2kpe3ZhciBhPWVbaV0sbz10W2ldLHM9bltpXTtpZihudWxsIT1vKXtpZihvPT09Y2F0ZWdvcmljYWxDcm9zc2VudHJvcHkmJjE9PT1hLnNoYXBlW2Euc2hhcGUubGVuZ3RoLTFdKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiWW91IGFyZSBwYXNzaW5nIGEgdGFyZ2V0IGFycmF5IG9mIHNoYXBlIFwiK2Euc2hhcGUrXCIgd2hpbGUgdXNpbmcgYSBsb3NzICdjYXRlZ29yaWNhbF9jcm9zc2VudHJvcHknLiAnY2F0ZWdvcmljYWxfY3Jvc3NlbnRyb3B5J2V4cGVjdHMgdGFyZ2V0cyB0byBiZSBiaW5hcnkgbWF0cmljZXMgKDFzIGFuZCAwcykgb2Ygc2hhcGUgW3NhbXBsZXMsIGNsYXNzZXNdLlwiKTtpZigtMSE9PXIuaW5kZXhPZihvKSlmb3IodmFyIGw9YS5zaGFwZS5zbGljZSgxKSx1PXMuc2xpY2UoMSksYz0wO2M8bC5sZW5ndGg7KytjKXt2YXIgcD1sW2NdLGg9dVtjXTtpZihudWxsIT1oJiZwIT09aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkEgdGFyZ2V0IFRlbnNvciB3aXRoIHNoYXBlIFwiK2Euc2hhcGUrXCIgd2FzIHBhc3NlZCBmb3IgYW4gb3V0cHV0IG9mIHNoYXBlIFwiK3MrXCIsIHdoaWxlIHVzaW5nIGEgbG9zcyBmdW5jdGlvbiB0aGF0IGV4cGVjdHMgdGFyZ2V0cyB0byBoYXZlIHRoZSBzYW1lIHNoYXBlIGFzIHRoZSBvdXRwdXQuXCIpfX19fWZ1bmN0aW9uIGNoZWNrSW5wdXREYXRhKGUsdCxuLHIsaSl7dmFyIGE7aWYodm9pZCAwPT09ciYmKHI9ITApLHZvaWQgMD09PWkmJihpPVwiXCIpLEFycmF5LmlzQXJyYXkoZSkpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJFcnJvciB3aGVuIGNoZWNraW5nIG1vZGVsIFwiK2krXCI6IHRoZSBBcnJheSBvZiBUZW5zb3JzIHRoYXQgeW91IGFyZSBwYXNzaW5nIHRvIHlvdXIgbW9kZWwgaXMgbm90IHRoZSBzaXplIHRoZSB0aGUgbW9kZWwgZXhwZWN0ZWQuIEV4cGVjdGVkIHRvIHNlZSBcIit0Lmxlbmd0aCtcIiBUZW5zb3IocyksIGJ1dCBpbnN0ZWFkIGdvdCBcIitlLmxlbmd0aCtcIiBUZW5zb3JzKHMpLlwiKTthPWV9ZWxzZXtpZih0Lmxlbmd0aD4xKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVGhlIG1vZGVsIGV4cGVjdHMgXCIrdC5sZW5ndGgrXCIgXCIraStcIiBUZW5zb3JzLCBidXQgb25seSByZWNlaXZlZCBvbmUgVGVuc29yLiBGb3VuZDogYXJyYXkgd2l0aCBzaGFwZSBcIitKU09OLnN0cmluZ2lmeShlLnNoYXBlKStcIi5cIik7YT1bZV19aWYobnVsbCE9bilmb3IodmFyIG89MDtvPHQubGVuZ3RoOysrbylpZihudWxsIT1uW29dKXt2YXIgcz1hW29dO2lmKHMuc2hhcGUubGVuZ3RoIT09bltvXS5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJFcnJvciB3aGVuIGNoZWNraW5nIFwiK2krXCI6IGV4cGVjdGVkIFwiK3Rbb10rXCIgdG8gaGF2ZSBcIituW29dLmxlbmd0aCtcIiBkaW1lbnNpb24ocyksIGJ1dCBnb3QgYXJyYXkgd2l0aCBzaGFwZSBcIitKU09OLnN0cmluZ2lmeShzLnNoYXBlKSk7Zm9yKHZhciBsPTA7bDxuW29dLmxlbmd0aDsrK2wpaWYoMCE9PWx8fHIpe3ZhciB1PXMuc2hhcGVbbF0sYz1uW29dW2xdO2lmKG51bGwhPWMmJmMhPT11KXRocm93IG5ldyBWYWx1ZUVycm9yKFwiRXJyb3Igd2hlbiBjaGVja2luZyBcIitpK1wiOiBleHBlY3RlZCBcIit0W29dK1wiIHRvIGhhdmUgc2hhcGUgXCIrSlNPTi5zdHJpbmdpZnkobltvXSkrXCIgYnV0IGdvdCBhcnJheSB3aXRoIHNoYXBlIFwiK0pTT04uc3RyaW5naWZ5KHMuc2hhcGUpK1wiLlwiKX19fWZ1bmN0aW9uIGNvbGxlY3RNZXRyaWNzKGUsdCl7aWYobnVsbD09ZXx8QXJyYXkuaXNBcnJheShlKSYmMD09PWUubGVuZ3RoKXJldHVybiB0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm5bXX0pO3ZhciBuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKW49W2VdO2Vsc2V7aWYoIUFycmF5LmlzQXJyYXkoZSkmJlwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUeXBlIG9mIG1ldHJpY3MgYXJndW1lbnQgbm90IHVuZGVyc3Rvb2QuIEV4cGVjdGVkIGFuIHN0cmluZyxmdW5jdGlvbiwgQXJyYXksIG9yIE9iamVjdCwgZm91bmQ6IFwiK2UpO249ZX1pZihBcnJheS5pc0FycmF5KG4pKXJldHVybiB0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbn0pO2Zvcih2YXIgcj1bXSxpPTAsYT10O2k8YS5sZW5ndGg7aSsrKXt2YXIgbz1hW2ldLHM9bi5oYXNPd25Qcm9wZXJ0eShvKT9uW29dOltdO0FycmF5LmlzQXJyYXkocyl8fChzPVtzXSksci5wdXNoKHMpfXJldHVybiByfXZhciBMQVlFUlNfTU9ERUxfRk9STUFUX05BTUU9XCJsYXllcnMtbW9kZWxcIixMYXllcnNNb2RlbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLmlzVHJhaW5pbmc9ITEsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbihlLHQsbil7aWYodm9pZCAwPT09biYmKG49Y29uc29sZS5sb2cpLCF0aGlzLmJ1aWx0KXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVGhpcyBtb2RlbCBoYXMgbmV2ZXIgYmVlbiBjYWxsZWQsIHRodXMgaXRzIHdlaWdodHMgaGF2ZSBub3QgYmVlbiBjcmVhdGVkIHlldC4gU28gbm8gc3VtbWFyeSBjYW4gYmUgZGlzcGxheWVkLiBCdWlsZCB0aGUgbW9kZWwgZmlyc3QgKGUuZy4sIGJ5IGNhbGxpbmcgaXQgb24gc29tZSB0ZXN0IGRhdGEpLlwiKTtwcmludFN1bW1hcnkodGhpcyxlLHQsbil9LHQucHJvdG90eXBlLmNvbXBpbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihudWxsPT1lLmxvc3MmJihlLmxvc3M9W10pLHRoaXMubG9zcz1lLmxvc3MsXCJzdHJpbmdcIj09dHlwZW9mIGUub3B0aW1pemVyKXRoaXMub3B0aW1pemVyXz1nZXRPcHRpbWl6ZXIoZS5vcHRpbWl6ZXIpLHRoaXMuaXNPcHRpbWl6ZXJPd25lZD0hMDtlbHNle2lmKCEoZS5vcHRpbWl6ZXIgaW5zdGFuY2VvZiBPcHRpbWl6ZXIpKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVXNlci1kZWZpbmVkIG9wdGltaXplciBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHRmLk9wdGltaXplci5cIik7dGhpcy5vcHRpbWl6ZXJfPWUub3B0aW1pemVyLHRoaXMuaXNPcHRpbWl6ZXJPd25lZD0hMX12YXIgbj1bXTtpZihBcnJheS5pc0FycmF5KGUubG9zcyl8fFwic3RyaW5nXCI9PXR5cGVvZiBlLmxvc3N8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubG9zcylpZihBcnJheS5pc0FycmF5KGUubG9zcykpe2lmKGUubG9zcy5sZW5ndGghPT10aGlzLm91dHB1dHMubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiV2hlbiBwYXNzaW5nIGFuIEFycmF5IGFzIGxvc3MsIGl0IHNob3VsZCBoYXZlIG9uZSBlbnRyeSBwZXIgbW9kZWwgb3V0cHV0LiBUaGUgbW9kZWwgaGFzIFwiK3RoaXMub3V0cHV0cy5sZW5ndGgrXCIgb3V0cHV0KHMpLCBidXQgeW91IHBhc3NlZCBsb3NzPVwiK2UubG9zcytcIi5cIik7dmFyIHI9ZS5sb3NzO249ci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGdldChlKX0pfWVsc2V7dmFyIGk9Z2V0KGUubG9zcyk7dGhpcy5vdXRwdXRzLmZvckVhY2goZnVuY3Rpb24oZSl7bi5wdXNoKGkpfSl9ZWxzZXtmb3IodmFyIGEgaW4gZS5sb3NzPWUubG9zcyxlLmxvc3MpaWYoLTE9PT10aGlzLm91dHB1dE5hbWVzLmluZGV4T2YoYSkpdGhyb3cgbmV3IFZhbHVlRXJyb3IoJ1Vua25vd24gZW50cnkgaW4gbG9zcyBkaWN0aW9uYXJ5OiBcIicrYSsnXCIuIE9ubHkgZXhwZWN0ZWQgdGhlIGZvbGxvd2luZyBrZXlzOiAnK3RoaXMub3V0cHV0TmFtZXMpO2Zvcih2YXIgbz0wLHM9dGhpcy5vdXRwdXROYW1lcztvPHMubGVuZ3RoO28rKyl7dmFyIGw9c1tvXTtudWxsPT1lLmxvc3NbbF0mJmNvbnNvbGUud2FybignT3V0cHV0IFwiJytsKydcIiBpcyBtaXNzaW5nIGZyb20gbG9zcyBkaWN0aW9uYXJ5LiBXZSBhc3N1bWUgdGhpcyB3YXMgZG9uZSBvbiBwdXJwb3NlLCBhbmQgd2Ugd2lsbCBub3QgYmUgZXhwZWN0aW5nIGRhdGEgdG8gYmUgcGFzc2VkIHRvICcrbCtcIiBkdXJpbmcgdHJhaW5pbmdcIiksbi5wdXNoKGdldChlLmxvc3NbbF0pKX19dGhpcy5sb3NzRnVuY3Rpb25zPW4sdGhpcy5mZWVkT3V0cHV0TmFtZXM9W10sdGhpcy5mZWVkT3V0cHV0U2hhcGVzPVtdLHRoaXMuZmVlZExvc3NGbnM9W107Zm9yKHZhciB1PTA7dTx0aGlzLm91dHB1dHMubGVuZ3RoOysrdSl7dmFyIGM9dGhpcy5pbnRlcm5hbE91dHB1dFNoYXBlc1t1XSxwPXRoaXMub3V0cHV0TmFtZXNbdV07dGhpcy5mZWVkT3V0cHV0TmFtZXMucHVzaChwKSx0aGlzLmZlZWRPdXRwdXRTaGFwZXMucHVzaChjKSx0aGlzLmZlZWRMb3NzRm5zLnB1c2godGhpcy5sb3NzRnVuY3Rpb25zW3VdKX12YXIgaD1bXTt0aGlzLm1ldHJpY3M9ZS5tZXRyaWNzLHRoaXMubWV0cmljc05hbWVzPVtcImxvc3NcIl0sdGhpcy5tZXRyaWNzVGVuc29ycz1bXSxuYW1lU2NvcGUoXCJsb3NzXCIsZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHQub3V0cHV0cy5sZW5ndGg7KytlKWlmKC0xPT09aC5pbmRleE9mKGUpKXt2YXIgbj10Lmxvc3NGdW5jdGlvbnNbZV07dC5vdXRwdXRzLmxlbmd0aD4xJiYodC5tZXRyaWNzVGVuc29ycy5wdXNoKFtuLGVdKSx0Lm1ldHJpY3NOYW1lcy5wdXNoKHQub3V0cHV0TmFtZXNbZV0rXCJfbG9zc1wiKSl9fSk7dmFyIGQ9Y29sbGVjdE1ldHJpY3MoZS5tZXRyaWNzLHRoaXMub3V0cHV0TmFtZXMpO25hbWVTY29wZShcIm1ldHJpY1wiLGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWZ1bmN0aW9uKGUpe2lmKC0xIT09aC5pbmRleE9mKGUpKXJldHVyblwiY29udGludWVcIjshZnVuY3Rpb24obil7Zm9yKHZhciByLGksYSxvPWZ1bmN0aW9uKG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuJiYtMSE9PVtcImFjY3VyYWN5XCIsXCJhY2NcIixcImNyb3NzZW50cm9weVwiLFwiY2VcIl0uaW5kZXhPZihuKSl7dmFyIG89dC5pbnRlcm5hbE91dHB1dFNoYXBlc1tlXTsxPT09b1tvLmxlbmd0aC0xXXx8dC5sb3NzRnVuY3Rpb25zW2VdPT09YmluYXJ5Q3Jvc3NlbnRyb3B5Py0xIT09W1wiYWNjdXJhY3lcIixcImFjY1wiXS5pbmRleE9mKG4pP2k9YmluYXJ5QWNjdXJhY3k6LTEhPT1bXCJjcm9zc2VudHJvcHlcIixcImNlXCJdLmluZGV4T2YobikmJihpPWJpbmFyeUNyb3NzZW50cm9weSQxKTp0Lmxvc3NGdW5jdGlvbnNbZV09PT1zcGFyc2VDYXRlZ29yaWNhbENyb3NzZW50cm9weT8tMSE9PVtcImFjY3VyYWN5XCIsXCJhY2NcIl0uaW5kZXhPZihuKT9pPXNwYXJzZUNhdGVnb3JpY2FsQWNjdXJhY3k6LTEhPT1bXCJjcm9zc2VudHJvcHlcIixcImNlXCJdLmluZGV4T2YobikmJihpPXNwYXJzZUNhdGVnb3JpY2FsQ3Jvc3NlbnRyb3B5JDEpOi0xIT09W1wiYWNjdXJhY3lcIixcImFjY1wiXS5pbmRleE9mKG4pP2k9Y2F0ZWdvcmljYWxBY2N1cmFjeTotMSE9PVtcImNyb3NzZW50cm9weVwiLFwiY2VcIl0uaW5kZXhPZihuKSYmKGk9Y2F0ZWdvcmljYWxDcm9zc2VudHJvcHkkMSk7dmFyIHM9dm9pZCAwOy0xIT09W1wiYWNjdXJhY3lcIixcImFjY1wiXS5pbmRleE9mKG4pP3M9XCJhY2NcIjotMSE9PVtcImNyb3NzZW50cm9weVwiLFwiY2VcIl0uaW5kZXhPZihuKSYmKHM9XCJjZVwiKSxhPWkscj1cIlwiK3N9ZWxzZXt2YXIgbD1nZXQkMShuKTthPWwscj1cIlwiK2dldExvc3NPck1ldHJpY05hbWUobil9dmFyIHU7bmFtZVNjb3BlKHIsZnVuY3Rpb24oKXt1PWF9KSxmdW5jdGlvbihlLG4scil7dC5vdXRwdXROYW1lcy5sZW5ndGg+MSYmKG49dC5vdXRwdXROYW1lc1tlXStcIl9cIituKSx0Lm1ldHJpY3NOYW1lcy5wdXNoKG4pLHQubWV0cmljc1RlbnNvcnMucHVzaChbcixlXSl9KGUscix1KX0scz0wLGw9bjtzPGwubGVuZ3RoO3MrKylvKGxbc10pfShkW2VdKX0sbj0wO248dC5vdXRwdXRzLmxlbmd0aDsrK24pZShuKX0pLHRoaXMuY29sbGVjdGVkVHJhaW5hYmxlV2VpZ2h0cz10aGlzLnRyYWluYWJsZVdlaWdodHN9LHQucHJvdG90eXBlLmNoZWNrVHJhaW5hYmxlV2VpZ2h0c0NvbnNpc3RlbmN5PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jb2xsZWN0ZWRUcmFpbmFibGVXZWlnaHRzJiZ0aGlzLnRyYWluYWJsZVdlaWdodHMubGVuZ3RoIT09dGhpcy5jb2xsZWN0ZWRUcmFpbmFibGVXZWlnaHRzLmxlbmd0aCYmY29uc29sZS53YXJuKFwiRGlzY3JlcGFuY3kgYmV0d2VlbiB0cmFpbmFibGV3ZWlnaHRzIGFuZCBjb2xsZWN0ZWQgdHJhaW5hYmxlIHdlaWdodHMuIERpZCB5b3Ugc2V0IGBtb2RlbC50cmFpbmFibGVgIHdpdGhvdXQgY2FsbGluZyBgbW9kZWwuY29tcGlsZSgpYCBhZnRlcndhcmRzP1wiKX0sdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj1udWxsPT1uLmJhdGNoU2l6ZT8zMjpuLmJhdGNoU2l6ZTtjaGVja0JhdGNoU2l6ZShyKTt2YXIgaT10aGlzLnN0YW5kYXJkaXplVXNlckRhdGFYWShlLHQsITAscik7dHJ5e3ZhciBhPWlbMF0uY29uY2F0KGlbMV0pO3RoaXMubWFrZVRlc3RGdW5jdGlvbigpO3ZhciBvPXRoaXMudGVzdEZ1bmN0aW9uO3JldHVybiBzaW5nbGV0b25PckFycmF5KHRoaXMudGVzdExvb3AobyxhLHIsbi52ZXJib3NlLG4uc3RlcHMpKX1maW5hbGx5e2Rpc3Bvc2VOZXdUZW5zb3JzKGlbMF0sZSksZGlzcG9zZU5ld1RlbnNvcnMoaVsxXSx0KX19LHQucHJvdG90eXBlLmV2YWx1YXRlRGF0YXNldD1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obil7cmV0dXJuIHRoaXMubWFrZVRlc3RGdW5jdGlvbigpLFsyLGV2YWx1YXRlRGF0YXNldCh0aGlzLGUsdCldfSl9KX0sdC5wcm90b3R5cGUuY2hlY2tOdW1TYW1wbGVzPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpO2lmKHZvaWQgMD09PXImJihyPVwic3RlcHNcIiksbnVsbCE9bil7aWYoaT1udWxsLG51bGwhPXQpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJZiBcIityK1wiIGlzIHNldCwgYmF0Y2hTaXplIG11c3QgYmUgbnVsbCBvciB1bmRlZmluZWQuR290IGJhdGNoU2l6ZSA9IFwiK3QpfWVsc2V7aWYobnVsbD09ZSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkVpdGhlciB0aGUgaW5wdXQgZGF0YSBzaG91bGQgaGF2ZSBhIGRlZmluZWQgc2hhcGUsIG9yIFwiK3IrXCIgc2hvdWQgYmUgc3BlY2lmaWVkLlwiKTtpPUFycmF5LmlzQXJyYXkoZSk/ZVswXS5zaGFwZVswXTplLnNoYXBlWzBdfXJldHVybiBpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSYmMD09PXQubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiYG91dHB1dHNgIGlzIGFuIGVtcHR5IEFycmF5LCB3aGljaCBpcyBub3QgYWxsb3dlZC5cIik7dmFyIG49QXJyYXkuaXNBcnJheSh0KSxyPW4/dDpbdF0saT10aGlzLnJldHJpZXZlU3ltYm9saWNUZW5zb3JzKHIpLGE9bmV3IEZlZWREaWN0O2lmKGUgaW5zdGFuY2VvZiBUZW5zb3ImJihlPVtlXSksQXJyYXkuaXNBcnJheShlKSl7aWYoZS5sZW5ndGghPT10aGlzLmlucHV0cy5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJUaGUgbnVtYmVyIG9mIGlucHV0cyBwcm92aWRlZCAoXCIrZS5sZW5ndGgrXCIpIGRvZXMgbm90IG1hdGNoIHRoZSBudW1iZXIgb2YgaW5wdXRzIG9mIHRoaXMgbW9kZWwgKFwiK3RoaXMuaW5wdXRzLmxlbmd0aCtcIikuXCIpO2Zvcih2YXIgbz0wO288dGhpcy5pbnB1dHMubGVuZ3RoOysrbylhLmFkZCh0aGlzLmlucHV0c1tvXSxlW29dKX1lbHNlIGZvcih2YXIgcz0wLGw9dGhpcy5pbnB1dHM7czxsLmxlbmd0aDtzKyspe3ZhciB1PWxbc10sYz1lW3UubmFtZV07aWYobnVsbD09Yyl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIk5vIHZhbHVlIGlzIHByb3ZpZGVkIGZvciB0aGUgbW9kZWwncyBpbnB1dCBcIit1Lm5hbWUpO2EuYWRkKHUsYyl9dmFyIHA9ZXhlY3V0ZShpLGEpO3JldHVybiBuP3A6cFswXX0sdC5wcm90b3R5cGUucmV0cmlldmVTeW1ib2xpY1RlbnNvcnM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXB5TGlzdFJlcGVhdChudWxsLGUubGVuZ3RoKSxuPWUubGVuZ3RoLHI9MCxpPXRoaXMubGF5ZXJzO3I8aS5sZW5ndGg7cisrKXtmb3IodmFyIGE9aVtyXSxvPUFycmF5LmlzQXJyYXkoYS5vdXRwdXQpP2Eub3V0cHV0OlthLm91dHB1dF0scz1vLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSksbD0wO2w8ZS5sZW5ndGg7KytsKXt2YXIgdT1zLmluZGV4T2YoZVtsXSk7aWYoLTEhPT11JiYodFtsXT1vW3VdLG4tLSksMD09PW4pYnJlYWt9aWYoMD09PW4pYnJlYWt9aWYobj4wKXt2YXIgYz1bXTt0aHJvdyB0LmZvckVhY2goZnVuY3Rpb24odCxuKXtudWxsPT10JiZjLnB1c2goZVtuXSl9KSxuZXcgVmFsdWVFcnJvcihcIkNhbm5vdCBmaW5kIFN5bWJvbGljVGVuc29ycyBmb3Igb3V0cHV0IG5hbWUocyk6IFwiK0pTT04uc3RyaW5naWZ5KGMpKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUucHJlZGljdExvb3A9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7cmV0dXJuIHZvaWQgMD09PXQmJih0PTMyKSx2b2lkIDA9PT1uJiYobj0hMSksdGlkeShmdW5jdGlvbigpe3ZhciBpPXIuY2hlY2tOdW1TYW1wbGVzKGUpO2lmKG4pdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXCJWZXJib3NlIHByZWRpY3RMb29wKCkgaXMgbm90IGltcGxlbWVudGVkIHlldC5cIik7Zm9yKHZhciBhPW1ha2VCYXRjaGVzKGksdCksbz1yLm91dHB1dHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybltdfSkscz1mdW5jdGlvbih0KXt0aWR5KGZ1bmN0aW9uKCl7dmFyIG49YVt0XVswXSxpPWFbdF1bMV0sbz1zbGljZUFycmF5cyhlLG4saSkscz1bXTtpZihBcnJheS5pc0FycmF5KG8pKWZvcih2YXIgbD0wO2w8by5sZW5ndGg7KytsKXMucHVzaCh7a2V5OnIuaW5wdXRzW2xdLHZhbHVlOm9bbF19KTtlbHNlIHMucHVzaCh7a2V5OnIuaW5wdXRzWzBdLHZhbHVlOm99KTt2YXIgdT1uZXcgRmVlZERpY3Qocyk7cmV0dXJuIGV4ZWN1dGUoci5vdXRwdXRzLHUpfSkuZm9yRWFjaChmdW5jdGlvbihlLHQpe3JldHVybiBvW3RdLnB1c2goZSl9KX0sbD0wO2w8YS5sZW5ndGg7KytsKXMobCk7cmV0dXJuIHNpbmdsZXRvbk9yQXJyYXkoby5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGNvbmNhdChlLDApfSkpfSl9LHQucHJvdG90eXBlLnByZWRpY3Q9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIG49ZW5zdXJlVGVuc29yc1JhbmsyT3JIaWdoZXIoZSk7Y2hlY2tJbnB1dERhdGEobix0aGlzLmlucHV0TmFtZXMsdGhpcy5mZWVkSW5wdXRTaGFwZXMsITEpO3RyeXt2YXIgcj1udWxsPT10LmJhdGNoU2l6ZT8zMjp0LmJhdGNoU2l6ZTtyZXR1cm4gY2hlY2tCYXRjaFNpemUociksdGhpcy5wcmVkaWN0TG9vcChuLHIpfWZpbmFsbHl7ZGlzcG9zZU5ld1RlbnNvcnMobixlKX19LHQucHJvdG90eXBlLnByZWRpY3RPbkJhdGNoPWZ1bmN0aW9uKGUpe2NoZWNrSW5wdXREYXRhKGUsdGhpcy5pbnB1dE5hbWVzLHRoaXMuZmVlZElucHV0U2hhcGVzLCEwKTt2YXIgdD0oQXJyYXkuaXNBcnJheShlKT9lWzBdOmUpLnNoYXBlWzBdO3JldHVybiB0aGlzLnByZWRpY3RMb29wKGUsdCl9LHQucHJvdG90eXBlLnN0YW5kYXJkaXplVXNlckRhdGFYWT1mdW5jdGlvbihlLHQsbixyKXtpZih2b2lkIDA9PT1uJiYobj0hMCksbnVsbD09dGhpcy5vcHRpbWl6ZXJfKXRocm93IG5ldyBSdW50aW1lRXJyb3IoXCJZb3UgbXVzdCBjb21waWxlIGEgbW9kZWwgYmVmb3JlIHRyYWluaW5nL3Rlc3RpbmcuIFVzZSBMYXllcnNNb2RlbC5jb21waWxlKG1vZGVsQ29tcGlsZUFyZ3MpLlwiKTtmb3IodmFyIGk9W10sYT0wO2E8dGhpcy5mZWVkT3V0cHV0U2hhcGVzLmxlbmd0aDsrK2Epe3ZhciBvPXRoaXMuZmVlZE91dHB1dFNoYXBlc1thXTt0aGlzLmZlZWRMb3NzRm5zW2FdPT09c3BhcnNlQ2F0ZWdvcmljYWxDcm9zc2VudHJvcHk/aS5wdXNoKG8uc2xpY2UoMCxvLmxlbmd0aC0xKS5jb25jYXQoWzFdKSk6aS5wdXNoKG8pfWlmKGNoZWNrQXJyYXlMZW5ndGhzKGU9c3RhbmRhcmRpemVJbnB1dERhdGEoZSx0aGlzLmZlZWRJbnB1dE5hbWVzLHRoaXMuZmVlZElucHV0U2hhcGVzLCExLFwiaW5wdXRcIiksdD1zdGFuZGFyZGl6ZUlucHV0RGF0YSh0LHRoaXMuZmVlZE91dHB1dE5hbWVzLGksITEsXCJ0YXJnZXRcIiksbnVsbCksY2hlY2tMb3NzQW5kVGFyZ2V0Q29tcGF0aWJpbGl0eSh0LHRoaXMuZmVlZExvc3NGbnMsdGhpcy5mZWVkT3V0cHV0U2hhcGVzKSx0aGlzLnN0YXRlZnVsJiZudWxsIT1yJiZyPjAmJmVbMF0uc2hhcGVbMF0lciE9MCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkluIGEgc3RhdGVmdWwgbmV0d29yaywgeW91IHNob3VsZCBvbmx5IHBhc3MgaW5wdXRzIHdpdGggYSBudW1iZXIgb2Ygc2FtcGxlcyB0aGF0IGlzIGRpdmlzaWJsZSBieSB0aGUgYmF0Y2ggc2l6ZSBcIityK1wiLiBGb3VuZDogXCIrZVswXS5zaGFwZVswXStcIiBzYW1wbGUocykuXCIpO3JldHVybltlLHRdfSx0LnByb3RvdHlwZS5zdGFuZGFyZGl6ZVVzZXJEYXRhPWZ1bmN0aW9uKGUsdCxuLHIsaSxhKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITApLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbyxzLGwsdSxjLHAsaCxkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGYpe3N3aXRjaChmLmxhYmVsKXtjYXNlIDA6aWYobz10aGlzLnN0YW5kYXJkaXplVXNlckRhdGFYWShlLHQsaSxhKSxzPW9bMF0sbD1vWzFdLG51bGwhPW4pdGhyb3cgbmV3IEVycm9yKFwic2FtcGxlIHdlaWdodCBpcyBub3Qgc3VwcG9ydGVkIHlldC5cIik7aWYodT1udWxsLG51bGw9PXIpcmV0dXJuWzMsNF07Yz1zdGFuZGFyZGl6ZUNsYXNzV2VpZ2h0cyhyLHRoaXMub3V0cHV0TmFtZXMpLHU9W10scD0wLGYubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHA8Yy5sZW5ndGg/KGQ9KGg9dSkucHVzaCxbNCxzdGFuZGFyZGl6ZVdlaWdodHMobFtwXSxudWxsLGNbcF0pXSk6WzMsNF07Y2FzZSAyOmQuYXBwbHkoaCxbZi5zZW50KCldKSxmLmxhYmVsPTM7Y2FzZSAzOnJldHVybisrcCxbMywxXTtjYXNlIDQ6cmV0dXJuWzIsW3MsbCx1XV19fSl9KX0sdC5wcm90b3R5cGUudGVzdExvb3A9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgYT10aGlzO3JldHVybiB2b2lkIDA9PT1yJiYocj0wKSx0aWR5KGZ1bmN0aW9uKCl7dmFyIG89YS5jaGVja051bVNhbXBsZXModCxuLGksXCJzdGVwc1wiKSxzPVtdO2lmKHI+MCl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcIlZlcmJvc2UgbW9kZSBpcyBub3QgaW1wbGVtZW50ZWQgeWV0LlwiKTtpZihudWxsIT1pKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwic3RlcHMgbW9kZSBpbiB0ZXN0TG9vcCgpIGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXRcIik7Zm9yKHZhciBsPW1ha2VCYXRjaGVzKG8sbiksdT10ZW5zb3IxZChyYW5nZSgwLG8pKSxjPTA7YzxsLmxlbmd0aDsrK2Mpe3ZhciBwPWxbY11bMF0saD1sW2NdWzFdLGQ9c2xpY2VBbG9uZ0ZpcnN0QXhpcyh1LHAsaC1wKSxmPXNsaWNlQXJyYXlzQnlJbmRpY2VzKHQsZCksZz1lKGYpO2lmKDA9PT1jKWZvcih2YXIgbT0wO208Zy5sZW5ndGg7KyttKXMucHVzaChzY2FsYXIoMCkpO2ZvcihtPTA7bTxnLmxlbmd0aDsrK20pe3ZhciB5PWdbbV07c1ttXT1hZGQoc1ttXSxtdWwoaC1wLHkpKX19Zm9yKG09MDttPHMubGVuZ3RoOysrbSlzW21dPWRpdihzW21dLG8pO3JldHVybiBzfSl9LHQucHJvdG90eXBlLmdldERlZHVwZWRNZXRyaWNzTmFtZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5tZXRyaWNzTmFtZXMsdD1bXSxuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPWVbbl0saT1yO2lmKGNvdW50KGUscik+MSlpKz1cIl9cIitjb3VudChlLnNsaWNlKDAsbikscik7dC5wdXNoKGkpfXJldHVybiB0fSx0LnByb3RvdHlwZS5tYWtlVHJhaW5GdW5jdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPVtdLHI9dC5zbGljZSgwLGUuaW5wdXRzLmxlbmd0aCksaT10LnNsaWNlKGUuaW5wdXRzLmxlbmd0aCxlLmlucHV0cy5sZW5ndGgrZS5vdXRwdXRzLmxlbmd0aCksYT10LnNsaWNlKGUuaW5wdXRzLmxlbmd0aCtlLm91dHB1dHMubGVuZ3RoLGUuaW5wdXRzLmxlbmd0aCsyKmUub3V0cHV0cy5sZW5ndGgpLG89W10scz1lLmNvbGxlY3RlZFRyYWluYWJsZVdlaWdodHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlYWQoKX0pO3JldHVybltlLm9wdGltaXplcl8ubWluaW1pemUoZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10scz0wO3M8ZS5pbnB1dHMubGVuZ3RoOysrcyl0LnB1c2goe2tleTplLmlucHV0c1tzXSx2YWx1ZTpyW3NdfSk7dmFyIGwsdT1uZXcgRmVlZERpY3QodCksYz1leGVjdXRlKGUub3V0cHV0cyx1LHt0cmFpbmluZzohMH0pO2ZvcihzPTA7czxlLmxvc3NGdW5jdGlvbnMubGVuZ3RoOysrcyl7dmFyIHA9KDAsZS5sb3NzRnVuY3Rpb25zW3NdKShpW3NdLGNbc10pO251bGwhPWFbc10mJihwPWNvbXB1dGVXZWlnaHRlZExvc3MocCxhW3NdKSk7dmFyIGg9bWVhbihwKTtuLnB1c2goaCksbD0wPT09cz9wOmFkZChsLHApfWZvcihzPTA7czxlLm1ldHJpY3NUZW5zb3JzLmxlbmd0aDsrK3Mpe3ZhciBkPXZvaWQgMDtpZihlLm91dHB1dHMubGVuZ3RoPjEmJnM8ZS5vdXRwdXRzLmxlbmd0aClkPW5bc107ZWxzZXt2YXIgZj1lLm1ldHJpY3NUZW5zb3JzW3NdWzBdLGc9ZS5tZXRyaWNzVGVuc29yc1tzXVsxXTtkPW1lYW4oZihpW2ddLGNbZ10pKX1rZWVwKGQpLG8ucHVzaChkKX1yZXR1cm4gbD1tZWFuKGwpLGUuY2FsY3VsYXRlTG9zc2VzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtsPWFkZChsLGUpfSksbH0sITAscyldLmNvbmNhdChvKX19LHQucHJvdG90eXBlLm1ha2VUZXN0RnVuY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMudGVzdEZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7Zm9yKHZhciBuLHI9W10saT10LnNsaWNlKDAsZS5pbnB1dHMubGVuZ3RoKSxhPXQuc2xpY2UoZS5pbnB1dHMubGVuZ3RoLGUuaW5wdXRzLmxlbmd0aCtlLm91dHB1dHMubGVuZ3RoKSxvPVtdLHM9MDtzPGUuaW5wdXRzLmxlbmd0aDsrK3Mpby5wdXNoKHtrZXk6ZS5pbnB1dHNbc10sdmFsdWU6aVtzXX0pO3ZhciBsPW5ldyBGZWVkRGljdChvKSx1PWV4ZWN1dGUoZS5vdXRwdXRzLGwpO2ZvcihzPTA7czxlLmxvc3NGdW5jdGlvbnMubGVuZ3RoOysrcyl7dmFyIGM9ZS5sb3NzRnVuY3Rpb25zW3NdLHA9bWVhbihjKGFbc10sdVtzXSkpO249MD09PXM/cDphZGQobixwKSxyLnB1c2gobil9Zm9yKHM9MDtzPGUubWV0cmljc1RlbnNvcnMubGVuZ3RoOysrcyl7dmFyIGg9ZS5tZXRyaWNzVGVuc29yc1tzXVswXSxkPWUubWV0cmljc1RlbnNvcnNbc11bMV0sZj1tZWFuKGgoYVtkXSx1W2RdKSk7ci5wdXNoKGYpfXJldHVybiByfSl9fSx0LnByb3RvdHlwZS5maXQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj17fSksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHIpe3JldHVyblsyLGZpdFRlbnNvcnModGhpcyxlLHQsbildfSl9KX0sdC5wcm90b3R5cGUuZml0RGF0YXNldD1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obil7cmV0dXJuWzIsZml0RGF0YXNldCh0aGlzLGUsdCldfSl9KX0sdC5wcm90b3R5cGUudHJhaW5PbkJhdGNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixyLGksYSxvLHMsbCx1LGM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24ocCl7c3dpdGNoKHAubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0YW5kYXJkaXplVXNlckRhdGEoZSx0KV07Y2FzZSAxOm49cC5zZW50KCkscj1uWzBdLGk9blsxXSxhPXRoaXMubWFrZVRyYWluRnVuY3Rpb24oKSxvPWEoci5jb25jYXQoaSkpLHM9W10sbD0wLHU9byxwLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBsPHUubGVuZ3RoP1s0LHVbbF0uZGF0YSgpXTpbMyw1XTtjYXNlIDM6Yz1wLnNlbnQoKSxzLnB1c2goY1swXSkscC5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gbCsrLFszLDJdO2Nhc2UgNTpyZXR1cm4gZGlzcG9zZShvKSxbMixzaW5nbGV0b25PckFycmF5KHMpXX19KX0pfSx0LnByb3RvdHlwZS5nZXROYW1lZFdlaWdodHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49bnVsbCE9ZSYmZS50cmFpbmFibGVPbmx5LHI9bj90aGlzLnRyYWluYWJsZVdlaWdodHM6dGhpcy53ZWlnaHRzLGk9dGhpcy5nZXRXZWlnaHRzKG4pLGE9MDthPHIubGVuZ3RoOysrYSluJiYhclthXS50cmFpbmFibGV8fHQucHVzaCh7bmFtZTpyW2FdLm9yaWdpbmFsTmFtZSx0ZW5zb3I6aVthXX0pO3JldHVybiB0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzdG9wVHJhaW5pbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RvcFRyYWluaW5nX30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuc3RvcFRyYWluaW5nXz1lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9wdGltaXplclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpbWl6ZXJffSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5vcHRpbWl6ZXJfIT09ZSYmKHRoaXMub3B0aW1pemVyXz1lLHRoaXMuaXNPcHRpbWl6ZXJPd25lZD0hMSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciB0PWUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtpZigwPT09dC5yZWZDb3VudEFmdGVyRGlzcG9zZSYmbnVsbCE9dGhpcy5vcHRpbWl6ZXImJnRoaXMuaXNPcHRpbWl6ZXJPd25lZCl7dmFyIG49bWVtb3J5KCkubnVtVGVuc29yczt0aGlzLm9wdGltaXplcl8uZGlzcG9zZSgpLHQubnVtRGlzcG9zZWRWYXJpYWJsZXMrPW4tbWVtb3J5KCkubnVtVGVuc29yc31yZXR1cm4gdH0sdC5wcm90b3R5cGUuZ2V0TG9zc0lkZW50aWZpZXJzPWZ1bmN0aW9uKCl7dmFyIGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMubG9zcyllPXRvU25ha2VDYXNlKHRoaXMubG9zcyk7ZWxzZSBpZihBcnJheS5pc0FycmF5KHRoaXMubG9zcykpe2Zvcih2YXIgdD0wLG49dGhpcy5sb3NzO3Q8bi5sZW5ndGg7dCsrKXtpZihcInN0cmluZ1wiIT10eXBlb2Ygblt0XSl0aHJvdyBuZXcgRXJyb3IoXCJTZXJpYWxpemF0aW9uIG9mIG5vbi1zdHJpbmcgbG9zcyBpcyBub3Qgc3VwcG9ydGVkLlwiKX1lPXRoaXMubG9zcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRvU25ha2VDYXNlKGUpfSl9ZWxzZXt2YXIgcj1PYmplY3Qua2V5cyh0aGlzLmxvc3MpO2U9e307Zm9yKHZhciBpPXRoaXMubG9zcyxhPTAsbz1yO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1vW2FdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBpW3NdKXRocm93IG5ldyBFcnJvcihcIlNlcmlhbGl6YXRpb24gb2Ygbm9uLXN0cmluZyBsb3NzIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO2Vbc109dG9TbmFrZUNhc2UoaVtzXSl9fXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXRNZXRyaWNJZGVudGlmaWVycz1mdW5jdGlvbigpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm1ldHJpY3N8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMubWV0cmljcylyZXR1cm5bdG9TbmFrZUNhc2UoZ2V0TG9zc09yTWV0cmljTmFtZSh0aGlzLm1ldHJpY3MpKV07aWYoQXJyYXkuaXNBcnJheSh0aGlzLm1ldHJpY3MpKXJldHVybiB0aGlzLm1ldHJpY3MubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0b1NuYWtlQ2FzZShnZXRMb3NzT3JNZXRyaWNOYW1lKGUpKX0pO3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLm1ldHJpY3MpZVt0XT10b1NuYWtlQ2FzZShnZXRMb3NzT3JNZXRyaWNOYW1lKHRoaXMubWV0cmljc1t0XSkpO3JldHVybiBlfSx0LnByb3RvdHlwZS5nZXRUcmFpbmluZ0NvbmZpZz1mdW5jdGlvbigpe3JldHVybntsb3NzOnRoaXMuZ2V0TG9zc0lkZW50aWZpZXJzKCksbWV0cmljczp0aGlzLmdldE1ldHJpY0lkZW50aWZpZXJzKCksb3B0aW1pemVyX2NvbmZpZzp7Y2xhc3NfbmFtZTp0aGlzLm9wdGltaXplci5nZXRDbGFzc05hbWUoKSxjb25maWc6dGhpcy5vcHRpbWl6ZXIuZ2V0Q29uZmlnKCl9fX0sdC5wcm90b3R5cGUubG9hZFRyYWluaW5nQ29uZmlnPWZ1bmN0aW9uKGUpe2lmKG51bGwhPWUud2VpZ2h0ZWRfbWV0cmljcyl0aHJvdyBuZXcgRXJyb3IoXCJMb2FkaW5nIHdlaWdodF9tZXRyaWNzIGlzIG5vdCBzdXBwb3J0ZWQgeWV0LlwiKTtpZihudWxsIT1lLmxvc3Nfd2VpZ2h0cyl0aHJvdyBuZXcgRXJyb3IoXCJMb2FkaW5nIGxvc3Nfd2VpZ2h0cyBpcyBub3Qgc3VwcG9ydGVkIHlldC5cIik7aWYobnVsbCE9ZS5zYW1wbGVfd2VpZ2h0X21vZGUpdGhyb3cgbmV3IEVycm9yKFwiTG9hZGluZyBzYW1wbGVfd2VpZ2h0X21vZGUgaXMgbm90IHN1cHBvcnRlZCB5ZXQuXCIpO3ZhciB0LG4scj1kZXNlcmlhbGl6ZShjb252ZXJ0UHl0aG9uaWNUb1RzKGUub3B0aW1pemVyX2NvbmZpZykpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlLmxvc3MpdD10b0NhbWVsQ2FzZShlLmxvc3MpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShlLmxvc3MpKXQ9ZS5sb3NzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdG9DYW1lbENhc2UoZSl9KTtlbHNlIGlmKG51bGwhPWUubG9zcylmb3IodmFyIGkgaW4gdD17fSxlLmxvc3MpdFtpXT10b0NhbWVsQ2FzZShlLmxvc3NbaV0pO2lmKEFycmF5LmlzQXJyYXkoZS5tZXRyaWNzKSluPWUubWV0cmljcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRvQ2FtZWxDYXNlKGUpfSk7ZWxzZSBpZihudWxsIT1lLm1ldHJpY3MpZm9yKHZhciBpIGluIG49e30sZS5tZXRyaWNzKW5baV09dG9DYW1lbENhc2UoZS5tZXRyaWNzW2ldKTt0aGlzLmNvbXBpbGUoe2xvc3M6dCxtZXRyaWNzOm4sb3B0aW1pemVyOnJ9KX0sdC5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4scixpLGEsbyxzLGwsdSxjLHAsaCxkLGYsZztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihtKXtzd2l0Y2gobS5sYWJlbCl7Y2FzZSAwOmlmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZigwPT09KG49aW8uZ2V0U2F2ZUhhbmRsZXJzKGUpKS5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJDYW5ub3QgZmluZCBhbnkgc2F2ZSBoYW5kbGVycyBmb3IgVVJMICdcIitlK1wiJ1wiKTtpZihuLmxlbmd0aD4xKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiRm91bmQgbW9yZSB0aGFuIG9uZSAoXCIrbi5sZW5ndGgrXCIpIHNhdmUgaGFuZGxlcnMgZm9yIFVSTCAnXCIrZStcIidcIik7ZT1uWzBdfWlmKG51bGw9PWUuc2F2ZSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkxheWVyc01vZGVsLnNhdmUoKSBjYW5ub3QgcHJvY2VlZCBiZWNhdXNlIHRoZSBJT0hhbmRsZXIgcHJvdmlkZWQgZG9lcyBub3QgaGF2ZSB0aGUgYHNhdmVgIGF0dHJpYnV0ZSBkZWZpbmVkLlwiKTtyZXR1cm5bNCxpby5lbmNvZGVXZWlnaHRzKHRoaXMuZ2V0TmFtZWRXZWlnaHRzKHQpKV07Y2FzZSAxOnJldHVybiByPW0uc2VudCgpLGk9ITEsYT1udWxsLG89dGhpcy50b0pTT04oYSxpKSxzPXttb2RlbFRvcG9sb2d5Om8sZm9ybWF0OkxBWUVSU19NT0RFTF9GT1JNQVRfTkFNRSxnZW5lcmF0ZWRCeTpcIlRlbnNvckZsb3cuanMgdGZqcy1sYXllcnMgdlwiK3ZlcnNpb24sY29udmVydGVkQnk6bnVsbH0sbnVsbCE9dCYmdC5pbmNsdWRlT3B0aW1pemVyJiZudWxsIT10aGlzLm9wdGltaXplcj8ocy50cmFpbmluZ0NvbmZpZz10aGlzLmdldFRyYWluaW5nQ29uZmlnKCksbD1cIm9wdGltaXplclwiLGQ9KGg9aW8pLmVuY29kZVdlaWdodHMsWzQsdGhpcy5vcHRpbWl6ZXIuZ2V0V2VpZ2h0cygpXSk6WzMsNF07Y2FzZSAyOnJldHVybls0LGQuYXBwbHkoaCxbbS5zZW50KCksbF0pXTtjYXNlIDM6dT1tLnNlbnQoKSxjPXUuZGF0YSxwPXUuc3BlY3MsKGc9ci5zcGVjcykucHVzaC5hcHBseShnLHApLHIuZGF0YT1pby5jb25jYXRlbmF0ZUFycmF5QnVmZmVycyhbci5kYXRhLGNdKSxtLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiBudWxsIT10aGlzLnVzZXJEZWZpbmVkTWV0YWRhdGEmJihmPSEwLGNoZWNrVXNlckRlZmluZWRNZXRhZGF0YSh0aGlzLnVzZXJEZWZpbmVkTWV0YWRhdGEsdGhpcy5uYW1lLGYpLHMudXNlckRlZmluZWRNZXRhZGF0YT10aGlzLnVzZXJEZWZpbmVkTWV0YWRhdGEpLHMud2VpZ2h0RGF0YT1yLmRhdGEscy53ZWlnaHRTcGVjcz1yLnNwZWNzLFsyLGUuc2F2ZShzKV19fSl9KX0sdC5wcm90b3R5cGUuc2V0VXNlckRlZmluZWRNZXRhZGF0YT1mdW5jdGlvbihlKXtjaGVja1VzZXJEZWZpbmVkTWV0YWRhdGEoZSx0aGlzLm5hbWUpLHRoaXMudXNlckRlZmluZWRNZXRhZGF0YT1lfSx0LnByb3RvdHlwZS5nZXRVc2VyRGVmaW5lZE1ldGFkYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXNlckRlZmluZWRNZXRhZGF0YX0sdC5jbGFzc05hbWU9XCJNb2RlbFwiLHR9KENvbnRhaW5lcik7ZnVuY3Rpb24gbW9kZWxGcm9tSlNPTihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4scixpLGEsbyxzLGwsdTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihjKXtzd2l0Y2goYy5sYWJlbCl7Y2FzZSAwOnJldHVyblwibW9kZWxUb3BvbG9neVwiaW4gZXx8KGU9e21vZGVsVG9wb2xvZ3k6ZX0pLG51bGwhPShuPShlPWUpLm1vZGVsVG9wb2xvZ3kpLm1vZGVsX2NvbmZpZyYmKG49bi5tb2RlbF9jb25maWcpLHI9Y29udmVydFB5dGhvbmljVG9UcyhuKSxpPWRlc2VyaWFsaXplKHIsdCksbnVsbD09ZS53ZWlnaHRzTWFuaWZlc3Q/WzMsMl06WzQsaW8ubG9hZFdlaWdodHMoZS53ZWlnaHRzTWFuaWZlc3QsZS5wYXRoUHJlZml4LGkud2VpZ2h0cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUub3JpZ2luYWxOYW1lfSkpXTtjYXNlIDE6Zm9yKGE9Yy5zZW50KCksbz17fSxzPTAsbD1pLndlaWdodHM7czxsLmxlbmd0aDtzKyspdT1sW3NdLG9bdS5vcmlnaW5hbE5hbWVdPWFbdS5vcmlnaW5hbE5hbWVdO2kubG9hZFdlaWdodHMobyksZGlzcG9zZShhKSxjLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyLGldfX0pfSl9ZnVuY3Rpb24gbG9hZExheWVyc01vZGVsSW50ZXJuYWwoZSx0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKHIpe2lmKG51bGw9PXQmJih0PXt9KSxcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYoMD09PShuPWlvLmdldExvYWRIYW5kbGVycyhlLHQub25Qcm9ncmVzcykpLmxlbmd0aCluLnB1c2goaW8uYnJvd3NlckhUVFBSZXF1ZXN0KGUsdCkpO2Vsc2UgaWYobi5sZW5ndGg+MSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkZvdW5kIG1vcmUgdGhhbiBvbmUgKFwiK24ubGVuZ3RoK1wiKSBsb2FkIGhhbmRsZXJzIGZvciBVUkwgJ1wiK2UrXCInXCIpO2U9blswXX1yZXR1cm5bMixsb2FkTGF5ZXJzTW9kZWxGcm9tSU9IYW5kbGVyKGUsdm9pZCAwLHQpXX0pfSl9ZnVuY3Rpb24gbG9hZExheWVyc01vZGVsRnJvbUlPSGFuZGxlcihlLHQsbil7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcixpLGEsbyxzLGwsdSxjLHA7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oaCl7c3dpdGNoKGgubGFiZWwpe2Nhc2UgMDppZihudWxsPT1uJiYobj17fSksbnVsbD09ZS5sb2FkKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiQ2Fubm90IHByb2NlZWQgd2l0aCBtb2RlbCBsb2FkaW5nIGJlY2F1c2UgdGhlIElPSGFuZGxlciBwcm92aWRlZCBkb2VzIG5vdCBoYXZlIHRoZSBgbG9hZGAgbWV0aG9kIGltcGxlbWVudGVkLlwiKTtyZXR1cm5bNCxlLmxvYWQoKV07Y2FzZSAxOmlmKHI9aC5zZW50KCksbnVsbCE9KGk9ci5tb2RlbFRvcG9sb2d5KS5tb2RlbF9jb25maWcmJihpPWkubW9kZWxfY29uZmlnKSxhPW51bGw9PW4uc3RyaWN0fHxuLnN0cmljdCxvPW51bGwhPXIud2VpZ2h0RGF0YSYmbnVsbCE9ci53ZWlnaHRTcGVjcyYmYSxzPWRlc2VyaWFsaXplKGNvbnZlcnRQeXRob25pY1RvVHMoaSksdCxvKSxudWxsIT0obD1yLnRyYWluaW5nQ29uZmlnKSYmcy5sb2FkVHJhaW5pbmdDb25maWcobCksbnVsbCE9ci51c2VyRGVmaW5lZE1ldGFkYXRhJiZzLnNldFVzZXJEZWZpbmVkTWV0YWRhdGEoci51c2VyRGVmaW5lZE1ldGFkYXRhKSxudWxsPT1yLndlaWdodERhdGEpcmV0dXJuWzMsNF07aWYobnVsbD09ci53ZWlnaHRTcGVjcyl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkxheWVyc01vZGVsIGFydGlmYWN0cyBjb250YWlucyB3ZWlnaHQgZGF0YSwgYnV0IG5vdCB3ZWlnaHQgc3BlY3MuIFRoZXJlZm9yZSBsb2FkaW5nIG9mIHdlaWdodHMgY2Fubm90IHByb2NlZWQuXCIpO3JldHVybiB1PWRlY29kZU1vZGVsQW5kT3B0aW1pemVyV2VpZ2h0cyhyLndlaWdodERhdGEsci53ZWlnaHRTcGVjcyksYz11Lm1vZGVsV2VpZ2h0cyxwPXUub3B0aW1pemVyV2VpZ2h0cyxzLmxvYWRXZWlnaHRzKGMsYSksbnVsbCE9cy5vcHRpbWl6ZXImJnAubGVuZ3RoPjA/WzQscy5vcHRpbWl6ZXIuc2V0V2VpZ2h0cyhwKV06WzMsM107Y2FzZSAyOmguc2VudCgpLGgubGFiZWw9MztjYXNlIDM6ZGlzcG9zZShjKSxkaXNwb3NlKHAubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRlbnNvcn0pKSxoLmxhYmVsPTQ7Y2FzZSA0OnJldHVyblsyLHNdfX0pfSl9ZnVuY3Rpb24gZGVjb2RlTW9kZWxBbmRPcHRpbWl6ZXJXZWlnaHRzKGUsdCl7dmFyIG49aW8uZGVjb2RlV2VpZ2h0cyhlLHQpLHI9e30saT1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wib3B0aW1pemVyXCI9PT1lLmdyb3VwP2kucHVzaCh7bmFtZTplLm5hbWUsdGVuc29yOm5bZS5uYW1lXX0pOnJbZS5uYW1lXT1uW2UubmFtZV19KSx7bW9kZWxXZWlnaHRzOnIsb3B0aW1pemVyV2VpZ2h0czppfX1zZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoTGF5ZXJzTW9kZWwpO3ZhciBTZXF1ZW50aWFsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMse2lucHV0czpbXSxvdXRwdXRzOltdfSl8fHRoaXM7aWYodD10fHx7fSxuLnRyYWluYWJsZT0hMCxuLmJ1aWx0PSExLG4ubmFtZT1udWxsIT10Lm5hbWU/dC5uYW1lOmdldFVpZChcInNlcXVlbnRpYWxfXCIpLG51bGwhPXQubGF5ZXJzKWZvcih2YXIgcj0wLGk9dC5sYXllcnM7cjxpLmxlbmd0aDtyKyspe3ZhciBhPWlbcl07bi5hZGQoYSl9cmV0dXJuIG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNoZWNrU2hhcGU9ZnVuY3Rpb24oZSl7aWYoZS5pbmJvdW5kTm9kZXNbMF0ub3V0cHV0VGVuc29yc1swXS5zaGFwZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlPDB9KSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIk5lZ2F0aXZlIGRpbWVuc2lvbiBzaXplIGNhdXNlZCBieSBhZGRpbmcgbGF5ZXIgXCIrZS5uYW1lK1wiIHdpdGggaW5wdXQgc2hhcGUgW1wiK2UuaW5ib3VuZE5vZGVzWzBdLmlucHV0VGVuc29yc1swXS5zaGFwZStcIl1cIil9LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXt2YXIgbixyPWUgaW5zdGFuY2VvZiB0fHxlIGluc3RhbmNlb2YgTGF5ZXJzTW9kZWw7aWYocil7aWYoMSE9PShuPWUpLm91dHB1dHMubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiQWxsIGxheWVycyBpbiBhIFNlcXVlbnRpYWwgbW9kZWwgc2hvdWxkIGhhdmUgYSBzaW5nbGUgb3V0cHV0IHRlbnNvci4gRm9yIG11bHRpLW91dHB1dCBsYXllcnMsIHVzZSB0aGUgZnVuY3Rpb25hbCBBUEkuXCIpO2lmKDEhPT1uLmlucHV0cy5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJBbGwgbGF5ZXJzIGluIGEgU2VxdWVudGlhbCBtb2RlbCBzaG91bGQgaGF2ZSBhIHNpbmdsZSBpbnB1dCB0ZW5zb3IuIEZvciBtdWx0aS1pbnB1dCBsYXllcnMsIHVzZSB0aGUgZnVuY3Rpb25hbCBBUEkuXCIpfWlmKDA9PT10aGlzLm91dHB1dHMubGVuZ3RoKXtpZigwPT09ZS5pbmJvdW5kTm9kZXMubGVuZ3RoKXtpZihudWxsPT1lLmJhdGNoSW5wdXRTaGFwZSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlRoZSBmaXJzdCBsYXllciBpbiBhIFNlcXVlbnRpYWwgbW9kZWwgbXVzdCBnZXQgYW4gYGlucHV0U2hhcGVgIG9yIGBiYXRjaElucHV0U2hhcGVgIGFyZ3VtZW50LlwiKTt2YXIgaT1JbnB1dCh7YmF0Y2hTaGFwZTplLmJhdGNoSW5wdXRTaGFwZSxkdHlwZTplLmR0eXBlLG5hbWU6ZS5uYW1lK1wiX2lucHV0XCJ9KTtlLmFwcGx5KGkpfWlmKHIpdGhpcy5vdXRwdXRzPW4ub3V0cHV0cyx0aGlzLmlucHV0cz1uLmlucHV0cztlbHNle2lmKDEhPT1lLmluYm91bmROb2Rlcy5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJBIGxheWVyIGFkZGVkIHRvIGEgU2VxdWVudGlhbCBtb2RlbCBtdXN0IG5vdCBhbHJlYWR5IGJlIGNvbm5lY3RlZCBzb21ld2hlcmUgZWxzZS4gTGF5ZXJzTW9kZWwgcmVjZWl2ZWQgbGF5ZXIgXCIrZS5uYW1lK1wiIHdoaWNoIGhhcyBcIitlLmluYm91bmROb2Rlcy5sZW5ndGgrXCIgcHJlLWV4aXN0aW5nIGluYm91bmQgY29ubmVjdGlvbnMuXCIpO2lmKDEhPT1lLmluYm91bmROb2Rlc1swXS5vdXRwdXRUZW5zb3JzLmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkFsbCBsYXllcnMgaW4gYSBTZXF1ZW50aWFsIG1vZGVsIHNob3VsZCBoYXZlIGEgc2luZ2xlIG91dHB1dCB0ZW5zb3IuIEZvciBtdWx0aS1vdXRwdXQgbGF5ZXJzLCB1c2UgdGhlIGZ1bmN0aW9uYWwgQVBJLlwiKTt0aGlzLmNoZWNrU2hhcGUoZSksdGhpcy5vdXRwdXRzPVtlLmluYm91bmROb2Rlc1swXS5vdXRwdXRUZW5zb3JzWzBdXSx0aGlzLmlucHV0cz1nZXRTb3VyY2VJbnB1dHModGhpcy5vdXRwdXRzWzBdKX10aGlzLmluYm91bmROb2Rlcz1bXSxuZXcgTm9kZSh7b3V0Ym91bmRMYXllcjp0aGlzLGluYm91bmRMYXllcnM6W10sbm9kZUluZGljZXM6W10sdGVuc29ySW5kaWNlczpbXSxpbnB1dFRlbnNvcnM6dGhpcy5pbnB1dHMsb3V0cHV0VGVuc29yczp0aGlzLm91dHB1dHMsaW5wdXRNYXNrczpweUxpc3RSZXBlYXQobnVsbCx0aGlzLmlucHV0cy5sZW5ndGgpLG91dHB1dE1hc2tzOltudWxsXSxpbnB1dFNoYXBlczp0aGlzLmlucHV0cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2hhcGV9KSxvdXRwdXRTaGFwZXM6dGhpcy5vdXRwdXRzWzBdLnNoYXBlfSl9ZWxzZXt2YXIgYT1lLmFwcGx5KHRoaXMub3V0cHV0c1swXSk7aWYoQXJyYXkuaXNBcnJheShhKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQWxsIGxheWVycyBpbiBhIFNlcXVlbnRpYWwgbW9kZWwgc2hvdWxkIGhhdmUgYSBzaW5nbGUgb3V0cHV0IHRlbnNvci4gRm9yIG11bHRpLW91dHB1dCBsYXllcnMsIHVzZSB0aGUgZnVuY3Rpb25hbCBBUEkuXCIpO3RoaXMuY2hlY2tTaGFwZShlKSx0aGlzLm91dHB1dHM9W2FdLHRoaXMuaW5ib3VuZE5vZGVzWzBdLm91dHB1dFRlbnNvcnM9dGhpcy5vdXRwdXRzLHRoaXMuaW5ib3VuZE5vZGVzWzBdLm91dHB1dFNoYXBlcz1bdGhpcy5vdXRwdXRzWzBdLnNoYXBlXX10aGlzLmxheWVycy5wdXNoKGUpLHRoaXMuYnVpbHQ9ITF9LHQucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe2lmKDA9PT10aGlzLmxheWVycy5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZXJlIGFyZSBubyBsYXllcnMgaW4gdGhlIG1vZGVsLlwiKTtpZih0aGlzLmxheWVycy5wb3AoKSwwPT09dGhpcy5sYXllcnMubGVuZ3RoKXRoaXMub3V0cHV0cz1bXSx0aGlzLmluYm91bmROb2Rlcz1bXSx0aGlzLm91dGJvdW5kTm9kZXM9W107ZWxzZXt2YXIgZT10aGlzLmxheWVycy5sZW5ndGgtMTt0aGlzLmxheWVyc1tlXS5vdXRib3VuZE5vZGVzPVtdLHRoaXMub3V0cHV0cz1bdGhpcy5sYXllcnNbZV0ub3V0cHV0XSx0aGlzLmluYm91bmROb2Rlc1swXS5vdXRwdXRUZW5zb3JzPXRoaXMub3V0cHV0cyx0aGlzLmluYm91bmROb2Rlc1swXS5vdXRwdXRTaGFwZXM9W3RoaXMub3V0cHV0c1swXS5zaGFwZV19fSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PXRoaXMubW9kZWwmJnRoaXMuYnVpbGQoKSx0aGlzLm1vZGVsLmNhbGwoZSx0KX0sdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSl7aWYoZ2V0RXhhY3RseU9uZVNoYXBlKGUpLDA9PT10aGlzLmlucHV0cy5sZW5ndGh8fDA9PT10aGlzLm91dHB1dHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTZXF1ZW50aWFsIG1vZGVsIGNhbm5vdCBiZSBidWlsdDogbW9kZWwgaXMgZW1wdHkuIEFkZCBzb21lIGxheWVycyBmaXJzdC5cIik7dGhpcy5tb2RlbD1uZXcgTGF5ZXJzTW9kZWwoe2lucHV0czp0aGlzLmlucHV0cyxvdXRwdXRzOnRoaXMub3V0cHV0c1swXSxuYW1lOnRoaXMubmFtZStcIl9tb2RlbFwifSksdGhpcy5tb2RlbC50cmFpbmFibGU9dGhpcy50cmFpbmFibGUsdGhpcy5zdXBwb3J0c01hc2tpbmc9dGhpcy5tb2RlbC5zdXBwb3J0c01hc2tpbmcsdGhpcy5pbnB1dExheWVycz10aGlzLm1vZGVsLmlucHV0TGF5ZXJzLHRoaXMuaW5wdXRMYXllcnNOb2RlSW5kaWNlcz10aGlzLm1vZGVsLmlucHV0TGF5ZXJzTm9kZUluZGljZXMsdGhpcy5pbnB1dExheWVyc1RlbnNvckluZGljZXM9dGhpcy5tb2RlbC5pbnB1dExheWVyc1RlbnNvckluZGljZXMsdGhpcy5vdXRwdXRMYXllcnM9dGhpcy5tb2RlbC5vdXRwdXRMYXllcnMsdGhpcy5vdXRwdXRMYXllcnNOb2RlSW5kaWNlcz10aGlzLm1vZGVsLm91dHB1dExheWVyc05vZGVJbmRpY2VzLHRoaXMub3V0cHV0TGF5ZXJzVGVuc29ySW5kaWNlcz10aGlzLm1vZGVsLm91dHB1dExheWVyc1RlbnNvckluZGljZXMsdGhpcy5ub2Rlc0J5RGVwdGg9dGhpcy5tb2RlbC5ub2Rlc0J5RGVwdGgsdGhpcy5jb250YWluZXJOb2Rlcz10aGlzLm1vZGVsLmNvbnRhaW5lck5vZGVzLHRoaXMub3V0cHV0TmFtZXM9dGhpcy5tb2RlbC5vdXRwdXROYW1lcyx0aGlzLmlucHV0TmFtZXM9dGhpcy5tb2RlbC5pbnB1dE5hbWVzLHRoaXMuYnVpbHQ9ITB9LHQucHJvdG90eXBlLmNvdW50UGFyYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVpbHR8fHRoaXMuYnVpbGQoKSxlLnByb3RvdHlwZS5jb3VudFBhcmFtcy5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKHQsbixyKXt2b2lkIDA9PT1yJiYocj1jb25zb2xlLmxvZyksdGhpcy5idWlsdHx8dGhpcy5idWlsZCgpLGUucHJvdG90eXBlLnN1bW1hcnkuY2FsbCh0aGlzLHQsbixyKX0sdC5wcm90b3R5cGUuc2V0V2VpZ2h0cz1mdW5jdGlvbihlKXtudWxsPT10aGlzLm1vZGVsJiZ0aGlzLmJ1aWxkKCksdGhpcy5tb2RlbC5zZXRXZWlnaHRzKGUpfSx0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbihlLHQsbil7aWYodm9pZCAwPT09biYmKG49e30pLCF0aGlzLmJ1aWx0KXRocm93IG5ldyBSdW50aW1lRXJyb3IoXCJUaGUgbW9kZWwgbmVlZHMgdG8gYmUgY29tcGlsZWQgYmVmb3JlIGJlaW5nIHVzZWQuXCIpO3JldHVybiB0aGlzLm1vZGVsLmV2YWx1YXRlKGUsdCxuKX0sdC5wcm90b3R5cGUuZXZhbHVhdGVEYXRhc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihuKXtpZighdGhpcy5idWlsdCl0aHJvdyBuZXcgUnVudGltZUVycm9yKFwiVGhlIG1vZGVsIG5lZWRzIHRvIGJlIGNvbXBpbGVkIGJlZm9yZSBiZWluZyB1c2VkLlwiKTtyZXR1cm5bMix0aGlzLm1vZGVsLmV2YWx1YXRlRGF0YXNldChlLHQpXX0pfSl9LHQucHJvdG90eXBlLnByZWRpY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLG51bGw9PXRoaXMubW9kZWwmJnRoaXMuYnVpbGQoKSx0aGlzLm1vZGVsLnByZWRpY3QoZSx0KX0sdC5wcm90b3R5cGUucHJlZGljdE9uQmF0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PXRoaXMubW9kZWwmJnRoaXMuYnVpbGQoKSx0aGlzLm1vZGVsLnByZWRpY3RPbkJhdGNoKGUpfSx0LnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKGUpe3RoaXMuYnVpbGQoKSx0aGlzLm1vZGVsLmNvbXBpbGUoZSksdGhpcy5vcHRpbWl6ZXJfPXRoaXMubW9kZWwub3B0aW1pemVyLHRoaXMuaXNPcHRpbWl6ZXJPd25lZD10aGlzLm1vZGVsLmlzT3B0aW1pemVyT3duZWQsdGhpcy5sb3NzPXRoaXMubW9kZWwubG9zcyx0aGlzLm1ldHJpY3M9dGhpcy5tb2RlbC5tZXRyaWNzLHRoaXMubWV0cmljc1RlbnNvcnM9dGhpcy5tb2RlbC5tZXRyaWNzVGVuc29ycyx0aGlzLm1ldHJpY3NOYW1lcz10aGlzLm1vZGVsLm1ldHJpY3NOYW1lc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib3B0aW1pemVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLm1vZGVsP3ZvaWQgMDp0aGlzLm1vZGVsLm9wdGltaXplcn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMubW9kZWwub3B0aW1pemVyPWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZml0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihyKXtpZighdGhpcy5idWlsdCl0aHJvdyBuZXcgUnVudGltZUVycm9yKFwiVGhlIG1vZGVsIG5lZWRzIHRvIGJlIGNvbXBpbGVkIGJlZm9yZSBiZWluZyB1c2VkLlwiKTtyZXR1cm5bMix0aGlzLm1vZGVsLmZpdChlLHQsbildfSl9KX0sdC5wcm90b3R5cGUuZml0RGF0YXNldD1mdW5jdGlvbihlLHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24obil7aWYoIXRoaXMuYnVpbHQpdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcIlRoZSBtb2RlbCBuZWVkcyB0byBiZSBjb21waWxlZCBiZWZvcmUgYmVpbmcgdXNlZC5cIik7cmV0dXJuWzIsdGhpcy5tb2RlbC5maXREYXRhc2V0KGUsdCldfSl9KX0sdC5wcm90b3R5cGUudHJhaW5PbkJhdGNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihuKXtyZXR1cm5bMix0aGlzLm1vZGVsLnRyYWluT25CYXRjaChlLHQpXX0pfSl9LHQuZnJvbUNvbmZpZz1mdW5jdGlvbihlLG4scixpKXt2YXIgYTt2b2lkIDA9PT1yJiYocj17fSksdm9pZCAwPT09aSYmKGk9ITEpO3ZhciBvPXt9O2lmKG4gaW5zdGFuY2VvZiBBcnJheSl7aWYobnVsbD09blswXS5jbGFzc05hbWV8fFwiTWVyZ2VcIj09PW5bMF0uY2xhc3NOYW1lKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiTGVnYWN5IHNlcmlhbGl6YXRpb24gZm9ybWF0IG5vdCBzdXBwb3J0ZWQgeWV0LlwiKTthPW59ZWxzZSB1dGlsLmFzc2VydChudWxsIT1uLmxheWVycyxmdW5jdGlvbigpe3JldHVyblwiV2hlbiB0aGUgY29uZmlnIGRhdGEgZm9yIGEgU2VxdWVudGlhbCBtb2RlbCBpcyBub3QgYW4gQXJyYXksIGl0IG11c3QgYmUgYW4gT2JqZWN0IHRoYXQgY29udGFpbnMgdGhlICdsYXllcnMnIGZpZWxkLlwifSksYT1uLmxheWVycyxkZWxldGUgbi5sYXllcnMsbz1uO3ZhciBzPW5ldyBlKG8pO2lmKCEocyBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiU2VxdWVudGlhbC5mcm9tQ29uZmlnIGNhbGxlZCBvbiBub24tU2VxdWVudGlhbCBpbnB1dDogXCIrcyk7Zm9yKHZhciBsPTAsdT1hO2w8dS5sZW5ndGg7bCsrKXt2YXIgYz1kZXNlcmlhbGl6ZSh1W2xdLHZvaWQgMCxpKTtpJiZjLnNldEZhc3RXZWlnaHRJbml0RHVyaW5nQnVpbGQoITApLHMuYWRkKGMpfXJldHVybiBzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzdG9wVHJhaW5pbmdcIix7Z2V0OmZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5tb2RlbCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkNhbm5vdCBnZXQgdGhlIHN0b3BUcmFpbmluZyBwcm9wZXJ0eSBvZiBhIHNlcXVlbnRpYWwgbW9kZWwgYmVmb3JlIGl0IGlzIGNvbXBpbGVkLlwiKTtyZXR1cm4gdGhpcy5tb2RlbC5zdG9wVHJhaW5pbmd9LHNldDpmdW5jdGlvbihlKXtpZihudWxsPT10aGlzLm1vZGVsKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiQ2Fubm90IHNldCB0aGUgc3RvcFRyYWluaW5nIHByb3BlcnR5IG9mIGEgc2VxdWVudGlhbCBtb2RlbCBiZWZvcmUgaXQgaXMgY29tcGlsZWQuXCIpO3RoaXMubW9kZWwuc3RvcFRyYWluaW5nPWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MCxuPXRoaXMubGF5ZXJzO3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1uW3RdLGk9e307aS5jbGFzc05hbWU9ci5nZXRDbGFzc05hbWUoKSxpLmNvbmZpZz1yLmdldENvbmZpZygpLGUucHVzaChpKX1yZXR1cm57bmFtZTp0aGlzLm5hbWUsbGF5ZXJzOmV9fSx0LmNsYXNzTmFtZT1cIlNlcXVlbnRpYWxcIix0fShMYXllcnNNb2RlbCk7ZnVuY3Rpb24gbW9kZWwoZSl7cmV0dXJuIG5ldyBMYXllcnNNb2RlbChlKX1mdW5jdGlvbiBzZXF1ZW50aWFsKGUpe3JldHVybiBuZXcgU2VxdWVudGlhbChlKX1mdW5jdGlvbiBsb2FkTGF5ZXJzTW9kZWwoZSx0KXtyZXR1cm4gbnVsbD09dCYmKHQ9e30pLGxvYWRMYXllcnNNb2RlbEludGVybmFsKGUsdCl9ZnVuY3Rpb24gaW5wdXQoZSl7cmV0dXJuIElucHV0KGUpfWZ1bmN0aW9uIHJlZ2lzdGVyQ2FsbGJhY2tDb25zdHJ1Y3RvcihlLHQpe0NhbGxiYWNrQ29uc3RydWN0b3JSZWdpc3RyeS5yZWdpc3RlckNhbGxiYWNrQ29uc3RydWN0b3IoZSx0KX1zZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoU2VxdWVudGlhbCk7dmFyIEFjdGl2YXRpb249ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybnt9fSx0fShzZXJpYWxpemF0aW9uLlNlcmlhbGl6YWJsZSksRWx1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0xKSxlbHUkMShlLHQpfSx0LmNsYXNzTmFtZT1cImVsdVwiLHR9KEFjdGl2YXRpb24pO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhFbHUpO3ZhciBTZWx1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtyZXR1cm4gc2VsdShlKX0sdC5jbGFzc05hbWU9XCJzZWx1XCIsdH0oQWN0aXZhdGlvbik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFNlbHUpO3ZhciBSZWx1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtyZXR1cm4gcmVsdShlKX0sdC5jbGFzc05hbWU9XCJyZWx1XCIsdH0oQWN0aXZhdGlvbik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFJlbHUpO3ZhciBSZWx1Nj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gbWluaW11bSg2LHJlbHUoZSkpfSl9LHQuY2xhc3NOYW1lPVwicmVsdTZcIix0fShBY3RpdmF0aW9uKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoUmVsdTYpO3ZhciBMaW5lYXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe3JldHVybiBlfSx0LmNsYXNzTmFtZT1cImxpbmVhclwiLHR9KEFjdGl2YXRpb24pO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhMaW5lYXIpO3ZhciBTaWdtb2lkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtyZXR1cm4gc2lnbW9pZChlKX0sdC5jbGFzc05hbWU9XCJzaWdtb2lkXCIsdH0oQWN0aXZhdGlvbik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFNpZ21vaWQpO3ZhciBIYXJkU2lnbW9pZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGhhcmRTaWdtb2lkKGUpfSx0LmNsYXNzTmFtZT1cImhhcmRTaWdtb2lkXCIsdH0oQWN0aXZhdGlvbik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEhhcmRTaWdtb2lkKTt2YXIgU29mdHBsdXM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe3JldHVybiBzb2Z0cGx1cyhlKX0sdC5jbGFzc05hbWU9XCJzb2Z0cGx1c1wiLHR9KEFjdGl2YXRpb24pO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhTb2Z0cGx1cyk7dmFyIFNvZnRzaWduPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtyZXR1cm4gc29mdHNpZ24oZSl9LHQuY2xhc3NOYW1lPVwic29mdHNpZ25cIix0fShBY3RpdmF0aW9uKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoU29mdHNpZ24pO3ZhciBUYW5oPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtyZXR1cm4gdGFuaChlKX0sdC5jbGFzc05hbWU9XCJ0YW5oXCIsdH0oQWN0aXZhdGlvbik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFRhbmgpO3ZhciBTb2Z0bWF4PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0tMSksc29mdG1heChlLHQpfSx0LmNsYXNzTmFtZT1cInNvZnRtYXhcIix0fShBY3RpdmF0aW9uKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoU29mdG1heCk7dmFyIExvZ1NvZnRtYXg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PS0xKSxsb2dTb2Z0bWF4KGUsdCl9LHQuY2xhc3NOYW1lPVwibG9nU29mdG1heFwiLHR9KEFjdGl2YXRpb24pO2Z1bmN0aW9uIHNlcmlhbGl6ZUFjdGl2YXRpb24oZSl7cmV0dXJuIGUuZ2V0Q2xhc3NOYW1lKCl9ZnVuY3Rpb24gZGVzZXJpYWxpemVBY3RpdmF0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSxkZXNlcmlhbGl6ZUtlcmFzT2JqZWN0KGUsc2VyaWFsaXphdGlvbi5TZXJpYWxpemF0aW9uTWFwLmdldE1hcCgpLmNsYXNzTmFtZU1hcCx0LFwiYWN0aXZhdGlvblwiKX1mdW5jdGlvbiBnZXRBY3RpdmF0aW9uKGUpe3ZhciB0O3JldHVybiBudWxsPT1lP2Rlc2VyaWFsaXplQWN0aXZhdGlvbih0PXtjbGFzc05hbWU6XCJsaW5lYXJcIixjb25maWc6e319KTpcInN0cmluZ1wiPT10eXBlb2YgZT8oKHQ9e30pLmNsYXNzTmFtZT1lLHQuY29uZmlnPXt9LGRlc2VyaWFsaXplQWN0aXZhdGlvbih0KSk6ZSBpbnN0YW5jZW9mIEFjdGl2YXRpb24/ZTpkZXNlcmlhbGl6ZUFjdGl2YXRpb24oZSl9ZnVuY3Rpb24gYXNzZXJ0T2JqZWN0QXJncyhlKXtpZihudWxsIT1lJiZcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCB0byBMMUwyIHJlZ3VsYXJpemVyJ3MgY29uc3RydWN0b3IgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gb2JqZWN0LCBidXQgcmVjZWl2ZWQ6IFwiK2UpfXNlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhMb2dTb2Z0bWF4KTt2YXIgUmVndWxhcml6ZXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHR9KHNlcmlhbGl6YXRpb24uU2VyaWFsaXphYmxlKSxMMUwyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBhc3NlcnRPYmplY3RBcmdzKHQpLG4ubDE9bnVsbD09dHx8bnVsbD09dC5sMT8uMDE6dC5sMSxuLmwyPW51bGw9PXR8fG51bGw9PXQubDI/LjAxOnQubDIsbi5oYXNMMT0wIT09bi5sMSxuLmhhc0wyPTAhPT1uLmwyLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgbj16ZXJvcyhbMV0pO3JldHVybiB0Lmhhc0wxJiYobj1hZGQobixzdW0obXVsKHQubDEsYWJzKGUpKSkpKSx0Lmhhc0wyJiYobj1hZGQobixzdW0obXVsKHQubDIsc3F1YXJlKGUpKSkpKSxuLmFzU2NhbGFyKCl9KX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJue2wxOnRoaXMubDEsbDI6dGhpcy5sMn19LHQuZnJvbUNvbmZpZz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgZSh7bDE6dC5sMSxsMjp0LmwyfSl9LHQuY2xhc3NOYW1lPVwiTDFMMlwiLHR9KFJlZ3VsYXJpemVyKTtmdW5jdGlvbiBsMShlKXtyZXR1cm4gYXNzZXJ0T2JqZWN0QXJncyhlKSxuZXcgTDFMMih7bDE6bnVsbCE9ZT9lLmwxOm51bGwsbDI6MH0pfWZ1bmN0aW9uIGwyKGUpe3JldHVybiBhc3NlcnRPYmplY3RBcmdzKGUpLG5ldyBMMUwyKHtsMjpudWxsIT1lP2UubDI6bnVsbCxsMTowfSl9c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEwxTDIpO3ZhciBSRUdVTEFSSVpFUl9JREVOVElGSUVSX1JFR0lTVFJZX1NZTUJPTF9NQVA9e2wxbDI6XCJMMUwyXCJ9O2Z1bmN0aW9uIHNlcmlhbGl6ZVJlZ3VsYXJpemVyKGUpe3JldHVybiBzZXJpYWxpemVLZXJhc09iamVjdChlKX1mdW5jdGlvbiBkZXNlcmlhbGl6ZVJlZ3VsYXJpemVyKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSxkZXNlcmlhbGl6ZUtlcmFzT2JqZWN0KGUsc2VyaWFsaXphdGlvbi5TZXJpYWxpemF0aW9uTWFwLmdldE1hcCgpLmNsYXNzTmFtZU1hcCx0LFwicmVndWxhcml6ZXJcIil9ZnVuY3Rpb24gZ2V0UmVndWxhcml6ZXIoZSl7cmV0dXJuIG51bGw9PWU/bnVsbDpcInN0cmluZ1wiPT10eXBlb2YgZT9kZXNlcmlhbGl6ZVJlZ3VsYXJpemVyKHtjbGFzc05hbWU6ZSBpbiBSRUdVTEFSSVpFUl9JREVOVElGSUVSX1JFR0lTVFJZX1NZTUJPTF9NQVA/UkVHVUxBUklaRVJfSURFTlRJRklFUl9SRUdJU1RSWV9TWU1CT0xfTUFQW2VdOmUsY29uZmlnOnt9fSk6ZSBpbnN0YW5jZW9mIFJlZ3VsYXJpemVyP2U6ZGVzZXJpYWxpemVSZWd1bGFyaXplcihlKX12YXIgUmVMVT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLG51bGw9PXQ/e306dCl8fHRoaXM7cmV0dXJuIG4uc3VwcG9ydHNNYXNraW5nPSEwLG51bGwhPXQmJihuLm1heFZhbHVlPXQubWF4VmFsdWUpLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXtlPWdldEV4YWN0bHlPbmVUZW5zb3IoZSk7dmFyIG49cmVsdShlKTtyZXR1cm4gbnVsbCE9dGhpcy5tYXhWYWx1ZSYmKG49Y2xpcEJ5VmFsdWUobiwwLHRoaXMubWF4VmFsdWUpKSxufSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXttYXhWYWx1ZTp0aGlzLm1heFZhbHVlfSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5jbGFzc05hbWU9XCJSZUxVXCIsdH0oTGF5ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhSZUxVKTt2YXIgTGVha3lSZUxVPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsbnVsbD09dD97fTp0KXx8dGhpcztyZXR1cm4gbi5ERUZBVUxUX0FMUEhBPS4zLG51bGw9PXQmJih0PXt9KSxuLmFscGhhPW51bGw9PXQuYWxwaGE/bi5ERUZBVUxUX0FMUEhBOnQuYWxwaGEsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPWdldEV4YWN0bHlPbmVUZW5zb3IoZSk7cmV0dXJuIGxlYWt5UmVsdShuLHRoaXMuYWxwaGEpfSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXthbHBoYTp0aGlzLmFscGhhfSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5jbGFzc05hbWU9XCJMZWFreVJlTFVcIix0fShMYXllcik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKExlYWt5UmVMVSk7dmFyIFBSZUxVPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsbnVsbD09dD97fTp0KXx8dGhpcztpZihuLkRFRkFVTFRfQUxQSEFfSU5JVElBTElaRVI9XCJ6ZXJvc1wiLG51bGw9PXQmJih0PXt9KSxuLnN1cHBvcnRzTWFza2luZz0hMCxuLmFscGhhSW5pdGlhbGl6ZXI9Z2V0SW5pdGlhbGl6ZXIodC5hbHBoYUluaXRpYWxpemVyfHxuLkRFRkFVTFRfQUxQSEFfSU5JVElBTElaRVIpLG4uYWxwaGFSZWd1bGFyaXplcj1nZXRSZWd1bGFyaXplcih0LmFscGhhUmVndWxhcml6ZXIpLG4uYWxwaGFDb25zdHJhaW50PWdldENvbnN0cmFpbnQodC5hbHBoYUNvbnN0cmFpbnQpLG51bGw9PXQuc2hhcmVkQXhlcyluLnNoYXJlZEF4ZXM9bnVsbDtlbHNlIGlmKEFycmF5LmlzQXJyYXkodC5zaGFyZWRBeGVzKSluLnNoYXJlZEF4ZXM9dC5zaGFyZWRBeGVzO2Vsc2V7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQuc2hhcmVkQXhlcyl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkV4cGVjdGVkIHNoYXJlZEF4ZXMgdG8gYmUgYSBudW1iZXIgb3IgYW4gYXJyYXkgb2YgbnVtYmVycywgYnV0IGdvdCBcIit0LnNoYXJlZEF4ZXMpO24uc2hhcmVkQXhlcz1bdC5zaGFyZWRBeGVzXX1yZXR1cm4gbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9KGU9Z2V0RXhhY3RseU9uZVNoYXBlKGUpKS5zbGljZSgxKTtpZihudWxsIT10aGlzLnNoYXJlZEF4ZXMpZm9yKHZhciBuPTAscj10aGlzLnNoYXJlZEF4ZXM7bjxyLmxlbmd0aDtuKyspe3RbKGE9cltuXSktMV09MX10aGlzLmFscGhhPXRoaXMuYWRkV2VpZ2h0KFwiYWxwaGFcIix0LFwiZmxvYXQzMlwiLHRoaXMuYWxwaGFJbml0aWFsaXplcix0aGlzLmFscGhhUmVndWxhcml6ZXIsITAsdGhpcy5hbHBoYUNvbnN0cmFpbnQpO3ZhciBpPXt9O2lmKG51bGwhPXRoaXMuc2hhcmVkQXhlcylmb3IodmFyIGE9MTthPGUubGVuZ3RoOysrYSlpW2FdPWVbYV07dGhpcy5pbnB1dFNwZWM9W25ldyBJbnB1dFNwZWMoe25kaW06ZS5sZW5ndGgsYXhlczppfSldLHRoaXMuYnVpbHQ9ITB9LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1nZXRFeGFjdGx5T25lVGVuc29yKGUpLHByZWx1KGUsdGhpcy5hbHBoYS5yZWFkKCkpfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17YWxwaGFJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLmFscGhhSW5pdGlhbGl6ZXIpLGFscGhhUmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5hbHBoYVJlZ3VsYXJpemVyKSxhbHBoYUNvbnN0cmFpbnQ6c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLmFscGhhQ29uc3RyYWludCksc2hhcmVkQXhlczp0aGlzLnNoYXJlZEF4ZXN9LG49ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxuKSx0fSx0LmNsYXNzTmFtZT1cIlBSZUxVXCIsdH0oTGF5ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhQUmVMVSk7dmFyIEVMVT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLG51bGw9PXQ/e306dCl8fHRoaXM7aWYobi5ERUZBVUxUX0FMUEhBPTEsbnVsbD09dCYmKHQ9e30pLG51bGwhPXQuYWxwaGEmJnQuYWxwaGEhPT1uLkRFRkFVTFRfQUxQSEEpdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXCJOb24tZGVmYXVsdCBhbHBoYSB2YWx1ZSAoXCIrdC5hbHBoYStcIikgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgRUxVIGxheWVyIHlldC5cIik7cmV0dXJuIG4uYWxwaGE9bnVsbD09dC5hbHBoYT9uLkRFRkFVTFRfQUxQSEE6dC5hbHBoYSxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49Z2V0RXhhY3RseU9uZVRlbnNvcihlKTtyZXR1cm4gZWx1KG4pfSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXthbHBoYTp0aGlzLmFscGhhfSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5jbGFzc05hbWU9XCJFTFVcIix0fShMYXllcik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEVMVSk7dmFyIFRocmVzaG9sZGVkUmVMVT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLG51bGw9PXQ/e306dCl8fHRoaXM7cmV0dXJuIG4uREVGQVVMVF9USEVUQT0xLG51bGw9PXQmJih0PXt9KSxuLnRoZXRhPW51bGw9PXQudGhldGE/bi5ERUZBVUxUX1RIRVRBOnQudGhldGEsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPWdldEV4YWN0bHlPbmVUZW5zb3IoZSk7cmV0dXJuIG4ubXVsKGNhc3QkMShuLmdyZWF0ZXIodGhpcy50aGV0YSksXCJmbG9hdDMyXCIpKX0sdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17dGhldGE6dGhpcy50aGV0YX0sbj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LG4pLHR9LHQuY2xhc3NOYW1lPVwiVGhyZXNob2xkZWRSZUxVXCIsdH0oTGF5ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhUaHJlc2hvbGRlZFJlTFUpO3ZhciBTb2Z0bWF4JDE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyxudWxsPT10P3t9OnQpfHx0aGlzO3JldHVybiBuLkRFRkFVTFRfQVhJUz0xLG51bGw9PXQmJih0PXt9KSxuLnNvZnRtYXg9KG5ldyBTb2Z0bWF4KS5hcHBseSxuLmF4aXM9bnVsbD09dC5heGlzP24uREVGQVVMVF9BWElTOnQuYXhpcyxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49Z2V0RXhhY3RseU9uZVRlbnNvcihlKTtyZXR1cm4gdGhpcy5zb2Z0bWF4KG4sdGhpcy5heGlzKX0sdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17YXhpczp0aGlzLmF4aXN9LG49ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxuKSx0fSx0LmNsYXNzTmFtZT1cIlNvZnRtYXhcIix0fShMYXllcik7ZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkoZSx0LG4pe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiBweUxpc3RSZXBlYXQoZSx0KTtpZihlLmxlbmd0aCE9PXQpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJUaGUgXCIrbitcIiBhcmd1bWVudCBtdXN0IGJlIGFuIGludGVnZXIgb3IgdHVwbGUgb2YgXCIrdCtcIiBpbnRlZ2Vycy4gUmVjZWl2ZWQ6IFwiK2UubGVuZ3RoK1wiIGVsZW1lbnRzLlwiKTtmb3IodmFyIHI9MDtyPHQ7KytyKXt2YXIgaT1lW3JdO2lmKCFpc0ludGVnZXIoaSkpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJUaGUgXCIrbitcIiBhcmd1bWVudCBtdXN0IGJlIGFuIGludGVnZXIgb3IgdHVwbGUgb2YgXCIrdCtcIiBpbnRlZ2Vycy4gUmVjZWl2ZWQ6IFwiK0pTT04uc3RyaW5naWZ5KGUpK1wiIGluY2x1ZGluZyBhIG5vbi1pbnRlZ2VyIG51bWJlciBcIitpKX1yZXR1cm4gZX1mdW5jdGlvbiBjb252T3V0cHV0TGVuZ3RoKGUsdCxuLHIsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTEpLG51bGw9PWU/ZTooYT1cInNhbWVcIj09PW4/ZTplLSh0Kyh0LTEpKihpLTEpKSsxLE1hdGguZmxvb3IoKGErci0xKS9yKSk7dmFyIGF9ZnVuY3Rpb24gZGVjb252TGVuZ3RoKGUsdCxuLHIpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoXCJ2YWxpZFwiPT09cillPWUqdCttYXgkMShbbi10LDBdKTtlbHNle2lmKFwic2FtZVwiIT09cil0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlVuc3VwcG9ydCBwYWRkaW5nIG1vZGU6IFwiK3IrXCIuXCIpO2UqPXR9cmV0dXJuIGV9ZnVuY3Rpb24gcHJlcHJvY2Vzc0NvbnYyRElucHV0KGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gY2hlY2tEYXRhRm9ybWF0KHQpLFwiY2hhbm5lbHNGaXJzdFwiPT09dD90cmFuc3Bvc2UoZSxbMCwyLDMsMV0pOmV9KX1mdW5jdGlvbiBwcmVwcm9jZXNzQ29udjNESW5wdXQoZSx0KXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBjaGVja0RhdGFGb3JtYXQodCksXCJjaGFubmVsc0ZpcnN0XCI9PT10P3RyYW5zcG9zZShlLFswLDIsMyw0LDFdKTplfSl9ZnVuY3Rpb24gY29udjFkV2l0aEJpYXMoZSx0LG4scixpLGEsbyl7cmV0dXJuIHZvaWQgMD09PXImJihyPTEpLHZvaWQgMD09PWkmJihpPVwidmFsaWRcIiksdm9pZCAwPT09byYmKG89MSksdGlkeShmdW5jdGlvbigpe2lmKG51bGw9PWEmJihhPWltYWdlRGF0YUZvcm1hdCgpKSxjaGVja0RhdGFGb3JtYXQoYSksMyE9PWUuc2hhcGUubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVGhlIGlucHV0IG9mIGEgY29udjFkV2l0aEJpYXMgb3BlcmF0aW9uIHNob3VsZCBiZSAzLCBidXQgaXMgXCIrZS5zaGFwZS5sZW5ndGgrXCIgaW5zdGVhZC5cIik7aWYoMyE9PXQuc2hhcGUubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVGhlIGtlcm5lbCBmb3IgYSBjb252MWRXaXRoQmlhcyBvcGVyYXRpb24gc2hvdWxkIGJlIDMsIGJ1dCBpcyBcIit0LnNoYXBlLmxlbmd0aCtcIiBpbnN0ZWFkXCIpO2lmKG51bGwhPW4mJjEhPT1uLnNoYXBlLmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlRoZSBiaWFzIGZvciBhIGNvbnYxZFdpdGhCaWFzIG9wZXJhdGlvbiBzaG91bGQgYmUgMSwgYnV0IGlzIFwiK3Quc2hhcGUubGVuZ3RoK1wiIGluc3RlYWRcIik7aWYoXCJjaGFubmVsc0ZpcnN0XCI9PT1hJiYoZT10cmFuc3Bvc2UoZSxbMCwyLDFdKSksXCJjYXVzYWxcIj09PWkpdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXCJUaGUgc3VwcG9ydCBmb3IgQ0FVU0FMIHBhZGRpbmcgbW9kZSBpbiBjb252MWRXaXRoQmlhcyBpcyBub3QgaW1wbGVtZW50ZWQgeWV0LlwiKTt2YXIgcz1jb252MWQoZSx0LHIsXCJzYW1lXCI9PT1pP1wic2FtZVwiOlwidmFsaWRcIixcIk5XQ1wiLG8pO3JldHVybiBudWxsIT1uJiYocz1iaWFzQWRkKHMsbikpLHN9KX1mdW5jdGlvbiBjb252MmRXaXRoQmlhc0FjdGl2YXRpb24oZSx0LG4scixpLGEsbyxzKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9WzEsMV0pLHZvaWQgMD09PWkmJihpPVwidmFsaWRcIiksdm9pZCAwPT09cyYmKHM9bnVsbCksdGlkeShmdW5jdGlvbigpe2lmKG51bGw9PWEmJihhPWltYWdlRGF0YUZvcm1hdCgpKSxjaGVja0RhdGFGb3JtYXQoYSksMyE9PWUucmFuayYmNCE9PWUucmFuayl0aHJvdyBuZXcgVmFsdWVFcnJvcihcImNvbnYyZFdpdGhCaWFzQWN0aXZhdGlvbiBleHBlY3RzIGlucHV0IHRvIGJlIG9mIHJhbmsgMyBvciA0LCBidXQgcmVjZWl2ZWQgXCIrZS5yYW5rK1wiLlwiKTtpZigzIT09dC5yYW5rJiY0IT09dC5yYW5rKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiY29udjJkV2l0aEJpYXNBY3RpdmF0aW9uIGV4cGVjdHMga2VybmVsIHRvIGJlIG9mIHJhbmsgMyBvciA0LCBidXQgcmVjZWl2ZWQgXCIrZS5yYW5rK1wiLlwiKTt2YXIgbD1wcmVwcm9jZXNzQ29udjJESW5wdXQoZSxhKTtpZihcImNhdXNhbFwiPT09aSl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcIlRoZSBzdXBwb3J0IGZvciBDQVVTQUwgcGFkZGluZyBtb2RlIGluIGNvbnYxZFdpdGhCaWFzIGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQuXCIpO3JldHVybiBsPWZ1c2VkLmNvbnYyZCh7eDpsLGZpbHRlcjp0LHN0cmlkZXM6cixwYWQ6XCJzYW1lXCI9PT1pP1wic2FtZVwiOlwidmFsaWRcIixkaWxhdGlvbnM6byxkYXRhRm9ybWF0OlwiTkhXQ1wiLGJpYXM6bixhY3RpdmF0aW9uOnN9KSxcImNoYW5uZWxzRmlyc3RcIj09PWEmJihsPXRyYW5zcG9zZShsLFswLDMsMSwyXSkpLGx9KX1mdW5jdGlvbiBjb252M2RXaXRoQmlhcyhlLHQsbixyLGksYSxvKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9WzEsMSwxXSksdm9pZCAwPT09aSYmKGk9XCJ2YWxpZFwiKSx0aWR5KGZ1bmN0aW9uKCl7aWYobnVsbD09YSYmKGE9aW1hZ2VEYXRhRm9ybWF0KCkpLGNoZWNrRGF0YUZvcm1hdChhKSw0IT09ZS5yYW5rJiY1IT09ZS5yYW5rKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiY29udjNkV2l0aEJpYXMgZXhwZWN0cyBpbnB1dCB0byBiZSBvZiByYW5rIDQgb3IgNSwgYnV0IHJlY2VpdmVkIFwiK2UucmFuaytcIi5cIik7aWYoNCE9PXQucmFuayYmNSE9PXQucmFuayl0aHJvdyBuZXcgVmFsdWVFcnJvcihcImNvbnYzZFdpdGhCaWFzIGV4cGVjdHMga2VybmVsIHRvIGJlIG9mIHJhbmsgNCBvciA1LCBidXQgcmVjZWl2ZWQgXCIrZS5yYW5rK1wiLlwiKTt2YXIgcz1wcmVwcm9jZXNzQ29udjNESW5wdXQoZSxhKTtpZihcImNhdXNhbFwiPT09aSl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcIlRoZSBzdXBwb3J0IGZvciBDQVVTQUwgcGFkZGluZyBtb2RlIGluIGNvbnYzZFdpdGhCaWFzIGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQuXCIpO3JldHVybiBzPWNvbnYzZChzLHQscixcInNhbWVcIj09PWk/XCJzYW1lXCI6XCJ2YWxpZFwiLFwiTkRIV0NcIixvKSxudWxsIT1uJiYocz1iaWFzQWRkKHMsbikpLFwiY2hhbm5lbHNGaXJzdFwiPT09YSYmKHM9dHJhbnNwb3NlKHMsWzAsNCwxLDIsM10pKSxzfSl9c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFNvZnRtYXgkMSk7dmFyIEJhc2VDb252PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobixyKXt2YXIgaT1lLmNhbGwodGhpcyxyKXx8dGhpcztpZihpLmJpYXM9bnVsbCxpLkRFRkFVTFRfS0VSTkVMX0lOSVRJQUxJWkVSPVwiZ2xvcm90Tm9ybWFsXCIsaS5ERUZBVUxUX0JJQVNfSU5JVElBTElaRVI9XCJ6ZXJvc1wiLHQudmVyaWZ5QXJncyhyKSxpLnJhbms9bixhc3NlcnRQb3NpdGl2ZUludGVnZXIoaS5yYW5rLFwicmFua1wiKSwxIT09aS5yYW5rJiYyIT09aS5yYW5rJiYzIT09aS5yYW5rKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiQ29udm9sdXRpb24gbGF5ZXIgZm9yIHJhbmsgb3RoZXIgdGhhbiAxLCAyLCBvciAzIChcIitpLnJhbmsrXCIpIGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQuXCIpO2lmKGkua2VybmVsU2l6ZT1ub3JtYWxpemVBcnJheShyLmtlcm5lbFNpemUsbixcImtlcm5lbFNpemVcIiksaS5zdHJpZGVzPW5vcm1hbGl6ZUFycmF5KG51bGw9PXIuc3RyaWRlcz8xOnIuc3RyaWRlcyxuLFwic3RyaWRlc1wiKSxpLnBhZGRpbmc9bnVsbD09ci5wYWRkaW5nP1widmFsaWRcIjpyLnBhZGRpbmcsY2hlY2tQYWRkaW5nTW9kZShpLnBhZGRpbmcpLGkuZGF0YUZvcm1hdD1udWxsPT1yLmRhdGFGb3JtYXQ/XCJjaGFubmVsc0xhc3RcIjpyLmRhdGFGb3JtYXQsY2hlY2tEYXRhRm9ybWF0KGkuZGF0YUZvcm1hdCksaS5hY3RpdmF0aW9uPWdldEFjdGl2YXRpb24oci5hY3RpdmF0aW9uKSxpLnVzZUJpYXM9bnVsbD09ci51c2VCaWFzfHxyLnVzZUJpYXMsaS5iaWFzSW5pdGlhbGl6ZXI9Z2V0SW5pdGlhbGl6ZXIoci5iaWFzSW5pdGlhbGl6ZXJ8fGkuREVGQVVMVF9CSUFTX0lOSVRJQUxJWkVSKSxpLmJpYXNDb25zdHJhaW50PWdldENvbnN0cmFpbnQoci5iaWFzQ29uc3RyYWludCksaS5iaWFzUmVndWxhcml6ZXI9Z2V0UmVndWxhcml6ZXIoci5iaWFzUmVndWxhcml6ZXIpLGkuYWN0aXZpdHlSZWd1bGFyaXplcj1nZXRSZWd1bGFyaXplcihyLmFjdGl2aXR5UmVndWxhcml6ZXIpLGkuZGlsYXRpb25SYXRlPW5vcm1hbGl6ZUFycmF5KG51bGw9PXIuZGlsYXRpb25SYXRlPzE6ci5kaWxhdGlvblJhdGUsbixcImRpbGF0aW9uUmF0ZVwiKSwxPT09aS5yYW5rJiZBcnJheS5pc0FycmF5KGkuZGlsYXRpb25SYXRlKSYmMSE9PWkuZGlsYXRpb25SYXRlLmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcImRpbGF0aW9uUmF0ZSBtdXN0IGJlIGEgbnVtYmVyIG9yIGFuIGFycmF5IG9mIGEgc2luZ2xlIG51bWJlciBmb3IgMUQgY29udm9sdXRpb24sIGJ1dCByZWNlaXZlZCBcIitKU09OLnN0cmluZ2lmeShpLmRpbGF0aW9uUmF0ZSkpO2lmKDI9PT1pLnJhbmspe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBpLmRpbGF0aW9uUmF0ZSlpLmRpbGF0aW9uUmF0ZT1baS5kaWxhdGlvblJhdGUsaS5kaWxhdGlvblJhdGVdO2Vsc2UgaWYoMiE9PWkuZGlsYXRpb25SYXRlLmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcImRpbGF0aW9uUmF0ZSBtdXN0IGJlIGEgbnVtYmVyIG9yIGFycmF5IG9mIHR3byBudW1iZXJzIGZvciAyRCBjb252b2x1dGlvbiwgYnV0IHJlY2VpdmVkIFwiK0pTT04uc3RyaW5naWZ5KGkuZGlsYXRpb25SYXRlKSl9ZWxzZSBpZigzPT09aS5yYW5rKWlmKFwibnVtYmVyXCI9PXR5cGVvZiBpLmRpbGF0aW9uUmF0ZSlpLmRpbGF0aW9uUmF0ZT1baS5kaWxhdGlvblJhdGUsaS5kaWxhdGlvblJhdGUsaS5kaWxhdGlvblJhdGVdO2Vsc2UgaWYoMyE9PWkuZGlsYXRpb25SYXRlLmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcImRpbGF0aW9uUmF0ZSBtdXN0IGJlIGEgbnVtYmVyIG9yIGFycmF5IG9mIHRocmVlIG51bWJlcnMgZm9yIDNEIGNvbnZvbHV0aW9uLCBidXQgcmVjZWl2ZWQgXCIrSlNPTi5zdHJpbmdpZnkoaS5kaWxhdGlvblJhdGUpKTtyZXR1cm4gaX1yZXR1cm4gX19leHRlbmRzKHQsZSksdC52ZXJpZnlBcmdzPWZ1bmN0aW9uKGUpe2lmKGFzc2VydChcImtlcm5lbFNpemVcImluIGUsXCJyZXF1aXJlZCBrZXkgJ2tlcm5lbFNpemUnIG5vdCBpbiBjb25maWdcIiksXCJudW1iZXJcIiE9dHlwZW9mIGUua2VybmVsU2l6ZSYmIWNoZWNrQXJyYXlUeXBlQW5kTGVuZ3RoKGUua2VybmVsU2l6ZSxcIm51bWJlclwiLDEsMykpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJCYXNlQ29udiBleHBlY3RzIGNvbmZpZy5rZXJuZWxTaXplIHRvIGJlIG51bWJlciBvciBudW1iZXJbXSB3aXRoIGxlbmd0aCAxLCAyLCBvciAzLCBidXQgcmVjZWl2ZWQgXCIrSlNPTi5zdHJpbmdpZnkoZS5rZXJuZWxTaXplKStcIi5cIil9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXtrZXJuZWxTaXplOnRoaXMua2VybmVsU2l6ZSxzdHJpZGVzOnRoaXMuc3RyaWRlcyxwYWRkaW5nOnRoaXMucGFkZGluZyxkYXRhRm9ybWF0OnRoaXMuZGF0YUZvcm1hdCxkaWxhdGlvblJhdGU6dGhpcy5kaWxhdGlvblJhdGUsYWN0aXZhdGlvbjpzZXJpYWxpemVBY3RpdmF0aW9uKHRoaXMuYWN0aXZhdGlvbiksdXNlQmlhczp0aGlzLnVzZUJpYXMsYmlhc0luaXRpYWxpemVyOnNlcmlhbGl6ZUluaXRpYWxpemVyKHRoaXMuYmlhc0luaXRpYWxpemVyKSxiaWFzUmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5iaWFzUmVndWxhcml6ZXIpLGFjdGl2aXR5UmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5hY3Rpdml0eVJlZ3VsYXJpemVyKSxiaWFzQ29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMuYmlhc0NvbnN0cmFpbnQpfSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdH0oTGF5ZXIpLENvbnY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuLHIpe3ZhciBpPWUuY2FsbCh0aGlzLG4scil8fHRoaXM7cmV0dXJuIGkua2VybmVsPW51bGwsdC52ZXJpZnlBcmdzKHIpLGkuZmlsdGVycz1yLmZpbHRlcnMsYXNzZXJ0UG9zaXRpdmVJbnRlZ2VyKGkuZmlsdGVycyxcImZpbHRlcnNcIiksaS5rZXJuZWxJbml0aWFsaXplcj1nZXRJbml0aWFsaXplcihyLmtlcm5lbEluaXRpYWxpemVyfHxpLkRFRkFVTFRfS0VSTkVMX0lOSVRJQUxJWkVSKSxpLmtlcm5lbENvbnN0cmFpbnQ9Z2V0Q29uc3RyYWludChyLmtlcm5lbENvbnN0cmFpbnQpLGkua2VybmVsUmVndWxhcml6ZXI9Z2V0UmVndWxhcml6ZXIoci5rZXJuZWxSZWd1bGFyaXplciksaX1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSl7dmFyIHQ7ZT1nZXRFeGFjdGx5T25lU2hhcGUoZSk7dmFyIG49XCJjaGFubmVsc0ZpcnN0XCI9PT10aGlzLmRhdGFGb3JtYXQ/MTplLmxlbmd0aC0xO2lmKG51bGw9PWVbbl0pdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJUaGUgY2hhbm5lbCBkaW1lbnNpb24gb2YgdGhlIGlucHV0IHNob3VsZCBiZSBkZWZpbmVkLiBGb3VuZCBcIitlW25dKTt2YXIgcj1lW25dLGk9dGhpcy5rZXJuZWxTaXplLmNvbmNhdChbcix0aGlzLmZpbHRlcnNdKTt0aGlzLmtlcm5lbD10aGlzLmFkZFdlaWdodChcImtlcm5lbFwiLGksbnVsbCx0aGlzLmtlcm5lbEluaXRpYWxpemVyLHRoaXMua2VybmVsUmVndWxhcml6ZXIsITAsdGhpcy5rZXJuZWxDb25zdHJhaW50KSx0aGlzLnVzZUJpYXMmJih0aGlzLmJpYXM9dGhpcy5hZGRXZWlnaHQoXCJiaWFzXCIsW3RoaXMuZmlsdGVyc10sbnVsbCx0aGlzLmJpYXNJbml0aWFsaXplcix0aGlzLmJpYXNSZWd1bGFyaXplciwhMCx0aGlzLmJpYXNDb25zdHJhaW50KSksdGhpcy5pbnB1dFNwZWM9W3tuZGltOnRoaXMucmFuaysyLGF4ZXM6KHQ9e30sdFtuXT1yLHQpfV0sdGhpcy5idWlsdD0hMH0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgdDtlPWdldEV4YWN0bHlPbmVUZW5zb3IoZSk7dmFyIHI9bnVsbD09bi5iaWFzP251bGw6bi5iaWFzLnJlYWQoKSxpPW1hcEFjdGl2YXRpb25Ub0Z1c2VkS2VybmVsKG4uYWN0aXZhdGlvbi5nZXRDbGFzc05hbWUoKSk7aWYobnVsbCE9aSYmMj09PW4ucmFuayl0PWNvbnYyZFdpdGhCaWFzQWN0aXZhdGlvbihlLG4ua2VybmVsLnJlYWQoKSxyLG4uc3RyaWRlcyxuLnBhZGRpbmcsbi5kYXRhRm9ybWF0LG4uZGlsYXRpb25SYXRlLGkpO2Vsc2V7aWYoMT09PW4ucmFuayl0PWNvbnYxZFdpdGhCaWFzKGUsbi5rZXJuZWwucmVhZCgpLHIsbi5zdHJpZGVzWzBdLG4ucGFkZGluZyxuLmRhdGFGb3JtYXQsbi5kaWxhdGlvblJhdGVbMF0pO2Vsc2UgaWYoMj09PW4ucmFuayl0PWNvbnYyZFdpdGhCaWFzQWN0aXZhdGlvbihlLG4ua2VybmVsLnJlYWQoKSxyLG4uc3RyaWRlcyxuLnBhZGRpbmcsbi5kYXRhRm9ybWF0LG4uZGlsYXRpb25SYXRlKTtlbHNle2lmKDMhPT1uLnJhbmspdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXCJjb252b2x1dGlvbnMgZ3JlYXRlciB0aGFuIDNEIGFyZSBub3QgaW1wbGVtZW50ZWQgeWV0LlwiKTt0PWNvbnYzZFdpdGhCaWFzKGUsbi5rZXJuZWwucmVhZCgpLHIsbi5zdHJpZGVzLG4ucGFkZGluZyxuLmRhdGFGb3JtYXQsbi5kaWxhdGlvblJhdGUpfW51bGwhPW4uYWN0aXZhdGlvbiYmKHQ9bi5hY3RpdmF0aW9uLmFwcGx5KHQpKX1yZXR1cm4gdH0pfSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7ZT1nZXRFeGFjdGx5T25lU2hhcGUoZSk7Zm9yKHZhciB0PVtdLG49XCJjaGFubmVsc0xhc3RcIj09PXRoaXMuZGF0YUZvcm1hdD9lLnNsaWNlKDEsZS5sZW5ndGgtMSk6ZS5zbGljZSgyKSxyPTA7cjxuLmxlbmd0aDsrK3Ipe3ZhciBpPWNvbnZPdXRwdXRMZW5ndGgobltyXSx0aGlzLmtlcm5lbFNpemVbcl0sdGhpcy5wYWRkaW5nLHRoaXMuc3RyaWRlc1tyXSxcIm51bWJlclwiPT10eXBlb2YgdGhpcy5kaWxhdGlvblJhdGU/dGhpcy5kaWxhdGlvblJhdGU6dGhpcy5kaWxhdGlvblJhdGVbcl0pO3QucHVzaChpKX12YXIgYT1bZVswXV07cmV0dXJuXCJjaGFubmVsc0xhc3RcIj09PXRoaXMuZGF0YUZvcm1hdD8oYT1hLmNvbmNhdCh0KSkucHVzaCh0aGlzLmZpbHRlcnMpOihhLnB1c2godGhpcy5maWx0ZXJzKSxhPWEuY29uY2F0KHQpKSxhfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17ZmlsdGVyczp0aGlzLmZpbHRlcnMsa2VybmVsSW5pdGlhbGl6ZXI6c2VyaWFsaXplSW5pdGlhbGl6ZXIodGhpcy5rZXJuZWxJbml0aWFsaXplciksa2VybmVsUmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5rZXJuZWxSZWd1bGFyaXplciksa2VybmVsQ29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMua2VybmVsQ29uc3RyYWludCl9LG49ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxuKSx0fSx0LnZlcmlmeUFyZ3M9ZnVuY3Rpb24oZSl7aWYoIShcImZpbHRlcnNcImluIGUpfHxcIm51bWJlclwiIT10eXBlb2YgZS5maWx0ZXJzfHxlLmZpbHRlcnM8MSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkNvbnZvbHV0aW9uIGxheWVyIGV4cGVjdGVkIGNvbmZpZy5maWx0ZXJzIHRvIGJlIGEgJ251bWJlcicgPiAwIGJ1dCBnb3QgXCIrSlNPTi5zdHJpbmdpZnkoZS5maWx0ZXJzKSl9LHR9KEJhc2VDb252KSxDb252MkQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuKXt2YXIgcj1lLmNhbGwodGhpcywyLG4pfHx0aGlzO3JldHVybiB0LnZlcmlmeUFyZ3Mobikscn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIGRlbGV0ZSB0LnJhbmssdH0sdC52ZXJpZnlBcmdzPWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlLmtlcm5lbFNpemUmJiFjaGVja0FycmF5VHlwZUFuZExlbmd0aChlLmtlcm5lbFNpemUsXCJudW1iZXJcIiwxLDIpKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiQ29udjJEIGV4cGVjdHMgY29uZmlnLmtlcm5lbFNpemUgdG8gYmUgbnVtYmVyIG9yIG51bWJlcltdIHdpdGggbGVuZ3RoIDEgb3IgMiwgYnV0IHJlY2VpdmVkIFwiK0pTT04uc3RyaW5naWZ5KGUua2VybmVsU2l6ZSkrXCIuXCIpfSx0LmNsYXNzTmFtZT1cIkNvbnYyRFwiLHR9KENvbnYpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhDb252MkQpO3ZhciBDb252M0Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuKXt2YXIgcj1lLmNhbGwodGhpcywzLG4pfHx0aGlzO3JldHVybiB0LnZlcmlmeUFyZ3Mobikscn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIGRlbGV0ZSB0LnJhbmssdH0sdC52ZXJpZnlBcmdzPWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlLmtlcm5lbFNpemUmJighQXJyYXkuaXNBcnJheShlLmtlcm5lbFNpemUpfHwxIT09ZS5rZXJuZWxTaXplLmxlbmd0aCYmMyE9PWUua2VybmVsU2l6ZS5sZW5ndGgpKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiQ29udjNEIGV4cGVjdHMgY29uZmlnLmtlcm5lbFNpemUgdG8gYmUgbnVtYmVyIG9yIFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgYnV0IHJlY2VpdmVkIFwiK0pTT04uc3RyaW5naWZ5KGUua2VybmVsU2l6ZSkrXCIuXCIpfSx0LmNsYXNzTmFtZT1cIkNvbnYzRFwiLHR9KENvbnYpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhDb252M0QpO3ZhciBDb252MkRUcmFuc3Bvc2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztpZihuLmlucHV0U3BlYz1bbmV3IElucHV0U3BlYyh7bmRpbTo0fSldLFwic2FtZVwiIT09bi5wYWRkaW5nJiZcInZhbGlkXCIhPT1uLnBhZGRpbmcpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJDb252MkRUcmFuc3Bvc2UgY3VycmVudGx5IHN1cHBvcnRzIG9ubHkgcGFkZGluZyBtb2RlcyAnc2FtZScgYW5kICd2YWxpZCcsIGJ1dCByZWNlaXZlZCBwYWRkaW5nIG1vZGUgXCIrbi5wYWRkaW5nKTtyZXR1cm4gbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoNCE9PShlPWdldEV4YWN0bHlPbmVTaGFwZShlKSkubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiSW5wdXQgc2hvdWxkIGhhdmUgcmFuayA0OyBSZWNlaXZlZCBpbnB1dCBzaGFwZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpO3ZhciBuPVwiY2hhbm5lbHNGaXJzdFwiPT09dGhpcy5kYXRhRm9ybWF0PzE6ZS5sZW5ndGgtMTtpZihudWxsPT1lW25dKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVGhlIGNoYW5uZWwgZGltZW5zaW9uIG9mIHRoZSBpbnB1dHMgc2hvdWxkIGJlIGRlZmluZWQuIEZvdW5kIGBOb25lYC5cIik7dmFyIHI9ZVtuXSxpPXRoaXMua2VybmVsU2l6ZS5jb25jYXQoW3RoaXMuZmlsdGVycyxyXSk7dGhpcy5rZXJuZWw9dGhpcy5hZGRXZWlnaHQoXCJrZXJuZWxcIixpLFwiZmxvYXQzMlwiLHRoaXMua2VybmVsSW5pdGlhbGl6ZXIsdGhpcy5rZXJuZWxSZWd1bGFyaXplciwhMCx0aGlzLmtlcm5lbENvbnN0cmFpbnQpLHRoaXMudXNlQmlhcyYmKHRoaXMuYmlhcz10aGlzLmFkZFdlaWdodChcImJpYXNcIixbdGhpcy5maWx0ZXJzXSxcImZsb2F0MzJcIix0aGlzLmJpYXNJbml0aWFsaXplcix0aGlzLmJpYXNSZWd1bGFyaXplciwhMCx0aGlzLmJpYXNDb25zdHJhaW50KSksdGhpcy5pbnB1dFNwZWM9W25ldyBJbnB1dFNwZWMoe25kaW06NCxheGVzOih0PXt9LHRbbl09cix0KX0pXSx0aGlzLmJ1aWx0PSEwfSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciB0PWdldEV4YWN0bHlPbmVUZW5zb3IoZSk7aWYoNCE9PXQuc2hhcGUubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiQ29udjJEVHJhbnNwb3NlLmNhbGwoKSBleHBlY3RzIGlucHV0IHRlbnNvciB0byBiZSByYW5rLTQsIGJ1dCByZWNlaXZlZCBhIHRlbnNvciBvZiByYW5rLVwiK3Quc2hhcGUubGVuZ3RoKTt2YXIgcixpLGE9dC5zaGFwZSxvPWFbMF07XCJjaGFubmVsc0ZpcnN0XCI9PT1uLmRhdGFGb3JtYXQ/KHI9MixpPTMpOihyPTEsaT0yKTt2YXIgcz1hW3JdLGw9YVtpXSx1PW4ua2VybmVsU2l6ZVswXSxjPW4ua2VybmVsU2l6ZVsxXSxwPW4uc3RyaWRlc1swXSxoPW4uc3RyaWRlc1sxXSxkPVtvLGRlY29udkxlbmd0aChzLHAsdSxuLnBhZGRpbmcpLGRlY29udkxlbmd0aChsLGgsYyxuLnBhZGRpbmcpLG4uZmlsdGVyc107XCJjaGFubmVsc0xhc3RcIiE9PW4uZGF0YUZvcm1hdCYmKHQ9dHJhbnNwb3NlKHQsWzAsMiwzLDFdKSk7dmFyIGY9Y29udjJkVHJhbnNwb3NlKHQsbi5rZXJuZWwucmVhZCgpLGQsbi5zdHJpZGVzLG4ucGFkZGluZyk7cmV0dXJuXCJjaGFubmVsc0xhc3RcIiE9PW4uZGF0YUZvcm1hdCYmKGY9dHJhbnNwb3NlKGYsWzAsMywxLDJdKSksbnVsbCE9bi5iaWFzJiYoZj1iaWFzQWRkKGYsbi5iaWFzLnJlYWQoKSxuLmRhdGFGb3JtYXQpKSxudWxsIT1uLmFjdGl2YXRpb24mJihmPW4uYWN0aXZhdGlvbi5hcHBseShmKSksZn0pfSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9KGU9Z2V0RXhhY3RseU9uZVNoYXBlKGUpKS5zbGljZSgpO1wiY2hhbm5lbHNGaXJzdFwiPT09dGhpcy5kYXRhRm9ybWF0Pyh0PTEsbj0yLHI9Myk6KHQ9MyxuPTEscj0yKTt2YXIgYT10aGlzLmtlcm5lbFNpemVbMF0sbz10aGlzLmtlcm5lbFNpemVbMV0scz10aGlzLnN0cmlkZXNbMF0sbD10aGlzLnN0cmlkZXNbMV07cmV0dXJuIGlbdF09dGhpcy5maWx0ZXJzLGlbbl09ZGVjb252TGVuZ3RoKGlbbl0scyxhLHRoaXMucGFkZGluZyksaVtyXT1kZWNvbnZMZW5ndGgoaVtyXSxsLG8sdGhpcy5wYWRkaW5nKSxpfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gZGVsZXRlIHQuZGlsYXRpb25SYXRlLHR9LHQuY2xhc3NOYW1lPVwiQ29udjJEVHJhbnNwb3NlXCIsdH0oQ29udjJEKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoQ29udjJEVHJhbnNwb3NlKTt2YXIgU2VwYXJhYmxlQ29udj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztpZihyLkRFRkFVTFRfREVQVEhXSVNFX0lOSVRJQUxJWkVSPVwiZ2xvcm90VW5pZm9ybVwiLHIuREVGQVVMVF9QT0lOVFdJU0VfSU5JVElBTElaRVI9XCJnbG9yb3RVbmlmb3JtXCIsci5kZXB0aHdpc2VLZXJuZWw9bnVsbCxyLnBvaW50d2lzZUtlcm5lbD1udWxsLG51bGw9PW4uZmlsdGVycyl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlRoZSBgZmlsdGVyc2AgY29uZmlndXJhdGlvbiBmaWVsZCBpcyByZXF1aXJlZCBieSBTZXBhcmFibGVDb252LCBidXQgaXMgdW5zcGVjaWZpZWQuXCIpO2lmKG51bGwhPW4ua2VybmVsSW5pdGlhbGl6ZXJ8fG51bGwhPW4ua2VybmVsUmVndWxhcml6ZXJ8fG51bGwhPW4ua2VybmVsQ29uc3RyYWludCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkZpZWxkcyBrZXJuZWxJbml0aWFsaXplciwga2VybmVsUmVndWxhcml6ZXIgYW5kIGtlcm5lbENvbnN0cmFpbnQgYXJlIGludmFsaWQgZm9yIFNlcGFyYWJsZUNvbnYyRC4gVXNlIGRlcHRod2lzZUluaXRpYWxpemVyLCBkZXB0aHdpc2VSZWd1bGFyaXplciwgZGVwdGh3aXNlQ29uc3RyYWludCwgcG9pbnR3aXNlSW5pdGlhbGl6ZXIsIHBvaW50d2lzZVJlZ3VsYXJpemVyIGFuZCBwb2ludHdpc2VDb25zdHJhaW50IGluc3RlYWQuXCIpO2lmKG51bGwhPW4ucGFkZGluZyYmXCJzYW1lXCIhPT1uLnBhZGRpbmcmJlwidmFsaWRcIiE9PW4ucGFkZGluZyl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlNlcGFyYWJsZUNvbnZcIityLnJhbmsrXCJEIHN1cHBvcnRzIG9ubHkgcGFkZGluZyBtb2RlczogJ3NhbWUnIGFuZCAndmFsaWQnLCBidXQgcmVjZWl2ZWQgXCIrSlNPTi5zdHJpbmdpZnkobi5wYWRkaW5nKSk7cmV0dXJuIHIuZGVwdGhNdWx0aXBsaWVyPW51bGw9PW4uZGVwdGhNdWx0aXBsaWVyPzE6bi5kZXB0aE11bHRpcGxpZXIsci5kZXB0aHdpc2VJbml0aWFsaXplcj1nZXRJbml0aWFsaXplcihuLmRlcHRod2lzZUluaXRpYWxpemVyfHxyLkRFRkFVTFRfREVQVEhXSVNFX0lOSVRJQUxJWkVSKSxyLmRlcHRod2lzZVJlZ3VsYXJpemVyPWdldFJlZ3VsYXJpemVyKG4uZGVwdGh3aXNlUmVndWxhcml6ZXIpLHIuZGVwdGh3aXNlQ29uc3RyYWludD1nZXRDb25zdHJhaW50KG4uZGVwdGh3aXNlQ29uc3RyYWludCksci5wb2ludHdpc2VJbml0aWFsaXplcj1nZXRJbml0aWFsaXplcihuLmRlcHRod2lzZUluaXRpYWxpemVyfHxyLkRFRkFVTFRfUE9JTlRXSVNFX0lOSVRJQUxJWkVSKSxyLnBvaW50d2lzZVJlZ3VsYXJpemVyPWdldFJlZ3VsYXJpemVyKG4ucG9pbnR3aXNlUmVndWxhcml6ZXIpLHIucG9pbnR3aXNlQ29uc3RyYWludD1nZXRDb25zdHJhaW50KG4ucG9pbnR3aXNlQ29uc3RyYWludCkscn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoKGU9Z2V0RXhhY3RseU9uZVNoYXBlKGUpKS5sZW5ndGg8dGhpcy5yYW5rKzIpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJbnB1dHMgdG8gU2VwYXJhYmxlQ29udlwiK3RoaXMucmFuaytcIkQgc2hvdWxkIGhhdmUgcmFuayBcIisodGhpcy5yYW5rKzIpK1wiLCBidXQgcmVjZWl2ZWQgaW5wdXQgc2hhcGU6IFwiK0pTT04uc3RyaW5naWZ5KGUpKTt2YXIgbj1cImNoYW5uZWxzRmlyc3RcIj09PXRoaXMuZGF0YUZvcm1hdD8xOmUubGVuZ3RoLTE7aWYobnVsbD09ZVtuXXx8ZVtuXTwwKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVGhlIGNoYW5uZWwgZGltZW5zaW9uIG9mIHRoZSBpbnB1dHMgc2hvdWxkIGJlIGRlZmluZWQsIGJ1dCBmb3VuZCBcIitKU09OLnN0cmluZ2lmeShlW25dKSk7Zm9yKHZhciByPWVbbl0saT10aGlzLmtlcm5lbFNpemUuY29uY2F0KFtyLHRoaXMuZGVwdGhNdWx0aXBsaWVyXSksYT1bXSxvPTA7bzx0aGlzLnJhbms7KytvKWEucHVzaCgxKTthLnB1c2gocip0aGlzLmRlcHRoTXVsdGlwbGllcix0aGlzLmZpbHRlcnMpO3RoaXMuZGVwdGh3aXNlS2VybmVsPXRoaXMuYWRkV2VpZ2h0KFwiZGVwdGh3aXNlX2tlcm5lbFwiLGksXCJmbG9hdDMyXCIsdGhpcy5kZXB0aHdpc2VJbml0aWFsaXplcix0aGlzLmRlcHRod2lzZVJlZ3VsYXJpemVyLCEwLHRoaXMuZGVwdGh3aXNlQ29uc3RyYWludCksdGhpcy5wb2ludHdpc2VLZXJuZWw9dGhpcy5hZGRXZWlnaHQoXCJwb2ludHdpc2Vfa2VybmVsXCIsYSxcImZsb2F0MzJcIix0aGlzLnBvaW50d2lzZUluaXRpYWxpemVyLHRoaXMucG9pbnR3aXNlUmVndWxhcml6ZXIsITAsdGhpcy5wb2ludHdpc2VDb25zdHJhaW50KSx0aGlzLnVzZUJpYXM/dGhpcy5iaWFzPXRoaXMuYWRkV2VpZ2h0KFwiYmlhc1wiLFt0aGlzLmZpbHRlcnNdLFwiZmxvYXQzMlwiLHRoaXMuYmlhc0luaXRpYWxpemVyLHRoaXMuYmlhc1JlZ3VsYXJpemVyLCEwLHRoaXMuYmlhc0NvbnN0cmFpbnQpOnRoaXMuYmlhcz1udWxsLHRoaXMuaW5wdXRTcGVjPVtuZXcgSW5wdXRTcGVjKHtuZGltOnRoaXMucmFuaysyLGF4ZXM6KHQ9e30sdFtuXT1yLHQpfSldLHRoaXMuYnVpbHQ9ITB9LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIHQ7aWYoZT1nZXRFeGFjdGx5T25lVGVuc29yKGUpLDE9PT1uLnJhbmspdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXCIxRCBzZXBhcmFibGUgY29udm9sdXRpb24gaXMgbm90IGltcGxlbWVudGVkIHlldC5cIik7cmV0dXJuIDI9PT1uLnJhbmsmJihcImNoYW5uZWxzRmlyc3RcIj09PW4uZGF0YUZvcm1hdCYmKGU9dHJhbnNwb3NlKGUsWzAsMiwzLDFdKSksdD1zZXBhcmFibGVDb252MmQoZSxuLmRlcHRod2lzZUtlcm5lbC5yZWFkKCksbi5wb2ludHdpc2VLZXJuZWwucmVhZCgpLG4uc3RyaWRlcyxuLnBhZGRpbmcsbi5kaWxhdGlvblJhdGUsXCJOSFdDXCIpKSxuLnVzZUJpYXMmJih0PWJpYXNBZGQodCxuLmJpYXMucmVhZCgpLG4uZGF0YUZvcm1hdCkpLG51bGwhPW4uYWN0aXZhdGlvbiYmKHQ9bi5hY3RpdmF0aW9uLmFwcGx5KHQpKSxcImNoYW5uZWxzRmlyc3RcIj09PW4uZGF0YUZvcm1hdCYmKHQ9dHJhbnNwb3NlKHQsWzAsMywxLDJdKSksdH0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gZGVsZXRlIHQucmFuayxkZWxldGUgdC5rZXJuZWxJbml0aWFsaXplcixkZWxldGUgdC5rZXJuZWxSZWd1bGFyaXplcixkZWxldGUgdC5rZXJuZWxDb25zdHJhaW50LHQuZGVwdGh3aXNlSW5pdGlhbGl6ZXI9c2VyaWFsaXplSW5pdGlhbGl6ZXIodGhpcy5kZXB0aHdpc2VJbml0aWFsaXplciksdC5wb2ludHdpc2VJbml0aWFsaXplcj1zZXJpYWxpemVJbml0aWFsaXplcih0aGlzLnBvaW50d2lzZUluaXRpYWxpemVyKSx0LmRlcHRod2lzZVJlZ3VsYXJpemVyPXNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuZGVwdGh3aXNlUmVndWxhcml6ZXIpLHQucG9pbnR3aXNlUmVndWxhcml6ZXI9c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5wb2ludHdpc2VSZWd1bGFyaXplciksdC5kZXB0aHdpc2VDb25zdHJhaW50PXNlcmlhbGl6ZUNvbnN0cmFpbnQodGhpcy5kZXB0aHdpc2VDb25zdHJhaW50KSx0LnBvaW50d2lzZUNvbnN0cmFpbnQ9c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLnBvaW50d2lzZUNvbnN0cmFpbnQpLHR9LHQuY2xhc3NOYW1lPVwiU2VwYXJhYmxlQ29udlwiLHR9KENvbnYpLFNlcGFyYWJsZUNvbnYyRD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcywyLHQpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LmNsYXNzTmFtZT1cIlNlcGFyYWJsZUNvbnYyRFwiLHR9KFNlcGFyYWJsZUNvbnYpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhTZXBhcmFibGVDb252MkQpO3ZhciBDb252MUQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuKXt2YXIgcj1lLmNhbGwodGhpcywxLG4pfHx0aGlzO3JldHVybiB0LnZlcmlmeUFyZ3Mobiksci5pbnB1dFNwZWM9W3tuZGltOjN9XSxyfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gZGVsZXRlIHQucmFuayxkZWxldGUgdC5kYXRhRm9ybWF0LHR9LHQudmVyaWZ5QXJncz1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZS5rZXJuZWxTaXplJiYhY2hlY2tBcnJheVR5cGVBbmRMZW5ndGgoZS5rZXJuZWxTaXplLFwibnVtYmVyXCIsMSwxKSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkNvbnYxRCBleHBlY3RzIGNvbmZpZy5rZXJuZWxTaXplIHRvIGJlIG51bWJlciBvciBudW1iZXJbXSB3aXRoIGxlbmd0aCAxLCBidXQgcmVjZWl2ZWQgXCIrSlNPTi5zdHJpbmdpZnkoZS5rZXJuZWxTaXplKStcIi5cIil9LHQuY2xhc3NOYW1lPVwiQ29udjFEXCIsdH0oQ29udik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKENvbnYxRCk7dmFyIENyb3BwaW5nMkQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdC5jcm9wcGluZz9uLmNyb3BwaW5nPVtbdC5jcm9wcGluZyx0LmNyb3BwaW5nXSxbdC5jcm9wcGluZyx0LmNyb3BwaW5nXV06XCJudW1iZXJcIj09dHlwZW9mIHQuY3JvcHBpbmdbMF0/bi5jcm9wcGluZz1bW3QuY3JvcHBpbmdbMF0sdC5jcm9wcGluZ1swXV0sW3QuY3JvcHBpbmdbMV0sdC5jcm9wcGluZ1sxXV1dOm4uY3JvcHBpbmc9dC5jcm9wcGluZyxuLmRhdGFGb3JtYXQ9dm9pZCAwPT09dC5kYXRhRm9ybWF0P1wiY2hhbm5lbHNMYXN0XCI6dC5kYXRhRm9ybWF0LG4uaW5wdXRTcGVjPVt7bmRpbTo0fV0sbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3JldHVyblwiY2hhbm5lbHNGaXJzdFwiPT09dGhpcy5kYXRhRm9ybWF0P1tlWzBdLGVbMV0sZVsyXS10aGlzLmNyb3BwaW5nWzBdWzBdLXRoaXMuY3JvcHBpbmdbMF1bMV0sZVszXS10aGlzLmNyb3BwaW5nWzFdWzBdLXRoaXMuY3JvcHBpbmdbMV1bMV1dOltlWzBdLGVbMV0tdGhpcy5jcm9wcGluZ1swXVswXS10aGlzLmNyb3BwaW5nWzBdWzFdLGVbMl0tdGhpcy5jcm9wcGluZ1sxXVswXS10aGlzLmNyb3BwaW5nWzFdWzFdLGVbM11dfSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBlPWdldEV4YWN0bHlPbmVUZW5zb3IoZSksXCJjaGFubmVsc0xhc3RcIj09PW4uZGF0YUZvcm1hdD9zbGljZUFsb25nQXhpcyhzbGljZUFsb25nQXhpcyhlLG4uY3JvcHBpbmdbMF1bMF0sZS5zaGFwZVsxXS1uLmNyb3BwaW5nWzBdWzBdLW4uY3JvcHBpbmdbMF1bMV0sMiksbi5jcm9wcGluZ1sxXVswXSxlLnNoYXBlWzJdLW4uY3JvcHBpbmdbMV1bMV0tbi5jcm9wcGluZ1sxXVswXSwzKTpzbGljZUFsb25nQXhpcyhzbGljZUFsb25nQXhpcyhlLG4uY3JvcHBpbmdbMF1bMF0sZS5zaGFwZVsyXS1uLmNyb3BwaW5nWzBdWzBdLW4uY3JvcHBpbmdbMF1bMV0sMyksbi5jcm9wcGluZ1sxXVswXSxlLnNoYXBlWzNdLW4uY3JvcHBpbmdbMV1bMV0tbi5jcm9wcGluZ1sxXVswXSw0KX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17Y3JvcHBpbmc6dGhpcy5jcm9wcGluZyxkYXRhRm9ybWF0OnRoaXMuZGF0YUZvcm1hdH0sbj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LG4pLHR9LHQuY2xhc3NOYW1lPVwiQ3JvcHBpbmcyRFwiLHR9KExheWVyKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoQ3JvcHBpbmcyRCk7dmFyIFVwU2FtcGxpbmcyRD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLkRFRkFVTFRfU0laRT1bMiwyXSxuLmlucHV0U3BlYz1be25kaW06NH1dLG4uc2l6ZT1udWxsPT10LnNpemU/bi5ERUZBVUxUX1NJWkU6dC5zaXplLG4uZGF0YUZvcm1hdD1udWxsPT10LmRhdGFGb3JtYXQ/XCJjaGFubmVsc0xhc3RcIjp0LmRhdGFGb3JtYXQsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe2lmKFwiY2hhbm5lbHNGaXJzdFwiPT09dGhpcy5kYXRhRm9ybWF0KXt2YXIgdD1udWxsPT1lWzJdP251bGw6dGhpcy5zaXplWzBdKmVbMl0sbj1udWxsPT1lWzNdP251bGw6dGhpcy5zaXplWzFdKmVbM107cmV0dXJuW2VbMF0sZVsxXSx0LG5dfXQ9bnVsbD09ZVsxXT9udWxsOnRoaXMuc2l6ZVswXSplWzFdLG49bnVsbD09ZVsyXT9udWxsOnRoaXMuc2l6ZVsxXSplWzJdO3JldHVybltlWzBdLHQsbixlWzNdXX0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgdD1nZXRFeGFjdGx5T25lVGVuc29yKGUpLHI9dC5zaGFwZTtpZihcImNoYW5uZWxzRmlyc3RcIj09PW4uZGF0YUZvcm1hdCl7dD10cmFuc3Bvc2UodCxbMCwyLDMsMV0pO3ZhciBpPW4uc2l6ZVswXSpyWzJdLGE9bi5zaXplWzFdKnJbM10sbz10LnJlc2l6ZU5lYXJlc3ROZWlnaGJvcihbaSxhXSk7cmV0dXJuIHRyYW5zcG9zZShvLFswLDMsMSwyXSl9aT1uLnNpemVbMF0qclsxXSxhPW4uc2l6ZVsxXSpyWzJdO3JldHVybiB0LnJlc2l6ZU5lYXJlc3ROZWlnaGJvcihbaSxhXSl9KX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9e3NpemU6dGhpcy5zaXplLGRhdGFGb3JtYXQ6dGhpcy5kYXRhRm9ybWF0fSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5jbGFzc05hbWU9XCJVcFNhbXBsaW5nMkRcIix0fShMYXllcik7ZnVuY3Rpb24gZGVwdGh3aXNlQ29udjJkJDEoZSx0LG4scixpLGEpe3JldHVybiB2b2lkIDA9PT1uJiYobj1bMSwxXSksdm9pZCAwPT09ciYmKHI9XCJ2YWxpZFwiKSx0aWR5KGZ1bmN0aW9uKCl7bnVsbD09aSYmKGk9aW1hZ2VEYXRhRm9ybWF0KCkpLGNoZWNrRGF0YUZvcm1hdChpKTt2YXIgbz1wcmVwcm9jZXNzQ29udjJESW5wdXQoZSxpKTtpZig0IT09ZS5yYW5rKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiSW5wdXQgZm9yIGRlcHRod2lzZUNvbnYyZCBpcyByZXF1aXJlZCB0byBiZSA0LUQsIGJ1dCBpcyBpbnN0ZWFkIFwiK2UucmFuaytcIi1EXCIpO2lmKDQhPT10LnJhbmspdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJkZXB0aHdpc2VLZXJuZWwgaXMgcmVxdWlyZWQgdG8gYmUgNC1ELCBidXQgaXMgaW5zdGVhZCBcIit0LnJhbmsrXCItRFwiKTtyZXR1cm4gbz1kZXB0aHdpc2VDb252MmQobyx0LG4sXCJzYW1lXCI9PT1yP1wic2FtZVwiOlwidmFsaWRcIixcIk5IV0NcIixhKSxcImNoYW5uZWxzRmlyc3RcIj09PWkmJihvPXRyYW5zcG9zZShvLFswLDMsMSwyXSkpLG99KX1zZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoVXBTYW1wbGluZzJEKTt2YXIgRGVwdGh3aXNlQ29udjJEPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsMix0KXx8dGhpcztyZXR1cm4gbi5kZXB0aHdpc2VLZXJuZWw9bnVsbCxuLmRlcHRoTXVsdGlwbGllcj1udWxsPT10LmRlcHRoTXVsdGlwbGllcj8xOnQuZGVwdGhNdWx0aXBsaWVyLG4uZGVwdGh3aXNlSW5pdGlhbGl6ZXI9Z2V0SW5pdGlhbGl6ZXIodC5kZXB0aHdpc2VJbml0aWFsaXplcnx8bi5ERUZBVUxUX0tFUk5FTF9JTklUSUFMSVpFUiksbi5kZXB0aHdpc2VDb25zdHJhaW50PWdldENvbnN0cmFpbnQodC5kZXB0aHdpc2VDb25zdHJhaW50KSxuLmRlcHRod2lzZVJlZ3VsYXJpemVyPWdldFJlZ3VsYXJpemVyKHQuZGVwdGh3aXNlUmVndWxhcml6ZXIpLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKGUpe2lmKChlPWdldEV4YWN0bHlPbmVTaGFwZShlKSkubGVuZ3RoPDQpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJbnB1dHMgdG8gRGVwdGh3aXNlQ29udjJEIHNob3VsZCBoYXZlIHJhbmsgNC4gUmVjZWl2ZWQgaW5wdXQgc2hhcGU6IFwiK0pTT04uc3RyaW5naWZ5KGUpK1wiLlwiKTt2YXIgdD1cImNoYW5uZWxzRmlyc3RcIj09PXRoaXMuZGF0YUZvcm1hdD8xOjM7aWYobnVsbD09ZVt0XXx8ZVt0XTwwKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVGhlIGNoYW5uZWwgZGltZW5zaW9uIG9mIHRoZSBpbnB1dHMgdG8gRGVwdGh3aXNlQ29udjJEIHNob3VsZCBiZSBkZWZpbmVkLCBidXQgaXMgbm90IChcIitlW3RdK1wiKS5cIik7dmFyIG49ZVt0XSxyPVt0aGlzLmtlcm5lbFNpemVbMF0sdGhpcy5rZXJuZWxTaXplWzFdLG4sdGhpcy5kZXB0aE11bHRpcGxpZXJdO3RoaXMuZGVwdGh3aXNlS2VybmVsPXRoaXMuYWRkV2VpZ2h0KFwiZGVwdGh3aXNlX2tlcm5lbFwiLHIsbnVsbCx0aGlzLmRlcHRod2lzZUluaXRpYWxpemVyLHRoaXMuZGVwdGh3aXNlUmVndWxhcml6ZXIsITAsdGhpcy5kZXB0aHdpc2VDb25zdHJhaW50KSx0aGlzLnVzZUJpYXM/dGhpcy5iaWFzPXRoaXMuYWRkV2VpZ2h0KFwiYmlhc1wiLFtuKnRoaXMuZGVwdGhNdWx0aXBsaWVyXSxudWxsLHRoaXMuYmlhc0luaXRpYWxpemVyLHRoaXMuYmlhc1JlZ3VsYXJpemVyLCEwLHRoaXMuYmlhc0NvbnN0cmFpbnQpOnRoaXMuYmlhcz1udWxsLHRoaXMuYnVpbHQ9ITB9LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIHQ9ZGVwdGh3aXNlQ29udjJkJDEoZT1nZXRFeGFjdGx5T25lVGVuc29yKGUpLG4uZGVwdGh3aXNlS2VybmVsLnJlYWQoKSxuLnN0cmlkZXMsbi5wYWRkaW5nLG4uZGF0YUZvcm1hdCxudWxsKTtyZXR1cm4gbi51c2VCaWFzJiYodD1iaWFzQWRkKHQsbi5iaWFzLnJlYWQoKSxuLmRhdGFGb3JtYXQpKSxudWxsIT1uLmFjdGl2YXRpb24mJih0PW4uYWN0aXZhdGlvbi5hcHBseSh0KSksdH0pfSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7ZT1nZXRFeGFjdGx5T25lU2hhcGUoZSk7dmFyIHQ9XCJjaGFubmVsc0ZpcnN0XCI9PT10aGlzLmRhdGFGb3JtYXQ/ZVsyXTplWzFdLG49XCJjaGFubmVsc0ZpcnN0XCI9PT10aGlzLmRhdGFGb3JtYXQ/ZVszXTplWzJdLHI9XCJjaGFubmVsc0ZpcnN0XCI9PT10aGlzLmRhdGFGb3JtYXQ/ZVsxXSp0aGlzLmRlcHRoTXVsdGlwbGllcjplWzNdKnRoaXMuZGVwdGhNdWx0aXBsaWVyLGk9Y29udk91dHB1dExlbmd0aCh0LHRoaXMua2VybmVsU2l6ZVswXSx0aGlzLnBhZGRpbmcsdGhpcy5zdHJpZGVzWzBdKSxhPWNvbnZPdXRwdXRMZW5ndGgobix0aGlzLmtlcm5lbFNpemVbMV0sdGhpcy5wYWRkaW5nLHRoaXMuc3RyaWRlc1sxXSk7cmV0dXJuXCJjaGFubmVsc0ZpcnN0XCI9PT10aGlzLmRhdGFGb3JtYXQ/W2VbMF0scixpLGFdOltlWzBdLGksYSxyXX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIHQuZGVwdGhNdWx0aXBsaWVyPXRoaXMuZGVwdGhNdWx0aXBsaWVyLHQuZGVwdGh3aXNlSW5pdGlhbGl6ZXI9c2VyaWFsaXplSW5pdGlhbGl6ZXIodGhpcy5kZXB0aHdpc2VJbml0aWFsaXplciksdC5kZXB0aHdpc2VSZWd1bGFyaXplcj1zZXJpYWxpemVSZWd1bGFyaXplcih0aGlzLmRlcHRod2lzZVJlZ3VsYXJpemVyKSx0LmRlcHRod2lzZUNvbnN0cmFpbnQ9c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLmRlcHRod2lzZVJlZ3VsYXJpemVyKSx0fSx0LmNsYXNzTmFtZT1cIkRlcHRod2lzZUNvbnYyRFwiLHR9KEJhc2VDb252KTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoRGVwdGh3aXNlQ29udjJEKTt2YXIgRHJvcG91dD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLnJhdGU9TWF0aC5tYXgoTWF0aC5taW4odC5yYXRlLDEpLDApLG4ubm9pc2VTaGFwZT10Lm5vaXNlU2hhcGUsbi5zZWVkPXQuc2VlZCxuLnN1cHBvcnRzTWFza2luZz0hMCxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5nZXROb2lzZVNoYXBlPWZ1bmN0aW9uKGUpe2lmKG51bGw9PXRoaXMubm9pc2VTaGFwZSlyZXR1cm4gdGhpcy5ub2lzZVNoYXBlO2Zvcih2YXIgdD1lLnNoYXBlLG49W10scj0wO3I8dGhpcy5ub2lzZVNoYXBlLmxlbmd0aDsrK3Ipbi5wdXNoKG51bGw9PXRoaXMubm9pc2VTaGFwZVtyXT90W3JdOnRoaXMubm9pc2VTaGFwZVtyXSk7cmV0dXJuIG59LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7bi5pbnZva2VDYWxsSG9vayhlLHQpO3ZhciByPWdldEV4YWN0bHlPbmVUZW5zb3IoZSk7aWYoMDxuLnJhdGUmJm4ucmF0ZTwxKXt2YXIgaT1udWxsIT10LnRyYWluaW5nJiZ0LnRyYWluaW5nLGE9bi5nZXROb2lzZVNoYXBlKHIpO3JldHVybiBpblRyYWluUGhhc2UoZnVuY3Rpb24oKXtyZXR1cm4gZHJvcG91dCQxKHIsbi5yYXRlLGEsbi5zZWVkKX0sZnVuY3Rpb24oKXtyZXR1cm4gcn0saSl9cmV0dXJuIGV9KX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9e3JhdGU6dGhpcy5yYXRlLG5vaXNlU2hhcGU6dGhpcy5ub2lzZVNoYXBlLHNlZWQ6dGhpcy5zZWVkfSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiBlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQuY2xhc3NOYW1lPVwiRHJvcG91dFwiLHR9KExheWVyKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoRHJvcG91dCk7dmFyIFNwYXRpYWxEcm9wb3V0MUQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gbi5pbnB1dFNwZWM9W3tuZGltOjN9XSxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5nZXROb2lzZVNoYXBlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc2hhcGU7cmV0dXJuW3RbMF0sMSx0WzJdXX0sdC5jbGFzc05hbWU9XCJTcGF0aWFsRHJvcG91dDFEXCIsdH0oRHJvcG91dCk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFNwYXRpYWxEcm9wb3V0MUQpO3ZhciBEZW5zZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO2lmKG4uYWN0aXZhdGlvbj1udWxsLG4udXNlQmlhcz0hMCxuLmtlcm5lbD1udWxsLG4uYmlhcz1udWxsLG4uREVGQVVMVF9LRVJORUxfSU5JVElBTElaRVI9XCJnbG9yb3ROb3JtYWxcIixuLkRFRkFVTFRfQklBU19JTklUSUFMSVpFUj1cInplcm9zXCIsbnVsbD09dC5iYXRjaElucHV0U2hhcGUmJm51bGw9PXQuaW5wdXRTaGFwZSYmbnVsbCE9dC5pbnB1dERpbSl7dmFyIHI9bnVsbDtudWxsIT10LmJhdGNoU2l6ZSYmKHI9dC5iYXRjaFNpemUpLG4uYmF0Y2hJbnB1dFNoYXBlPVtyLHQuaW5wdXREaW1dfXJldHVybiBuLnVuaXRzPXQudW5pdHMsYXNzZXJ0UG9zaXRpdmVJbnRlZ2VyKG4udW5pdHMsXCJ1bml0c1wiKSxuLmFjdGl2YXRpb249Z2V0QWN0aXZhdGlvbih0LmFjdGl2YXRpb24pLG51bGwhPXQudXNlQmlhcyYmKG4udXNlQmlhcz10LnVzZUJpYXMpLG4ua2VybmVsSW5pdGlhbGl6ZXI9Z2V0SW5pdGlhbGl6ZXIodC5rZXJuZWxJbml0aWFsaXplcnx8bi5ERUZBVUxUX0tFUk5FTF9JTklUSUFMSVpFUiksbi5iaWFzSW5pdGlhbGl6ZXI9Z2V0SW5pdGlhbGl6ZXIodC5iaWFzSW5pdGlhbGl6ZXJ8fG4uREVGQVVMVF9CSUFTX0lOSVRJQUxJWkVSKSxuLmtlcm5lbENvbnN0cmFpbnQ9Z2V0Q29uc3RyYWludCh0Lmtlcm5lbENvbnN0cmFpbnQpLG4uYmlhc0NvbnN0cmFpbnQ9Z2V0Q29uc3RyYWludCh0LmJpYXNDb25zdHJhaW50KSxuLmtlcm5lbFJlZ3VsYXJpemVyPWdldFJlZ3VsYXJpemVyKHQua2VybmVsUmVndWxhcml6ZXIpLG4uYmlhc1JlZ3VsYXJpemVyPWdldFJlZ3VsYXJpemVyKHQuYmlhc1JlZ3VsYXJpemVyKSxuLmFjdGl2aXR5UmVndWxhcml6ZXI9Z2V0UmVndWxhcml6ZXIodC5hY3Rpdml0eVJlZ3VsYXJpemVyKSxuLnN1cHBvcnRzTWFza2luZz0hMCxuLmlucHV0U3BlYz1be21pbk5EaW06Mn1dLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKGUpe3ZhciB0LG49KGU9Z2V0RXhhY3RseU9uZVNoYXBlKGUpKVtlLmxlbmd0aC0xXTtudWxsPT10aGlzLmtlcm5lbCYmKHRoaXMua2VybmVsPXRoaXMuYWRkV2VpZ2h0KFwia2VybmVsXCIsW24sdGhpcy51bml0c10sbnVsbCx0aGlzLmtlcm5lbEluaXRpYWxpemVyLHRoaXMua2VybmVsUmVndWxhcml6ZXIsITAsdGhpcy5rZXJuZWxDb25zdHJhaW50KSx0aGlzLnVzZUJpYXMmJih0aGlzLmJpYXM9dGhpcy5hZGRXZWlnaHQoXCJiaWFzXCIsW3RoaXMudW5pdHNdLG51bGwsdGhpcy5iaWFzSW5pdGlhbGl6ZXIsdGhpcy5iaWFzUmVndWxhcml6ZXIsITAsdGhpcy5iaWFzQ29uc3RyYWludCkpKSx0aGlzLmlucHV0U3BlYz1be21pbk5EaW06MixheGVzOih0PXt9LHRbLTFdPW4sdCl9XSx0aGlzLmJ1aWx0PSEwfSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7dmFyIHQ9KGU9Z2V0RXhhY3RseU9uZVNoYXBlKGUpKS5zbGljZSgpO3JldHVybiB0W3QubGVuZ3RoLTFdPXRoaXMudW5pdHMsdH0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtuLmludm9rZUNhbGxIb29rKGUsdCk7dmFyIHIsaT1nZXRFeGFjdGx5T25lVGVuc29yKGUpLGE9bWFwQWN0aXZhdGlvblRvRnVzZWRLZXJuZWwobi5hY3RpdmF0aW9uLmdldENsYXNzTmFtZSgpKTtyZXR1cm4gbnVsbCE9YT9yPWRvdChpLG4ua2VybmVsLnJlYWQoKSxhLG4uYmlhcz9uLmJpYXMucmVhZCgpOm51bGwpOihyPWRvdChpLG4ua2VybmVsLnJlYWQoKSksbnVsbCE9bi5iaWFzJiYocj1iaWFzQWRkKHIsbi5iaWFzLnJlYWQoKSkpLG51bGwhPW4uYWN0aXZhdGlvbiYmKHI9bi5hY3RpdmF0aW9uLmFwcGx5KHIpKSkscn0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17dW5pdHM6dGhpcy51bml0cyxhY3RpdmF0aW9uOnNlcmlhbGl6ZUFjdGl2YXRpb24odGhpcy5hY3RpdmF0aW9uKSx1c2VCaWFzOnRoaXMudXNlQmlhcyxrZXJuZWxJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLmtlcm5lbEluaXRpYWxpemVyKSxiaWFzSW5pdGlhbGl6ZXI6c2VyaWFsaXplSW5pdGlhbGl6ZXIodGhpcy5iaWFzSW5pdGlhbGl6ZXIpLGtlcm5lbFJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMua2VybmVsUmVndWxhcml6ZXIpLGJpYXNSZWd1bGFyaXplcjpzZXJpYWxpemVSZWd1bGFyaXplcih0aGlzLmJpYXNSZWd1bGFyaXplciksYWN0aXZpdHlSZWd1bGFyaXplcjpzZXJpYWxpemVSZWd1bGFyaXplcih0aGlzLmFjdGl2aXR5UmVndWxhcml6ZXIpLGtlcm5lbENvbnN0cmFpbnQ6c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLmtlcm5lbENvbnN0cmFpbnQpLGJpYXNDb25zdHJhaW50OnNlcmlhbGl6ZUNvbnN0cmFpbnQodGhpcy5iaWFzQ29uc3RyYWludCl9LG49ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxuKSx0fSx0LmNsYXNzTmFtZT1cIkRlbnNlXCIsdH0oTGF5ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhEZW5zZSk7dmFyIEZsYXR0ZW49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj10aGlzO3JldHVybiB0PXR8fHt9LChuPWUuY2FsbCh0aGlzLHQpfHx0aGlzKS5pbnB1dFNwZWM9W3ttaW5ORGltOjN9XSxuLmRhdGFGb3JtYXQ9dC5kYXRhRm9ybWF0LG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNvbXB1dGVPdXRwdXRTaGFwZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPShlPWdldEV4YWN0bHlPbmVTaGFwZShlKSkuc2xpY2UoMSk7dDxuLmxlbmd0aDt0Kyspe2lmKG51bGw9PW5bdF0pdGhyb3cgbmV3IFZhbHVlRXJyb3IoJ1RoZSBzaGFwZSBvZiB0aGUgaW5wdXQgdG8gXCJGbGF0dGVuXCIgaXMgbm90IGZ1bGx5IGRlZmluZWQgKGdvdCAnK2Uuc2xpY2UoMSkrJykuIE1ha2Ugc3VyZSB0byBwYXNzIGEgY29tcGxldGUgXCJpbnB1dF9zaGFwZVwiIG9yIFwiYmF0Y2hfaW5wdXRfc2hhcGVcIiBhcmd1bWVudCB0byB0aGUgZmlyc3QgbGF5ZXIgaW4geW91ciBtb2RlbC4nKX1yZXR1cm5bZVswXSxhcnJheVByb2QoZSwxKV19LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7bi5pbnZva2VDYWxsSG9vayhlLHQpO3ZhciByPWdldEV4YWN0bHlPbmVUZW5zb3IoZSk7aWYoXCJjaGFubmVsc0ZpcnN0XCI9PT1uLmRhdGFGb3JtYXQmJnIucmFuaz4xKXtmb3IodmFyIGk9WzBdLGE9MjthPHIucmFuazsrK2EpaS5wdXNoKGEpO2kucHVzaCgxKSxyPXIudHJhbnNwb3NlKGkpfXJldHVybiBiYXRjaEZsYXR0ZW4ocil9KX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9e307bnVsbCE9dGhpcy5kYXRhRm9ybWF0JiYodC5kYXRhRm9ybWF0PXRoaXMuZGF0YUZvcm1hdCk7dmFyIG49ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxuKSx0fSx0LmNsYXNzTmFtZT1cIkZsYXR0ZW5cIix0fShMYXllcik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEZsYXR0ZW4pO3ZhciBBY3RpdmF0aW9uJDE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gbi5zdXBwb3J0c01hc2tpbmc9ITAsbi5hY3RpdmF0aW9uPWdldEFjdGl2YXRpb24odC5hY3RpdmF0aW9uKSxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe24uaW52b2tlQ2FsbEhvb2soZSx0KTt2YXIgcj1nZXRFeGFjdGx5T25lVGVuc29yKGUpO3JldHVybiBuLmFjdGl2YXRpb24uYXBwbHkocil9KX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9e2FjdGl2YXRpb246c2VyaWFsaXplQWN0aXZhdGlvbih0aGlzLmFjdGl2YXRpb24pfSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5jbGFzc05hbWU9XCJBY3RpdmF0aW9uXCIsdH0oTGF5ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhBY3RpdmF0aW9uJDEpO3ZhciBSZXBlYXRWZWN0b3I9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gbi5uPXQubixuLmlucHV0U3BlYz1be25kaW06Mn1dLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNvbXB1dGVPdXRwdXRTaGFwZT1mdW5jdGlvbihlKXtyZXR1cm5bZVswXSx0aGlzLm4sZVsxXV19LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7cmV0dXJuIHJlcGVhdChlPWdldEV4YWN0bHlPbmVUZW5zb3IoZSksbi5uKX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17bjp0aGlzLm59LG49ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxuKSx0fSx0LmNsYXNzTmFtZT1cIlJlcGVhdFZlY3RvclwiLHR9KExheWVyKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoUmVwZWF0VmVjdG9yKTt2YXIgUmVzaGFwZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO24udGFyZ2V0U2hhcGU9dC50YXJnZXRTaGFwZTtmb3IodmFyIHI9MDtyPG4udGFyZ2V0U2hhcGUubGVuZ3RoOysrciluLmlzVW5rbm93bihuLnRhcmdldFNoYXBlW3JdKSYmKG4udGFyZ2V0U2hhcGVbcl09bnVsbCk7cmV0dXJuIG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmlzVW5rbm93bj1mdW5jdGlvbihlKXtyZXR1cm4gZTwwfHxudWxsPT1lfSx0LnByb3RvdHlwZS5maXhVbmtub3duRGltZW5zaW9uPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVwiVG90YWwgc2l6ZSBvZiBuZXcgYXJyYXkgbXVzdCBiZSB1bmNoYW5nZWQuXCIscj10LnNsaWNlKCksaT0xLGE9bnVsbCxvPTA7bzxyLmxlbmd0aDsrK28pe3ZhciBzPXJbb107aWYodGhpcy5pc1Vua25vd24ocykpe2lmKG51bGwhPT1hKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiQ2FuIG9ubHkgc3BlY2lmaXkgb25lIHVua25vd24gZGltZW5zaW9uLlwiKTthPW99ZWxzZSBpKj1zfXZhciBsPWFycmF5UHJvZChlKTtpZihudWxsIT09YSl7aWYoMD09PWl8fGwlaSE9MCl0aHJvdyBuZXcgVmFsdWVFcnJvcihuKTtyW2FdPWwvaX1lbHNlIGlmKGwhPT1pKXRocm93IG5ldyBWYWx1ZUVycm9yKG4pO3JldHVybiByfSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSExLG49MDtuPGUubGVuZ3RoOysrbilpZih0aGlzLmlzVW5rbm93bihlW25dKSl7dD0hMDticmVha31yZXR1cm4gdD9lLnNsaWNlKDAsMSkuY29uY2F0KHRoaXMudGFyZ2V0U2hhcGUpOmUuc2xpY2UoMCwxKS5jb25jYXQodGhpcy5maXhVbmtub3duRGltZW5zaW9uKGUuc2xpY2UoMSksdGhpcy50YXJnZXRTaGFwZSkpfSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe24uaW52b2tlQ2FsbEhvb2soZSx0KTt2YXIgcj1nZXRFeGFjdGx5T25lVGVuc29yKGUpLGk9ci5zaGFwZSxhPWkuc2xpY2UoMCwxKS5jb25jYXQobi5maXhVbmtub3duRGltZW5zaW9uKGkuc2xpY2UoMSksbi50YXJnZXRTaGFwZSkpO3JldHVybiByLnJlc2hhcGUoYSl9KX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9e3RhcmdldFNoYXBlOnRoaXMudGFyZ2V0U2hhcGV9LG49ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxuKSx0fSx0LmNsYXNzTmFtZT1cIlJlc2hhcGVcIix0fShMYXllcik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFJlc2hhcGUpO3ZhciBQZXJtdXRlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7aWYobnVsbD09dC5kaW1zKXRocm93IG5ldyBFcnJvcihcIlJlcXVpcmVkIGNvbmZpZ3VyYXRpb24gZmllbGQgYGRpbXNgIGlzIG1pc3NpbmcgZHVyaW5nIFBlcm11dGUgY29uc3RydWN0b3IgY2FsbC5cIik7aWYoIUFycmF5LmlzQXJyYXkodC5kaW1zKSl0aHJvdyBuZXcgRXJyb3IoXCJQZXJtdXRlIGNvbnN0cnVjdG9yIHJlcXVpcmVzIGBkaW1zYCB0byBiZSBhbiBBcnJheSwgYnV0IHJlY2VpdmVkIFwiK3QuZGltcytcIiBpbnN0ZWFkLlwiKTt2YXIgcj1yYW5nZSgxLHQuZGltcy5sZW5ndGgrMSk7aWYoIXV0aWwuYXJyYXlzRXF1YWwodC5kaW1zLnNsaWNlKCkuc29ydCgpLHIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGVybXV0YXRpb24gYGRpbXNgOiBcIitKU09OLnN0cmluZ2lmeSh0LmRpbXMpK1wiIGBkaW1zYCBtdXN0IGNvbnRhaW4gY29uc2VjdXRpdmUgaW50ZWdlcnMgc3RhcnRpbmcgZnJvbSAxLlwiKTtyZXR1cm4gbi5kaW1zPXQuZGltcyxuLmRpbXNJbmNsdWRpbmdCYXRjaD1bMF0uY29uY2F0KG4uZGltcyksbi5pbnB1dFNwZWM9W25ldyBJbnB1dFNwZWMoe25kaW06bi5kaW1zLmxlbmd0aCsxfSldLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNvbXB1dGVPdXRwdXRTaGFwZT1mdW5jdGlvbihlKXt2YXIgdD0oZT1nZXRFeGFjdGx5T25lU2hhcGUoZSkpLnNsaWNlKCk7cmV0dXJuIHRoaXMuZGltcy5mb3JFYWNoKGZ1bmN0aW9uKG4scil7dFtyKzFdPWVbbl19KSx0fSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRyYW5zcG9zZShnZXRFeGFjdGx5T25lVGVuc29yKGUpLHRoaXMuZGltc0luY2x1ZGluZ0JhdGNoKX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9e2RpbXM6dGhpcy5kaW1zfSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5jbGFzc05hbWU9XCJQZXJtdXRlXCIsdH0oTGF5ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhQZXJtdXRlKTt2YXIgTWFza2luZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLG51bGw9PXQ/e306dCl8fHRoaXM7cmV0dXJuIG4uc3VwcG9ydHNNYXNraW5nPSEwLG4ubWFza1ZhbHVlPW51bGwhPXQ/bnVsbD09dC5tYXNrVmFsdWU/MDp0Lm1hc2tWYWx1ZTowLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNvbXB1dGVPdXRwdXRTaGFwZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyksbj17bWFza1ZhbHVlOnRoaXMubWFza1ZhbHVlfTtyZXR1cm4gT2JqZWN0LmFzc2lnbihuLHQpLG59LHQucHJvdG90eXBlLmNvbXB1dGVNYXNrPWZ1bmN0aW9uKGUsdCl7dmFyIG49Z2V0RXhhY3RseU9uZVRlbnNvcihlKTtyZXR1cm4gYW55KG5vdEVxdWFsKG4sdGhpcy5tYXNrVmFsdWUpLC0xKX0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtuLmludm9rZUNhbGxIb29rKGUsdCk7dmFyIHI9Z2V0RXhhY3RseU9uZVRlbnNvcihlKSxpPWFueShub3RFcXVhbChyLG4ubWFza1ZhbHVlKSwtMSwhMCk7cmV0dXJuIHIubXVsKGkuYXNUeXBlKHIuZHR5cGUpKX0pfSx0LmNsYXNzTmFtZT1cIk1hc2tpbmdcIix0fShMYXllcik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKE1hc2tpbmcpO3ZhciBFbWJlZGRpbmc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztpZihuLmVtYmVkZGluZ3M9bnVsbCxuLkRFRkFVTFRfRU1CRURESU5HU19JTklUSUFMSVpFUj1cInJhbmRvbVVuaWZvcm1cIixudWxsPT10LmJhdGNoSW5wdXRTaGFwZSYmbnVsbD09dC5pbnB1dFNoYXBlKXt2YXIgcj1udWxsO251bGwhPXQuYmF0Y2hTaXplJiYocj10LmJhdGNoU2l6ZSksbnVsbD09dC5pbnB1dExlbmd0aD9uLmJhdGNoSW5wdXRTaGFwZT1bcixudWxsXTpuLmJhdGNoSW5wdXRTaGFwZT1bcl0uY29uY2F0KHRvTGlzdCh0LmlucHV0TGVuZ3RoKSl9cmV0dXJuIG4uaW5wdXREaW09dC5pbnB1dERpbSxhc3NlcnRQb3NpdGl2ZUludGVnZXIobi5pbnB1dERpbSxcImlucHV0RGltXCIpLG4ub3V0cHV0RGltPXQub3V0cHV0RGltLGFzc2VydFBvc2l0aXZlSW50ZWdlcihuLm91dHB1dERpbSxcIm91dHB1dERpbVwiKSxuLmVtYmVkZGluZ3NJbml0aWFsaXplcj1nZXRJbml0aWFsaXplcih0LmVtYmVkZGluZ3NJbml0aWFsaXplcnx8bi5ERUZBVUxUX0VNQkVERElOR1NfSU5JVElBTElaRVIpLG4uZW1iZWRkaW5nc1JlZ3VsYXJpemVyPWdldFJlZ3VsYXJpemVyKHQuZW1iZWRkaW5nc1JlZ3VsYXJpemVyKSxuLmFjdGl2aXR5UmVndWxhcml6ZXI9Z2V0UmVndWxhcml6ZXIodC5hY3Rpdml0eVJlZ3VsYXJpemVyKSxuLmVtYmVkZGluZ3NDb25zdHJhaW50PWdldENvbnN0cmFpbnQodC5lbWJlZGRpbmdzQ29uc3RyYWludCksbi5tYXNrWmVybz10Lm1hc2taZXJvLG4uc3VwcG9ydHNNYXNraW5nPXQubWFza1plcm8sbi5pbnB1dExlbmd0aD10LmlucHV0TGVuZ3RoLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKGUpe3RoaXMuZW1iZWRkaW5ncz10aGlzLmFkZFdlaWdodChcImVtYmVkZGluZ3NcIixbdGhpcy5pbnB1dERpbSx0aGlzLm91dHB1dERpbV0sdGhpcy5kdHlwZSx0aGlzLmVtYmVkZGluZ3NJbml0aWFsaXplcix0aGlzLmVtYmVkZGluZ3NSZWd1bGFyaXplciwhMCx0aGlzLmVtYmVkZGluZ3NDb25zdHJhaW50KSx0aGlzLmJ1aWx0PSEwfSx0LnByb3RvdHlwZS53YXJuT25JbmNvbXBhdGlibGVJbnB1dFNoYXBlPWZ1bmN0aW9uKGUpe30sdC5wcm90b3R5cGUuY29tcHV0ZU1hc2s9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7cmV0dXJuIG4ubWFza1plcm8/KGU9Z2V0RXhhY3RseU9uZVRlbnNvcihlKSxub3RFcXVhbChlLHplcm9zTGlrZShlKSkpOm51bGx9KX0sdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe2lmKGU9Z2V0RXhhY3RseU9uZVNoYXBlKGUpLG51bGw9PXRoaXMuaW5wdXRMZW5ndGgpcmV0dXJuIGUuY29uY2F0KFt0aGlzLm91dHB1dERpbV0pO3ZhciB0PXRvTGlzdCh0aGlzLmlucHV0TGVuZ3RoKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoLTEpdGhyb3cgbmV3IFZhbHVlRXJyb3IoJ1wiaW5wdXRMZW5ndGhcIiBpcyAnK3RoaXMuaW5wdXRMZW5ndGgrXCIsIGJ1dCByZWNlaXZlZCBpbnB1dCBzaGFwZSBoYXMgc2hhcGUgXCIrZSk7Zm9yKHZhciBuPTAscj0wO3I8dC5sZW5ndGg7KytyKXt2YXIgaT10W3JdLGE9ZVtyKzFdO2lmKG51bGwhPWkmJm51bGwhPWEmJmkhPT1hKXRocm93IG5ldyBWYWx1ZUVycm9yKCdcImlucHV0TGVuZ3RoXCIgaXMgJyt0aGlzLmlucHV0TGVuZ3RoK1wiLCBidXQgcmVjZWl2ZWQgaW5wdXQgc2hhcGUgaGFzIHNoYXBlIFwiK2UpO251bGw9PWkmJih0W25dPWEpLG4rK31yZXR1cm5bZVswXV0uY29uY2F0KHQsW3RoaXMub3V0cHV0RGltXSl9LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7bi5pbnZva2VDYWxsSG9vayhlLHQpO3ZhciByPWdldEV4YWN0bHlPbmVUZW5zb3IoZSk7cmV0dXJuXCJpbnQzMlwiIT09ci5kdHlwZSYmKHI9Y2FzdCQxKHIsXCJpbnQzMlwiKSksZ2F0aGVyJDEobi5lbWJlZGRpbmdzLnJlYWQoKSxyLmFzMUQoKSkucmVzaGFwZShnZXRFeGFjdGx5T25lU2hhcGUobi5jb21wdXRlT3V0cHV0U2hhcGUoci5zaGFwZSkpKX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17aW5wdXREaW06dGhpcy5pbnB1dERpbSxvdXRwdXREaW06dGhpcy5vdXRwdXREaW0sZW1iZWRkaW5nc0luaXRpYWxpemVyOnNlcmlhbGl6ZUluaXRpYWxpemVyKHRoaXMuZW1iZWRkaW5nc0luaXRpYWxpemVyKSxlbWJlZGRpbmdzUmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5lbWJlZGRpbmdzUmVndWxhcml6ZXIpLGFjdGl2aXR5UmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5hY3Rpdml0eVJlZ3VsYXJpemVyKSxlbWJlZGRpbmdzQ29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMuZW1iZWRkaW5nc0NvbnN0cmFpbnQpLG1hc2taZXJvOnRoaXMubWFza1plcm8saW5wdXRMZW5ndGg6dGhpcy5pbnB1dExlbmd0aH0sbj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LG4pLHR9LHQuY2xhc3NOYW1lPVwiRW1iZWRkaW5nXCIsdH0oTGF5ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhFbWJlZGRpbmcpO3ZhciBNZXJnZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHR8fHt9KXx8dGhpcztyZXR1cm4gbi5zdXBwb3J0c01hc2tpbmc9ITAsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUubWVyZ2VGdW5jdGlvbj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcn0sdC5wcm90b3R5cGUuY29tcHV0ZUVsZW1lbnR3aXNlT3BPdXRwdXRTaGFwZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWV8fG51bGw9PXQpcmV0dXJuIG51bGw7aWYoZS5sZW5ndGg8dC5sZW5ndGgpcmV0dXJuIHRoaXMuY29tcHV0ZUVsZW1lbnR3aXNlT3BPdXRwdXRTaGFwZSh0LGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gZTtmb3IodmFyIG49ZS5zbGljZSgwLGUubGVuZ3RoLXQubGVuZ3RoKSxyPTA7cjx0Lmxlbmd0aDsrK3Ipe3ZhciBpPWVbZS5sZW5ndGgtdC5sZW5ndGgrcl0sYT10W3JdO2lmKG51bGw9PWl8fG51bGw9PWF8fGk8MHx8YTwwKW4ucHVzaChudWxsKTtlbHNlIGlmKDE9PT1pKW4ucHVzaChhKTtlbHNlIGlmKDE9PT1hKW4ucHVzaChpKTtlbHNle2lmKGkhPT1hKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiT3BlcmFuZHMgY291bGQgbm90IGJlIGJyb2FkY2FzdCB0b2dldGhlciB3aXRoIHNoYXBlcyBcIitKU09OLnN0cmluZ2lmeShlKStcIiBcIitKU09OLnN0cmluZ2lmeSh0KSk7bi5wdXNoKGkpfX1yZXR1cm4gbn0sdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSYmIUFycmF5LmlzQXJyYXkoZVswXSkmJihlPVtnZXRFeGFjdGx5T25lU2hhcGUoZSldKSwoZT1lKS5sZW5ndGg8Mil0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkEgbWVyZ2UgbGF5ZXIgc2hvdWxkIGJlIGNhbGxlZCBvbiBhbiBBcnJheSBvZiBhdCBsZWFzdCAyIGlucHV0cy4gR290IFwiK2UubGVuZ3RoK1wiIGlucHV0KHMpLlwiKTtmb3IodmFyIHQ9W10sbj0wLHI9ZTtuPHIubGVuZ3RoO24rKyl7bnVsbCE9KG89cltuXSkmJm51bGwhPT1vWzBdJiZ0LnB1c2gob1swXSl9aWYoKHQ9dW5pcXVlKHQpKS5sZW5ndGg+MSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkNhbiBub3QgbWVyZ2UgdGVuc29ycyB3aXRoIGRpZmZlcmVudCBiYXRjaCBzaXplcy4gR290IHRlbnNvcnMgd2l0aCBzaGFwZXM6IFwiK0pTT04uc3RyaW5naWZ5KGUpK1wiLlwiKTtmb3IodmFyIGk9bnVsbD09ZVswXT9udWxsOmVbMF0uc2xpY2UoMSksYT0xO2E8ZS5sZW5ndGg7KythKXt2YXIgbz1udWxsPT1lW2FdP251bGw6ZVthXS5zbGljZSgxKTtpPXRoaXMuY29tcHV0ZUVsZW1lbnR3aXNlT3BPdXRwdXRTaGFwZShpLG8pfXZhciBzPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aH0pOy0xPT09ZS5pbmRleE9mKG51bGwpJiYxPT09dW5pcXVlKHMpLmxlbmd0aD90aGlzLnJlc2hhcGVSZXF1aXJlZD0hMTp0aGlzLnJlc2hhcGVSZXF1aXJlZD0hMH0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtpZihlPWUsbi5yZXNoYXBlUmVxdWlyZWQpe3ZhciB0PVtdLHI9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmFua30pO2lmKC0xPT09ci5pbmRleE9mKG51bGwpKXtmb3IodmFyIGk9bWF4JDEociksYT0wLG89ZTthPG8ubGVuZ3RoO2ErKyl7Zm9yKHZhciBzPShoPW9bYV0pLnJhbmssbD0wO2w8aS1zOysrbCloPWV4cGFuZERpbXMkMShoLDEpO3QucHVzaChoKX1yZXR1cm4gbi5tZXJnZUZ1bmN0aW9uKHQpfWZvcih2YXIgdT0hMSxjPTAscD1lO2M8cC5sZW5ndGg7YysrKXt2YXIgaDtpZihudWxsPT0ocz0oaD1wW2NdKS5yYW5rKSl7dmFyIGQ9aC5zaGFwZSxmPWRbMF0sZz1kLnNsaWNlKDEpLmNvbmNhdChbZl0pLG09aC5yZXNoYXBlKFtmXS5jb25jYXQoYXJyYXlQcm9kKGQuc2xpY2UoMSkpKSk7bT0obT10cmFuc3Bvc2UobSxbMSwwXSkpLnJlc2hhcGUoZyksdC5wdXNoKG0pLHU9ITB9ZWxzZSBpZihzPjEpe3ZhciB5PXJhbmdlKDEscykuY29uY2F0KFswXSk7dC5wdXNoKHRyYW5zcG9zZShoLHkpKSx1PSEwfWVsc2UgdC5wdXNoKGgpfXZhciB2PW4ubWVyZ2VGdW5jdGlvbih0KSxiPXYucmFuaztpZih1KWlmKG51bGw9PWIpe3ZhciB3PXYuc2hhcGU7Zz1bZj13W3cubGVuZ3RoLTFdXS5jb25jYXQody5zbGljZSgwLHcubGVuZ3RoLTEpKTt2PXRyYW5zcG9zZSh2LnJlc2hhcGUoWy0xLGZdKSxbMSwwXSkucmVzaGFwZShnKX1lbHNlIGlmKGI+MSl7eT1bYi0xXS5jb25jYXQocmFuZ2UoMCxiLTEpKTt2PXRyYW5zcG9zZSh2LHkpfXJldHVybiB2fXJldHVybiBuLm1lcmdlRnVuY3Rpb24oZSl9KX0sdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3ZhciB0O3Q9bnVsbD09KGU9ZSlbMF0/bnVsbDplWzBdLnNsaWNlKDEpO2Zvcih2YXIgbj0xO248ZS5sZW5ndGg7KytuKXt2YXIgcj1udWxsPT1lW25dP251bGw6ZVtuXS5zbGljZSgxKTt0PXRoaXMuY29tcHV0ZUVsZW1lbnR3aXNlT3BPdXRwdXRTaGFwZSh0LHIpfWZvcih2YXIgaT1bXSxhPTAsbz1lO2E8by5sZW5ndGg7YSsrKXtudWxsIT0ocj1vW2FdKSYmbnVsbCE9PXJbMF0mJmkucHVzaChyWzBdKX1yZXR1cm4gdD0xPT09KGk9dW5pcXVlKGkpKS5sZW5ndGg/aS5jb25jYXQodCk6W251bGxdLmNvbmNhdCh0KX0sdC5wcm90b3R5cGUuY29tcHV0ZU1hc2s9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe2lmKG51bGw9PXQpcmV0dXJuIG51bGw7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJgbWFza2Agc2hvdWxkIGJlIGFuIEFycmF5XCIpO2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiYGlucHV0c2Agc2hvdWxkIGJlIGFuIEFycmF5XCIpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJUaGUgQXJyYXkgJ2lucHV0cycgYW5kICdtYXNrJyBhcmUgZXhwZWN0ZWQgdG8gaGF2ZSB0aGUgc2FtZSBsZW5ndGgsIGJ1dCBoYXZlIGRpZmZlcmVudCBsZW5ndGhzIChcIitlLmxlbmd0aCtcIiB2cyBcIit0Lmxlbmd0aCtcIilcIik7aWYodC5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZX0pKXJldHVybiBudWxsO2Zvcih2YXIgbj0odD10Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9lOmV4cGFuZERpbXMoZSwwKX0pKVswXSxyPTE7cjx0Lmxlbmd0aC0xOysrciluPWxvZ2ljYWxBbmQobix0W3JdKTtyZXR1cm4gbn0pfSx0fShMYXllciksQWRkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuY2FsbCh0aGlzLHQpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5tZXJnZUZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWVbMF0uY2xvbmUoKSxuPTE7bjxlLmxlbmd0aDsrK24pdD1hZGQodCxlW25dKTtyZXR1cm4gdH0pfSx0LmNsYXNzTmFtZT1cIkFkZFwiLHR9KE1lcmdlKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoQWRkKTt2YXIgTXVsdGlwbHk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLm1lcmdlRnVuY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtmb3IodmFyIHQ9ZVswXS5jbG9uZSgpLG49MTtuPGUubGVuZ3RoOysrbil0PW11bCh0LGVbbl0pO3JldHVybiB0fSl9LHQuY2xhc3NOYW1lPVwiTXVsdGlwbHlcIix0fShNZXJnZSk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKE11bHRpcGx5KTt2YXIgQXZlcmFnZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyx0KXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUubWVyZ2VGdW5jdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe2Zvcih2YXIgdD1lWzBdLmNsb25lKCksbj0xO248ZS5sZW5ndGg7KytuKXQ9YWRkKHQsZVtuXSk7cmV0dXJuIG11bCgxL2UubGVuZ3RoLHQpfSl9LHQuY2xhc3NOYW1lPVwiQXZlcmFnZVwiLHR9KE1lcmdlKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoQXZlcmFnZSk7dmFyIE1heGltdW09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLm1lcmdlRnVuY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtmb3IodmFyIHQ9ZVswXSxuPTE7bjxlLmxlbmd0aDsrK24pdD1tYXhpbXVtKHQsZVtuXSk7cmV0dXJuIHR9KX0sdC5jbGFzc05hbWU9XCJNYXhpbXVtXCIsdH0oTWVyZ2UpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhNYXhpbXVtKTt2YXIgTWluaW11bT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyx0KXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUubWVyZ2VGdW5jdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe2Zvcih2YXIgdD1lWzBdLG49MTtuPGUubGVuZ3RoOysrbil0PW1pbmltdW0odCxlW25dKTtyZXR1cm4gdH0pfSx0LmNsYXNzTmFtZT1cIk1pbmltdW1cIix0fShNZXJnZSk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKE1pbmltdW0pO3ZhciBDb25jYXRlbmF0ZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLkRFRkFVTFRfQVhJUz0tMSxudWxsPT10JiYodD17fSksbi5heGlzPW51bGw9PXQuYXhpcz9uLkRFRkFVTFRfQVhJUzp0LmF4aXMsbi5zdXBwb3J0c01hc2tpbmc9ITAsbi5yZXNoYXBlUmVxdWlyZWQ9ITEsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSl7aWYoIUFycmF5LmlzQXJyYXkoZSl8fCFBcnJheS5pc0FycmF5KGVbMF0pfHwxPT09ZS5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJBIGBDb25jYXRlbmF0ZWAgbGF5ZXIgc2hvdWxkIGJlIGNhbGxlZCBvbiBhIGxpc3Qgb2YgYXQgbGVhc3QgMiBpbnB1dHNcIik7Zm9yKHZhciB0PSEwLG49MCxyPWU9ZTtuPHIubGVuZ3RoO24rKyl7aWYobnVsbCE9KGM9cltuXSkpe3Q9ITE7YnJlYWt9fWlmKCF0KXtmb3IodmFyIGk9W10sYT0wO2E8ZS5sZW5ndGg7KythKXt2YXIgbz1lW2FdLnNsaWNlKCk7by5zcGxpY2UodGhpcy5heGlzLDEpO2Zvcih2YXIgcz0hMSxsPTAsdT1pO2w8dS5sZW5ndGg7bCsrKXt2YXIgYz11W2xdO2lmKHV0aWwuYXJyYXlzRXF1YWwoYyxvKSl7cz0hMDticmVha319c3x8aS5wdXNoKG8pfWlmKGkubGVuZ3RoPjEpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJBIGBDb25jYXRlbmF0ZWAgbGF5ZXIgcmVxdWlyZXMgaW5wdXRzIHdpdGggbWF0Y2hpbmcgc2hhcGVzIGV4Y2VwdCBmb3IgdGhlIGNvbmNhdCBheGlzLiBHb3QgaW5wdXQgc2hhcGVzOiBcIitKU09OLnN0cmluZ2lmeShlKSl9fSx0LnByb3RvdHlwZS5tZXJnZUZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gY29uY2F0ZW5hdGUoZSx0LmF4aXMpfSl9LHQucHJvdG90eXBlLmNvbXB1dGVPdXRwdXRTaGFwZT1mdW5jdGlvbihlKXtpZighQXJyYXkuaXNBcnJheShlKXx8IUFycmF5LmlzQXJyYXkoZVswXSkpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJBIGBDb25jYXRlbmF0ZWAgbGF5ZXIgc2hvdWxkIGJlIGNhbGxlZCBvbiBhIGxpc3Qgb2YgaW5wdXRzLlwiKTtmb3IodmFyIHQ9ZSxuPXRbMF0uc2xpY2UoKSxyPXRoaXMuYXhpczwwP24ubGVuZ3RoK3RoaXMuYXhpczp0aGlzLmF4aXMsaT0wLGE9dC5zbGljZSgxKTtpPGEubGVuZ3RoO2krKyl7dmFyIG89YVtpXTtpZihudWxsPT1uW3JdfHxudWxsPT1vW3JdKXtuW3JdPW51bGw7YnJlYWt9bltyXSs9b1tyXX1yZXR1cm4gbn0sdC5wcm90b3R5cGUuY29tcHV0ZU1hc2s9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2lmKG51bGw9PXQpcmV0dXJuIG51bGw7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJgbWFza2Agc2hvdWxkIGJlIGFuIGFycmF5IGZvciBDb25jYXRlbmF0ZVwiKTtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcImBpbnB1dHNgIHNob3VsZCBiZSBhbiBhcnJheSBmb3IgQ29uY2F0ZW5hdGVcIik7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIk1pc21hdGNoIGluIHRoZSBsZW5ndGggb2YgbWFzayAoXCIrdC5sZW5ndGgrXCIpIGFuZCB0aGUgbGVnbnRoIG9mIGlucHV0cyAoXCIrZS5sZW5ndGgrXCIpXCIpO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIHI9ITA7aWYodC5mb3JFYWNoKGZ1bmN0aW9uKGUpe251bGw9PWV8fChyPSExKX0pLHIpcmV0dXJuIG51bGw7Zm9yKHZhciBpPVtdLGE9MDthPGUubGVuZ3RoOysrYSludWxsPT10W2FdP2kucHVzaChvbmVzTGlrZShlW2FdKS5hc1R5cGUoXCJib29sXCIpKTp0W2FdLnJhbms8ZVthXS5yYW5rP2kucHVzaChleHBhbmREaW1zKHRbYV0sLTEpKTppLnB1c2godFthXSk7dmFyIG89Y29uY2F0KGksbi5heGlzKTtyZXR1cm4gYWxsKG8sLTEsITEpfSl9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXtheGlzOnRoaXMuYXhpc30sbj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LG4pLHR9LHQuY2xhc3NOYW1lPVwiQ29uY2F0ZW5hdGVcIix0fShNZXJnZSk7ZnVuY3Rpb24gaW50ZXJwcmV0QXhpcyhlLHQpe2Zvcig7ZTwwOyllKz10O3JldHVybiBlfWZ1bmN0aW9uIGJhdGNoRG90KGUsdCxuKXtpZihlLnNoYXBlLmxlbmd0aD4zfHx0LnNoYXBlLmxlbmd0aD4zKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiYmF0Y2hEb3QgaXMgbm90IGltcGxlbWVudGVkIGZvciB0ZW5zb3JzIG9mIDREIG9yIGhpZ2hlciByYW5rIHlldFwiKTtpZih1dGlsLmFzc2VydChlLnNoYXBlLmxlbmd0aD49MixmdW5jdGlvbigpe3JldHVyblwiYmF0Y2hEb3QgcmVxdWlyZXMgdGhlIHJhbmsgb2YgeCB0byBiZSA+PSAyLCBidXQgZ290IFwiK2Uuc2hhcGUubGVuZ3RofSksdXRpbC5hc3NlcnQoZS5zaGFwZS5sZW5ndGg+PTIsZnVuY3Rpb24oKXtyZXR1cm5cImJhdGNoRG90IHJlcXVpcmVzIHRoZSByYW5rIG9mIHkgdG8gYmUgPj0gMiwgYnV0IGdvdCBcIit0LnNoYXBlLmxlbmd0aH0pLFwibnVtYmVyXCI9PXR5cGVvZiBuJiYobj1bbixuXSksXCJjb21wbGV4NjRcIj09PWUuZHR5cGV8fFwiY29tcGxleDY0XCI9PT10LmR0eXBlKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiYmF0Y2hEb3QgaXMgbm90IGltcGxlbWVudGVkIGZvciBjb21wbGV4NjQtdHlwZSBUZW5zb3JzIHlldC5cIik7dmFyIHI9ZS5zaGFwZS5sZW5ndGgsaT10LnNoYXBlLmxlbmd0aDtudWxsPT1uJiYobj1bci0xLGktMl0pO3ZhciBhPW47cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgbixvO2lmKHI+aSl7bj1yLWk7Zm9yKHZhciBzPVtdLGw9MDtsPG47KytsKXMucHVzaCgxKTt0PXQucmVzaGFwZSh0LnNoYXBlLmNvbmNhdChzKSl9ZWxzZSBpZihpPnIpe249aS1yO2ZvcihzPVtdLGw9MDtsPG47KytsKXMucHVzaCgxKTtlPWUucmVzaGFwZShlLnNoYXBlLmNvbmNhdChzKSl9ZWxzZSBuPTA7aWYoMj09PWUuc2hhcGUubGVuZ3RoJiYyPT09dC5zaGFwZS5sZW5ndGgpbz1hWzBdPT09YVsxXT9lLm11bFN0cmljdCh0KS5zdW0oYVswXSk6ZS50cmFuc3Bvc2UoWzEsMF0pLm11bFN0cmljdCh0KS5zdW0oYVsxXSk7ZWxzZXt2YXIgdT1hWzBdIT09ZS5zaGFwZS5sZW5ndGgtMSxjPWFbMV09PT10LnNoYXBlLmxlbmd0aC0xO289ZS5tYXRNdWwodCx1LGMpfWlmKG4+MCl7dmFyIHA9dm9pZCAwLGg9W107Zm9yKGw9cD1yPmk/citpLTM6ci0xO2w8cCtuOysrbCloLnB1c2gobCk7bz1vLnNxdWVlemUoaCl9cmV0dXJuIDE9PT1vLnNoYXBlLmxlbmd0aCYmKG89by5leHBhbmREaW1zKDEpKSxvfSl9c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKENvbmNhdGVuYXRlKTt2YXIgRG90PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4uYXhlcz10LmF4ZXMsbi5ub3JtYWxpemU9bnVsbCE9dC5ub3JtYWxpemUmJnQubm9ybWFsaXplLG4uc3VwcG9ydHNNYXNraW5nPSEwLG4ucmVzaGFwZVJlcXVpcmVkPSExLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKGUpe3V0aWwuYXNzZXJ0KEFycmF5LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmQXJyYXkuaXNBcnJheShlWzBdKSYmQXJyYXkuaXNBcnJheShlWzFdKSxmdW5jdGlvbigpe3JldHVyblwiQSBgRG90YCBsYXllciBzaG91bGQgYmUgY2FsbGVkIG9uIGEgbGlzdCBvZiBleGFjdGx5IDIgaW5wdXRzLlwifSk7dmFyIHQ9ZVswXSxuPWVbMV07aWYodC5sZW5ndGg+M3x8bi5sZW5ndGg+Myl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcIkRvdCBsYXllciBkb2VzIG5vdCBzdXBwb3J0IHRlbnNvcnMgb2YgNEQgb3IgaGlnaGVyIHJhbmsgeWV0LlwiKTt2YXIgcj10aGlzLmludGVycHJldEF4ZXModCxuKTtpZih0W3JbMF1dIT09bltyWzFdXSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkRpbWVuc2lvbiBpbmNvbXBhdGliaWxpdHk6IFwiK3RbclswXV0rXCIgIT09IFwiK25bclsxXV0pfSx0LnByb3RvdHlwZS5tZXJnZUZ1bmN0aW9uPWZ1bmN0aW9uKGUpe2lmKDIhPT1lLmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkEgYERvdGAgbGF5ZXIgbXVzdCBiZSBjYWxsZWQgb24gZXhhY3RseSAyIGlucHV0cywgYnV0IHJlY2VpdmVkIFwiK2UubGVuZ3RoK1wiIGlucHV0KHMpLlwiKTt2YXIgdCxuPWVbMF0scj1lWzFdO3JldHVybiB0PUFycmF5LmlzQXJyYXkodGhpcy5heGVzKT90aGlzLmF4ZXMubWFwKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGludGVycHJldEF4aXModCxlW25dLnNoYXBlLmxlbmd0aCl9KTpbaW50ZXJwcmV0QXhpcyh0aGlzLmF4ZXMsbi5zaGFwZS5sZW5ndGgpLGludGVycHJldEF4aXModGhpcy5heGVzLHIuc2hhcGUubGVuZ3RoKV0sdGhpcy5ub3JtYWxpemUmJihuPWwyTm9ybWFsaXplKG4sdFswXSkscj1sMk5vcm1hbGl6ZShyLHRbMV0pKSxiYXRjaERvdChuLHIsdCl9LHQucHJvdG90eXBlLmludGVycHJldEF4ZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLmF4ZXMpP3RoaXMuYXhlczpbaW50ZXJwcmV0QXhpcyh0aGlzLmF4ZXMsZS5sZW5ndGgpLGludGVycHJldEF4aXModGhpcy5heGVzLHQubGVuZ3RoKV19LHQucHJvdG90eXBlLmNvbXB1dGVPdXRwdXRTaGFwZT1mdW5jdGlvbihlKXt1dGlsLmFzc2VydChBcnJheS5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGgmJkFycmF5LmlzQXJyYXkoZVswXSkmJkFycmF5LmlzQXJyYXkoZVsxXSksZnVuY3Rpb24oKXtyZXR1cm5cIkEgYERvdGAgbGF5ZXIgc2hvdWxkIGJlIGNhbGxlZCBvbiBhIGxpc3Qgb2YgZXhhY3RseSAyIGlucHV0cy5cIn0pO3ZhciB0PWVbMF0uc2xpY2UoKSxuPWVbMV0uc2xpY2UoKTtpZih0Lmxlbmd0aD4zfHxuLmxlbmd0aD4zKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiRG90IGxheWVyIGRvZXMgbm90IHN1cHBvcnQgdGVuc29ycyBvZiA0RCBvciBoaWdoZXIgcmFuayB5ZXQuXCIpO3ZhciByPXRoaXMuaW50ZXJwcmV0QXhlcyh0LG4pO3Quc3BsaWNlKHJbMF0sMSksbi5zcGxpY2UoclsxXSwxKSxuLnNwbGljZSgwLDEpO3ZhciBpPXQuY29uY2F0KG4pO3JldHVybiAxPT09aS5sZW5ndGgmJmkucHVzaCgxKSxpfSx0LnByb3RvdHlwZS5jb21wdXRlTWFzaz1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17YXhlczp0aGlzLmF4ZXMsbm9ybWFsaXplOnRoaXMubm9ybWFsaXplfSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5jbGFzc05hbWU9XCJEb3RcIix0fShNZXJnZSk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKERvdCk7dmFyIEdhdXNzaWFuTm9pc2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gbi5zdXBwb3J0c01hc2tpbmc9ITAsbi5zdGRkZXY9dC5zdGRkZXYsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKSxuPXtzdGRkZXY6dGhpcy5zdGRkZXZ9O3JldHVybiBPYmplY3QuYXNzaWduKG4sdCksbn0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtuLmludm9rZUNhbGxIb29rKGUsdCk7dmFyIHI9Z2V0RXhhY3RseU9uZVRlbnNvcihlKTtyZXR1cm4gaW5UcmFpblBoYXNlKGZ1bmN0aW9uKCl7cmV0dXJuIHJhbmRvbU5vcm1hbCQxKHIuc2hhcGUsMCxuLnN0ZGRldikuYWRkKHIpfSxmdW5jdGlvbigpe3JldHVybiByfSx0LnRyYWluaW5nfHwhMSl9KX0sdC5jbGFzc05hbWU9XCJHYXVzc2lhbk5vaXNlXCIsdH0oTGF5ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhHYXVzc2lhbk5vaXNlKTt2YXIgR2F1c3NpYW5Ecm9wb3V0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4uc3VwcG9ydHNNYXNraW5nPSEwLG4ucmF0ZT10LnJhdGUsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKSxuPXtyYXRlOnRoaXMucmF0ZX07cmV0dXJuIE9iamVjdC5hc3NpZ24obix0KSxufSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe24uaW52b2tlQ2FsbEhvb2soZSx0KTt2YXIgcj1nZXRFeGFjdGx5T25lVGVuc29yKGUpO2lmKG4ucmF0ZT4wJiZuLnJhdGU8MSl7cmV0dXJuIGluVHJhaW5QaGFzZShmdW5jdGlvbigpe3ZhciBlPU1hdGguc3FydChuLnJhdGUvKDEtbi5yYXRlKSk7cmV0dXJuIHIubXVsKHJhbmRvbU5vcm1hbCQxKHIuc2hhcGUsMSxlKSl9LGZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHQudHJhaW5pbmd8fCExKX1yZXR1cm4gcn0pfSx0LmNsYXNzTmFtZT1cIkdhdXNzaWFuRHJvcG91dFwiLHR9KExheWVyKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoR2F1c3NpYW5Ecm9wb3V0KTt2YXIgQWxwaGFEcm9wb3V0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4uc3VwcG9ydHNNYXNraW5nPSEwLG4ucmF0ZT10LnJhdGUsbi5ub2lzZVNoYXBlPXQubm9pc2VTaGFwZSxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5fZ2V0Tm9pc2VTaGFwZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ub2lzZVNoYXBlfHxnZXRFeGFjdGx5T25lVGVuc29yKGUpLnNoYXBlfSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpLG49e3JhdGU6dGhpcy5yYXRlfTtyZXR1cm4gT2JqZWN0LmFzc2lnbihuLHQpLG59LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7aWYobi5yYXRlPDEmJm4ucmF0ZT4wKXt2YXIgcj1uLl9nZXROb2lzZVNoYXBlKGUpO3JldHVybiBpblRyYWluUGhhc2UoZnVuY3Rpb24oKXt2YXIgdD1nZXRFeGFjdGx5T25lVGVuc29yKGUpLGk9LTEuNzU4MDk5MzQwODQ3Mzc2NixhPWdyZWF0ZXJFcXVhbChyYW5kb21Vbmlmb3JtKHIpLG4ucmF0ZSk7YT1jYXN0JDEoYSxcImZsb2F0MzJcIik7dmFyIG89TWF0aC5wb3coKDEtbi5yYXRlKSooMStuLnJhdGUqTWF0aC5wb3coaSwyKSksLS41KSxzPS1vKmkqbi5yYXRlO3JldHVybiB0Lm11bChhKS5hZGQoYS5hZGQoLTEpLm11bChpKSkubXVsKG8pLmFkZChzKX0sZnVuY3Rpb24oKXtyZXR1cm4gZ2V0RXhhY3RseU9uZVRlbnNvcihlKX0sdC50cmFpbmluZ3x8ITEpfXJldHVybiBlfSl9LHQuY2xhc3NOYW1lPVwiQWxwaGFEcm9wb3V0XCIsdH0oTGF5ZXIpO2Z1bmN0aW9uIGJhdGNoTm9ybWFsaXphdGlvbihlLHQsbixyLGksYSl7dmFyIG87aWYodm9pZCAwPT09YSYmKGE9LjAwMSksMj09PWUucmFuaylvPWJhdGNoTm9ybTJkKGUsdCxuLHIsaSxhKTtlbHNlIGlmKDM9PT1lLnJhbmspbz1iYXRjaE5vcm0zZChlLHQsbixyLGksYSk7ZWxzZXtpZig0IT09ZS5yYW5rKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiYmF0Y2hOb3JtYWxpemF0aW9uIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgYXJyYXkgb2YgcmFuayBcIitlLnJhbmsrXCIgeWV0XCIpO289YmF0Y2hOb3JtNGQoZSx0LG4scixpLGEpfXJldHVybiBvfWZ1bmN0aW9uIHJlZ3VsYXJOb3JtYWxpemVCYXRjaEluVHJhaW5pbmcoZSx0LG4scixpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9LjAwMSksdGlkeShmdW5jdGlvbigpe3ZhciBhPW1vbWVudHMoZSxyKSxvPWEubWVhbixzPWEudmFyaWFuY2U7cmV0dXJuW2JhdGNoTm9ybWFsaXphdGlvbihlLG8scyxuLHQsaSksbyxzXX0pfWZ1bmN0aW9uIGJyb2FkY2FzdE5vcm1hbGl6ZUJhdGNoSW5UcmFpbmluZyhlLHQsbixyLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0uMDAxKSx0aWR5KGZ1bmN0aW9uKCl7Zm9yKHZhciBhPW1vbWVudHMoZSxyKSxvPWEubWVhbixzPWEudmFyaWFuY2UsbD1bXSx1PTAsYz1yYW5nZSgwLGUucmFuayk7dTxjLmxlbmd0aDt1Kyspe3ZhciBwPWNbdV07LTEhPT1yLmluZGV4T2YocCk/bC5wdXNoKDEpOmwucHVzaChlLnNoYXBlW3BdKX12YXIgaD1vLnJlc2hhcGUobCksZD1zLnJlc2hhcGUobCksZj1udWxsPT10P251bGw6dC5yZXNoYXBlKGwpLGc9bnVsbD09bj9udWxsOm4ucmVzaGFwZShsKTtyZXR1cm5bYmF0Y2hOb3JtYWxpemF0aW9uKGUsaCxkLGcsZixpKSxvLHNdfSl9ZnVuY3Rpb24gbm9ybWFsaXplQmF0Y2hJblRyYWluaW5nKGUsdCxuLHIsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPS4wMDEpLHV0aWwuYXJyYXlzRXF1YWwoci5zbGljZSgpLnNvcnQoKSxyYW5nZSgwLGUucmFuay0xKSk/cmVndWxhck5vcm1hbGl6ZUJhdGNoSW5UcmFpbmluZyhlLHQsbixyLGkpOmJyb2FkY2FzdE5vcm1hbGl6ZUJhdGNoSW5UcmFpbmluZyhlLHQsbixyLGkpfXNlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhBbHBoYURyb3BvdXQpO3ZhciBCYXRjaE5vcm1hbGl6YXRpb249ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj10aGlzO3JldHVybiBudWxsPT10JiYodD17fSksKG49ZS5jYWxsKHRoaXMsdCl8fHRoaXMpLnN1cHBvcnRzTWFza2luZz0hMCxuLmF4aXM9bnVsbD09dC5heGlzPy0xOnQuYXhpcyxuLm1vbWVudHVtPW51bGw9PXQubW9tZW50dW0/Ljk5OnQubW9tZW50dW0sbi5lcHNpbG9uPW51bGw9PXQuZXBzaWxvbj8uMDAxOnQuZXBzaWxvbixuLmNlbnRlcj1udWxsPT10LmNlbnRlcnx8dC5jZW50ZXIsbi5zY2FsZT1udWxsPT10LnNjYWxlfHx0LnNjYWxlLG4uYmV0YUluaXRpYWxpemVyPWdldEluaXRpYWxpemVyKHQuYmV0YUluaXRpYWxpemVyfHxcInplcm9zXCIpLG4uZ2FtbWFJbml0aWFsaXplcj1nZXRJbml0aWFsaXplcih0LmdhbW1hSW5pdGlhbGl6ZXJ8fFwib25lc1wiKSxuLm1vdmluZ01lYW5Jbml0aWFsaXplcj1nZXRJbml0aWFsaXplcih0Lm1vdmluZ01lYW5Jbml0aWFsaXplcnx8XCJ6ZXJvc1wiKSxuLm1vdmluZ1ZhcmlhbmNlSW5pdGlhbGl6ZXI9Z2V0SW5pdGlhbGl6ZXIodC5tb3ZpbmdWYXJpYW5jZUluaXRpYWxpemVyfHxcIm9uZXNcIiksbi5iZXRhQ29uc3RyYWludD1nZXRDb25zdHJhaW50KHQuYmV0YUNvbnN0cmFpbnQpLG4uZ2FtbWFDb25zdHJhaW50PWdldENvbnN0cmFpbnQodC5nYW1tYUNvbnN0cmFpbnQpLG4uYmV0YVJlZ3VsYXJpemVyPWdldFJlZ3VsYXJpemVyKHQuYmV0YVJlZ3VsYXJpemVyKSxuLmdhbW1hUmVndWxhcml6ZXI9Z2V0UmVndWxhcml6ZXIodC5nYW1tYVJlZ3VsYXJpemVyKSxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbihlKXt2YXIgdDtlPWdldEV4YWN0bHlPbmVTaGFwZShlKTt2YXIgbj10aGlzLmF4aXM+PTA/dGhpcy5heGlzOnRoaXMuYXhpcytlLmxlbmd0aCxyPWVbbl07aWYobnVsbD09cil0aHJvdyBuZXcgVmFsdWVFcnJvcihcIkF4aXMgXCIrbitcIiBvZiBpbnB1dCB0ZW5zb3Igc2hvdWxkIGhhdmUgYSBkZWZpbmVkIGRpbWVuc2lvbiBidXQgdGhlIGxheWVyIHJlY2VpdmVkIGFuIGlucHV0IHdpdGggc2hhcGUgXCIrSlNPTi5zdHJpbmdpZnkoZSkrXCIuXCIpO3RoaXMuaW5wdXRTcGVjPVtuZXcgSW5wdXRTcGVjKHtuZGltOmUubGVuZ3RoLGF4ZXM6KHQ9e30sdFtuXT1yLHQpfSldO3ZhciBpPVtyXTt0aGlzLnNjYWxlJiYodGhpcy5nYW1tYT10aGlzLmFkZFdlaWdodChcImdhbW1hXCIsaSxudWxsLHRoaXMuZ2FtbWFJbml0aWFsaXplcix0aGlzLmdhbW1hUmVndWxhcml6ZXIsITAsdGhpcy5nYW1tYUNvbnN0cmFpbnQpKSx0aGlzLmNlbnRlciYmKHRoaXMuYmV0YT10aGlzLmFkZFdlaWdodChcImJldGFcIixpLG51bGwsdGhpcy5iZXRhSW5pdGlhbGl6ZXIsdGhpcy5iZXRhUmVndWxhcml6ZXIsITAsdGhpcy5iZXRhQ29uc3RyYWludCkpLHRoaXMubW92aW5nTWVhbj10aGlzLmFkZFdlaWdodChcIm1vdmluZ19tZWFuXCIsaSxudWxsLHRoaXMubW92aW5nTWVhbkluaXRpYWxpemVyLG51bGwsITEpLHRoaXMubW92aW5nVmFyaWFuY2U9dGhpcy5hZGRXZWlnaHQoXCJtb3ZpbmdfdmFyaWFuY2VcIixpLG51bGwsdGhpcy5tb3ZpbmdWYXJpYW5jZUluaXRpYWxpemVyLG51bGwsITEpLHRoaXMuYnVpbHQ9ITB9LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIHI9bnVsbCE9dC50cmFpbmluZyYmdC50cmFpbmluZyxpPWdldEV4YWN0bHlPbmVUZW5zb3IoZSksYT1pLnNoYXBlLG89YS5sZW5ndGgscz1yYW5nZSgwLG8pLGw9bi5heGlzPj0wP24uYXhpczpuLmF4aXMrbztzLnNwbGljZShsLDEpO3ZhciB1PXB5TGlzdFJlcGVhdCgxLG8pO3VbbF09YVtsXTt2YXIgYz1zLnNsaWNlKCk7Yy5zb3J0KCk7dmFyIHA9IXV0aWwuYXJyYXlzRXF1YWwoYyxyYW5nZSgwLG8pLnNsaWNlKDAsby0xKSk7aWYoIXIpcmV0dXJuIGZ1bmN0aW9uKCl7aWYocCl7dmFyIGU9bi5tb3ZpbmdNZWFuLnJlYWQoKS5yZXNoYXBlKHUpLHQ9bi5tb3ZpbmdWYXJpYW5jZS5yZWFkKCkucmVzaGFwZSh1KSxyPW4uY2VudGVyP24uYmV0YS5yZWFkKCkucmVzaGFwZSh1KTpudWxsLGE9bi5zY2FsZT9uLmdhbW1hLnJlYWQoKS5yZXNoYXBlKHUpOm51bGw7cmV0dXJuIGJhdGNoTm9ybWFsaXphdGlvbihpLGUsdCxyLGEsbi5lcHNpbG9uKX1yZXR1cm4gYmF0Y2hOb3JtYWxpemF0aW9uKGksbi5tb3ZpbmdNZWFuLnJlYWQoKSxuLm1vdmluZ1ZhcmlhbmNlLnJlYWQoKSxudWxsPT1uLmJldGE/bnVsbDpuLmJldGEucmVhZCgpLG51bGw9PW4uZ2FtbWE/bnVsbDpuLmdhbW1hLnJlYWQoKSxuLmVwc2lsb24pfSgpO3ZhciBoPW5vcm1hbGl6ZUJhdGNoSW5UcmFpbmluZyhpLG4uZ2FtbWEucmVhZCgpLG4uYmV0YS5yZWFkKCkscyxuLmVwc2lsb24pLGQ9aFswXSxmPWhbMV0sZz1oWzJdLG09ZnVuY3Rpb24oZSx0LG4pe3RpZHkoZnVuY3Rpb24oKXt2YXIgcj0xLW4saT1lLnJlYWQoKSxhPWkuc3ViKHQpLm11bChyKTtlLndyaXRlKGkuc3ViKGEpKX0pfTtyZXR1cm4gbShuLm1vdmluZ01lYW4sZixuLm1vbWVudHVtKSxtKG4ubW92aW5nVmFyaWFuY2UsZyxuLm1vbWVudHVtKSxkfSl9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXtheGlzOnRoaXMuYXhpcyxtb21lbnR1bTp0aGlzLm1vbWVudHVtLGVwc2lsb246dGhpcy5lcHNpbG9uLGNlbnRlcjp0aGlzLmNlbnRlcixzY2FsZTp0aGlzLnNjYWxlLGJldGFJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLmJldGFJbml0aWFsaXplciksZ2FtbWFJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLmdhbW1hSW5pdGlhbGl6ZXIpLG1vdmluZ01lYW5Jbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLm1vdmluZ01lYW5Jbml0aWFsaXplciksbW92aW5nVmFyaWFuY2VJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLm1vdmluZ1ZhcmlhbmNlSW5pdGlhbGl6ZXIpLGJldGFSZWd1bGFyaXplcjpzZXJpYWxpemVSZWd1bGFyaXplcih0aGlzLmJldGFSZWd1bGFyaXplciksZ2FtbWFSZWd1bGFyaXplcjpzZXJpYWxpemVSZWd1bGFyaXplcih0aGlzLmdhbW1hUmVndWxhcml6ZXIpLGJldGFDb25zdHJhaW50OnNlcmlhbGl6ZUNvbnN0cmFpbnQodGhpcy5iZXRhQ29uc3RyYWludCksZ2FtbWFDb25zdHJhaW50OnNlcmlhbGl6ZUNvbnN0cmFpbnQodGhpcy5nYW1tYUNvbnN0cmFpbnQpfSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5jbGFzc05hbWU9XCJCYXRjaE5vcm1hbGl6YXRpb25cIix0fShMYXllcik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEJhdGNoTm9ybWFsaXphdGlvbik7dmFyIExheWVyTm9ybWFsaXphdGlvbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPXRoaXM7aWYobnVsbD09dCYmKHQ9e30pLChuPWUuY2FsbCh0aGlzLHQpfHx0aGlzKS5heGlzPW51bGw9PXQuYXhpcz8tMTp0LmF4aXMsXCJudW1iZXJcIj09dHlwZW9mIG4uYXhpcyl7aWYoIU51bWJlci5pc0ludGVnZXIobi5heGlzKSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBheGlzIHRvIGJlIGFuIGludGVnZXIsIGJ1dCByZWNlaXZlZCBcIituLmF4aXMpfWVsc2V7aWYoIUFycmF5LmlzQXJyYXkobi5heGlzKSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBheGlzIHRvIGJlIGFuIGludGVnZXIgb3IgYW4gYXJyYXkgb2YgaW50ZWdlcnMsIGJ1dCByZWNlaXZlZCBcIitKU09OLnN0cmluZ2lmeShuLmF4aXMpKTtmb3IodmFyIHI9MCxpPW4uYXhpcztyPGkubGVuZ3RoO3IrKyl7dmFyIGE9aVtyXTtpZighTnVtYmVyLmlzSW50ZWdlcihhKSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBheGlzIHRvIGJlIGFuIGFycmF5IG9mIGludGVnZXJzLCBidXQgcmVjZWl2ZWQgXCIrSlNPTi5zdHJpbmdpZnkobi5heGlzKSl9fXJldHVybiBuLmVwc2lsb249bnVsbD09dC5lcHNpbG9uPy4wMDE6dC5lcHNpbG9uLG4uY2VudGVyPW51bGw9PXQuY2VudGVyfHx0LmNlbnRlcixuLnNjYWxlPW51bGw9PXQuc2NhbGV8fHQuc2NhbGUsbi5iZXRhSW5pdGlhbGl6ZXI9Z2V0SW5pdGlhbGl6ZXIodC5iZXRhSW5pdGlhbGl6ZXJ8fFwiemVyb3NcIiksbi5nYW1tYUluaXRpYWxpemVyPWdldEluaXRpYWxpemVyKHQuZ2FtbWFJbml0aWFsaXplcnx8XCJvbmVzXCIpLG4uYmV0YVJlZ3VsYXJpemVyPWdldFJlZ3VsYXJpemVyKHQuYmV0YVJlZ3VsYXJpemVyKSxuLmdhbW1hUmVndWxhcml6ZXI9Z2V0UmVndWxhcml6ZXIodC5nYW1tYVJlZ3VsYXJpemVyKSxuLnN1cHBvcnRzTWFza2luZz0hMCxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbihlKXt2YXIgdD0oZT1nZXRFeGFjdGx5T25lU2hhcGUoZSkpLmxlbmd0aDtcIm51bWJlclwiPT10eXBlb2YgdGhpcy5heGlzJiYodGhpcy5heGlzPVt0aGlzLmF4aXNdKTtmb3IodmFyIG49MDtuPHRoaXMuYXhpcy5sZW5ndGg7KytuKXRoaXMuYXhpc1tuXTwwJiYodGhpcy5heGlzW25dKz10KTtmb3IodmFyIHI9MCxpPXRoaXMuYXhpcztyPGkubGVuZ3RoO3IrKyl7dmFyIGE9aVtyXTtpZihhPDB8fGE+PXQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBheGlzOiBcIithKX1pZih0aGlzLmF4aXMubGVuZ3RoIT09dW5pcXVlKHRoaXMuYXhpcykubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkZvdW5kIGR1cGxpY2F0ZSBheGVzIGluOiBcIit0aGlzLmF4aXMpO3ZhciBvPXRoaXMuYXhpcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KTt0aGlzLnNjYWxlP3RoaXMuZ2FtbWE9dGhpcy5hZGRXZWlnaHQoXCJnYW1tYVwiLG8sXCJmbG9hdDMyXCIsdGhpcy5nYW1tYUluaXRpYWxpemVyLHRoaXMuZ2FtbWFSZWd1bGFyaXplciwhMCk6dGhpcy5nYW1tYT1udWxsLHRoaXMuY2VudGVyP3RoaXMuYmV0YT10aGlzLmFkZFdlaWdodChcImJldGFcIixvLFwiZmxvYXQzMlwiLHRoaXMuYmV0YUluaXRpYWxpemVyLHRoaXMuYmV0YVJlZ3VsYXJpemVyLCEwKTp0aGlzLmJldGE9bnVsbCx0aGlzLmJ1aWx0PSEwfSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPWdldEV4YWN0bHlPbmVUZW5zb3IoZSksaT1yLnNoYXBlLGE9aS5sZW5ndGg7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtmb3IodmFyIGU9bW9tZW50cyhyLG4uYXhpcywhMCksdD1lLm1lYW4sbz1lLnZhcmlhbmNlLHM9cHlMaXN0UmVwZWF0KDEsYSksbD0wLHU9bi5heGlzO2w8dS5sZW5ndGg7bCsrKXt2YXIgYz11W2xdO3NbY109aVtjXX1mb3IodmFyIHA9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJmUuc2hhcGUubGVuZ3RoIT09YSYmbi5heGlzIT09W2EtMV0/ZS5yZXNoYXBlKHMpOmV9LGg9cChuLmdhbW1hLnJlYWQoKSksZD1wKG4uYmV0YS5yZWFkKCkpLGY9W10sZz1bXSxtPTA7bTxhOysrbSktMSE9PW4uYXhpcy5pbmRleE9mKG0pPyhmLnB1c2goaVttXSksZy5wdXNoKDEpKTooZi5wdXNoKDEpLGcucHVzaChpW21dKSk7cmV0dXJuIHQ9dC50aWxlKGYpLG89by50aWxlKGYpLGg9aC50aWxlKGcpLGQ9ZC50aWxlKGcpLGJhdGNoTm9ybWFsaXphdGlvbihyLHQsbyxkLGgsbi5lcHNpbG9uKX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17YXhpczp0aGlzLmF4aXMsZXBzaWxvbjp0aGlzLmVwc2lsb24sY2VudGVyOnRoaXMuY2VudGVyLHNjYWxlOnRoaXMuc2NhbGUsYmV0YUluaXRpYWxpemVyOnNlcmlhbGl6ZUluaXRpYWxpemVyKHRoaXMuYmV0YUluaXRpYWxpemVyKSxnYW1tYUluaXRpYWxpemVyOnNlcmlhbGl6ZUluaXRpYWxpemVyKHRoaXMuZ2FtbWFJbml0aWFsaXplciksYmV0YVJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuYmV0YVJlZ3VsYXJpemVyKSxnYW1tYVJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuZ2FtbWFSZWd1bGFyaXplcil9LG49ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxuKSx0fSx0LmNsYXNzTmFtZT1cIkxheWVyTm9ybWFsaXphdGlvblwiLHR9KExheWVyKTtmdW5jdGlvbiBzcGF0aWFsMmRQYWRkaW5nKGUsdCxuKXtyZXR1cm4gdGlkeShmdW5jdGlvbigpe2lmKDQhPT1lLnJhbmspdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJ0ZW1wb3JhbFBhZGRpbmcgZXhwZWN0cyBpbnB1dCB0ZW5zb3IgdG8gYmUgNC1ELCBidXQgcmVjZWl2ZWQgYSBcIitlLnJhbmsrXCItRCB0ZW5zb3IuXCIpO2lmKG51bGw9PXQmJih0PVtbMSwxXSxbMSwxXV0pLDIhPT10Lmxlbmd0aHx8MiE9PXRbMF0ubGVuZ3RofHwyIT09dFsxXS5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJzcGF0aWFsMmRQYWRkaW5nIGV4cGVjdHMgYHBhZGRpbmdgIHRvIGJlIGFuIEFycmF5IG9mIHR3byBBcnJheXMsIGVhY2ggb2Ygd2hpY2ggaXMgYW4gQXJyYXkgb2YgdHdvIGludGVnZXJzLlwiKTtpZihudWxsPT1uJiYobj1pbWFnZURhdGFGb3JtYXQoKSksXCJjaGFubmVsc0xhc3RcIiE9PW4mJlwiY2hhbm5lbHNGaXJzdFwiIT09bil0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlVua25vd24gZGF0YSBmb3JtYXQ6IFwiK24rXCIuIFN1cHBvcnRlZCBkYXRhIGZvcm1hdHMgYXJlICdjaGFubmVsc0xhc3QnIGFuZCAnY2hhbm5lbHNGaXJzdC5cIik7dmFyIHI7cmV0dXJuIHI9XCJjaGFubmVsc0ZpcnN0XCI9PT1uP1tbMCwwXSxbMCwwXSx0WzBdLHRbMV1dOltbMCwwXSx0WzBdLHRbMV0sWzAsMF1dLHBhZChlLHIpfSl9c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKExheWVyTm9ybWFsaXphdGlvbik7dmFyIFplcm9QYWRkaW5nMkQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj10aGlzO2lmKG51bGw9PXQmJih0PXt9KSwobj1lLmNhbGwodGhpcyx0KXx8dGhpcykuZGF0YUZvcm1hdD1udWxsPT10LmRhdGFGb3JtYXQ/aW1hZ2VEYXRhRm9ybWF0KCk6dC5kYXRhRm9ybWF0LG51bGw9PXQucGFkZGluZyluLnBhZGRpbmc9W1sxLDFdLFsxLDFdXTtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiB0LnBhZGRpbmcpbi5wYWRkaW5nPVtbdC5wYWRkaW5nLHQucGFkZGluZ10sW3QucGFkZGluZyx0LnBhZGRpbmddXTtlbHNle2lmKHQucGFkZGluZz10LnBhZGRpbmcsMiE9PXQucGFkZGluZy5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJaZXJvUGFkZGluZzJEIGV4cGVjdHMgcGFkZGluZyB0byBiZSBhIGxlbmd0aC0yIGFycmF5LCBidXQgcmVjZWl2ZWQgYSBsZW5ndGgtXCIrdC5wYWRkaW5nLmxlbmd0aCtcIiBhcnJheS5cIik7dmFyIHI9dm9pZCAwLGk9dm9pZCAwO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0LnBhZGRpbmdbMF0pcj1bdC5wYWRkaW5nWzBdLHQucGFkZGluZ1swXV0saT1bdC5wYWRkaW5nWzFdLHQucGFkZGluZ1sxXV07ZWxzZXtpZih0LnBhZGRpbmc9dC5wYWRkaW5nLDIhPT10LnBhZGRpbmdbMF0ubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiWmVyb1BhZGRpbmcyRCBleHBlY3RzIGhlaWdodCBwYWRkaW5nIHRvIGJlIGEgbGVuZ3RoLTIgYXJyYXksIGJ1dCByZWNlaXZlZCBhIGxlbmd0aC1cIit0LnBhZGRpbmdbMF0ubGVuZ3RoK1wiIGFycmF5LlwiKTtpZihyPXQucGFkZGluZ1swXSwyIT09dC5wYWRkaW5nWzFdLmxlbmd0aCl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlplcm9QYWRkaW5nMkQgZXhwZWN0cyB3aWR0aCBwYWRkaW5nIHRvIGJlIGEgbGVuZ3RoLTIgYXJyYXksIGJ1dCByZWNlaXZlZCBhIGxlbmd0aC1cIit0LnBhZGRpbmdbMV0ubGVuZ3RoK1wiIGFycmF5LlwiKTtpPXQucGFkZGluZ1sxXX1uLnBhZGRpbmc9W3IsaV19cmV0dXJuIG4uaW5wdXRTcGVjPVtuZXcgSW5wdXRTcGVjKHtuZGltOjR9KV0sbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGU9Z2V0RXhhY3RseU9uZVNoYXBlKGUpLFwiY2hhbm5lbHNGaXJzdFwiPT09dGhpcy5kYXRhRm9ybWF0Pyh0PW51bGwhPWVbMl0mJmVbMl0+PTA/ZVsyXSt0aGlzLnBhZGRpbmdbMF1bMF0rdGhpcy5wYWRkaW5nWzBdWzFdOm51bGwsbj1udWxsIT1lWzNdJiZlWzNdPj0wP2VbM10rdGhpcy5wYWRkaW5nWzFdWzBdK3RoaXMucGFkZGluZ1sxXVsxXTpudWxsLFtlWzBdLGVbMV0sdCxuXSk6KHQ9bnVsbCE9ZVsxXSYmZVsxXT49MD9lWzFdK3RoaXMucGFkZGluZ1swXVswXSt0aGlzLnBhZGRpbmdbMF1bMV06bnVsbCxuPW51bGwhPWVbMl0mJmVbMl0+PTA/ZVsyXSt0aGlzLnBhZGRpbmdbMV1bMF0rdGhpcy5wYWRkaW5nWzFdWzFdOm51bGwsW2VbMF0sdCxuLGVbM11dKX0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtyZXR1cm4gc3BhdGlhbDJkUGFkZGluZyhnZXRFeGFjdGx5T25lVGVuc29yKGUpLG4ucGFkZGluZyxuLmRhdGFGb3JtYXQpfSl9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXtwYWRkaW5nOnRoaXMucGFkZGluZyxkYXRhRm9ybWF0OnRoaXMuZGF0YUZvcm1hdH0sbj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LG4pLHR9LHQuY2xhc3NOYW1lPVwiWmVyb1BhZGRpbmcyRFwiLHR9KExheWVyKTtmdW5jdGlvbiBwb29sMmQoZSx0LG4scixpLGEpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIG87Y2hlY2tEYXRhRm9ybWF0KGkpLGNoZWNrUG9vbE1vZGUoYSksY2hlY2tQYWRkaW5nTW9kZShyKSxudWxsPT1uJiYobj1bMSwxXSksbnVsbD09ciYmKHI9XCJ2YWxpZFwiKSxudWxsPT1pJiYoaT1pbWFnZURhdGFGb3JtYXQoKSksbnVsbD09YSYmKGE9XCJtYXhcIiksZT1wcmVwcm9jZXNzQ29udjJESW5wdXQoZSxpKTt2YXIgcz1cInNhbWVcIj09PXI/XCJzYW1lXCI6XCJ2YWxpZFwiO3JldHVybiBvPVwibWF4XCI9PT1hP21heFBvb2woZSx0LG4scyk6YXZnUG9vbChlLHQsbixzKSxcImNoYW5uZWxzRmlyc3RcIj09PWkmJihvPXRyYW5zcG9zZShvLFswLDMsMSwyXSkpLG99KX1mdW5jdGlvbiBwb29sM2QoZSx0LG4scixpLGEpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIG87Y2hlY2tEYXRhRm9ybWF0KGkpLGNoZWNrUG9vbE1vZGUoYSksY2hlY2tQYWRkaW5nTW9kZShyKSxudWxsPT1uJiYobj1bMSwxLDFdKSxudWxsPT1yJiYocj1cInZhbGlkXCIpLG51bGw9PWkmJihpPWltYWdlRGF0YUZvcm1hdCgpKSxudWxsPT1hJiYoYT1cIm1heFwiKSxlPXByZXByb2Nlc3NDb252M0RJbnB1dChlLGkpO3ZhciBzPVwic2FtZVwiPT09cj9cInNhbWVcIjpcInZhbGlkXCI7cmV0dXJuIG89XCJtYXhcIj09PWE/bWF4UG9vbDNkKGUsdCxuLHMpOmF2Z1Bvb2wzZChlLHQsbixzKSxcImNoYW5uZWxzRmlyc3RcIj09PWkmJihvPXRyYW5zcG9zZShvLFswLDQsMSwyLDNdKSksb30pfXNlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhaZXJvUGFkZGluZzJEKTt2YXIgUG9vbGluZzFEPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49dGhpcztpZihudWxsPT10LnBvb2xTaXplJiYodC5wb29sU2l6ZT0yKSxuPWUuY2FsbCh0aGlzLHQpfHx0aGlzLFwibnVtYmVyXCI9PXR5cGVvZiB0LnBvb2xTaXplKW4ucG9vbFNpemU9W3QucG9vbFNpemVdO2Vsc2V7aWYoIUFycmF5LmlzQXJyYXkodC5wb29sU2l6ZSl8fDEhPT10LnBvb2xTaXplLmxlbmd0aHx8XCJudW1iZXJcIiE9dHlwZW9mIHQucG9vbFNpemVbMF0pdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJwb29sU2l6ZSBmb3IgMUQgY29udm9sdXRpb25hbCBsYXllciBtdXN0IGJlIGEgbnVtYmVyIG9yIGFuIEFycmF5IG9mIGEgc2luZ2xlIG51bWJlciwgYnV0IHJlY2VpdmVkIFwiK0pTT04uc3RyaW5naWZ5KHQucG9vbFNpemUpKTtuLnBvb2xTaXplPXQucG9vbFNpemV9aWYoYXNzZXJ0UG9zaXRpdmVJbnRlZ2VyKG4ucG9vbFNpemUsXCJwb29sU2l6ZVwiKSxudWxsPT10LnN0cmlkZXMpbi5zdHJpZGVzPW4ucG9vbFNpemU7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgdC5zdHJpZGVzKW4uc3RyaWRlcz1bdC5zdHJpZGVzXTtlbHNle2lmKCFBcnJheS5pc0FycmF5KHQuc3RyaWRlcyl8fDEhPT10LnN0cmlkZXMubGVuZ3RofHxcIm51bWJlclwiIT10eXBlb2YgdC5zdHJpZGVzWzBdKXRocm93IG5ldyBWYWx1ZUVycm9yKFwic3RyaWRlcyBmb3IgMUQgY29udm9sdXRpb25hbCBsYXllciBtdXN0IGJlIGEgbnVtYmVyIG9yIGFuIEFycmF5IG9mIGEgc2luZ2xlIG51bWJlciwgYnV0IHJlY2VpdmVkIFwiK0pTT04uc3RyaW5naWZ5KHQuc3RyaWRlcykpO24uc3RyaWRlcz10LnN0cmlkZXN9cmV0dXJuIGFzc2VydFBvc2l0aXZlSW50ZWdlcihuLnN0cmlkZXMsXCJzdHJpZGVzXCIpLG4ucGFkZGluZz1udWxsPT10LnBhZGRpbmc/XCJ2YWxpZFwiOnQucGFkZGluZyxjaGVja1BhZGRpbmdNb2RlKG4ucGFkZGluZyksbi5pbnB1dFNwZWM9W25ldyBJbnB1dFNwZWMoe25kaW06M30pXSxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5jb21wdXRlT3V0cHV0U2hhcGU9ZnVuY3Rpb24oZSl7dmFyIHQ9Y29udk91dHB1dExlbmd0aCgoZT1nZXRFeGFjdGx5T25lU2hhcGUoZSkpWzFdLHRoaXMucG9vbFNpemVbMF0sdGhpcy5wYWRkaW5nLHRoaXMuc3RyaWRlc1swXSk7cmV0dXJuW2VbMF0sdCxlWzJdXX0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtuLmludm9rZUNhbGxIb29rKGUsdCksZT1leHBhbmREaW1zJDEoZ2V0RXhhY3RseU9uZVRlbnNvcihlKSwyKTt2YXIgcj1uLnBvb2xpbmdGdW5jdGlvbihnZXRFeGFjdGx5T25lVGVuc29yKGUpLFtuLnBvb2xTaXplWzBdLDFdLFtuLnN0cmlkZXNbMF0sMV0sbi5wYWRkaW5nLFwiY2hhbm5lbHNMYXN0XCIpO3JldHVybiBzcXVlZXplKHIsWzJdKX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17cG9vbFNpemU6dGhpcy5wb29sU2l6ZSxwYWRkaW5nOnRoaXMucGFkZGluZyxzdHJpZGVzOnRoaXMuc3RyaWRlc30sbj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LG4pLHR9LHR9KExheWVyKSxNYXhQb29saW5nMUQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnBvb2xpbmdGdW5jdGlvbj1mdW5jdGlvbihlLHQsbixyLGkpe3JldHVybiBjaGVja0RhdGFGb3JtYXQoaSksY2hlY2tQYWRkaW5nTW9kZShyKSxwb29sMmQoZSx0LG4scixpLFwibWF4XCIpfSx0LmNsYXNzTmFtZT1cIk1heFBvb2xpbmcxRFwiLHR9KFBvb2xpbmcxRCk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKE1heFBvb2xpbmcxRCk7dmFyIEF2ZXJhZ2VQb29saW5nMUQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnBvb2xpbmdGdW5jdGlvbj1mdW5jdGlvbihlLHQsbixyLGkpe3JldHVybiBjaGVja0RhdGFGb3JtYXQoaSksY2hlY2tQYWRkaW5nTW9kZShyKSxwb29sMmQoZSx0LG4scixpLFwiYXZnXCIpfSx0LmNsYXNzTmFtZT1cIkF2ZXJhZ2VQb29saW5nMURcIix0fShQb29saW5nMUQpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhBdmVyYWdlUG9vbGluZzFEKTt2YXIgUG9vbGluZzJEPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49dGhpcztpZihudWxsPT10LnBvb2xTaXplJiYodC5wb29sU2l6ZT1bMiwyXSksKG49ZS5jYWxsKHRoaXMsdCl8fHRoaXMpLnBvb2xTaXplPUFycmF5LmlzQXJyYXkodC5wb29sU2l6ZSk/dC5wb29sU2l6ZTpbdC5wb29sU2l6ZSx0LnBvb2xTaXplXSxudWxsPT10LnN0cmlkZXMpbi5zdHJpZGVzPW4ucG9vbFNpemU7ZWxzZSBpZihBcnJheS5pc0FycmF5KHQuc3RyaWRlcykpe2lmKDIhPT10LnN0cmlkZXMubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiSWYgdGhlIHN0cmlkZXMgcHJvcGVydHkgb2YgYSAyRCBwb29saW5nIGxheWVyIGlzIGFuIEFycmF5LCBpdCBpcyBleHBlY3RlZCB0byBoYXZlIGEgbGVuZ3RoIG9mIDIsIGJ1dCByZWNlaXZlZCBsZW5ndGggXCIrdC5zdHJpZGVzLmxlbmd0aCtcIi5cIik7bi5zdHJpZGVzPXQuc3RyaWRlc31lbHNlIG4uc3RyaWRlcz1bdC5zdHJpZGVzLHQuc3RyaWRlc107cmV0dXJuIGFzc2VydFBvc2l0aXZlSW50ZWdlcihuLnBvb2xTaXplLFwicG9vbFNpemVcIiksYXNzZXJ0UG9zaXRpdmVJbnRlZ2VyKG4uc3RyaWRlcyxcInN0cmlkZXNcIiksbi5wYWRkaW5nPW51bGw9PXQucGFkZGluZz9cInZhbGlkXCI6dC5wYWRkaW5nLG4uZGF0YUZvcm1hdD1udWxsPT10LmRhdGFGb3JtYXQ/XCJjaGFubmVsc0xhc3RcIjp0LmRhdGFGb3JtYXQsY2hlY2tEYXRhRm9ybWF0KG4uZGF0YUZvcm1hdCksY2hlY2tQYWRkaW5nTW9kZShuLnBhZGRpbmcpLG4uaW5wdXRTcGVjPVtuZXcgSW5wdXRTcGVjKHtuZGltOjR9KV0sbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe2U9Z2V0RXhhY3RseU9uZVNoYXBlKGUpO3ZhciB0PVwiY2hhbm5lbHNGaXJzdFwiPT09dGhpcy5kYXRhRm9ybWF0P2VbMl06ZVsxXSxuPVwiY2hhbm5lbHNGaXJzdFwiPT09dGhpcy5kYXRhRm9ybWF0P2VbM106ZVsyXTtyZXR1cm4gdD1jb252T3V0cHV0TGVuZ3RoKHQsdGhpcy5wb29sU2l6ZVswXSx0aGlzLnBhZGRpbmcsdGhpcy5zdHJpZGVzWzBdKSxuPWNvbnZPdXRwdXRMZW5ndGgobix0aGlzLnBvb2xTaXplWzFdLHRoaXMucGFkZGluZyx0aGlzLnN0cmlkZXNbMV0pLFwiY2hhbm5lbHNGaXJzdFwiPT09dGhpcy5kYXRhRm9ybWF0P1tlWzBdLGVbMV0sdCxuXTpbZVswXSx0LG4sZVszXV19LHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7cmV0dXJuIG4uaW52b2tlQ2FsbEhvb2soZSx0KSxuLnBvb2xpbmdGdW5jdGlvbihnZXRFeGFjdGx5T25lVGVuc29yKGUpLG4ucG9vbFNpemUsbi5zdHJpZGVzLG4ucGFkZGluZyxuLmRhdGFGb3JtYXQpfSl9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXtwb29sU2l6ZTp0aGlzLnBvb2xTaXplLHBhZGRpbmc6dGhpcy5wYWRkaW5nLHN0cmlkZXM6dGhpcy5zdHJpZGVzLGRhdGFGb3JtYXQ6dGhpcy5kYXRhRm9ybWF0fSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdH0oTGF5ZXIpLE1heFBvb2xpbmcyRD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyx0KXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucG9vbGluZ0Z1bmN0aW9uPWZ1bmN0aW9uKGUsdCxuLHIsaSl7cmV0dXJuIGNoZWNrRGF0YUZvcm1hdChpKSxjaGVja1BhZGRpbmdNb2RlKHIpLHBvb2wyZChlLHQsbixyLGksXCJtYXhcIil9LHQuY2xhc3NOYW1lPVwiTWF4UG9vbGluZzJEXCIsdH0oUG9vbGluZzJEKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoTWF4UG9vbGluZzJEKTt2YXIgQXZlcmFnZVBvb2xpbmcyRD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyx0KXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucG9vbGluZ0Z1bmN0aW9uPWZ1bmN0aW9uKGUsdCxuLHIsaSl7cmV0dXJuIGNoZWNrRGF0YUZvcm1hdChpKSxjaGVja1BhZGRpbmdNb2RlKHIpLHBvb2wyZChlLHQsbixyLGksXCJhdmdcIil9LHQuY2xhc3NOYW1lPVwiQXZlcmFnZVBvb2xpbmcyRFwiLHR9KFBvb2xpbmcyRCk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEF2ZXJhZ2VQb29saW5nMkQpO3ZhciBQb29saW5nM0Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj10aGlzO2lmKG51bGw9PXQucG9vbFNpemUmJih0LnBvb2xTaXplPVsyLDIsMl0pLChuPWUuY2FsbCh0aGlzLHQpfHx0aGlzKS5wb29sU2l6ZT1BcnJheS5pc0FycmF5KHQucG9vbFNpemUpP3QucG9vbFNpemU6W3QucG9vbFNpemUsdC5wb29sU2l6ZSx0LnBvb2xTaXplXSxudWxsPT10LnN0cmlkZXMpbi5zdHJpZGVzPW4ucG9vbFNpemU7ZWxzZSBpZihBcnJheS5pc0FycmF5KHQuc3RyaWRlcykpe2lmKDMhPT10LnN0cmlkZXMubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiSWYgdGhlIHN0cmlkZXMgcHJvcGVydHkgb2YgYSAzRCBwb29saW5nIGxheWVyIGlzIGFuIEFycmF5LCBpdCBpcyBleHBlY3RlZCB0byBoYXZlIGEgbGVuZ3RoIG9mIDMsIGJ1dCByZWNlaXZlZCBsZW5ndGggXCIrdC5zdHJpZGVzLmxlbmd0aCtcIi5cIik7bi5zdHJpZGVzPXQuc3RyaWRlc31lbHNlIG4uc3RyaWRlcz1bdC5zdHJpZGVzLHQuc3RyaWRlcyx0LnN0cmlkZXNdO3JldHVybiBhc3NlcnRQb3NpdGl2ZUludGVnZXIobi5wb29sU2l6ZSxcInBvb2xTaXplXCIpLGFzc2VydFBvc2l0aXZlSW50ZWdlcihuLnN0cmlkZXMsXCJzdHJpZGVzXCIpLG4ucGFkZGluZz1udWxsPT10LnBhZGRpbmc/XCJ2YWxpZFwiOnQucGFkZGluZyxuLmRhdGFGb3JtYXQ9bnVsbD09dC5kYXRhRm9ybWF0P1wiY2hhbm5lbHNMYXN0XCI6dC5kYXRhRm9ybWF0LGNoZWNrRGF0YUZvcm1hdChuLmRhdGFGb3JtYXQpLGNoZWNrUGFkZGluZ01vZGUobi5wYWRkaW5nKSxuLmlucHV0U3BlYz1bbmV3IElucHV0U3BlYyh7bmRpbTo1fSldLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNvbXB1dGVPdXRwdXRTaGFwZT1mdW5jdGlvbihlKXtlPWdldEV4YWN0bHlPbmVTaGFwZShlKTt2YXIgdD1cImNoYW5uZWxzRmlyc3RcIj09PXRoaXMuZGF0YUZvcm1hdD9lWzJdOmVbMV0sbj1cImNoYW5uZWxzRmlyc3RcIj09PXRoaXMuZGF0YUZvcm1hdD9lWzNdOmVbMl0scj1cImNoYW5uZWxzRmlyc3RcIj09PXRoaXMuZGF0YUZvcm1hdD9lWzRdOmVbM107cmV0dXJuIHQ9Y29udk91dHB1dExlbmd0aCh0LHRoaXMucG9vbFNpemVbMF0sdGhpcy5wYWRkaW5nLHRoaXMuc3RyaWRlc1swXSksbj1jb252T3V0cHV0TGVuZ3RoKG4sdGhpcy5wb29sU2l6ZVsxXSx0aGlzLnBhZGRpbmcsdGhpcy5zdHJpZGVzWzFdKSxyPWNvbnZPdXRwdXRMZW5ndGgocix0aGlzLnBvb2xTaXplWzJdLHRoaXMucGFkZGluZyx0aGlzLnN0cmlkZXNbMl0pLFwiY2hhbm5lbHNGaXJzdFwiPT09dGhpcy5kYXRhRm9ybWF0P1tlWzBdLGVbMV0sdCxuLHJdOltlWzBdLHQsbixyLGVbNF1dfSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBuLmludm9rZUNhbGxIb29rKGUsdCksbi5wb29saW5nRnVuY3Rpb24oZ2V0RXhhY3RseU9uZVRlbnNvcihlKSxuLnBvb2xTaXplLG4uc3RyaWRlcyxuLnBhZGRpbmcsbi5kYXRhRm9ybWF0KX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17cG9vbFNpemU6dGhpcy5wb29sU2l6ZSxwYWRkaW5nOnRoaXMucGFkZGluZyxzdHJpZGVzOnRoaXMuc3RyaWRlcyxkYXRhRm9ybWF0OnRoaXMuZGF0YUZvcm1hdH0sbj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LG4pLHR9LHR9KExheWVyKSxNYXhQb29saW5nM0Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnBvb2xpbmdGdW5jdGlvbj1mdW5jdGlvbihlLHQsbixyLGkpe3JldHVybiBjaGVja0RhdGFGb3JtYXQoaSksY2hlY2tQYWRkaW5nTW9kZShyKSxwb29sM2QoZSx0LG4scixpLFwibWF4XCIpfSx0LmNsYXNzTmFtZT1cIk1heFBvb2xpbmczRFwiLHR9KFBvb2xpbmczRCk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKE1heFBvb2xpbmczRCk7dmFyIEF2ZXJhZ2VQb29saW5nM0Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnBvb2xpbmdGdW5jdGlvbj1mdW5jdGlvbihlLHQsbixyLGkpe3JldHVybiBjaGVja0RhdGFGb3JtYXQoaSksY2hlY2tQYWRkaW5nTW9kZShyKSxwb29sM2QoZSx0LG4scixpLFwiYXZnXCIpfSx0LmNsYXNzTmFtZT1cIkF2ZXJhZ2VQb29saW5nM0RcIix0fShQb29saW5nM0QpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhBdmVyYWdlUG9vbGluZzNEKTt2YXIgR2xvYmFsUG9vbGluZzFEPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4uaW5wdXRTcGVjPVtuZXcgSW5wdXRTcGVjKHtuZGltOjN9KV0sbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3JldHVybltlWzBdLGVbMl1dfSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3J9LHR9KExheWVyKSxHbG9iYWxBdmVyYWdlUG9vbGluZzFEPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuY2FsbCh0aGlzLHR8fHt9KXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIHQ9Z2V0RXhhY3RseU9uZVRlbnNvcihlKTtyZXR1cm4gbWVhbih0LDEpfSl9LHQuY2xhc3NOYW1lPVwiR2xvYmFsQXZlcmFnZVBvb2xpbmcxRFwiLHR9KEdsb2JhbFBvb2xpbmcxRCk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEdsb2JhbEF2ZXJhZ2VQb29saW5nMUQpO3ZhciBHbG9iYWxNYXhQb29saW5nMUQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdHx8e30pfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgdD1nZXRFeGFjdGx5T25lVGVuc29yKGUpO3JldHVybiBtYXgodCwxKX0pfSx0LmNsYXNzTmFtZT1cIkdsb2JhbE1heFBvb2xpbmcxRFwiLHR9KEdsb2JhbFBvb2xpbmcxRCk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEdsb2JhbE1heFBvb2xpbmcxRCk7dmFyIEdsb2JhbFBvb2xpbmcyRD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLmRhdGFGb3JtYXQ9bnVsbD09dC5kYXRhRm9ybWF0P1wiY2hhbm5lbHNMYXN0XCI6dC5kYXRhRm9ybWF0LGNoZWNrRGF0YUZvcm1hdChuLmRhdGFGb3JtYXQpLG4uaW5wdXRTcGVjPVtuZXcgSW5wdXRTcGVjKHtuZGltOjR9KV0sbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUsXCJjaGFubmVsc0xhc3RcIj09PXRoaXMuZGF0YUZvcm1hdD9bZVswXSxlWzNdXTpbZVswXSxlWzFdXX0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3Rocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17ZGF0YUZvcm1hdDp0aGlzLmRhdGFGb3JtYXR9LG49ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxuKSx0fSx0fShMYXllciksR2xvYmFsQXZlcmFnZVBvb2xpbmcyRD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgdD1nZXRFeGFjdGx5T25lVGVuc29yKGUpO3JldHVyblwiY2hhbm5lbHNMYXN0XCI9PT1uLmRhdGFGb3JtYXQ/bWVhbih0LFsxLDJdKTptZWFuKHQsWzIsM10pfSl9LHQuY2xhc3NOYW1lPVwiR2xvYmFsQXZlcmFnZVBvb2xpbmcyRFwiLHR9KEdsb2JhbFBvb2xpbmcyRCk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEdsb2JhbEF2ZXJhZ2VQb29saW5nMkQpO3ZhciBHbG9iYWxNYXhQb29saW5nMkQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7dmFyIHQ9Z2V0RXhhY3RseU9uZVRlbnNvcihlKTtyZXR1cm5cImNoYW5uZWxzTGFzdFwiPT09bi5kYXRhRm9ybWF0P21heCh0LFsxLDJdKTptYXgodCxbMiwzXSl9KX0sdC5jbGFzc05hbWU9XCJHbG9iYWxNYXhQb29saW5nMkRcIix0fShHbG9iYWxQb29saW5nMkQpO2Z1bmN0aW9uIHN0YW5kYXJkaXplQXJncyhlLHQsbixyKXtpZihBcnJheS5pc0FycmF5KGUpKXtpZihudWxsIT10fHxudWxsIT1uKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiV2hlbiBpbnB1dHMgaXMgYW4gYXJyYXksIG5laXRoZXIgaW5pdGlhbFN0YXRlIG9yIGNvbnN0YW50cyBzaG91bGQgYmUgcHJvdmlkZWRcIik7bnVsbCE9ciYmKG49ZS5zbGljZShlLmxlbmd0aC1yLGUubGVuZ3RoKSxlPWUuc2xpY2UoMCxlLmxlbmd0aC1yKSksZS5sZW5ndGg+MSYmKHQ9ZS5zbGljZSgxLGUubGVuZ3RoKSksZT1lWzBdfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIG51bGw9PWV8fEFycmF5LmlzQXJyYXkoZSk/ZTpbZV19cmV0dXJue2lucHV0czplLGluaXRpYWxTdGF0ZTp0PWkodCksY29uc3RhbnRzOm49aShuKX19ZnVuY3Rpb24gcm5uKGUsdCxuLHIsaSxhLG8scyl7cmV0dXJuIHZvaWQgMD09PXImJihyPSExKSx2b2lkIDA9PT1vJiYobz0hMSksdm9pZCAwPT09cyYmKHM9ITEpLHRpZHkoZnVuY3Rpb24oKXt2YXIgbD10LnNoYXBlLmxlbmd0aDtpZihsPDMpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJbnB1dCBzaG91bGQgYmUgYXQgbGVhc3QgM0QsIGJ1dCBpcyBcIitsK1wiRC5cIik7dmFyIHU9WzEsMF0uY29uY2F0KHJhbmdlKDIsbCkpO2lmKHQ9dHJhbnNwb3NlKHQsdSksbnVsbCE9YSl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcIlRoZSBybm4oKSBmdW5jdG9pbiBvZiB0aGUgZGVlcGxlYXJuLmpzIGJhY2tlbmQgZG9lcyBub3Qgc3VwcG9ydCBjb25zdGFudHMgeWV0LlwiKTtvJiZjb25zb2xlLndhcm4oXCJCYWNrZW5kIHJubigpOiB0aGUgdW5yb2xsID0gdHJ1ZSBvcHRpb24gaXMgbm90IGFwcGxpY2FibGUgdG8gdGhlIGltcGVyYXRpdmUgZGVlcGxlYXJuLmpzIGJhY2tlbmQuXCIpLG51bGwhPWkmJigoaT1pLmFzVHlwZShcImJvb2xcIikuYXNUeXBlKFwiZmxvYXQzMlwiKSkucmFuaz09PWwtMSYmKGk9ZXhwYW5kRGltcyhpLC0xKSksaT10cmFuc3Bvc2UoaSx1KSksciYmKHQ9cmV2ZXJzZSh0LDApLG51bGwhPWkmJihpPXJldmVyc2UoaSwwKSkpO3ZhciBjLHAsaD1bXSxkPW4sZj10LnNoYXBlWzBdLGc9dW5zdGFjayh0KTtudWxsIT1pJiYocD11bnN0YWNrKGkpKTtmb3IodmFyIG0seT1mdW5jdGlvbih0KXt2YXIgbj1nW3RdLHI9dGlkeShmdW5jdGlvbigpe3JldHVybiBlKG4sZCl9KTtpZihudWxsPT1pKWM9clswXSxkPXJbMV07ZWxzZXt2YXIgYT10aWR5KGZ1bmN0aW9uKCl7dmFyIGU9cFt0XSxuPW9uZXNMaWtlKGUpLnN1YihlKTtyZXR1cm57b3V0cHV0OnJbMF0ubXVsKGUpLmFkZFN0cmljdChkWzBdLm11bChuKSksbmV3U3RhdGVzOmQubWFwKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHJbMV1baV0ubXVsKGUpLmFkZFN0cmljdCh0Lm11bChuKSl9KX19KTtjPWEub3V0cHV0LGQ9YS5uZXdTdGF0ZXN9cyYmaC5wdXNoKGMpfSx2PTA7djxmOysrdil5KHYpO2lmKHMpe209c3RhY2soaCwxKX1yZXR1cm5bYyxtLGRdfSl9c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEdsb2JhbE1heFBvb2xpbmcyRCk7dmFyIFJOTj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuLHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7aWYobnVsbD09dC5jZWxsKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiY2VsbCBwcm9wZXJ0eSBpcyBtaXNzaW5nIGZvciB0aGUgY29uc3RydWN0b3Igb2YgUk5OLlwiKTtpZihudWxsPT0obj1BcnJheS5pc0FycmF5KHQuY2VsbCk/bmV3IFN0YWNrZWRSTk5DZWxscyh7Y2VsbHM6dC5jZWxsfSk6dC5jZWxsKS5zdGF0ZVNpemUpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJUaGUgUk5OIGNlbGwgc2hvdWxkIGhhdmUgYW4gYXR0cmlidXRlIGBzdGF0ZVNpemVgICh0dXBsZSBvZiBpbnRlZ2Vycywgb25lIGludGVnZXIgcGVyIFJOTiBzdGF0ZSkuXCIpO3JldHVybiByLmNlbGw9bixyLnJldHVyblNlcXVlbmNlcz1udWxsIT10LnJldHVyblNlcXVlbmNlcyYmdC5yZXR1cm5TZXF1ZW5jZXMsci5yZXR1cm5TdGF0ZT1udWxsIT10LnJldHVyblN0YXRlJiZ0LnJldHVyblN0YXRlLHIuZ29CYWNrd2FyZHM9bnVsbCE9dC5nb0JhY2t3YXJkcyYmdC5nb0JhY2t3YXJkcyxyLl9zdGF0ZWZ1bD1udWxsIT10LnN0YXRlZnVsJiZ0LnN0YXRlZnVsLHIudW5yb2xsPW51bGwhPXQudW5yb2xsJiZ0LnVucm9sbCxyLnN1cHBvcnRzTWFza2luZz0hMCxyLmlucHV0U3BlYz1bbmV3IElucHV0U3BlYyh7bmRpbTozfSldLHIuc3RhdGVTcGVjPW51bGwsci5zdGF0ZXNfPW51bGwsci5udW1Db25zdGFudHM9bnVsbCxyLmtlcHRTdGF0ZXM9W10scn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuZ2V0U3RhdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMuc3RhdGVzXz9yYW5nZSgwLEFycmF5LmlzQXJyYXkodGhpcy5jZWxsLnN0YXRlU2l6ZSk/dGhpcy5jZWxsLnN0YXRlU2l6ZS5sZW5ndGg6MSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSk6dGhpcy5zdGF0ZXNffSx0LnByb3RvdHlwZS5zZXRTdGF0ZXM9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZXNfPWV9LHQucHJvdG90eXBlLmNvbXB1dGVPdXRwdXRTaGFwZT1mdW5jdGlvbihlKXtpc0FycmF5T2ZTaGFwZXMoZSkmJihlPWVbMF0pLGU9ZTt2YXIgdD10aGlzLmNlbGwuc3RhdGVTaXplO0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7dmFyIG4scj10WzBdO2lmKG49dGhpcy5yZXR1cm5TZXF1ZW5jZXM/W2VbMF0sZVsxXSxyXTpbZVswXSxyXSx0aGlzLnJldHVyblN0YXRlKXtmb3IodmFyIGk9W10sYT0wLG89dDthPG8ubGVuZ3RoO2ErKyl7dmFyIHM9b1thXTtpLnB1c2goW2VbMF0sc10pfXJldHVybltuXS5jb25jYXQoaSl9cmV0dXJuIG59LHQucHJvdG90eXBlLmNvbXB1dGVNYXNrPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe0FycmF5LmlzQXJyYXkodCkmJih0PXRbMF0pO3ZhciBlPW4ucmV0dXJuU2VxdWVuY2VzP3Q6bnVsbDtpZihuLnJldHVyblN0YXRlKXt2YXIgcj1uLnN0YXRlcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9KTtyZXR1cm5bZV0uY29uY2F0KHIpfXJldHVybiBlfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInN0YXRlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLnN0YXRlc18pe2Zvcih2YXIgZT1BcnJheS5pc0FycmF5KHRoaXMuY2VsbC5zdGF0ZVNpemUpP3RoaXMuY2VsbC5zdGF0ZVNpemUubGVuZ3RoOjEsdD1bXSxuPTA7bjxlOysrbil0LnB1c2gobnVsbCk7cmV0dXJuIHR9cmV0dXJuIHRoaXMuc3RhdGVzX30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuc3RhdGVzXz1lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKGUpe2lmKG51bGwhPXRoaXMubnVtQ29uc3RhbnRzKXRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKFwiQ29uc3RhbnRzIHN1cHBvcnQgaXMgbm90IGltcGxlbWVudGVkIGluIFJOTiB5ZXQuXCIpO2lzQXJyYXlPZlNoYXBlcyhlKSYmKGU9ZVswXSksZT1lO3ZhciB0PXRoaXMuc3RhdGVmdWw/ZVswXTpudWxsLG49ZVtlLmxlbmd0aC0xXTt0aGlzLmlucHV0U3BlY1swXT1uZXcgSW5wdXRTcGVjKHtzaGFwZTpbdCxudWxsLG5dfSk7dmFyIHIsaT1bZVswXV0uY29uY2F0KGUuc2xpY2UoMikpO2lmKHRoaXMuY2VsbC5idWlsZChpKSxyPUFycmF5LmlzQXJyYXkodGhpcy5jZWxsLnN0YXRlU2l6ZSk/dGhpcy5jZWxsLnN0YXRlU2l6ZTpbdGhpcy5jZWxsLnN0YXRlU2l6ZV0sbnVsbCE9dGhpcy5zdGF0ZVNwZWMpe2lmKCF1dGlsLmFycmF5c0VxdWFsKHRoaXMuc3RhdGVTcGVjLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zaGFwZVtlLnNoYXBlLmxlbmd0aC0xXX0pLHIpKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiQW4gaW5pdGlhbFN0YXRlIHdhcyBwYXNzZWQgdGhhdCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGNlbGwuc3RhdGVTaXplLiBSZWNlaXZlZCBzdGF0ZVNwZWM9XCIrdGhpcy5zdGF0ZVNwZWMrXCI7IEhvd2V2ZXIgY2VsbC5zdGF0ZVNpemUgaXMgXCIrdGhpcy5jZWxsLnN0YXRlU2l6ZSl9ZWxzZSB0aGlzLnN0YXRlU3BlYz1yLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IElucHV0U3BlYyh7c2hhcGU6W251bGwsZV19KX0pO3RoaXMuc3RhdGVmdWwmJnRoaXMucmVzZXRTdGF0ZXMoKX0sdC5wcm90b3R5cGUucmVzZXRTdGF0ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3ZvaWQgMD09PXQmJih0PSExKSx0aWR5KGZ1bmN0aW9uKCl7aWYoIW4uc3RhdGVmdWwpdGhyb3cgbmV3IEF0dHJpYnV0ZUVycm9yKFwiQ2Fubm90IGNhbGwgcmVzZXRTdGF0ZXMoKSBvbiBhbiBSTk4gTGF5ZXIgdGhhdCBpcyBub3Qgc3RhdGVmdWwuXCIpO3ZhciByPW4uaW5wdXRTcGVjWzBdLnNoYXBlWzBdO2lmKG51bGw9PXIpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJJZiBhbiBSTk4gaXMgc3RhdGVmdWwsIGl0IG5lZWRzIHRvIGtub3cgaXRzIGJhdGNoIHNpemUuIFNwZWNpZnkgdGhlIGJhdGNoIHNpemUgb2YgeW91ciBpbnB1dCB0ZW5zb3JzOiBcXG4tIElmIHVzaW5nIGEgU2VxdWVudGlhbCBtb2RlbCwgc3BlY2lmeSB0aGUgYmF0Y2ggc2l6ZSBieSBwYXNzaW5nIGEgYGJhdGNoSW5wdXRTaGFwZWAgb3B0aW9uIHRvIHlvdXIgZmlyc3QgbGF5ZXIuXFxuLSBJZiB1c2luZyB0aGUgZnVuY3Rpb25hbCBBUEksIHNwZWNpZnkgdGhlIGJhdGNoIHNpemUgYnkgcGFzc2luZyBhIGBiYXRjaFNoYXBlYCBvcHRpb24gdG8geW91ciBJbnB1dCBsYXllci5cIik7aWYobnVsbD09bi5zdGF0ZXNfKUFycmF5LmlzQXJyYXkobi5jZWxsLnN0YXRlU2l6ZSk/bi5zdGF0ZXNfPW4uY2VsbC5zdGF0ZVNpemUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB6ZXJvcyhbcixlXSl9KTpuLnN0YXRlc189W3plcm9zKFtyLG4uY2VsbC5zdGF0ZVNpemVdKV07ZWxzZSBpZihudWxsPT1lKWRpc3Bvc2Uobi5zdGF0ZXNfKSxudWxsIT1uLmtlcHRTdGF0ZXMmJihkaXNwb3NlKG4ua2VwdFN0YXRlcyksbi5rZXB0U3RhdGVzPVtdKSxBcnJheS5pc0FycmF5KG4uY2VsbC5zdGF0ZVNpemUpP24uc3RhdGVzXz1uLmNlbGwuc3RhdGVTaXplLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gemVyb3MoW3IsZV0pfSk6bi5zdGF0ZXNfWzBdPXplcm9zKFtyLG4uY2VsbC5zdGF0ZVNpemVdKTtlbHNle2lmKEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksZS5sZW5ndGghPT1uLnN0YXRlc18ubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiTGF5ZXIgXCIrbi5uYW1lK1wiIGV4cGVjdHMgXCIrbi5zdGF0ZXNfLmxlbmd0aCtcIiBzdGF0ZShzKSwgYnV0IGl0IHJlY2VpdmVkIFwiK2UubGVuZ3RoK1wiIHN0YXRlIHZhbHVlKHMpLiBJbnB1dCByZWNlaXZlZDogXCIrZSk7ITA9PT10P24ua2VwdFN0YXRlcy5wdXNoKG4uc3RhdGVzXy5zbGljZSgpKTpkaXNwb3NlKG4uc3RhdGVzXyk7Zm9yKHZhciBpPTA7aTxuLnN0YXRlc18ubGVuZ3RoOysraSl7dmFyIGE9ZVtpXSxvPUFycmF5LmlzQXJyYXkobi5jZWxsLnN0YXRlU2l6ZSk/bi5jZWxsLnN0YXRlU2l6ZVtpXTpuLmNlbGwuc3RhdGVTaXplLHM9W3Isb107aWYoIXV0aWwuYXJyYXlzRXF1YWwoYS5zaGFwZSxzKSl0aHJvdyBuZXcgVmFsdWVFcnJvcihcIlN0YXRlIFwiK2krXCIgaXMgaW5jb21wYXRpYmxlIHdpdGggbGF5ZXIgXCIrbi5uYW1lK1wiOiBleHBlY3RlZCBzaGFwZT1cIitzK1wiLCByZWNlaXZlZCBzaGFwZT1cIithLnNoYXBlKTtuLnN0YXRlc19baV09YX19bi5zdGF0ZXNfPW4uc3RhdGVzXy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGtlZXAoZS5jbG9uZSgpKX0pfSl9LHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQsbil7dmFyIHI9bnVsbD09bj9udWxsOm4uaW5pdGlhbFN0YXRlLGk9bnVsbD09bj9udWxsOm4uY29uc3RhbnRzO251bGw9PW4mJihuPXt9KTt2YXIgYT1zdGFuZGFyZGl6ZUFyZ3ModCxyLGksdGhpcy5udW1Db25zdGFudHMpO3Q9YS5pbnB1dHMscj1hLmluaXRpYWxTdGF0ZSxpPWEuY29uc3RhbnRzO3ZhciBvPVtdLHM9W107aWYobnVsbCE9cil7bi5pbml0aWFsU3RhdGU9cixvPW8uY29uY2F0KHIpLHRoaXMuc3RhdGVTcGVjPVtdO2Zvcih2YXIgbD0wLHU9cjtsPHUubGVuZ3RoO2wrKyl7dmFyIGM9dVtsXTt0aGlzLnN0YXRlU3BlYy5wdXNoKG5ldyBJbnB1dFNwZWMoe3NoYXBlOmMuc2hhcGV9KSl9cz1zLmNvbmNhdCh0aGlzLnN0YXRlU3BlYyl9aWYobnVsbCE9aSYmKG4uY29uc3RhbnRzPWksbz1vLmNvbmNhdChpKSx0aGlzLm51bUNvbnN0YW50cz1pLmxlbmd0aCksb1swXWluc3RhbmNlb2YgU3ltYm9saWNUZW5zb3Ipe3ZhciBwPVt0XS5jb25jYXQobyksaD10aGlzLmlucHV0U3BlYy5jb25jYXQocyksZD10aGlzLmlucHV0U3BlYzt0aGlzLmlucHV0U3BlYz1oO3ZhciBmPWUucHJvdG90eXBlLmFwcGx5LmNhbGwodGhpcyxwLG4pO3JldHVybiB0aGlzLmlucHV0U3BlYz1kLGZ9cmV0dXJuIGUucHJvdG90eXBlLmFwcGx5LmNhbGwodGhpcyx0LG4pfSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciByPW51bGw9PXQ/bnVsbDp0Lm1hc2ssaT1udWxsPT10P251bGw6dC50cmFpbmluZyxhPW51bGw9PXQ/bnVsbDp0LmluaXRpYWxTdGF0ZTtlPWdldEV4YWN0bHlPbmVUZW5zb3IoZSksbnVsbD09YSYmKGE9bi5zdGF0ZWZ1bD9uLnN0YXRlc186bi5nZXRJbml0aWFsU3RhdGUoZSkpO3ZhciBvPUFycmF5LmlzQXJyYXkobi5jZWxsLnN0YXRlU2l6ZSk/bi5jZWxsLnN0YXRlU2l6ZS5sZW5ndGg6MTtpZihhLmxlbmd0aCE9PW8pdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJSTk4gTGF5ZXIgaGFzIFwiK28rXCIgc3RhdGUocykgYnV0IHdhcyBwYXNzZWQgXCIrYS5sZW5ndGgrXCIgaW5pdGlhbCBzdGF0ZShzKS5cIik7bi51bnJvbGwmJmNvbnNvbGUud2FybihcIklnbm9yaW5nIHVucm9sbCA9IHRydWUgZm9yIFJOTiBsYXllciwgZHVlIHRvIGltcGVyYXRpdmUgYmFja2VuZC5cIik7dmFyIHM9e3RyYWluaW5nOml9LGw9cm5uKGZ1bmN0aW9uKGUsdCl7dmFyIHI9bi5jZWxsLmNhbGwoW2VdLmNvbmNhdCh0KSxzKTtyZXR1cm5bclswXSxyLnNsaWNlKDEpXX0sZSxhLG4uZ29CYWNrd2FyZHMscixudWxsLG4udW5yb2xsLG4ucmV0dXJuU2VxdWVuY2VzKSx1PWxbMF0sYz1sWzFdLHA9bFsyXTtuLnN0YXRlZnVsJiZuLnJlc2V0U3RhdGVzKHAsaSk7dmFyIGg9bi5yZXR1cm5TZXF1ZW5jZXM/Yzp1O3JldHVybiBuLnJldHVyblN0YXRlP1toXS5jb25jYXQocCk6aH0pfSx0LnByb3RvdHlwZS5nZXRJbml0aWFsU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciBuPXplcm9zKGUuc2hhcGUpO3JldHVybiBuPWV4cGFuZERpbXMkMShuPXN1bShuLFsxLDJdKSksQXJyYXkuaXNBcnJheSh0LmNlbGwuc3RhdGVTaXplKT90LmNlbGwuc3RhdGVTaXplLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZT4xP3RpbGUkMShuLFsxLGVdKTpufSk6dC5jZWxsLnN0YXRlU2l6ZT4xP1t0aWxlJDEobixbMSx0LmNlbGwuc3RhdGVTaXplXSldOltuXX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ0cmFpbmFibGVXZWlnaHRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYWluYWJsZT90aGlzLmNlbGwudHJhaW5hYmxlV2VpZ2h0czpbXX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJub25UcmFpbmFibGVXZWlnaHRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYWluYWJsZT90aGlzLmNlbGwubm9uVHJhaW5hYmxlV2VpZ2h0czp0aGlzLmNlbGwud2VpZ2h0c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5zZXRGYXN0V2VpZ2h0SW5pdER1cmluZ0J1aWxkPWZ1bmN0aW9uKHQpe2UucHJvdG90eXBlLnNldEZhc3RXZWlnaHRJbml0RHVyaW5nQnVpbGQuY2FsbCh0aGlzLHQpLG51bGwhPXRoaXMuY2VsbCYmdGhpcy5jZWxsLnNldEZhc3RXZWlnaHRJbml0RHVyaW5nQnVpbGQodCl9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXtyZXR1cm5TZXF1ZW5jZXM6dGhpcy5yZXR1cm5TZXF1ZW5jZXMscmV0dXJuU3RhdGU6dGhpcy5yZXR1cm5TdGF0ZSxnb0JhY2t3YXJkczp0aGlzLmdvQmFja3dhcmRzLHN0YXRlZnVsOnRoaXMuc3RhdGVmdWwsdW5yb2xsOnRoaXMudW5yb2xsfTtudWxsIT10aGlzLm51bUNvbnN0YW50cyYmKHQubnVtQ29uc3RhbnRzPXRoaXMubnVtQ29uc3RhbnRzKTt2YXIgbj10aGlzLmNlbGwuZ2V0Q29uZmlnKCk7dC5jZWxsPXtjbGFzc05hbWU6dGhpcy5jZWxsLmdldENsYXNzTmFtZSgpLGNvbmZpZzpufTt2YXIgcj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHIpLHR9LHQuZnJvbUNvbmZpZz1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPWRlc2VyaWFsaXplKHQuY2VsbCxuKTtyZXR1cm4gbmV3IGUoT2JqZWN0LmFzc2lnbih0LHtjZWxsOnJ9KSl9LHQuY2xhc3NOYW1lPVwiUk5OXCIsdH0oTGF5ZXIpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhSTk4pO3ZhciBSTk5DZWxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0fShMYXllciksU2ltcGxlUk5OQ2VsbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLkRFRkFVTFRfQUNUSVZBVElPTj1cInRhbmhcIixuLkRFRkFVTFRfS0VSTkVMX0lOSVRJQUxJWkVSPVwiZ2xvcm90Tm9ybWFsXCIsbi5ERUZBVUxUX1JFQ1VSUkVOVF9JTklUSUFMSVpFUj1cIm9ydGhvZ29uYWxcIixuLkRFRkFVTFRfQklBU19JTklUSUFMSVpFUj1cInplcm9zXCIsbi51bml0cz10LnVuaXRzLGFzc2VydFBvc2l0aXZlSW50ZWdlcihuLnVuaXRzLFwidW5pdHNcIiksbi5hY3RpdmF0aW9uPWdldEFjdGl2YXRpb24obnVsbD09dC5hY3RpdmF0aW9uP24uREVGQVVMVF9BQ1RJVkFUSU9OOnQuYWN0aXZhdGlvbiksbi51c2VCaWFzPW51bGw9PXQudXNlQmlhc3x8dC51c2VCaWFzLG4ua2VybmVsSW5pdGlhbGl6ZXI9Z2V0SW5pdGlhbGl6ZXIodC5rZXJuZWxJbml0aWFsaXplcnx8bi5ERUZBVUxUX0tFUk5FTF9JTklUSUFMSVpFUiksbi5yZWN1cnJlbnRJbml0aWFsaXplcj1nZXRJbml0aWFsaXplcih0LnJlY3VycmVudEluaXRpYWxpemVyfHxuLkRFRkFVTFRfUkVDVVJSRU5UX0lOSVRJQUxJWkVSKSxuLmJpYXNJbml0aWFsaXplcj1nZXRJbml0aWFsaXplcih0LmJpYXNJbml0aWFsaXplcnx8bi5ERUZBVUxUX0JJQVNfSU5JVElBTElaRVIpLG4ua2VybmVsUmVndWxhcml6ZXI9Z2V0UmVndWxhcml6ZXIodC5rZXJuZWxSZWd1bGFyaXplciksbi5yZWN1cnJlbnRSZWd1bGFyaXplcj1nZXRSZWd1bGFyaXplcih0LnJlY3VycmVudFJlZ3VsYXJpemVyKSxuLmJpYXNSZWd1bGFyaXplcj1nZXRSZWd1bGFyaXplcih0LmJpYXNSZWd1bGFyaXplciksbi5rZXJuZWxDb25zdHJhaW50PWdldENvbnN0cmFpbnQodC5rZXJuZWxDb25zdHJhaW50KSxuLnJlY3VycmVudENvbnN0cmFpbnQ9Z2V0Q29uc3RyYWludCh0LnJlY3VycmVudENvbnN0cmFpbnQpLG4uYmlhc0NvbnN0cmFpbnQ9Z2V0Q29uc3RyYWludCh0LmJpYXNDb25zdHJhaW50KSxuLmRyb3BvdXQ9bWluJDEoWzEsbWF4JDEoWzAsbnVsbD09dC5kcm9wb3V0PzA6dC5kcm9wb3V0XSldKSxuLnJlY3VycmVudERyb3BvdXQ9bWluJDEoWzEsbWF4JDEoWzAsbnVsbD09dC5yZWN1cnJlbnREcm9wb3V0PzA6dC5yZWN1cnJlbnREcm9wb3V0XSldKSxuLnN0YXRlU2l6ZT1uLnVuaXRzLG4uZHJvcG91dE1hc2s9bnVsbCxuLnJlY3VycmVudERyb3BvdXRNYXNrPW51bGwsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSl7ZT1nZXRFeGFjdGx5T25lU2hhcGUoZSksdGhpcy5rZXJuZWw9dGhpcy5hZGRXZWlnaHQoXCJrZXJuZWxcIixbZVtlLmxlbmd0aC0xXSx0aGlzLnVuaXRzXSxudWxsLHRoaXMua2VybmVsSW5pdGlhbGl6ZXIsdGhpcy5rZXJuZWxSZWd1bGFyaXplciwhMCx0aGlzLmtlcm5lbENvbnN0cmFpbnQpLHRoaXMucmVjdXJyZW50S2VybmVsPXRoaXMuYWRkV2VpZ2h0KFwicmVjdXJyZW50X2tlcm5lbFwiLFt0aGlzLnVuaXRzLHRoaXMudW5pdHNdLG51bGwsdGhpcy5yZWN1cnJlbnRJbml0aWFsaXplcix0aGlzLnJlY3VycmVudFJlZ3VsYXJpemVyLCEwLHRoaXMucmVjdXJyZW50Q29uc3RyYWludCksdGhpcy51c2VCaWFzP3RoaXMuYmlhcz10aGlzLmFkZFdlaWdodChcImJpYXNcIixbdGhpcy51bml0c10sbnVsbCx0aGlzLmJpYXNJbml0aWFsaXplcix0aGlzLmJpYXNSZWd1bGFyaXplciwhMCx0aGlzLmJpYXNDb25zdHJhaW50KTp0aGlzLmJpYXM9bnVsbCx0aGlzLmJ1aWx0PSEwfSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe2lmKDIhPT0oZT1lKS5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJTaW1wbGVSTk5DZWxsIGV4cGVjdHMgMiBpbnB1dCBUZW5zb3JzLCBnb3QgXCIrZS5sZW5ndGgrXCIuXCIpO3ZhciByPWVbMV07ZT1lWzBdO3ZhciBpLGE9bnVsbCE9dC50cmFpbmluZyYmdC50cmFpbmluZzswPG4uZHJvcG91dCYmbi5kcm9wb3V0PDEmJm51bGw9PW4uZHJvcG91dE1hc2smJihuLmRyb3BvdXRNYXNrPWdlbmVyYXRlRHJvcG91dE1hc2soZnVuY3Rpb24oKXtyZXR1cm4gb25lc0xpa2UoZSl9LG4uZHJvcG91dCxhKSksMDxuLnJlY3VycmVudERyb3BvdXQmJm4ucmVjdXJyZW50RHJvcG91dDwxJiZudWxsPT1uLnJlY3VycmVudERyb3BvdXRNYXNrJiYobi5yZWN1cnJlbnREcm9wb3V0TWFzaz1nZW5lcmF0ZURyb3BvdXRNYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIG9uZXNMaWtlKHIpfSxuLnJlY3VycmVudERyb3BvdXQsYSkpO3ZhciBvPW4uZHJvcG91dE1hc2sscz1uLnJlY3VycmVudERyb3BvdXRNYXNrO2k9ZG90KG51bGwhPW8/bXVsKGUsbyk6ZSxuLmtlcm5lbC5yZWFkKCkpLG51bGwhPW4uYmlhcyYmKGk9Ymlhc0FkZChpLG4uYmlhcy5yZWFkKCkpKSxudWxsIT1zJiYocj1tdWwocixzKSk7dmFyIGw9YWRkKGksZG90KHIsbi5yZWN1cnJlbnRLZXJuZWwucmVhZCgpKSk7cmV0dXJuIG51bGwhPW4uYWN0aXZhdGlvbiYmKGw9bi5hY3RpdmF0aW9uLmFwcGx5KGwpKSxbbCxsXX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17dW5pdHM6dGhpcy51bml0cyxhY3RpdmF0aW9uOnNlcmlhbGl6ZUFjdGl2YXRpb24odGhpcy5hY3RpdmF0aW9uKSx1c2VCaWFzOnRoaXMudXNlQmlhcyxrZXJuZWxJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLmtlcm5lbEluaXRpYWxpemVyKSxyZWN1cnJlbnRJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLnJlY3VycmVudEluaXRpYWxpemVyKSxiaWFzSW5pdGlhbGl6ZXI6c2VyaWFsaXplSW5pdGlhbGl6ZXIodGhpcy5iaWFzSW5pdGlhbGl6ZXIpLGtlcm5lbFJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMua2VybmVsUmVndWxhcml6ZXIpLHJlY3VycmVudFJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMucmVjdXJyZW50UmVndWxhcml6ZXIpLGJpYXNSZWd1bGFyaXplcjpzZXJpYWxpemVSZWd1bGFyaXplcih0aGlzLmJpYXNSZWd1bGFyaXplciksYWN0aXZpdHlSZWd1bGFyaXplcjpzZXJpYWxpemVSZWd1bGFyaXplcih0aGlzLmFjdGl2aXR5UmVndWxhcml6ZXIpLGtlcm5lbENvbnN0cmFpbnQ6c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLmtlcm5lbENvbnN0cmFpbnQpLHJlY3VycmVudENvbnN0cmFpbnQ6c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLnJlY3VycmVudENvbnN0cmFpbnQpLGJpYXNDb25zdHJhaW50OnNlcmlhbGl6ZUNvbnN0cmFpbnQodGhpcy5iaWFzQ29uc3RyYWludCksZHJvcG91dDp0aGlzLmRyb3BvdXQscmVjdXJyZW50RHJvcG91dDp0aGlzLnJlY3VycmVudERyb3BvdXR9LG49ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxuKSx0fSx0LmNsYXNzTmFtZT1cIlNpbXBsZVJOTkNlbGxcIix0fShSTk5DZWxsKTtzZXJpYWxpemF0aW9uLnJlZ2lzdGVyQ2xhc3MoU2ltcGxlUk5OQ2VsbCk7dmFyIFNpbXBsZVJOTj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiB0LmNlbGw9bmV3IFNpbXBsZVJOTkNlbGwodCksZS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7bnVsbCE9ci5jZWxsLmRyb3BvdXRNYXNrJiYoZGlzcG9zZShyLmNlbGwuZHJvcG91dE1hc2spLHIuY2VsbC5kcm9wb3V0TWFzaz1udWxsKSxudWxsIT1yLmNlbGwucmVjdXJyZW50RHJvcG91dE1hc2smJihkaXNwb3NlKHIuY2VsbC5yZWN1cnJlbnREcm9wb3V0TWFzayksci5jZWxsLnJlY3VycmVudERyb3BvdXRNYXNrPW51bGwpO3ZhciBpPW51bGw9PW4/bnVsbDpuLm1hc2ssYT1udWxsPT1uP251bGw6bi50cmFpbmluZyxvPW51bGw9PW4/bnVsbDpuLmluaXRpYWxTdGF0ZTtyZXR1cm4gZS5wcm90b3R5cGUuY2FsbC5jYWxsKHIsdCx7bWFzazppLHRyYWluaW5nOmEsaW5pdGlhbFN0YXRlOm99KX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ1bml0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLnVuaXRzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFjdGl2YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5hY3RpdmF0aW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInVzZUJpYXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC51c2VCaWFzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImtlcm5lbEluaXRpYWxpemVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwua2VybmVsSW5pdGlhbGl6ZXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicmVjdXJyZW50SW5pdGlhbGl6ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5yZWN1cnJlbnRJbml0aWFsaXplcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJiaWFzSW5pdGlhbGl6ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5iaWFzSW5pdGlhbGl6ZXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwia2VybmVsUmVndWxhcml6ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5rZXJuZWxSZWd1bGFyaXplcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyZWN1cnJlbnRSZWd1bGFyaXplclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLnJlY3VycmVudFJlZ3VsYXJpemVyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJpYXNSZWd1bGFyaXplclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLmJpYXNSZWd1bGFyaXplcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJrZXJuZWxDb25zdHJhaW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwua2VybmVsQ29uc3RyYWludH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyZWN1cnJlbnRDb25zdHJhaW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwucmVjdXJyZW50Q29uc3RyYWludH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJiaWFzQ29uc3RyYWludFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLmJpYXNDb25zdHJhaW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRyb3BvdXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5kcm9wb3V0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJlY3VycmVudERyb3BvdXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5yZWN1cnJlbnREcm9wb3V0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXt1bml0czp0aGlzLnVuaXRzLGFjdGl2YXRpb246c2VyaWFsaXplQWN0aXZhdGlvbih0aGlzLmFjdGl2YXRpb24pLHVzZUJpYXM6dGhpcy51c2VCaWFzLGtlcm5lbEluaXRpYWxpemVyOnNlcmlhbGl6ZUluaXRpYWxpemVyKHRoaXMua2VybmVsSW5pdGlhbGl6ZXIpLHJlY3VycmVudEluaXRpYWxpemVyOnNlcmlhbGl6ZUluaXRpYWxpemVyKHRoaXMucmVjdXJyZW50SW5pdGlhbGl6ZXIpLGJpYXNJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLmJpYXNJbml0aWFsaXplciksa2VybmVsUmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5rZXJuZWxSZWd1bGFyaXplcikscmVjdXJyZW50UmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5yZWN1cnJlbnRSZWd1bGFyaXplciksYmlhc1JlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuYmlhc1JlZ3VsYXJpemVyKSxhY3Rpdml0eVJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuYWN0aXZpdHlSZWd1bGFyaXplciksa2VybmVsQ29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMua2VybmVsQ29uc3RyYWludCkscmVjdXJyZW50Q29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMucmVjdXJyZW50Q29uc3RyYWludCksYmlhc0NvbnN0cmFpbnQ6c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLmJpYXNDb25zdHJhaW50KSxkcm9wb3V0OnRoaXMuZHJvcG91dCxyZWN1cnJlbnREcm9wb3V0OnRoaXMucmVjdXJyZW50RHJvcG91dH0sbj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gZGVsZXRlIG4uY2VsbCxPYmplY3QuYXNzaWduKHQsbiksdH0sdC5mcm9tQ29uZmlnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBlKHQpfSx0LmNsYXNzTmFtZT1cIlNpbXBsZVJOTlwiLHR9KFJOTik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFNpbXBsZVJOTik7dmFyIEdSVUNlbGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gbi5ERUZBVUxUX0FDVElWQVRJT049XCJ0YW5oXCIsbi5ERUZBVUxUX1JFQ1VSUkVOVF9BQ1RJVkFUSU9OPVwiaGFyZFNpZ21vaWRcIixuLkRFRkFVTFRfS0VSTkVMX0lOSVRJQUxJWkVSPVwiZ2xvcm90Tm9ybWFsXCIsbi5ERUZBVUxUX1JFQ1VSUkVOVF9JTklUSUFMSVpFUj1cIm9ydGhvZ29uYWxcIixuLkRFRkFVTFRfQklBU19JTklUSUFMSVpFUj1cInplcm9zXCIsbi51bml0cz10LnVuaXRzLGFzc2VydFBvc2l0aXZlSW50ZWdlcihuLnVuaXRzLFwidW5pdHNcIiksbi5hY3RpdmF0aW9uPWdldEFjdGl2YXRpb24odm9pZCAwPT09dC5hY3RpdmF0aW9uP24uREVGQVVMVF9BQ1RJVkFUSU9OOnQuYWN0aXZhdGlvbiksbi5yZWN1cnJlbnRBY3RpdmF0aW9uPWdldEFjdGl2YXRpb24odm9pZCAwPT09dC5yZWN1cnJlbnRBY3RpdmF0aW9uP24uREVGQVVMVF9SRUNVUlJFTlRfQUNUSVZBVElPTjp0LnJlY3VycmVudEFjdGl2YXRpb24pLG4udXNlQmlhcz1udWxsPT10LnVzZUJpYXN8fHQudXNlQmlhcyxuLmtlcm5lbEluaXRpYWxpemVyPWdldEluaXRpYWxpemVyKHQua2VybmVsSW5pdGlhbGl6ZXJ8fG4uREVGQVVMVF9LRVJORUxfSU5JVElBTElaRVIpLG4ucmVjdXJyZW50SW5pdGlhbGl6ZXI9Z2V0SW5pdGlhbGl6ZXIodC5yZWN1cnJlbnRJbml0aWFsaXplcnx8bi5ERUZBVUxUX1JFQ1VSUkVOVF9JTklUSUFMSVpFUiksbi5iaWFzSW5pdGlhbGl6ZXI9Z2V0SW5pdGlhbGl6ZXIodC5iaWFzSW5pdGlhbGl6ZXJ8fG4uREVGQVVMVF9CSUFTX0lOSVRJQUxJWkVSKSxuLmtlcm5lbFJlZ3VsYXJpemVyPWdldFJlZ3VsYXJpemVyKHQua2VybmVsUmVndWxhcml6ZXIpLG4ucmVjdXJyZW50UmVndWxhcml6ZXI9Z2V0UmVndWxhcml6ZXIodC5yZWN1cnJlbnRSZWd1bGFyaXplciksbi5iaWFzUmVndWxhcml6ZXI9Z2V0UmVndWxhcml6ZXIodC5iaWFzUmVndWxhcml6ZXIpLG4ua2VybmVsQ29uc3RyYWludD1nZXRDb25zdHJhaW50KHQua2VybmVsQ29uc3RyYWludCksbi5yZWN1cnJlbnRDb25zdHJhaW50PWdldENvbnN0cmFpbnQodC5yZWN1cnJlbnRDb25zdHJhaW50KSxuLmJpYXNDb25zdHJhaW50PWdldENvbnN0cmFpbnQodC5iaWFzQ29uc3RyYWludCksbi5kcm9wb3V0PW1pbiQxKFsxLG1heCQxKFswLG51bGw9PXQuZHJvcG91dD8wOnQuZHJvcG91dF0pXSksbi5yZWN1cnJlbnREcm9wb3V0PW1pbiQxKFsxLG1heCQxKFswLG51bGw9PXQucmVjdXJyZW50RHJvcG91dD8wOnQucmVjdXJyZW50RHJvcG91dF0pXSksbi5pbXBsZW1lbnRhdGlvbj10LmltcGxlbWVudGF0aW9uLG4uc3RhdGVTaXplPW4udW5pdHMsbi5kcm9wb3V0TWFzaz1udWxsLG4ucmVjdXJyZW50RHJvcG91dE1hc2s9bnVsbCxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbihlKXt2YXIgdD0oZT1nZXRFeGFjdGx5T25lU2hhcGUoZSkpW2UubGVuZ3RoLTFdO3RoaXMua2VybmVsPXRoaXMuYWRkV2VpZ2h0KFwia2VybmVsXCIsW3QsMyp0aGlzLnVuaXRzXSxudWxsLHRoaXMua2VybmVsSW5pdGlhbGl6ZXIsdGhpcy5rZXJuZWxSZWd1bGFyaXplciwhMCx0aGlzLmtlcm5lbENvbnN0cmFpbnQpLHRoaXMucmVjdXJyZW50S2VybmVsPXRoaXMuYWRkV2VpZ2h0KFwicmVjdXJyZW50X2tlcm5lbFwiLFt0aGlzLnVuaXRzLDMqdGhpcy51bml0c10sbnVsbCx0aGlzLnJlY3VycmVudEluaXRpYWxpemVyLHRoaXMucmVjdXJyZW50UmVndWxhcml6ZXIsITAsdGhpcy5yZWN1cnJlbnRDb25zdHJhaW50KSx0aGlzLnVzZUJpYXM/dGhpcy5iaWFzPXRoaXMuYWRkV2VpZ2h0KFwiYmlhc1wiLFszKnRoaXMudW5pdHNdLG51bGwsdGhpcy5iaWFzSW5pdGlhbGl6ZXIsdGhpcy5iaWFzUmVndWxhcml6ZXIsITAsdGhpcy5iaWFzQ29uc3RyYWludCk6dGhpcy5iaWFzPW51bGwsdGhpcy5idWlsdD0hMH0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtpZigyIT09KGU9ZSkubGVuZ3RoKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiR1JVQ2VsbCBleHBlY3RzIDIgaW5wdXQgVGVuc29ycyAoaW5wdXRzLCBoLCBjKSwgZ290IFwiK2UubGVuZ3RoK1wiLlwiKTt2YXIgcj1udWxsIT10LnRyYWluaW5nJiZ0LnRyYWluaW5nLGk9ZVsxXTtlPWVbMF0sMDxuLmRyb3BvdXQmJm4uZHJvcG91dDwxJiZudWxsPT1uLmRyb3BvdXRNYXNrJiYobi5kcm9wb3V0TWFzaz1nZW5lcmF0ZURyb3BvdXRNYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIG9uZXNMaWtlKGUpfSxuLmRyb3BvdXQsciwzKSksMDxuLnJlY3VycmVudERyb3BvdXQmJm4ucmVjdXJyZW50RHJvcG91dDwxJiZudWxsPT1uLnJlY3VycmVudERyb3BvdXRNYXNrJiYobi5yZWN1cnJlbnREcm9wb3V0TWFzaz1nZW5lcmF0ZURyb3BvdXRNYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIG9uZXNMaWtlKGkpfSxuLnJlY3VycmVudERyb3BvdXQsciwzKSk7dmFyIGEsbyxzLGw9bi5kcm9wb3V0TWFzayx1PW4ucmVjdXJyZW50RHJvcG91dE1hc2s7MDxuLmRyb3BvdXQmJm4uZHJvcG91dDwxJiYoZT1tdWwoZSxsWzBdKSk7dmFyIGM9ZG90KGUsbi5rZXJuZWwucmVhZCgpKTtuLnVzZUJpYXMmJihjPWJpYXNBZGQoYyxuLmJpYXMucmVhZCgpKSksMDxuLnJlY3VycmVudERyb3BvdXQmJm4ucmVjdXJyZW50RHJvcG91dDwxJiYoaT1tdWwoaSx1WzBdKSk7dmFyIHA9bi5yZWN1cnJlbnRLZXJuZWwucmVhZCgpLGg9c3BsaXQocCxbMipuLnVuaXRzLG4udW5pdHNdLHAucmFuay0xKSxkPWhbMF0sZj1oWzFdLGc9ZG90KGksZCksbT1zcGxpdChjLDMsYy5yYW5rLTEpLHk9bVswXSx2PW1bMV0sYj1tWzJdLHc9c3BsaXQoZywyLGcucmFuay0xKSx6PXdbMF0sUz13WzFdO2E9bi5yZWN1cnJlbnRBY3RpdmF0aW9uLmFwcGx5KGFkZCh5LHopKSxvPW4ucmVjdXJyZW50QWN0aXZhdGlvbi5hcHBseShhZGQodixTKSk7dmFyIEE9ZG90KG11bChvLGkpLGYpO3M9bi5hY3RpdmF0aW9uLmFwcGx5KGFkZChiLEEpKTt2YXIgXz1hZGQobXVsKGEsaSksbXVsKGFkZCgxLG5lZyhhKSkscykpO3JldHVybltfLF9dfSl9LHQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXt1bml0czp0aGlzLnVuaXRzLGFjdGl2YXRpb246c2VyaWFsaXplQWN0aXZhdGlvbih0aGlzLmFjdGl2YXRpb24pLHJlY3VycmVudEFjdGl2YXRpb246c2VyaWFsaXplQWN0aXZhdGlvbih0aGlzLnJlY3VycmVudEFjdGl2YXRpb24pLHVzZUJpYXM6dGhpcy51c2VCaWFzLGtlcm5lbEluaXRpYWxpemVyOnNlcmlhbGl6ZUluaXRpYWxpemVyKHRoaXMua2VybmVsSW5pdGlhbGl6ZXIpLHJlY3VycmVudEluaXRpYWxpemVyOnNlcmlhbGl6ZUluaXRpYWxpemVyKHRoaXMucmVjdXJyZW50SW5pdGlhbGl6ZXIpLGJpYXNJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLmJpYXNJbml0aWFsaXplciksa2VybmVsUmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5rZXJuZWxSZWd1bGFyaXplcikscmVjdXJyZW50UmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5yZWN1cnJlbnRSZWd1bGFyaXplciksYmlhc1JlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuYmlhc1JlZ3VsYXJpemVyKSxhY3Rpdml0eVJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuYWN0aXZpdHlSZWd1bGFyaXplciksa2VybmVsQ29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMua2VybmVsQ29uc3RyYWludCkscmVjdXJyZW50Q29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMucmVjdXJyZW50Q29uc3RyYWludCksYmlhc0NvbnN0cmFpbnQ6c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLmJpYXNDb25zdHJhaW50KSxkcm9wb3V0OnRoaXMuZHJvcG91dCxyZWN1cnJlbnREcm9wb3V0OnRoaXMucmVjdXJyZW50RHJvcG91dCxpbXBsZW1lbnRhdGlvbjp0aGlzLmltcGxlbWVudGF0aW9ufSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5jbGFzc05hbWU9XCJHUlVDZWxsXCIsdH0oUk5OQ2VsbCk7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEdSVUNlbGwpO3ZhciBHUlU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gMD09PXQuaW1wbGVtZW50YXRpb24mJmNvbnNvbGUud2FybihcImBpbXBsZW1lbnRhdGlvbj0wYCBoYXMgYmVlbiBkZXByZWNhdGVkLCBhbmQgbm93IGRlZmF1bHRzIHRvIGBpbXBsZW1lbnRhdGlvbj0xYC4gUGxlYXNlIHVwZGF0ZSB5b3VyIGxheWVyIGNhbGwuXCIpLHQuY2VsbD1uZXcgR1JVQ2VsbCh0KSxlLmNhbGwodGhpcyx0KXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXtudWxsIT1yLmNlbGwuZHJvcG91dE1hc2smJihkaXNwb3NlKHIuY2VsbC5kcm9wb3V0TWFzayksci5jZWxsLmRyb3BvdXRNYXNrPW51bGwpLG51bGwhPXIuY2VsbC5yZWN1cnJlbnREcm9wb3V0TWFzayYmKGRpc3Bvc2Uoci5jZWxsLnJlY3VycmVudERyb3BvdXRNYXNrKSxyLmNlbGwucmVjdXJyZW50RHJvcG91dE1hc2s9bnVsbCk7dmFyIGk9bnVsbD09bj9udWxsOm4ubWFzayxhPW51bGw9PW4/bnVsbDpuLnRyYWluaW5nLG89bnVsbD09bj9udWxsOm4uaW5pdGlhbFN0YXRlO3JldHVybiBlLnByb3RvdHlwZS5jYWxsLmNhbGwocix0LHttYXNrOmksdHJhaW5pbmc6YSxpbml0aWFsU3RhdGU6b30pfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInVuaXRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwudW5pdHN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYWN0aXZhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLmFjdGl2YXRpb259LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicmVjdXJyZW50QWN0aXZhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLnJlY3VycmVudEFjdGl2YXRpb259LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidXNlQmlhc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLnVzZUJpYXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwia2VybmVsSW5pdGlhbGl6ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5rZXJuZWxJbml0aWFsaXplcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyZWN1cnJlbnRJbml0aWFsaXplclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLnJlY3VycmVudEluaXRpYWxpemVyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJpYXNJbml0aWFsaXplclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLmJpYXNJbml0aWFsaXplcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJrZXJuZWxSZWd1bGFyaXplclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLmtlcm5lbFJlZ3VsYXJpemVyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJlY3VycmVudFJlZ3VsYXJpemVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwucmVjdXJyZW50UmVndWxhcml6ZXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYmlhc1JlZ3VsYXJpemVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwuYmlhc1JlZ3VsYXJpemVyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImtlcm5lbENvbnN0cmFpbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5rZXJuZWxDb25zdHJhaW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJlY3VycmVudENvbnN0cmFpbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5yZWN1cnJlbnRDb25zdHJhaW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJpYXNDb25zdHJhaW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwuYmlhc0NvbnN0cmFpbnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZHJvcG91dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLmRyb3BvdXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicmVjdXJyZW50RHJvcG91dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLnJlY3VycmVudERyb3BvdXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW1wbGVtZW50YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5pbXBsZW1lbnRhdGlvbn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17dW5pdHM6dGhpcy51bml0cyxhY3RpdmF0aW9uOnNlcmlhbGl6ZUFjdGl2YXRpb24odGhpcy5hY3RpdmF0aW9uKSxyZWN1cnJlbnRBY3RpdmF0aW9uOnNlcmlhbGl6ZUFjdGl2YXRpb24odGhpcy5yZWN1cnJlbnRBY3RpdmF0aW9uKSx1c2VCaWFzOnRoaXMudXNlQmlhcyxrZXJuZWxJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLmtlcm5lbEluaXRpYWxpemVyKSxyZWN1cnJlbnRJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLnJlY3VycmVudEluaXRpYWxpemVyKSxiaWFzSW5pdGlhbGl6ZXI6c2VyaWFsaXplSW5pdGlhbGl6ZXIodGhpcy5iaWFzSW5pdGlhbGl6ZXIpLGtlcm5lbFJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMua2VybmVsUmVndWxhcml6ZXIpLHJlY3VycmVudFJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMucmVjdXJyZW50UmVndWxhcml6ZXIpLGJpYXNSZWd1bGFyaXplcjpzZXJpYWxpemVSZWd1bGFyaXplcih0aGlzLmJpYXNSZWd1bGFyaXplciksYWN0aXZpdHlSZWd1bGFyaXplcjpzZXJpYWxpemVSZWd1bGFyaXplcih0aGlzLmFjdGl2aXR5UmVndWxhcml6ZXIpLGtlcm5lbENvbnN0cmFpbnQ6c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLmtlcm5lbENvbnN0cmFpbnQpLHJlY3VycmVudENvbnN0cmFpbnQ6c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLnJlY3VycmVudENvbnN0cmFpbnQpLGJpYXNDb25zdHJhaW50OnNlcmlhbGl6ZUNvbnN0cmFpbnQodGhpcy5iaWFzQ29uc3RyYWludCksZHJvcG91dDp0aGlzLmRyb3BvdXQscmVjdXJyZW50RHJvcG91dDp0aGlzLnJlY3VycmVudERyb3BvdXQsaW1wbGVtZW50YXRpb246dGhpcy5pbXBsZW1lbnRhdGlvbn0sbj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gZGVsZXRlIG4uY2VsbCxPYmplY3QuYXNzaWduKHQsbiksdH0sdC5mcm9tQ29uZmlnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT10LmltcGxtZW50YXRpb24mJih0LmltcGxlbWVudGF0aW9uPTEpLG5ldyBlKHQpfSx0LmNsYXNzTmFtZT1cIkdSVVwiLHR9KFJOTik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKEdSVSk7dmFyIExTVE1DZWxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4uREVGQVVMVF9BQ1RJVkFUSU9OPVwidGFuaFwiLG4uREVGQVVMVF9SRUNVUlJFTlRfQUNUSVZBVElPTj1cImhhcmRTaWdtb2lkXCIsbi5ERUZBVUxUX0tFUk5FTF9JTklUSUFMSVpFUj1cImdsb3JvdE5vcm1hbFwiLG4uREVGQVVMVF9SRUNVUlJFTlRfSU5JVElBTElaRVI9XCJvcnRob2dvbmFsXCIsbi5ERUZBVUxUX0JJQVNfSU5JVElBTElaRVI9XCJ6ZXJvc1wiLG4udW5pdHM9dC51bml0cyxhc3NlcnRQb3NpdGl2ZUludGVnZXIobi51bml0cyxcInVuaXRzXCIpLG4uYWN0aXZhdGlvbj1nZXRBY3RpdmF0aW9uKHZvaWQgMD09PXQuYWN0aXZhdGlvbj9uLkRFRkFVTFRfQUNUSVZBVElPTjp0LmFjdGl2YXRpb24pLG4ucmVjdXJyZW50QWN0aXZhdGlvbj1nZXRBY3RpdmF0aW9uKHZvaWQgMD09PXQucmVjdXJyZW50QWN0aXZhdGlvbj9uLkRFRkFVTFRfUkVDVVJSRU5UX0FDVElWQVRJT046dC5yZWN1cnJlbnRBY3RpdmF0aW9uKSxuLnVzZUJpYXM9bnVsbD09dC51c2VCaWFzfHx0LnVzZUJpYXMsbi5rZXJuZWxJbml0aWFsaXplcj1nZXRJbml0aWFsaXplcih0Lmtlcm5lbEluaXRpYWxpemVyfHxuLkRFRkFVTFRfS0VSTkVMX0lOSVRJQUxJWkVSKSxuLnJlY3VycmVudEluaXRpYWxpemVyPWdldEluaXRpYWxpemVyKHQucmVjdXJyZW50SW5pdGlhbGl6ZXJ8fG4uREVGQVVMVF9SRUNVUlJFTlRfSU5JVElBTElaRVIpLG4uYmlhc0luaXRpYWxpemVyPWdldEluaXRpYWxpemVyKHQuYmlhc0luaXRpYWxpemVyfHxuLkRFRkFVTFRfQklBU19JTklUSUFMSVpFUiksbi51bml0Rm9yZ2V0Qmlhcz10LnVuaXRGb3JnZXRCaWFzLG4ua2VybmVsUmVndWxhcml6ZXI9Z2V0UmVndWxhcml6ZXIodC5rZXJuZWxSZWd1bGFyaXplciksbi5yZWN1cnJlbnRSZWd1bGFyaXplcj1nZXRSZWd1bGFyaXplcih0LnJlY3VycmVudFJlZ3VsYXJpemVyKSxuLmJpYXNSZWd1bGFyaXplcj1nZXRSZWd1bGFyaXplcih0LmJpYXNSZWd1bGFyaXplciksbi5rZXJuZWxDb25zdHJhaW50PWdldENvbnN0cmFpbnQodC5rZXJuZWxDb25zdHJhaW50KSxuLnJlY3VycmVudENvbnN0cmFpbnQ9Z2V0Q29uc3RyYWludCh0LnJlY3VycmVudENvbnN0cmFpbnQpLG4uYmlhc0NvbnN0cmFpbnQ9Z2V0Q29uc3RyYWludCh0LmJpYXNDb25zdHJhaW50KSxuLmRyb3BvdXQ9bWluJDEoWzEsbWF4JDEoWzAsbnVsbD09dC5kcm9wb3V0PzA6dC5kcm9wb3V0XSldKSxuLnJlY3VycmVudERyb3BvdXQ9bWluJDEoWzEsbWF4JDEoWzAsbnVsbD09dC5yZWN1cnJlbnREcm9wb3V0PzA6dC5yZWN1cnJlbnREcm9wb3V0XSldKSxuLmltcGxlbWVudGF0aW9uPXQuaW1wbGVtZW50YXRpb24sbi5zdGF0ZVNpemU9W24udW5pdHMsbi51bml0c10sbi5kcm9wb3V0TWFzaz1udWxsLG4ucmVjdXJyZW50RHJvcG91dE1hc2s9bnVsbCxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9KGU9Z2V0RXhhY3RseU9uZVNoYXBlKGUpKVtlLmxlbmd0aC0xXTtpZih0aGlzLmtlcm5lbD10aGlzLmFkZFdlaWdodChcImtlcm5lbFwiLFtyLDQqdGhpcy51bml0c10sbnVsbCx0aGlzLmtlcm5lbEluaXRpYWxpemVyLHRoaXMua2VybmVsUmVndWxhcml6ZXIsITAsdGhpcy5rZXJuZWxDb25zdHJhaW50KSx0aGlzLnJlY3VycmVudEtlcm5lbD10aGlzLmFkZFdlaWdodChcInJlY3VycmVudF9rZXJuZWxcIixbdGhpcy51bml0cyw0KnRoaXMudW5pdHNdLG51bGwsdGhpcy5yZWN1cnJlbnRJbml0aWFsaXplcix0aGlzLnJlY3VycmVudFJlZ3VsYXJpemVyLCEwLHRoaXMucmVjdXJyZW50Q29uc3RyYWludCksdGhpcy51c2VCaWFzKXtpZih0aGlzLnVuaXRGb3JnZXRCaWFzKXt2YXIgaT10aGlzLmJpYXNJbml0aWFsaXplcixhPXRoaXMudW5pdHM7bj1uZXcoKHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUsdCl7dmFyIG49aS5hcHBseShbYV0pLHI9KG5ldyBPbmVzKS5hcHBseShbYV0pLG89aS5hcHBseShbMiphXSk7cmV0dXJuIGNvbmNhdEFsb25nRmlyc3RBeGlzKGNvbmNhdEFsb25nRmlyc3RBeGlzKG4sciksbyl9LHR9KEluaXRpYWxpemVyKSkuY2xhc3NOYW1lPVwiQ3VzdG9tSW5pdFwiLHQpfWVsc2Ugbj10aGlzLmJpYXNJbml0aWFsaXplcjt0aGlzLmJpYXM9dGhpcy5hZGRXZWlnaHQoXCJiaWFzXCIsWzQqdGhpcy51bml0c10sbnVsbCxuLHRoaXMuYmlhc1JlZ3VsYXJpemVyLCEwLHRoaXMuYmlhc0NvbnN0cmFpbnQpfWVsc2UgdGhpcy5iaWFzPW51bGw7dGhpcy5idWlsdD0hMH0sdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRpZHkoZnVuY3Rpb24oKXt2YXIgcj1udWxsIT10LnRyYWluaW5nJiZ0LnRyYWluaW5nO2lmKDMhPT0oZT1lKS5sZW5ndGgpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJMU1RNQ2VsbCBleHBlY3RzIDMgaW5wdXQgVGVuc29ycyAoaW5wdXRzLCBoLCBjKSwgZ290IFwiK2UubGVuZ3RoK1wiLlwiKTt2YXIgaT1lWzFdLGE9ZVsyXTtlPWVbMF0sMDxuLmRyb3BvdXQmJm4uZHJvcG91dDwxJiZudWxsPT1uLmRyb3BvdXRNYXNrJiYobi5kcm9wb3V0TWFzaz1nZW5lcmF0ZURyb3BvdXRNYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIG9uZXNMaWtlKGUpfSxuLmRyb3BvdXQsciw0KSksMDxuLnJlY3VycmVudERyb3BvdXQmJm4ucmVjdXJyZW50RHJvcG91dDwxJiZudWxsPT1uLnJlY3VycmVudERyb3BvdXRNYXNrJiYobi5yZWN1cnJlbnREcm9wb3V0TWFzaz1nZW5lcmF0ZURyb3BvdXRNYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIG9uZXNMaWtlKGkpfSxuLnJlY3VycmVudERyb3BvdXQsciw0KSk7dmFyIG8scyxsLHUsYz1uLmRyb3BvdXRNYXNrLHA9bi5yZWN1cnJlbnREcm9wb3V0TWFzazswPG4uZHJvcG91dCYmbi5kcm9wb3V0PDEmJihlPW11bChlLGNbMF0pKTt2YXIgaD1kb3QoZSxuLmtlcm5lbC5yZWFkKCkpOzA8bi5yZWN1cnJlbnREcm9wb3V0JiZuLnJlY3VycmVudERyb3BvdXQ8MSYmKGk9bXVsKGkscFswXSkpLGg9YWRkKGgsZG90KGksbi5yZWN1cnJlbnRLZXJuZWwucmVhZCgpKSksbi51c2VCaWFzJiYoaD1iaWFzQWRkKGgsbi5iaWFzLnJlYWQoKSkpO3ZhciBkPXNwbGl0KGgsNCxoLnJhbmstMSksZj1kWzBdLGc9ZFsxXSxtPWRbMl0seT1kWzNdO289bi5yZWN1cnJlbnRBY3RpdmF0aW9uLmFwcGx5KGYpLHM9bi5yZWN1cnJlbnRBY3RpdmF0aW9uLmFwcGx5KGcpLGw9YWRkKG11bChzLGEpLG11bChvLG4uYWN0aXZhdGlvbi5hcHBseShtKSkpLHU9bi5yZWN1cnJlbnRBY3RpdmF0aW9uLmFwcGx5KHkpO3ZhciB2PW11bCh1LG4uYWN0aXZhdGlvbi5hcHBseShsKSk7cmV0dXJuW3YsdixsXX0pfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17dW5pdHM6dGhpcy51bml0cyxhY3RpdmF0aW9uOnNlcmlhbGl6ZUFjdGl2YXRpb24odGhpcy5hY3RpdmF0aW9uKSxyZWN1cnJlbnRBY3RpdmF0aW9uOnNlcmlhbGl6ZUFjdGl2YXRpb24odGhpcy5yZWN1cnJlbnRBY3RpdmF0aW9uKSx1c2VCaWFzOnRoaXMudXNlQmlhcyxrZXJuZWxJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLmtlcm5lbEluaXRpYWxpemVyKSxyZWN1cnJlbnRJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLnJlY3VycmVudEluaXRpYWxpemVyKSxiaWFzSW5pdGlhbGl6ZXI6c2VyaWFsaXplSW5pdGlhbGl6ZXIodGhpcy5iaWFzSW5pdGlhbGl6ZXIpLHVuaXRGb3JnZXRCaWFzOnRoaXMudW5pdEZvcmdldEJpYXMsa2VybmVsUmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5rZXJuZWxSZWd1bGFyaXplcikscmVjdXJyZW50UmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5yZWN1cnJlbnRSZWd1bGFyaXplciksYmlhc1JlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuYmlhc1JlZ3VsYXJpemVyKSxhY3Rpdml0eVJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuYWN0aXZpdHlSZWd1bGFyaXplciksa2VybmVsQ29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMua2VybmVsQ29uc3RyYWludCkscmVjdXJyZW50Q29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMucmVjdXJyZW50Q29uc3RyYWludCksYmlhc0NvbnN0cmFpbnQ6c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLmJpYXNDb25zdHJhaW50KSxkcm9wb3V0OnRoaXMuZHJvcG91dCxyZWN1cnJlbnREcm9wb3V0OnRoaXMucmVjdXJyZW50RHJvcG91dCxpbXBsZW1lbnRhdGlvbjp0aGlzLmltcGxlbWVudGF0aW9ufSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5jbGFzc05hbWU9XCJMU1RNQ2VsbFwiLHR9KFJOTkNlbGwpO3NlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhMU1RNQ2VsbCk7dmFyIExTVE09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gMD09PXQuaW1wbGVtZW50YXRpb24mJmNvbnNvbGUud2FybihcImBpbXBsZW1lbnRhdGlvbj0wYCBoYXMgYmVlbiBkZXByZWNhdGVkLCBhbmQgbm93IGRlZmF1bHRzIHRvIGBpbXBsZW1lbnRhdGlvbj0xYC4gUGxlYXNlIHVwZGF0ZSB5b3VyIGxheWVyIGNhbGwuXCIpLHQuY2VsbD1uZXcgTFNUTUNlbGwodCksZS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzO3JldHVybiB0aWR5KGZ1bmN0aW9uKCl7bnVsbCE9ci5jZWxsLmRyb3BvdXRNYXNrJiYoZGlzcG9zZShyLmNlbGwuZHJvcG91dE1hc2spLHIuY2VsbC5kcm9wb3V0TWFzaz1udWxsKSxudWxsIT1yLmNlbGwucmVjdXJyZW50RHJvcG91dE1hc2smJihkaXNwb3NlKHIuY2VsbC5yZWN1cnJlbnREcm9wb3V0TWFzayksci5jZWxsLnJlY3VycmVudERyb3BvdXRNYXNrPW51bGwpO3ZhciBpPW51bGw9PW4/bnVsbDpuLm1hc2ssYT1udWxsPT1uP251bGw6bi50cmFpbmluZyxvPW51bGw9PW4/bnVsbDpuLmluaXRpYWxTdGF0ZTtyZXR1cm4gZS5wcm90b3R5cGUuY2FsbC5jYWxsKHIsdCx7bWFzazppLHRyYWluaW5nOmEsaW5pdGlhbFN0YXRlOm99KX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ1bml0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLnVuaXRzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFjdGl2YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5hY3RpdmF0aW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJlY3VycmVudEFjdGl2YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5yZWN1cnJlbnRBY3RpdmF0aW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInVzZUJpYXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC51c2VCaWFzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImtlcm5lbEluaXRpYWxpemVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwua2VybmVsSW5pdGlhbGl6ZXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicmVjdXJyZW50SW5pdGlhbGl6ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5yZWN1cnJlbnRJbml0aWFsaXplcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJiaWFzSW5pdGlhbGl6ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5iaWFzSW5pdGlhbGl6ZXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidW5pdEZvcmdldEJpYXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC51bml0Rm9yZ2V0Qmlhc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJrZXJuZWxSZWd1bGFyaXplclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLmtlcm5lbFJlZ3VsYXJpemVyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJlY3VycmVudFJlZ3VsYXJpemVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwucmVjdXJyZW50UmVndWxhcml6ZXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYmlhc1JlZ3VsYXJpemVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwuYmlhc1JlZ3VsYXJpemVyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImtlcm5lbENvbnN0cmFpbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5rZXJuZWxDb25zdHJhaW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJlY3VycmVudENvbnN0cmFpbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5yZWN1cnJlbnRDb25zdHJhaW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJpYXNDb25zdHJhaW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGwuYmlhc0NvbnN0cmFpbnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZHJvcG91dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLmRyb3BvdXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicmVjdXJyZW50RHJvcG91dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsLnJlY3VycmVudERyb3BvdXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW1wbGVtZW50YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbC5pbXBsZW1lbnRhdGlvbn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17dW5pdHM6dGhpcy51bml0cyxhY3RpdmF0aW9uOnNlcmlhbGl6ZUFjdGl2YXRpb24odGhpcy5hY3RpdmF0aW9uKSxyZWN1cnJlbnRBY3RpdmF0aW9uOnNlcmlhbGl6ZUFjdGl2YXRpb24odGhpcy5yZWN1cnJlbnRBY3RpdmF0aW9uKSx1c2VCaWFzOnRoaXMudXNlQmlhcyxrZXJuZWxJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLmtlcm5lbEluaXRpYWxpemVyKSxyZWN1cnJlbnRJbml0aWFsaXplcjpzZXJpYWxpemVJbml0aWFsaXplcih0aGlzLnJlY3VycmVudEluaXRpYWxpemVyKSxiaWFzSW5pdGlhbGl6ZXI6c2VyaWFsaXplSW5pdGlhbGl6ZXIodGhpcy5iaWFzSW5pdGlhbGl6ZXIpLHVuaXRGb3JnZXRCaWFzOnRoaXMudW5pdEZvcmdldEJpYXMsa2VybmVsUmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5rZXJuZWxSZWd1bGFyaXplcikscmVjdXJyZW50UmVndWxhcml6ZXI6c2VyaWFsaXplUmVndWxhcml6ZXIodGhpcy5yZWN1cnJlbnRSZWd1bGFyaXplciksYmlhc1JlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuYmlhc1JlZ3VsYXJpemVyKSxhY3Rpdml0eVJlZ3VsYXJpemVyOnNlcmlhbGl6ZVJlZ3VsYXJpemVyKHRoaXMuYWN0aXZpdHlSZWd1bGFyaXplciksa2VybmVsQ29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMua2VybmVsQ29uc3RyYWludCkscmVjdXJyZW50Q29uc3RyYWludDpzZXJpYWxpemVDb25zdHJhaW50KHRoaXMucmVjdXJyZW50Q29uc3RyYWludCksYmlhc0NvbnN0cmFpbnQ6c2VyaWFsaXplQ29uc3RyYWludCh0aGlzLmJpYXNDb25zdHJhaW50KSxkcm9wb3V0OnRoaXMuZHJvcG91dCxyZWN1cnJlbnREcm9wb3V0OnRoaXMucmVjdXJyZW50RHJvcG91dCxpbXBsZW1lbnRhdGlvbjp0aGlzLmltcGxlbWVudGF0aW9ufSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBkZWxldGUgbi5jZWxsLE9iamVjdC5hc3NpZ24odCxuKSx0fSx0LmZyb21Db25maWc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PXQuaW1wbG1lbnRhdGlvbiYmKHQuaW1wbGVtZW50YXRpb249MSksbmV3IGUodCl9LHQuY2xhc3NOYW1lPVwiTFNUTVwiLHR9KFJOTik7c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKExTVE0pO3ZhciBTdGFja2VkUk5OQ2VsbHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gbi5jZWxscz10LmNlbGxzLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInN0YXRlU2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wLG49dGhpcy5jZWxscy5zbGljZSgpLnJldmVyc2UoKTt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtBcnJheS5pc0FycmF5KHIuc3RhdGVTaXplKT9lLnB1c2guYXBwbHkoZSxyLnN0YXRlU2l6ZSk6ZS5wdXNoKHIuc3RhdGVTaXplKX1yZXR1cm4gZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe2Zvcih2YXIgcj0oZT1lKS5zbGljZSgxKSxpPVtdLGE9MCxvPW4uY2VsbHMuc2xpY2UoKS5yZXZlcnNlKCk7YTxvLmxlbmd0aDthKyspe3ZhciBzPW9bYV07QXJyYXkuaXNBcnJheShzLnN0YXRlU2l6ZSk/aS5wdXNoKHIuc3BsaWNlKDAscy5zdGF0ZVNpemUubGVuZ3RoKSk6aS5wdXNoKHIuc3BsaWNlKDAsMSkpfWkucmV2ZXJzZSgpO2Zvcih2YXIgbCx1PVtdLGM9MDtjPG4uY2VsbHMubGVuZ3RoOysrYyl7cz1uLmNlbGxzW2NdO3I9aVtjXSxsPTA9PT1jP1tlWzBdXS5jb25jYXQocik6W2xbMF1dLmNvbmNhdChyKSxsPXMuY2FsbChsLHQpLHUucHVzaChsLnNsaWNlKDEpKX1yPVtdO2Zvcih2YXIgcD0wLGg9dS5zbGljZSgpLnJldmVyc2UoKTtwPGgubGVuZ3RoO3ArKyl7dmFyIGQ9aFtwXTtyLnB1c2guYXBwbHkocixkKX1yZXR1cm5bbFswXV0uY29uY2F0KHIpfSl9LHQucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKGUpe3ZhciB0O2lzQXJyYXlPZlNoYXBlcyhlKSYmKGU9ZVswXSksZT1lLHRoaXMuY2VsbHMuZm9yRWFjaChmdW5jdGlvbihuLHIpe25hbWVTY29wZShcIlJOTkNlbGxfXCIrcixmdW5jdGlvbigpe24uYnVpbGQoZSksdD1BcnJheS5pc0FycmF5KG4uc3RhdGVTaXplKT9uLnN0YXRlU2l6ZVswXTpuLnN0YXRlU2l6ZSxlPVtlWzBdLHRdfSl9KSx0aGlzLmJ1aWx0PSEwfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sbj0wLHI9dGhpcy5jZWxscztuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTt0LnB1c2goe2NsYXNzTmFtZTppLmdldENsYXNzTmFtZSgpLGNvbmZpZzppLmdldENvbmZpZygpfSl9dmFyIGE9e2NlbGxzOnR9LG89ZS5wcm90b3R5cGUuZ2V0Q29uZmlnLmNhbGwodGhpcyk7cmV0dXJuIE9iamVjdC5hc3NpZ24oYSxvKSxhfSx0LmZyb21Db25maWc9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPXt9KTtmb3IodmFyIHI9W10saT0wLGE9dC5jZWxscztpPGEubGVuZ3RoO2krKyl7dmFyIG89YVtpXTtyLnB1c2goZGVzZXJpYWxpemUobyxuKSl9cmV0dXJuIG5ldyBlKHtjZWxsczpyfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInRyYWluYWJsZVdlaWdodHNcIix7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMudHJhaW5hYmxlKXJldHVybltdO2Zvcih2YXIgZT1bXSx0PTAsbj10aGlzLmNlbGxzO3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1uW3RdO2UucHVzaC5hcHBseShlLHIudHJhaW5hYmxlV2VpZ2h0cyl9cmV0dXJuIGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibm9uVHJhaW5hYmxlV2VpZ2h0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wLG49dGhpcy5jZWxsczt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtlLnB1c2guYXBwbHkoZSxyLm5vblRyYWluYWJsZVdlaWdodHMpfWlmKCF0aGlzLnRyYWluYWJsZSl7Zm9yKHZhciBpPVtdLGE9MCxvPXRoaXMuY2VsbHM7YTxvLmxlbmd0aDthKyspe3I9b1thXTtpLnB1c2guYXBwbHkoaSxyLnRyYWluYWJsZVdlaWdodHMpfXJldHVybiBpLmNvbmNhdChlKX1yZXR1cm4gZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5nZXRXZWlnaHRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MCxuPXRoaXMuY2VsbHM7dDxuLmxlbmd0aDt0Kyspe3ZhciByPW5bdF07ZS5wdXNoLmFwcGx5KGUsci53ZWlnaHRzKX1yZXR1cm4gYmF0Y2hHZXRWYWx1ZShlKX0sdC5wcm90b3R5cGUuc2V0V2VpZ2h0cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wLHI9dGhpcy5jZWxscztuPHIubGVuZ3RoO24rKylmb3IodmFyIGk9cltuXSxhPWkud2VpZ2h0cy5sZW5ndGgsbz1lLnNwbGljZShhKSxzPTA7czxpLndlaWdodHMubGVuZ3RoOysrcyl0LnB1c2goW2kud2VpZ2h0c1tzXSxvW3NdXSk7YmF0Y2hTZXRWYWx1ZSh0KX0sdC5jbGFzc05hbWU9XCJTdGFja2VkUk5OQ2VsbHNcIix0fShSTk5DZWxsKTtmdW5jdGlvbiBnZW5lcmF0ZURyb3BvdXRNYXNrKGUsdCxuLHIpe2Z1bmN0aW9uIGkoKXtyZXR1cm4gZHJvcG91dCQxKGUoKSx0KX1pZih2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1yJiYocj0xKSxyPjEpe2Zvcih2YXIgYT1bXSxvPTA7bzxyO28rKylhLnB1c2goaW5UcmFpblBoYXNlKGksZSxuKSk7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBrZWVwKGUuY2xvbmUoKSl9KX1yZXR1cm4ga2VlcChpblRyYWluUGhhc2UoaSxlLG4pLmNsb25lKCkpfXNlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhTdGFja2VkUk5OQ2VsbHMpO3ZhciBXcmFwcGVyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4ubGF5ZXI9dC5sYXllcixufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbihlKXt0aGlzLmJ1aWx0PSEwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ0cmFpbmFibGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMubGF5ZXImJnRoaXMubGF5ZXIudHJhaW5hYmxlfSxzZXQ6ZnVuY3Rpb24oZSl7bnVsbCE9dGhpcy5sYXllciYmKHRoaXMubGF5ZXIudHJhaW5hYmxlPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInRyYWluYWJsZVdlaWdodHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF5ZXIudHJhaW5hYmxlV2VpZ2h0c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJub25UcmFpbmFibGVXZWlnaHRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxheWVyLm5vblRyYWluYWJsZVdlaWdodHN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidXBkYXRlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllci5fdXBkYXRlc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJsb3NzZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF5ZXIubG9zc2VzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmdldFdlaWdodHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllci5nZXRXZWlnaHRzKCl9LHQucHJvdG90eXBlLnNldFdlaWdodHM9ZnVuY3Rpb24oZSl7dGhpcy5sYXllci5zZXRXZWlnaHRzKGUpfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17bGF5ZXI6e2NsYXNzTmFtZTp0aGlzLmxheWVyLmdldENsYXNzTmFtZSgpLGNvbmZpZzp0aGlzLmxheWVyLmdldENvbmZpZygpfX0sbj1lLnByb3RvdHlwZS5nZXRDb25maWcuY2FsbCh0aGlzKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LG4pLHR9LHQucHJvdG90eXBlLnNldEZhc3RXZWlnaHRJbml0RHVyaW5nQnVpbGQ9ZnVuY3Rpb24odCl7ZS5wcm90b3R5cGUuc2V0RmFzdFdlaWdodEluaXREdXJpbmdCdWlsZC5jYWxsKHRoaXMsdCksbnVsbCE9dGhpcy5sYXllciYmdGhpcy5sYXllci5zZXRGYXN0V2VpZ2h0SW5pdER1cmluZ0J1aWxkKHQpfSx0LmZyb21Db25maWc9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj1kZXNlcmlhbGl6ZSh0LmxheWVyLG4pO2RlbGV0ZSB0LmxheWVyO3ZhciBpPXtsYXllcjpyfTtyZXR1cm4gT2JqZWN0LmFzc2lnbihpLHQpLG5ldyBlKGkpfSx0fShMYXllciksVGltZURpc3RyaWJ1dGVkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4uc3VwcG9ydHNNYXNraW5nPSEwLG59cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKHQpe2lmKCh0PWdldEV4YWN0bHlPbmVTaGFwZSh0KSkubGVuZ3RoPDMpdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJUaW1lRGlzdHJpYnV0ZWQgbGF5ZXIgZXhwZWN0cyBhbiBpbnB1dCBzaGFwZSA+PSAzRCwgYnV0IHJlY2VpdmVkIGlucHV0IHNoYXBlIFwiK0pTT04uc3RyaW5naWZ5KHQpKTt0aGlzLmlucHV0U3BlYz1be3NoYXBlOnR9XTt2YXIgbj1bdFswXV0uY29uY2F0KHQuc2xpY2UoMikpO3RoaXMubGF5ZXIuYnVpbHR8fCh0aGlzLmxheWVyLmJ1aWxkKG4pLHRoaXMubGF5ZXIuYnVpbHQ9ITApLGUucHJvdG90eXBlLmJ1aWxkLmNhbGwodGhpcyx0KX0sdC5wcm90b3R5cGUuY29tcHV0ZU91dHB1dFNoYXBlPWZ1bmN0aW9uKGUpe3ZhciB0PVsoZT1nZXRFeGFjdGx5T25lU2hhcGUoZSkpWzBdXS5jb25jYXQoZS5zbGljZSgyKSksbj10aGlzLmxheWVyLmNvbXB1dGVPdXRwdXRTaGFwZSh0KSxyPWVbMV07cmV0dXJuW25bMF0scl0uY29uY2F0KG4uc2xpY2UoMSkpfSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe3JldHVybiBybm4oZnVuY3Rpb24oZSxyKXtyZXR1cm5bZ2V0RXhhY3RseU9uZVRlbnNvcihuLmxheWVyLmNhbGwoZSx0KSksW11dfSxlPWdldEV4YWN0bHlPbmVUZW5zb3IoZSksW10sITEsbnVsbCxudWxsLCExLCEwKVsxXX0pfSx0LmNsYXNzTmFtZT1cIlRpbWVEaXN0cmlidXRlZFwiLHR9KFdyYXBwZXIpO2Z1bmN0aW9uIGNoZWNrQmlkaXJlY3Rpb25hbE1lcmdlTW9kZShlKXtjaGVja1N0cmluZ1R5cGVVbmlvblZhbHVlKFZBTElEX0JJRElSRUNUSU9OQUxfTUVSR0VfTU9ERVMsXCJCaWRpcmVjdGlvbmFsTWVyZ2VNb2RlXCIsZSl9c2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKFRpbWVEaXN0cmlidXRlZCk7dmFyIERFRkFVTFRfQklESVJFQ1RJT05BTF9NRVJHRV9NT0RFPVwiY29uY2F0XCIsQmlkaXJlY3Rpb25hbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzLHI9dC5sYXllci5nZXRDb25maWcoKSxpPXt9O2kuY2xhc3NOYW1lPXQubGF5ZXIuZ2V0Q2xhc3NOYW1lKCksaS5jb25maWc9cixuLmZvcndhcmRMYXllcj1kZXNlcmlhbGl6ZShpKSxyLmdvQmFja3dhcmRzPSEwIT09ci5nb0JhY2t3YXJkczt2YXIgYT17fTtpZihhLmNsYXNzTmFtZT10LmxheWVyLmdldENsYXNzTmFtZSgpLGEuY29uZmlnPXIsbi5iYWNrd2FyZExheWVyPWRlc2VyaWFsaXplKGEpLG4uZm9yd2FyZExheWVyLm5hbWU9XCJmb3J3YXJkX1wiK24uZm9yd2FyZExheWVyLm5hbWUsbi5iYWNrd2FyZExheWVyLm5hbWU9XCJiYWNrd2FyZF9cIituLmJhY2t3YXJkTGF5ZXIubmFtZSxuLm1lcmdlTW9kZT12b2lkIDA9PT10Lm1lcmdlTW9kZT9ERUZBVUxUX0JJRElSRUNUSU9OQUxfTUVSR0VfTU9ERTp0Lm1lcmdlTW9kZSxjaGVja0JpZGlyZWN0aW9uYWxNZXJnZU1vZGUobi5tZXJnZU1vZGUpLHQud2VpZ2h0cyl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcIndlaWdodHMgc3VwcG9ydCBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIEJpZGlyZWN0aW9uYWwgbGF5ZXIgeWV0LlwiKTtyZXR1cm4gbi5fc3RhdGVmdWw9dC5sYXllci5zdGF0ZWZ1bCxuLnJldHVyblNlcXVlbmNlcz10LmxheWVyLnJldHVyblNlcXVlbmNlcyxuLnJldHVyblN0YXRlPXQubGF5ZXIucmV0dXJuU3RhdGUsbi5zdXBwb3J0c01hc2tpbmc9ITAsbi5fdHJhaW5hYmxlPSEwLG4uaW5wdXRTcGVjPXQubGF5ZXIuaW5wdXRTcGVjLG4ubnVtQ29uc3RhbnRzPW51bGwsbn1yZXR1cm4gX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidHJhaW5hYmxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFpbmFibGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl90cmFpbmFibGU9ZSxudWxsIT10aGlzLmZvcndhcmRMYXllciYmKHRoaXMuZm9yd2FyZExheWVyLnRyYWluYWJsZT1lKSxudWxsIT10aGlzLmJhY2t3YXJkTGF5ZXImJih0aGlzLmJhY2t3YXJkTGF5ZXIudHJhaW5hYmxlPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmdldFdlaWdodHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3J3YXJkTGF5ZXIuZ2V0V2VpZ2h0cygpLmNvbmNhdCh0aGlzLmJhY2t3YXJkTGF5ZXIuZ2V0V2VpZ2h0cygpKX0sdC5wcm90b3R5cGUuc2V0V2VpZ2h0cz1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aCxuPU1hdGguZmxvb3IodC8yKTt0aGlzLmZvcndhcmRMYXllci5zZXRXZWlnaHRzKGUuc2xpY2UoMCxuKSksdGhpcy5iYWNrd2FyZExheWVyLnNldFdlaWdodHMoZS5zbGljZShuKSl9LHQucHJvdG90eXBlLmNvbXB1dGVPdXRwdXRTaGFwZT1mdW5jdGlvbihlKXt2YXIgdCxuLHIsaT10aGlzLmZvcndhcmRMYXllci5jb21wdXRlT3V0cHV0U2hhcGUoZSk7cmV0dXJuIEFycmF5LmlzQXJyYXkoaSkmJkFycmF5LmlzQXJyYXkoaVswXSl8fChpPVtpXSksaT1pLHRoaXMucmV0dXJuU3RhdGU/KHI9aS5zbGljZSgxKSx0PWlbMF0pOnQ9aVswXSx0PXQsXCJjb25jYXRcIj09PXRoaXMubWVyZ2VNb2RlPyh0W3QubGVuZ3RoLTFdKj0yLG49W3RdKTpuPW51bGw9PXRoaXMubWVyZ2VNb2RlP1t0LHQuc2xpY2UoKV06W3RdLHRoaXMucmV0dXJuU3RhdGU/bnVsbD09dGhpcy5tZXJnZU1vZGU/bi5jb25jYXQocikuY29uY2F0KHIuc2xpY2UoKSk6W3RdLmNvbmNhdChyKS5jb25jYXQoci5zbGljZSgpKTpzaW5nbGV0b25PckFycmF5KG4pfSx0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LG4pe3ZhciByPW51bGw9PW4/bnVsbDpuLmluaXRpYWxTdGF0ZSxpPW51bGw9PW4/bnVsbDpuLmNvbnN0YW50cztudWxsPT1uJiYobj17fSk7dmFyIGE9c3RhbmRhcmRpemVBcmdzKHQscixpLHRoaXMubnVtQ29uc3RhbnRzKTtpZih0PWEuaW5wdXRzLHI9YS5pbml0aWFsU3RhdGUsaT1hLmNvbnN0YW50cyxBcnJheS5pc0FycmF5KHQpJiYocj10LnNsaWNlKDEpLHQ9dFswXSksKG51bGw9PXJ8fDA9PT1yLmxlbmd0aCkmJm51bGw9PWkpcmV0dXJuIGUucHJvdG90eXBlLmFwcGx5LmNhbGwodGhpcyx0LG4pO3ZhciBvPVtdLHM9W107aWYobnVsbCE9cil7dmFyIGw9ci5sZW5ndGg7aWYobCUyPjApdGhyb3cgbmV3IFZhbHVlRXJyb3IoXCJXaGVuIHBhc3NpbmcgYGluaXRpYWxTdGF0ZWAgdG8gYSBCaWRyZWN0aW9uYWwgUk5OLCB0aGUgc3RhdGUgc2hvdWxkIGJlIGFuIEFycmF5IGNvbnRhaW5pbmcgdGhlIHN0YXRlcyBvZiB0aGUgdW5kZXJseWluZyBSTk5zLlwiKTtuLmluaXRpYWxTdGF0ZT1yLG8ucHVzaC5hcHBseShvLHIpO3ZhciB1PXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSW5wdXRTcGVjKHtzaGFwZTplLnNoYXBlfSl9KTt0aGlzLmZvcndhcmRMYXllci5zdGF0ZVNwZWM9dS5zbGljZSgwLGwvMiksdGhpcy5iYWNrd2FyZExheWVyLnN0YXRlU3BlYz11LnNsaWNlKGwvMikscy5wdXNoLmFwcGx5KHMsdSl9aWYobnVsbCE9aSl0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcihcIlN1cHBvcnQgZm9yIGNvbnN0YW50cyBpbiBCaWRpcmVjdGlvbmFsIGxheWVycyBpcyBub3QgaW1wbGVtZW50ZWQgeWV0LlwiKTtmb3IodmFyIGM9b1swXWluc3RhbmNlb2YgU3ltYm9saWNUZW5zb3IscD0wLGg9bztwPGgubGVuZ3RoO3ArKyl7aWYoaFtwXWluc3RhbmNlb2YgU3ltYm9saWNUZW5zb3IhPT1jKXRocm93IG5ldyBWYWx1ZUVycm9yKFwiVGhlIGluaXRpYWwgc3RhdGUgb2YgYSBCaWRpcmVjdGlvbmFsIGxheWVyIGNhbm5vdCBiZSBzcGVjaWZpZWQgYXMgYSBtaXggb2Ygc3ltYm9saWMgYW5kIG5vbi1zeW1ib2xpYyB0ZW5zb3JzXCIpfWlmKGMpe3ZhciBkPVt0XS5jb25jYXQobyksZj10aGlzLmlucHV0U3BlYy5jb25jYXQocyksZz10aGlzLmlucHV0U3BlYzt0aGlzLmlucHV0U3BlYz1mO3ZhciBtPWUucHJvdG90eXBlLmFwcGx5LmNhbGwodGhpcyxkLG4pO3JldHVybiB0aGlzLmlucHV0U3BlYz1nLG19cmV0dXJuIGUucHJvdG90eXBlLmFwcGx5LmNhbGwodGhpcyx0LG4pfSx0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGlkeShmdW5jdGlvbigpe3ZhciByLGksYSxvLHM9dC5pbml0aWFsU3RhdGU7aWYobnVsbD09cylyPW4uZm9yd2FyZExheWVyLmNhbGwoZSx0KSxpPW4uYmFja3dhcmRMYXllci5jYWxsKGUsdCk7ZWxzZXt2YXIgbD1zLnNsaWNlKDAscy5sZW5ndGgvMiksdT1zLnNsaWNlKHMubGVuZ3RoLzIpO3I9bi5mb3J3YXJkTGF5ZXIuY2FsbChlLE9iamVjdC5hc3NpZ24odCx7aW5pdGlhbFN0YXRlOmx9KSksaT1uLmJhY2t3YXJkTGF5ZXIuY2FsbChlLE9iamVjdC5hc3NpZ24odCx7aW5pdGlhbFN0YXRlOnV9KSl9cmV0dXJuIG4ucmV0dXJuU3RhdGUmJihBcnJheS5pc0FycmF5KHIpJiYoYT1yLnNsaWNlKDEpLmNvbmNhdChpLnNsaWNlKDEpKSkscj1yWzBdLGk9aVswXSksbi5yZXR1cm5TZXF1ZW5jZXMmJihpPXJldmVyc2UoaSwxKSksXCJjb25jYXRcIj09PW4ubWVyZ2VNb2RlP289Y29uY2F0ZW5hdGUoW3IsaV0pOlwic3VtXCI9PT1uLm1lcmdlTW9kZT9vPWFkZChyLGkpOlwiYXZlXCI9PT1uLm1lcmdlTW9kZT9vPW11bCguNSxhZGQocixpKSk6XCJtdWxcIj09PW4ubWVyZ2VNb2RlP289bXVsKHIsaSk6bnVsbD09bi5tZXJnZU1vZGUmJihvPVtyLGldKSxuLnJldHVyblN0YXRlP251bGw9PW4ubWVyZ2VNb2RlP28uY29uY2F0KGEpOltvXS5jb25jYXQoYSk6b30pfSx0LnByb3RvdHlwZS5yZXNldFN0YXRlcz1mdW5jdGlvbihlKXt0aGlzLmZvcndhcmRMYXllci5yZXNldFN0YXRlcygpLHRoaXMuYmFja3dhcmRMYXllci5yZXNldFN0YXRlcygpfSx0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO25hbWVTY29wZSh0aGlzLmZvcndhcmRMYXllci5uYW1lLGZ1bmN0aW9uKCl7dC5mb3J3YXJkTGF5ZXIuYnVpbGQoZSl9KSxuYW1lU2NvcGUodGhpcy5iYWNrd2FyZExheWVyLm5hbWUsZnVuY3Rpb24oKXt0LmJhY2t3YXJkTGF5ZXIuYnVpbGQoZSl9KSx0aGlzLmJ1aWx0PSEwfSx0LnByb3RvdHlwZS5jb21wdXRlTWFzaz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKEFycmF5LmlzQXJyYXkodCkmJih0PXRbMF0pLG49dGhpcy5yZXR1cm5TZXF1ZW5jZXM/bnVsbD09dGhpcy5tZXJnZU1vZGU/W3QsdF06dDpudWxsPT10aGlzLm1lcmdlTW9kZT9bbnVsbCxudWxsXTpudWxsLHRoaXMucmV0dXJuU3RhdGUpe3ZhciByPXRoaXMuZm9yd2FyZExheWVyLnN0YXRlcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9KTtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uLmNvbmNhdChyKS5jb25jYXQocik6W25dLmNvbmNhdChyKS5jb25jYXQocil9cmV0dXJuIG59LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInRyYWluYWJsZVdlaWdodHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9yd2FyZExheWVyLnRyYWluYWJsZVdlaWdodHMuY29uY2F0KHRoaXMuYmFja3dhcmRMYXllci50cmFpbmFibGVXZWlnaHRzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJub25UcmFpbmFibGVXZWlnaHRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcndhcmRMYXllci5ub25UcmFpbmFibGVXZWlnaHRzLmNvbmNhdCh0aGlzLmJhY2t3YXJkTGF5ZXIubm9uVHJhaW5hYmxlV2VpZ2h0cyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuc2V0RmFzdFdlaWdodEluaXREdXJpbmdCdWlsZD1mdW5jdGlvbih0KXtlLnByb3RvdHlwZS5zZXRGYXN0V2VpZ2h0SW5pdER1cmluZ0J1aWxkLmNhbGwodGhpcyx0KSxudWxsIT10aGlzLmZvcndhcmRMYXllciYmdGhpcy5mb3J3YXJkTGF5ZXIuc2V0RmFzdFdlaWdodEluaXREdXJpbmdCdWlsZCh0KSxudWxsIT10aGlzLmJhY2t3YXJkTGF5ZXImJnRoaXMuYmFja3dhcmRMYXllci5zZXRGYXN0V2VpZ2h0SW5pdER1cmluZ0J1aWxkKHQpfSx0LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17bWVyZ2VNb2RlOnRoaXMubWVyZ2VNb2RlfSxuPWUucHJvdG90eXBlLmdldENvbmZpZy5jYWxsKHRoaXMpO3JldHVybiBPYmplY3QuYXNzaWduKHQsbiksdH0sdC5mcm9tQ29uZmlnPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZGVzZXJpYWxpemUodC5sYXllcik7aWYoZGVsZXRlIHQubGF5ZXIsbnVsbCE9dC5udW1Db25zdGFudHMpdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXCJEZXNlcmlhbGl6YXRpb24gb2YgYSBCaWRpcmVjdGlvbmFsIGxheWVyIHdpdGggbnVtQ29uc3RhbnRzIHByZXNlbnQgaXMgbm90IHN1cHBvcnRlZCB5ZXQuXCIpO3ZhciByPXQ7cmV0dXJuIHIubGF5ZXI9bixuZXcgZShyKX0sdC5jbGFzc05hbWU9XCJCaWRpcmVjdGlvbmFsXCIsdH0oV3JhcHBlcik7ZnVuY3Rpb24gaW5wdXRMYXllcihlKXtyZXR1cm4gbmV3IElucHV0TGF5ZXIoZSl9ZnVuY3Rpb24gZWx1JDIoZSl7cmV0dXJuIG5ldyBFTFUoZSl9ZnVuY3Rpb24gcmVMVShlKXtyZXR1cm4gbmV3IFJlTFUoZSl9ZnVuY3Rpb24gbGVha3lSZUxVKGUpe3JldHVybiBuZXcgTGVha3lSZUxVKGUpfWZ1bmN0aW9uIHByZWx1JDEoZSl7cmV0dXJuIG5ldyBQUmVMVShlKX1mdW5jdGlvbiBzb2Z0bWF4JDEoZSl7cmV0dXJuIG5ldyBTb2Z0bWF4JDEoZSl9ZnVuY3Rpb24gdGhyZXNob2xkZWRSZUxVKGUpe3JldHVybiBuZXcgVGhyZXNob2xkZWRSZUxVKGUpfWZ1bmN0aW9uIGNvbnYxZCQyKGUpe3JldHVybiBuZXcgQ29udjFEKGUpfWZ1bmN0aW9uIGNvbnYyZCQxKGUpe3JldHVybiBuZXcgQ29udjJEKGUpfWZ1bmN0aW9uIGNvbnYyZFRyYW5zcG9zZSQxKGUpe3JldHVybiBuZXcgQ29udjJEVHJhbnNwb3NlKGUpfWZ1bmN0aW9uIGNvbnYzZCQyKGUpe3JldHVybiBuZXcgQ29udjNEKGUpfWZ1bmN0aW9uIHNlcGFyYWJsZUNvbnYyZCQxKGUpe3JldHVybiBuZXcgU2VwYXJhYmxlQ29udjJEKGUpfWZ1bmN0aW9uIGNyb3BwaW5nMkQoZSl7cmV0dXJuIG5ldyBDcm9wcGluZzJEKGUpfWZ1bmN0aW9uIHVwU2FtcGxpbmcyZChlKXtyZXR1cm4gbmV3IFVwU2FtcGxpbmcyRChlKX1mdW5jdGlvbiBkZXB0aHdpc2VDb252MmQkMihlKXtyZXR1cm4gbmV3IERlcHRod2lzZUNvbnYyRChlKX1mdW5jdGlvbiBhY3RpdmF0aW9uKGUpe3JldHVybiBuZXcgQWN0aXZhdGlvbiQxKGUpfWZ1bmN0aW9uIGRlbnNlKGUpe3JldHVybiBuZXcgRGVuc2UoZSl9ZnVuY3Rpb24gZHJvcG91dCQyKGUpe3JldHVybiBuZXcgRHJvcG91dChlKX1mdW5jdGlvbiBzcGF0aWFsRHJvcG91dDFkKGUpe3JldHVybiBuZXcgU3BhdGlhbERyb3BvdXQxRChlKX1mdW5jdGlvbiBmbGF0dGVuJDEoZSl7cmV0dXJuIG5ldyBGbGF0dGVuKGUpfWZ1bmN0aW9uIHJlcGVhdFZlY3RvcihlKXtyZXR1cm4gbmV3IFJlcGVhdFZlY3RvcihlKX1mdW5jdGlvbiByZXNoYXBlKGUpe3JldHVybiBuZXcgUmVzaGFwZShlKX1mdW5jdGlvbiBwZXJtdXRlKGUpe3JldHVybiBuZXcgUGVybXV0ZShlKX1mdW5jdGlvbiBlbWJlZGRpbmcoZSl7cmV0dXJuIG5ldyBFbWJlZGRpbmcoZSl9ZnVuY3Rpb24gYWRkJDIoZSl7cmV0dXJuIG5ldyBBZGQoZSl9ZnVuY3Rpb24gYXZlcmFnZSQxKGUpe3JldHVybiBuZXcgQXZlcmFnZShlKX1mdW5jdGlvbiBjb25jYXRlbmF0ZSQyKGUpe3JldHVybiBuZXcgQ29uY2F0ZW5hdGUoZSl9ZnVuY3Rpb24gbWF4aW11bSQyKGUpe3JldHVybiBuZXcgTWF4aW11bShlKX1mdW5jdGlvbiBtaW5pbXVtJDIoZSl7cmV0dXJuIG5ldyBNaW5pbXVtKGUpfWZ1bmN0aW9uIG11bHRpcGx5JDEoZSl7cmV0dXJuIG5ldyBNdWx0aXBseShlKX1mdW5jdGlvbiBkb3QkMShlKXtyZXR1cm4gbmV3IERvdChlKX1mdW5jdGlvbiBiYXRjaE5vcm1hbGl6YXRpb24kMShlKXtyZXR1cm4gbmV3IEJhdGNoTm9ybWFsaXphdGlvbihlKX1mdW5jdGlvbiBsYXllck5vcm1hbGl6YXRpb24oZSl7cmV0dXJuIG5ldyBMYXllck5vcm1hbGl6YXRpb24oZSl9ZnVuY3Rpb24gemVyb1BhZGRpbmcyZChlKXtyZXR1cm4gbmV3IFplcm9QYWRkaW5nMkQoZSl9ZnVuY3Rpb24gYXZlcmFnZVBvb2xpbmcxZChlKXtyZXR1cm4gbmV3IEF2ZXJhZ2VQb29saW5nMUQoZSl9ZnVuY3Rpb24gYXZnUG9vbDFkKGUpe3JldHVybiBhdmVyYWdlUG9vbGluZzFkKGUpfWZ1bmN0aW9uIGF2Z1Bvb2xpbmcxZChlKXtyZXR1cm4gYXZlcmFnZVBvb2xpbmcxZChlKX1mdW5jdGlvbiBhdmVyYWdlUG9vbGluZzJkKGUpe3JldHVybiBuZXcgQXZlcmFnZVBvb2xpbmcyRChlKX1mdW5jdGlvbiBhdmdQb29sMmQoZSl7cmV0dXJuIGF2ZXJhZ2VQb29saW5nMmQoZSl9ZnVuY3Rpb24gYXZnUG9vbGluZzJkKGUpe3JldHVybiBhdmVyYWdlUG9vbGluZzJkKGUpfWZ1bmN0aW9uIGF2ZXJhZ2VQb29saW5nM2QoZSl7cmV0dXJuIG5ldyBBdmVyYWdlUG9vbGluZzNEKGUpfWZ1bmN0aW9uIGF2Z1Bvb2wzZCQxKGUpe3JldHVybiBhdmVyYWdlUG9vbGluZzNkKGUpfWZ1bmN0aW9uIGF2Z1Bvb2xpbmczZChlKXtyZXR1cm4gYXZlcmFnZVBvb2xpbmczZChlKX1mdW5jdGlvbiBnbG9iYWxBdmVyYWdlUG9vbGluZzFkKGUpe3JldHVybiBuZXcgR2xvYmFsQXZlcmFnZVBvb2xpbmcxRChlKX1mdW5jdGlvbiBnbG9iYWxBdmVyYWdlUG9vbGluZzJkKGUpe3JldHVybiBuZXcgR2xvYmFsQXZlcmFnZVBvb2xpbmcyRChlKX1mdW5jdGlvbiBnbG9iYWxNYXhQb29saW5nMWQoZSl7cmV0dXJuIG5ldyBHbG9iYWxNYXhQb29saW5nMUQoZSl9ZnVuY3Rpb24gZ2xvYmFsTWF4UG9vbGluZzJkKGUpe3JldHVybiBuZXcgR2xvYmFsTWF4UG9vbGluZzJEKGUpfWZ1bmN0aW9uIG1heFBvb2xpbmcxZChlKXtyZXR1cm4gbmV3IE1heFBvb2xpbmcxRChlKX1mdW5jdGlvbiBtYXhQb29saW5nMmQoZSl7cmV0dXJuIG5ldyBNYXhQb29saW5nMkQoZSl9ZnVuY3Rpb24gbWF4UG9vbGluZzNkKGUpe3JldHVybiBuZXcgTWF4UG9vbGluZzNEKGUpfWZ1bmN0aW9uIGdydShlKXtyZXR1cm4gbmV3IEdSVShlKX1mdW5jdGlvbiBncnVDZWxsKGUpe3JldHVybiBuZXcgR1JVQ2VsbChlKX1mdW5jdGlvbiBsc3RtKGUpe3JldHVybiBuZXcgTFNUTShlKX1mdW5jdGlvbiBsc3RtQ2VsbChlKXtyZXR1cm4gbmV3IExTVE1DZWxsKGUpfWZ1bmN0aW9uIHNpbXBsZVJOTihlKXtyZXR1cm4gbmV3IFNpbXBsZVJOTihlKX1mdW5jdGlvbiBzaW1wbGVSTk5DZWxsKGUpe3JldHVybiBuZXcgU2ltcGxlUk5OQ2VsbChlKX1mdW5jdGlvbiBybm4kMShlKXtyZXR1cm4gbmV3IFJOTihlKX1mdW5jdGlvbiBzdGFja2VkUk5OQ2VsbHMoZSl7cmV0dXJuIG5ldyBTdGFja2VkUk5OQ2VsbHMoZSl9ZnVuY3Rpb24gYmlkaXJlY3Rpb25hbChlKXtyZXR1cm4gbmV3IEJpZGlyZWN0aW9uYWwoZSl9ZnVuY3Rpb24gdGltZURpc3RyaWJ1dGVkKGUpe3JldHVybiBuZXcgVGltZURpc3RyaWJ1dGVkKGUpfXNlcmlhbGl6YXRpb24ucmVnaXN0ZXJDbGFzcyhCaWRpcmVjdGlvbmFsKTt2YXIgZ2xvYmFsTWF4UG9vbDFkPWdsb2JhbE1heFBvb2xpbmcxZCxnbG9iYWxNYXhQb29sMmQ9Z2xvYmFsTWF4UG9vbGluZzJkLG1heFBvb2wxZD1tYXhQb29saW5nMWQsbWF4UG9vbDJkPW1heFBvb2xpbmcyZDtmdW5jdGlvbiBnYXVzc2lhbk5vaXNlKGUpe3JldHVybiBuZXcgR2F1c3NpYW5Ob2lzZShlKX1mdW5jdGlvbiBnYXVzc2lhbkRyb3BvdXQoZSl7cmV0dXJuIG5ldyBHYXVzc2lhbkRyb3BvdXQoZSl9ZnVuY3Rpb24gYWxwaGFEcm9wb3V0KGUpe3JldHVybiBuZXcgQWxwaGFEcm9wb3V0KGUpfWZ1bmN0aW9uIG1hc2tpbmcoZSl7cmV0dXJuIG5ldyBNYXNraW5nKGUpfXZhciBleHBvcnRzX2xheWVycz1PYmplY3QuZnJlZXplKHtpbnB1dExheWVyOmlucHV0TGF5ZXIsZWx1OmVsdSQyLHJlTFU6cmVMVSxsZWFreVJlTFU6bGVha3lSZUxVLHByZWx1OnByZWx1JDEsc29mdG1heDpzb2Z0bWF4JDEsdGhyZXNob2xkZWRSZUxVOnRocmVzaG9sZGVkUmVMVSxjb252MWQ6Y29udjFkJDIsY29udjJkOmNvbnYyZCQxLGNvbnYyZFRyYW5zcG9zZTpjb252MmRUcmFuc3Bvc2UkMSxjb252M2Q6Y29udjNkJDIsc2VwYXJhYmxlQ29udjJkOnNlcGFyYWJsZUNvbnYyZCQxLGNyb3BwaW5nMkQ6Y3JvcHBpbmcyRCx1cFNhbXBsaW5nMmQ6dXBTYW1wbGluZzJkLGRlcHRod2lzZUNvbnYyZDpkZXB0aHdpc2VDb252MmQkMixhY3RpdmF0aW9uOmFjdGl2YXRpb24sZGVuc2U6ZGVuc2UsZHJvcG91dDpkcm9wb3V0JDIsc3BhdGlhbERyb3BvdXQxZDpzcGF0aWFsRHJvcG91dDFkLGZsYXR0ZW46ZmxhdHRlbiQxLHJlcGVhdFZlY3RvcjpyZXBlYXRWZWN0b3IscmVzaGFwZTpyZXNoYXBlLHBlcm11dGU6cGVybXV0ZSxlbWJlZGRpbmc6ZW1iZWRkaW5nLGFkZDphZGQkMixhdmVyYWdlOmF2ZXJhZ2UkMSxjb25jYXRlbmF0ZTpjb25jYXRlbmF0ZSQyLG1heGltdW06bWF4aW11bSQyLG1pbmltdW06bWluaW11bSQyLG11bHRpcGx5Om11bHRpcGx5JDEsZG90OmRvdCQxLGJhdGNoTm9ybWFsaXphdGlvbjpiYXRjaE5vcm1hbGl6YXRpb24kMSxsYXllck5vcm1hbGl6YXRpb246bGF5ZXJOb3JtYWxpemF0aW9uLHplcm9QYWRkaW5nMmQ6emVyb1BhZGRpbmcyZCxhdmVyYWdlUG9vbGluZzFkOmF2ZXJhZ2VQb29saW5nMWQsYXZnUG9vbDFkOmF2Z1Bvb2wxZCxhdmdQb29saW5nMWQ6YXZnUG9vbGluZzFkLGF2ZXJhZ2VQb29saW5nMmQ6YXZlcmFnZVBvb2xpbmcyZCxhdmdQb29sMmQ6YXZnUG9vbDJkLGF2Z1Bvb2xpbmcyZDphdmdQb29saW5nMmQsYXZlcmFnZVBvb2xpbmczZDphdmVyYWdlUG9vbGluZzNkLGF2Z1Bvb2wzZDphdmdQb29sM2QkMSxhdmdQb29saW5nM2Q6YXZnUG9vbGluZzNkLGdsb2JhbEF2ZXJhZ2VQb29saW5nMWQ6Z2xvYmFsQXZlcmFnZVBvb2xpbmcxZCxnbG9iYWxBdmVyYWdlUG9vbGluZzJkOmdsb2JhbEF2ZXJhZ2VQb29saW5nMmQsZ2xvYmFsTWF4UG9vbGluZzFkOmdsb2JhbE1heFBvb2xpbmcxZCxnbG9iYWxNYXhQb29saW5nMmQ6Z2xvYmFsTWF4UG9vbGluZzJkLG1heFBvb2xpbmcxZDptYXhQb29saW5nMWQsbWF4UG9vbGluZzJkOm1heFBvb2xpbmcyZCxtYXhQb29saW5nM2Q6bWF4UG9vbGluZzNkLGdydTpncnUsZ3J1Q2VsbDpncnVDZWxsLGxzdG06bHN0bSxsc3RtQ2VsbDpsc3RtQ2VsbCxzaW1wbGVSTk46c2ltcGxlUk5OLHNpbXBsZVJOTkNlbGw6c2ltcGxlUk5OQ2VsbCxybm46cm5uJDEsc3RhY2tlZFJOTkNlbGxzOnN0YWNrZWRSTk5DZWxscyxiaWRpcmVjdGlvbmFsOmJpZGlyZWN0aW9uYWwsdGltZURpc3RyaWJ1dGVkOnRpbWVEaXN0cmlidXRlZCxnbG9iYWxNYXhQb29sMWQ6Z2xvYmFsTWF4UG9vbDFkLGdsb2JhbE1heFBvb2wyZDpnbG9iYWxNYXhQb29sMmQsbWF4UG9vbDFkOm1heFBvb2wxZCxtYXhQb29sMmQ6bWF4UG9vbDJkLExheWVyOkxheWVyLFJOTjpSTk4sUk5OQ2VsbDpSTk5DZWxsLGlucHV0OmlucHV0LGdhdXNzaWFuTm9pc2U6Z2F1c3NpYW5Ob2lzZSxnYXVzc2lhbkRyb3BvdXQ6Z2F1c3NpYW5Ecm9wb3V0LGFscGhhRHJvcG91dDphbHBoYURyb3BvdXQsbWFza2luZzptYXNraW5nfSk7ZnVuY3Rpb24gYmluYXJ5QWNjdXJhY3kkMShlLHQpe3JldHVybiBiaW5hcnlBY2N1cmFjeShlLHQpfWZ1bmN0aW9uIGJpbmFyeUNyb3NzZW50cm9weSQyKGUsdCl7cmV0dXJuIGJpbmFyeUNyb3NzZW50cm9weSQxKGUsdCl9ZnVuY3Rpb24gc3BhcnNlQ2F0ZWdvcmljYWxBY2N1cmFjeSQxKGUsdCl7cmV0dXJuIHNwYXJzZUNhdGVnb3JpY2FsQWNjdXJhY3koZSx0KX1mdW5jdGlvbiBjYXRlZ29yaWNhbEFjY3VyYWN5JDEoZSx0KXtyZXR1cm4gY2F0ZWdvcmljYWxBY2N1cmFjeShlLHQpfWZ1bmN0aW9uIGNhdGVnb3JpY2FsQ3Jvc3NlbnRyb3B5JDIoZSx0KXtyZXR1cm4gY2F0ZWdvcmljYWxDcm9zc2VudHJvcHkkMShlLHQpfWZ1bmN0aW9uIHByZWNpc2lvbiQxKGUsdCl7cmV0dXJuIHByZWNpc2lvbihlLHQpfWZ1bmN0aW9uIHJlY2FsbCQxKGUsdCl7cmV0dXJuIHJlY2FsbChlLHQpfWZ1bmN0aW9uIGNvc2luZVByb3hpbWl0eSQxKGUsdCl7cmV0dXJuIGNvc2luZVByb3hpbWl0eShlLHQpfWZ1bmN0aW9uIG1lYW5BYnNvbHV0ZUVycm9yJDEoZSx0KXtyZXR1cm4gbWVhbkFic29sdXRlRXJyb3IoZSx0KX1mdW5jdGlvbiBtZWFuQWJzb2x1dGVQZXJjZW50YWdlRXJyb3IkMShlLHQpe3JldHVybiBtZWFuQWJzb2x1dGVQZXJjZW50YWdlRXJyb3IoZSx0KX1mdW5jdGlvbiBNQVBFJDIoZSx0KXtyZXR1cm4gbWVhbkFic29sdXRlUGVyY2VudGFnZUVycm9yKGUsdCl9ZnVuY3Rpb24gbWFwZSQyKGUsdCl7cmV0dXJuIG1lYW5BYnNvbHV0ZVBlcmNlbnRhZ2VFcnJvcihlLHQpfWZ1bmN0aW9uIG1lYW5TcXVhcmVkRXJyb3IkMShlLHQpe3JldHVybiBtZWFuU3F1YXJlZEVycm9yKGUsdCl9ZnVuY3Rpb24gTVNFJDIoZSx0KXtyZXR1cm4gbWVhblNxdWFyZWRFcnJvcihlLHQpfWZ1bmN0aW9uIG1zZSQyKGUsdCl7cmV0dXJuIG1lYW5TcXVhcmVkRXJyb3IoZSx0KX12YXIgZXhwb3J0c19tZXRyaWNzPU9iamVjdC5mcmVlemUoe2JpbmFyeUFjY3VyYWN5OmJpbmFyeUFjY3VyYWN5JDEsYmluYXJ5Q3Jvc3NlbnRyb3B5OmJpbmFyeUNyb3NzZW50cm9weSQyLHNwYXJzZUNhdGVnb3JpY2FsQWNjdXJhY3k6c3BhcnNlQ2F0ZWdvcmljYWxBY2N1cmFjeSQxLGNhdGVnb3JpY2FsQWNjdXJhY3k6Y2F0ZWdvcmljYWxBY2N1cmFjeSQxLGNhdGVnb3JpY2FsQ3Jvc3NlbnRyb3B5OmNhdGVnb3JpY2FsQ3Jvc3NlbnRyb3B5JDIscHJlY2lzaW9uOnByZWNpc2lvbiQxLHJlY2FsbDpyZWNhbGwkMSxjb3NpbmVQcm94aW1pdHk6Y29zaW5lUHJveGltaXR5JDEsbWVhbkFic29sdXRlRXJyb3I6bWVhbkFic29sdXRlRXJyb3IkMSxtZWFuQWJzb2x1dGVQZXJjZW50YWdlRXJyb3I6bWVhbkFic29sdXRlUGVyY2VudGFnZUVycm9yJDEsTUFQRTpNQVBFJDIsbWFwZTptYXBlJDIsbWVhblNxdWFyZWRFcnJvcjptZWFuU3F1YXJlZEVycm9yJDEsTVNFOk1TRSQyLG1zZTptc2UkMn0pLGV4cG9ydHNfbW9kZWxzPU9iamVjdC5mcmVlemUoe21vZGVsRnJvbUpTT046bW9kZWxGcm9tSlNPTn0pO2Z1bmN0aW9uIGwxbDIoZSl7cmV0dXJuIG5ldyBMMUwyKGUpfWZ1bmN0aW9uIGwxJDEoZSl7cmV0dXJuIGwxKGUpfWZ1bmN0aW9uIGwyJDEoZSl7cmV0dXJuIGwyKGUpfXZhciBleHBvcnRzX3JlZ3VsYXJpemVycz1PYmplY3QuZnJlZXplKHtsMWwyOmwxbDIsbDE6bDEkMSxsMjpsMiQxfSksQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5tb2RlbD1udWxsLHR9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnNldE1vZGVsPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbnN0YW5jZW9mIExheWVyc01vZGVsKSl0aHJvdyBuZXcgRXJyb3IoXCJtb2RlbCBtdXN0IGJlIGEgTGF5ZXJzTW9kZWwsIG5vdCBzb21lIG90aGVyIENvbnRhaW5lclwiKTt0aGlzLm1vZGVsPWV9LHR9KEJhc2VDYWxsYmFjayk7ZnVuY3Rpb24gbGVzcyhlLHQpe3JldHVybiBlPHR9ZnVuY3Rpb24gZ3JlYXRlciQxKGUsdCl7cmV0dXJuIGU+dH12YXIgRWFybHlTdG9wcGluZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztpZihudWxsPT10JiYodD17fSksdC5yZXN0b3JlQmVzdFdlaWdodHMpdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoXCJyZXN0b3JlQmVzdFdlaWdodHMgPSBUcnVlIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiBFYXJseVN0b3BwaW5nIHlldC5cIik7cmV0dXJuIG4ubW9uaXRvcj10Lm1vbml0b3J8fFwidmFsX2xvc3NcIixuLm1pbkRlbHRhPU1hdGguYWJzKHQubWluRGVsdGF8fDApLG4ucGF0aWVuY2U9dC5wYXRpZW5jZXx8MCxuLnZlcmJvc2U9dC52ZXJib3NlfHwwLG4ubW9kZT10Lm1vZGV8fFwiYXV0b1wiLG4uYmFzZWxpbmU9dC5iYXNlbGluZSwtMT09PVtcImF1dG9cIixcIm1pblwiLFwibWF4XCJdLmluZGV4T2Yobi5tb2RlKSYmKGNvbnNvbGUud2FybihcIkVhcmx5U3RvcHBpbmcgbW9kZSAnXCIrbi5tb2RlK1wiJyBpcyBpbnZhbGlkLiBGYWxsaW5nIGJhY2sgdG8gbW9kZSAnYXV0bycuXCIpLG4ubW9kZT1cImF1dG9cIiksXCJtaW5cIj09PW4ubW9kZT9uLm1vbml0b3JGdW5jPWxlc3M6XCJtYXhcIj09PW4ubW9kZT9uLm1vbml0b3JGdW5jPWdyZWF0ZXIkMTotMSE9PW4ubW9uaXRvci5pbmRleE9mKFwiYWNjXCIpP24ubW9uaXRvckZ1bmM9Z3JlYXRlciQxOm4ubW9uaXRvckZ1bmM9bGVzcyxuLm1vbml0b3JGdW5jPT09bGVzcyYmKG4ubWluRGVsdGEqPS0xKSxufXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5vblRyYWluQmVnaW49ZnVuY3Rpb24oZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy53YWl0PTAsdGhpcy5zdG9wcGVkRXBvY2g9MCxudWxsIT10aGlzLmJhc2VsaW5lP3RoaXMuYmVzdD10aGlzLmJhc2VsaW5lOnRoaXMuYmVzdD10aGlzLm1vbml0b3JGdW5jPT09bGVzcz8xLzA6LTEvMCxbMl19KX0pfSx0LnByb3RvdHlwZS5vbkVwb2NoRW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHJlc29sdmVTY2FsYXJzSW5Mb2dzKHQpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLG51bGw9PShuPXRoaXMuZ2V0TW9uaXRvclZhbHVlKHQpKT9bMl06KHRoaXMubW9uaXRvckZ1bmMobi10aGlzLm1pbkRlbHRhLHRoaXMuYmVzdCk/KHRoaXMuYmVzdD1uLHRoaXMud2FpdD0wKToodGhpcy53YWl0KyssdGhpcy53YWl0Pj10aGlzLnBhdGllbmNlJiYodGhpcy5zdG9wcGVkRXBvY2g9ZSx0aGlzLm1vZGVsLnN0b3BUcmFpbmluZz0hMCkpLFsyXSl9fSl9KX0sdC5wcm90b3R5cGUub25UcmFpbkVuZD1mdW5jdGlvbihlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0b3BwZWRFcG9jaD4wJiZ0aGlzLnZlcmJvc2UmJmNvbnNvbGUubG9nKFwiRXBvY2ggXCIrdGhpcy5zdG9wcGVkRXBvY2grXCI6IGVhcmx5IHN0b3BwaW5nLlwiKSxbMl19KX0pfSx0LnByb3RvdHlwZS5nZXRNb25pdG9yVmFsdWU9ZnVuY3Rpb24oZSl7bnVsbD09ZSYmKGU9e30pO3ZhciB0PWVbdGhpcy5tb25pdG9yXTtyZXR1cm4gbnVsbD09dCYmY29uc29sZS53YXJuKFwiTWV0cmljIGZvciBFYXJseVN0b3BwaW5nIFwiK3RoaXMubW9uaXRvcitcIiBpcyBub3QgYXZhaWxhYmxlLiBBdmFpbGFibGUgbWV0cmljcyBhcmU6IFwiK09iamVjdC5rZXlzKGUpKSx0fSx0fShDYWxsYmFjayk7ZnVuY3Rpb24gZWFybHlTdG9wcGluZyhlKXtyZXR1cm4gbmV3IEVhcmx5U3RvcHBpbmcoZSl9dmFyIGNhbGxiYWNrcz17ZWFybHlTdG9wcGluZzplYXJseVN0b3BwaW5nfTtleHBvcnR7ZXhwb3J0c19jb25zdHJhaW50cyBhcyBjb25zdHJhaW50cyxleHBvcnRzX2luaXRpYWxpemVycyBhcyBpbml0aWFsaXplcnMsZXhwb3J0c19sYXllcnMgYXMgbGF5ZXJzLGV4cG9ydHNfbWV0cmljcyBhcyBtZXRyaWNzLGV4cG9ydHNfbW9kZWxzIGFzIG1vZGVscyxleHBvcnRzX3JlZ3VsYXJpemVycyBhcyByZWd1bGFyaXplcnMsQ2FsbGJhY2tMaXN0LEN1c3RvbUNhbGxiYWNrLEhpc3RvcnksQ2FsbGJhY2ssY2FsbGJhY2tzLEVhcmx5U3RvcHBpbmcsSW5wdXRTcGVjLFN5bWJvbGljVGVuc29yLExheWVyc01vZGVsLGlucHV0LGxvYWRMYXllcnNNb2RlbCxtb2RlbCxyZWdpc3RlckNhbGxiYWNrQ29uc3RydWN0b3Isc2VxdWVudGlhbCxSTk4sU2VxdWVudGlhbCxMYXllclZhcmlhYmxlLHZlcnNpb24gYXMgdmVyc2lvbl9sYXllcnN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGYtbGF5ZXJzLmVzbS5qcy5tYXBcbiIsIi8vIEB0ZW5zb3JmbG93L3RmanMgQ29weXJpZ2h0IDIwMjAgR29vZ2xlXG5pbXBvcnR7dmVyc2lvbl9jb3JlfWZyb21cIkB0ZW5zb3JmbG93L3RmanMtY29yZVwiO2V4cG9ydCpmcm9tXCJAdGVuc29yZmxvdy90ZmpzLWNvcmVcIjtpbXBvcnR7dmVyc2lvbl9sYXllcnN9ZnJvbVwiQHRlbnNvcmZsb3cvdGZqcy1sYXllcnNcIjtleHBvcnQqZnJvbVwiQHRlbnNvcmZsb3cvdGZqcy1sYXllcnNcIjtpbXBvcnR7dmVyc2lvbl9jb252ZXJ0ZXJ9ZnJvbVwiQHRlbnNvcmZsb3cvdGZqcy1jb252ZXJ0ZXJcIjtleHBvcnQqZnJvbVwiQHRlbnNvcmZsb3cvdGZqcy1jb252ZXJ0ZXJcIjtpbXBvcnQqYXMgdGZqc0RhdGEgZnJvbVwiQHRlbnNvcmZsb3cvdGZqcy1kYXRhXCI7aW1wb3J0e3ZlcnNpb25fZGF0YX1mcm9tXCJAdGVuc29yZmxvdy90ZmpzLWRhdGFcIjtleHBvcnR7dGZqc0RhdGEgYXMgZGF0YX07dmFyIHZlcnNpb249XCIxLjcuNFwiLHZlcnNpb24kMT17XCJ0ZmpzLWNvcmVcIjp2ZXJzaW9uX2NvcmUsXCJ0ZmpzLWRhdGFcIjp2ZXJzaW9uX2RhdGEsXCJ0ZmpzLWxheWVyc1wiOnZlcnNpb25fbGF5ZXJzLFwidGZqcy1jb252ZXJ0ZXJcIjp2ZXJzaW9uX2NvbnZlcnRlcix0ZmpzOnZlcnNpb259O2V4cG9ydHt2ZXJzaW9uJDEgYXMgdmVyc2lvbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10Zi5lc20uanMubWFwXG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKFxuICAgICAgdWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKVxuICAgICkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuIiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiLyoqXG4gKiBTdXBwb3J0IG1vZHVsZXMgdXNlZCBieSBTa2V0Y2hSTk5cbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIERlYWxzIHdpdGggZGVjb21wcmVzc2luZyBiNjQgbW9kZWxzIHRvIHVpbnQ4IGFycmF5cy5cbiAqXG4gKiBAcGFyYW0gYjY0ZW5jb2RlZCBTdHJpbmcgb2YgYjY0IGVuY29kZWQgZGF0YS5cbiAqIEByZXR1cm5zIHVpbnQ4IHZlcnNpb24gb2YgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvVWludDhhcnJheShiNjRlbmNvZGVkOiBzdHJpbmcpIHtcbiAgY29uc3QgdTg6IFVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheShhdG9iKGI2NGVuY29kZWQpXG4gICAgLnNwbGl0KFwiXCIpXG4gICAgLm1hcCgoYzogc3RyaW5nKTogbnVtYmVyID0+IHtcbiAgICAgIHJldHVybiBjLmNoYXJDb2RlQXQoMCk7XG4gICAgfSkpO1xuICByZXR1cm4gdTg7XG59XG5cbi8qKlxuICogQ29udmVydHMgYjY0IGRhdGEgaW50byBpbnQxNiBhcnJheSB2ZXJzaW9uLlxuICpcbiAqIEBwYXJhbSBiNjRlbmNvZGVkIFN0cmluZyBvZiBiNjQgZW5jb2RlZCBkYXRhLlxuICogQHJldHVybnMgaW50MTYgdmVyc2lvbiBvZiBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShiNjRlbmNvZGVkOiBzdHJpbmcpIHtcbiAgY29uc3QgdTogVWludDhBcnJheSA9IHN0cmluZ1RvVWludDhhcnJheShiNjRlbmNvZGVkKTtcbiAgY29uc3QgcmVzdWx0OiBJbnQxNkFycmF5ID0gbmV3IEludDE2QXJyYXkodS5idWZmZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBGdW5jdGlvbnMgZm9yIHNhbXBsaW5nIG5vcm1hbCBvciBiaS1ub3JtYWxzXG5cbi8vIFJhbmRvbSBudW1iZXJzIHV0aWwgKGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2thcnBhdGh5L3JlY3VycmVudGpzKVxubGV0IHJldHVyblYgPSBmYWxzZTtcbmxldCB2VmFsID0gMC4wO1xuZXhwb3J0IGZ1bmN0aW9uIGdhdXNzUmFuZG9tKCk6IG51bWJlciB7XG4gIGlmIChyZXR1cm5WKSB7XG4gICAgcmV0dXJuViA9IGZhbHNlO1xuICAgIHJldHVybiB2VmFsO1xuICB9XG4gIGNvbnN0IHUgPSAyICogTWF0aC5yYW5kb20oKSAtIDE7XG4gIGNvbnN0IHYgPSAyICogTWF0aC5yYW5kb20oKSAtIDE7XG4gIGNvbnN0IHIgPSB1ICogdSArIHYgKiB2O1xuICBpZiAociA9PT0gMCB8fCByID4gMSkge1xuICAgIHJldHVybiBnYXVzc1JhbmRvbSgpO1xuICB9XG4gIGNvbnN0IGMgPSBNYXRoLnNxcnQoLTIgKiBNYXRoLmxvZyhyKSAvIHIpO1xuICB2VmFsID0gdiAqIGM7IC8vIGNhY2hlIHRoaXNcbiAgcmV0dXJuViA9IHRydWU7XG4gIHJldHVybiB1ICogYztcbn1cbmV4cG9ydCBmdW5jdGlvbiByYW5kZihhOiBudW1iZXIsIGI6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICogKGIgLSBhKSArIGE7XG59XG5leHBvcnQgZnVuY3Rpb24gcmFuZGkoYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGIgLSBhKSArIGEpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRuKG11OiBudW1iZXIsIHN0ZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIG11ICsgZ2F1c3NSYW5kb20oKSAqIHN0ZDtcbn1cbi8vIEZyb20gaHR0cDovL3d3dy5tYXRoLmdyaW4uZWR1L35tb29yZXQvY291cnNlcy9tYXRoMzM2L2JpdmFyaWF0ZS1ub3JtYWwuaHRtbFxuZXhwb3J0IGZ1bmN0aW9uIGJpcmFuZG4oXG4gIG11MTogbnVtYmVyLFxuICBtdTI6IG51bWJlcixcbiAgc3RkMTogbnVtYmVyLFxuICBzdGQyOiBudW1iZXIsXG4gIHJobzogbnVtYmVyKTogbnVtYmVyW10ge1xuICBjb25zdCB6MSA9IHJhbmRuKDAsIDEpO1xuICBjb25zdCB6MiA9IHJhbmRuKDAsIDEpO1xuICBjb25zdCB4ID0gTWF0aC5zcXJ0KDEgLSByaG8gKiByaG8pICogc3RkMSAqIHoxICsgcmhvICogc3RkMSAqIHoyICsgbXUxO1xuICBjb25zdCB5ID0gc3RkMiAqIHoyICsgbXUyO1xuICByZXR1cm4gW3gsIHldO1xufVxuXG4vKipcbiAqIFNhbXBsZSBmcm9tIGEgY2F0ZWdvcmlhbCBkaXN0cmlidXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbXBsZVNvZnRtYXgoelNhbXBsZTogbnVtYmVyW10gfCBGbG9hdDMyQXJyYXkpOiBudW1iZXIge1xuICBjb25zdCB4ID0gcmFuZGYoMCwgMSk7XG4gIGNvbnN0IE4gPSB6U2FtcGxlLmxlbmd0aDtcbiAgbGV0IGFjY3VtdWxhdGUgPSAwO1xuICBsZXQgaTogbnVtYmVyO1xuICBmb3IgKGkgPSAwOyBpIDwgTjsgaSsrKSB7XG4gICAgYWNjdW11bGF0ZSArPSB6U2FtcGxlW2ldO1xuICAgIGlmIChhY2N1bXVsYXRlID49IHgpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICBjb25zb2xlLmxvZygnZXJyb3Igc2FtcGxpbmcgcGkgaW5kZXgnKTtcbiAgcmV0dXJuIC0xO1xufVxuXG4vLyBMZWdhY3kgUkRQIGFsZ29yaXRobSBpbXBsZW1lbnRhdGlvbiwgcG9ydGVkIG92ZXIgdG8gVHlwZVNjcmlwdC5cblxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsaWZ5TGluZShWOiBudW1iZXJbXVtdLCB0b2xlcmFuY2U9Mi4wKTogbnVtYmVyW11bXSB7XG4gIC8qXG4gIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vYWRhbW1pbGxlci84MjYxNDhcbiAgViAuLi4gW1t4MSx5MV0sW3gyLHkyXSwuLi5dIHBvbHlsaW5lXG4gIHRvbCAgLi4uIGFwcHJveGltYXRpb24gdG9sZXJhbmNlXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgQ29weXJpZ2h0IDIwMDIsIHNvZnRTdXJmZXIgKHd3dy5zb2Z0c3VyZmVyLmNvbSlcbiAgVGhpcyBjb2RlIG1heSBiZSBmcmVlbHkgdXNlZCBhbmQgbW9kaWZpZWQgZm9yIGFueSBwdXJwb3NlXG4gIHByb3ZpZGluZyB0aGF0IHRoaXMgY29weXJpZ2h0IG5vdGljZSBpcyBpbmNsdWRlZCB3aXRoIGl0LlxuICBTb2Z0U3VyZmVyIG1ha2VzIG5vIHdhcnJhbnR5IGZvciB0aGlzIGNvZGUsIGFuZCBjYW5ub3QgYmUgaGVsZFxuICBsaWFibGUgZm9yIGFueSByZWFsIG9yIGltYWdpbmVkIGRhbWFnZSByZXN1bHRpbmcgZnJvbSBpdHMgdXNlLlxuICBVc2VycyBvZiB0aGlzIGNvZGUgbXVzdCB2ZXJpZnkgY29ycmVjdG5lc3MgZm9yIHRoZWlyIGFwcGxpY2F0aW9uLlxuICBodHRwOi8vc29mdHN1cmZlci5jb20vQXJjaGl2ZS9hbGdvcml0aG1fMDIwNS9hbGdvcml0aG1fMDIwNS5odG1cbiAgKi9cblxuICBjb25zdCB0b2wgPSB0b2xlcmFuY2U7XG5cbiAgZnVuY3Rpb24gZGlmZih1OiBudW1iZXJbXSwgdjogbnVtYmVyW10pOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIFt1WzBdIC0gdlswXSwgdVsxXSAtIHZbMV1dO1xuICB9XG4gIGZ1bmN0aW9uIGRvdCh1OiBudW1iZXJbXSwgdjogbnVtYmVyW10pOiBudW1iZXIge1xuICAgIHJldHVybiB1WzBdICogdlswXSArIHVbMV0gKiB2WzFdO1xuICB9XG4gIGZ1bmN0aW9uIG5vcm0yKHY6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdlswXSAqIHZbMF0gKyB2WzFdICogdlsxXTtcbiAgfVxuICBmdW5jdGlvbiBkMih1OiBudW1iZXJbXSwgdjogbnVtYmVyW10pOiBudW1iZXIge3JldHVybiBub3JtMihkaWZmKHUsIHYpKTt9XG5cbiAgZnVuY3Rpb24gc2ltcGxpZnlEUCh0b2w6IG51bWJlciwgdjogbnVtYmVyW11bXSxcbiAgICBqOiBudW1iZXIsIGs6IG51bWJlciwgbWs6IG51bWJlcltdKSB7XG4gICAgLypcbiAgICBUaGlzIGlzIHRoZSBEb3VnbGFzLVBldWNrZXIgcmVjdXJzaXZlIHNpbXBsaWZpY2F0aW9uIHJvdXRpbmVcbiAgICBJdCBqdXN0IG1hcmtzIHZlcnRpY2VzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIHNpbXBsaWZpZWQgcG9seWxpbmVcbiAgICBmb3IgYXBwcm94aW1hdGluZyB0aGUgcG9seWxpbmUgc3ViY2hhaW4gdltqXSB0byB2W2tdLlxuICAgIG1rW10gLi4uIGFycmF5IG9mIG1hcmtlcnMgbWF0Y2hpbmcgdmVydGV4IGFycmF5IHZbXVxuICAgICovXG4gICAgaWYgKGsgPD0gaiArIDEpIHsgLy8gdGhlcmUgaXMgbm90aGluZyB0byBzaW1wbGlmeVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBjaGVjayBmb3IgYWRlcXVhdGUgYXBwcm94aW1hdGlvbiBieSBzZWdtZW50IFMgZnJvbSB2W2pdIHRvIHZba11cbiAgICBsZXQgbWF4aSA9IGo7IC8vIGluZGV4IG9mIHZlcnRleCBmYXJ0aGVzdCBmcm9tIFNcbiAgICBsZXQgbWF4ZDIgPSAwOyAvLyBkaXN0YW5jZSBzcXVhcmVkIG9mIGZhcnRoZXN0IHZlcnRleFxuICAgIGNvbnN0IHRvbDIgPSB0b2wgKiB0b2w7IC8vIHRvbGVyYW5jZSBzcXVhcmVkXG4gICAgY29uc3QgUzogbnVtYmVyW11bXSA9IFt2W2pdLCB2W2tdXTsgLy8gc2VnbWVudCBmcm9tIHZbal0gdG8gdltrXVxuICAgIGNvbnN0IHU6IG51bWJlcltdID0gZGlmZihTWzFdLCBTWzBdKTsgLy8gc2VnbWVudCBkaXJlY3Rpb24gdmVjdG9yXG4gICAgY29uc3QgY3U6IG51bWJlciA9IG5vcm0yKHUpOyAvLyBzZWdtZW50IGxlbmd0aCBzcXVhcmVkXG4gICAgLypcbiAgICB0ZXN0IGVhY2ggdmVydGV4IHZbaV0gZm9yIG1heCBkaXN0YW5jZSBmcm9tIFNcbiAgICBjb21wdXRlIHVzaW5nIHRoZSBGZWIgMjAwMSBBbGdvcml0aG0ncyBkaXN0X1BvaW50X3RvX1NlZ21lbnQoKVxuICAgIE5vdGU6IHRoaXMgd29ya3MgaW4gYW55IGRpbWVuc2lvbiAoMkQsIDNELCAuLi4pXG4gICAgKi9cbiAgICBsZXQgdzogbnVtYmVyW107IC8vIHZlY3RvclxuICAgIGxldCBwYjogbnVtYmVyW107IC8vIHBvaW50LCBiYXNlIG9mIHBlcnBlbmRpY3VsYXIgZnJvbSB2W2ldIHRvIFNcbiAgICBsZXQgYjogbnVtYmVyLCBjdzogbnVtYmVyLCBkdjI6IG51bWJlcjsgLy8gZHYyID0gZGlzdGFuY2UgdltpXSB0byBTIHNxdWFyZWRcbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSBqICsgMTsgaSA8IGs7IGkrKykge1xuICAgICAgLy8gY29tcHV0ZSBkaXN0YW5jZSBzcXVhcmVkXG4gICAgICB3ID0gZGlmZih2W2ldLCBTWzBdKTtcbiAgICAgIGN3ID0gZG90KHcsIHUpO1xuICAgICAgaWYgKGN3IDw9IDApIHtcbiAgICAgICAgZHYyID0gZDIodltpXSwgU1swXSk7XG4gICAgICB9IGVsc2UgaWYgKGN1IDw9IGN3KSB7XG4gICAgICAgIGR2MiA9IGQyKHZbaV0sIFNbMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYiA9IGN3IC8gY3U7XG4gICAgICAgIHBiID0gW1NbMF1bMF0gKyBiICogdVswXSwgU1swXVsxXSArIGIgKiB1WzFdXTtcbiAgICAgICAgZHYyID0gZDIodltpXSwgcGIpO1xuICAgICAgfVxuICAgICAgLy8gdGVzdCB3aXRoIGN1cnJlbnQgbWF4IGRpc3RhbmNlIHNxdWFyZWRcbiAgICAgIGlmIChkdjIgPD0gbWF4ZDIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyB2W2ldIGlzIGEgbmV3IG1heCB2ZXJ0ZXhcbiAgICAgIG1heGkgPSBpO1xuICAgICAgbWF4ZDIgPSBkdjI7XG4gICAgfVxuICAgIGlmIChtYXhkMiA+IHRvbDIpIHsgLy8gZXJyb3IgaXMgd29yc2UgdGhhbiB0aGUgdG9sZXJhbmNlXG4gICAgICAvLyBzcGxpdCB0aGUgcG9seWxpbmUgYXQgdGhlIGZhcnRoZXN0IHZlcnRleCBmcm9tIFNcbiAgICAgIG1rW21heGldID0gMTsgLy8gbWFyayB2W21heGldIGZvciB0aGUgc2ltcGxpZmllZCBwb2x5bGluZVxuICAgICAgLy8gcmVjdXJzaXZlbHkgc2ltcGxpZnkgdGhlIHR3byBzdWJwb2x5bGluZXMgYXQgdlttYXhpXVxuICAgICAgc2ltcGxpZnlEUCh0b2wsIHYsIGosIG1heGksIG1rKTsgLy8gcG9seWxpbmUgdltqXSB0byB2W21heGldXG4gICAgICBzaW1wbGlmeURQKHRvbCwgdiwgbWF4aSwgaywgbWspOyAvLyBwb2x5bGluZSB2W21heGldIHRvIHZba11cbiAgICB9XG4gICAgLy8gZWxzZSB0aGUgYXBwcm94aW1hdGlvbiBpcyBPSywgc28gaWdub3JlIGludGVybWVkaWF0ZSB2ZXJ0aWNlc1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG4gPSBWLmxlbmd0aDtcbiAgY29uc3Qgc1Y6IG51bWJlcltdW10gPSBbXTtcbiAgbGV0IGk6IG51bWJlciwgazogbnVtYmVyLCBtOiBudW1iZXIsIHB2OiBudW1iZXI7IC8vIG1pc2MgY291bnRlcnNcbiAgY29uc3QgdG9sMjogbnVtYmVyID0gdG9sICogdG9sOyAvLyB0b2xlcmFuY2Ugc3F1YXJlZFxuICBjb25zdCB2dDogbnVtYmVyW11bXSA9IFtdOyAvLyB2ZXJ0ZXggYnVmZmVyLCBwb2ludHNcbiAgY29uc3QgbWs6IG51bWJlcltdID0gW107IC8vIG1hcmtlciBidWZmZXIsIGludHNcblxuICAvLyBTVEFHRSAxLiBWZXJ0ZXggUmVkdWN0aW9uIHdpdGhpbiB0b2xlcmFuY2Ugb2YgcHJpb3IgdmVydGV4IGNsdXN0ZXJcbiAgdnRbMF0gPSBWWzBdOyAvLyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nXG4gIGZvciAoaSA9IGsgPSAxLCBwdiA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICBpZiAoZDIoVltpXSwgVltwdl0pIDwgdG9sMikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZ0W2srK10gPSBWW2ldO1xuICAgIHB2ID0gaTtcbiAgfVxuICBpZiAocHYgPCBuIC0gMSkge1xuICAgIHZ0W2srK10gPSBWW24gLSAxXTsgLy8gZmluaXNoIGF0IHRoZSBlbmRcbiAgfVxuXG4gIC8vIFNUQUdFIDIuICBEb3VnbGFzLVBldWNrZXIgcG9seWxpbmUgc2ltcGxpZmljYXRpb25cbiAgbWtbMF0gPSBta1trIC0gMV0gPSAxOyAvLyBtYXJrIHRoZSBmaXJzdCBhbmQgbGFzdCB2ZXJ0aWNlc1xuICBzaW1wbGlmeURQKHRvbCwgdnQsIDAsIGsgLSAxLCBtayk7XG5cbiAgLy8gY29weSBtYXJrZWQgdmVydGljZXMgdG8gdGhlIG91dHB1dCBzaW1wbGlmaWVkIHBvbHlsaW5lXG4gIGZvciAoaSA9IG0gPSAwOyBpIDwgazsgaSsrKSB7XG4gICAgaWYgKG1rW2ldKSB7XG4gICAgICBzVlttKytdID0gdnRbaV07XG4gICAgfVxuICB9XG4gIHJldHVybiBzVjtcbn1cblxuLyoqXG4gKiBDbGVhbiB3cmFwcGVyIG1ldGhvZCB0byB1c2UgUkRQIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2ltcGxpZnlMaW5lcyhsaW5lczogbnVtYmVyW11bXVtdLFxuICB0b2xlcmFuY2U/OiBudW1iZXIpOiBudW1iZXJbXVtdW10ge1xuICBjb25zdCByZXN1bHQ6IG51bWJlcltdW11bXSA9IFtdO1xuICBsZXQgdG9sID0gMi4wO1xuICBpZiAodG9sZXJhbmNlKSB7XG4gICAgdG9sID0gdG9sZXJhbmNlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQucHVzaChzaW1wbGlmeUxpbmUobGluZXNbaV0sIHRvbCkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydCBmcm9tIHBvbHlsaW5lcyB0byBzdHJva2UtNSBmb3JtYXQgdGhhdCBza2V0Y2gtcm5uIHVzZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVzVG9TdHJva2VzKHJhd0RhdGE6IG51bWJlcltdW11bXSk6IG51bWJlcltdW10ge1xuICBsZXQgeDogbnVtYmVyLCB5OiBudW1iZXI7XG4gIGxldCBweCA9IDAsIHB5ID0gMDtcbiAgbGV0IGR4OiBudW1iZXIsIGR5OiBudW1iZXI7XG4gIGxldCBwb246IG51bWJlciwgcG9mZjogbnVtYmVyO1xuICBjb25zdCBzdHJva2U6IG51bWJlcltdW10gPSBbXTtcbiAgbGV0IGk6IG51bWJlciwgajogbnVtYmVyO1xuICBsZXQgbGVuOiBudW1iZXI7XG4gIGxldCBwOiBudW1iZXJbXTtcbiAgZm9yIChpID0gMDsgaSA8IHJhd0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBsZW4gPSByYXdEYXRhW2ldLmxlbmd0aDtcbiAgICBpZiAobGVuID4gMSkge1xuICAgICAgZm9yIChqID0gMDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIHAgPSByYXdEYXRhW2ldW2pdO1xuICAgICAgICB4ID0gcFswXTtcbiAgICAgICAgeSA9IHBbMV07XG4gICAgICAgIGlmIChqID09PSBsZW4gLSAxKSB7XG4gICAgICAgICAgcG9mZiA9IDE7XG4gICAgICAgICAgcG9uID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb2ZmID0gMDtcbiAgICAgICAgICBwb24gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0geCAtIHB4O1xuICAgICAgICBkeSA9IHkgLSBweTtcbiAgICAgICAgcHggPSB4O1xuICAgICAgICBweSA9IHk7XG4gICAgICAgIHN0cm9rZS5wdXNoKFtkeCwgZHksIHBvbiwgcG9mZiwgMF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzdHJva2UucHVzaChbMCwgMCwgMCwgMCwgMV0pO1xuICByZXR1cm4gc3Ryb2tlLnNsaWNlKDEpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgdG8gc3Ryb2tlLTUgZm9ybWF0IHRvIHBvbHlsaW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lVG9TdHJva2UobGluZTogbnVtYmVyW11bXSxcbiAgbGFzdFBvaW50OiBudW1iZXJbXSk6IG51bWJlcltdW10ge1xuICBsZXQgcG9uOiBudW1iZXIsIHBvZmY6IG51bWJlcjtcbiAgY29uc3Qgc3Ryb2tlOiBudW1iZXJbXVtdID0gW107XG4gIGxldCBsZW46IG51bWJlcjtcbiAgbGV0IHA6IG51bWJlcltdO1xuICBsZXQgZHg6IG51bWJlciwgZHk6IG51bWJlcjtcbiAgbGV0IHg6IG51bWJlciwgeTogbnVtYmVyO1xuICBsZXQgcHg6IG51bWJlciwgcHk6IG51bWJlcjtcbiAgbGV0IGo6IG51bWJlcjtcbiAgcHggPSBsYXN0UG9pbnRbMF07XG4gIHB5ID0gbGFzdFBvaW50WzFdO1xuICBsZW4gPSBsaW5lLmxlbmd0aDtcbiAgaWYgKGxlbiA+IDEpIHtcbiAgICBmb3IgKGogPSAwOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIHAgPSBsaW5lW2pdO1xuICAgICAgeCA9IHBbMF07XG4gICAgICB5ID0gcFsxXTtcbiAgICAgIGlmIChqID09PSBsZW4gLSAxKSB7XG4gICAgICAgIHBvZmYgPSAxO1xuICAgICAgICBwb24gPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9mZiA9IDA7XG4gICAgICAgIHBvbiA9IDE7XG4gICAgICB9XG4gICAgICBkeCA9IHggLSBweDtcbiAgICAgIGR5ID0geSAtIHB5O1xuICAgICAgcHggPSB4O1xuICAgICAgcHkgPSB5O1xuICAgICAgc3Ryb2tlLnB1c2goW2R4LCBkeSwgcG9uLCBwb2ZmLCAwXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHJva2U7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCAqIGFzIHRmIGZyb20gJ0B0ZW5zb3JmbG93L3RmanMnO1xuZXhwb3J0IHt0Zn07XG5cbmV4cG9ydCAqIGZyb20gJy4vc2tldGNoX3Jubic7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmV4cG9ydCB7U2tldGNoUk5OfSBmcm9tICcuL21vZGVsJztcbiIsIi8qKlxuICogQ29yZSBpbXBsZW1lbnRhdGlvbiBmb3IgUk5OLWJhc2VkIE1hZ2VudGEgc2tldGNoIG1vZGVscyBzdWNoIGFzIFNrZXRjaFJOTi5cbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogSW1wb3J0c1xuICovXG5pbXBvcnQgKiBhcyB0ZiBmcm9tICdAdGVuc29yZmxvdy90ZmpzLWNvcmUnO1xuaW1wb3J0ICogYXMgdGZsIGZyb20gJ0B0ZW5zb3JmbG93L3RmanMtbGF5ZXJzJztcbi8vaW1wb3J0ICogYXMgdGZjIGZyb20gJ0B0ZW5zb3JmbG93L3RmanMtY29udmVydGVyJztcbmltcG9ydCAqIGFzIHN1cHBvcnQgZnJvbSAnLi4vY29yZS9za2V0Y2hfc3VwcG9ydCc7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBKU09OIHNwZWNpZmljYXRpb24gb2YgYSBgTXVzaWNWQUVgIG1vZGVsLlxuICpcbiAqIEBwcm9wZXJ0eSBtYXhfc2VxX2xlbjogTW9kZWwgdHJhaW5lZCBvbiBkYXRhc2V0IHcvIHRoaXMgbWF4IHNlcXVlbmNlIGxlbmd0aC5cbiAqIEBwcm9wZXJ0eSBtb2RlOiBQcmUtdHJhaW5lZCBtb2RlbHMgaGF2ZSB0aGlzIHBhcmFtZXRlciBmb3IgbGVnYWN5IHJlYXNvbnMuXG4gKiAwIGZvciBWQUUsIDEgZm9yIERlY29kZXIgb25seS4gVGhpcyBtb2RlbCBpcyBEZWNvZGVyIG9ubHkgKG5vdCB1c2VkKS5cbiAqIEBwcm9wZXJ0eSBuYW1lOiBRdWlja0RyYXcgbmFtZSwgbGlrZSBjYXQsIGRvZywgZWxlcGhhbnQsIGV0Y1xuICogQHByb3BlcnR5IHNjYWxlX2ZhY3RvcjogdGhlIGZhY3RvciB0byBjb252ZXJ0IGZyb20gbmV1cmFsLW5ldHdvcmsgc3BhY2UgdG9cbiAqIHBpeGVsIHNwYWNlLiBNb3N0IHByZS10cmFpbmVkIG1vZGVscyBoYXZlIHRoaXMgbnVtYmVyIGJldHdlZW4gODAtMTIwXG4gKiBAcHJvcGVydHkgdmVyc2lvbjogUHJlLXRyYWluZWQgbW9kZWxzIGhhdmUgYSB2ZXJzaW9uIGJldHdlZW4gMS02LCBmb3JcbiAqIHRoZSBwdXJwb3NlIG9mIGV4cGVyaW1lbnRhbCByZXNlYXJjaCBsb2cuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2tldGNoUk5OSW5mbyB7XG4gIG1heF9zZXFfbGVuOiBudW1iZXI7XG4gIG1vZGU6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBzY2FsZV9mYWN0b3I6IG51bWJlcjtcbiAgdmVyc2lvbjogbnVtYmVyO1xufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3Igc3BlY2lmaWNhdGlvbiBvZiB0aGUgUHJvYmFiaWxpdHkgRGlzdHJpYnV0aW9uIEZ1bmN0aW9uXG4gKiBvZiBhIHBlbiBzdHJva2UuXG4gKiBcbiAqIFBsZWFzZSByZWZlciB0byBcIkEgTmV1cmFsIFJlcHJlc2VudGF0aW9uIG9mIFNrZXRjaCBEcmF3aW5nc1wiXG4gKiBodHRwczovL2FyeGl2Lm9yZy9hYnMvMTcwNC4wMzQ3N1xuICogXG4gKiBJbiBFcS4zIGlzIGFuIGV4cGxhbmF0aW9uIG9mIGFsbCBvZiB0aGVzZSBwYXJhbWV0ZXJzLlxuICogXG4gKiBCZWxvdyBpcyBhIGJyaWVmIGRlc2NyaXB0aW9uOlxuICogXG4gKiBAcHJvcGVydHkgcGk6IGNhdGVnb3JpYWwgZGlzdHJpYnV0aW9uIGZvciBtaXh0dXJlIG9mIEdhdXNzaWFuXG4gKiBAcHJvcGVydHkgbXVYOiBtZWFuIGZvciB4LWF4aXNcbiAqIEBwcm9wZXJ0eSBtdVk6IG1lYW4gZm9yIHktYXhpc1xuICogQHByb3BlcnR5IHNpZ21hWDogc3RhbmRhcmQgZGV2aWF0aW9uIG9mIHgtYXhpc1xuICogQHByb3BlcnR5IHNpZ21hWTogc3RhbmRhcmQgZGV2aWF0aW9uIG9mIHktYXhpc1xuICogQHByb3BlcnR5IGNvcnI6IGNvcnJlbGF0aW9uIHBhcmFtZXRlciBiZXR3ZWVuIHggYW5kIHlcbiAqIEBwcm9wZXJ0eSBwZW46IGNhdGVnb3JpY2FsIGRpc3RyaWJ1dGlvbiBmb3IgdGhlIDMgcGVuIHN0YXRlc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cm9rZVBERiB7XG4gIHBpOiBGbG9hdDMyQXJyYXk7XG4gIG11WDogRmxvYXQzMkFycmF5O1xuICBtdVk6IEZsb2F0MzJBcnJheTtcbiAgc2lnbWFYOiBGbG9hdDMyQXJyYXk7XG4gIHNpZ21hWTogRmxvYXQzMkFycmF5O1xuICBjb3JyOiBGbG9hdDMyQXJyYXk7XG4gIHBlbjogRmxvYXQzMkFycmF5O1xufVxuXG4vKipcbiAqIFN0YXRlcyBvZiB0aGUgTFNUTSBDZWxsXG4gKiBcbiAqIExvbmctU2hvcnQgVGVybSBNZW1vcnk6IGZ0cDovL2Z0cC5pZHNpYS5jaC9wdWIvanVlcmdlbi9sc3RtLnBkZlxuICogXG4gKiBAcHJvcGVydHkgYzogbWVtb3J5IFwiY2VsbFwiIG9mIHRoZSBMU1RNLlxuICogQHByb3BlcnR5IGg6IGhpZGRlbiBzdGF0ZSAoYWxzbyB0aGUgb3V0cHV0KSBvZiB0aGUgTFNUTS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMU1RNU3RhdGUge1xuICBjOiBGbG9hdDMyQXJyYXk7XG4gIGg6IEZsb2F0MzJBcnJheTtcbn1cblxuLyoqXG4gKiBNYWluIFNrZXRjaFJOTiBtb2RlbCBjbGFzcy5cbiAqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBkZWNvZGVyIG1vZGVsIGluIGh0dHBzOi8vYXJ4aXYub3JnL2Ficy8xNzA0LjAzNDc3XG4gKiBcbiAqIFRPRE8oaGFyZG1hcnUpOiBtYWtlIGEgXCJiYXRjaFwiIGNvbnRpbnVlU2VxdWVuY2UtbGlrZSBtZXRob2RcbiAqIHRoYXQgcnVucyBmdWxseSBvbiBHUFUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTa2V0Y2hSTk4ge1xuICBwcml2YXRlIGNoZWNrcG9pbnRVUkw6IHN0cmluZztcbiAgcHJpdmF0ZSBpbml0aWFsaXplZDogYm9vbGVhbjtcblxuICBwdWJsaWMgaW5mbzogU2tldGNoUk5OSW5mbztcbiAgcHVibGljIG51bVVuaXRzOiBudW1iZXI7XG5cbiAgcHVibGljIHBpeGVsRmFjdG9yOiBudW1iZXI7XG4gIHB1YmxpYyBzY2FsZUZhY3RvcjogbnVtYmVyO1xuXG4gIHB1YmxpYyBpbWdBcnJheTogdGYuVGVuc29yO1xuXG4gIHB1YmxpYyBlbmNvZGVyOiB0ZmwuTGF5ZXJzTW9kZWw7XG4gIHB1YmxpYyBkZWNvZGVyOiB0ZmwuTGF5ZXJzTW9kZWw7XG4gIHB1YmxpYyBpbnB1dF90b19lbWJlZF9kZW5zZTogdGZsLkxheWVyc01vZGVsO1xuXG4gIHB1YmxpYyB3cV9kZW5zZTogdGZsLkxheWVyc01vZGVsW10gPSBuZXcgQXJyYXkoNCk7XG4gIHB1YmxpYyB3a19kZW5zZTogdGZsLkxheWVyc01vZGVsW10gPSBuZXcgQXJyYXkoNCk7XG4gIHB1YmxpYyB3dl9kZW5zZTogdGZsLkxheWVyc01vZGVsW10gPSBuZXcgQXJyYXkoNCk7XG4gIHB1YmxpYyBjb25jYXRfYXR0ZW50aW9uX3RvX2RlY29kZXJfb3V0cHV0OiB0ZmwuTGF5ZXJzTW9kZWxbXSA9IG5ldyBBcnJheSg0KTtcblxuXG4gIC8vcHVibGljIHpfdG9faW5pdDogdGZsLkxheWVyc01vZGVsO1xuICBwdWJsaWMgb3V0cHV0X21vZGVsOiB0ZmwuTGF5ZXJzTW9kZWw7XG5cblxuXG5cbiAgcHVibGljIGxhdGVudFo6IHRmLlRlbnNvcjtcbiAgcHJpdmF0ZSBOTUlYVFVSRSA9IDIwO1xuICBwdWJsaWMgZm9yZ2V0QmlhczogdGYuU2NhbGFyO1xuICAgLy8gcmF3IHdlaWdodHMgYW5kIGRpbWVuc2lvbnMgZGlyZWN0bHkgZnJvbSBKU09OXG4gIHB1YmxpYyB3ZWlnaHRzOiBGbG9hdDMyQXJyYXlbXTtcbiAgcHVibGljIHdlaWdodERpbXM6IG51bWJlcltdW107XG4gIC8vIFRlbnNvckZsb3cuanMgd2VpZ2h0IG1hdHJpY2VzXG4gIHB1YmxpYyBvdXRwdXRLZXJuZWw6IHRmLlRlbnNvcjJEO1xuICBwdWJsaWMgb3V0cHV0QmlhczogdGYuVGVuc29yMUQ7XG4gIHB1YmxpYyBsc3RtS2VybmVsOiB0Zi5UZW5zb3IyRDtcbiAgcHVibGljIGxzdG1CaWFzOiB0Zi5UZW5zb3IxRDtcbiAgcHVibGljIHJhd1ZhcnM6IHRmbC5MYXllcnNNb2RlbDtcbiAgLyoqZlxuICAgKiBgU2tldGNoUk5OYCBjb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogQHBhcmFtIGNoZWNrcG9pbnRVUkwgUGF0aCB0byB0aGUgY2hlY2twb2ludCBkaXJlY3RvcnkuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjaGVja3BvaW50VVJMOiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZygnY29uc3RydWN0IG1vZGVsJyk7XG4gICAgdGhpcy5jaGVja3BvaW50VVJMID0gY2hlY2twb2ludFVSTDtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgY29uc29sZS5sb2codGhpcy5jaGVja3BvaW50VVJMKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgbW9kZWwgaXMgaW50aWFsaXplZC5cbiAgICovXG4gIGlzSW5pdGlhbGl6ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZWQ7XG4gIH1cblxuICAvKipcbiAgICogSW5zdGFudGlhdGVzIGNsYXNzIGluZm9ybWF0aW9uIGlucHV0cyBmcm9tIHRoZSBKU09OIG1vZGVsLlxuICAgKiBUT0RPKGhhcmRtYXJ1KTogdG8gYWRkIHN1cHBvcnQgZm9yIG5ldyB0ZmpzIGNoZWNrcG9pbnRzLlxuICAgKi9cbiAgcHJpdmF0ZSBpbnN0YW50aWF0ZUZyb21KU09OKGluZm86IFNrZXRjaFJOTkluZm8pIHtcblxuICAgIHRoaXMuaW5mbyA9IGluZm87XG4gICAgdGhpcy5zZXRQaXhlbEZhY3RvcigyLjApO1xuXG4gIH1cbiAgXG5cblxuXG5cbiAgLyoqXG4gICAqIExvYWRzIHZhcmlhYmxlcyBmcm9tIHRoZSBKU09OIG1vZGVsXG4gICAqL1xuICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuY2hlY2twb2ludFVSTCk7IFxuICAgIGNvbnN0IHZhcnMgPSBhd2FpdCBmZXRjaCh0aGlzLmNoZWNrcG9pbnRVUkwuY29uY2F0KCcvSW5mby5qc29uJykpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSk7XG5cblxuXG5cblxuICAgIHRoaXMuaW5zdGFudGlhdGVGcm9tSlNPTih2YXJzWzBdKTtcbiAgICB0aGlzLmVuY29kZXIgPSBhd2FpdCB0ZmwubG9hZExheWVyc01vZGVsKHRoaXMuY2hlY2twb2ludFVSTC5jb25jYXQoJy9lbmNvZGVyX21vZGVsX3dpdGhvdXRfaGlnaHBhc3MvbW9kZWwuanNvbicpKTtcbiAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgZW5jb2RlciEhIScpO1xuXG4gICAgdGhpcy5vdXRwdXRfbW9kZWwgPSBhd2FpdCB0ZmwubG9hZExheWVyc01vZGVsKHRoaXMuY2hlY2twb2ludFVSTC5jb25jYXQoJy9vdXRwdXRfbW9kZWwvbW9kZWwuanNvbicpKTtcbiAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgb3V0cHV0X21vZGVsJyk7XG4gICAgXG4gICAgdGhpcy5pbnB1dF90b19lbWJlZF9kZW5zZSA9IGF3YWl0IHRmbC5sb2FkTGF5ZXJzTW9kZWwodGhpcy5jaGVja3BvaW50VVJMLmNvbmNhdCgnL2lucHV0X3RvX2VtYmVkX2RlbnNlL21vZGVsLmpzb24nKSk7XG4gICAgY29uc29sZS5sb2coJ0luaXRpYWxpemVkIGlucHV0X3RvX2VtYmVkX2RlbnNlJyk7XG5cbiAgICBcbiAgICBcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkgKyspe1xuICAgICAgdGhpcy53cV9kZW5zZVtpXSA9IGF3YWl0IHRmbC5sb2FkTGF5ZXJzTW9kZWwodGhpcy5jaGVja3BvaW50VVJMKycvd3FfZGVuc2VfJytpKycvbW9kZWwuanNvbicpO1xuICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemVkIHdxX2RlbnNlXycraSk7XG5cbiAgICAgIHRoaXMud2tfZGVuc2VbaV0gPSBhd2FpdCB0ZmwubG9hZExheWVyc01vZGVsKHRoaXMuY2hlY2twb2ludFVSTCsnL3drX2RlbnNlXycraSsnL21vZGVsLmpzb24nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXplZCB3a19kZW5zZV8nK2kpO1xuXG4gICAgICB0aGlzLnd2X2RlbnNlW2ldID0gYXdhaXQgdGZsLmxvYWRMYXllcnNNb2RlbCh0aGlzLmNoZWNrcG9pbnRVUkwrJy93dl9kZW5zZV8nK2krJy9tb2RlbC5qc29uJyk7XG4gICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgd3ZfZGVuc2VfJytpKTtcblxuICAgICAgdGhpcy5jb25jYXRfYXR0ZW50aW9uX3RvX2RlY29kZXJfb3V0cHV0W2ldID0gYXdhaXQgdGZsLmxvYWRMYXllcnNNb2RlbCh0aGlzLmNoZWNrcG9pbnRVUkwrJy9jb25jYXRfYXR0ZW50aW9uX3RvX2RlY29kZXJfb3V0cHV0XycraSsnX21vZGVsL21vZGVsLmpzb24nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXplZCBjb25jYXRfYXR0ZW50aW9uX3RvX2RlY29kZXJfb3V0cHV0XycraSk7XG4gICAgfVxuICAgXG5cbiAgIFxuXG5cbiAgICAvL3ZhciBsc3RtID0gdGhpcy5kZWNvZGVyLmdldExheWVyKCdsc3RtJyk7XG5cbiAgICBcbiAgICAvL3RoaXMubnVtVW5pdHMgPSBsc3RtLmdldFdlaWdodHMoKVsxXS5zaGFwZVswXTsgLy8gc2l6ZSBvZiBMU1RNXG4gIFxuICAgIHZhciBpbWdEYXRhUmVxID0gYXdhaXQgZmV0Y2godGhpcy5jaGVja3BvaW50VVJMLmNvbmNhdCgnL2ltYWdlLzAuanNvbicpKTtcbiAgICB0aGlzLmltZ0FycmF5ID0gYXdhaXQgaW1nRGF0YVJlcS5qc29uKCk7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgdmFyIGE6IGFueVtdID0gQXJyYXkuZnJvbShbMSwyLDNdKTtcbiAgICBjb25zb2xlLmxvZyhhKTtcbiAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgU2tldGNoUk5OLicpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVyKSB7XG4gICAgICB0aGlzLmVuY29kZXIuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5lbmNvZGVyID0gdW5kZWZpbmVkO1xuICAgICAgY29uc29sZS5sb2coJ2Rpc3Bvc2VkIGVuY29kZXIuJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3V0cHV0X21vZGVsKSB7XG4gICAgICAgdGhpcy5vdXRwdXRfbW9kZWwuZGlzcG9zZSgpO1xuICAgICAgIHRoaXMub3V0cHV0X21vZGVsID0gdW5kZWZpbmVkO1xuICAgICAgIGNvbnNvbGUubG9nKCdkaXNwb3NlZCBvdXRwdXRfbW9kZWwnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbnB1dF90b19lbWJlZF9kZW5zZSkge1xuICAgICAgIHRoaXMuaW5wdXRfdG9fZW1iZWRfZGVuc2UuZGlzcG9zZSgpO1xuICAgICAgIHRoaXMuaW5wdXRfdG9fZW1iZWRfZGVuc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgY29uc29sZS5sb2coJ2Rpc3Bvc2VkIGlucHV0X3RvX2VtYmVkX2RlbnNlJyk7XG4gICAgfVxuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSArKyl7XG4gICAgICBpZiAodGhpcy53cV9kZW5zZVtpXSkge1xuICAgICAgIHRoaXMud3FfZGVuc2VbaV0uZGlzcG9zZSgpO1xuICAgICAgIHRoaXMud3FfZGVuc2VbaV0gPSB1bmRlZmluZWQ7XG4gICAgICAgY29uc29sZS5sb2coJ2Rpc3Bvc2VkIHdxX2RlbnNlXycraSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy53a19kZW5zZVtpXSkge1xuICAgICAgIHRoaXMud2tfZGVuc2VbaV0uZGlzcG9zZSgpO1xuICAgICAgIHRoaXMud2tfZGVuc2VbaV0gPSB1bmRlZmluZWQ7XG4gICAgICAgY29uc29sZS5sb2coJ2Rpc3Bvc2VkIHdrX2RlbnNlXycraSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy53dl9kZW5zZVtpXSkge1xuICAgICAgIHRoaXMud3ZfZGVuc2VbaV0uZGlzcG9zZSgpO1xuICAgICAgIHRoaXMud3ZfZGVuc2VbaV0gPSB1bmRlZmluZWQ7XG4gICAgICAgY29uc29sZS5sb2coJ2Rpc3Bvc2VkIHd2X2RlbnNlXycraSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jb25jYXRfYXR0ZW50aW9uX3RvX2RlY29kZXJfb3V0cHV0W2ldKSB7XG4gICAgICAgdGhpcy5jb25jYXRfYXR0ZW50aW9uX3RvX2RlY29kZXJfb3V0cHV0W2ldLmRpc3Bvc2UoKTtcbiAgICAgICB0aGlzLmNvbmNhdF9hdHRlbnRpb25fdG9fZGVjb2Rlcl9vdXRwdXRbaV0gPSB1bmRlZmluZWQ7XG4gICAgICAgY29uc29sZS5sb2coJ2Rpc3Bvc2VkIGNvbmNhdF9hdHRlbnRpb25fdG9fZGVjb2Rlcl9vdXRwdXRfJytpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICB9XG5cbiAvKipcbiAgICogU2V0cyB0aGUgaW50ZXJuYWwgRVhUUkEgZmFjdG9yIG9mIHRoaXMgbW9kZWwgKHBpeGVsIHRvIG1vZGVsIHNwYWNlKVxuICAgKlxuICAgKiBAcGFyYW0gc2NhbGUgKHRoZSBleHRyYSBzY2FsZSBmYWN0b3IgZm9yIHBpeGVsIHRvIG1vZGVsIHNwYWNlKVxuICAgKlxuICAgKiBAcmV0dXJucyBub3RoaW5nXG4gICAqL1xuICBzZXRQaXhlbEZhY3RvcihzY2FsZTogbnVtYmVyKSB7XG4gICAgLy8gZm9yIGJlc3QgZWZmZWN0LCBzZXQgdG8gMS4wIGZvciBkMyBvciBwYXBlci5qcywgMi4wIGZvciBwNS5qc1xuICAgIHRoaXMucGl4ZWxGYWN0b3IgPSBzY2FsZTtcbiAgICB0aGlzLnNjYWxlRmFjdG9yID0gdGhpcy5pbmZvLnNjYWxlX2ZhY3RvciAvIHRoaXMucGl4ZWxGYWN0b3I7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB6ZXJvL2luaXRpYWwgc3RhdGUgb2YgdGhlIG1vZGVsXG4gICAqXG4gICAqIEByZXR1cm5zIHplcm8gc3RhdGUgb2YgdGhlIGxzdG06IFtjLCBoXSwgd2hlcmUgYyBhbmQgaCBhcmUgemVybyB2ZWN0b3JzLlxuICAgKi9cbiAgemVyb1N0YXRlKCkge1xuICAgIGNvbnN0IHJlc3VsdDpMU1RNU3RhdGUgPSB7XG4gICAgICBjOiBuZXcgRmxvYXQzMkFycmF5KHRoaXMubnVtVW5pdHMpLFxuICAgICAgaDogbmV3IEZsb2F0MzJBcnJheSh0aGlzLm51bVVuaXRzKVxuICAgIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuIFxuICAvKipcbiAgICogR2l2ZW4gdGhlIFJOTiBzdGF0ZSwgcmV0dXJucyB0aGUgcHJvYmFiaWxpdHkgZGlzdHJpYnV0aW9uIGZ1bmN0aW9uIChwZGYpXG4gICAqIG9mIHRoZSBuZXh0IHN0cm9rZS4gT3B0aW9uYWxseSBhZGp1c3QgdGhlIHRlbXBlcmF0dXJlIG9mIHRoZSBwZGYgaGVyZS5cbiAgICpcbiAgICogQHBhcmFtIHN0YXRlIHByZXZpb3VzIExTVE1TdGF0ZS5cbiAgICogQHBhcmFtIHRlbXBlcmF0dXJlIChPcHRpb25hbCkgZm9yIGR4IGFuZCBkeSAoZGVmYXVsdCAwLjY1KVxuICAgKiBAcGFyYW0gc29mdG1heFRlbXBlcmF0dXJlIChPcHRpb25hbCkgZm9yIFBpIGFuZCBQZW4gZGlzY3JldGUgc3RhdGVzXG4gICAqIChkZWZhdWx0IGlzIHRlbXBlcmF0dXJlICogMC41ICsgMC41LCB3aGljaCBpcyBhIG5pY2UgaGV1cmlzdGljLilcbiAgICpcbiAgICogQHJldHVybnMgU3Ryb2tlUERGIChwaSwgbXVYLCBtdVksIHNpZ21hWCwgc2lnbWFZLCBjb3JyLCBwZW4pXG4gICAqL1xuICBnZXRQREYobG9naXQ6dGYuVGVuc29yLFxuICAgIHRlbXBlcmF0dXJlPTAuNjUsXG4gICAgc29mdG1heFRlbXBlcmF0dXJlPzogbnVtYmVyKSB7XG4gICAgY29uc3QgdGVtcCA9IHRlbXBlcmF0dXJlO1xuICAgIGxldCBkaXNjcmV0ZVRlbXA6IG51bWJlciA9IDAuNSArIHRlbXAgKiAwLjU7IC8vIGdvb2QgaGV1cmlzdGljLlxuICAgIGlmIChzb2Z0bWF4VGVtcGVyYXR1cmUpIHtcbiAgICAgIGRpc2NyZXRlVGVtcCA9IHNvZnRtYXhUZW1wZXJhdHVyZTtcbiAgICB9XG4gICAgY29uc3QgTk9VVCA9IHRoaXMuTk1JWFRVUkU7XG4gICAgY29uc3Qgb3V0ID0gdGYudGlkeSgoKSA9PiB7XG5cbiAgICAgIGNvbnN0IHNxcnR0ZW1wID0gdGYuc2NhbGFyKE1hdGguc3FydCh0ZW1wKSk7XG4gICAgICBjb25zdCBzb2Z0dGVtcCA9IHRmLnNjYWxhcihkaXNjcmV0ZVRlbXApO1xuXG4gICAgICBjb25zdCB6ID0gbG9naXQ7XG4gICAgICBjb25zdCBbcmF3UGVuLCByc3RdID0gdGYuc3BsaXQoeiwgWzMsIE5PVVQqNl0sIDEpO1xuICAgICAgY29uc3QgW3Jhd1BpLCBtdTEsIG11MiwgcmF3U2lnbWExLCByYXdTaWdtYTIsIHJhd0NvcnJdID0gdGYuc3BsaXQocnN0LCA2LCAxKTtcbiAgICAgIGNvbnN0IHBlbiA9IHRmLnNvZnRtYXgocmF3UGVuLmRpdihzb2Z0dGVtcCkpO1xuICAgICAgY29uc3QgcGkgPSB0Zi5zb2Z0bWF4KHJhd1BpLmRpdihzb2Z0dGVtcCkpO1xuICAgICAgY29uc3Qgc2lnbWExID0gdGYuZXhwKHJhd1NpZ21hMSkubXVsKHNxcnR0ZW1wKTtcbiAgICAgIGNvbnN0IHNpZ21hMiA9IHRmLmV4cChyYXdTaWdtYTIpLm11bChzcXJ0dGVtcCk7XG4gICAgICBjb25zdCBjb3JyID0gdGYudGFuaChyYXdDb3JyKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtwaSwgbXUxLCBtdTIsIHNpZ21hMSwgc2lnbWEyLCBjb3JyLCBwZW5dO1xuICAgICAgLy8gY29uY2F0LCBhbmQgdGhlbiB1bnBhY2sgYWZ0ZXIgZGF0YVN5bmNcbiAgICAgIHJldHVybiB0Zi5jb25jYXQocmVzdWx0LDEpO1xuICAgIH0pO1xuICAgIGNvbnN0IHJlc3VsdCA9IG91dC5kYXRhU3luYygpO1xuICAgIG91dC5kaXNwb3NlKCk7XG4gICAgY29uc3QgcGRmOlN0cm9rZVBERiA9IHsgLy8gbm90ZTogSlMgZG9lc24ndCBoYXZlIGEgbmljZSBcInNwbGl0XCIgbWV0aG9kLlxuICAgICAgcGk6IG5ldyBGbG9hdDMyQXJyYXkocmVzdWx0LnNsaWNlKDAsIE5PVVQpKSxcbiAgICAgIG11WDogbmV3IEZsb2F0MzJBcnJheShyZXN1bHQuc2xpY2UoMSpOT1VULCAyKk5PVVQpKSxcbiAgICAgIG11WTogbmV3IEZsb2F0MzJBcnJheShyZXN1bHQuc2xpY2UoMipOT1VULCAzKk5PVVQpKSxcbiAgICAgIHNpZ21hWDogbmV3IEZsb2F0MzJBcnJheShyZXN1bHQuc2xpY2UoMypOT1VULCA0Kk5PVVQpKSxcbiAgICAgIHNpZ21hWTogbmV3IEZsb2F0MzJBcnJheShyZXN1bHQuc2xpY2UoNCpOT1VULCAxNSpOT1VUKSksXG4gICAgICBjb3JyOiBuZXcgRmxvYXQzMkFycmF5KHJlc3VsdC5zbGljZSg1Kk5PVVQsIDYqTk9VVCkpLFxuICAgICAgcGVuOiBuZXcgRmxvYXQzMkFycmF5KHJlc3VsdC5zbGljZSg2Kk5PVVQsIDYqTk9VVCszKSlcbiAgICB9O1xuICAgIHJldHVybiBwZGY7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBjb3B5IG9mIHRoZSBybm4gc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHJublN0YXRlIG9yaWdpbmFsIExTVE1TdGF0ZVxuICAgKlxuICAgKiBAcmV0dXJucyBjb3B5IG9mIExTVE1TdGF0ZVxuICAgKi9cbiAgY29weVN0YXRlKHJublN0YXRlOiBMU1RNU3RhdGUpIHtcbiAgICBjb25zdCByZXN1bHQ6TFNUTVN0YXRlID0ge1xuICAgICAgYzogbmV3IEZsb2F0MzJBcnJheShybm5TdGF0ZS5jKSxcbiAgICAgIGg6IG5ldyBGbG9hdDMyQXJyYXkocm5uU3RhdGUuaClcbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgemVybyBpbnB1dCBzdGF0ZSBvZiB0aGUgbW9kZWxcbiAgICpcbiAgICogQHJldHVybnMgWzAsIDAsIDEsIDAsIDBdLlxuICAgKi9cbiAgemVyb0lucHV0KCkge1xuICAgIHJldHVybiBbMCwgMCwgMSwgMCwgMF07XG4gIH1cbiBcbiAgZ2V0Tk1JWFRVUkUoKSB7XG4gICAgcmV0dXJuIHRoaXMuTk1JWFRVUkU7XG59XG5cbiAgLyoqXG4gICAqIFNhbXBsZXMgdGhlIG5leHQgcG9pbnQgb2YgdGhlIHNrZXRjaCBnaXZlbiBwZGYgcGFyYW1ldGVyc1xuICAgKlxuICAgKiBAcGFyYW0gcGRmIHJlc3VsdCBmcm9tIGdldFBERigpIGNhbGxcbiAgICpcbiAgICogQHJldHVybnMgW2R4LCBkeSwgcGVuRG93biwgcGVuVXAsIHBlbkVuZF1cbiAgICovXG4gIHNhbXBsZShwZGY6IFN0cm9rZVBERikge1xuICAgIC8vIHBkZiBpcyBhIFN0cm9rZVBERiBJbnRlcmZhY2VcbiAgICAvLyByZXR1cm5zIFt4LCB5LCBlb3NdXG4gICAgY29uc29sZS5sb2cocGRmLnBpKTtcbiAgICBjb25zdCBpZHggPSBzdXBwb3J0LnNhbXBsZVNvZnRtYXgocGRmLnBpKTtcbiAgICBjb25zdCBtdTEgPSBwZGYubXVYW2lkeF07XG4gICAgY29uc3QgbXUyID0gcGRmLm11WVtpZHhdO1xuICAgIGNvbnN0IHNpZ21hMSA9IHBkZi5zaWdtYVhbaWR4XTtcbiAgICBjb25zdCBzaWdtYTIgPSBwZGYuc2lnbWFZW2lkeF07XG4gICAgY29uc3QgY29yciA9IHBkZi5jb3JyW2lkeF07XG4gICAgY29uc3QgcGVuSWR4ID0gc3VwcG9ydC5zYW1wbGVTb2Z0bWF4KHBkZi5wZW4pO1xuICAgIGNvbnN0IHBlbnN0YXRlID0gWzAsIDAsIDBdO1xuICAgIHBlbnN0YXRlW3BlbklkeF0gPSAxO1xuICAgIGNvbnN0IGRlbHRhID0gc3VwcG9ydC5iaXJhbmRuKG11MSwgbXUyLCBzaWdtYTEsIHNpZ21hMiwgY29ycik7XG4gICAgY29uc3Qgc3Ryb2tlID0gW1xuICAgICAgZGVsdGFbMF0gKiB0aGlzLnNjYWxlRmFjdG9yLFxuICAgICAgZGVsdGFbMV0gKiB0aGlzLnNjYWxlRmFjdG9yLFxuICAgICAgcGVuc3RhdGVbMF0sXG4gICAgICBwZW5zdGF0ZVsxXSxcbiAgICAgIHBlbnN0YXRlWzJdXG4gICAgXTtcbiAgICByZXR1cm4gc3Ryb2tlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbXBsaWZpZXMgbGluZSB1c2luZyBSRFAgYWxnb3JpdGhtXG4gICAqXG4gICAqIEBwYXJhbSBsaW5lIGxpc3Qgb2YgcG9pbnRzIFtbeDAsIHkwXSwgW3gxLCB5MV0sIC4uLl1cbiAgICogQHBhcmFtIHRvbGVyYW5jZSAoT3B0aW9uYWwpIGRlZmF1bHQgMi4wXG4gICAqXG4gICAqIEByZXR1cm5zIHNpbXBpZmllZCBsaW5lIFtbeDAnLCB5MCddLCBbeDEnLCB5MSddLCAuLi5dXG4gICAqL1xuICBzaW1wbGlmeUxpbmUobGluZTogbnVtYmVyW11bXSwgdG9sZXJhbmNlPzogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHN1cHBvcnQuc2ltcGxpZnlMaW5lKGxpbmUsIHRvbGVyYW5jZSk7XG4gIH1cblxuICAvKipcbiAgICogU2ltcGxpZmllcyBsaW5lcyB1c2luZyBSRFAgYWxnb3JpdGhtXG4gICAqXG4gICAqIEBwYXJhbSBsaW5lIGxpc3Qgb2YgbGluZXMgKGVhY2ggZWxlbWVudCBpcyBbW3gwLCB5MF0sIFt4MSwgeTFdLCAuLi5dKVxuICAgKiBAcGFyYW0gdG9sZXJhbmNlIChPcHRpb25hbCkgZGVmYXVsdCAyLjBcbiAgICpcbiAgICogQHJldHVybnMgc2ltcGlmaWVkIGxpbmVzIChlYWNoIGVsZW0gaXMgW1t4MCcsIHkwJ10sIFt4MScsIHkxJ10sIC4uLl0pXG4gICAqL1xuICBzaW1wbGlmeUxpbmVzKGxpbmVzOiBudW1iZXJbXVtdW10sIHRvbGVyYW5jZT86IG51bWJlcikge1xuICAgIHJldHVybiBzdXBwb3J0LnNpbXBsaWZ5TGluZXMobGluZXMsIHRvbGVyYW5jZSk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBmcm9tIHBvbHlsaW5lcyB0byBzdHJva2UtNSBmb3JtYXQgdGhhdCBza2V0Y2gtcm5uIHVzZXNcbiAgICpcbiAgICogQHBhcmFtIGxpbmVzIGxpc3Qgb2YgcG9pbnRzIGVhY2ggZWxlbSBpcyAoW1t4MCwgeTBdLCBbeDEsIHkxXSwgLi4uXSlcbiAgICpcbiAgICogQHJldHVybnMgc3Ryb2tlLTUgZm9ybWF0IG9mIHRoZSBsaW5lLCBsaXN0IG9mIFtkeCwgZHksIHAwLCBwMSwgcDJdXG4gICAqL1xuICBsaW5lc1RvU3Ryb2tlKGxpbmVzOiBudW1iZXJbXVtdW10pIHtcbiAgICByZXR1cm4gc3VwcG9ydC5saW5lc1RvU3Ryb2tlcyhsaW5lcyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBmcm9tIGEgbGluZSBmb3JtYXQgdG8gc3Ryb2tlLTVcbiAgICpcbiAgICogQHBhcmFtIGxpbmUgbGlzdCBvZiBwb2ludHMgW1t4MCwgeTBdLCBbeDEsIHkxXSwgLi4uXVxuICAgKiBAcGFyYW0gbGFzdFBvaW50IHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBwb2ludFxuICAgKlxuICAgKiBAcmV0dXJucyBzdHJva2UtNSBmb3JtYXQgb2YgdGhlIGxpbmUsIGxpc3Qgb2YgW2R4LCBkeSwgcDAsIHAxLCBwMl1cbiAgICovXG4gIGxpbmVUb1N0cm9rZShsaW5lOiBudW1iZXJbXVtdLCBsYXN0UG9pbnQ6IG51bWJlcltdKSB7XG4gICAgcmV0dXJuIHN1cHBvcnQubGluZVRvU3Ryb2tlKGxpbmUsIGxhc3RQb2ludCk7XG4gIH1cblxufVxuIiwiLyogKGlnbm9yZWQpICovIiwiLyogKGlnbm9yZWQpICovIiwiLyogKGlnbm9yZWQpICovIiwiLyogKGlnbm9yZWQpICovIiwiLyogKGlnbm9yZWQpICovIiwiLyogKGlnbm9yZWQpICovIl0sInNvdXJjZVJvb3QiOiIifQ==